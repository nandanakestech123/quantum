{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\LoyaltyPointsManagement\\\\CustomerPointsTable\\\\index.js\";\nimport React from \"react\";\nimport { InputSearch, NormalButton, NormalDate, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { getCustomerPoints } from \"redux/actions/customerPlus\";\nimport { bindActionCreators } from \"redux\";\nimport { dateFormat } from \"service/helperFunctions\";\nexport class CustomerPointsTableClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Date\",\n        sortKey: \"remarks\",\n        enabled: true\n      }, {\n        label: \"Transcation No\",\n        sortKey: \"transacno\"\n      }, {\n        label: \"Type\",\n        sortKey: \"type\",\n        enabled: true\n      }, {\n        label: \"Remarks\",\n        sortKey: \"remarks\",\n        enabled: true\n      }, {\n        label: \"Earn pts (+)\",\n        sortKey: \"earned\",\n        enabled: true\n      }, {\n        label: \"Used pts (-)\",\n        sortKey: \"used\",\n        enabled: true\n      }, {\n        label: \"Balance Pts\",\n        sortKey: \"now_point\",\n        enabled: true\n      }],\n      type: \"all\",\n      dataList: [],\n      originalDataList: [],\n      meta: {},\n      searchStartDate: \"\",\n      searchEndDate: \"\",\n      searchString: \"\",\n      isMounted: true,\n      isLoading: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handlePagination = async data => {\n      let {\n        page = 1\n      } = data;\n      let {\n        searchStartDate,\n        searchEndDate,\n        type,\n        searchString\n      } = this.state;\n      this.setState({\n        isLoading: true\n      });\n      let searchParams = `&search=${searchString}`;\n      if (type == \"redeem\" || type == \"reward\") searchParams += `&type=${type}`;\n\n      if (searchStartDate != \"\") {\n        let startdate = dateFormat(searchStartDate);\n        let endDate = dateFormat(searchEndDate == \"\" ? searchStartDate : searchEndDate);\n        searchParams += `&startDate=${startdate}&endDate=${endDate}`;\n      }\n\n      await this.props.getCustomerPoints(this.props.id, `?limit=10&page=${page}` + searchParams);\n      let {\n        PointList,\n        pagination\n      } = this.props.dataList;\n      PointList.forEach(e => {\n        if (e.lp_type == \"Reward\") {\n          e.earned = e.total_point;\n          e.used = \"\";\n        } else {\n          e.earned = \"\";\n          e.used = e.total_point;\n        }\n      });\n      this.updateState({\n        meta: pagination,\n        dataList: PointList,\n        originalDataList: PointList,\n        isLoading: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.state.searchEndDate = new Date();\n    let date = new Date();\n    date.setMonth(date.getMonth() - 3);\n    this.state.searchStartDate = date;\n    this.handlePagination({});\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      headerDetails,\n      dataList,\n      meta,\n      isLoading,\n      originalDataList,\n      searchStartDate,\n      searchEndDate,\n      type\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, t(\"Customer Points\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Add Manual Reward\",\n      mainbg: true,\n      onClick: () => this.props.history.push(`/admin/customerplus/${this.props.id}/lpmanagement/reward`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Add Manual Redeem\",\n      mainbg: true,\n      onClick: () => this.props.history.push(`/admin/customerplus/${this.props.id}/lpmanagement/redeem`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fuild border rounded p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, t(\"Type\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"mr-2\",\n      checked: type == \"all\",\n      onChange: e => this.updateState({\n        type: \"all\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"All\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"mr-2\",\n      checked: type == \"reward\",\n      onChange: e => this.updateState({\n        type: \"reward\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, \"Reward\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"mr-2\",\n      checked: type == \"redeem\",\n      onChange: e => this.updateState({\n        type: \"redeem\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, \"Redeem\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, t(\"Start Date\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalDate, {\n      value: searchStartDate,\n      onChange: e => this.updateState({\n        searchStartDate: e.target.value,\n        searchEndDate: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, t(\"End Date\"), \":\"), /*#__PURE__*/React.createElement(NormalDate, {\n      value: searchEndDate,\n      disabled: searchStartDate == \"\",\n      minDate: searchStartDate,\n      onChange: e => this.updateState({\n        searchEndDate: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 pt-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(InputSearch, {\n      placeholder: \"Search Policy\",\n      onChange: e => this.updateState({\n        searchString: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row-reverse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Search\",\n      mainbg: true,\n      onClick: e => {\n        this.handlePagination({});\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Clear\",\n      mainbg: true,\n      onClick: async e => {\n        await this.updateState({\n          searchStartDate: \"\",\n          searchEndDate: \"\",\n          type: \"all\",\n          searchString: \"\"\n        });\n        this.handlePagination({});\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    })))), isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, \"Loading...\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.updateState(() => headerDetails = value),\n      sortData: originalDataList,\n      onSort: dataList => this.updateState({\n        dataList\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 19\n      }\n    }, dataList && dataList.map((item, index) => {\n      var _headerDetails$2$enab, _headerDetails$0$enab, _headerDetails$2$enab2, _headerDetails$2$enab3, _headerDetails$1$enab, _headerDetails$3$enab, _headerDetails$3$enab2;\n\n      let {\n        transacno,\n        remarks,\n        earned,\n        used,\n        now_point,\n        lp_type,\n        date\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$2$enab = headerDetails[2].enabled) !== null && _headerDetails$2$enab !== void 0 ? _headerDetails$2$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 31\n        }\n      }, new Date(date).toLocaleDateString() + \" \" + new Date(date).toLocaleTimeString())), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$0$enab = headerDetails[0].enabled) !== null && _headerDetails$0$enab !== void 0 ? _headerDetails$0$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 31\n        }\n      }, transacno)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$2$enab2 = headerDetails[2].enabled) !== null && _headerDetails$2$enab2 !== void 0 ? _headerDetails$2$enab2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 31\n        }\n      }, lp_type)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$2$enab3 = headerDetails[2].enabled) !== null && _headerDetails$2$enab3 !== void 0 ? _headerDetails$2$enab3 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 31\n        }\n      }, remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$1$enab = headerDetails[1].enabled) !== null && _headerDetails$1$enab !== void 0 ? _headerDetails$1$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 31\n        }\n      }, earned)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$3$enab = headerDetails[3].enabled) !== null && _headerDetails$3$enab !== void 0 ? _headerDetails$3$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 31\n        }\n      }, used)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$3$enab2 = headerDetails[3].enabled) !== null && _headerDetails$3$enab2 !== void 0 ? _headerDetails$3$enab2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 31\n        }\n      }, now_point)));\n    })))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  dataList: state.customerPlus.customerPoints\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomerPoints\n  }, dispatch);\n};\n\nexport const CustomerPointsTable = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(CustomerPointsTableClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/LoyaltyPointsManagement/CustomerPointsTable/index.js"],"names":["React","InputSearch","NormalButton","NormalDate","TableWrapper","connect","withTranslation","getCustomerPoints","bindActionCreators","dateFormat","CustomerPointsTableClass","Component","state","headerDetails","label","sortKey","enabled","type","dataList","originalDataList","meta","searchStartDate","searchEndDate","searchString","isMounted","isLoading","updateState","data","setState","handlePagination","page","searchParams","startdate","endDate","props","id","PointList","pagination","forEach","e","lp_type","earned","total_point","used","componentDidMount","Date","date","setMonth","getMonth","componentWillUnmount","render","t","history","push","target","value","map","item","index","transacno","remarks","now_point","toLocaleDateString","toLocaleTimeString","mapStateToProps","customerPlus","customerPoints","mapDispatchToProps","dispatch","CustomerPointsTable"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  InputSearch,\n  NormalButton,\n  NormalDate,\n  TableWrapper,\n} from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { getCustomerPoints } from \"redux/actions/customerPlus\";\nimport { bindActionCreators } from \"redux\";\nimport { dateFormat } from \"service/helperFunctions\";\n\nexport class CustomerPointsTableClass extends React.Component {\n  state = {\n    headerDetails: [\n      { label: \"Date\", sortKey: \"remarks\", enabled: true },\n      { label: \"Transcation No\", sortKey: \"transacno\" },\n      { label: \"Type\", sortKey: \"type\", enabled: true },\n      { label: \"Remarks\", sortKey: \"remarks\", enabled: true },\n      { label: \"Earn pts (+)\", sortKey: \"earned\", enabled: true },\n      { label: \"Used pts (-)\", sortKey: \"used\", enabled: true },\n      { label: \"Balance Pts\", sortKey: \"now_point\", enabled: true },\n    ],\n    type: \"all\",\n    dataList: [],\n    originalDataList: [],\n    meta: {},\n    searchStartDate: \"\",\n    searchEndDate: \"\",\n    searchString: \"\",\n    isMounted: true,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.state.searchEndDate = new Date();\n    let date = new Date();\n    date.setMonth(date.getMonth() - 3);\n    this.state.searchStartDate = date;\n    this.handlePagination({});\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  handlePagination = async (data) => {\n    let { page = 1 } = data;\n    let { searchStartDate, searchEndDate, type, searchString } = this.state;\n    this.setState({ isLoading: true });\n    let searchParams = `&search=${searchString}`;\n    if (type == \"redeem\" || type == \"reward\") searchParams += `&type=${type}`;\n    if (searchStartDate != \"\") {\n      let startdate = dateFormat(searchStartDate);\n      let endDate = dateFormat(\n        searchEndDate == \"\" ? searchStartDate : searchEndDate\n      );\n      searchParams += `&startDate=${startdate}&endDate=${endDate}`;\n    }\n    await this.props.getCustomerPoints(\n      this.props.id,\n      `?limit=10&page=${page}` + searchParams\n    );\n    let { PointList, pagination } = this.props.dataList;\n    PointList.forEach((e) => {\n      if (e.lp_type == \"Reward\") {\n        e.earned = e.total_point;\n        e.used = \"\";\n      } else {\n        e.earned = \"\";\n        e.used = e.total_point;\n      }\n    });\n    this.updateState({\n      meta: pagination,\n      dataList: PointList,\n      originalDataList: PointList,\n      isLoading: false,\n    });\n  };\n\n  render() {\n    let {\n      headerDetails,\n      dataList,\n      meta,\n      isLoading,\n      originalDataList,\n      searchStartDate,\n      searchEndDate,\n      type,\n    } = this.state;\n    let { t } = this.props;\n    return (\n      <>\n        <div className=\"customer-list container-fluid\">\n          <div className=\"row mb-2\">\n            <div className=\"col-md-4 mb-2\">\n              <h3 className=\"head-label\">{t(\"Customer Points\")}</h3>\n            </div>\n            <div className=\"col-md-4 mb-2\">\n              <NormalButton\n                label=\"Add Manual Reward\"\n                mainbg={true}\n                onClick={() =>\n                  this.props.history.push(\n                    `/admin/customerplus/${this.props.id}/lpmanagement/reward`\n                  )\n                }\n              />\n            </div>\n            <div className=\"col-md-4\">\n              <NormalButton\n                label=\"Add Manual Redeem\"\n                mainbg={true}\n                onClick={() =>\n                  this.props.history.push(\n                    `/admin/customerplus/${this.props.id}/lpmanagement/redeem`\n                  )\n                }\n              />\n            </div>\n          </div>\n          <div className=\"container-fuild border rounded p-2\">\n            <div className=\"row mb-2\">\n              <div className=\"col-md-2 mb-3\">{t(\"Type\")}:</div>\n              <div className=\"col col-md-3\">\n                <input\n                  type=\"radio\"\n                  className=\"mr-2\"\n                  checked={type == \"all\"}\n                  onChange={(e) => this.updateState({ type: \"all\" })}\n                />\n                <label>All</label>\n              </div>\n              <div className=\"col col-md-3\">\n                <input\n                  type=\"radio\"\n                  className=\"mr-2\"\n                  checked={type == \"reward\"}\n                  onChange={(e) => this.updateState({ type: \"reward\" })}\n                />\n                <label>Reward</label>\n              </div>\n              <div className=\"col col-md-3\">\n                <input\n                  type=\"radio\"\n                  className=\"mr-2\"\n                  checked={type == \"redeem\"}\n                  onChange={(e) => this.updateState({ type: \"redeem\" })}\n                />\n                <label>Redeem</label>\n              </div>\n            </div>\n            <div className=\"row mb-3\">\n              <div className=\"col-md-4 mb-2\">\n                <label>{t(\"Start Date\")}:</label>\n                <div className=\"input-group\">\n                  <NormalDate\n                    value={searchStartDate}\n                    onChange={(e) =>\n                      this.updateState({\n                        searchStartDate: e.target.value,\n                        searchEndDate: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n              </div>\n              <div className=\"col-md-4 mb-2\">\n                <label>{t(\"End Date\")}:</label>\n                <NormalDate\n                  value={searchEndDate}\n                  disabled={searchStartDate == \"\"}\n                  minDate={searchStartDate}\n                  onChange={(e) =>\n                    this.updateState({ searchEndDate: e.target.value })\n                  }\n                />\n              </div>\n              <div className=\"col-md-4 pt-md-2\">\n                <label></label>\n                <InputSearch\n                  placeholder=\"Search Policy\"\n                  onChange={(e) =>\n                    this.updateState({ searchString: e.target.value })\n                  }\n                />\n              </div>\n            </div>\n            <div className=\"d-flex flex-row-reverse\">\n              <div className=\"col-md-3 mb-2\">\n                <NormalButton\n                  label=\"Search\"\n                  mainbg={true}\n                  onClick={(e) => {\n                    this.handlePagination({});\n                  }}\n                />\n              </div>\n              <div className=\"col-md-2 mb-2\">\n                <NormalButton\n                  label=\"Clear\"\n                  mainbg={true}\n                  onClick={async (e) => {\n                    await this.updateState({\n                      searchStartDate: \"\",\n                      searchEndDate: \"\",\n                      type: \"all\",\n                      searchString: \"\",\n                    });\n                    this.handlePagination({});\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          {isLoading ? (\n            <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"tab-table-content\">\n              <div className=\"py-4\">\n                <div className=\"table-container\">\n                  <TableWrapper\n                    headerDetails={headerDetails}\n                    queryHandler={this.handlePagination}\n                    pageMeta={meta}\n                    showFilterColumn={true}\n                    parentHeaderChange={(value) =>\n                      this.updateState(() => (headerDetails = value))\n                    }\n                    sortData={originalDataList}\n                    onSort={(dataList) => this.updateState({ dataList })}\n                  >\n                    {dataList &&\n                      dataList.map((item, index) => {\n                        let {\n                          transacno,\n                          remarks,\n                          earned,\n                          used,\n                          now_point,\n                          lp_type,\n                          date,\n                        } = item;\n                        return (\n                          <tr key={index}>\n                            <td\n                              className={\n                                headerDetails[2].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {new Date(date).toLocaleDateString() +\n                                  \" \" +\n                                  new Date(date).toLocaleTimeString()}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[0].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {transacno}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[2].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {lp_type}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[2].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {remarks}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[1].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {earned}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[3].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {used}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[3].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {now_point}\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                  </TableWrapper>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  dataList: state.customerPlus.customerPoints,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ getCustomerPoints }, dispatch);\n};\n\nexport const CustomerPointsTable = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(CustomerPointsTableClass)\n);\n"]},"metadata":{},"sourceType":"module"}