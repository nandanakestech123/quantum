{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.item_list.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _double_click = require(\"../../events/double_click\");\n\nvar _index = require(\"../../events/utils/index\");\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _icon = require(\"../../core/utils/icon\");\n\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\n\nvar _custom_store = _interopRequireDefault(require(\"../../data/custom_store\"));\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) {\n    return;\n  }\n\n  if (\"string\" === typeof o) {\n    return _arrayLikeToArray(o, minLen);\n  }\n\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n\n  if (\"Object\" === n && o.constructor) {\n    n = o.constructor.name;\n  }\n\n  if (\"Map\" === n || \"Set\" === n) {\n    return Array.from(o);\n  }\n\n  if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {\n    return _arrayLikeToArray(o, minLen);\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (\"undefined\" !== typeof Symbol && Symbol.iterator in Object(iter)) {\n    return Array.from(iter);\n  }\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    return _arrayLikeToArray(arr);\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (null == len || len > arr.length) {\n    len = arr.length;\n  }\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function (target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar FILE_MANAGER_FILES_VIEW_CLASS = \"dx-filemanager-files-view\";\nvar FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE = \"dxFileManager_open\";\n\nvar FileManagerItemListBase = function (_Widget) {\n  _inherits(FileManagerItemListBase, _Widget);\n\n  var _super = _createSuper(FileManagerItemListBase);\n\n  function FileManagerItemListBase() {\n    _classCallCheck(this, FileManagerItemListBase);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FileManagerItemListBase, [{\n    key: \"_init\",\n    value: function () {\n      this._initActions();\n\n      this._lockFocusedItemProcessing = false;\n      this._focusedItemKey = this.option(\"focusedItemKey\");\n\n      _get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_init\", this).call(this);\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function () {\n      this.$element().addClass(FILE_MANAGER_FILES_VIEW_CLASS);\n      var dblClickEventName = (0, _index.addNamespace)(_double_click.name, FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE);\n\n      _events_engine.default.on(this.$element(), dblClickEventName, this._getItemSelector(), this._onItemDblClick.bind(this));\n\n      _get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_initMarkup\", this).call(this);\n    }\n  }, {\n    key: \"_initActions\",\n    value: function () {\n      this._actions = {\n        onError: this._createActionByOption(\"onError\"),\n        onSelectionChanged: this._createActionByOption(\"onSelectionChanged\"),\n        onFocusedItemChanged: this._createActionByOption(\"onFocusedItemChanged\"),\n        onSelectedItemOpened: this._createActionByOption(\"onSelectedItemOpened\"),\n        onContextMenuShowing: this._createActionByOption(\"onContextMenuShowing\")\n      };\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function () {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_getDefaultOptions\", this).call(this), {\n        selectionMode: \"single\",\n        selectedItemKeys: [],\n        focusedItemKey: void 0,\n        contextMenu: null,\n        getItems: null,\n        getItemThumbnail: null,\n        onError: null,\n        onSelectionChanged: null,\n        onFocusedItemChanged: null,\n        onSelectedItemOpened: null,\n        onContextMenuShowing: null\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function (args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"selectionMode\":\n        case \"contextMenu\":\n        case \"getItems\":\n        case \"getItemThumbnail\":\n          this.repaint();\n          break;\n\n        case \"selectedItemKeys\":\n          this._setSelectedItemKeys(args.value);\n\n          break;\n\n        case \"focusedItemKey\":\n          if (!this._lockFocusedItemProcessing) {\n            this._setFocusedItemKey(args.value);\n          }\n\n          break;\n\n        case \"onError\":\n        case \"onSelectedItemOpened\":\n        case \"onSelectionChanged\":\n        case \"onFocusedItemChanged\":\n        case \"onContextMenuShowing\":\n          this._actions[name] = this._createActionByOption(name);\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_getItems\",\n    value: function () {\n      var _this = this;\n\n      return this._getItemsInternal().done(function (itemInfos) {\n        _this._itemCount = itemInfos.length;\n\n        var parentDirectoryItem = _this._findParentDirectoryItem(itemInfos);\n\n        _this._hasParentDirectoryItem = !!parentDirectoryItem;\n        _this._parentDirectoryItemKey = parentDirectoryItem ? parentDirectoryItem.fileItem.key : null;\n      });\n    }\n  }, {\n    key: \"_getItemsInternal\",\n    value: function () {\n      var itemsGetter = this.option(\"getItems\");\n      var itemsResult = itemsGetter ? itemsGetter() : [];\n      return (0, _deferred.when)(itemsResult);\n    }\n  }, {\n    key: \"_raiseOnError\",\n    value: function (error) {\n      this._actions.onError({\n        error: error\n      });\n    }\n  }, {\n    key: \"_raiseSelectionChanged\",\n    value: function (args) {\n      this._actions.onSelectionChanged(args);\n    }\n  }, {\n    key: \"_raiseFocusedItemChanged\",\n    value: function (args) {\n      this._actions.onFocusedItemChanged(args);\n    }\n  }, {\n    key: \"_raiseSelectedItemOpened\",\n    value: function (fileItemInfo) {\n      this._actions.onSelectedItemOpened({\n        fileItemInfo: fileItemInfo\n      });\n    }\n  }, {\n    key: \"_raiseContextMenuShowing\",\n    value: function () {\n      this._actions.onContextMenuShowing();\n    }\n  }, {\n    key: \"_tryRaiseSelectionChanged\",\n    value: function (_ref) {\n      var _this2 = this;\n\n      var selectedItemInfos = _ref.selectedItemInfos,\n          selectedItems = _ref.selectedItems,\n          selectedItemKeys = _ref.selectedItemKeys,\n          currentSelectedItemKeys = _ref.currentSelectedItemKeys,\n          currentDeselectedItemKeys = _ref.currentDeselectedItemKeys;\n\n      var parentDirectoryItem = this._findParentDirectoryItem(this.getSelectedItems());\n\n      if (parentDirectoryItem) {\n        this._deselectItem(parentDirectoryItem);\n      }\n\n      var raiseEvent = !this._hasParentDirectoryItem;\n      raiseEvent = raiseEvent || this._hasValidKeys(currentSelectedItemKeys) || this._hasValidKeys(currentDeselectedItemKeys);\n\n      if (raiseEvent) {\n        selectedItemInfos = this._filterOutItemByPredicate(selectedItemInfos, function (item) {\n          return item.fileItem.key === _this2._parentDirectoryItemKey;\n        });\n        selectedItems = this._filterOutParentDirectory(selectedItems);\n        selectedItemKeys = this._filterOutParentDirectoryKey(selectedItemKeys, true);\n        currentSelectedItemKeys = this._filterOutParentDirectoryKey(currentSelectedItemKeys, true);\n        currentDeselectedItemKeys = this._filterOutParentDirectoryKey(currentDeselectedItemKeys, true);\n\n        this._raiseSelectionChanged({\n          selectedItemInfos: selectedItemInfos,\n          selectedItems: selectedItems,\n          selectedItemKeys: selectedItemKeys,\n          currentSelectedItemKeys: currentSelectedItemKeys,\n          currentDeselectedItemKeys: currentDeselectedItemKeys\n        });\n      }\n    }\n  }, {\n    key: \"_onFocusedItemChanged\",\n    value: function (args) {\n      if (this._focusedItemKey === args.itemKey) {\n        return;\n      }\n\n      this._focusedItemKey = args.itemKey;\n      this._lockFocusedItemProcessing = true;\n      this.option(\"focusedItemKey\", args.itemKey);\n      this._lockFocusedItemProcessing = false;\n\n      this._raiseFocusedItemChanged(args);\n    }\n  }, {\n    key: \"_getItemThumbnail\",\n    value: function (fileInfo) {\n      var itemThumbnailGetter = this.option(\"getItemThumbnail\");\n      return itemThumbnailGetter ? itemThumbnailGetter(fileInfo) : {\n        thumbnail: \"\"\n      };\n    }\n  }, {\n    key: \"_getItemThumbnailContainer\",\n    value: function (fileInfo) {\n      var _this$_getItemThumbna = this._getItemThumbnail(fileInfo),\n          thumbnail = _this$_getItemThumbna.thumbnail,\n          cssClass = _this$_getItemThumbna.cssClass;\n\n      var $itemThumbnail = (0, _icon.getImageContainer)(thumbnail).addClass(this._getItemThumbnailCssClass());\n\n      if (cssClass) {\n        $itemThumbnail.addClass(cssClass);\n      }\n\n      return $itemThumbnail;\n    }\n  }, {\n    key: \"_getItemThumbnailCssClass\",\n    value: function () {\n      return \"\";\n    }\n  }, {\n    key: \"_getItemSelector\",\n    value: function () {}\n  }, {\n    key: \"_onItemDblClick\",\n    value: function (e) {}\n  }, {\n    key: \"_isDesktop\",\n    value: function () {\n      return \"desktop\" === _devices.default.real().deviceType;\n    }\n  }, {\n    key: \"_showContextMenu\",\n    value: function (items, element, offset, targetFileItem) {\n      this._contextMenu.showAt(items, element, offset, targetFileItem);\n    }\n  }, {\n    key: \"_findParentDirectoryItem\",\n    value: function (itemInfos) {\n      for (var i = 0; i < itemInfos.length; i++) {\n        var itemInfo = itemInfos[i];\n\n        if (this._isParentDirectoryItem(itemInfo)) {\n          return itemInfo;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_getFileItemsForContextMenu\",\n    value: function (fileItem) {\n      var result = this.getSelectedItems();\n\n      if (this._isParentDirectoryItem(fileItem)) {\n        result.push(fileItem);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_isParentDirectoryItem\",\n    value: function (itemInfo) {\n      return itemInfo.fileItem.isParentFolder;\n    }\n  }, {\n    key: \"_hasValidKeys\",\n    value: function (keys) {\n      return keys.length > 1 || 1 === keys.length && keys[0] !== this._parentDirectoryItemKey;\n    }\n  }, {\n    key: \"_filterOutParentDirectory\",\n    value: function (array, createNewArray) {\n      var _this3 = this;\n\n      return this._filterOutItemByPredicate(array, function (item) {\n        return item.key === _this3._parentDirectoryItemKey;\n      }, createNewArray);\n    }\n  }, {\n    key: \"_filterOutParentDirectoryKey\",\n    value: function (array, createNewArray) {\n      var _this4 = this;\n\n      return this._filterOutItemByPredicate(array, function (key) {\n        return key === _this4._parentDirectoryItemKey;\n      }, createNewArray);\n    }\n  }, {\n    key: \"_filterOutItemByPredicate\",\n    value: function (array, predicate, createNewArray) {\n      var result = array;\n      var index = -1;\n\n      for (var i = 0; i < array.length; i++) {\n        if (predicate(array[i])) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index !== -1) {\n        if (createNewArray) {\n          result = _toConsumableArray(array);\n        }\n\n        result.splice(index, 1);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_isMultipleSelectionMode\",\n    value: function () {\n      return \"multiple\" === this.option(\"selectionMode\");\n    }\n  }, {\n    key: \"_deselectItem\",\n    value: function (item) {}\n  }, {\n    key: \"_setSelectedItemKeys\",\n    value: function (itemKeys) {}\n  }, {\n    key: \"_setFocusedItemKey\",\n    value: function (itemKey) {}\n  }, {\n    key: \"_createDataSource\",\n    value: function () {\n      return {\n        store: new _custom_store.default({\n          key: \"fileItem.key\",\n          load: this._getItems.bind(this)\n        })\n      };\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function () {}\n  }, {\n    key: \"clearSelection\",\n    value: function () {}\n  }, {\n    key: \"selectItem\",\n    value: function () {}\n  }, {\n    key: \"_contextMenu\",\n    get: function () {\n      return this.option(\"contextMenu\");\n    }\n  }]);\n\n  return FileManagerItemListBase;\n}(_ui.default);\n\nvar _default = FileManagerItemListBase;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/file_manager/ui.file_manager.item_list.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_extend","require","_deferred","_double_click","_index","_events_engine","_interopRequireDefault","_icon","_devices","_custom_store","_ui","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","toString","call","slice","name","Array","from","test","iter","isArray","len","length","i","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","getPrototypeOf","FILE_MANAGER_FILES_VIEW_CLASS","FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE","FileManagerItemListBase","_Widget","_super","_initActions","_lockFocusedItemProcessing","_focusedItemKey","option","$element","addClass","dblClickEventName","addNamespace","on","_getItemSelector","_onItemDblClick","bind","_actions","onError","_createActionByOption","onSelectionChanged","onFocusedItemChanged","onSelectedItemOpened","onContextMenuShowing","extend","selectionMode","selectedItemKeys","focusedItemKey","contextMenu","getItems","getItemThumbnail","args","repaint","_setSelectedItemKeys","_setFocusedItemKey","_this","_getItemsInternal","done","itemInfos","_itemCount","parentDirectoryItem","_findParentDirectoryItem","_hasParentDirectoryItem","_parentDirectoryItemKey","fileItem","itemsGetter","itemsResult","when","error","fileItemInfo","_ref","_this2","selectedItemInfos","selectedItems","currentSelectedItemKeys","currentDeselectedItemKeys","getSelectedItems","_deselectItem","raiseEvent","_hasValidKeys","_filterOutItemByPredicate","item","_filterOutParentDirectory","_filterOutParentDirectoryKey","_raiseSelectionChanged","itemKey","_raiseFocusedItemChanged","fileInfo","itemThumbnailGetter","thumbnail","_this$_getItemThumbna","_getItemThumbnail","cssClass","$itemThumbnail","getImageContainer","_getItemThumbnailCssClass","real","deviceType","items","element","offset","targetFileItem","_contextMenu","showAt","itemInfo","_isParentDirectoryItem","push","isParentFolder","keys","array","createNewArray","_this3","_this4","predicate","index","splice","itemKeys","store","load","_getItems","_default","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClB;;AACA,MAAI,eAAe,OAAOC,MAAtB,IAAgC,aAAa,OAAOA,MAAM,CAACC,QAA/D,EAAyE;AACrEH,IAAAA,OAAO,GAAG,UAASC,GAAT,EAAc;AACpB,aAAO,OAAOA,GAAd;AACH,KAFD;AAGH,GAJD,MAIO;AACHD,IAAAA,OAAO,GAAG,UAASC,GAAT,EAAc;AACpB,aAAOA,GAAG,IAAI,eAAe,OAAOC,MAA7B,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AACH,KAFD;AAGH;;AACD,SAAOD,OAAO,CAACC,GAAD,CAAd;AACH;;AACDK,OAAO,CAACC,OAAR,GAAkB,KAAK,CAAvB;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,yBAAD,CAArB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,2BAAD,CAAvB;;AACA,IAAIE,aAAa,GAAGF,OAAO,CAAC,2BAAD,CAA3B;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,0BAAD,CAApB;;AACA,IAAII,cAAc,GAAGC,sBAAsB,CAACL,OAAO,CAAC,iCAAD,CAAR,CAA3C;;AACA,IAAIM,KAAK,GAAGN,OAAO,CAAC,uBAAD,CAAnB;;AACA,IAAIO,QAAQ,GAAGF,sBAAsB,CAACL,OAAO,CAAC,oBAAD,CAAR,CAArC;;AACA,IAAIQ,aAAa,GAAGH,sBAAsB,CAACL,OAAO,CAAC,yBAAD,CAAR,CAA1C;;AACA,IAAIS,GAAG,GAAGJ,sBAAsB,CAACL,OAAO,CAAC,qBAAD,CAAR,CAAhC;;AAEA,SAASK,sBAAT,CAAgCb,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACkB,UAAX,GAAwBlB,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AAED,SAASmB,kBAAT,CAA4BC,GAA5B,EAAiC;AAC7B,SAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,2BAA2B,CAACH,GAAD,CAA/E,IAAwFI,kBAAkB,EAAjH;AACH;;AAED,SAASA,kBAAT,GAA8B;AAC1B,QAAM,IAAIC,SAAJ,CAAc,sIAAd,CAAN;AACH;;AAED,SAASF,2BAAT,CAAqCG,CAArC,EAAwCC,MAAxC,EAAgD;AAC5C,MAAI,CAACD,CAAL,EAAQ;AACJ;AACH;;AACD,MAAI,aAAa,OAAOA,CAAxB,EAA2B;AACvB,WAAOE,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;AACH;;AACD,MAAIE,CAAC,GAAGC,MAAM,CAAC1B,SAAP,CAAiB2B,QAAjB,CAA0BC,IAA1B,CAA+BN,CAA/B,EAAkCO,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;;AACA,MAAI,aAAaJ,CAAb,IAAkBH,CAAC,CAACvB,WAAxB,EAAqC;AACjC0B,IAAAA,CAAC,GAAGH,CAAC,CAACvB,WAAF,CAAc+B,IAAlB;AACH;;AACD,MAAI,UAAUL,CAAV,IAAe,UAAUA,CAA7B,EAAgC;AAC5B,WAAOM,KAAK,CAACC,IAAN,CAAWV,CAAX,CAAP;AACH;;AACD,MAAI,gBAAgBG,CAAhB,IAAqB,2CAA2CQ,IAA3C,CAAgDR,CAAhD,CAAzB,EAA6E;AACzE,WAAOD,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;AACH;AACJ;;AAED,SAASL,gBAAT,CAA0BgB,IAA1B,EAAgC;AAC5B,MAAI,gBAAgB,OAAOrC,MAAvB,IAAiCA,MAAM,CAACC,QAAP,IAAmB4B,MAAM,CAACQ,IAAD,CAA9D,EAAsE;AAClE,WAAOH,KAAK,CAACC,IAAN,CAAWE,IAAX,CAAP;AACH;AACJ;;AAED,SAASjB,kBAAT,CAA4BD,GAA5B,EAAiC;AAC7B,MAAIe,KAAK,CAACI,OAAN,CAAcnB,GAAd,CAAJ,EAAwB;AACpB,WAAOQ,iBAAiB,CAACR,GAAD,CAAxB;AACH;AACJ;;AAED,SAASQ,iBAAT,CAA2BR,GAA3B,EAAgCoB,GAAhC,EAAqC;AACjC,MAAI,QAAQA,GAAR,IAAeA,GAAG,GAAGpB,GAAG,CAACqB,MAA7B,EAAqC;AACjCD,IAAAA,GAAG,GAAGpB,GAAG,CAACqB,MAAV;AACH;;AACD,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAG,IAAIR,KAAJ,CAAUK,GAAV,CAAvB,EAAuCE,CAAC,GAAGF,GAA3C,EAAgDE,CAAC,EAAjD,EAAqD;AACjDC,IAAAA,IAAI,CAACD,CAAD,CAAJ,GAAUtB,GAAG,CAACsB,CAAD,CAAb;AACH;;AACD,SAAOC,IAAP;AACH;;AAED,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAC5C,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AACpC,UAAM,IAAIrB,SAAJ,CAAc,mCAAd,CAAN;AACH;AACJ;;AAED,SAASsB,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AACtC,OAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,KAAK,CAACR,MAA1B,EAAkCC,CAAC,EAAnC,EAAuC;AACnC,QAAIQ,UAAU,GAAGD,KAAK,CAACP,CAAD,CAAtB;AACAQ,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AACAD,IAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;;AACA,QAAI,WAAWF,UAAf,EAA2B;AACvBA,MAAAA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AACH;;AACDvB,IAAAA,MAAM,CAACwB,cAAP,CAAsBN,MAAtB,EAA8BE,UAAU,CAACK,GAAzC,EAA8CL,UAA9C;AACH;AACJ;;AAED,SAASM,YAAT,CAAsBV,WAAtB,EAAmCW,UAAnC,EAA+CC,WAA/C,EAA4D;AACxD,MAAID,UAAJ,EAAgB;AACZV,IAAAA,iBAAiB,CAACD,WAAW,CAAC1C,SAAb,EAAwBqD,UAAxB,CAAjB;AACH;;AACD,MAAIC,WAAJ,EAAiB;AACbX,IAAAA,iBAAiB,CAACD,WAAD,EAAcY,WAAd,CAAjB;AACH;;AACD,SAAOZ,WAAP;AACH;;AAED,SAASa,IAAT,CAAcX,MAAd,EAAsBY,QAAtB,EAAgCC,QAAhC,EAA0C;AACtC,MAAI,gBAAgB,OAAOC,OAAvB,IAAkCA,OAAO,CAACC,GAA9C,EAAmD;AAC/CJ,IAAAA,IAAI,GAAGG,OAAO,CAACC,GAAf;AACH,GAFD,MAEO;AACHJ,IAAAA,IAAI,GAAG,UAASX,MAAT,EAAiBY,QAAjB,EAA2BC,QAA3B,EAAqC;AACxC,UAAIG,IAAI,GAAGC,cAAc,CAACjB,MAAD,EAASY,QAAT,CAAzB;;AACA,UAAI,CAACI,IAAL,EAAW;AACP;AACH;;AACD,UAAIE,IAAI,GAAGpC,MAAM,CAACqC,wBAAP,CAAgCH,IAAhC,EAAsCJ,QAAtC,CAAX;;AACA,UAAIM,IAAI,CAACH,GAAT,EAAc;AACV,eAAOG,IAAI,CAACH,GAAL,CAAS/B,IAAT,CAAc6B,QAAd,CAAP;AACH;;AACD,aAAOK,IAAI,CAACE,KAAZ;AACH,KAVD;AAWH;;AACD,SAAOT,IAAI,CAACX,MAAD,EAASY,QAAT,EAAmBC,QAAQ,IAAIb,MAA/B,CAAX;AACH;;AAED,SAASiB,cAAT,CAAwBI,MAAxB,EAAgCT,QAAhC,EAA0C;AACtC,SAAO,CAAC9B,MAAM,CAAC1B,SAAP,CAAiBkE,cAAjB,CAAgCtC,IAAhC,CAAqCqC,MAArC,EAA6CT,QAA7C,CAAR,EAAgE;AAC5DS,IAAAA,MAAM,GAAGE,eAAe,CAACF,MAAD,CAAxB;;AACA,QAAI,SAASA,MAAb,EAAqB;AACjB;AACH;AACJ;;AACD,SAAOA,MAAP;AACH;;AAED,SAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AACrC,MAAI,eAAe,OAAOA,UAAtB,IAAoC,SAASA,UAAjD,EAA6D;AACzD,UAAM,IAAIjD,SAAJ,CAAc,oDAAd,CAAN;AACH;;AACDgD,EAAAA,QAAQ,CAACrE,SAAT,GAAqB0B,MAAM,CAAC6C,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACtE,SAAvC,EAAkD;AACnED,IAAAA,WAAW,EAAE;AACTiE,MAAAA,KAAK,EAAEK,QADE;AAETpB,MAAAA,QAAQ,EAAE,IAFD;AAGTD,MAAAA,YAAY,EAAE;AAHL;AADsD,GAAlD,CAArB;;AAOA,MAAIsB,UAAJ,EAAgB;AACZE,IAAAA,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AACH;AACJ;;AAED,SAASE,eAAT,CAAyBlD,CAAzB,EAA4BmD,CAA5B,EAA+B;AAC3BD,EAAAA,eAAe,GAAG9C,MAAM,CAACgD,cAAP,IAAyB,UAASpD,CAAT,EAAYmD,CAAZ,EAAe;AACtDnD,IAAAA,CAAC,CAACqD,SAAF,GAAcF,CAAd;AACA,WAAOnD,CAAP;AACH,GAHD;;AAIA,SAAOkD,eAAe,CAAClD,CAAD,EAAImD,CAAJ,CAAtB;AACH;;AAED,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;AAC3B,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AACA,SAAO,YAAW;AACd,QAAIC,MAAJ;AAAA,QAAYC,KAAK,GAAGd,eAAe,CAACU,OAAD,CAAnC;;AACA,QAAIC,yBAAJ,EAA+B;AAC3B,UAAII,SAAS,GAAGf,eAAe,CAAC,IAAD,CAAf,CAAsBpE,WAAtC;;AACAiF,MAAAA,MAAM,GAAGtB,OAAO,CAACyB,SAAR,CAAkBF,KAAlB,EAAyBG,SAAzB,EAAoCF,SAApC,CAAT;AACH,KAHD,MAGO;AACHF,MAAAA,MAAM,GAAGC,KAAK,CAACI,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AACH;;AACD,WAAOE,0BAA0B,CAAC,IAAD,EAAON,MAAP,CAAjC;AACH,GATD;AAUH;;AAED,SAASM,0BAAT,CAAoCC,IAApC,EAA0C3D,IAA1C,EAAgD;AAC5C,MAAIA,IAAI,KAAK,aAAajC,OAAO,CAACiC,IAAD,CAApB,IAA8B,eAAe,OAAOA,IAAzD,CAAR,EAAwE;AACpE,WAAOA,IAAP;AACH;;AACD,SAAO4D,sBAAsB,CAACD,IAAD,CAA7B;AACH;;AAED,SAASC,sBAAT,CAAgCD,IAAhC,EAAsC;AAClC,MAAI,KAAK,CAAL,KAAWA,IAAf,EAAqB;AACjB,UAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AACH;;AACD,SAAOF,IAAP;AACH;;AAED,SAASR,yBAAT,GAAqC;AACjC,MAAI,gBAAgB,OAAOrB,OAAvB,IAAkC,CAACA,OAAO,CAACyB,SAA/C,EAA0D;AACtD,WAAO,KAAP;AACH;;AACD,MAAIzB,OAAO,CAACyB,SAAR,CAAkBO,IAAtB,EAA4B;AACxB,WAAO,KAAP;AACH;;AACD,MAAI,eAAe,OAAOC,KAA1B,EAAiC;AAC7B,WAAO,IAAP;AACH;;AACD,MAAI;AACAC,IAAAA,IAAI,CAAC5F,SAAL,CAAe2B,QAAf,CAAwBC,IAAxB,CAA6B8B,OAAO,CAACyB,SAAR,CAAkBS,IAAlB,EAAwB,EAAxB,EAA4B,YAAW,CAAE,CAAzC,CAA7B;AACA,WAAO,IAAP;AACH,GAHD,CAGE,OAAOC,CAAP,EAAU;AACR,WAAO,KAAP;AACH;AACJ;;AAED,SAAS1B,eAAT,CAAyB7C,CAAzB,EAA4B;AACxB6C,EAAAA,eAAe,GAAGzC,MAAM,CAACgD,cAAP,GAAwBhD,MAAM,CAACoE,cAA/B,GAAgD,UAASxE,CAAT,EAAY;AAC1E,WAAOA,CAAC,CAACqD,SAAF,IAAejD,MAAM,CAACoE,cAAP,CAAsBxE,CAAtB,CAAtB;AACH,GAFD;AAGA,SAAO6C,eAAe,CAAC7C,CAAD,CAAtB;AACH;;AACD,IAAIyE,6BAA6B,GAAG,2BAApC;AACA,IAAIC,gDAAgD,GAAG,oBAAvD;;AACA,IAAIC,uBAAuB,GAAG,UAASC,OAAT,EAAkB;AAC5C9B,EAAAA,SAAS,CAAC6B,uBAAD,EAA0BC,OAA1B,CAAT;;AACA,MAAIC,MAAM,GAAGvB,YAAY,CAACqB,uBAAD,CAAzB;;AAEA,WAASA,uBAAT,GAAmC;AAC/BzD,IAAAA,eAAe,CAAC,IAAD,EAAOyD,uBAAP,CAAf;;AACA,WAAOE,MAAM,CAACd,KAAP,CAAa,IAAb,EAAmBD,SAAnB,CAAP;AACH;;AACDhC,EAAAA,YAAY,CAAC6C,uBAAD,EAA0B,CAAC;AACnC9C,IAAAA,GAAG,EAAE,OAD8B;AAEnCa,IAAAA,KAAK,EAAE,YAAW;AACd,WAAKoC,YAAL;;AACA,WAAKC,0BAAL,GAAkC,KAAlC;AACA,WAAKC,eAAL,GAAuB,KAAKC,MAAL,CAAY,gBAAZ,CAAvB;;AACAhD,MAAAA,IAAI,CAACY,eAAe,CAAC8B,uBAAuB,CAACjG,SAAzB,CAAhB,EAAqD,OAArD,EAA8D,IAA9D,CAAJ,CAAwE4B,IAAxE,CAA6E,IAA7E;AACH;AAPkC,GAAD,EAQnC;AACCuB,IAAAA,GAAG,EAAE,aADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,WAAKwC,QAAL,GAAgBC,QAAhB,CAAyBV,6BAAzB;AACA,UAAIW,iBAAiB,GAAG,CAAC,GAAGnG,MAAM,CAACoG,YAAX,EAAyBrG,aAAa,CAACwB,IAAvC,EAA6CkE,gDAA7C,CAAxB;;AACAxF,MAAAA,cAAc,CAACN,OAAf,CAAuB0G,EAAvB,CAA0B,KAAKJ,QAAL,EAA1B,EAA2CE,iBAA3C,EAA8D,KAAKG,gBAAL,EAA9D,EAAuF,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvF;;AACAxD,MAAAA,IAAI,CAACY,eAAe,CAAC8B,uBAAuB,CAACjG,SAAzB,CAAhB,EAAqD,aAArD,EAAoE,IAApE,CAAJ,CAA8E4B,IAA9E,CAAmF,IAAnF;AACH;AAPF,GARmC,EAgBnC;AACCuB,IAAAA,GAAG,EAAE,cADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,WAAKgD,QAAL,GAAgB;AACZC,QAAAA,OAAO,EAAE,KAAKC,qBAAL,CAA2B,SAA3B,CADG;AAEZC,QAAAA,kBAAkB,EAAE,KAAKD,qBAAL,CAA2B,oBAA3B,CAFR;AAGZE,QAAAA,oBAAoB,EAAE,KAAKF,qBAAL,CAA2B,sBAA3B,CAHV;AAIZG,QAAAA,oBAAoB,EAAE,KAAKH,qBAAL,CAA2B,sBAA3B,CAJV;AAKZI,QAAAA,oBAAoB,EAAE,KAAKJ,qBAAL,CAA2B,sBAA3B;AALV,OAAhB;AAOH;AAVF,GAhBmC,EA2BnC;AACC/D,IAAAA,GAAG,EAAE,oBADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,aAAO,CAAC,GAAG7D,OAAO,CAACoH,MAAZ,EAAoBhE,IAAI,CAACY,eAAe,CAAC8B,uBAAuB,CAACjG,SAAzB,CAAhB,EAAqD,oBAArD,EAA2E,IAA3E,CAAJ,CAAqF4B,IAArF,CAA0F,IAA1F,CAApB,EAAqH;AACxH4F,QAAAA,aAAa,EAAE,QADyG;AAExHC,QAAAA,gBAAgB,EAAE,EAFsG;AAGxHC,QAAAA,cAAc,EAAE,KAAK,CAHmG;AAIxHC,QAAAA,WAAW,EAAE,IAJ2G;AAKxHC,QAAAA,QAAQ,EAAE,IAL8G;AAMxHC,QAAAA,gBAAgB,EAAE,IANsG;AAOxHZ,QAAAA,OAAO,EAAE,IAP+G;AAQxHE,QAAAA,kBAAkB,EAAE,IARoG;AASxHC,QAAAA,oBAAoB,EAAE,IATkG;AAUxHC,QAAAA,oBAAoB,EAAE,IAVkG;AAWxHC,QAAAA,oBAAoB,EAAE;AAXkG,OAArH,CAAP;AAaH;AAhBF,GA3BmC,EA4CnC;AACCnE,IAAAA,GAAG,EAAE,gBADN;AAECa,IAAAA,KAAK,EAAE,UAAS8D,IAAT,EAAe;AAClB,UAAIhG,IAAI,GAAGgG,IAAI,CAAChG,IAAhB;;AACA,cAAQA,IAAR;AACI,aAAK,eAAL;AACA,aAAK,aAAL;AACA,aAAK,UAAL;AACA,aAAK,kBAAL;AACI,eAAKiG,OAAL;AACA;;AACJ,aAAK,kBAAL;AACI,eAAKC,oBAAL,CAA0BF,IAAI,CAAC9D,KAA/B;;AACA;;AACJ,aAAK,gBAAL;AACI,cAAI,CAAC,KAAKqC,0BAAV,EAAsC;AAClC,iBAAK4B,kBAAL,CAAwBH,IAAI,CAAC9D,KAA7B;AACH;;AACD;;AACJ,aAAK,SAAL;AACA,aAAK,sBAAL;AACA,aAAK,oBAAL;AACA,aAAK,sBAAL;AACA,aAAK,sBAAL;AACI,eAAKgD,QAAL,CAAclF,IAAd,IAAsB,KAAKoF,qBAAL,CAA2BpF,IAA3B,CAAtB;AACA;;AACJ;AACIyB,UAAAA,IAAI,CAACY,eAAe,CAAC8B,uBAAuB,CAACjG,SAAzB,CAAhB,EAAqD,gBAArD,EAAuE,IAAvE,CAAJ,CAAiF4B,IAAjF,CAAsF,IAAtF,EAA4FkG,IAA5F;;AAvBR;AAyBH;AA7BF,GA5CmC,EA0EnC;AACC3E,IAAAA,GAAG,EAAE,WADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,UAAIkE,KAAK,GAAG,IAAZ;;AACA,aAAO,KAAKC,iBAAL,GAAyBC,IAAzB,CAA8B,UAASC,SAAT,EAAoB;AACrDH,QAAAA,KAAK,CAACI,UAAN,GAAmBD,SAAS,CAAChG,MAA7B;;AACA,YAAIkG,mBAAmB,GAAGL,KAAK,CAACM,wBAAN,CAA+BH,SAA/B,CAA1B;;AACAH,QAAAA,KAAK,CAACO,uBAAN,GAAgC,CAAC,CAACF,mBAAlC;AACAL,QAAAA,KAAK,CAACQ,uBAAN,GAAgCH,mBAAmB,GAAGA,mBAAmB,CAACI,QAApB,CAA6BxF,GAAhC,GAAsC,IAAzF;AACH,OALM,CAAP;AAMH;AAVF,GA1EmC,EAqFnC;AACCA,IAAAA,GAAG,EAAE,mBADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,UAAI4E,WAAW,GAAG,KAAKrC,MAAL,CAAY,UAAZ,CAAlB;AACA,UAAIsC,WAAW,GAAGD,WAAW,GAAGA,WAAW,EAAd,GAAmB,EAAhD;AACA,aAAO,CAAC,GAAGvI,SAAS,CAACyI,IAAd,EAAoBD,WAApB,CAAP;AACH;AANF,GArFmC,EA4FnC;AACC1F,IAAAA,GAAG,EAAE,eADN;AAECa,IAAAA,KAAK,EAAE,UAAS+E,KAAT,EAAgB;AACnB,WAAK/B,QAAL,CAAcC,OAAd,CAAsB;AAClB8B,QAAAA,KAAK,EAAEA;AADW,OAAtB;AAGH;AANF,GA5FmC,EAmGnC;AACC5F,IAAAA,GAAG,EAAE,wBADN;AAECa,IAAAA,KAAK,EAAE,UAAS8D,IAAT,EAAe;AAClB,WAAKd,QAAL,CAAcG,kBAAd,CAAiCW,IAAjC;AACH;AAJF,GAnGmC,EAwGnC;AACC3E,IAAAA,GAAG,EAAE,0BADN;AAECa,IAAAA,KAAK,EAAE,UAAS8D,IAAT,EAAe;AAClB,WAAKd,QAAL,CAAcI,oBAAd,CAAmCU,IAAnC;AACH;AAJF,GAxGmC,EA6GnC;AACC3E,IAAAA,GAAG,EAAE,0BADN;AAECa,IAAAA,KAAK,EAAE,UAASgF,YAAT,EAAuB;AAC1B,WAAKhC,QAAL,CAAcK,oBAAd,CAAmC;AAC/B2B,QAAAA,YAAY,EAAEA;AADiB,OAAnC;AAGH;AANF,GA7GmC,EAoHnC;AACC7F,IAAAA,GAAG,EAAE,0BADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,WAAKgD,QAAL,CAAcM,oBAAd;AACH;AAJF,GApHmC,EAyHnC;AACCnE,IAAAA,GAAG,EAAE,2BADN;AAECa,IAAAA,KAAK,EAAE,UAASiF,IAAT,EAAe;AAClB,UAAIC,MAAM,GAAG,IAAb;;AACA,UAAIC,iBAAiB,GAAGF,IAAI,CAACE,iBAA7B;AAAA,UACIC,aAAa,GAAGH,IAAI,CAACG,aADzB;AAAA,UAEI3B,gBAAgB,GAAGwB,IAAI,CAACxB,gBAF5B;AAAA,UAGI4B,uBAAuB,GAAGJ,IAAI,CAACI,uBAHnC;AAAA,UAIIC,yBAAyB,GAAGL,IAAI,CAACK,yBAJrC;;AAKA,UAAIf,mBAAmB,GAAG,KAAKC,wBAAL,CAA8B,KAAKe,gBAAL,EAA9B,CAA1B;;AACA,UAAIhB,mBAAJ,EAAyB;AACrB,aAAKiB,aAAL,CAAmBjB,mBAAnB;AACH;;AACD,UAAIkB,UAAU,GAAG,CAAC,KAAKhB,uBAAvB;AACAgB,MAAAA,UAAU,GAAGA,UAAU,IAAI,KAAKC,aAAL,CAAmBL,uBAAnB,CAAd,IAA6D,KAAKK,aAAL,CAAmBJ,yBAAnB,CAA1E;;AACA,UAAIG,UAAJ,EAAgB;AACZN,QAAAA,iBAAiB,GAAG,KAAKQ,yBAAL,CAA+BR,iBAA/B,EAAkD,UAASS,IAAT,EAAe;AACjF,iBAAOA,IAAI,CAACjB,QAAL,CAAcxF,GAAd,KAAsB+F,MAAM,CAACR,uBAApC;AACH,SAFmB,CAApB;AAGAU,QAAAA,aAAa,GAAG,KAAKS,yBAAL,CAA+BT,aAA/B,CAAhB;AACA3B,QAAAA,gBAAgB,GAAG,KAAKqC,4BAAL,CAAkCrC,gBAAlC,EAAoD,IAApD,CAAnB;AACA4B,QAAAA,uBAAuB,GAAG,KAAKS,4BAAL,CAAkCT,uBAAlC,EAA2D,IAA3D,CAA1B;AACAC,QAAAA,yBAAyB,GAAG,KAAKQ,4BAAL,CAAkCR,yBAAlC,EAA6D,IAA7D,CAA5B;;AACA,aAAKS,sBAAL,CAA4B;AACxBZ,UAAAA,iBAAiB,EAAEA,iBADK;AAExBC,UAAAA,aAAa,EAAEA,aAFS;AAGxB3B,UAAAA,gBAAgB,EAAEA,gBAHM;AAIxB4B,UAAAA,uBAAuB,EAAEA,uBAJD;AAKxBC,UAAAA,yBAAyB,EAAEA;AALH,SAA5B;AAOH;AACJ;AA/BF,GAzHmC,EAyJnC;AACCnG,IAAAA,GAAG,EAAE,uBADN;AAECa,IAAAA,KAAK,EAAE,UAAS8D,IAAT,EAAe;AAClB,UAAI,KAAKxB,eAAL,KAAyBwB,IAAI,CAACkC,OAAlC,EAA2C;AACvC;AACH;;AACD,WAAK1D,eAAL,GAAuBwB,IAAI,CAACkC,OAA5B;AACA,WAAK3D,0BAAL,GAAkC,IAAlC;AACA,WAAKE,MAAL,CAAY,gBAAZ,EAA8BuB,IAAI,CAACkC,OAAnC;AACA,WAAK3D,0BAAL,GAAkC,KAAlC;;AACA,WAAK4D,wBAAL,CAA8BnC,IAA9B;AACH;AAXF,GAzJmC,EAqKnC;AACC3E,IAAAA,GAAG,EAAE,mBADN;AAECa,IAAAA,KAAK,EAAE,UAASkG,QAAT,EAAmB;AACtB,UAAIC,mBAAmB,GAAG,KAAK5D,MAAL,CAAY,kBAAZ,CAA1B;AACA,aAAO4D,mBAAmB,GAAGA,mBAAmB,CAACD,QAAD,CAAtB,GAAmC;AACzDE,QAAAA,SAAS,EAAE;AAD8C,OAA7D;AAGH;AAPF,GArKmC,EA6KnC;AACCjH,IAAAA,GAAG,EAAE,4BADN;AAECa,IAAAA,KAAK,EAAE,UAASkG,QAAT,EAAmB;AACtB,UAAIG,qBAAqB,GAAG,KAAKC,iBAAL,CAAuBJ,QAAvB,CAA5B;AAAA,UACIE,SAAS,GAAGC,qBAAqB,CAACD,SADtC;AAAA,UAEIG,QAAQ,GAAGF,qBAAqB,CAACE,QAFrC;;AAGA,UAAIC,cAAc,GAAG,CAAC,GAAG9J,KAAK,CAAC+J,iBAAV,EAA6BL,SAA7B,EAAwC3D,QAAxC,CAAiD,KAAKiE,yBAAL,EAAjD,CAArB;;AACA,UAAIH,QAAJ,EAAc;AACVC,QAAAA,cAAc,CAAC/D,QAAf,CAAwB8D,QAAxB;AACH;;AACD,aAAOC,cAAP;AACH;AAXF,GA7KmC,EAyLnC;AACCrH,IAAAA,GAAG,EAAE,2BADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,aAAO,EAAP;AACH;AAJF,GAzLmC,EA8LnC;AACCb,IAAAA,GAAG,EAAE,kBADN;AAECa,IAAAA,KAAK,EAAE,YAAW,CAAE;AAFrB,GA9LmC,EAiMnC;AACCb,IAAAA,GAAG,EAAE,iBADN;AAECa,IAAAA,KAAK,EAAE,UAAS6B,CAAT,EAAY,CAAE;AAFtB,GAjMmC,EAoMnC;AACC1C,IAAAA,GAAG,EAAE,YADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,aAAO,cAAcrD,QAAQ,CAACT,OAAT,CAAiByK,IAAjB,GAAwBC,UAA7C;AACH;AAJF,GApMmC,EAyMnC;AACCzH,IAAAA,GAAG,EAAE,kBADN;AAECa,IAAAA,KAAK,EAAE,UAAS6G,KAAT,EAAgBC,OAAhB,EAAyBC,MAAzB,EAAiCC,cAAjC,EAAiD;AACpD,WAAKC,YAAL,CAAkBC,MAAlB,CAAyBL,KAAzB,EAAgCC,OAAhC,EAAyCC,MAAzC,EAAiDC,cAAjD;AACH;AAJF,GAzMmC,EA8MnC;AACC7H,IAAAA,GAAG,EAAE,0BADN;AAECa,IAAAA,KAAK,EAAE,UAASqE,SAAT,EAAoB;AACvB,WAAK,IAAI/F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+F,SAAS,CAAChG,MAA9B,EAAsCC,CAAC,EAAvC,EAA2C;AACvC,YAAI6I,QAAQ,GAAG9C,SAAS,CAAC/F,CAAD,CAAxB;;AACA,YAAI,KAAK8I,sBAAL,CAA4BD,QAA5B,CAAJ,EAA2C;AACvC,iBAAOA,QAAP;AACH;AACJ;;AACD,aAAO,IAAP;AACH;AAVF,GA9MmC,EAyNnC;AACChI,IAAAA,GAAG,EAAE,6BADN;AAECa,IAAAA,KAAK,EAAE,UAAS2E,QAAT,EAAmB;AACtB,UAAI3D,MAAM,GAAG,KAAKuE,gBAAL,EAAb;;AACA,UAAI,KAAK6B,sBAAL,CAA4BzC,QAA5B,CAAJ,EAA2C;AACvC3D,QAAAA,MAAM,CAACqG,IAAP,CAAY1C,QAAZ;AACH;;AACD,aAAO3D,MAAP;AACH;AARF,GAzNmC,EAkOnC;AACC7B,IAAAA,GAAG,EAAE,wBADN;AAECa,IAAAA,KAAK,EAAE,UAASmH,QAAT,EAAmB;AACtB,aAAOA,QAAQ,CAACxC,QAAT,CAAkB2C,cAAzB;AACH;AAJF,GAlOmC,EAuOnC;AACCnI,IAAAA,GAAG,EAAE,eADN;AAECa,IAAAA,KAAK,EAAE,UAASuH,IAAT,EAAe;AAClB,aAAOA,IAAI,CAAClJ,MAAL,GAAc,CAAd,IAAmB,MAAMkJ,IAAI,CAAClJ,MAAX,IAAqBkJ,IAAI,CAAC,CAAD,CAAJ,KAAY,KAAK7C,uBAAhE;AACH;AAJF,GAvOmC,EA4OnC;AACCvF,IAAAA,GAAG,EAAE,2BADN;AAECa,IAAAA,KAAK,EAAE,UAASwH,KAAT,EAAgBC,cAAhB,EAAgC;AACnC,UAAIC,MAAM,GAAG,IAAb;;AACA,aAAO,KAAK/B,yBAAL,CAA+B6B,KAA/B,EAAsC,UAAS5B,IAAT,EAAe;AACxD,eAAOA,IAAI,CAACzG,GAAL,KAAauI,MAAM,CAAChD,uBAA3B;AACH,OAFM,EAEJ+C,cAFI,CAAP;AAGH;AAPF,GA5OmC,EAoPnC;AACCtI,IAAAA,GAAG,EAAE,8BADN;AAECa,IAAAA,KAAK,EAAE,UAASwH,KAAT,EAAgBC,cAAhB,EAAgC;AACnC,UAAIE,MAAM,GAAG,IAAb;;AACA,aAAO,KAAKhC,yBAAL,CAA+B6B,KAA/B,EAAsC,UAASrI,GAAT,EAAc;AACvD,eAAOA,GAAG,KAAKwI,MAAM,CAACjD,uBAAtB;AACH,OAFM,EAEJ+C,cAFI,CAAP;AAGH;AAPF,GApPmC,EA4PnC;AACCtI,IAAAA,GAAG,EAAE,2BADN;AAECa,IAAAA,KAAK,EAAE,UAASwH,KAAT,EAAgBI,SAAhB,EAA2BH,cAA3B,EAA2C;AAC9C,UAAIzG,MAAM,GAAGwG,KAAb;AACA,UAAIK,KAAK,GAAG,CAAC,CAAb;;AACA,WAAK,IAAIvJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkJ,KAAK,CAACnJ,MAA1B,EAAkCC,CAAC,EAAnC,EAAuC;AACnC,YAAIsJ,SAAS,CAACJ,KAAK,CAAClJ,CAAD,CAAN,CAAb,EAAyB;AACrBuJ,UAAAA,KAAK,GAAGvJ,CAAR;AACA;AACH;AACJ;;AACD,UAAIuJ,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,YAAIJ,cAAJ,EAAoB;AAChBzG,UAAAA,MAAM,GAAGjE,kBAAkB,CAACyK,KAAD,CAA3B;AACH;;AACDxG,QAAAA,MAAM,CAAC8G,MAAP,CAAcD,KAAd,EAAqB,CAArB;AACH;;AACD,aAAO7G,MAAP;AACH;AAlBF,GA5PmC,EA+QnC;AACC7B,IAAAA,GAAG,EAAE,0BADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,aAAO,eAAe,KAAKuC,MAAL,CAAY,eAAZ,CAAtB;AACH;AAJF,GA/QmC,EAoRnC;AACCpD,IAAAA,GAAG,EAAE,eADN;AAECa,IAAAA,KAAK,EAAE,UAAS4F,IAAT,EAAe,CAAE;AAFzB,GApRmC,EAuRnC;AACCzG,IAAAA,GAAG,EAAE,sBADN;AAECa,IAAAA,KAAK,EAAE,UAAS+H,QAAT,EAAmB,CAAE;AAF7B,GAvRmC,EA0RnC;AACC5I,IAAAA,GAAG,EAAE,oBADN;AAECa,IAAAA,KAAK,EAAE,UAASgG,OAAT,EAAkB,CAAE;AAF5B,GA1RmC,EA6RnC;AACC7G,IAAAA,GAAG,EAAE,mBADN;AAECa,IAAAA,KAAK,EAAE,YAAW;AACd,aAAO;AACHgI,QAAAA,KAAK,EAAE,IAAIpL,aAAa,CAACV,OAAlB,CAA0B;AAC7BiD,UAAAA,GAAG,EAAE,cADwB;AAE7B8I,UAAAA,IAAI,EAAE,KAAKC,SAAL,CAAenF,IAAf,CAAoB,IAApB;AAFuB,SAA1B;AADJ,OAAP;AAMH;AATF,GA7RmC,EAuSnC;AACC5D,IAAAA,GAAG,EAAE,kBADN;AAECa,IAAAA,KAAK,EAAE,YAAW,CAAE;AAFrB,GAvSmC,EA0SnC;AACCb,IAAAA,GAAG,EAAE,gBADN;AAECa,IAAAA,KAAK,EAAE,YAAW,CAAE;AAFrB,GA1SmC,EA6SnC;AACCb,IAAAA,GAAG,EAAE,YADN;AAECa,IAAAA,KAAK,EAAE,YAAW,CAAE;AAFrB,GA7SmC,EAgTnC;AACCb,IAAAA,GAAG,EAAE,cADN;AAECQ,IAAAA,GAAG,EAAE,YAAW;AACZ,aAAO,KAAK4C,MAAL,CAAY,aAAZ,CAAP;AACH;AAJF,GAhTmC,CAA1B,CAAZ;;AAsTA,SAAON,uBAAP;AACH,CA/T6B,CA+T5BpF,GAAG,CAACX,OA/TwB,CAA9B;;AAgUA,IAAIiM,QAAQ,GAAGlG,uBAAf;AACAhG,OAAO,CAACC,OAAR,GAAkBiM,QAAlB;AACAC,MAAM,CAACnM,OAAP,GAAiBA,OAAO,CAACC,OAAzB","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.item_list.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _double_click = require(\"../../events/double_click\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _icon = require(\"../../core/utils/icon\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _custom_store = _interopRequireDefault(require(\"../../data/custom_store\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n    if (!o) {\r\n        return\r\n    }\r\n    if (\"string\" === typeof o) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n    var n = Object.prototype.toString.call(o).slice(8, -1);\r\n    if (\"Object\" === n && o.constructor) {\r\n        n = o.constructor.name\r\n    }\r\n    if (\"Map\" === n || \"Set\" === n) {\r\n        return Array.from(o)\r\n    }\r\n    if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (\"undefined\" !== typeof Symbol && Symbol.iterator in Object(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return _arrayLikeToArray(arr)\r\n    }\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n    if (null == len || len > arr.length) {\r\n        len = arr.length\r\n    }\r\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n        arr2[i] = arr[i]\r\n    }\r\n    return arr2\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar FILE_MANAGER_FILES_VIEW_CLASS = \"dx-filemanager-files-view\";\r\nvar FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE = \"dxFileManager_open\";\r\nvar FileManagerItemListBase = function(_Widget) {\r\n    _inherits(FileManagerItemListBase, _Widget);\r\n    var _super = _createSuper(FileManagerItemListBase);\r\n\r\n    function FileManagerItemListBase() {\r\n        _classCallCheck(this, FileManagerItemListBase);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(FileManagerItemListBase, [{\r\n        key: \"_init\",\r\n        value: function() {\r\n            this._initActions();\r\n            this._lockFocusedItemProcessing = false;\r\n            this._focusedItemKey = this.option(\"focusedItemKey\");\r\n            _get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_init\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this.$element().addClass(FILE_MANAGER_FILES_VIEW_CLASS);\r\n            var dblClickEventName = (0, _index.addNamespace)(_double_click.name, FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE);\r\n            _events_engine.default.on(this.$element(), dblClickEventName, this._getItemSelector(), this._onItemDblClick.bind(this));\r\n            _get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_initMarkup\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            this._actions = {\r\n                onError: this._createActionByOption(\"onError\"),\r\n                onSelectionChanged: this._createActionByOption(\"onSelectionChanged\"),\r\n                onFocusedItemChanged: this._createActionByOption(\"onFocusedItemChanged\"),\r\n                onSelectedItemOpened: this._createActionByOption(\"onSelectedItemOpened\"),\r\n                onContextMenuShowing: this._createActionByOption(\"onContextMenuShowing\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                selectionMode: \"single\",\r\n                selectedItemKeys: [],\r\n                focusedItemKey: void 0,\r\n                contextMenu: null,\r\n                getItems: null,\r\n                getItemThumbnail: null,\r\n                onError: null,\r\n                onSelectionChanged: null,\r\n                onFocusedItemChanged: null,\r\n                onSelectedItemOpened: null,\r\n                onContextMenuShowing: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"selectionMode\":\r\n                case \"contextMenu\":\r\n                case \"getItems\":\r\n                case \"getItemThumbnail\":\r\n                    this.repaint();\r\n                    break;\r\n                case \"selectedItemKeys\":\r\n                    this._setSelectedItemKeys(args.value);\r\n                    break;\r\n                case \"focusedItemKey\":\r\n                    if (!this._lockFocusedItemProcessing) {\r\n                        this._setFocusedItemKey(args.value)\r\n                    }\r\n                    break;\r\n                case \"onError\":\r\n                case \"onSelectedItemOpened\":\r\n                case \"onSelectionChanged\":\r\n                case \"onFocusedItemChanged\":\r\n                case \"onContextMenuShowing\":\r\n                    this._actions[name] = this._createActionByOption(name);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManagerItemListBase.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItems\",\r\n        value: function() {\r\n            var _this = this;\r\n            return this._getItemsInternal().done(function(itemInfos) {\r\n                _this._itemCount = itemInfos.length;\r\n                var parentDirectoryItem = _this._findParentDirectoryItem(itemInfos);\r\n                _this._hasParentDirectoryItem = !!parentDirectoryItem;\r\n                _this._parentDirectoryItemKey = parentDirectoryItem ? parentDirectoryItem.fileItem.key : null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getItemsInternal\",\r\n        value: function() {\r\n            var itemsGetter = this.option(\"getItems\");\r\n            var itemsResult = itemsGetter ? itemsGetter() : [];\r\n            return (0, _deferred.when)(itemsResult)\r\n        }\r\n    }, {\r\n        key: \"_raiseOnError\",\r\n        value: function(error) {\r\n            this._actions.onError({\r\n                error: error\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseSelectionChanged\",\r\n        value: function(args) {\r\n            this._actions.onSelectionChanged(args)\r\n        }\r\n    }, {\r\n        key: \"_raiseFocusedItemChanged\",\r\n        value: function(args) {\r\n            this._actions.onFocusedItemChanged(args)\r\n        }\r\n    }, {\r\n        key: \"_raiseSelectedItemOpened\",\r\n        value: function(fileItemInfo) {\r\n            this._actions.onSelectedItemOpened({\r\n                fileItemInfo: fileItemInfo\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseContextMenuShowing\",\r\n        value: function() {\r\n            this._actions.onContextMenuShowing()\r\n        }\r\n    }, {\r\n        key: \"_tryRaiseSelectionChanged\",\r\n        value: function(_ref) {\r\n            var _this2 = this;\r\n            var selectedItemInfos = _ref.selectedItemInfos,\r\n                selectedItems = _ref.selectedItems,\r\n                selectedItemKeys = _ref.selectedItemKeys,\r\n                currentSelectedItemKeys = _ref.currentSelectedItemKeys,\r\n                currentDeselectedItemKeys = _ref.currentDeselectedItemKeys;\r\n            var parentDirectoryItem = this._findParentDirectoryItem(this.getSelectedItems());\r\n            if (parentDirectoryItem) {\r\n                this._deselectItem(parentDirectoryItem)\r\n            }\r\n            var raiseEvent = !this._hasParentDirectoryItem;\r\n            raiseEvent = raiseEvent || this._hasValidKeys(currentSelectedItemKeys) || this._hasValidKeys(currentDeselectedItemKeys);\r\n            if (raiseEvent) {\r\n                selectedItemInfos = this._filterOutItemByPredicate(selectedItemInfos, function(item) {\r\n                    return item.fileItem.key === _this2._parentDirectoryItemKey\r\n                });\r\n                selectedItems = this._filterOutParentDirectory(selectedItems);\r\n                selectedItemKeys = this._filterOutParentDirectoryKey(selectedItemKeys, true);\r\n                currentSelectedItemKeys = this._filterOutParentDirectoryKey(currentSelectedItemKeys, true);\r\n                currentDeselectedItemKeys = this._filterOutParentDirectoryKey(currentDeselectedItemKeys, true);\r\n                this._raiseSelectionChanged({\r\n                    selectedItemInfos: selectedItemInfos,\r\n                    selectedItems: selectedItems,\r\n                    selectedItemKeys: selectedItemKeys,\r\n                    currentSelectedItemKeys: currentSelectedItemKeys,\r\n                    currentDeselectedItemKeys: currentDeselectedItemKeys\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onFocusedItemChanged\",\r\n        value: function(args) {\r\n            if (this._focusedItemKey === args.itemKey) {\r\n                return\r\n            }\r\n            this._focusedItemKey = args.itemKey;\r\n            this._lockFocusedItemProcessing = true;\r\n            this.option(\"focusedItemKey\", args.itemKey);\r\n            this._lockFocusedItemProcessing = false;\r\n            this._raiseFocusedItemChanged(args)\r\n        }\r\n    }, {\r\n        key: \"_getItemThumbnail\",\r\n        value: function(fileInfo) {\r\n            var itemThumbnailGetter = this.option(\"getItemThumbnail\");\r\n            return itemThumbnailGetter ? itemThumbnailGetter(fileInfo) : {\r\n                thumbnail: \"\"\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemThumbnailContainer\",\r\n        value: function(fileInfo) {\r\n            var _this$_getItemThumbna = this._getItemThumbnail(fileInfo),\r\n                thumbnail = _this$_getItemThumbna.thumbnail,\r\n                cssClass = _this$_getItemThumbna.cssClass;\r\n            var $itemThumbnail = (0, _icon.getImageContainer)(thumbnail).addClass(this._getItemThumbnailCssClass());\r\n            if (cssClass) {\r\n                $itemThumbnail.addClass(cssClass)\r\n            }\r\n            return $itemThumbnail\r\n        }\r\n    }, {\r\n        key: \"_getItemThumbnailCssClass\",\r\n        value: function() {\r\n            return \"\"\r\n        }\r\n    }, {\r\n        key: \"_getItemSelector\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_onItemDblClick\",\r\n        value: function(e) {}\r\n    }, {\r\n        key: \"_isDesktop\",\r\n        value: function() {\r\n            return \"desktop\" === _devices.default.real().deviceType\r\n        }\r\n    }, {\r\n        key: \"_showContextMenu\",\r\n        value: function(items, element, offset, targetFileItem) {\r\n            this._contextMenu.showAt(items, element, offset, targetFileItem)\r\n        }\r\n    }, {\r\n        key: \"_findParentDirectoryItem\",\r\n        value: function(itemInfos) {\r\n            for (var i = 0; i < itemInfos.length; i++) {\r\n                var itemInfo = itemInfos[i];\r\n                if (this._isParentDirectoryItem(itemInfo)) {\r\n                    return itemInfo\r\n                }\r\n            }\r\n            return null\r\n        }\r\n    }, {\r\n        key: \"_getFileItemsForContextMenu\",\r\n        value: function(fileItem) {\r\n            var result = this.getSelectedItems();\r\n            if (this._isParentDirectoryItem(fileItem)) {\r\n                result.push(fileItem)\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_isParentDirectoryItem\",\r\n        value: function(itemInfo) {\r\n            return itemInfo.fileItem.isParentFolder\r\n        }\r\n    }, {\r\n        key: \"_hasValidKeys\",\r\n        value: function(keys) {\r\n            return keys.length > 1 || 1 === keys.length && keys[0] !== this._parentDirectoryItemKey\r\n        }\r\n    }, {\r\n        key: \"_filterOutParentDirectory\",\r\n        value: function(array, createNewArray) {\r\n            var _this3 = this;\r\n            return this._filterOutItemByPredicate(array, function(item) {\r\n                return item.key === _this3._parentDirectoryItemKey\r\n            }, createNewArray)\r\n        }\r\n    }, {\r\n        key: \"_filterOutParentDirectoryKey\",\r\n        value: function(array, createNewArray) {\r\n            var _this4 = this;\r\n            return this._filterOutItemByPredicate(array, function(key) {\r\n                return key === _this4._parentDirectoryItemKey\r\n            }, createNewArray)\r\n        }\r\n    }, {\r\n        key: \"_filterOutItemByPredicate\",\r\n        value: function(array, predicate, createNewArray) {\r\n            var result = array;\r\n            var index = -1;\r\n            for (var i = 0; i < array.length; i++) {\r\n                if (predicate(array[i])) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n            if (index !== -1) {\r\n                if (createNewArray) {\r\n                    result = _toConsumableArray(array)\r\n                }\r\n                result.splice(index, 1)\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_isMultipleSelectionMode\",\r\n        value: function() {\r\n            return \"multiple\" === this.option(\"selectionMode\")\r\n        }\r\n    }, {\r\n        key: \"_deselectItem\",\r\n        value: function(item) {}\r\n    }, {\r\n        key: \"_setSelectedItemKeys\",\r\n        value: function(itemKeys) {}\r\n    }, {\r\n        key: \"_setFocusedItemKey\",\r\n        value: function(itemKey) {}\r\n    }, {\r\n        key: \"_createDataSource\",\r\n        value: function() {\r\n            return {\r\n                store: new _custom_store.default({\r\n                    key: \"fileItem.key\",\r\n                    load: this._getItems.bind(this)\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"getSelectedItems\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"clearSelection\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"selectItem\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_contextMenu\",\r\n        get: function() {\r\n            return this.option(\"contextMenu\")\r\n        }\r\n    }]);\r\n    return FileManagerItemListBase\r\n}(_ui.default);\r\nvar _default = FileManagerItemListBase;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}