{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{TopTenList}from\"./TopTenList\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi}from\"redux/actions/common\";import{NormalSelect}from\"component/common\";import\"./style.scss\";export var NewQuickTopSaleClass=/*#__PURE__*/function(_Component){_inherits(NewQuickTopSaleClass,_Component);var _super=_createSuper(NewQuickTopSaleClass);function NewQuickTopSaleClass(){var _this;_classCallCheck(this,NewQuickTopSaleClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={top_product:[],top_service:[],top_prepaid:[],top_voucher:[],top_td:[],toplistcount:10,Top10byPrice:true,Top20byPrice:false,Top10byQty:false,Top20byQty:false,orderBy:\"price\",transtypeOptions:[{label:\"Top 10 (Price)\",value:\"price_10\"},{label:\"Top 20 (Price)\",value:\"price_20\"},{label:\"Top 10 (Qty)\",value:\"qty_10\"},{label:\"Top 20 (Qty)\",value:\"qty_20\"}],transtype:\"price_10\"};_this.getTopList=function(){var _this$state=_this.state,top_product=_this$state.top_product,top_service=_this$state.top_service,top_prepaid=_this$state.top_prepaid,top_voucher=_this$state.top_voucher,top_td=_this$state.top_td,toplistcount=_this$state.toplistcount,orderBy=_this$state.orderBy;_this.props.getCommonApi(\"dashboardtopproduct/?select=\".concat(toplistcount,\"&order_by=\").concat(orderBy)).then(function(res){console.log(res,\"custtopsalereport\");top_product=res.top_product;top_service=res.top_service;top_prepaid=res.top_prepaid;top_voucher=res.top_voucher;top_td=res.top_td;_this.setState({top_product:top_product,top_service:top_service,top_prepaid:top_prepaid,top_voucher:top_voucher,top_td:top_td});});};_this.handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$target,value,name,transtype,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;transtype=_this.state.transtype;if(!(transtype!=value)){_context.next=8;break;}transtype=value;res=value.split(\"_\");_context.next=7;return _this.setState({transtype:transtype,toplistcount:Number(res[1]),orderBy:res[0]});case 7:_this.getTopList();case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(NewQuickTopSaleClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getTopList();}},{key:\"render\",value:function render(){var _this$state2=this.state,top_product=_this$state2.top_product,top_service=_this$state2.top_service,top_prepaid=_this$state2.top_prepaid,top_voucher=_this$state2.top_voucher,top_td=_this$state2.top_td,Top10byPrice=_this$state2.Top10byPrice,Top20byPrice=_this$state2.Top20byPrice,Top10byQty=_this$state2.Top10byQty,Top20byQty=_this$state2.Top20byQty,transtypeOptions=_this$state2.transtypeOptions,transtype=_this$state2.transtype;return/*#__PURE__*/React.createElement(\"div\",{className:\"TopTen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end flex-row mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:\"false\",options:transtypeOptions,value:transtype,iconname:\"icon-down-key\",name:\"transtype\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap px-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(TopTenList,{Title:\"Product Sales\",topTenList:top_product})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(TopTenList,{Title:\"Service Sales\",topTenList:top_service})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(TopTenList,{Title:\"Prepaid Sales\",topTenList:top_prepaid})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(TopTenList,{Title:\"Voucher Sales\",topTenList:top_voucher})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(TopTenList,{Title:\"Treatment Done\",topTenList:top_td}))));}}]);return NewQuickTopSaleClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi},dispatch);};export var NewQuickTopSale=connect(null,mapDispatchToProps)(NewQuickTopSaleClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Dashboard/Statistic/AdminStats/NewDashboard/NewQuickTopSale/index.js"],"names":["React","Component","TopTenList","connect","bindActionCreators","getCommonApi","NormalSelect","NewQuickTopSaleClass","state","top_product","top_service","top_prepaid","top_voucher","top_td","toplistcount","Top10byPrice","Top20byPrice","Top10byQty","Top20byQty","orderBy","transtypeOptions","label","value","transtype","getTopList","props","then","res","console","log","setState","handleChange","target","name","split","Number","mapDispatchToProps","dispatch","NewQuickTopSale"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { TopTenList } from \"./TopTenList\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport { NormalSelect } from \"component/common\";\r\nimport \"./style.scss\";\r\n\r\nexport class NewQuickTopSaleClass extends Component {\r\n  state = {\r\n    top_product: [],\r\n    top_service: [],\r\n    top_prepaid: [],\r\n    top_voucher: [],\r\n    top_td: [],\r\n    toplistcount: 10,\r\n    Top10byPrice: true,\r\n    Top20byPrice: false,\r\n    Top10byQty: false,\r\n    Top20byQty: false,\r\n    orderBy: \"price\",\r\n    transtypeOptions: [\r\n      { label: \"Top 10 (Price)\", value: \"price_10\" },\r\n      { label: \"Top 20 (Price)\", value: \"price_20\" },\r\n      { label: \"Top 10 (Qty)\", value: \"qty_10\" },\r\n      { label: \"Top 20 (Qty)\", value: \"qty_20\" },\r\n    ],\r\n    transtype: \"price_10\",\r\n  };\r\n  componentDidMount() {\r\n    this.getTopList();\r\n  }\r\n\r\n  getTopList = () => {\r\n    let {\r\n      top_product,\r\n      top_service,\r\n      top_prepaid,\r\n      top_voucher,\r\n      top_td,\r\n      toplistcount,\r\n      orderBy,\r\n    } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `dashboardtopproduct/?select=${toplistcount}&order_by=${orderBy}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"custtopsalereport\");\r\n        top_product = res.top_product;\r\n        top_service = res.top_service;\r\n        top_prepaid = res.top_prepaid;\r\n        top_voucher = res.top_voucher;\r\n        top_td = res.top_td;\r\n        this.setState({\r\n          top_product,\r\n          top_service,\r\n          top_prepaid,\r\n          top_voucher,\r\n          top_td,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { transtype } = this.state;\r\n    if (transtype != value) {\r\n      transtype = value;\r\n      let res = value.split(\"_\");\r\n      await this.setState({\r\n        transtype,\r\n        toplistcount: Number(res[1]),\r\n        orderBy: res[0],\r\n      });\r\n      this.getTopList();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      top_product,\r\n      top_service,\r\n      top_prepaid,\r\n      top_voucher,\r\n      top_td,\r\n      Top10byPrice,\r\n      Top20byPrice,\r\n      Top10byQty,\r\n      Top20byQty,\r\n      transtypeOptions,\r\n      transtype,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"TopTen\">\r\n        <div className=\"d-flex justify-content-end flex-row mt-3\">\r\n          <div className=\"col-md-2 col-12\">\r\n            <NormalSelect\r\n              placeholderrequired=\"false\"\r\n              options={transtypeOptions}\r\n              value={transtype}\r\n              iconname=\"icon-down-key\"\r\n              name=\"transtype\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex flex-wrap px-2\">\r\n          <div className=\"col-md-4 col-12\">\r\n            <TopTenList Title=\"Product Sales\" topTenList={top_product} />\r\n          </div>\r\n          <div className=\"col-md-4 col-12\">\r\n            <TopTenList Title=\"Service Sales\" topTenList={top_service} />\r\n          </div>\r\n          <div className=\"col-md-4 col-12\">\r\n            <TopTenList Title=\"Prepaid Sales\" topTenList={top_prepaid} />\r\n          </div>\r\n          <div className=\"col-md-4 col-12\">\r\n            <TopTenList Title=\"Voucher Sales\" topTenList={top_voucher} />\r\n          </div>\r\n          <div className=\"col-md-4 col-12\">\r\n            <TopTenList Title=\"Treatment Done\" topTenList={top_td} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const NewQuickTopSale = connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(NewQuickTopSaleClass);\r\n"]},"metadata":{},"sourceType":"module"}