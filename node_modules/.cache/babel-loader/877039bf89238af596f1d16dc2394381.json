{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\CustomerPlusSettings\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton, NormalInput, NormalSelect } from \"component/common\";\nimport { getCustomerPlusSettings, updateCustomerPlusSettings } from \"redux/actions/customerPlus\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nexport class SettingsClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataList: [],\n      originalData: [],\n      tableHeader: [{\n        label: \"Field Name\",\n        sortKey: \"display_field_name\",\n        width: 220\n      }, {\n        label: \"Mandatory\",\n        sortKey: \"mandatory\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Show in Register\",\n        sortKey: \"visible_in_registration\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Show in Profile\",\n        sortKey: \"visible_in_profile\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Show in Listing\",\n        sortKey: \"visible_in_listing\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Show Label\",\n        sortKey: \"showLabel\",\n        divClass: \"justify-content-center\"\n      }],\n      isLoading: true,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleSearch = event => {\n      let {\n        originalData,\n        dataList\n      } = this.state;\n      dataList = originalData.filter(e => e.display_field_name.toLocaleLowerCase().includes(event.target.value.toLocaleLowerCase()) || e.field_name.toLocaleLowerCase().includes(event.target.value.toLocaleLowerCase()));\n      this.updateState({\n        dataList\n      });\n    };\n\n    this.loadData = async () => {\n      this.updateState({\n        isLoading: true\n      });\n      await this.props.getCustomerPlusSettings();\n      let {\n        dataList\n      } = this.props;\n      this.updateState({\n        dataList,\n        originalData: dataList,\n        isLoading: false\n      });\n    };\n\n    this.handleSubmit = async () => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        dataList\n      } = this.state;\n      if (dataList.length == 0) return;\n      let reqData = {\n        customerControlList: dataList\n      };\n      await this.props.updateCustomerPlusSettings(JSON.stringify(reqData));\n      this.loadData();\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    let {\n      dataList,\n      tableHeader,\n      isLoading\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, t(\"Customer Plus Settings\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Field\",\n      onChange: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-3 p-0 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/customerplus/settings/layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Edit Layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-3 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Save\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: tableHeader,\n      queryHandler: this.handlePagination,\n      parentHeaderChange: value => this.updateState(() => tableHeader = value),\n      sortData: this.state.originalData,\n      onSort: list => this.updateState({\n        dataList: list\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, \"Loading...\"))))) : dataList ? dataList.map((item, index) => {\n      var _tableHeader$0$enable, _tableHeader$3$enable, _tableHeader$3$enable2, _tableHeader$3$enable3, _tableHeader$3$enable4, _tableHeader$3$enable5;\n\n      let {\n        display_field_name,\n        visible_in_profile,\n        visible_in_listing,\n        mandatory,\n        visible_in_registration,\n        showLabel\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$0$enable = tableHeader[0].enabled) !== null && _tableHeader$0$enable !== void 0 ? _tableHeader$0$enable : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }, display_field_name)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable = tableHeader[3].enabled) !== null && _tableHeader$3$enable !== void 0 ? _tableHeader$3$enable : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: mandatory,\n        onClick: () => {\n          dataList[index].mandatory = !mandatory;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable2 = tableHeader[3].enabled) !== null && _tableHeader$3$enable2 !== void 0 ? _tableHeader$3$enable2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_registration,\n        onClick: () => {\n          dataList[index].visible_in_registration = !visible_in_registration;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable3 = tableHeader[3].enabled) !== null && _tableHeader$3$enable3 !== void 0 ? _tableHeader$3$enable3 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_profile,\n        onClick: () => {\n          dataList[index].visible_in_profile = !visible_in_profile;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable4 = tableHeader[3].enabled) !== null && _tableHeader$3$enable4 !== void 0 ? _tableHeader$3$enable4 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_listing,\n        onClick: () => {\n          dataList[index].visible_in_listing = !visible_in_listing;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable5 = tableHeader[3].enabled) !== null && _tableHeader$3$enable5 !== void 0 ? _tableHeader$3$enable5 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: showLabel,\n        onClick: () => {\n          dataList[index].showLabel = !showLabel;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 27\n        }\n      }))));\n    }) : null))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  dataList: state.customerPlus.customerPlusSettings\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomerPlusSettings,\n    updateCustomerPlusSettings\n  }, dispatch);\n};\n\nexport const Settings = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(SettingsClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/CustomerPlus/CustomerPlusSettings/index.js"],"names":["React","NormalButton","NormalInput","NormalSelect","getCustomerPlusSettings","updateCustomerPlusSettings","InputSearch","TableWrapper","connect","bindActionCreators","withTranslation","Link","SettingsClass","Component","state","dataList","originalData","tableHeader","label","sortKey","width","divClass","isLoading","isMounted","updateState","data","setState","handleSearch","event","filter","e","display_field_name","toLocaleLowerCase","includes","target","value","field_name","loadData","props","handleSubmit","length","reqData","customerControlList","JSON","stringify","componentWillUnmount","componentDidMount","render","t","handlePagination","list","map","item","index","visible_in_profile","visible_in_listing","mandatory","visible_in_registration","showLabel","enabled","mapStateToProps","customerPlus","customerPlusSettings","mapDispatchToProps","dispatch","Settings"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton, NormalInput, NormalSelect } from \"component/common\";\r\nimport {\r\n  getCustomerPlusSettings,\r\n  updateCustomerPlusSettings,\r\n} from \"redux/actions/customerPlus\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport class SettingsClass extends React.Component {\r\n  state = {\r\n    dataList: [],\r\n    originalData: [],\r\n    tableHeader: [\r\n      { label: \"Field Name\", sortKey: \"display_field_name\", width: 220 },\r\n      {\r\n        label: \"Mandatory\",\r\n        sortKey: \"mandatory\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Show in Register\",\r\n        sortKey: \"visible_in_registration\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Show in Profile\",\r\n        sortKey: \"visible_in_profile\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Show in Listing\",\r\n        sortKey: \"visible_in_listing\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Show Label\",\r\n        sortKey: \"showLabel\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n    ],\r\n    isLoading: true,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadData();\r\n  }\r\n\r\n  handleSearch = event => {\r\n    let { originalData, dataList } = this.state;\r\n    dataList = originalData.filter(\r\n      e =>\r\n        e.display_field_name\r\n          .toLocaleLowerCase()\r\n          .includes(event.target.value.toLocaleLowerCase()) ||\r\n        e.field_name\r\n          .toLocaleLowerCase()\r\n          .includes(event.target.value.toLocaleLowerCase())\r\n    );\r\n    this.updateState({ dataList });\r\n  };\r\n\r\n  loadData = async () => {\r\n    this.updateState({ isLoading: true });\r\n    await this.props.getCustomerPlusSettings();\r\n    let { dataList } = this.props;\r\n    this.updateState({ dataList, originalData: dataList, isLoading: false });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    this.updateState({ isLoading: true });\r\n    let { dataList } = this.state;\r\n    if (dataList.length == 0) return;\r\n    let reqData = { customerControlList: dataList };\r\n    await this.props.updateCustomerPlusSettings(JSON.stringify(reqData));\r\n    this.loadData();\r\n  };\r\n\r\n  render() {\r\n    let { dataList, tableHeader, isLoading } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"col-md-12 mb-4 p-0\">\r\n          <h3 className=\"head-label\">{t(\"Customer Plus Settings\")}</h3>\r\n        </div>\r\n        <div className=\"row align-items-center mb-4\">\r\n          <div className=\"col\">\r\n            <div className=\"d-flex\">\r\n              <div className=\"w-100 mr-5\">\r\n                <InputSearch\r\n                  className=\"\"\r\n                  placeholder=\"Search Field\"\r\n                  onChange={this.handleSearch}\r\n                />\r\n              </div>\r\n              <div className=\"w-100 col-3 p-0 mr-2\">\r\n                <Link to=\"/admin/customerplus/settings/layout\">\r\n                  <NormalButton\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15 float-right\"\r\n                    label=\"Edit Layout\"\r\n                  />\r\n                </Link>\r\n              </div>\r\n              <div className=\"w-100 col-3 p-0\">\r\n                <NormalButton\r\n                  mainbg={true}\r\n                  className=\"col-12 fs-15 float-right\"\r\n                  label=\"Save\"\r\n                  onClick={this.handleSubmit}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <div className=\"table-container\">\r\n            <TableWrapper\r\n              headerDetails={tableHeader}\r\n              queryHandler={this.handlePagination}\r\n              parentHeaderChange={value =>\r\n                this.updateState(() => (tableHeader = value))\r\n              }\r\n              sortData={this.state.originalData}\r\n              onSort={list => this.updateState({ dataList: list })}\r\n            >\r\n              {isLoading ? (\r\n                <tr>\r\n                  <td colSpan=\"7\">\r\n                    <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                      <div class=\"spinner-border\" role=\"status\">\r\n                        <span class=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : dataList ? (\r\n                dataList.map((item, index) => {\r\n                  let {\r\n                    display_field_name,\r\n                    visible_in_profile,\r\n                    visible_in_listing,\r\n                    mandatory,\r\n                    visible_in_registration,\r\n                    showLabel,\r\n                  } = item;\r\n                  return (\r\n                    <tr key={index}>\r\n                      <td\r\n                        className={\r\n                          tableHeader[0].enabled ?? true ? \"\" : \"d-none\"\r\n                        }\r\n                      >\r\n                        <div className=\"text-left\">{display_field_name}</div>\r\n                      </td>\r\n                      <td\r\n                        className={\r\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\r\n                        }\r\n                      >\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={mandatory}\r\n                            onClick={() => {\r\n                              dataList[index].mandatory = !mandatory;\r\n                              this.updateState({ dataList });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td\r\n                        className={\r\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\r\n                        }\r\n                      >\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={visible_in_registration}\r\n                            onClick={() => {\r\n                              dataList[index].visible_in_registration =\r\n                                !visible_in_registration;\r\n                              this.updateState({ dataList });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td\r\n                        className={\r\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\r\n                        }\r\n                      >\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={visible_in_profile}\r\n                            onClick={() => {\r\n                              dataList[index].visible_in_profile =\r\n                                !visible_in_profile;\r\n                              this.updateState({ dataList });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td\r\n                        className={\r\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\r\n                        }\r\n                      >\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={visible_in_listing}\r\n                            onClick={() => {\r\n                              dataList[index].visible_in_listing =\r\n                                !visible_in_listing;\r\n                              this.updateState({ dataList });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td\r\n                        className={\r\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\r\n                        }\r\n                      >\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={showLabel}\r\n                            onClick={() => {\r\n                              dataList[index].showLabel = !showLabel;\r\n                              this.updateState({ dataList });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : null}\r\n            </TableWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  dataList: state.customerPlus.customerPlusSettings,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCustomerPlusSettings,\r\n      updateCustomerPlusSettings,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Settings = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(SettingsClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}