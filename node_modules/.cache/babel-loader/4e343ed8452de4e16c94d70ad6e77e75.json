{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Quantum\\\\Quotation\\\\AddQuotation\\\\PrintQuotationModule.js\";\nimport React, { Component } from \"react\";\nimport { NormalButton, NormalSelect } from \"component/common\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { history } from \"helpers\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\"; // import { ChangePayment } from \"./ChangePayment\";\n// import { ChangeStaff } from \"./ChangeStaff\";\n\nimport { NormalModal } from \"component/common\";\nimport closeIcon from \"assets/images/close.png\"; // import { ChangeDate } from \"./ChangeDate\";\n\nimport { SignPanel } from \"component/common/SignPanel\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\nimport { withTranslation } from \"react-i18next\"; // import logo from 'assets/images/logo.png'\n\nexport class PrintQuotationModuleClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      responseData: [],\n      downloadlLink: \"\",\n      isOpenPayment: false,\n      isOpenstaff: false,\n      settingData: {},\n      isOpenDate: false,\n      signPhoto: \"\",\n      isPrintPdfClick: false,\n      selectTemplate: \"\",\n      templates: [],\n      isModalVisibleTemplate: false\n    };\n\n    this.signFunc = () => {\n      this.props.getCommonApi(`quotationsign/?quo_id=${this.props.match.params.id}`).then(res => {\n        console.log(\"responseofprint:\", res);\n\n        if (res.status != 204) {\n          this.setState({\n            signPhoto: res.data[0].quo_sig\n          });\n        }\n      });\n    };\n\n    this.getResponseDate = () => {\n      this.props.getCommonApi(`quotationpdf/?searchid=${this.props.match.params.id}`).then(res => {\n        console.log(\"responseofprint:\", res);\n        this.setState({\n          responseData: res.data\n        });\n      });\n    };\n\n    this.handleSignSaveClick = imgData => {\n      let formData = new FormData();\n      formData.append(\"fk_quotation\", this.props.match.params.id);\n      formData.append(\"quo_sig\", this.dataURLtoFile(imgData, `${this.props.match.params.id}.jpeg`));\n      this.props.commonCreateApi(`quotationsign/`, formData).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 201) {\n          this.signFunc();\n        }\n      });\n    };\n\n    this.dataURLtoFile = (dataurl, filename, mime) => {\n      var arr = dataurl.split(\",\"),\n          mime = arr[0].match(/:(.*?);/)[1],\n          bstr = atob(arr[1]),\n          n = bstr.length,\n          u8arr = new Uint8Array(n);\n\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n\n      return new File([u8arr], filename, {\n        type: mime\n      });\n    };\n\n    this.handlePrintPdfFormat = url => {\n      this.setState({\n        isPrintPdfClick: false\n      }); //var a = document.createElement(\"a\");\n      //a.setAttribute(\"download\", `${new Date()}.pdf`);\n      //a.setAttribute(\"href\", url);\n      //a.click();\n\n      window.open(url);\n    };\n\n    this.getAllTemplates = async () => {\n      var _res$data;\n\n      const res = await this.props.getCommonApi(\"termsandcondition/\");\n\n      if ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.dataList) {\n        this.setState({\n          templates: res.data.dataList\n        });\n      }\n    };\n\n    this.selectTemplate = id => {\n      let {\n        templates\n      } = this.state;\n      const t = templates.find(x => x.id == id);\n      this.setState({\n        selectTemplate: t\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      this.selectTemplate(value.id);\n    };\n\n    this.handleToogleModalTemplate = () => {\n      let {\n        isModalVisibleTemplate\n      } = this.state;\n      isModalVisibleTemplate = !isModalVisibleTemplate;\n      this.setState({\n        isModalVisibleTemplate\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getResponseDate();\n    this.signFunc();\n    this.getAllTemplates();\n  }\n\n  render() {\n    var _this$state$responseD, _this$state$responseD2, _this$state$responseD3, _this$state$responseD4, _this$state$responseD5, _this$state$responseD6, _this$state$responseD7, _this$state$responseD8, _this$state$responseD9, _this$state$responseD10, _this$state$responseD11, _this$state$responseD12, _this$state$responseD13, _this$state$responseD14, _this$state$responseD15, _this$state$responseD16, _this$state$responseD17;\n\n    let {\n      responseData = [],\n      templates,\n      selectTemplate\n    } = this.state;\n    let {\n      sub_data = {},\n      footer = {}\n    } = responseData;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"print-section container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"print-bill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"receipt card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: (_this$state$responseD = this.state.responseData[0]) === null || _this$state$responseD === void 0 ? void 0 : _this$state$responseD.company_header.logo,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"bill-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, (_this$state$responseD2 = this.state.responseData[0]) === null || _this$state$responseD2 === void 0 ? void 0 : _this$state$responseD2.company_header.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"receipt-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, (_this$state$responseD3 = this.state.responseData[0]) === null || _this$state$responseD3 === void 0 ? void 0 : _this$state$responseD3.company_header.address)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bill-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 23\n      }\n    }, \"Invoice No.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD4 = this.state.responseData[0]) === null || _this$state$responseD4 === void 0 ? void 0 : _this$state$responseD4.quotation.quotation_number)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, \"Invoice Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD5 = this.state.responseData[0]) === null || _this$state$responseD5 === void 0 ? void 0 : _this$state$responseD5.quotation.created_at)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD6 = this.state.responseData[0]) === null || _this$state$responseD6 === void 0 ? void 0 : _this$state$responseD6.quotation.status)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, \"Project\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD7 = this.state.responseData[0]) === null || _this$state$responseD7 === void 0 ? void 0 : _this$state$responseD7.quotation.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 23\n      }\n    }, \"Validity\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD8 = this.state.responseData[0]) === null || _this$state$responseD8 === void 0 ? void 0 : _this$state$responseD8.quotation.validity))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 23\n      }\n    }, \"Terms\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD9 = this.state.responseData[0]) === null || _this$state$responseD9 === void 0 ? void 0 : _this$state$responseD9.quotation.terms)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 23\n      }\n    }, \"Company Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD10 = this.state.responseData[0]) === null || _this$state$responseD10 === void 0 ? void 0 : _this$state$responseD10.quotation.company)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 23\n      }\n    }, \"Attn To\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD11 = this.state.responseData[0]) === null || _this$state$responseD11 === void 0 ? void 0 : _this$state$responseD11.quotation.contact_person)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }\n    }, \"Prepared By\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD12 = this.state.responseData[0]) === null || _this$state$responseD12 === void 0 ? void 0 : _this$state$responseD12.quotation.in_charge)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 23\n      }\n    }, \"Printed On\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 23\n      }\n    }, new Date().toISOString().slice(0, 10)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bill-detail mt-4 py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0 table-header  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }\n    }, \"Code\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 19\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }\n    }, \"Unit Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, \"Amount.\")), (_this$state$responseD13 = this.state.responseData[0]) === null || _this$state$responseD13 === void 0 ? void 0 : _this$state$responseD13.quotationitem.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 mt-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 23\n        }\n      }, item.quotation_itemcode), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 23\n        }\n      }, item.quotation_itemdesc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 23\n        }\n      }, item.quotation_quantity), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 23\n        }\n      }, item.quotation_unitprice), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 23\n        }\n      }, item.quotation_unitprice * item.quotation_quantity));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"payment-detail my-4 fs-14 f-600 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 23\n      }\n    }, \"Shipping Cost :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 23\n      }\n    }, (_this$state$responseD14 = this.state.responseData[0]) === null || _this$state$responseD14 === void 0 ? void 0 : _this$state$responseD14.quotationdtl.q_shipcost)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 23\n      }\n    }, \"Discount :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 23\n      }\n    }, \" \", (_this$state$responseD15 = this.state.responseData[0]) === null || _this$state$responseD15 === void 0 ? void 0 : _this$state$responseD15.quotationdtl.q_discount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 23\n      }\n    }, \"Taxes :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 23\n      }\n    }, (_this$state$responseD16 = this.state.responseData[0]) === null || _this$state$responseD16 === void 0 ? void 0 : _this$state$responseD16.quotationdtl.q_taxes)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 23\n      }\n    }, \" Total :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 23\n      }\n    }, (_this$state$responseD17 = this.state.responseData[0]) === null || _this$state$responseD17 === void 0 ? void 0 : _this$state$responseD17.quotationdtl.q_total))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invoice-footer mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 text-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, this.state.signPhoto ? /*#__PURE__*/React.createElement(\"img\", {\n      className: `sigImage`,\n      alt: \"\",\n      src: this.state.signPhoto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(SignPanel, {\n      handleSignSaveClick: imgData => this.handleSignSaveClick(imgData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }\n    }), \"Customer Signature\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9 text-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 fs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 19\n      }\n    }, \"Terms And Condition\", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, selectTemplate))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-5 d-flex text-center action-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: () => {\n        this.setState({\n          isPrintPdfClick: true\n        });\n      },\n      label: \"Print\",\n      success: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }\n    }), this.state.isPrintPdfClick ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n      document: /*#__PURE__*/React.createElement(Invoice, {\n        termsandcondition: selectTemplate,\n        TableList: this.state.responseData[0],\n        accountHeader: this.state.responseData[0][\"company_header\"],\n        signPhoto: this.state.signPhoto,\n        Flag: 10,\n        landscape: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 23\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 19\n      }\n    }, ({\n      blob,\n      url,\n      loading,\n      error\n    }) => !loading && url ? this.handlePrintPdfFormat(url) : null) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: () => this.handleToogleModalTemplate(),\n      label: \"Term And Condition \",\n      success: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 15\n      }\n    }))))), /*#__PURE__*/React.createElement(NormalModal, {\n      modal: this.state.isModalVisibleTemplate,\n      handleModal: this.handleToogleModalTemplate,\n      style: {\n        minWidth: \"600px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group input-group-padding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"col-md-10\": true,\n      \"col-sm-10\": true,\n      \"mb-10\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 19\n      }\n    }, \"Terms And Condition\"), /*#__PURE__*/React.createElement(NormalSelect, {\n      options: templates.map(x => {\n        return {\n          id: x.template_name,\n          value: x.template_text,\n          label: x.template_name\n        };\n      }),\n      value: selectTemplate,\n      name: \"tandc\",\n      onChange: event => {\n        this.setState({\n          selectTemplate: event.target.value\n        });\n        this.handleToogleModalTemplate();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 19\n      }\n    })))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  appointmentDetail: state.appointment.appointmentDetail,\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const PrintQuotationModule = connect(mapStateToProps, mapDispatchToProps)(PrintQuotationModuleClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Quantum/Quotation/AddQuotation/PrintQuotationModule.js"],"names":["React","Component","NormalButton","NormalSelect","connect","bindActionCreators","history","getCommonApi","commonCreateApi","NormalModal","closeIcon","SignPanel","PDFDownloadLink","Invoice","withTranslation","PrintQuotationModuleClass","state","responseData","downloadlLink","isOpenPayment","isOpenstaff","settingData","isOpenDate","signPhoto","isPrintPdfClick","selectTemplate","templates","isModalVisibleTemplate","signFunc","props","match","params","id","then","res","console","log","status","setState","data","quo_sig","getResponseDate","handleSignSaveClick","imgData","formData","FormData","append","dataURLtoFile","key","dataurl","filename","mime","arr","split","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","handlePrintPdfFormat","url","window","open","getAllTemplates","dataList","t","find","x","handleChange","target","value","name","handleToogleModalTemplate","componentDidMount","render","sub_data","footer","company_header","logo","address","quotation","quotation_number","created_at","title","validity","terms","company","contact_person","in_charge","Date","toISOString","slice","quotationitem","map","item","index","quotation_itemcode","quotation_itemdesc","quotation_quantity","quotation_unitprice","quotationdtl","q_shipcost","q_discount","q_taxes","q_total","blob","loading","error","minWidth","template_name","template_text","label","event","mapStateToProps","appointmentDetail","appointment","tokenDetails","authStore","mapDispatchToProps","dispatch","PrintQuotationModule"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from \"helpers\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\n// import { ChangePayment } from \"./ChangePayment\";\r\n// import { ChangeStaff } from \"./ChangeStaff\";\r\nimport { NormalModal } from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\n// import { ChangeDate } from \"./ChangeDate\";\r\n\r\nimport { SignPanel } from \"component/common/SignPanel\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\n// import logo from 'assets/images/logo.png'\r\n\r\nexport class PrintQuotationModuleClass extends Component {\r\n  state = {\r\n    responseData: [],\r\n    downloadlLink: \"\",\r\n    isOpenPayment: false,\r\n    isOpenstaff: false,\r\n    settingData: {},\r\n    isOpenDate: false,\r\n    signPhoto: \"\",\r\n    isPrintPdfClick: false,\r\n    selectTemplate:\"\",\r\n    templates:[],\r\n    isModalVisibleTemplate:false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getResponseDate();\r\n    this.signFunc();\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  signFunc = () => {\r\n    this.props\r\n      .getCommonApi(`quotationsign/?quo_id=${this.props.match.params.id}`)\r\n      .then((res) => {\r\n        console.log(\"responseofprint:\", res);\r\n        if (res.status != 204) {\r\n          this.setState({ signPhoto: res.data[0].quo_sig });\r\n        }\r\n      });\r\n  };\r\n\r\n  getResponseDate =   () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationpdf/?searchid=${this.props.match.params.id}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"responseofprint:\", res);\r\n        this.setState({ responseData: res.data});\r\n      });\r\n  };\r\n\r\n  \r\n  handleSignSaveClick = (imgData) => {   \r\n    let formData = new FormData();\r\n    formData.append(\"fk_quotation\", this.props.match.params.id);\r\n    formData.append(\r\n      \"quo_sig\",\r\n      this.dataURLtoFile(imgData, `${this.props.match.params.id}.jpeg`)\r\n    );\r\n\r\n    this.props.commonCreateApi(`quotationsign/`, formData).then((key) => {\r\n      let { status, data } = key;\r\n      if (status == 201) {\r\n        this.signFunc();\r\n      }\r\n    });\r\n  };\r\n\r\n  dataURLtoFile = (dataurl, filename, mime) => {\r\n    var arr = dataurl.split(\",\"),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n\r\n    return new File([u8arr], filename, { type: mime });\r\n  };\r\n  handlePrintPdfFormat = (url) => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    //var a = document.createElement(\"a\");\r\n    //a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    //a.setAttribute(\"href\", url);\r\n    //a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  getAllTemplates= async()=>{\r\n    const res= await this.props.getCommonApi(\"termsandcondition/\")\r\n    if(res.data?.dataList){\r\n    this.setState({ templates:res.data.dataList});    \r\n    }\r\n   }\r\n\r\n   selectTemplate=(id)=>{\r\n    let { templates,  } = this.state;\r\n    const t= templates.find(x=>x.id==id);\r\n    this.setState({selectTemplate:t});\r\n   }\r\n\r\n   handleChange = ({ target: { value, name } }) => {\r\n    this.selectTemplate(value.id)\r\n  };\r\n  handleToogleModalTemplate = () => {\r\n    let { isModalVisibleTemplate } = this.state;\r\n    isModalVisibleTemplate = !isModalVisibleTemplate;\r\n    this.setState({\r\n      isModalVisibleTemplate\r\n    });\r\n  };\r\n  render() {\r\n    let {\r\n      responseData = [],\r\n      templates,\r\n      selectTemplate\r\n      \r\n    } = this.state;\r\n    let {\r\n      sub_data = {},\r\n      footer = {},\r\n      } = responseData;\r\n      let{t}=this.props;\r\n    return (\r\n      <>\r\n        <div className=\"print-section container\">\r\n          <div className=\"print-bill\">\r\n            <div className=\"receipt card\">\r\n              <div className=\"logo-header\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <div className=\"col-10\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <img\r\n                          src={this.state.responseData[0]?.company_header.logo}\r\n                          alt=\"\"\r\n                        ></img>\r\n                      </div>\r\n                      <div className=\"col-9\">\r\n                        <h3 className=\"bill-head\">\r\n                          {this.state.responseData[0]?.company_header.name}\r\n                        </h3>\r\n                        <p className=\"receipt-detail\">\r\n                          {this.state.responseData[0]?.company_header.address}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-header\">\r\n                <div className=\"row \">\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3 f-600\">Invoice No.</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.quotation_number}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Invoice Date</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.created_at}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Status</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.status}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Project</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.title}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Validity</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.validity}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Terms</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.terms}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Company Name</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.company}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Attn To</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.contact_person}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Prepared By</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.quotation.in_charge}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Printed On</div>\r\n                      <div className=\"col-9\">\r\n                        {new Date().toISOString().slice(0, 10)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-detail mt-4 py-1\">\r\n                <div className=\"row m-0 table-header  f-600\">\r\n                  <div className=\"col-2\">Code</div>\r\n                  <div className=\"col-4 text-left\">Description</div>\r\n                  <div className=\"col-2 text-right\">Quantity</div>\r\n                  <div className=\"col-2 text-right\">Unit Price</div>\r\n                  <div className=\"col-2 text-right\">Amount.</div>\r\n                </div>\r\n                {this.state.responseData[0]?.quotationitem.map((item, index) => {\r\n                  return (\r\n                    <div className=\"row m-0 mt-2\" key={index}>\r\n                      <div className=\"col-2\">{item.quotation_itemcode}</div>\r\n                      <div className=\"col-4 text-left\">\r\n                        {item.quotation_itemdesc}\r\n                      </div>\r\n                      {/* <div className=\"col-2 text-right\">{item.quotation_itemdesc}</div> */}\r\n                      <div className=\"col-2 text-right\">\r\n                        {item.quotation_quantity}\r\n                      </div>\r\n                      <div className=\"col-2 text-right\">\r\n                        {item.quotation_unitprice}\r\n                      </div>\r\n                      <div className=\"col-2 text-right\">\r\n                        {item.quotation_unitprice * item.quotation_quantity}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n               {/*  <div className=\"row table-header sub-total m-0 fs-14 f-600 mt-5\">\r\n                   <div className=\"col-4 text-right\">{sub_data.sub_total}</div> \r\n                  <div className=\"col-4 text-right\"></div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_qty}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_price}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_disc}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_net}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_paid}</div>\r\n                  <div className=\"col-2 d-none\">{sub_data.tot_bal}</div>\r\n                </div>\r\n                */}\r\n              </div>\r\n              <div className=\"payment-detail my-4 fs-14 f-600 mb-5\">\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-7\"></div>                \r\n                  <div className=\"col-5 text-right\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Shipping Cost :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {this.state.responseData[0]?.quotationdtl.q_shipcost}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Discount :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {\" \"}\r\n                        {this.state.responseData[0]?.quotationdtl.q_discount}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Taxes :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {this.state.responseData[0]?.quotationdtl.q_taxes}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\"> Total :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {this.state.responseData[0]?.quotationdtl.q_total}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* used payment list */}\r\n              </div>\r\n              <div className=\"invoice-footer mt-5\">\r\n                <div className=\"row m-0\">\r\n                \r\n                <div className=\"col-3 text-center p-1\">\r\n                    {this.state.signPhoto ? (\r\n                      <img\r\n                        className={`sigImage`}\r\n                        alt=\"\"\r\n                        src={this.state.signPhoto}\r\n                      />\r\n                    ) : (\r\n                      <SignPanel\r\n                        handleSignSaveClick={(imgData) =>\r\n                          this.handleSignSaveClick(imgData)\r\n                        }\r\n                      />\r\n                    )}\r\n                    <br/>\r\n                    Customer Signature\r\n                  </div>\r\n                  <div className=\"col-9 text-center p-1\">\r\n                </div>\r\n                  <div className=\"col-12 fs-12\">\r\n                  Terms And Condition\r\n                    <p className=\"\">                    \r\n                      {selectTemplate}\r\n                    </p>\r\n\r\n                    \r\n                  </div>\r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-5 d-flex text-center action-buttons\">\r\n              \r\n              <div className=\"w-100 mr-2\">\r\n                <NormalButton\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      isPrintPdfClick: true,\r\n                    });\r\n                  }}\r\n                  label=\"Print\"\r\n                  success={true}\r\n                  className=\"print\"\r\n                />\r\n                \r\n                {this.state.isPrintPdfClick ? (\r\n                  <PDFDownloadLink\r\n                    document={\r\n                      <Invoice\r\n                        termsandcondition={selectTemplate}\r\n                        TableList={this.state.responseData[0]}\r\n                        accountHeader={\r\n                          this.state.responseData[0][\"company_header\"]\r\n                        }\r\n                        signPhoto={this.state.signPhoto}\r\n                        Flag={10}\r\n                        landscape={false}\r\n                      />\r\n                    }\r\n                  >\r\n                    {({ blob, url, loading, error }) =>\r\n                      !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                    }\r\n                  </PDFDownloadLink>\r\n                ) : null}\r\n              </div>\r\n              <div className=\"w-100 mr-2\">\r\n              <NormalButton\r\n                  onClick={() => this.handleToogleModalTemplate()}\r\n                  label=\"Term And Condition \"\r\n                  success={true}\r\n                  className=\"print\"\r\n                />\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <NormalModal\r\n          modal={this.state.isModalVisibleTemplate}\r\n          handleModal={this.handleToogleModalTemplate}\r\n          style={{ minWidth: \"600px\" }}\r\n        >\r\n          <>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"input-group input-group-padding\">\r\n                <div col-md-10 col-sm-10 mb-10>\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {(\"Terms And Condition\")}\r\n                  </label>\r\n                  <NormalSelect\r\n                  options={templates.map(x=>{return{id:x.template_name,value:x.template_text,label:x.template_name}})}\r\n                  value={selectTemplate}\r\n                  name=\"tandc\"\r\n                 onChange={(event)=>{this.setState({selectTemplate:event.target.value});\r\n                this.handleToogleModalTemplate()}}\r\n                />\r\n                </div >\r\n                \r\n              </div>\r\n              \r\n            </div>\r\n\r\n          </>\r\n        </NormalModal>\r\n             </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  appointmentDetail: state.appointment.appointmentDetail,\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const PrintQuotationModule =(connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n))(PrintQuotationModuleClass);\r\n"]},"metadata":{},"sourceType":"module"}