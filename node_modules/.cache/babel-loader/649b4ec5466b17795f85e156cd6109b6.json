{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/appointmentAdapter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\n\nvar _object = require(\"../../core/utils/object\");\n\nvar _recurrence = require(\"./recurrence\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar PROPERTY_NAMES = {\n  startDate: \"startDate\",\n  endDate: \"endDate\",\n  allDay: \"allDay\",\n  text: \"text\",\n  description: \"description\",\n  startDateTimeZone: \"startDateTimeZone\",\n  endDateTimeZone: \"endDateTimeZone\",\n  recurrenceRule: \"recurrenceRule\",\n  recurrenceException: \"recurrenceException\",\n  disabled: \"disabled\"\n};\n\nvar AppointmentAdapter = function () {\n  function AppointmentAdapter(rawAppointment, options) {\n    _classCallCheck(this, AppointmentAdapter);\n\n    this.rawAppointment = rawAppointment;\n    this.options = options;\n  }\n\n  _createClass(AppointmentAdapter, [{\n    key: \"getField\",\n    value: function value(property) {\n      return this.options.getField(this.rawAppointment, property);\n    }\n  }, {\n    key: \"setField\",\n    value: function value(property, _value) {\n      return this.options.setField(this.rawAppointment, property, _value);\n    }\n  }, {\n    key: \"calculateStartDate\",\n    value: function value(pathTimeZoneConversion) {\n      if (!this.startDate || isNaN(this.startDate.getTime())) {\n        throw _ui.default.Error(\"E1032\", this.text);\n      }\n\n      return this.calculateDate(this.startDate, this.startDateTimeZone, pathTimeZoneConversion);\n    }\n  }, {\n    key: \"calculateEndDate\",\n    value: function value(pathTimeZoneConversion) {\n      return this.calculateDate(this.endDate, this.endDateTimeZone, pathTimeZoneConversion);\n    }\n  }, {\n    key: \"calculateDate\",\n    value: function value(date, appointmentTimeZone, pathTimeZoneConversion) {\n      if (!date) {\n        return;\n      }\n\n      return this.timeZoneCalculator.createDate(date, {\n        appointmentTimeZone: appointmentTimeZone,\n        path: pathTimeZoneConversion\n      });\n    }\n  }, {\n    key: \"clone\",\n    value: function value() {\n      var options = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;\n      var result = new AppointmentAdapter((0, _object.deepExtendArraySafe)({}, this.rawAppointment), this.options);\n\n      if (null !== options && void 0 !== options && options.pathTimeZone) {\n        result.startDate = result.calculateStartDate(options.pathTimeZone);\n        result.endDate = result.calculateEndDate(options.pathTimeZone);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"source\",\n    value: function value() {\n      var serializeDate = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\n\n      if (serializeDate) {\n        var clonedAdapter = this.clone();\n        clonedAdapter.startDate = this.startDate;\n        clonedAdapter.endDate = this.endDate;\n        return clonedAdapter.source();\n      }\n\n      return (0, _extend.extend)({}, this.rawAppointment);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.endDate ? this.endDate - this.startDate : 0;\n    }\n  }, {\n    key: \"startDate\",\n    get: function get() {\n      var result = this.getField(PROPERTY_NAMES.startDate);\n      return void 0 === result ? result : new Date(result);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.startDate, value);\n    }\n  }, {\n    key: \"endDate\",\n    get: function get() {\n      var result = this.getField(PROPERTY_NAMES.endDate);\n      return void 0 === result ? result : new Date(result);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.endDate, value);\n    }\n  }, {\n    key: \"allDay\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.allDay);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.allDay, value);\n    }\n  }, {\n    key: \"text\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.text);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.text, value);\n    }\n  }, {\n    key: \"description\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.description);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.description, value);\n    }\n  }, {\n    key: \"startDateTimeZone\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.startDateTimeZone);\n    }\n  }, {\n    key: \"endDateTimeZone\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.endDateTimeZone);\n    }\n  }, {\n    key: \"recurrenceRule\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.recurrenceRule);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.recurrenceRule, value);\n    }\n  }, {\n    key: \"recurrenceException\",\n    get: function get() {\n      return this.getField(PROPERTY_NAMES.recurrenceException);\n    },\n    set: function set(value) {\n      this.setField(PROPERTY_NAMES.recurrenceException, value);\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      return !!this.getField(PROPERTY_NAMES.disabled);\n    }\n  }, {\n    key: \"timeZoneCalculator\",\n    get: function get() {\n      return this.options.getTimeZoneCalculator();\n    }\n  }, {\n    key: \"isRecurrent\",\n    get: function get() {\n      return (0, _recurrence.getRecurrenceProcessor)().isValidRecurrenceRule(this.recurrenceRule);\n    }\n  }]);\n\n  return AppointmentAdapter;\n}();\n\nvar _default = AppointmentAdapter;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/scheduler/appointmentAdapter.js"],"names":["exports","default","_extend","require","_ui","_interopRequireDefault","_object","_recurrence","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","PROPERTY_NAMES","startDate","endDate","allDay","text","description","startDateTimeZone","endDateTimeZone","recurrenceRule","recurrenceException","disabled","AppointmentAdapter","rawAppointment","options","value","property","getField","setField","pathTimeZoneConversion","isNaN","getTime","Error","calculateDate","date","appointmentTimeZone","timeZoneCalculator","createDate","path","arguments","result","deepExtendArraySafe","pathTimeZone","calculateStartDate","calculateEndDate","serializeDate","clonedAdapter","clone","source","extend","get","Date","set","getTimeZoneCalculator","getRecurrenceProcessor","isValidRecurrenceRule","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/appointmentAdapter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _object = require(\"../../core/utils/object\");\r\nvar _recurrence = require(\"./recurrence\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar PROPERTY_NAMES = {\r\n    startDate: \"startDate\",\r\n    endDate: \"endDate\",\r\n    allDay: \"allDay\",\r\n    text: \"text\",\r\n    description: \"description\",\r\n    startDateTimeZone: \"startDateTimeZone\",\r\n    endDateTimeZone: \"endDateTimeZone\",\r\n    recurrenceRule: \"recurrenceRule\",\r\n    recurrenceException: \"recurrenceException\",\r\n    disabled: \"disabled\"\r\n};\r\nvar AppointmentAdapter = function() {\r\n    function AppointmentAdapter(rawAppointment, options) {\r\n        _classCallCheck(this, AppointmentAdapter);\r\n        this.rawAppointment = rawAppointment;\r\n        this.options = options\r\n    }\r\n    _createClass(AppointmentAdapter, [{\r\n        key: \"getField\",\r\n        value: function(property) {\r\n            return this.options.getField(this.rawAppointment, property)\r\n        }\r\n    }, {\r\n        key: \"setField\",\r\n        value: function(property, value) {\r\n            return this.options.setField(this.rawAppointment, property, value)\r\n        }\r\n    }, {\r\n        key: \"calculateStartDate\",\r\n        value: function(pathTimeZoneConversion) {\r\n            if (!this.startDate || isNaN(this.startDate.getTime())) {\r\n                throw _ui.default.Error(\"E1032\", this.text)\r\n            }\r\n            return this.calculateDate(this.startDate, this.startDateTimeZone, pathTimeZoneConversion)\r\n        }\r\n    }, {\r\n        key: \"calculateEndDate\",\r\n        value: function(pathTimeZoneConversion) {\r\n            return this.calculateDate(this.endDate, this.endDateTimeZone, pathTimeZoneConversion)\r\n        }\r\n    }, {\r\n        key: \"calculateDate\",\r\n        value: function(date, appointmentTimeZone, pathTimeZoneConversion) {\r\n            if (!date) {\r\n                return\r\n            }\r\n            return this.timeZoneCalculator.createDate(date, {\r\n                appointmentTimeZone: appointmentTimeZone,\r\n                path: pathTimeZoneConversion\r\n            })\r\n        }\r\n    }, {\r\n        key: \"clone\",\r\n        value: function() {\r\n            var options = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;\r\n            var result = new AppointmentAdapter((0, _object.deepExtendArraySafe)({}, this.rawAppointment), this.options);\r\n            if (null !== options && void 0 !== options && options.pathTimeZone) {\r\n                result.startDate = result.calculateStartDate(options.pathTimeZone);\r\n                result.endDate = result.calculateEndDate(options.pathTimeZone)\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"source\",\r\n        value: function() {\r\n            var serializeDate = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\r\n            if (serializeDate) {\r\n                var clonedAdapter = this.clone();\r\n                clonedAdapter.startDate = this.startDate;\r\n                clonedAdapter.endDate = this.endDate;\r\n                return clonedAdapter.source()\r\n            }\r\n            return (0, _extend.extend)({}, this.rawAppointment)\r\n        }\r\n    }, {\r\n        key: \"duration\",\r\n        get: function() {\r\n            return this.endDate ? this.endDate - this.startDate : 0\r\n        }\r\n    }, {\r\n        key: \"startDate\",\r\n        get: function() {\r\n            var result = this.getField(PROPERTY_NAMES.startDate);\r\n            return void 0 === result ? result : new Date(result)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.startDate, value)\r\n        }\r\n    }, {\r\n        key: \"endDate\",\r\n        get: function() {\r\n            var result = this.getField(PROPERTY_NAMES.endDate);\r\n            return void 0 === result ? result : new Date(result)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.endDate, value)\r\n        }\r\n    }, {\r\n        key: \"allDay\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.allDay)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.allDay, value)\r\n        }\r\n    }, {\r\n        key: \"text\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.text)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.text, value)\r\n        }\r\n    }, {\r\n        key: \"description\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.description)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.description, value)\r\n        }\r\n    }, {\r\n        key: \"startDateTimeZone\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.startDateTimeZone)\r\n        }\r\n    }, {\r\n        key: \"endDateTimeZone\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.endDateTimeZone)\r\n        }\r\n    }, {\r\n        key: \"recurrenceRule\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.recurrenceRule)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.recurrenceRule, value)\r\n        }\r\n    }, {\r\n        key: \"recurrenceException\",\r\n        get: function() {\r\n            return this.getField(PROPERTY_NAMES.recurrenceException)\r\n        },\r\n        set: function(value) {\r\n            this.setField(PROPERTY_NAMES.recurrenceException, value)\r\n        }\r\n    }, {\r\n        key: \"disabled\",\r\n        get: function() {\r\n            return !!this.getField(PROPERTY_NAMES.disabled)\r\n        }\r\n    }, {\r\n        key: \"timeZoneCalculator\",\r\n        get: function() {\r\n            return this.options.getTimeZoneCalculator()\r\n        }\r\n    }, {\r\n        key: \"isRecurrent\",\r\n        get: function() {\r\n            return (0, _recurrence.getRecurrenceProcessor)().isValidRecurrenceRule(this.recurrenceRule)\r\n        }\r\n    }]);\r\n    return AppointmentAdapter\r\n}();\r\nvar _default = AppointmentAdapter;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}