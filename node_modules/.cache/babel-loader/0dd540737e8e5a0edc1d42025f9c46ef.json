{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\common\\\\Plugins\\\\NewScheduler.js\";\nimport React, { Component, PureComponent } from \"react\";\nimport \"./devExpressScheduler/Styles.scss\";\nimport Scheduler, { Resource, View, Scrolling } from \"devextreme-react/scheduler\";\nimport \"devextreme/dist/css/dx.common.css\";\nimport \"devextreme/dist/css/dx.light.css\";\nimport ResourceCell from \"./devExpressScheduler/ResourceCell\";\nimport fullscreenIcon from \"assets/images/fullScreen.png\";\nimport { InputSearch } from \"../InputSearch\";\nimport _ from \"lodash\";\nimport { NormalButton, NormalSelect, NormalInput, NormalModal } from \"component/common\";\nimport { StaffSorting } from \"../../Admin/NewAppointment/NewListAppointment/modal/StaffSorting\";\nimport { BlockPopup } from \"../../Admin/NewAppointment/NewListAppointment/modal/BlockPopup\";\nimport { PrintModal } from \"../../Admin/NewAppointment/NewListAppointment/modal/PrintModal\";\nimport { Toast } from \"service/toast\";\nimport html2canvas from \"html2canvas\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport { getCommonApi, commonPatchApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { TreatmentHistory } from \"component/Admin/NewAppointment/NewListAppointment/modal/TreatmentHistory\";\nimport { UpcomingAppointment } from \"component/Admin/NewAppointment/NewListAppointment/modal/UpcomingAppointment\";\nimport setting from \"assets/images/settings.png\";\nimport { AppointmentSettings } from \"./devExpressScheduler/AppointmentSettings\";\nimport closeIcon from \"assets/images/close.png\";\nimport { history } from \"helpers\";\nimport { withTranslation } from \"react-i18next\";\nimport moment from \"moment\";\nimport { BrowserView, MobileView, isBrowser, isMobile } from \"react-device-detect\";\nimport calander from \"assets/images/app-icons/00.png\";\nimport outstanding from \"assets/images/app-icons/0.png\";\nimport req_therapist from \"assets/images/app-icons/1.png\";\nimport treatmentbal from \"assets/images/app-icons/2.png\";\nimport birthday from \"assets/images/app-icons/3.png\";\nimport new_remark from \"assets/images/app-icons/4.png\";\nimport storecard from \"assets/images/app-icons/5.png\";\nimport walkin from \"assets/images/app-icons/6.png\";\nimport reschedule from \"assets/images/app-icons/8.png\";\nimport Button from \"devextreme/ui/button\"; //import { SMSReply } from \"pages\";\n\nconst groups = [\"id\"];\nconst draggingGroupName = \"appointmentsGroup\";\n\nconst sleep = milliseconds => {\n  return new Promise(resolve => setTimeout(resolve, milliseconds));\n};\n\nconst scrolling = {\n  mode: \"standard\"\n};\nconst mobileviews = [{\n  type: \"day\",\n  name: \"day\",\n  groupOrientation: \"Horizontally\",\n  intervalCount: 1\n}];\nconst views = [{\n  type: \"day\",\n  name: \"day\",\n  groupOrientation: \"Horizontally\",\n  intervalCount: 1\n}, {\n  type: \"week\",\n  name: \"week\",\n  groupOrientation: \"vertical\",\n  intervalCount: 1,\n  maxAppointmentsPerCell: \"unlimited\"\n}, {\n  type: \"month\",\n  name: \"month\",\n  intervalCount: 1,\n  groupOrientation: \"vertical\",\n  maxAppointmentsPerCell: \"unlimited\"\n}];\nconst Dayview = [{\n  type: \"day\",\n  name: \"day\",\n  groupOrientation: \"Horizontally\",\n  intervalCount: 1\n}];\n\nconst getTime = date => {\n  var now = new Date(date);\n  var hour = now.getHours();\n  var minute = now.getMinutes();\n  var second = now.getSeconds();\n  var ap = \"AM\";\n\n  if (hour > 11) {\n    ap = \"PM\";\n  }\n\n  if (hour > 12) {\n    hour = hour - 12;\n  }\n\n  if (hour == 0) {\n    hour = 12;\n  }\n\n  if (hour < 10) {\n    hour = \"0\" + hour;\n  }\n\n  if (minute < 10) {\n    minute = \"0\" + minute;\n  }\n\n  if (second < 10) {\n    second = \"0\" + second;\n  }\n\n  var timeString = hour + \":\" + minute + \" \" + ap;\n  return timeString;\n};\n\nexport class NewSchedulerModalClass extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedDate: new Date(),\n      selectedView: \"\",\n      DefaultDate: new Date(),\n      DefaultView: \"\",\n      searchtext: \"\",\n      SelectedList: [],\n      isOpenModal: false,\n      isOpenBlockModal: false,\n      appointmentId: 0,\n      SchedulerHeight: \"100%\",\n      isOpenPrintModal: false,\n      formFields: [],\n      groupByList: [{\n        label: \"Group by Staff\",\n        value: \"staff\"\n      }, {\n        label: \"Group by Department\",\n        value: \"department\"\n      }, {\n        label: \"Group by Room\",\n        value: \"room\"\n      }],\n      groupBy: \"staff\",\n      customerNumber: 0,\n      customerId: 0,\n      clickCount: 0,\n      visible: false,\n      customerOption: [],\n      isSettingsClick: false,\n      dayName: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      day: new Date().getDay(),\n      passwordVisible: false,\n      dragusername: \"\",\n      dragpassword: \"\",\n      isDragConfirmation: false,\n      isSMSReply: false\n    };\n\n    this.onEmptyClick = e => {\n      e.cancel = true;\n      let date = new Date(e.cellData.startDate);\n\n      if (e.cellData.groups) {\n        this.props.onEmptyClick(date, e.cellData);\n      }\n    };\n\n    this.onAppointmentDblClick = async e => {\n      e.cancel = true;\n      await this.setState({\n        appointmentId: 0\n      });\n      let date = new Date(e.appointmentData.startDate);\n\n      if (e.appointmentData.status === \"Block\") {\n        await this.setState({\n          appointmentId: e.appointmentData.appt_id\n        });\n        this.handleBlockDialog();\n      } else {\n        this.props.onEmptyClick(date, e.appointmentData);\n        await this.setState({\n          customerId: e.appointmentData.cust_id,\n          custName: e.appointmentData.cust_name,\n          custPhone: e.appointmentData.cust_phone\n        });\n      }\n    };\n\n    this.onAppointmentSingleClick = async e => {\n      e.cancel = true;\n\n      if (e.appointmentData.status !== \"Block\") {\n        await this.setState({\n          customerId: e.appointmentData.cust_id,\n          custName: e.appointmentData.cust_name,\n          custPhone: e.appointmentData.cust_phone\n        });\n      }\n    };\n\n    this.handleViewChange = async e => {\n      //if (this.props.staffList.length > 0) {\n      await this.setState({\n        selectedView: e\n      });\n      this.handleChange(); //}\n    };\n\n    this.handleDateChange = async e => {\n      let {\n        day\n      } = this.state;\n\n      if (this.state.selectedDate !== e) {\n        await this.setState({\n          selectedDate: e\n        });\n        this.handleChange();\n      }\n\n      day = moment(this.state.selectedDate).day();\n      this.setState({\n        day\n      });\n      console.log(day);\n    };\n\n    this.handleChange = () => {\n      let {\n        selectedDate,\n        selectedView,\n        DefaultDate,\n        DefaultView,\n        searchtext\n      } = this.state;\n      let newDate = new Date();\n      let newMode = \"\";\n      let prevMode = DefaultView;\n      let prevDate = DefaultDate;\n\n      if (selectedView) {\n        newMode = selectedView;\n      } else {\n        newMode = DefaultView;\n      }\n\n      if (selectedDate) {\n        newDate = selectedDate;\n      } else {\n        newDate = selectedDate;\n      }\n\n      this.props.handleChangeFilter(prevMode, prevDate, newMode, newDate, searchtext);\n    };\n\n    this.handleSearch = async event => {\n      event.persist();\n      await this.setState({\n        searchtext: event.target.value\n      });\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          this.handleChange();\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleDragConfirmationDialog = async () => {\n      let {\n        isDragConfirmation\n      } = this.state;\n      isDragConfirmation = !isDragConfirmation;\n      await this.setState({\n        isDragConfirmation\n      });\n      await this.props.getAppointmentWithStaff();\n    };\n\n    this.handleDialog = () => {\n      let {\n        isOpenModal\n      } = this.state;\n      isOpenModal = !isOpenModal;\n      this.setState({\n        isOpenModal\n      });\n    };\n\n    this.handleSettingDialog = () => {\n      let {\n        isSettingsClick\n      } = this.state;\n      isSettingsClick = !isSettingsClick;\n      this.setState({\n        isSettingsClick\n      });\n    };\n\n    this.handleBlockDialog = async () => {\n      await this.setState(prevState => ({\n        isOpenBlockModal: !prevState.isOpenBlockModal\n      }));\n      await this.setState({\n        appointmentId: 0\n      });\n    };\n\n    this.handlePrintDialog = () => {\n      let {\n        isOpenPrintModal\n      } = this.state;\n      isOpenPrintModal = !isOpenPrintModal;\n      this.setState({\n        isOpenPrintModal\n      });\n    };\n\n    this.handleBack = () => {\n      this.props.handleBack();\n    };\n\n    this.handleNext = () => {\n      this.props.handleNext();\n    };\n\n    this.Snap = async () => {\n      // await this.setState({\n      //   SchedulerHeight: \"350%\",\n      // });\n      await sleep(2000); //2000 Yoonus\n\n      window.scrollTo(0, 0); //Yoonus\n\n      let img = \"\";\n      let base64URL = \"\";\n      html2canvas(document.querySelector(\".dx-scheduler-work-space-grouped\"), {\n        allowTaint: true,\n        useCORS: true,\n        logging: false,\n        scale: 1,\n        removeContainer: false\n      }).then(function (canvas) {\n        img = canvas.toDataURL(\"image/png\", 1);\n        base64URL = img.replace(\"image/png\", \"image/octet-stream\");\n        var byteCharacters = atob(img.replace(/^data:image\\/(png|jpeg|jpg);base64,/, \"\"));\n        var byteNumbers = new Array(byteCharacters.length);\n\n        for (var i = 0; i < byteCharacters.length; i++) {\n          byteNumbers[i] = byteCharacters.charCodeAt(i);\n        }\n\n        var byteArray = new Uint8Array(byteNumbers);\n        var file = new Blob([byteArray], {\n          type: \"image/png\" + \";base64\"\n        });\n        var fileURL = URL.createObjectURL(file);\n        var a = document.createElement(\"a\");\n        a.setAttribute(\"download\", \"myImage.png\");\n        a.setAttribute(\"href\", base64URL);\n        a.click();\n        window.open(fileURL);\n      });\n      window.scrollTo(0, document.documentElement.scrollHeight); //Yoonus\n\n      await this.setState({\n        SchedulerHeight: \"100%\"\n      });\n    };\n\n    this.getHoursFromDate = date => {\n      let hour = new Date(date).getHours();\n      let minute = new Date(date).getMinutes();\n      let hours = hour > 9 ? hour : \"0\" + hour;\n      let minutes = minute > 9 ? minute : \"0\" + minute;\n      return hours + \":\" + minutes;\n    };\n\n    this.onDragStart = async e => {\n      console.log(e, \"drag start data\");\n\n      if (String(e.itemData.status).toUpperCase() === \"BLOCK\") {\n        debugger;\n        e.cancel = true;\n        Toast({\n          type: \"error\",\n          message: \"Appointment not allowed for dragging\"\n        });\n        return false;\n      } else if (e.itemData.link_flag) {\n        debugger;\n        e.cancel = true;\n        Toast({\n          type: \"error\",\n          message: \"Appointment not allowed for dragging\"\n        });\n        return false;\n      }\n    };\n\n    this.onDragEnd = async e => {\n      await sleep(500);\n\n      if (e.itemData.appt_id) {\n        let {\n          formFields,\n          isDragConfirmation\n        } = this.state;\n        let startTime = this.getHoursFromDate(e.itemData.startDate);\n        let endTime = this.getHoursFromDate(e.itemData.endDate);\n        let targetStaff = e.itemData.id;\n        this.props.getCommonApi(`appointmentresources/${e.itemData.appt_id}/`).then(async key => {\n          let {\n            status,\n            data\n          } = key;\n          console.log(key, \"drag end data response\");\n          let appt_Date = data.appt_date;\n          let date = appt_Date.split(\"/\");\n          let finaldate = date[2] + \"-\" + date[1] + \"-\" + date[0];\n\n          if (status === 200) {\n            formFields[\"appt_id\"] = e.itemData.appt_id;\n            formFields[\"custName\"] = data.cust_name;\n            formFields[\"appointmentDate\"] = finaldate;\n            formFields[\"bookingStatus\"] = data.booking_status;\n            formFields[\"new_remark\"] = data.ori_remark;\n            formFields[\"customerName\"] = data.cust_id;\n            formFields[\"Source_Codeid\"] = data.source_id;\n            formFields[\"Room_Codeid\"] = data.room_id;\n            formFields[\"sec_status\"] = data.secondary_status;\n            formFields[\"Appt_typeid\"] = data.channel_id;\n            formFields[\"start_time\"] = data ? data.start_time : \"\";\n            formFields[\"end_time\"] = data ? data.end_time : \"\";\n            formFields[\"Item_Codeid\"] = data.Item_Codeid;\n            formFields[\"Item_CodeName\"] = data.item_name;\n            formFields[\"emp_no\"] = data.emp_id;\n            formFields[\"add_duration\"] = data.add_duration;\n            formFields[\"edit_remark\"] = \"\";\n            formFields[\"requesttherapist\"] = data.requesttherapist;\n            formFields[\"recur_days\"] = data.recur_days;\n            formFields[\"recur_qty\"] = data.recur_qty;\n            formFields[\"item_text\"] = data.item_name;\n\n            if (formFields[\"start_time\"] !== startTime || formFields[\"emp_no\"] !== targetStaff) {\n              formFields[\"appointmentDate\"] = e.itemData.endDate;\n              formFields[\"start_time\"] = startTime;\n              formFields[\"end_time\"] = endTime;\n              formFields[\"emp_no\"] = targetStaff;\n              formFields[\"item_text\"] = e.itemData.item_name;\n              formFields[\"recur_days\"] = null;\n              formFields[\"recur_qty\"] = null;\n\n              if (data.is_dragappt) {\n                isDragConfirmation = true;\n                await this.setState({\n                  formFields,\n                  isDragConfirmation\n                });\n              } else {\n                isDragConfirmation = false;\n                await this.setState({\n                  formFields,\n                  isDragConfirmation\n                });\n                this.handleDragandDropLogin();\n              }\n            }\n          }\n        });\n      }\n    };\n\n    this.handleTreatmentHistory = () => {\n      let {\n        customerId\n      } = this.state;\n\n      if (customerId > 0) {\n        this.setState(prevState => ({\n          isTreatmentHistoryModal: !prevState.isTreatmentHistoryModal,\n          customerNumber: this.state.customerId\n        }));\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please select customer\"\n        });\n      }\n    };\n\n    this.handleUpcomingAppointment = () => {\n      let {\n        customerId\n      } = this.state;\n\n      if (customerId > 0) {\n        this.setState(prevState => ({\n          isUpcomingAppointmentModal: !prevState.isUpcomingAppointmentModal,\n          customerNumber: this.state.customerId\n        }));\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please select customer\"\n        });\n      }\n    };\n\n    this.handleSearchCustomer = async event => {\n      //    event.persist();\n      let {\n        custName,\n        visible\n      } = this.state;\n      custName = event.target.value;\n      visible = true;\n      await this.setState({\n        custName,\n        visible\n      });\n      console.log(this.state.custName);\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(async () => {\n          let {\n            customerList\n          } = this.state;\n          let {\n            basicApptDetail\n          } = this.props;\n          this.search(basicApptDetail);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.search = basicApptDetail => {\n      let {\n        custName\n      } = this.state;\n      this.props.getCommonApi(`custappt/?Outlet=${basicApptDetail.branchId ? basicApptDetail.branchId : \"\"}&search=${custName}`).then(key => {\n        // this.props.getCommonApi(`custappt/?search=${custName}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            customerOption: data\n          });\n        }\n      });\n    };\n\n    this.handleClick = key => {\n      if (!this.state.visible) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      if (this.state.visible) {\n        let {\n          basicApptDetail\n        } = this.props;\n        this.search(basicApptDetail);\n      }\n\n      this.setState(prevState => ({\n        visible: !prevState.visible\n      }));\n    };\n\n    this.handleSettingClick = key => {\n      this.setState(prevState => ({\n        isSettingsClick: !prevState.isSettingsClick\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.handleSelectCustomer = async data => {\n      console.log(data, \"selectCustomer\");\n      await this.setState({\n        customerId: data.id,\n        custName: data.cust_name,\n        custPhone: data.cust_phone1\n      });\n      this.handleClick();\n    };\n\n    this.handleGroupbyChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      if (value == \"\") {\n        value = \"staff\";\n      }\n\n      if (value !== this.state.groupBy) {\n        this.setState({\n          groupBy: value\n        });\n        this.props.groupByAppointment(value);\n      }\n    };\n\n    this.handleFullScreenClose = () => {\n      history.push(\"/admin/newappointment\");\n      this.setState({\n        SchedulerHeight: \"65%\"\n      });\n    };\n\n    this.handleFullScreenOpen = () => {\n      history.push(\"/admin/newappointmentfullscreen\");\n      this.setState({\n        SchedulerHeight: \"100%\"\n      });\n    };\n\n    this.handleInputChange = async event => {\n      await this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.toggle = key => {\n      this.setState(prevState => ({\n        [key]: !prevState[key]\n      }));\n    };\n\n    this.handleDragandDropLogin = () => {\n      let {\n        formFields,\n        dragusername,\n        dragpassword\n      } = this.state;\n      let payload = {\n        appt_date: dateFormat(new Date(formFields.appointmentDate), \"yyyy-mm-dd\"),\n        Room_Codeid: formFields.Room_Codeid,\n        appt_status: formFields.bookingStatus,\n        sec_status: formFields.sec_status,\n        edit_remark: \"\",\n        start_time: formFields.start_time,\n        end_time: formFields.end_time,\n        item_id: formFields.Item_Codeid,\n        add_duration: formFields.add_duration,\n        emp_id: formFields.emp_no,\n        requesttherapist: formFields.requesttherapist,\n        item_text: formFields.item_text,\n        recur_qty: null,\n        recur_days: null,\n        username: dragusername,\n        password: dragpassword\n      };\n      this.props.commonPatchApi(`appointmentresources/${formFields.appt_id}/`, payload).then(async res => {\n        await this.setState({\n          isDragConfirmation: false\n        });\n        await this.props.getAppointmentWithStaff();\n      });\n    };\n\n    this.handleSMSReply = async () => {\n      await this.setState(prevState => ({\n        isSMSReply: !prevState.isSMSReply\n      }));\n    };\n\n    this.onAppointmentUpdated = async e => {\n      let selecteddata = e;\n\n      if (selecteddata.newData) {\n        if (String(selecteddata.newData.status).toUpperCase() === \"BLOCK\") {\n          e.cancel = true;\n          Toast({\n            type: \"error\",\n            message: \"Not allowed\"\n          });\n          await this.props.getAppointmentWithStaff();\n          return false;\n        } else if (selecteddata.newData.link_flag) {\n          e.cancel = true;\n          Toast({\n            type: \"error\",\n            message: \"Not allowed\"\n          });\n          await this.props.getAppointmentWithStaff();\n          return false;\n        } else {\n          console.log(selecteddata, \"onResizeEnd\");\n          this.onResizeEnd(selecteddata);\n        }\n      }\n    };\n\n    this.onResizeEnd = async e => {\n      await sleep(500);\n\n      if (e.newData.appt_id) {\n        let {\n          formFields,\n          isDragConfirmation\n        } = this.state;\n        let startTime = this.getHoursFromDate(e.newData.startDate);\n        let endTime = this.getHoursFromDate(e.newData.endDate);\n        let targetStaff = e.newData.id;\n        this.props.getCommonApi(`appointmentresources/${e.newData.appt_id}/`).then(async key => {\n          let {\n            status,\n            data\n          } = key;\n          debugger;\n          console.log(key, \"resize data response\");\n          let appt_Date = data.appt_date;\n          let date = appt_Date.split(\"/\");\n          let finaldate = date[2] + \"-\" + date[1] + \"-\" + date[0];\n\n          if (status === 200) {\n            formFields[\"appt_id\"] = e.newData.appt_id;\n            formFields[\"custName\"] = data.cust_name;\n            formFields[\"appointmentDate\"] = finaldate;\n            formFields[\"bookingStatus\"] = data.booking_status;\n            formFields[\"new_remark\"] = data.ori_remark;\n            formFields[\"customerName\"] = data.cust_id;\n            formFields[\"Source_Codeid\"] = data.source_id;\n            formFields[\"Room_Codeid\"] = data.room_id;\n            formFields[\"sec_status\"] = data.secondary_status;\n            formFields[\"Appt_typeid\"] = data.channel_id;\n            formFields[\"start_time\"] = data ? data.start_time : \"\";\n            formFields[\"end_time\"] = data ? data.end_time : \"\";\n            formFields[\"Item_Codeid\"] = data.Item_Codeid;\n            formFields[\"Item_CodeName\"] = data.item_name;\n            formFields[\"emp_no\"] = data.targetStaff;\n            formFields[\"add_duration\"] = null;\n            formFields[\"edit_remark\"] = \"\";\n            formFields[\"requesttherapist\"] = data.requesttherapist;\n            formFields[\"recur_days\"] = data.recur_days;\n            formFields[\"recur_qty\"] = data.recur_qty;\n            formFields[\"item_text\"] = data.item_name;\n\n            if (formFields[\"start_time\"] !== startTime || formFields[\"end_time\"] !== endTime || formFields[\"emp_no\"] !== targetStaff) {\n              formFields[\"appointmentDate\"] = e.newData.endDate;\n              formFields[\"start_time\"] = startTime;\n              formFields[\"add_duration\"] = null;\n              formFields[\"end_time\"] = endTime;\n              formFields[\"emp_no\"] = targetStaff;\n              formFields[\"item_text\"] = e.newData.item_name;\n              formFields[\"recur_days\"] = null;\n              formFields[\"recur_qty\"] = null;\n\n              if (data.is_dragappt) {\n                isDragConfirmation = true;\n                await this.setState({\n                  formFields,\n                  isDragConfirmation\n                });\n              } else {\n                isDragConfirmation = false;\n                await this.setState({\n                  formFields,\n                  isDragConfirmation\n                });\n                this.handleDragandDropLogin();\n              }\n            }\n          }\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      DefaultDate: this.props.filterDate,\n      DefaultView: this.props.filterType\n    });\n  }\n\n  onContentReady(e) {\n    console.log(e, \"oncontentreadylog\");\n    const currentHour = new Date().getHours() - 1;\n    e.component.scrollToTime(currentHour, 30, new Date());\n  }\n\n  onContentReadyDouble(e) {\n    console.log(e, \"oncontentreadylog\");\n    const currentHour = new Date().getHours() - 1;\n    e.component.scrollToTime(currentHour, 30, new Date());\n    const SMSreplyButton = document.getElementById(\"schedulerSMSreplyButton\");\n\n    if (!SMSreplyButton) {\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\n      const container = document.createElement(\"div\");\n      container.id = \"schedulerSMSreplyButton\";\n      element[0].appendChild(container);\n      new Button(container, {\n        text: \"SMS Reply\",\n        mainbgrev: true,\n        onClick: () => history.push(\"/admin/newappointment/SMSReply\"),\n        className: \"ml-5 mr-3\"\n      });\n    }\n\n    const schedulerConfirmButton = document.getElementById(\"schedulerConfirmButton\");\n\n    if (!schedulerConfirmButton) {\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\n      const containerTwo = document.createElement(\"div\");\n      containerTwo.id = \"schedulerConfirmButton\";\n      element[0].appendChild(containerTwo);\n      new Button(containerTwo, {\n        text: \"Confirm Booking\",\n        onClick: () => history.push(\"/admin/newappointment/confirmbooking\"),\n        mainbgrev: true,\n        className: \"ml-5 mr-5\"\n      });\n    }\n  }\n\n  onContentReadysms(e) {\n    console.log(e, \"oncontentreadylog\");\n    const currentHour = new Date().getHours() - 1;\n    e.component.scrollToTime(currentHour, 30, new Date());\n    const SMSreplyButton = document.getElementById(\"schedulerSMSreplyButton\");\n\n    if (!SMSreplyButton) {\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\n      const container = document.createElement(\"div\");\n      container.id = \"schedulerSMSreplyButton\";\n      element[0].appendChild(container);\n      new Button(container, {\n        text: \"SMS Reply\",\n        mainbgrev: true,\n        onClick: () => history.push(\"/admin/newappointment/SMSReply\"),\n        className: \"ml-5 mr-3\"\n      });\n    }\n  }\n\n  onContentReadyconfirmbook(e) {\n    console.log(e, \"oncontentreadylog\");\n    const currentHour = new Date().getHours() - 1;\n    e.component.scrollToTime(currentHour, 30, new Date());\n    const schedulerConfirmButton = document.getElementById(\"schedulerConfirmButton\");\n\n    if (!schedulerConfirmButton) {\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\n      const containerTwo = document.createElement(\"div\");\n      containerTwo.id = \"schedulerConfirmButton\";\n      element[0].appendChild(containerTwo);\n      new Button(containerTwo, {\n        text: \"Confirm Booking\",\n        onClick: () => history.push(\"/admin/newappointment/confirmbooking\"),\n        mainbgrev: true,\n        className: \"ml-5 mr-5\"\n      });\n    }\n  }\n\n  render() {\n    let {\n      isOpenModal,\n      isOpenBlockModal,\n      appointmentId,\n      SchedulerHeight,\n      isOpenPrintModal,\n      groupBy,\n      isTreatmentHistoryModal,\n      isUpcomingAppointmentModal,\n      customerNumber,\n      visible,\n      customerOption,\n      selectedDate,\n      isSettingsClick,\n      dayName,\n      passwordVisible,\n      dragusername,\n      dragpassword,\n      isDragConfirmation,\n      isSMSReply\n    } = this.state;\n    let {\n      filterDate,\n      tokenDetail,\n      t\n    } = this.props;\n\n    let AppointmentcellContent = model => {\n      const {\n        appointmentData\n      } = model.data;\n      let fromTime = getTime(appointmentData.startDate);\n      let toTime = getTime(appointmentData.endDate);\n      let borderStyle = \"1px solid\" + appointmentData.border_color;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: `display-box${this.props.staffList.length} p-0`,\n        style: {\n          background: appointmentData.color,\n          border: borderStyle\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 9\n        }\n      }, appointmentData.status && appointmentData.status === \"Block\" ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-sm-12 col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app-detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 838,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 19\n        }\n      }, appointmentData.reason), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-uppercase\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 19\n        }\n      }, appointmentData.text, \" (\", fromTime, \" - \", toTime, \")\")))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col p-0 ml-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 15\n        }\n      }, appointmentData.link_flag ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"15\",\n        height: \"15\",\n        viewBox: \"0 0 15 15\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"circle\", {\n        cx: \"7\",\n        cy: \"8\",\n        r: \"7\",\n        fill: \"rgba(60, 64, 135, 0.31)\",\n        stroke: \"#3C4087\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"text\", {\n        x: \"5\",\n        y: \"12\",\n        fill: \"#3C4087\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 29\n        }\n      }, \"L\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tooltiptext-img text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 25\n        }\n      }, `Linked Appointment`)))) : \"\", appointmentData.inital ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: calander,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tooltiptext-img text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 25\n        }\n      }, \"[\", fromTime, \" - \", toTime, \"]\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 25\n        }\n      }, appointmentData.cust_name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 25\n        }\n      }, appointmentData.cust_phone), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 25\n        }\n      }, appointmentData.status)))) : \"\", appointmentData.sec_status_flag ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: reschedule,\n        width: \"100%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 25\n        }\n      }, `Reschedule`)))) : \"\", appointmentData.outstanding ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: outstanding,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 919,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 25\n        }\n      }, `Outstanding $${appointmentData.outstanding_amt}`)))) : \"\", appointmentData.req_therapist ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: req_therapist,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 931,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 932,\n          columnNumber: 25\n        }\n      }, `Request Therapist`)))) : \"\", appointmentData.balance ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: treatmentbal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 942,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 25\n        }\n      }, `Have balance for Treatment or Product`)))) : \"\", appointmentData.birthday ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: birthday,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 955,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 25\n        }\n      }, `Birthday Month`)))) : \"\", appointmentData.remark ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 965,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: new_remark,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 966,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 25\n        }\n      }, appointmentData.remark_val)))) : \"\", appointmentData.permanent_remark != \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: new_remark,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 979,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 980,\n          columnNumber: 25\n        }\n      }, appointmentData.permanent_remark)))) : \"\", appointmentData.cust_StoreCard ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: storecard,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 23\n        }\n      }))) : \"\", appointmentData.walkin ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 997,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltip-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: walkin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 999,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"tooltiptext-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1001,\n          columnNumber: 25\n        }\n      }, `Walkin`)))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app-detail col-11 col-sm-11 col-md-11 p-0 ml-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1011,\n          columnNumber: 17\n        }\n      }, fromTime, \" - \", toTime), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 17\n        }\n      }, appointmentData.cust_name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 17\n        }\n      }, appointmentData.cust_refer), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 17\n        }\n      }, appointmentData.cust_code, \"\\u2002\", appointmentData.gender && appointmentData.gender.toUpperCase().trim() == \"M\" || appointmentData.gender.toUpperCase().trim() == \"MALE\" ? \"M / \" : \" \", appointmentData.age ? appointmentData.age : 0), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 17\n        }\n      }, appointmentData.appt_remark), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 17\n        }\n      }, appointmentData.permanent_remark), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 17\n        }\n      }, appointmentData.remark_val), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 17\n        }\n      }, appointmentData.sec_status), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1036,\n          columnNumber: 17\n        }\n      }, appointmentData.room))));\n    };\n\n    return (\n      /*#__PURE__*/\n      // <div style={{ width: \"100%\", height: \"100%\" }}>\n      React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 7\n        }\n      }, isOpenModal ? /*#__PURE__*/React.createElement(StaffSorting, {\n        isOpenModal: isOpenModal,\n        handleDialog: this.handleDialog,\n        handleChange: this.handleChange,\n        filterDate: filterDate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1048,\n          columnNumber: 11\n        }\n      }) : \"\", isOpenBlockModal ? /*#__PURE__*/React.createElement(BlockPopup, {\n        isOpenBlockModal: isOpenBlockModal,\n        handleBlockDialog: this.handleBlockDialog,\n        handleChange: this.handleChange,\n        filterDate: filterDate,\n        appointmentId: appointmentId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 11\n        }\n      }) : \"\", isOpenPrintModal ? /*#__PURE__*/React.createElement(PrintModal, {\n        isOpenPrintModal: isOpenPrintModal,\n        handlePrintDialog: this.handlePrintDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 11\n        }\n      }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-wrap justify-content-center m-1 p-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1076,\n          columnNumber: 9\n        }\n      }, this.props.meta ? /*#__PURE__*/React.createElement(\"div\", {\n        className: `col-md-1 col-12 align-items-center`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 13\n        }\n      }, this.props.meta.pagination && this.props.meta.pagination.total_pages > 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1082,\n          columnNumber: 19\n        }\n      }, this.props.meta.pagination.total_pages < this.props.meta.pagination.current_page || this.props.meta.pagination.current_page > 1 || this.props.meta.pagination.total_pages == this.props.meta.pagination.current_page ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"cursor-pointer dx-button-content disabled mr-3\",\n        onClick: this.handleBack,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"9\",\n        height: \"15\",\n        viewBox: \"0 0 6 10\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1092,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M5 0.5L1 5L5 9.5\",\n        stroke: \"#888888\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1099,\n          columnNumber: 27\n        }\n      }))) : \"\", this.props.meta.pagination.total_pages > this.props.meta.pagination.current_page && this.props.meta.pagination.total_pages !== this.props.meta.pagination.current_page && this.props.meta.pagination.current_page > 0 ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"cursor-pointer dx-button-content\",\n        onClick: this.handleNext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1116,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"9\",\n        height: \"15\",\n        viewBox: \"0 0 6 10\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M0.5 9.5L4.5 5L0.5 0.5\",\n        stroke: \"#888888\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 27\n        }\n      }))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: `ml-1 pt-0 ${isMobile ? \"col-3\" : \"d-none\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: 30\n        },\n        onClick: window.location.pathname == \"/admin/newappointmentfullscreen\" ? this.handleFullScreenClose : this.handleFullScreenOpen,\n        className: \"close cursor-pointer tooltip-img ml-1\",\n        src: fullscreenIcon,\n        alt: \"\",\n        \"data-toggle\": \"tooltip\",\n        \"data-placement\": \"bottom\",\n        title: window.location.pathname == \"/admin/newappointmentfullscreen\" ? \"Exit Fullscreen Mode\" : \"Fullscreen Mode\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 21\n        }\n      }))) : \"\") : \"\", !isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-1 py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1171,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"p-0 mr-1\",\n        mainbg: true,\n        className: \"fs-15 submit-btn\",\n        label: `Today`,\n        outline: false,\n        onClick: () => {\n          this.handleDateChange(new Date());\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1172,\n          columnNumber: 15\n        }\n      })) : \"\", !isMobile ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-3 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1188,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-nowrap py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1189,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        className: \"col-md-5 col-4 mr-1\",\n        placeholder: \"customer..\",\n        value: this.state.custName,\n        name: \"custName\",\n        onChange: this.handleSearchCustomer,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"mr-1 col-4\",\n        mainbg: true,\n        className: \"col-12 fs-15 m-0 p-0\",\n        label: \"Upcoming\",\n        onClick: this.handleUpcomingAppointment,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"mr-1 col-4\",\n        mainbg: true,\n        className: \"col-12 fs-15\",\n        label: \"History\",\n        onClick: this.handleTreatmentHistory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1206,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-sm-2 col-12 w-100 py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        name: \"selecteddate\",\n        value: dayName[this.state.day] + \" \" + moment(selectedDate).format(\"DD/MM/YYYY\"),\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1216,\n          columnNumber: 17\n        }\n      }))) : \"\", isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-sm-2 col-12 w-100 py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1231,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        name: \"selecteddate\",\n        value: dayName[this.state.day] + \" \" + moment(selectedDate).format(\"DD/MM/YYYY\"),\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 15\n        }\n      })) : \"\", !isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-5 col-12 py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1247,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1248,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"p-0 mr-1\",\n        mainbg: true,\n        className: \"confirm mr-1\",\n        label: t(\"Snap\"),\n        outline: false,\n        onClick: this.Snap,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1249,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"p-0 mr-1\",\n        mainbg: true,\n        className: \" confirm mr-1\",\n        label: `Print`,\n        outline: false,\n        onClick: () => {\n          this.setState({\n            isOpenPrintModal: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1257,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"p-0 mr-1\",\n        mainbg: true,\n        className: \"confirm mr-1\",\n        label: `Sort`,\n        outline: false,\n        onClick: () => {\n          this.setState({\n            isOpenModal: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1267,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"p-0 mr-1\",\n        mainbg: true,\n        className: \"fs-15 confirm\",\n        label: `Block`,\n        outline: false,\n        onClick: () => {\n          this.setState({\n            isOpenBlockModal: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1277,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-12 py-2 py-lg-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1287,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(InputSearch, {\n        placeholder: \"Search here..\",\n        value: this.state.searchtext,\n        onChange: this.handleSearch,\n        name: \"searchtext\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1288,\n          columnNumber: 19\n        }\n      })), String(tokenDetail.role_code).toUpperCase() === \"1\" ? /*#__PURE__*/React.createElement(\"img\", {\n        onClick: this.handleSettingClick,\n        className: \"close cursor-pointer\",\n        src: setting,\n        alt: \"\",\n        width: \"30\",\n        height: \"30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1296,\n          columnNumber: 19\n        }\n      }) : null, this.props.settingData.smsreply ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ml-1 p-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1307,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"30\",\n        height: \"30\",\n        fill: \"grey\",\n        class: \"bi bi-chat-square-dots-fill\",\n        viewBox: \"0 0 16 16\",\n        onClick: this.handleSMSReply,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1308,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.5a1 1 0 0 0-.8.4l-1.9 2.533a1 1 0 0 1-1.6 0L5.3 12.4a1 1 0 0 0-.8-.4H2a2 2 0 0 1-2-2V2zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1317,\n          columnNumber: 23\n        }\n      }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ml-1 pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: 25\n        },\n        onClick: window.location.pathname == \"/admin/newappointmentfullscreen\" ? this.handleFullScreenClose : this.handleFullScreenOpen,\n        className: \"close cursor-pointer tooltip-img ml-1\",\n        src: fullscreenIcon,\n        alt: \"\",\n        \"data-toggle\": \"tooltip\",\n        \"data-placement\": \"bottom\",\n        title: window.location.pathname == \"/admin/newappointmentfullscreen\" ? \"Exit Fullscreen Mode\" : \"Fullscreen Mode\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 19\n        }\n      })))) : \"\", /*#__PURE__*/React.createElement(NormalModal, {\n        className: \"transaction-done-modal top-up-modal\",\n        style: {\n          minWidth: \"55%\"\n        },\n        modal: isSettingsClick,\n        handleModal: this.handleSettingDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1349,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        onClick: this.handleSettingDialog,\n        className: \"close cursor-pointer\",\n        src: closeIcon,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1355,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(AppointmentSettings, {\n        handleModal: this.handleSettingDialog,\n        handleSettingChange: this.props.handleAppointmentSetting,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 13\n        }\n      }))), isTreatmentHistoryModal ? /*#__PURE__*/React.createElement(TreatmentHistory, {\n        isTreatmentHistoryModal: isTreatmentHistoryModal,\n        handleTreatmentHistory: this.handleTreatmentHistory,\n        customerNumber: this.state.customerNumber,\n        custName: this.state.custName,\n        custPhone: this.state.custPhone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 11\n        }\n      }) : \"\", isUpcomingAppointmentModal ? /*#__PURE__*/React.createElement(UpcomingAppointment, {\n        isUpcomingAppointmentModal: isUpcomingAppointmentModal,\n        handleUpcomingAppointment: this.handleUpcomingAppointment,\n        customerNumber: this.state.customerNumber,\n        custName: this.state.custName,\n        custPhone: this.state.custPhone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1379,\n          columnNumber: 11\n        }\n      }) : \"\", visible ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"AppointmentnewStaffList\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1390,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"customerSearch-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1391,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex mt-4 table table-header w-100 m-0 top-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1392,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1393,\n          columnNumber: 17\n        }\n      }, t(\"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1394,\n          columnNumber: 17\n        }\n      }, t(\"Phone\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1395,\n          columnNumber: 17\n        }\n      }, t(\"Customer Code\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1396,\n          columnNumber: 17\n        }\n      }, t(\"Reference\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1397,\n          columnNumber: 17\n        }\n      }, t(\"Email\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1398,\n          columnNumber: 17\n        }\n      }, t(\"NRIC\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"response-table w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1400,\n          columnNumber: 15\n        }\n      }, customerOption.length > 0 ? customerOption.map((item, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row m-0 table-body w-100 border\",\n          onClick: () => this.handleSelectCustomer(item),\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1404,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1409,\n            columnNumber: 25\n          }\n        }, item.cust_name), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1410,\n            columnNumber: 25\n          }\n        }, item.cust_phone1), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1411,\n            columnNumber: 25\n          }\n        }, item.cust_code), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1412,\n            columnNumber: 25\n          }\n        }, item.cust_refer), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1413,\n            columnNumber: 25\n          }\n        }, item.cust_email), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1414,\n            columnNumber: 25\n          }\n        }, item.cust_nric));\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1419,\n          columnNumber: 19\n        }\n      }, t(\"No Data are available\"))))) : null, /*#__PURE__*/React.createElement(NormalModal, {\n        className: \"d-flex justify-content-center\",\n        style: {\n          minWidth: \"20%\"\n        },\n        modal: isDragConfirmation,\n        handleModal: this.handleDragConfirmationDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1427,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        onClick: this.handleDragConfirmationDialog,\n        className: \"close cursor-pointer\",\n        src: closeIcon,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1433,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1439,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1440,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1441,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1442,\n          columnNumber: 17\n        }\n      }, t(\"Please enter your login credential\"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 form-group mb-3 pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1444,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1445,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        placeholder: \"Username\",\n        value: dragusername,\n        name: \"dragusername\",\n        autocomplete: \"off\",\n        onChange: this.handleInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 form-group mb-3 pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1455,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1456,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: passwordVisible ? \"text\" : \"password\",\n        placeholder: \"Password\",\n        value: dragpassword,\n        name: \"dragpassword\",\n        autocomplete: \"off\",\n        onChange: e => this.handleInputChange(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-addon right fs-14\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1465,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        onClick: () => this.toggle(\"passwordVisible\"),\n        className: `icon-${passwordVisible ? \"eye\" : \"eye-blocked\"} cursor-pointer fs-24`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1466,\n          columnNumber: 21\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mb-0 p-0 d-flex justify-content-center col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        onClick: this.handleDragandDropLogin,\n        label: \"PROCEED\",\n        className: \"col-12 submit-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1476,\n          columnNumber: 17\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: `col-md-12 mb-5 ${isSMSReply ? \"\" : \"d-none\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1486,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"dx-viewport demo-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1489,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Scheduler, {\n        id: \"Scheduler\",\n        className: \"col-12 m-0 p-0 Scheduler\",\n        height: SchedulerHeight,\n        dataSource: this.props.staffList.length > 0 ? this.props.event : [] // views={this.props.staffList.length > 0 ? views : Dayview}\n        ,\n        views: isMobile ? mobileviews : views,\n        onContentReady: this.props.settingData.confirmbook ? this.onContentReadyconfirmbook : this.onContentReady // onContentReady={\n        //   this.props.settingData.smsreply &&\n        //   !this.props.settingData.confirmbook\n        //     ? this.onContentReadysms\n        //     : this.props.settingData.confirmbook &&\n        //       !this.props.settingData.smsreply\n        //     ? this.onContentReadyconfirmbook\n        //     : this.props.settingData.confirmbook &&\n        //       this.props.settingData.smsreply\n        //     ? this.onContentReadyDouble\n        //     : this.onContentReady\n        // }\n        ,\n        defaultCurrentView: \"day\",\n        currentDate: selectedDate,\n        defaultCurrentDate: new Date(),\n        groups: this.props.staffList.length > 0 ? groups : [] // startDayHour={8}\n        // endDayHour={21}\n        // cellDuration={15}\n        ,\n        startDayHour: this.props.SchedulerSetting.startday_hour ? this.props.SchedulerSetting.startday_hour : 8,\n        endDayHour: this.props.SchedulerSetting.endday_hour ? this.props.SchedulerSetting.endday_hour : 21,\n        cellDuration: this.props.SchedulerSetting.cell_duration ? this.props.SchedulerSetting.cell_duration : 15,\n        firstDayOfWeek: 0,\n        showAllDayPanel: false,\n        crossScrollingEnabled: false,\n        resourceCellComponent: ResourceCell,\n        editing: {\n          allowDeleting: false,\n          allowResizing: true,\n          allowUpdating: true,\n          allowDragging: true,\n          allowTaint: true\n        },\n        onAppointmentClick: e => {\n          e.cancel = true;\n        },\n        onAppointmentDblClick: e => this.onAppointmentDblClick(e),\n        onCellClick: e => this.onEmptyClick(e) //dateSerializationFormat=\"yyyy-MM-ddTHH:mm:ssZ\"\n        ,\n        appointmentComponent: AppointmentcellContent,\n        onCurrentViewChange: this.handleViewChange,\n        onCurrentDateChange: this.handleDateChange,\n        appointmentDragging: {\n          autoScroll: true,\n          scrollSpeed: 25,\n          group: {\n            draggingGroupName\n          } //onDragStart: e => this.onDragStart(e),\n          //onDragEnd: e => this.onDragEnd(e),\n\n        },\n        onAppointmentUpdating: e => this.onAppointmentUpdated(e),\n        scrolling: scrolling,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1490,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(View, {\n        type: \"day\",\n        label: t(\"day\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1566,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(View, {\n        type: \"week\",\n        label: \"week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1567,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(View, {\n        type: \"month\",\n        label: \"month\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1568,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Resource, {\n        dataSource: this.props.staffList,\n        fieldExpr: \"id\",\n        useColorAsDefault: true,\n        allowMultiple: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1569,\n          columnNumber: 13\n        }\n      }))))\n    );\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  basicApptDetail: state.appointment.basicApptDetail,\n  SchedulerSetting: state.appointment.SchedulerSetting,\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonPatchApi\n  }, dispatch);\n};\n\nexport const NewSchedulerModal = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(NewSchedulerModalClass));","map":{"version":3,"sources":["F:/webfe/src/component/common/Plugins/NewScheduler.js"],"names":["React","Component","PureComponent","Scheduler","Resource","View","Scrolling","ResourceCell","fullscreenIcon","InputSearch","_","NormalButton","NormalSelect","NormalInput","NormalModal","StaffSorting","BlockPopup","PrintModal","Toast","html2canvas","dateFormat","getCommonApi","commonPatchApi","connect","bindActionCreators","TreatmentHistory","UpcomingAppointment","setting","AppointmentSettings","closeIcon","history","withTranslation","moment","BrowserView","MobileView","isBrowser","isMobile","calander","outstanding","req_therapist","treatmentbal","birthday","new_remark","storecard","walkin","reschedule","Button","groups","draggingGroupName","sleep","milliseconds","Promise","resolve","setTimeout","scrolling","mode","mobileviews","type","name","groupOrientation","intervalCount","views","maxAppointmentsPerCell","Dayview","getTime","date","now","Date","hour","getHours","minute","getMinutes","second","getSeconds","ap","timeString","NewSchedulerModalClass","state","selectedDate","selectedView","DefaultDate","DefaultView","searchtext","SelectedList","isOpenModal","isOpenBlockModal","appointmentId","SchedulerHeight","isOpenPrintModal","formFields","groupByList","label","value","groupBy","customerNumber","customerId","clickCount","visible","customerOption","isSettingsClick","dayName","day","getDay","passwordVisible","dragusername","dragpassword","isDragConfirmation","isSMSReply","onEmptyClick","e","cancel","cellData","startDate","props","onAppointmentDblClick","setState","appointmentData","status","appt_id","handleBlockDialog","cust_id","custName","cust_name","custPhone","cust_phone","onAppointmentSingleClick","handleViewChange","handleChange","handleDateChange","console","log","newDate","newMode","prevMode","prevDate","handleChangeFilter","handleSearch","event","persist","target","debouncedFn","debounce","handleDragConfirmationDialog","getAppointmentWithStaff","handleDialog","handleSettingDialog","prevState","handlePrintDialog","handleBack","handleNext","Snap","window","scrollTo","img","base64URL","document","querySelector","allowTaint","useCORS","logging","scale","removeContainer","then","canvas","toDataURL","replace","byteCharacters","atob","byteNumbers","Array","length","i","charCodeAt","byteArray","Uint8Array","file","Blob","fileURL","URL","createObjectURL","a","createElement","setAttribute","click","open","documentElement","scrollHeight","getHoursFromDate","hours","minutes","onDragStart","String","itemData","toUpperCase","message","link_flag","onDragEnd","startTime","endTime","endDate","targetStaff","id","key","data","appt_Date","appt_date","split","finaldate","booking_status","ori_remark","source_id","room_id","secondary_status","channel_id","start_time","end_time","Item_Codeid","item_name","emp_id","add_duration","requesttherapist","recur_days","recur_qty","is_dragappt","handleDragandDropLogin","handleTreatmentHistory","isTreatmentHistoryModal","handleUpcomingAppointment","isUpcomingAppointmentModal","handleSearchCustomer","customerList","basicApptDetail","search","branchId","handleClick","addEventListener","handleOutsideClick","removeEventListener","handleSettingClick","node","contains","handleSelectCustomer","cust_phone1","handleGroupbyChange","groupByAppointment","handleFullScreenClose","push","handleFullScreenOpen","handleInputChange","toggle","payload","appointmentDate","Room_Codeid","appt_status","bookingStatus","sec_status","edit_remark","item_id","emp_no","item_text","username","password","res","handleSMSReply","onAppointmentUpdated","selecteddata","newData","onResizeEnd","componentDidMount","filterDate","filterType","onContentReady","currentHour","component","scrollToTime","onContentReadyDouble","SMSreplyButton","getElementById","element","querySelectorAll","container","appendChild","text","mainbgrev","onClick","className","schedulerConfirmButton","containerTwo","onContentReadysms","onContentReadyconfirmbook","render","tokenDetail","t","AppointmentcellContent","model","fromTime","toTime","borderStyle","border_color","staffList","background","color","border","reason","inital","sec_status_flag","outstanding_amt","balance","remark","remark_val","permanent_remark","cust_StoreCard","cust_refer","cust_code","gender","trim","age","appt_remark","room","meta","pagination","total_pages","current_page","width","location","pathname","format","role_code","settingData","smsreply","minWidth","handleAppointmentSetting","map","item","index","cust_email","cust_nric","confirmbook","SchedulerSetting","startday_hour","endday_hour","cell_duration","allowDeleting","allowResizing","allowUpdating","allowDragging","autoScroll","scrollSpeed","group","mapStateToProps","appointment","authStore","tokenDetails","mapDispatchToProps","dispatch","NewSchedulerModal"],"mappings":"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","sourcesContent":["import React, { Component, PureComponent } from \"react\";\r\nimport \"./devExpressScheduler/Styles.scss\";\r\nimport Scheduler, { Resource, View, Scrolling } from \"devextreme-react/scheduler\";\r\nimport \"devextreme/dist/css/dx.common.css\";\r\nimport \"devextreme/dist/css/dx.light.css\";\r\nimport ResourceCell from \"./devExpressScheduler/ResourceCell\";\r\nimport fullscreenIcon from \"assets/images/fullScreen.png\";\r\nimport { InputSearch } from \"../InputSearch\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  NormalButton,\r\n  NormalSelect,\r\n  NormalInput,\r\n  NormalModal,\r\n} from \"component/common\";\r\n\r\nimport { StaffSorting } from \"../../Admin/NewAppointment/NewListAppointment/modal/StaffSorting\";\r\nimport { BlockPopup } from \"../../Admin/NewAppointment/NewListAppointment/modal/BlockPopup\";\r\nimport { PrintModal } from \"../../Admin/NewAppointment/NewListAppointment/modal/PrintModal\";\r\nimport { Toast } from \"service/toast\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { getCommonApi, commonPatchApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { TreatmentHistory } from \"component/Admin/NewAppointment/NewListAppointment/modal/TreatmentHistory\";\r\nimport { UpcomingAppointment } from \"component/Admin/NewAppointment/NewListAppointment/modal/UpcomingAppointment\";\r\nimport setting from \"assets/images/settings.png\";\r\nimport { AppointmentSettings } from \"./devExpressScheduler/AppointmentSettings\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { history } from \"helpers\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport moment from \"moment\";\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile,\r\n} from \"react-device-detect\";\r\nimport calander from \"assets/images/app-icons/00.png\";\r\nimport outstanding from \"assets/images/app-icons/0.png\";\r\nimport req_therapist from \"assets/images/app-icons/1.png\";\r\nimport treatmentbal from \"assets/images/app-icons/2.png\";\r\nimport birthday from \"assets/images/app-icons/3.png\";\r\nimport new_remark from \"assets/images/app-icons/4.png\";\r\nimport storecard from \"assets/images/app-icons/5.png\";\r\nimport walkin from \"assets/images/app-icons/6.png\";\r\nimport reschedule from \"assets/images/app-icons/8.png\";\r\nimport Button from \"devextreme/ui/button\";\r\n//import { SMSReply } from \"pages\";\r\n\r\nconst groups = [\"id\"];\r\nconst draggingGroupName = \"appointmentsGroup\";\r\nconst sleep = milliseconds => {\r\n  return new Promise(resolve => setTimeout(resolve, milliseconds));\r\n};\r\nconst scrolling = { mode: \"standard\" };\r\nconst mobileviews = [\r\n  {\r\n    type: \"day\",\r\n    name: \"day\",\r\n    groupOrientation: \"Horizontally\",\r\n    intervalCount: 1,\r\n  },\r\n];\r\nconst views = [\r\n  {\r\n    type: \"day\",\r\n    name: \"day\",\r\n    groupOrientation: \"Horizontally\",\r\n    intervalCount: 1,\r\n  },\r\n  {\r\n    type: \"week\",\r\n    name: \"week\",\r\n    groupOrientation: \"vertical\",\r\n    intervalCount: 1,\r\n    maxAppointmentsPerCell: \"unlimited\",\r\n  },\r\n  {\r\n    type: \"month\",\r\n    name: \"month\",\r\n    intervalCount: 1,\r\n    groupOrientation: \"vertical\",\r\n    maxAppointmentsPerCell: \"unlimited\",\r\n  },\r\n];\r\nconst Dayview = [\r\n  {\r\n    type: \"day\",\r\n    name: \"day\",\r\n    groupOrientation: \"Horizontally\",\r\n    intervalCount: 1,\r\n  },\r\n];\r\n\r\nconst getTime = date => {\r\n  var now = new Date(date);\r\n  var hour = now.getHours();\r\n  var minute = now.getMinutes();\r\n  var second = now.getSeconds();\r\n  var ap = \"AM\";\r\n  if (hour > 11) {\r\n    ap = \"PM\";\r\n  }\r\n  if (hour > 12) {\r\n    hour = hour - 12;\r\n  }\r\n  if (hour == 0) {\r\n    hour = 12;\r\n  }\r\n  if (hour < 10) {\r\n    hour = \"0\" + hour;\r\n  }\r\n  if (minute < 10) {\r\n    minute = \"0\" + minute;\r\n  }\r\n  if (second < 10) {\r\n    second = \"0\" + second;\r\n  }\r\n  var timeString = hour + \":\" + minute + \" \" + ap;\r\n  return timeString;\r\n};\r\n\r\nexport class NewSchedulerModalClass extends PureComponent {\r\n  state = {\r\n    selectedDate: new Date(),\r\n    selectedView: \"\",\r\n    DefaultDate: new Date(),\r\n    DefaultView: \"\",\r\n    searchtext: \"\",\r\n    SelectedList: [],\r\n    isOpenModal: false,\r\n    isOpenBlockModal: false,\r\n    appointmentId: 0,\r\n    SchedulerHeight: \"100%\",\r\n    isOpenPrintModal: false,\r\n    formFields: [],\r\n    groupByList: [\r\n      { label: \"Group by Staff\", value: \"staff\" },\r\n      { label: \"Group by Department\", value: \"department\" },\r\n      { label: \"Group by Room\", value: \"room\" },\r\n    ],\r\n    groupBy: \"staff\",\r\n    customerNumber: 0,\r\n    customerId: 0,\r\n    clickCount: 0,\r\n    visible: false,\r\n    customerOption: [],\r\n    isSettingsClick: false,\r\n    dayName: [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n    ],\r\n    day: new Date().getDay(),\r\n    passwordVisible: false,\r\n    dragusername: \"\",\r\n    dragpassword: \"\",\r\n    isDragConfirmation: false,\r\n    isSMSReply: false,\r\n  };\r\n\r\n  onEmptyClick = e => {\r\n    e.cancel = true;\r\n    let date = new Date(e.cellData.startDate);\r\n    if (e.cellData.groups) {\r\n      this.props.onEmptyClick(date, e.cellData);\r\n    }\r\n  };\r\n\r\n  onAppointmentDblClick = async e => {\r\n    e.cancel = true;\r\n    await this.setState({\r\n      appointmentId: 0,\r\n    });\r\n    let date = new Date(e.appointmentData.startDate);\r\n    if (e.appointmentData.status === \"Block\") {\r\n      await this.setState({ appointmentId: e.appointmentData.appt_id });\r\n      this.handleBlockDialog();\r\n    } else {\r\n      this.props.onEmptyClick(date, e.appointmentData);\r\n      await this.setState({\r\n        customerId: e.appointmentData.cust_id,\r\n        custName: e.appointmentData.cust_name,\r\n        custPhone: e.appointmentData.cust_phone,\r\n      });\r\n    }\r\n  };\r\n\r\n  onAppointmentSingleClick = async e => {\r\n    e.cancel = true;\r\n    if (e.appointmentData.status !== \"Block\") {\r\n      await this.setState({\r\n        customerId: e.appointmentData.cust_id,\r\n        custName: e.appointmentData.cust_name,\r\n        custPhone: e.appointmentData.cust_phone,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      DefaultDate: this.props.filterDate,\r\n      DefaultView: this.props.filterType,\r\n    });\r\n  }\r\n\r\n  handleViewChange = async e => {\r\n    //if (this.props.staffList.length > 0) {\r\n    await this.setState({\r\n      selectedView: e,\r\n    });\r\n    this.handleChange();\r\n    //}\r\n  };\r\n\r\n  handleDateChange = async e => {\r\n    let { day } = this.state;\r\n    if (this.state.selectedDate !== e) {\r\n      await this.setState({\r\n        selectedDate: e,\r\n      });\r\n      this.handleChange();\r\n    }\r\n    day = moment(this.state.selectedDate).day();\r\n    this.setState({ day });\r\n    console.log(day);\r\n  };\r\n\r\n  handleChange = () => {\r\n    let { selectedDate, selectedView, DefaultDate, DefaultView, searchtext } =\r\n      this.state;\r\n    let newDate = new Date();\r\n    let newMode = \"\";\r\n    let prevMode = DefaultView;\r\n    let prevDate = DefaultDate;\r\n    if (selectedView) {\r\n      newMode = selectedView;\r\n    } else {\r\n      newMode = DefaultView;\r\n    }\r\n    if (selectedDate) {\r\n      newDate = selectedDate;\r\n    } else {\r\n      newDate = selectedDate;\r\n    }\r\n    this.props.handleChangeFilter(\r\n      prevMode,\r\n      prevDate,\r\n      newMode,\r\n      newDate,\r\n      searchtext\r\n    );\r\n  };\r\n  onContentReady(e) {\r\n    console.log(e, \"oncontentreadylog\");\r\n    const currentHour = new Date().getHours() - 1;\r\n    e.component.scrollToTime(currentHour, 30, new Date());\r\n  }\r\n  onContentReadyDouble(e) {\r\n    console.log(e, \"oncontentreadylog\");\r\n    const currentHour = new Date().getHours() - 1;\r\n    e.component.scrollToTime(currentHour, 30, new Date());\r\n\r\n    const SMSreplyButton = document.getElementById(\"schedulerSMSreplyButton\");\r\n    if (!SMSreplyButton) {\r\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\r\n      const container = document.createElement(\"div\");\r\n      container.id = \"schedulerSMSreplyButton\";\r\n      element[0].appendChild(container);\r\n\r\n      new Button(container, {\r\n        text: \"SMS Reply\",\r\n        mainbgrev: true,\r\n        onClick: () => history.push(\"/admin/newappointment/SMSReply\"),\r\n        className: \"ml-5 mr-3\",\r\n      });\r\n    }\r\n\r\n    const schedulerConfirmButton = document.getElementById(\r\n      \"schedulerConfirmButton\"\r\n    );\r\n    if (!schedulerConfirmButton) {\r\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\r\n      const containerTwo = document.createElement(\"div\");\r\n      containerTwo.id = \"schedulerConfirmButton\";\r\n      element[0].appendChild(containerTwo);\r\n      new Button(containerTwo, {\r\n        text: \"Confirm Booking\",\r\n        onClick: () => history.push(\"/admin/newappointment/confirmbooking\"),\r\n        mainbgrev: true,\r\n        className: \"ml-5 mr-5\",\r\n      });\r\n    }\r\n  }\r\n\r\n  onContentReadysms(e) {\r\n    console.log(e, \"oncontentreadylog\");\r\n    const currentHour = new Date().getHours() - 1;\r\n    e.component.scrollToTime(currentHour, 30, new Date());\r\n\r\n    const SMSreplyButton = document.getElementById(\"schedulerSMSreplyButton\");\r\n    if (!SMSreplyButton) {\r\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\r\n      const container = document.createElement(\"div\");\r\n      container.id = \"schedulerSMSreplyButton\";\r\n      element[0].appendChild(container);\r\n\r\n      new Button(container, {\r\n        text: \"SMS Reply\",\r\n        mainbgrev: true,\r\n        onClick: () => history.push(\"/admin/newappointment/SMSReply\"),\r\n        className: \"ml-5 mr-3\",\r\n      });\r\n    }\r\n  }\r\n  onContentReadyconfirmbook(e) {\r\n    console.log(e, \"oncontentreadylog\");\r\n    const currentHour = new Date().getHours() - 1;\r\n    e.component.scrollToTime(currentHour, 30, new Date());\r\n\r\n    const schedulerConfirmButton = document.getElementById(\r\n      \"schedulerConfirmButton\"\r\n    );\r\n    if (!schedulerConfirmButton) {\r\n      let element = document.querySelectorAll(\".dx-scheduler-navigator\");\r\n      const containerTwo = document.createElement(\"div\");\r\n      containerTwo.id = \"schedulerConfirmButton\";\r\n      element[0].appendChild(containerTwo);\r\n      new Button(containerTwo, {\r\n        text: \"Confirm Booking\",\r\n        onClick: () => history.push(\"/admin/newappointment/confirmbooking\"),\r\n        mainbgrev: true,\r\n        className: \"ml-5 mr-5\",\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearch = async event => {\r\n    event.persist();\r\n    await this.setState({ searchtext: event.target.value });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        this.handleChange();\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n  handleDragConfirmationDialog = async () => {\r\n    let { isDragConfirmation } = this.state;\r\n    isDragConfirmation = !isDragConfirmation;\r\n    await this.setState({\r\n      isDragConfirmation,\r\n    });\r\n    await this.props.getAppointmentWithStaff();\r\n  };\r\n  handleDialog = () => {\r\n    let { isOpenModal } = this.state;\r\n    isOpenModal = !isOpenModal;\r\n    this.setState({\r\n      isOpenModal,\r\n    });\r\n  };\r\n  handleSettingDialog = () => {\r\n    let { isSettingsClick } = this.state;\r\n    isSettingsClick = !isSettingsClick;\r\n    this.setState({\r\n      isSettingsClick,\r\n    });\r\n  };\r\n  handleBlockDialog = async () => {\r\n    await this.setState(prevState => ({\r\n      isOpenBlockModal: !prevState.isOpenBlockModal,\r\n    }));\r\n    await this.setState({ appointmentId: 0 });\r\n  };\r\n  handlePrintDialog = () => {\r\n    let { isOpenPrintModal } = this.state;\r\n    isOpenPrintModal = !isOpenPrintModal;\r\n    this.setState({\r\n      isOpenPrintModal,\r\n    });\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.props.handleBack();\r\n  };\r\n  handleNext = () => {\r\n    this.props.handleNext();\r\n  };\r\n  Snap = async () => {\r\n    // await this.setState({\r\n    //   SchedulerHeight: \"350%\",\r\n    // });\r\n\r\n    await sleep(2000); //2000 Yoonus\r\n    window.scrollTo(0, 0); //Yoonus\r\n\r\n    let img = \"\";\r\n    let base64URL = \"\";\r\n\r\n    html2canvas(document.querySelector(\".dx-scheduler-work-space-grouped\"), {\r\n      allowTaint: true,\r\n      useCORS: true,\r\n      logging: false,\r\n      scale: 1,\r\n      removeContainer: false,\r\n    }).then(function (canvas) {\r\n      img = canvas.toDataURL(\"image/png\", 1);\r\n      base64URL = img.replace(\"image/png\", \"image/octet-stream\");\r\n      var byteCharacters = atob(\r\n        img.replace(/^data:image\\/(png|jpeg|jpg);base64,/, \"\")\r\n      );\r\n      var byteNumbers = new Array(byteCharacters.length);\r\n      for (var i = 0; i < byteCharacters.length; i++) {\r\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n      }\r\n      var byteArray = new Uint8Array(byteNumbers);\r\n      var file = new Blob([byteArray], { type: \"image/png\" + \";base64\" });\r\n      var fileURL = URL.createObjectURL(file);\r\n      var a = document.createElement(\"a\");\r\n      a.setAttribute(\"download\", \"myImage.png\");\r\n      a.setAttribute(\"href\", base64URL);\r\n      a.click();\r\n      window.open(fileURL);\r\n    });\r\n    window.scrollTo(0, document.documentElement.scrollHeight); //Yoonus\r\n    await this.setState({\r\n      SchedulerHeight: \"100%\",\r\n    });\r\n  };\r\n\r\n  getHoursFromDate = date => {\r\n    let hour = new Date(date).getHours();\r\n    let minute = new Date(date).getMinutes();\r\n    let hours = hour > 9 ? hour : \"0\" + hour;\r\n    let minutes = minute > 9 ? minute : \"0\" + minute;\r\n    return hours + \":\" + minutes;\r\n  };\r\n  // onDragStart = async e => {\r\n  //   if (e.itemData.status === \"Block\") {\r\n  //     e.cancel = true;\r\n  //   } else {\r\n  //     await sleep(300);\r\n  //     this.getDraggedData(e.itemData.appt_id);\r\n  //   }\r\n  // };\r\n  onDragStart = async e => {\r\n    console.log(e, \"drag start data\");\r\n    if (\r\n      String(e.itemData.status).toUpperCase() === \"BLOCK\"\r\n    ) {\r\n      debugger;\r\n      e.cancel = true;\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Appointment not allowed for dragging\",\r\n      });\r\n      return false;\r\n    } else if (e.itemData.link_flag) {\r\n      debugger;\r\n      e.cancel = true;\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Appointment not allowed for dragging\",\r\n      });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  onDragEnd = async e => {\r\n    await sleep(500);\r\n    if (e.itemData.appt_id) {\r\n      let { formFields, isDragConfirmation } = this.state;\r\n      let startTime = this.getHoursFromDate(e.itemData.startDate);\r\n      let endTime = this.getHoursFromDate(e.itemData.endDate);\r\n      let targetStaff = e.itemData.id;\r\n      this.props\r\n        .getCommonApi(`appointmentresources/${e.itemData.appt_id}/`)\r\n        .then(async key => {\r\n          let { status, data } = key;\r\n          console.log(key, \"drag end data response\");\r\n          let appt_Date = data.appt_date;\r\n          let date = appt_Date.split(\"/\");\r\n          let finaldate = date[2] + \"-\" + date[1] + \"-\" + date[0];\r\n          if (status === 200) {\r\n            formFields[\"appt_id\"] = e.itemData.appt_id;\r\n            formFields[\"custName\"] = data.cust_name;\r\n            formFields[\"appointmentDate\"] = finaldate;\r\n            formFields[\"bookingStatus\"] = data.booking_status;\r\n            formFields[\"new_remark\"] = data.ori_remark;\r\n            formFields[\"customerName\"] = data.cust_id;\r\n            formFields[\"Source_Codeid\"] = data.source_id;\r\n            formFields[\"Room_Codeid\"] = data.room_id;\r\n            formFields[\"sec_status\"] = data.secondary_status;\r\n            formFields[\"Appt_typeid\"] = data.channel_id;\r\n\r\n            formFields[\"start_time\"] = data ? data.start_time : \"\";\r\n            formFields[\"end_time\"] = data ? data.end_time : \"\";\r\n            formFields[\"Item_Codeid\"] = data.Item_Codeid;\r\n            formFields[\"Item_CodeName\"] = data.item_name;\r\n            formFields[\"emp_no\"] = data.emp_id;\r\n            formFields[\"add_duration\"] = data.add_duration;\r\n            formFields[\"edit_remark\"] = \"\";\r\n            formFields[\"requesttherapist\"] = data.requesttherapist;\r\n            formFields[\"recur_days\"] = data.recur_days;\r\n            formFields[\"recur_qty\"] = data.recur_qty;\r\n            formFields[\"item_text\"] = data.item_name;\r\n\r\n            if (\r\n              formFields[\"start_time\"] !== startTime ||\r\n              formFields[\"emp_no\"] !== targetStaff\r\n            ) {\r\n              formFields[\"appointmentDate\"] = e.itemData.endDate;\r\n              formFields[\"start_time\"] = startTime;\r\n              formFields[\"end_time\"] = endTime;\r\n              formFields[\"emp_no\"] = targetStaff;\r\n              formFields[\"item_text\"] = e.itemData.item_name;\r\n              formFields[\"recur_days\"] = null;\r\n              formFields[\"recur_qty\"] = null;\r\n\r\n              if (data.is_dragappt) {\r\n                isDragConfirmation = true;\r\n                await this.setState({ formFields, isDragConfirmation });\r\n              } else {\r\n                isDragConfirmation = false;\r\n                await this.setState({ formFields, isDragConfirmation });\r\n                this.handleDragandDropLogin();\r\n              }\r\n            }\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleTreatmentHistory = () => {\r\n    let { customerId } = this.state;\r\n    if (customerId > 0) {\r\n      this.setState(prevState => ({\r\n        isTreatmentHistoryModal: !prevState.isTreatmentHistoryModal,\r\n        customerNumber: this.state.customerId,\r\n      }));\r\n    } else {\r\n      Toast({ type: \"error\", message: \"Please select customer\" });\r\n    }\r\n  };\r\n  handleUpcomingAppointment = () => {\r\n    let { customerId } = this.state;\r\n    if (customerId > 0) {\r\n      this.setState(prevState => ({\r\n        isUpcomingAppointmentModal: !prevState.isUpcomingAppointmentModal,\r\n        customerNumber: this.state.customerId,\r\n      }));\r\n    } else {\r\n      Toast({ type: \"error\", message: \"Please select customer\" });\r\n    }\r\n  };\r\n  handleSearchCustomer = async event => {\r\n    //    event.persist();\r\n    let { custName, visible } = this.state;\r\n    custName = event.target.value;\r\n    visible = true;\r\n    await this.setState({ custName, visible });\r\n    console.log(this.state.custName);\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        let { customerList } = this.state;\r\n        let { basicApptDetail } = this.props;\r\n        this.search(basicApptDetail);\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  search = basicApptDetail => {\r\n    let { custName } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `custappt/?Outlet=${\r\n          basicApptDetail.branchId ? basicApptDetail.branchId : \"\"\r\n        }&search=${custName}`\r\n      )\r\n      .then(key => {\r\n        // this.props.getCommonApi(`custappt/?search=${custName}`).then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          this.setState({ customerOption: data });\r\n        }\r\n      });\r\n  };\r\n  handleClick = key => {\r\n    if (!this.state.visible) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    if (this.state.visible) {\r\n      let { basicApptDetail } = this.props;\r\n      this.search(basicApptDetail);\r\n    }\r\n    this.setState(prevState => ({\r\n      visible: !prevState.visible,\r\n    }));\r\n  };\r\n  handleSettingClick = key => {\r\n    this.setState(prevState => ({\r\n      isSettingsClick: !prevState.isSettingsClick,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n  handleSelectCustomer = async data => {\r\n    console.log(data, \"selectCustomer\");\r\n    await this.setState({\r\n      customerId: data.id,\r\n      custName: data.cust_name,\r\n      custPhone: data.cust_phone1,\r\n    });\r\n    this.handleClick();\r\n  };\r\n  handleGroupbyChange = async ({ target: { value, name } }) => {\r\n    if (value == \"\") {\r\n      value = \"staff\";\r\n    }\r\n    if (value !== this.state.groupBy) {\r\n      this.setState({\r\n        groupBy: value,\r\n      });\r\n      this.props.groupByAppointment(value);\r\n    }\r\n  };\r\n  handleFullScreenClose = () => {\r\n    history.push(\"/admin/newappointment\");\r\n    this.setState({ SchedulerHeight: \"65%\" });\r\n  };\r\n  handleFullScreenOpen = () => {\r\n    history.push(\"/admin/newappointmentfullscreen\");\r\n    this.setState({ SchedulerHeight: \"100%\" });\r\n  };\r\n\r\n  handleInputChange = async event => {\r\n    await this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  toggle = key => {\r\n    this.setState(prevState => ({\r\n      [key]: !prevState[key],\r\n    }));\r\n  };\r\n\r\n  handleDragandDropLogin = () => {\r\n    let { formFields, dragusername, dragpassword } = this.state;\r\n    let payload = {\r\n      appt_date: dateFormat(new Date(formFields.appointmentDate), \"yyyy-mm-dd\"),\r\n      Room_Codeid: formFields.Room_Codeid,\r\n      appt_status: formFields.bookingStatus,\r\n      sec_status: formFields.sec_status,\r\n      edit_remark: \"\",\r\n      start_time: formFields.start_time,\r\n      end_time: formFields.end_time,\r\n      item_id: formFields.Item_Codeid,\r\n      add_duration: formFields.add_duration,\r\n      emp_id: formFields.emp_no,\r\n      requesttherapist: formFields.requesttherapist,\r\n      item_text: formFields.item_text,\r\n      recur_qty: null,\r\n      recur_days: null,\r\n      username: dragusername,\r\n      password: dragpassword,\r\n    };\r\n\r\n    this.props\r\n      .commonPatchApi(`appointmentresources/${formFields.appt_id}/`, payload)\r\n      .then(async res => {\r\n        await this.setState({\r\n          isDragConfirmation: false,\r\n        });\r\n        await this.props.getAppointmentWithStaff();\r\n      });\r\n  };\r\n\r\n  handleSMSReply = async () => {\r\n    await this.setState(prevState => ({\r\n      isSMSReply: !prevState.isSMSReply,\r\n    }));\r\n  };\r\n\r\n  onAppointmentUpdated = async e => {\r\n    let selecteddata = e;\r\n    if (selecteddata.newData) {\r\n      if (\r\n        String(selecteddata.newData.status).toUpperCase() === \"BLOCK\"\r\n      ) {\r\n        e.cancel = true;\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Not allowed\",\r\n        });\r\n        await this.props.getAppointmentWithStaff();\r\n        return false;\r\n      } else if (selecteddata.newData.link_flag) {\r\n        e.cancel = true;\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Not allowed\",\r\n        });\r\n        await this.props.getAppointmentWithStaff();\r\n        return false;\r\n      } else {\r\n        console.log(selecteddata, \"onResizeEnd\");\r\n        this.onResizeEnd(selecteddata);\r\n      }\r\n    }\r\n  };\r\n\r\n  onResizeEnd = async e => {\r\n    await sleep(500);\r\n    if (e.newData.appt_id) {\r\n      let { formFields, isDragConfirmation } = this.state;\r\n      let startTime = this.getHoursFromDate(e.newData.startDate);\r\n      let endTime = this.getHoursFromDate(e.newData.endDate);\r\n      let targetStaff = e.newData.id;\r\n      this.props\r\n        .getCommonApi(`appointmentresources/${e.newData.appt_id}/`)\r\n        .then(async key => {\r\n          let { status, data } = key;\r\n          debugger;\r\n          console.log(key, \"resize data response\");\r\n          let appt_Date = data.appt_date;\r\n          let date = appt_Date.split(\"/\");\r\n          let finaldate = date[2] + \"-\" + date[1] + \"-\" + date[0];\r\n          if (status === 200) {\r\n            formFields[\"appt_id\"] = e.newData.appt_id;\r\n            formFields[\"custName\"] = data.cust_name;\r\n            formFields[\"appointmentDate\"] = finaldate;\r\n            formFields[\"bookingStatus\"] = data.booking_status;\r\n            formFields[\"new_remark\"] = data.ori_remark;\r\n            formFields[\"customerName\"] = data.cust_id;\r\n            formFields[\"Source_Codeid\"] = data.source_id;\r\n            formFields[\"Room_Codeid\"] = data.room_id;\r\n            formFields[\"sec_status\"] = data.secondary_status;\r\n            formFields[\"Appt_typeid\"] = data.channel_id;\r\n\r\n            formFields[\"start_time\"] = data ? data.start_time : \"\";\r\n            formFields[\"end_time\"] = data ? data.end_time : \"\";\r\n            formFields[\"Item_Codeid\"] = data.Item_Codeid;\r\n            formFields[\"Item_CodeName\"] = data.item_name;\r\n            formFields[\"emp_no\"] = data.targetStaff;\r\n            formFields[\"add_duration\"] = null;\r\n            formFields[\"edit_remark\"] = \"\";\r\n            formFields[\"requesttherapist\"] = data.requesttherapist;\r\n            formFields[\"recur_days\"] = data.recur_days;\r\n            formFields[\"recur_qty\"] = data.recur_qty;\r\n            formFields[\"item_text\"] = data.item_name;\r\n\r\n            if (\r\n              formFields[\"start_time\"] !== startTime ||\r\n              formFields[\"end_time\"] !== endTime ||\r\n              formFields[\"emp_no\"] !== targetStaff\r\n            ) {\r\n              formFields[\"appointmentDate\"] = e.newData.endDate;\r\n              formFields[\"start_time\"] = startTime;\r\n              formFields[\"add_duration\"] = null;\r\n              formFields[\"end_time\"] = endTime;\r\n              formFields[\"emp_no\"] = targetStaff;\r\n              formFields[\"item_text\"] = e.newData.item_name;\r\n              formFields[\"recur_days\"] = null;\r\n              formFields[\"recur_qty\"] = null;\r\n\r\n              if (data.is_dragappt) {\r\n                isDragConfirmation = true;\r\n                await this.setState({ formFields, isDragConfirmation });\r\n              } else {\r\n                isDragConfirmation = false;\r\n                await this.setState({ formFields, isDragConfirmation });\r\n                this.handleDragandDropLogin();\r\n              }\r\n            }\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      isOpenModal,\r\n      isOpenBlockModal,\r\n      appointmentId,\r\n      SchedulerHeight,\r\n      isOpenPrintModal,\r\n      groupBy,\r\n      isTreatmentHistoryModal,\r\n      isUpcomingAppointmentModal,\r\n      customerNumber,\r\n      visible,\r\n      customerOption,\r\n      selectedDate,\r\n      isSettingsClick,\r\n      dayName,\r\n      passwordVisible,\r\n      dragusername,\r\n      dragpassword,\r\n      isDragConfirmation,\r\n      isSMSReply,\r\n    } = this.state;\r\n    let { filterDate, tokenDetail, t } = this.props;\r\n\r\n    let AppointmentcellContent = model => {\r\n      const { appointmentData } = model.data;\r\n      let fromTime = getTime(appointmentData.startDate);\r\n      let toTime = getTime(appointmentData.endDate);\r\n      let borderStyle = \"1px solid\" + appointmentData.border_color;\r\n      return (\r\n        <div\r\n          className={`display-box${this.props.staffList.length} p-0`}\r\n          style={{\r\n            background: appointmentData.color,\r\n            border: borderStyle,\r\n          }}\r\n        >\r\n          {appointmentData.status && appointmentData.status === \"Block\" ? (\r\n            <div className=\"d-flex\">\r\n              <div className=\"col-12 col-sm-12 col-md-12\">\r\n                <div className=\"app-detail\">\r\n                  <p>{appointmentData.reason}</p>\r\n                  <p className=\"text-uppercase\">\r\n                    {appointmentData.text} ({fromTime}\r\n                    {\" - \"}\r\n                    {toTime})\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"d-flex\">\r\n              <div className=\"col p-0 ml-1\">\r\n                {appointmentData.link_flag ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <span>\r\n                        <span>\r\n                          <svg\r\n                            width=\"15\"\r\n                            height=\"15\"\r\n                            viewBox=\"0 0 15 15\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                          >\r\n                            <circle\r\n                              cx=\"7\"\r\n                              cy=\"8\"\r\n                              r=\"7\"\r\n                              fill=\"rgba(60, 64, 135, 0.31)\"\r\n                              stroke=\"#3C4087\"\r\n                            ></circle>\r\n                            <text x=\"5\" y=\"12\" fill=\"#3C4087\">\r\n                              L\r\n                            </text>\r\n                          </svg>\r\n                        </span>\r\n                      </span>\r\n                      <div className=\"tooltiptext-img text-left\">\r\n                        <p>{`Linked Appointment`}</p>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.inital ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={calander} />\r\n                      <div className=\"tooltiptext-img text-left\">\r\n                        <p>\r\n                          [{fromTime}\r\n                          {\" - \"}\r\n                          {toTime}]\r\n                        </p>\r\n                        <p>{appointmentData.cust_name}</p>\r\n                        <p>{appointmentData.cust_phone}</p>\r\n                        <p>{appointmentData.status}</p>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.sec_status_flag ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={reschedule} width=\"100%\" />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{`Reschedule`}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.outstanding ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={outstanding} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{`Outstanding $${appointmentData.outstanding_amt}`}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.req_therapist ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={req_therapist} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{`Request Therapist`}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.balance ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={treatmentbal} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{`Have balance for Treatment or Product`}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.birthday ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={birthday} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{`Birthday Month`}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.remark ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={new_remark} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{appointmentData.remark_val}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.permanent_remark != \"\" ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={new_remark} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{appointmentData.permanent_remark}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.cust_StoreCard ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={storecard} />\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {appointmentData.walkin ? (\r\n                  <div className=\"pt-1\">\r\n                    <span className=\"tooltip-img\">\r\n                      <img src={walkin} />\r\n                      <span className=\"tooltiptext-img\">\r\n                        <p>{`Walkin`}</p>\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"app-detail col-11 col-sm-11 col-md-11 p-0 ml-2\">\r\n                <p>\r\n                  {fromTime}\r\n                  {\" - \"}\r\n                  {toTime}\r\n                </p>\r\n                <p>{appointmentData.cust_name}</p>\r\n                <p>{appointmentData.cust_refer}</p>\r\n                <p>\r\n                  {appointmentData.cust_code}&ensp;\r\n                  {(appointmentData.gender &&\r\n                    appointmentData.gender.toUpperCase().trim() == \"M\") ||\r\n                  appointmentData.gender.toUpperCase().trim() == \"MALE\"\r\n                    ? \"M / \"\r\n                    : \" \"}\r\n                  {appointmentData.age ? appointmentData.age : 0}\r\n                </p>\r\n                {/*<p>\r\n                  {appointmentData.cust_phone}&nbsp;\r\n                  {appointmentData.cust_phone1 ? \"/\" : \"\"}\r\n                  &nbsp;{appointmentData.cust_phone1}\r\n                </p>*/}\r\n                <p>{appointmentData.appt_remark}</p>\r\n                <p>{appointmentData.permanent_remark}</p>\r\n                <p>{appointmentData.remark_val}</p>\r\n                <p>{appointmentData.sec_status}</p>\r\n                <p>{appointmentData.room}</p>\r\n              </div>\r\n\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    };\r\n    return (\r\n      // <div style={{ width: \"100%\", height: \"100%\" }}>\r\n      <React.Fragment>\r\n        {isOpenModal ? (\r\n          <StaffSorting\r\n            isOpenModal={isOpenModal}\r\n            handleDialog={this.handleDialog}\r\n            handleChange={this.handleChange}\r\n            filterDate={filterDate}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {isOpenBlockModal ? (\r\n          <BlockPopup\r\n            isOpenBlockModal={isOpenBlockModal}\r\n            handleBlockDialog={this.handleBlockDialog}\r\n            handleChange={this.handleChange}\r\n            filterDate={filterDate}\r\n            appointmentId={appointmentId}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {isOpenPrintModal ? (\r\n          <PrintModal\r\n            isOpenPrintModal={isOpenPrintModal}\r\n            handlePrintDialog={this.handlePrintDialog}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className=\"d-flex flex-wrap justify-content-center m-1 p-1\">\r\n          {this.props.meta ? (\r\n            <div className={`col-md-1 col-12 align-items-center`}>\r\n              {this.props.meta.pagination &&\r\n              this.props.meta.pagination.total_pages > 1 ? (\r\n                <div className=\"d-flex\">\r\n                  <div className=\"row\">\r\n                    {this.props.meta.pagination.total_pages <\r\n                      this.props.meta.pagination.current_page ||\r\n                    this.props.meta.pagination.current_page > 1 ||\r\n                    this.props.meta.pagination.total_pages ==\r\n                      this.props.meta.pagination.current_page ? (\r\n                      <button\r\n                        className=\"cursor-pointer dx-button-content disabled mr-3\"\r\n                        onClick={this.handleBack}\r\n                      >\r\n                        <svg\r\n                          width=\"9\"\r\n                          height=\"15\"\r\n                          viewBox=\"0 0 6 10\"\r\n                          fill=\"none\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                          <path\r\n                            d=\"M5 0.5L1 5L5 9.5\"\r\n                            stroke=\"#888888\"\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    {/* <span className=\"dx-button-staff-content\"> Staff </span> */}\r\n                    {this.props.meta.pagination.total_pages >\r\n                      this.props.meta.pagination.current_page &&\r\n                    this.props.meta.pagination.total_pages !==\r\n                      this.props.meta.pagination.current_page &&\r\n                    this.props.meta.pagination.current_page > 0 ? (\r\n                      <button\r\n                        className=\"cursor-pointer dx-button-content\"\r\n                        onClick={this.handleNext}\r\n                      >\r\n                        <svg\r\n                          width=\"9\"\r\n                          height=\"15\"\r\n                          viewBox=\"0 0 6 10\"\r\n                          fill=\"none\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                          <path\r\n                            d=\"M0.5 9.5L4.5 5L0.5 0.5\"\r\n                            stroke=\"#888888\"\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                  <div className={`ml-1 pt-0 ${isMobile ? \"col-3\" : \"d-none\"}`}>\r\n                    <img\r\n                      style={{ width: 30 }}\r\n                      onClick={\r\n                        window.location.pathname ==\r\n                        \"/admin/newappointmentfullscreen\"\r\n                          ? this.handleFullScreenClose\r\n                          : this.handleFullScreenOpen\r\n                      }\r\n                      className=\"close cursor-pointer tooltip-img ml-1\"\r\n                      src={fullscreenIcon}\r\n                      alt=\"\"\r\n                      data-toggle=\"tooltip\"\r\n                      data-placement=\"bottom\"\r\n                      title={\r\n                        window.location.pathname ==\r\n                        \"/admin/newappointmentfullscreen\"\r\n                          ? \"Exit Fullscreen Mode\"\r\n                          : \"Fullscreen Mode\"\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {!isMobile ? (\r\n            <div className=\"col-md-1 py-2 py-lg-0\">\r\n              <NormalButton\r\n                buttonClass={\"p-0 mr-1\"}\r\n                mainbg={true}\r\n                className=\"fs-15 submit-btn\"\r\n                label={`Today`}\r\n                outline={false}\r\n                onClick={() => {\r\n                  this.handleDateChange(new Date());\r\n                }}\r\n              />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {!isMobile ? (\r\n            <>\r\n              <div className=\"col-md-3 col-12\">\r\n                <div className=\"d-flex flex-nowrap py-2 py-lg-0\">\r\n                  <NormalInput\r\n                    className=\"col-md-5 col-4 mr-1\"\r\n                    placeholder=\"customer..\"\r\n                    value={this.state.custName}\r\n                    name=\"custName\"\r\n                    onChange={this.handleSearchCustomer}\r\n                    onClick={this.handleClick}\r\n                  />\r\n\r\n                  <NormalButton\r\n                    buttonClass={\"mr-1 col-4\"}\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15 m-0 p-0\"\r\n                    label=\"Upcoming\"\r\n                    onClick={this.handleUpcomingAppointment}\r\n                  />\r\n                  <NormalButton\r\n                    buttonClass={\"mr-1 col-4\"}\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15\"\r\n                    label=\"History\"\r\n                    onClick={this.handleTreatmentHistory}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2 col-sm-2 col-12 w-100 py-2 py-lg-0\">\r\n                <NormalInput\r\n                  name=\"selecteddate\"\r\n                  value={\r\n                    dayName[this.state.day] +\r\n                    \" \" +\r\n                    moment(selectedDate).format(\"DD/MM/YYYY\")\r\n                  }\r\n                  disabled={true}\r\n                />\r\n              </div>\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {isMobile ? (\r\n            <div className=\"col-md-2 col-sm-2 col-12 w-100 py-2 py-lg-0\">\r\n              <NormalInput\r\n                name=\"selecteddate\"\r\n                value={\r\n                  dayName[this.state.day] +\r\n                  \" \" +\r\n                  moment(selectedDate).format(\"DD/MM/YYYY\")\r\n                }\r\n                disabled={true}\r\n              />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {!isMobile ? (\r\n            <div className=\"col-md-5 col-12 py-2 py-lg-0\">\r\n              <div className=\"d-flex py-2 py-lg-0\">\r\n                <NormalButton\r\n                  buttonClass={\"p-0 mr-1\"}\r\n                  mainbg={true}\r\n                  className=\"confirm mr-1\"\r\n                  label={t(\"Snap\")}\r\n                  outline={false}\r\n                  onClick={this.Snap}\r\n                />\r\n                <NormalButton\r\n                  buttonClass={\"p-0 mr-1\"}\r\n                  mainbg={true}\r\n                  className=\" confirm mr-1\"\r\n                  label={`Print`}\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    this.setState({ isOpenPrintModal: true });\r\n                  }}\r\n                />\r\n                <NormalButton\r\n                  buttonClass={\"p-0 mr-1\"}\r\n                  mainbg={true}\r\n                  className=\"confirm mr-1\"\r\n                  label={`Sort`}\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    this.setState({ isOpenModal: true });\r\n                  }}\r\n                />\r\n                <NormalButton\r\n                  buttonClass={\"p-0 mr-1\"}\r\n                  mainbg={true}\r\n                  className=\"fs-15 confirm\"\r\n                  label={`Block`}\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    this.setState({ isOpenBlockModal: true });\r\n                  }}\r\n                />\r\n                <div className=\"col-md-4 col-12 py-2 py-lg-0\">\r\n                  <InputSearch\r\n                    placeholder=\"Search here..\"\r\n                    value={this.state.searchtext}\r\n                    onChange={this.handleSearch}\r\n                    name=\"searchtext\"\r\n                  />\r\n                </div>\r\n                {String(tokenDetail.role_code).toUpperCase() === \"1\" ? (\r\n                  <img\r\n                    onClick={this.handleSettingClick}\r\n                    className=\"close cursor-pointer\"\r\n                    src={setting}\r\n                    alt=\"\"\r\n                    width=\"30\"\r\n                    height=\"30\"\r\n                  />\r\n                ) : null}\r\n\r\n                {this.props.settingData.smsreply ? (\r\n                  <div className=\"ml-1 p-1\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"30\"\r\n                      height=\"30\"\r\n                      fill=\"grey\"\r\n                      class=\"bi bi-chat-square-dots-fill\"\r\n                      viewBox=\"0 0 16 16\"\r\n                      onClick={this.handleSMSReply}\r\n                    >\r\n                      <path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.5a1 1 0 0 0-.8.4l-1.9 2.533a1 1 0 0 1-1.6 0L5.3 12.4a1 1 0 0 0-.8-.4H2a2 2 0 0 1-2-2V2zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\" />\r\n                    </svg>\r\n                  </div>\r\n                ) : null}\r\n                <div className=\"ml-1 pt-1\">\r\n                  <img\r\n                    style={{ width: 25 }}\r\n                    onClick={\r\n                      window.location.pathname ==\r\n                      \"/admin/newappointmentfullscreen\"\r\n                        ? this.handleFullScreenClose\r\n                        : this.handleFullScreenOpen\r\n                    }\r\n                    className=\"close cursor-pointer tooltip-img ml-1\"\r\n                    src={fullscreenIcon}\r\n                    alt=\"\"\r\n                    data-toggle=\"tooltip\"\r\n                    data-placement=\"bottom\"\r\n                    title={\r\n                      window.location.pathname ==\r\n                      \"/admin/newappointmentfullscreen\"\r\n                        ? \"Exit Fullscreen Mode\"\r\n                        : \"Fullscreen Mode\"\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          <NormalModal\r\n            className={\"transaction-done-modal top-up-modal\"}\r\n            style={{ minWidth: \"55%\" }}\r\n            modal={isSettingsClick}\r\n            handleModal={this.handleSettingDialog}\r\n          >\r\n            <img\r\n              onClick={this.handleSettingDialog}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <AppointmentSettings\r\n              handleModal={this.handleSettingDialog}\r\n              handleSettingChange={this.props.handleAppointmentSetting}\r\n            />\r\n          </NormalModal>\r\n        </div>\r\n        {isTreatmentHistoryModal ? (\r\n          <TreatmentHistory\r\n            isTreatmentHistoryModal={isTreatmentHistoryModal}\r\n            handleTreatmentHistory={this.handleTreatmentHistory}\r\n            customerNumber={this.state.customerNumber}\r\n            custName={this.state.custName}\r\n            custPhone={this.state.custPhone}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {isUpcomingAppointmentModal ? (\r\n          <UpcomingAppointment\r\n            isUpcomingAppointmentModal={isUpcomingAppointmentModal}\r\n            handleUpcomingAppointment={this.handleUpcomingAppointment}\r\n            customerNumber={this.state.customerNumber}\r\n            custName={this.state.custName}\r\n            custPhone={this.state.custPhone}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {visible ? (\r\n          <div className=\"AppointmentnewStaffList\">\r\n            <div className=\"customerSearch-block\">\r\n              <div className=\"d-flex mt-4 table table-header w-100 m-0 top-1\">\r\n                <div className=\"col-2\">{t(\"Name\")}</div>\r\n                <div className=\"col-2\">{t(\"Phone\")}</div>\r\n                <div className=\"col-2\">{t(\"Customer Code\")}</div>\r\n                <div className=\"col-2\">{t(\"Reference\")}</div>\r\n                <div className=\"col-3\">{t(\"Email\")}</div>\r\n                <div className=\"col-1\">{t(\"NRIC\")}</div>\r\n              </div>\r\n              <div className=\"response-table w-100\">\r\n                {customerOption.length > 0 ? (\r\n                  customerOption.map((item, index) => {\r\n                    return (\r\n                      <div\r\n                        className=\"row m-0 table-body w-100 border\"\r\n                        onClick={() => this.handleSelectCustomer(item)}\r\n                        key={index}\r\n                      >\r\n                        <div className=\"col-2\">{item.cust_name}</div>\r\n                        <div className=\"col-2\">{item.cust_phone1}</div>\r\n                        <div className=\"col-2\">{item.cust_code}</div>\r\n                        <div className=\"col-2\">{item.cust_refer}</div>\r\n                        <div className=\"col-3\">{item.cust_email}</div>\r\n                        <div className=\"col-1\">{item.cust_nric}</div>\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div className=\"text-center w-100\">\r\n                    {t(\"No Data are available\")}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <NormalModal\r\n          className={\"d-flex justify-content-center\"}\r\n          style={{ minWidth: \"20%\" }}\r\n          modal={isDragConfirmation}\r\n          handleModal={this.handleDragConfirmationDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDragConfirmationDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <div className=\"row\">\r\n            <div className=\"d-flex flex-wrap\">\r\n              <div className=\"col-12 mb-4\">\r\n                <p>{t(\"Please enter your login credential\")} </p>\r\n              </div>\r\n              <div className=\"col-12 form-group mb-3 pb-2\">\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Username\"\r\n                    value={dragusername}\r\n                    name=\"dragusername\"\r\n                    autocomplete=\"off\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12 form-group mb-3 pb-2\">\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    type={passwordVisible ? \"text\" : \"password\"}\r\n                    placeholder=\"Password\"\r\n                    value={dragpassword}\r\n                    name=\"dragpassword\"\r\n                    autocomplete=\"off\"\r\n                    onChange={e => this.handleInputChange(e)}\r\n                  />\r\n                  <div className=\"input-group-addon right fs-14\">\r\n                    <span\r\n                      onClick={() => this.toggle(\"passwordVisible\")}\r\n                      className={`icon-${\r\n                        passwordVisible ? \"eye\" : \"eye-blocked\"\r\n                      } cursor-pointer fs-24`}\r\n                    ></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group mb-0 p-0 d-flex justify-content-center col-12\">\r\n                <NormalButton\r\n                  onClick={this.handleDragandDropLogin}\r\n                  label=\"PROCEED\"\r\n                  className=\"col-12 submit-btn\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n\r\n        <div className={`col-md-12 mb-5 ${isSMSReply ? \"\" : \"d-none\"}`}>\r\n          {/*<SMSReply />*/}\r\n        </div>\r\n        <div class=\"dx-viewport demo-container\">\r\n          <Scheduler\r\n            id=\"Scheduler\"\r\n            className=\"col-12 m-0 p-0 Scheduler\"\r\n            height={SchedulerHeight}\r\n            dataSource={this.props.staffList.length > 0 ? this.props.event : []}\r\n            // views={this.props.staffList.length > 0 ? views : Dayview}\r\n            views={isMobile ? mobileviews : views}\r\n            onContentReady={\r\n              this.props.settingData.confirmbook\r\n                ? this.onContentReadyconfirmbook\r\n                : this.onContentReady\r\n            }\r\n            // onContentReady={\r\n            //   this.props.settingData.smsreply &&\r\n            //   !this.props.settingData.confirmbook\r\n            //     ? this.onContentReadysms\r\n            //     : this.props.settingData.confirmbook &&\r\n            //       !this.props.settingData.smsreply\r\n            //     ? this.onContentReadyconfirmbook\r\n            //     : this.props.settingData.confirmbook &&\r\n            //       this.props.settingData.smsreply\r\n            //     ? this.onContentReadyDouble\r\n            //     : this.onContentReady\r\n            // }\r\n            defaultCurrentView=\"day\"\r\n            currentDate={selectedDate}\r\n            defaultCurrentDate={new Date()}\r\n            groups={this.props.staffList.length > 0 ? groups : []}\r\n            // startDayHour={8}\r\n            // endDayHour={21}\r\n            // cellDuration={15}\r\n            startDayHour={\r\n              this.props.SchedulerSetting.startday_hour\r\n                ? this.props.SchedulerSetting.startday_hour\r\n                : 8\r\n            }\r\n            endDayHour={\r\n              this.props.SchedulerSetting.endday_hour\r\n                ? this.props.SchedulerSetting.endday_hour\r\n                : 21\r\n            }\r\n            cellDuration={\r\n              this.props.SchedulerSetting.cell_duration\r\n                ? this.props.SchedulerSetting.cell_duration\r\n                : 15\r\n            }\r\n            firstDayOfWeek={0}\r\n            showAllDayPanel={false}\r\n            crossScrollingEnabled={false}\r\n            resourceCellComponent={ResourceCell}\r\n            editing={{\r\n              allowDeleting: false,\r\n              allowResizing: true,\r\n              allowUpdating: true,\r\n              allowDragging: true,\r\n              allowTaint: true,\r\n            }}\r\n            onAppointmentClick={e => {\r\n              e.cancel = true;\r\n            }}\r\n            onAppointmentDblClick={e => this.onAppointmentDblClick(e)}\r\n            onCellClick={e => this.onEmptyClick(e)}\r\n            //dateSerializationFormat=\"yyyy-MM-ddTHH:mm:ssZ\"\r\n            appointmentComponent={AppointmentcellContent}\r\n            onCurrentViewChange={this.handleViewChange}\r\n            onCurrentDateChange={this.handleDateChange}\r\n            appointmentDragging={{\r\n              autoScroll: true,\r\n              scrollSpeed: 25,\r\n              group: { draggingGroupName },\r\n              //onDragStart: e => this.onDragStart(e),\r\n              //onDragEnd: e => this.onDragEnd(e),\r\n            }}\r\n            onAppointmentUpdating={e => this.onAppointmentUpdated(e)}\r\n            scrolling={scrolling}\r\n            >\r\n            <View type=\"day\" label={t(\"day\")} />\r\n            <View type=\"week\" label=\"week\" />\r\n            <View type=\"month\" label=\"month\" />\r\n            <Resource\r\n              dataSource={this.props.staffList}\r\n              fieldExpr=\"id\"\r\n              useColorAsDefault={true}\r\n              allowMultiple={false}\r\n            />\r\n          </Scheduler>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n  SchedulerSetting: state.appointment.SchedulerSetting,\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const NewSchedulerModal = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(NewSchedulerModalClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}