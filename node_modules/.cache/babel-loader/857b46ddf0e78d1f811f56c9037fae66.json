{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{NavLink}from'react-router-dom';import{NormalButton,NormalSelect}from'component/common';import{InputSearch,TableWrapper}from'component/common';import{Cart}from'../Cart';import'./style.scss';import{SalonProduct}from'./salonProduct';import{Favorite}from'./favorite';import{Services}from'./services';import{Retail}from'./retail';import{Package}from'./package';import{Voucher}from'./voucher';import{Prepaid}from'./prepaid';import{All}from'./all';import{Courses}from'./courses';import{CatalogCart}from'./catalogCart';import{RetailProduct}from'./retailProduct';import _ from'lodash';import{getCommonApi,commonCreateApi}from\"redux/actions/common\";// import { history } from 'helpers';\nimport{connect}from'react-redux';import{bindActionCreators}from\"redux\";export var CatalogClass=/*#__PURE__*/function(_Component){_inherits(CatalogClass,_Component);var _super=_createSuper(CatalogClass);function CatalogClass(){var _this;_classCallCheck(this,CatalogClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={active:false,currentValue:0,navLinks:[{to:'/admin/catalog',label:\"Favorites\",id:\"Favorites\"},{to:'/admin/catalog',label:\"SERVICE\",id:\"SERVICE\"},{to:'/admin/catalog',label:\"PACKAGE\",id:\"PACKAGE\"},{to:'/admin/catalog',label:\"PREPAID\",id:\"PREPAID\"},{to:'/admin/catalog',label:\"VOUCHER\",id:\"VOUCHER\"},{to:'/admin/catalog',label:\"RETAIL\",id:\"RETAIL\"}],selectedMenu:\"Favorites\",rangeId:\"\",rangeName:\"\",rangeOption:[],formFields:{search:\"\"}};_this.handleRangeChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$target,value,name,rangeId,rangeName,rangeOption,_iterator,_step,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;rangeId=Object.assign({},_this.state.rangeId);rangeName=Object.assign({},_this.state.rangeName);rangeOption=_this.state.rangeOption;rangeId=value;// rangeName = name;\n_iterator=_createForOfIteratorHelper(rangeOption);try{for(_iterator.s();!(_step=_iterator.n()).done;){key=_step.value;if(key.value==value){rangeName=key.label;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}_context.next=9;return _this.setState({rangeId:rangeId,rangeName:rangeName});case 9:_this.getItemList({});case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key){var _this$state,active,currentValue;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,active=_this$state.active,currentValue=_this$state.currentValue;_context2.next=3;return _this.setState({selectedMenu:key.id});case 3:_this.setState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.handleSearch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var formFields;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:event.persist();formFields=_this.state.formFields;formFields['search']=event.target.value;_this.setState({formFields:formFields});if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var searchString,data,_this$state2,selectedMenu,rangeId,rangeName,active,currentValue;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:searchString=event.target.value;data={search:searchString};_this$state2=_this.state,selectedMenu=_this$state2.selectedMenu,rangeId=_this$state2.rangeId,rangeName=_this$state2.rangeName,active=_this$state2.active,currentValue=_this$state2.currentValue;rangeId=\"\";rangeName=\"\";selectedMenu=8;active=true;currentValue=6;// this.getServices(data)\n_context3.next=10;return _this.setState({selectedMenu:selectedMenu,rangeId:rangeId,rangeName:rangeName,currentValue:currentValue,active:active});case 10:_this.handleFilter();case 11:case\"end\":return _context3.stop();}}},_callee3);})),500);}_this.debouncedFn();case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.handleFilter=function(){_this.child.handleFilterSearch({});};return _this;}_createClass(CatalogClass,[{key:\"componentDidMount\",value:function componentDidMount(){var navLinks=this.state.navLinks;// this.props.getCommonApi('catalogitemdept/').then(async (res) => {\n//     // navLinks = res.data;\n//     for (let key of res.data) {\n//         navLinks.push(\n//             {\n//                 to: '/admin/catalog',\n//                 label: key.itm_desc,\n//                 id: key.id\n//             }\n//         )\n//     }\n//     await this.setState({ navLinks })\n// })\n//    this.getRange(); \n}// getRange = () => {\n//     let { rangeOption, selectedMenu } = this.state;\n//     rangeOption = []\n//     this.props.getCommonApi(`catalogitemrange?Item_Deptid=${selectedMenu}`).then((res) => {\n//         // activeMenu = []\n//         for (let key of res.data) {\n//             rangeOption.push({ value: key.id, label: key.itm_desc })\n//         }\n//         this.setState({ rangeOption })\n//     })\n// }\n},{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,navLinks=_this$state3.navLinks,active=_this$state3.active,currentValue=_this$state3.currentValue,selectedMenu=_this$state3.selectedMenu,rangeId=_this$state3.rangeId,rangeOption=_this$state3.rangeOption,formFields=_this$state3.formFields;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"catalog-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 catalog-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",value:formFields.search,placeholder:\"Search here..\",onChange:this.handleSearch}))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-menus\"},/*#__PURE__*/React.createElement(\"ul\",null,navLinks.map(function(_ref6,index){var to=_ref6.to,label=_ref6.label,id=_ref6.id;return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(NavLink,{to:to,className:\"nav-link\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-menu \".concat(currentValue===index?'active':''),onClick:function onClick(){return _this2.handleClick({key:index,id:id});}},/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar-menu-desc\"},label))));}))),selectedMenu==='Favorites'&&/*#__PURE__*/React.createElement(Favorite,{id:selectedMenu,api:\"catalogfavorites\"}),selectedMenu==='SERVICE'&&/*#__PURE__*/React.createElement(Services,{id:selectedMenu,api:\"servicestock\"}),selectedMenu==='RETAIL'&&/*#__PURE__*/React.createElement(Retail,{id:selectedMenu,api:\"retailstock\"}),selectedMenu==='PACKAGE'&&/*#__PURE__*/React.createElement(Package,{id:selectedMenu,api:\"packagestock\"}),selectedMenu==='VOUCHER'&&/*#__PURE__*/React.createElement(Voucher,{id:selectedMenu,api:\"voucherstock\"}),selectedMenu==='PREPAID'&&/*#__PURE__*/React.createElement(Prepaid,{id:selectedMenu,api:\"prepaidstock\"})))));}}]);return CatalogClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{// selected_cstomer: state.common.selected_cstomer,\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var Catalog=connect(mapStateToProps,mapDispatchToProps)(CatalogClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Catalog/index.js"],"names":["React","Component","NavLink","NormalButton","NormalSelect","InputSearch","TableWrapper","Cart","SalonProduct","Favorite","Services","Retail","Package","Voucher","Prepaid","All","Courses","CatalogCart","RetailProduct","_","getCommonApi","commonCreateApi","connect","bindActionCreators","CatalogClass","state","active","currentValue","navLinks","to","label","id","selectedMenu","rangeId","rangeName","rangeOption","formFields","search","handleRangeChange","target","value","name","Object","assign","key","setState","getItemList","handleClick","selected","handleSearch","event","persist","debouncedFn","debounce","searchString","data","handleFilter","child","handleFilterSearch","map","index","mapStateToProps","mapDispatchToProps","dispatch","Catalog"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport { NormalButton, NormalSelect } from 'component/common';\r\nimport { InputSearch, TableWrapper } from 'component/common';\r\nimport { Cart } from '../Cart'\r\nimport './style.scss'\r\nimport { SalonProduct } from './salonProduct';\r\nimport { Favorite } from './favorite';\r\nimport { Services } from './services';\r\nimport { Retail } from './retail';\r\nimport { Package } from './package';\r\nimport { Voucher } from './voucher';\r\nimport { Prepaid } from './prepaid';\r\nimport { All } from './all';\r\nimport { Courses } from './courses';\r\nimport { CatalogCart } from './catalogCart';\r\nimport { RetailProduct } from './retailProduct';\r\nimport _ from 'lodash';\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\n// import { history } from 'helpers';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nexport class CatalogClass extends Component {\r\n    state = {\r\n        active: false,\r\n        currentValue: 0,\r\n        navLinks: [\r\n            { to: '/admin/catalog', label: \"Favorites\", id: \"Favorites\" },\r\n            { to: '/admin/catalog', label: \"SERVICE\", id: \"SERVICE\" },\r\n            { to: '/admin/catalog', label: \"PACKAGE\", id: \"PACKAGE\" },\r\n            { to: '/admin/catalog', label: \"PREPAID\", id: \"PREPAID\" },\r\n            { to: '/admin/catalog', label: \"VOUCHER\", id: \"VOUCHER\" },\r\n            { to: '/admin/catalog', label: \"RETAIL\", id: \"RETAIL\" }\r\n        ],\r\n        selectedMenu: \"Favorites\",\r\n        rangeId: \"\",\r\n        rangeName: \"\",\r\n        rangeOption: [],\r\n        formFields: {\r\n            search: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { navLinks } = this.state;\r\n        // this.props.getCommonApi('catalogitemdept/').then(async (res) => {\r\n        //     // navLinks = res.data;\r\n        //     for (let key of res.data) {\r\n        //         navLinks.push(\r\n        //             {\r\n        //                 to: '/admin/catalog',\r\n        //                 label: key.itm_desc,\r\n        //                 id: key.id\r\n        //             }\r\n        //         )\r\n        //     }\r\n        //     await this.setState({ navLinks })\r\n        // })\r\n        //    this.getRange(); \r\n\r\n    }\r\n\r\n    // getRange = () => {\r\n    //     let { rangeOption, selectedMenu } = this.state;\r\n    //     rangeOption = []\r\n    //     this.props.getCommonApi(`catalogitemrange?Item_Deptid=${selectedMenu}`).then((res) => {\r\n    //         // activeMenu = []\r\n    //         for (let key of res.data) {\r\n    //             rangeOption.push({ value: key.id, label: key.itm_desc })\r\n    //         }\r\n    //         this.setState({ rangeOption })\r\n    //     })\r\n    // }\r\n\r\n    handleRangeChange = async ({ target: { value, name } }) => {\r\n        let rangeId = Object.assign({}, this.state.rangeId);\r\n        let rangeName = Object.assign({}, this.state.rangeName);\r\n        let { rangeOption } = this.state;\r\n        rangeId = value;\r\n        // rangeName = name;\r\n\r\n        for (let key of rangeOption) {\r\n            if (key.value == value) {\r\n                rangeName = key.label;\r\n            }\r\n        }\r\n\r\n        await this.setState({\r\n            rangeId,\r\n            rangeName\r\n        });\r\n        this.getItemList({});\r\n    };\r\n\r\n    handleClick = async (key) => {\r\n        let { active, currentValue } = this.state\r\n        await this.setState({\r\n            selectedMenu: key.id\r\n        })\r\n        this.setState({\r\n            active: true,\r\n            currentValue: key.key,\r\n            selected: key.id\r\n        })\r\n    }\r\n\r\n    handleSearch = async (event) => {\r\n        event.persist();\r\n        let { formFields } = this.state;\r\n        formFields['search'] = event.target.value;\r\n        this.setState({ formFields })\r\n        if (!this.debouncedFn) {\r\n            this.debouncedFn = _.debounce(async() => {\r\n                let searchString = event.target.value;\r\n                let data = { search: searchString }\r\n                let { selectedMenu, rangeId, rangeName, active, currentValue } = this.state;\r\n\r\n                rangeId = \"\";\r\n                rangeName = \"\";\r\n                selectedMenu = 8;\r\n                active = true;\r\n                currentValue = 6;\r\n                // this.getServices(data)\r\n                \r\n                await this.setState({ selectedMenu, rangeId, rangeName, currentValue, active })\r\n                this.handleFilter();\r\n            }, 500);\r\n            \r\n        }\r\n        this.debouncedFn();\r\n    }\r\n\r\n    handleFilter = () => {\r\n        this.child.handleFilterSearch({});\r\n    }\r\n\r\n    render() {\r\n        let { navLinks, active, currentValue, selectedMenu, rangeId, rangeOption, formFields } = this.state\r\n        return (\r\n            <>\r\n                <div className=\"catalog-section\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12 catalog-content\">\r\n                            <div className=\"input-group\">\r\n                                {/* {\r\n                        selectedMenu ?\r\n                            <div className=\"input-group range-filter\">\r\n                                <NormalSelect\r\n                                    // placeholder=\"Enter here\"\r\n                                    options={rangeOption}\r\n                                    value={rangeId}\r\n                                    name={rangeOption}\r\n                                    onChange={this.handleRangeChange}\r\n                                    className=\"py-0\"\r\n                                />\r\n                            </div> : \"\"\r\n                    } */}\r\n\r\n                                <div className=\"mb-3\">\r\n                                    <InputSearch\r\n                                        className=\"\"\r\n                                        value={formFields.search}\r\n                                        placeholder='Search here..'\r\n                                        onChange={this.handleSearch} />\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"tab-menus\">\r\n                                <ul>\r\n                                    {navLinks.map(({ to, label, id }, index) => (\r\n                                        <li key={index}>\r\n                                            <NavLink to={to} className=\"nav-link\">\r\n                                                <div className={`sidebar-menu ${(currentValue === index) ? 'active' : ''}`} onClick={() => this.handleClick({ key: index, id: id })}>\r\n                                                    <span className=\"sidebar-menu-desc\">{label}</span>\r\n                                                </div>\r\n                                            </NavLink>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                            {selectedMenu === 'Favorites' &&\r\n                                <Favorite id={selectedMenu} api={\"catalogfavorites\"} />\r\n                            }\r\n                            {selectedMenu === 'SERVICE' &&\r\n                                <Services id={selectedMenu} api={\"servicestock\"} />\r\n                            }\r\n                            {selectedMenu === 'RETAIL' &&\r\n                                <Retail id={selectedMenu} api={\"retailstock\"} />\r\n                            }\r\n                            {selectedMenu === 'PACKAGE' &&\r\n                                <Package id={selectedMenu} api={\"packagestock\"} />\r\n                            }\r\n                            {selectedMenu === 'VOUCHER' &&\r\n                                <Voucher id={selectedMenu} api={\"voucherstock\"} />\r\n                            }\r\n                            {selectedMenu === 'PREPAID' &&\r\n                                <Prepaid id={selectedMenu} api={\"prepaidstock\"} />\r\n                            }\r\n                            {/* {selectedMenu == '8' &&\r\n                                <All id={selectedMenu} onRef={ref => (this.child = ref)} search={formFields.search} api={\"catalogsearch\"} />\r\n                            } */}\r\n                        </div>\r\n\r\n                        {/* <div className=\" col-4 \">\r\n                            <div className=\"ml-2 cart-bar\">\r\n                                <CatalogCart id={selectedMenu} ></CatalogCart>\r\n                            </div>\r\n                        </div> */}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // selected_cstomer: state.common.selected_cstomer,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        getCommonApi,\r\n        commonCreateApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const Catalog = connect(mapStateToProps, mapDispatchToProps)(CatalogClass)"]},"metadata":{},"sourceType":"module"}