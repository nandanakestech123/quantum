{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.agenda.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\n\nvar _iterator = require(\"../../../core/utils/iterator\");\n\nvar _array = require(\"../../../core/utils/array\");\n\nvar _uiSchedulerAppointmentsStrategy = _interopRequireDefault(require(\"./ui.scheduler.appointments.strategy.base\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar AgendaRenderingStrategy = function (_BaseAppointmentsStra) {\n  _inherits(AgendaRenderingStrategy, _BaseAppointmentsStra);\n\n  var _super = _createSuper(AgendaRenderingStrategy);\n\n  function AgendaRenderingStrategy() {\n    _classCallCheck(this, AgendaRenderingStrategy);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(AgendaRenderingStrategy, [{\n    key: \"getAppointmentMinSize\",\n    value: function () {}\n  }, {\n    key: \"getDeltaTime\",\n    value: function () {}\n  }, {\n    key: \"keepAppointmentSettings\",\n    value: function () {\n      return true;\n    }\n  }, {\n    key: \"getAppointmentGeometry\",\n    value: function (geometry) {\n      return geometry;\n    }\n  }, {\n    key: \"createTaskPositionMap\",\n    value: function (appointments) {\n      var height;\n      var appointmentsByResources;\n\n      if (appointments.length) {\n        height = this.instance.fire(\"getAgendaVerticalStepHeight\");\n        appointmentsByResources = this.instance.fire(\"groupAppointmentsByResources\", appointments);\n        var groupedAppts = [];\n        (0, _iterator.each)(appointmentsByResources, function (i, appts) {\n          var additionalAppointments = [];\n          var recurrentIndexes = [];\n          (0, _iterator.each)(appts, function (index, appointment) {\n            var recurrenceBatch = this.instance.getAppointmentsInstance()._processRecurrenceAppointment(appointment, index);\n\n            var appointmentBatch = null;\n\n            if (!recurrenceBatch.indexes.length) {\n              appointmentBatch = {\n                parts: []\n              };\n              appointmentBatch = this.instance.getAppointmentsInstance()._processLongAppointment(appointment);\n              additionalAppointments = additionalAppointments.concat(appointmentBatch.parts);\n            }\n\n            additionalAppointments = additionalAppointments.concat(recurrenceBatch.parts);\n            recurrentIndexes = recurrentIndexes.concat(recurrenceBatch.indexes);\n          }.bind(this));\n\n          this.instance.getAppointmentsInstance()._reduceRecurrenceAppointments(recurrentIndexes, appts);\n\n          this.instance.getAppointmentsInstance()._combineAppointments(appts, additionalAppointments);\n\n          groupedAppts = groupedAppts.concat(appts);\n        }.bind(this));\n        Array.prototype.splice.apply(appointments, [0, appointments.length].concat(groupedAppts));\n      }\n\n      var result = [];\n      var sortedIndex = 0;\n      appointments.forEach(function (appt, index) {\n        result.push([{\n          height: height,\n          width: \"100%\",\n          sortedIndex: sortedIndex++,\n          groupIndex: this._calculateGroupIndex(index, appointmentsByResources)\n        }]);\n      }.bind(this));\n      return result;\n    }\n  }, {\n    key: \"_calculateGroupIndex\",\n    value: function (apptIndex, appointmentsByResources) {\n      var resultInd;\n      var counter = 0;\n\n      for (var i in appointmentsByResources) {\n        var countApptInGroup = appointmentsByResources[i].length;\n\n        if (apptIndex >= counter && apptIndex < counter + countApptInGroup) {\n          resultInd = Number(i);\n          break;\n        }\n\n        counter += countApptInGroup;\n      }\n\n      return resultInd;\n    }\n  }, {\n    key: \"_getDeltaWidth\",\n    value: function () {}\n  }, {\n    key: \"_getAppointmentMaxWidth\",\n    value: function () {\n      return this.getDefaultCellWidth();\n    }\n  }, {\n    key: \"_needVerifyItemSize\",\n    value: function () {\n      return false;\n    }\n  }, {\n    key: \"_isRtl\",\n    value: function () {\n      return this.instance.option(\"rtlEnabled\");\n    }\n  }, {\n    key: \"_getAppointmentParts\",\n    value: function () {}\n  }, {\n    key: \"_reduceMultiWeekAppointment\",\n    value: function () {}\n  }, {\n    key: \"calculateAppointmentHeight\",\n    value: function () {\n      return 0;\n    }\n  }, {\n    key: \"calculateAppointmentWidth\",\n    value: function () {\n      return 0;\n    }\n  }, {\n    key: \"isAppointmentGreaterThan\",\n    value: function () {}\n  }, {\n    key: \"isAllDay\",\n    value: function () {\n      return false;\n    }\n  }, {\n    key: \"_sortCondition\",\n    value: function () {}\n  }, {\n    key: \"_rowCondition\",\n    value: function () {}\n  }, {\n    key: \"_columnCondition\",\n    value: function () {}\n  }, {\n    key: \"_findIndexByKey\",\n    value: function () {}\n  }, {\n    key: \"_markAppointmentAsVirtual\",\n    value: function () {}\n  }, {\n    key: \"getDropDownAppointmentWidth\",\n    value: function () {}\n  }, {\n    key: \"getDefaultCellWidth\",\n    value: function () {\n      return this._defaultWidth;\n    }\n  }, {\n    key: \"getCollectorLeftOffset\",\n    value: function () {}\n  }, {\n    key: \"getCollectorTopOffset\",\n    value: function () {}\n  }, {\n    key: \"calculateRows\",\n    value: function (appointments, agendaDuration, currentDate, needClearSettings) {\n      this._rows = [];\n      var groupedAppointments = this.instance.fire(\"groupAppointmentsByResources\", appointments);\n      currentDate = _date.default.trimTime(new Date(currentDate));\n      (0, _iterator.each)(groupedAppointments, function (groupIndex, currentAppointments) {\n        var groupResult = [];\n        var appts = {\n          indexes: [],\n          parts: []\n        };\n\n        if (!currentAppointments.length) {\n          this._rows.push([]);\n\n          return true;\n        }\n\n        (0, _iterator.each)(currentAppointments, function (index, appointment) {\n          var startDate = this.instance.fire(\"getField\", \"startDate\", appointment);\n          var endDate = this.instance.fire(\"getField\", \"endDate\", appointment);\n          this.instance.fire(\"replaceWrongEndDate\", appointment, startDate, endDate);\n          needClearSettings && delete appointment.settings;\n\n          var result = this.instance.getAppointmentsInstance()._processRecurrenceAppointment(appointment, index, false);\n\n          appts.parts = appts.parts.concat(result.parts);\n          appts.indexes = appts.indexes.concat(result.indexes);\n        }.bind(this));\n\n        this.instance.getAppointmentsInstance()._reduceRecurrenceAppointments(appts.indexes, currentAppointments);\n\n        (0, _array.merge)(currentAppointments, appts.parts);\n        var appointmentCount = currentAppointments.length;\n\n        for (var i = 0; i < agendaDuration; i++) {\n          var day = new Date(currentDate);\n          day.setMilliseconds(day.getMilliseconds() + 864e5 * i);\n\n          if (void 0 === groupResult[i]) {\n            groupResult[i] = 0;\n          }\n\n          for (var j = 0; j < appointmentCount; j++) {\n            var appointmentData = currentAppointments[j].settings || currentAppointments[j];\n            var appointmentIsLong = this.instance.fire(\"appointmentTakesSeveralDays\", currentAppointments[j]);\n            var appointmentIsRecurrence = this.instance.fire(\"getField\", \"recurrenceRule\", currentAppointments[j]);\n\n            if (this.instance.fire(\"dayHasAppointment\", day, appointmentData, true) || !appointmentIsRecurrence && appointmentIsLong && this.instance.fire(\"dayHasAppointment\", day, currentAppointments[j], true)) {\n              groupResult[i] += 1;\n            }\n          }\n        }\n\n        this._rows.push(groupResult);\n      }.bind(this));\n      return this._rows;\n    }\n  }, {\n    key: \"_iterateRow\",\n    value: function (row, obj, index) {\n      for (var i = 0; i < row.length; i++) {\n        obj.counter = obj.counter + row[i];\n\n        if (obj.counter >= index) {\n          obj.indexInRow = i;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"getDateByIndex\",\n    value: function (index, rows, startViewDate) {\n      var obj = {\n        counter: 0,\n        indexInRow: 0\n      };\n      index++;\n\n      for (var i = 0; i < rows.length; i++) {\n        this._iterateRow(rows[i], obj, index);\n\n        if (obj.indexInRow) {\n          break;\n        }\n      }\n\n      return new Date(new Date(startViewDate).setDate(startViewDate.getDate() + obj.indexInRow));\n    }\n  }, {\n    key: \"getAppointmentDataCalculator\",\n    value: function () {\n      return function ($appointment, originalStartDate) {\n        var apptIndex = $appointment.index();\n        var startViewDate = this.instance.getStartViewDate();\n        var calculatedStartDate = this.getDateByIndex(apptIndex, this._rows, startViewDate);\n        var wrappedOriginalStartDate = new Date(originalStartDate);\n        return {\n          startDate: new Date(calculatedStartDate.setHours(wrappedOriginalStartDate.getHours(), wrappedOriginalStartDate.getMinutes(), wrappedOriginalStartDate.getSeconds(), wrappedOriginalStartDate.getMilliseconds()))\n        };\n      }.bind(this);\n    }\n  }]);\n\n  return AgendaRenderingStrategy;\n}(_uiSchedulerAppointmentsStrategy.default);\n\nvar _default = AgendaRenderingStrategy;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/node_modules/devextreme/ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.agenda.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_date","_interopRequireDefault","require","_iterator","_array","_uiSchedulerAppointmentsStrategy","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","AgendaRenderingStrategy","_BaseAppointmentsStra","_super","geometry","appointments","height","appointmentsByResources","fire","groupedAppts","each","appts","additionalAppointments","recurrentIndexes","index","appointment","recurrenceBatch","getAppointmentsInstance","_processRecurrenceAppointment","appointmentBatch","indexes","parts","_processLongAppointment","concat","bind","_reduceRecurrenceAppointments","_combineAppointments","Array","splice","sortedIndex","forEach","appt","push","width","groupIndex","_calculateGroupIndex","apptIndex","resultInd","counter","countApptInGroup","Number","getDefaultCellWidth","option","_defaultWidth","agendaDuration","currentDate","needClearSettings","_rows","groupedAppointments","trimTime","currentAppointments","groupResult","startDate","endDate","settings","merge","appointmentCount","day","setMilliseconds","getMilliseconds","j","appointmentData","appointmentIsLong","appointmentIsRecurrence","row","indexInRow","rows","startViewDate","_iterateRow","setDate","getDate","$appointment","originalStartDate","getStartViewDate","calculatedStartDate","getDateByIndex","wrappedOriginalStartDate","setHours","getHours","getMinutes","getSeconds","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.agenda.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\r\nvar _iterator = require(\"../../../core/utils/iterator\");\r\nvar _array = require(\"../../../core/utils/array\");\r\nvar _uiSchedulerAppointmentsStrategy = _interopRequireDefault(require(\"./ui.scheduler.appointments.strategy.base\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar AgendaRenderingStrategy = function(_BaseAppointmentsStra) {\r\n    _inherits(AgendaRenderingStrategy, _BaseAppointmentsStra);\r\n    var _super = _createSuper(AgendaRenderingStrategy);\r\n\r\n    function AgendaRenderingStrategy() {\r\n        _classCallCheck(this, AgendaRenderingStrategy);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(AgendaRenderingStrategy, [{\r\n        key: \"getAppointmentMinSize\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"getDeltaTime\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"keepAppointmentSettings\",\r\n        value: function() {\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"getAppointmentGeometry\",\r\n        value: function(geometry) {\r\n            return geometry\r\n        }\r\n    }, {\r\n        key: \"createTaskPositionMap\",\r\n        value: function(appointments) {\r\n            var height;\r\n            var appointmentsByResources;\r\n            if (appointments.length) {\r\n                height = this.instance.fire(\"getAgendaVerticalStepHeight\");\r\n                appointmentsByResources = this.instance.fire(\"groupAppointmentsByResources\", appointments);\r\n                var groupedAppts = [];\r\n                (0, _iterator.each)(appointmentsByResources, function(i, appts) {\r\n                    var additionalAppointments = [];\r\n                    var recurrentIndexes = [];\r\n                    (0, _iterator.each)(appts, function(index, appointment) {\r\n                        var recurrenceBatch = this.instance.getAppointmentsInstance()._processRecurrenceAppointment(appointment, index);\r\n                        var appointmentBatch = null;\r\n                        if (!recurrenceBatch.indexes.length) {\r\n                            appointmentBatch = {\r\n                                parts: []\r\n                            };\r\n                            appointmentBatch = this.instance.getAppointmentsInstance()._processLongAppointment(appointment);\r\n                            additionalAppointments = additionalAppointments.concat(appointmentBatch.parts)\r\n                        }\r\n                        additionalAppointments = additionalAppointments.concat(recurrenceBatch.parts);\r\n                        recurrentIndexes = recurrentIndexes.concat(recurrenceBatch.indexes)\r\n                    }.bind(this));\r\n                    this.instance.getAppointmentsInstance()._reduceRecurrenceAppointments(recurrentIndexes, appts);\r\n                    this.instance.getAppointmentsInstance()._combineAppointments(appts, additionalAppointments);\r\n                    groupedAppts = groupedAppts.concat(appts)\r\n                }.bind(this));\r\n                Array.prototype.splice.apply(appointments, [0, appointments.length].concat(groupedAppts))\r\n            }\r\n            var result = [];\r\n            var sortedIndex = 0;\r\n            appointments.forEach(function(appt, index) {\r\n                result.push([{\r\n                    height: height,\r\n                    width: \"100%\",\r\n                    sortedIndex: sortedIndex++,\r\n                    groupIndex: this._calculateGroupIndex(index, appointmentsByResources)\r\n                }])\r\n            }.bind(this));\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_calculateGroupIndex\",\r\n        value: function(apptIndex, appointmentsByResources) {\r\n            var resultInd;\r\n            var counter = 0;\r\n            for (var i in appointmentsByResources) {\r\n                var countApptInGroup = appointmentsByResources[i].length;\r\n                if (apptIndex >= counter && apptIndex < counter + countApptInGroup) {\r\n                    resultInd = Number(i);\r\n                    break\r\n                }\r\n                counter += countApptInGroup\r\n            }\r\n            return resultInd\r\n        }\r\n    }, {\r\n        key: \"_getDeltaWidth\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_getAppointmentMaxWidth\",\r\n        value: function() {\r\n            return this.getDefaultCellWidth()\r\n        }\r\n    }, {\r\n        key: \"_needVerifyItemSize\",\r\n        value: function() {\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_isRtl\",\r\n        value: function() {\r\n            return this.instance.option(\"rtlEnabled\")\r\n        }\r\n    }, {\r\n        key: \"_getAppointmentParts\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_reduceMultiWeekAppointment\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"calculateAppointmentHeight\",\r\n        value: function() {\r\n            return 0\r\n        }\r\n    }, {\r\n        key: \"calculateAppointmentWidth\",\r\n        value: function() {\r\n            return 0\r\n        }\r\n    }, {\r\n        key: \"isAppointmentGreaterThan\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"isAllDay\",\r\n        value: function() {\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_sortCondition\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_rowCondition\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_columnCondition\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_findIndexByKey\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_markAppointmentAsVirtual\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"getDropDownAppointmentWidth\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"getDefaultCellWidth\",\r\n        value: function() {\r\n            return this._defaultWidth\r\n        }\r\n    }, {\r\n        key: \"getCollectorLeftOffset\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"getCollectorTopOffset\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"calculateRows\",\r\n        value: function(appointments, agendaDuration, currentDate, needClearSettings) {\r\n            this._rows = [];\r\n            var groupedAppointments = this.instance.fire(\"groupAppointmentsByResources\", appointments);\r\n            currentDate = _date.default.trimTime(new Date(currentDate));\r\n            (0, _iterator.each)(groupedAppointments, function(groupIndex, currentAppointments) {\r\n                var groupResult = [];\r\n                var appts = {\r\n                    indexes: [],\r\n                    parts: []\r\n                };\r\n                if (!currentAppointments.length) {\r\n                    this._rows.push([]);\r\n                    return true\r\n                }(0, _iterator.each)(currentAppointments, function(index, appointment) {\r\n                    var startDate = this.instance.fire(\"getField\", \"startDate\", appointment);\r\n                    var endDate = this.instance.fire(\"getField\", \"endDate\", appointment);\r\n                    this.instance.fire(\"replaceWrongEndDate\", appointment, startDate, endDate);\r\n                    needClearSettings && delete appointment.settings;\r\n                    var result = this.instance.getAppointmentsInstance()._processRecurrenceAppointment(appointment, index, false);\r\n                    appts.parts = appts.parts.concat(result.parts);\r\n                    appts.indexes = appts.indexes.concat(result.indexes)\r\n                }.bind(this));\r\n                this.instance.getAppointmentsInstance()._reduceRecurrenceAppointments(appts.indexes, currentAppointments);\r\n                (0, _array.merge)(currentAppointments, appts.parts);\r\n                var appointmentCount = currentAppointments.length;\r\n                for (var i = 0; i < agendaDuration; i++) {\r\n                    var day = new Date(currentDate);\r\n                    day.setMilliseconds(day.getMilliseconds() + 864e5 * i);\r\n                    if (void 0 === groupResult[i]) {\r\n                        groupResult[i] = 0\r\n                    }\r\n                    for (var j = 0; j < appointmentCount; j++) {\r\n                        var appointmentData = currentAppointments[j].settings || currentAppointments[j];\r\n                        var appointmentIsLong = this.instance.fire(\"appointmentTakesSeveralDays\", currentAppointments[j]);\r\n                        var appointmentIsRecurrence = this.instance.fire(\"getField\", \"recurrenceRule\", currentAppointments[j]);\r\n                        if (this.instance.fire(\"dayHasAppointment\", day, appointmentData, true) || !appointmentIsRecurrence && appointmentIsLong && this.instance.fire(\"dayHasAppointment\", day, currentAppointments[j], true)) {\r\n                            groupResult[i] += 1\r\n                        }\r\n                    }\r\n                }\r\n                this._rows.push(groupResult)\r\n            }.bind(this));\r\n            return this._rows\r\n        }\r\n    }, {\r\n        key: \"_iterateRow\",\r\n        value: function(row, obj, index) {\r\n            for (var i = 0; i < row.length; i++) {\r\n                obj.counter = obj.counter + row[i];\r\n                if (obj.counter >= index) {\r\n                    obj.indexInRow = i;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"getDateByIndex\",\r\n        value: function(index, rows, startViewDate) {\r\n            var obj = {\r\n                counter: 0,\r\n                indexInRow: 0\r\n            };\r\n            index++;\r\n            for (var i = 0; i < rows.length; i++) {\r\n                this._iterateRow(rows[i], obj, index);\r\n                if (obj.indexInRow) {\r\n                    break\r\n                }\r\n            }\r\n            return new Date(new Date(startViewDate).setDate(startViewDate.getDate() + obj.indexInRow))\r\n        }\r\n    }, {\r\n        key: \"getAppointmentDataCalculator\",\r\n        value: function() {\r\n            return function($appointment, originalStartDate) {\r\n                var apptIndex = $appointment.index();\r\n                var startViewDate = this.instance.getStartViewDate();\r\n                var calculatedStartDate = this.getDateByIndex(apptIndex, this._rows, startViewDate);\r\n                var wrappedOriginalStartDate = new Date(originalStartDate);\r\n                return {\r\n                    startDate: new Date(calculatedStartDate.setHours(wrappedOriginalStartDate.getHours(), wrappedOriginalStartDate.getMinutes(), wrappedOriginalStartDate.getSeconds(), wrappedOriginalStartDate.getMilliseconds()))\r\n                }\r\n            }.bind(this)\r\n        }\r\n    }]);\r\n    return AgendaRenderingStrategy\r\n}(_uiSchedulerAppointmentsStrategy.default);\r\nvar _default = AgendaRenderingStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}