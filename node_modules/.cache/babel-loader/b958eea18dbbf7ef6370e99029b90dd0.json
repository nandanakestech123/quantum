{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDateTime,NormalMultiSelect,NormalTextarea,TableWrapper,InputSearch}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{getJobtitle,getCommonApi,commonCreateApi,commonUpdateApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{NavLink}from\"react-router-dom\";import{createPO,updatePO,deletePO}from\"redux/actions/po\";import{getTokenDetails}from\"redux/actions/auth\";import{useLocation}from\"react-router-dom\";import _ from\"lodash\";import updateBtn from\"assets/images/edit1.png\";import saveBtn from\"assets/images/save.png\";import deleteBtn from\"assets/images/delete1.png\";import{history}from\"helpers\";import{Toast}from\"service/toast\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";import PDF from\"../../StocksPDF/UsageMemo\";export var AddStockMemoClass=/*#__PURE__*/function(_Component){_inherits(AddStockMemoClass,_Component);var _super=_createSuper(AddStockMemoClass);function AddStockMemoClass(){var _this;_classCallCheck(this,AddStockMemoClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_defineProperty({formFields:{DOC_NO:\"\",DOC_REF1:\"\",DOC_DATE:new Date(),DOC_REF2:\"\",DOC_STATUS:\"\",STORE_NO:\"\",DOC_REMK1:\"\",CREATE_USER:\"\",DOC_AMT:\"\",DOC_QTY:\"\"},headerDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"Brand\"},{label:\"Range\"},{label:\"UOM\"},{label:\"On Hand Qty\"},{label:\"Adj Qty\"},{label:\"Adj Cost\"},{label:\"\"}],headerSelectedDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"Brand\"},{label:\"Range\"},{label:\"UOM\"},{label:\"Unit Cost\"},{label:\"Qty\"},{label:\"Amount\"},{label:\"Remarks\"},{label:\"\"},{label:\"\"}],UOM:\"\",listDetail:{},isPrintPdfClick:false,siteAddr:[],fkProject:\"\",fkQuotation:\"\",statusOption:[],empOption:[],// supOption:[],\n// stateOption:[],\n// cityOption:[],\ndisableEdit:false,is_loading:true,isMounted:true,detailsList:[],storedItemList:[],itemListBeforeEdit:[],pageMeta:{},search:\"\",active:false,currentIndex:-1,page:1,// limit: 10,\nlimit:4,isOpenvoidCheckout:false,isLoading:true},\"isMounted\",true);_this.componentWillMount=function(){// if (this.props.location.state){\n//   if(this.props.location.state.quoId){\n//     this.state.fkQuotation = this.props.location.state.quoId\n//     this.setState({fkQuotation : this.state.fkQuotation})\n//     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n//     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n//   }\n// }\n// this.getStatus();\n// this.getCountry();\n// this.getState();\n// this.getCity();\n_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){// if (this.props.location.state){\n//   if(this.props.location.state.projectFk){\n//     this.state.fkProject = this.props.location.state.projectFk\n//     this.setState({fkProject : this.state.fkProject})\n//     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n//     console.log(\"this.state.fkProject\",this.state.fkProject)\n//   }\n// this.state.fkQuotation = this.props.location.state.quoId\n// this.setState({fkQuotation : this.state.fkQuotation})\n// console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n// console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n// }\n_this.getStatus();// this.getSup()\n_this.getSiteDetail();console.log(\"this.props\",_this.props);console.log(\"this.state\",_this.state);// console.log(\"useLocation()\",useLocation())\n// if(this.props.match.params.id) {\n//   this.getAutofillItemDetails()\n// }\n_this.handleUpdateTotal();};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var _this$state2,active,currentValue;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state2=_this.state,active=_this$state2.active,currentValue=_this$state2.currentValue;_context.next=3;return _this.setState({selectedMenu:key.id});case 3:_this.setState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}();_this.getStatus=function(){var statusOption=_this.state.statusOption;statusOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"dropdown\").then(function(res){console.log(\"res.data\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;statusOption.push({value:key.id,label:key.AllDropdown_Item,code:key.AllDropdown_Desc,active:key.Active});}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Approved\"){statusOption.splice(i,1);}if(statusOption[i].label==\"Not Approved\"){statusOption.splice(i,1);}}if(!_this.props.match.params.id){for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Posted\"){statusOption.splice(i,1);}}}console.log(\"statusOption\",statusOption);_this.setState({statusOption:statusOption},function(){_this.getEmp();});// if (this.props.match.params.id) {\n//   this.autoFillForm()\n// };\n});};_this.getEmp=function(){var empOption=_this.state.empOption;empOption=[];_this.props.getCommonApi(\"employeelist\").then(function(res){console.log(\"res.data\",res);var _iterator2=_createForOfIteratorHelper(res.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;empOption.push({value:key.Emp_no,label:key.Emp_name,code:key.Emp_code// active: key.itm_isactive,\n});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(\"empOption\",empOption);_this.setState({empOption:empOption},function(){_this.getDetails();if(_this.props.match.params.id){_this.autoFillForm();}else{_this.prefillDefault();}});});};_this.prefillDefault=function(){var _this$state3=_this.state,disableEdit=_this$state3.disableEdit,statusOption=_this$state3.statusOption,empOption=_this$state3.empOption,supOption=_this$state3.supOption;if(empOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"CREATE_USER\"]=empOption.find(function(option){return option.label===_this.props.tokenDetail.username;}).value;}if(statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"DOC_STATUS\"]=statusOption.find(function(option){return option.label===\"Open\";}).value;}_this.state.formFields[\"STORE_NO\"]=1;_this.setState(_this.state.formFields);};_this.getSiteDetail=function(){var siteAddr=_this.state.siteAddr;siteAddr=[];_this.props.getCommonApi(\"sitecode\").then(function(res){console.log(\"res.data\",res);siteAddr=res.data;console.log(\"siteAddr\",siteAddr);_this.setState({siteAddr:siteAddr});});};_this.getAutofillItemDetails=function(DOC_NO){_this.props.getCommonApi(\"stockusageitem/?searchdocno=\".concat(DOC_NO,\"&limit=10000\")).then(function(res){console.log(\"res in getAutofillItemDetails\",res);// this.state.storedItemListStored = res.data.dataList\nif(res.status==200){var _iterator3=_createForOfIteratorHelper(res.data.dataList),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var item=_step3.value;_this.state.storedItemList.push({item_code:item.ITEMCODE,Item_Desc:item.ITEMDESC,brand_itm_desc:item.itmBrandDesc,range_itm_desc:item.itmRangeDesc,UOM_DESC:item.DOC_UOMTYPE,ITEM_UOM:item.DOC_UOM,item_cost:item.DOC_PRICE,item_quantity:item.DOC_QTY,amount:item.DOC_AMT,item_remarks:item.ITEM_REMARK,editing:false});_this.state.itemListBeforeEdit.push({item_id:item.DOC_ID,item_code:item.ITEMCODE,UOM_DESC:item.DOC_UOMTYPE});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.setState(_this.state.storedItemList);_this.setState(_this.state.itemListBeforeEdit);}// this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\n// this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\n// this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\n// this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\n// this.setState(this.state.formFieldsDetailsStored)\n});};_this.autoFillForm=function(){var _this$state4=_this.state,disableEdit=_this$state4.disableEdit,statusOption=_this$state4.statusOption,empOption=_this$state4.empOption;_this.props.getCommonApi(\"stockusagelist/?searchdocid=\".concat(_this.props.match.params.id)).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"adj dataList\",res.data.dataList);_this.state.formFields[\"DOC_NO\"]=res.data.dataList[0].DOC_NO;// this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO\n_this.state.formFields[\"DOC_REF1\"]=res.data.dataList[0].DOC_REF1;_this.state.formFields[\"DOC_DATE\"]=res.data.dataList[0].DOC_DATE;_this.state.formFields[\"DOC_REF2\"]=res.data.dataList[0].DOC_REF2;console.log(\"statusOption in prefill\",_this.state.statusOption);console.log(\"res.data.dataList[0].status\",res.data.dataList[0].DOC_STATUS);// if status empty prevent err\nif(res.data.dataList[0].DOC_STATUS&&statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"DOC_STATUS\"]=statusOption.find(function(option){return option.label===res.data.dataList[0].DOC_STATUS;}).value;console.log(\"res.data.dataList[0].DOC_STATUS\",res.data.dataList[0].DOC_STATUS);if(res.data.dataList[0].DOC_STATUS==\"Posted\"){disableEdit=true;// for (var i = 0; i < statusOption.length; i++){\n//   if(statusOption[i].label == \"Posted\") {\n//     statusOption = statusOption.filter(e => e.label !== 'Open')\n//   }\n// }\n// console.log(\"statusOption when status is posted\",statusOption)\n_this.setState({disableEdit:disableEdit});console.log(\"this.state.disableEdit\",disableEdit);}}_this.state.formFields[\"STORE_NO\"]=1;_this.state.formFields[\"DOC_REMK1\"]=res.data.dataList[0].DOC_REMK1;if(res.data.dataList[0].CREATE_USER&&empOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"CREATE_USER\"]=empOption.find(function(option){return option.label===res.data.dataList[0].CREATE_USER;}).value;}_this.state.formFields[\"DOC_QTY\"]=res.data.dataList[0].DOC_QTY;_this.state.formFields[\"DOC_AMT\"]=res.data.dataList[0].DOC_AMT;_this.updateState(_this.state.formFields);console.log(\"this.state.formFields\",_this.state.formFields);_this.getAutofillItemDetails(res.data.dataList[0].DOC_NO);case 16:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}());};_this.handleItemDetailsSubmit=function(resMEMO){var _this$state5=_this.state,storedItemList=_this$state5.storedItemList,itemListBeforeEdit=_this$state5.itemListBeforeEdit;var _iterator4=_createForOfIteratorHelper(itemListBeforeEdit),_step4;try{var _loop=function _loop(){var item=_step4.value;var found=storedItemList.some(function(el){return el.item_code===item.item_code&&el.UOM_DESC===item.UOM_DESC;});if(!found){_this.props.commonDeleteApi(\"stockusageitem/\".concat(item.item_id,\"/\")).then(function(res){});}};for(_iterator4.s();!(_step4=_iterator4.n()).done;){_loop();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}var _iterator5=_createForOfIteratorHelper(storedItemList),_step5;try{var _loop2=function _loop2(){var item=_step5.value;var formDataItem=new FormData();formDataItem.append(\"ITEMCODE\",item.item_code);formDataItem.append(\"ITEMDESC\",item.Item_Desc);formDataItem.append(\"DOC_UOMTYPE\",item.UOM_DESC);formDataItem.append(\"DOC_UOM\",item.ITEM_UOM);formDataItem.append(\"itmBrandDesc\",item.brand_itm_desc);formDataItem.append(\"itmRangeDesc\",item.range_itm_desc);formDataItem.append(\"DOC_PRICE\",item.item_cost);formDataItem.append(\"DOC_QTY\",item.item_quantity);formDataItem.append(\"DOC_AMT\",item.amount);formDataItem.append(\"ITEM_REMARK\",item.item_remarks);_this.props.getCommonApi(\"stockusageitem/?searchdocno=\".concat(resMEMO.data.DOC_NO,\"&searchitemcode=\").concat(item.item_code,\"&searchuom=\").concat(item.UOM_DESC)).then(function(resGetItem){if(resGetItem.status==200){console.log(\"resGetItem\",resGetItem);_this.props.commonUpdateApi(\"stockusageitem/\".concat(resGetItem.data.dataList[0].DOC_ID,\"/\"),formDataItem).then(function(resUpdateItem){console.log(\"resUpdateItem\",resUpdateItem);});}else if(resGetItem.status==204){formDataItem.append(\"DOC_NO\",resMEMO.data.DOC_NO);_this.props.commonCreateApi(\"stockusageitem/\",formDataItem).then(function(resCreateItem){console.log(\"resCreateItem\",resCreateItem);});}});};for(_iterator5.s();!(_step5=_iterator5.n()).done;){_loop2();}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}};_this.handleAddressSubmit=function(resMEMO){var _this$state6=_this.state,cityOption=_this$state6.cityOption,countryOption=_this$state6.countryOption,stateOption=_this$state6.stateOption;//submit address\nvar formDataAddress=new FormData();console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\",_this.state.formFieldsBillingStored);console.log(\"this.state.formFieldsBillingStored.to\",_this.state.formFieldsBillingStored.to);console.log(\"this.state.formFieldsBillingStored.address1\",_this.state.formFieldsBillingStored.address1);formDataAddress.append(\"billto\",_this.state.formFieldsBillingStored.to);formDataAddress.append(\"bill_addr1\",_this.state.formFieldsBillingStored.address1);formDataAddress.append(\"bill_addr2\",_this.state.formFieldsBillingStored.address2);formDataAddress.append(\"bill_addr3\",_this.state.formFieldsBillingStored.address3);formDataAddress.append(\"bill_postalcode\",_this.state.formFieldsBillingStored.postalCode);// console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\nformDataAddress.append(\"bill_city\",_this.state.formFieldsBillingStored.city?cityOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.city);}).label:\"\");formDataAddress.append(\"bill_state\",_this.state.formFieldsBillingStored.state?stateOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.state);}).label:\"\");formDataAddress.append(\"bill_country\",_this.state.formFieldsBillingStored.country?countryOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.country);}).label:\"\");formDataAddress.append(\"shipto\",_this.state.formFieldsShippingStored.to);formDataAddress.append(\"ship_addr1\",_this.state.formFieldsShippingStored.address1);formDataAddress.append(\"ship_addr2\",_this.state.formFieldsShippingStored.address2);formDataAddress.append(\"ship_addr3\",_this.state.formFieldsShippingStored.address3);formDataAddress.append(\"ship_postalcode\",_this.state.formFieldsShippingStored.postalCode);formDataAddress.append(\"ship_city\",_this.state.formFieldsShippingStored.city?cityOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.city);}).label:\"\");formDataAddress.append(\"ship_state\",_this.state.formFieldsShippingStored.state?stateOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.state);}).label:\"\");formDataAddress.append(\"ship_country\",_this.state.formFieldsShippingStored.country?countryOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.country);}).label:\"\");_this.props.getCommonApi(\"poaddr/?searchpoaddrid=\".concat(resMEMO.data.id)).then(function(resGetAddr){if(resGetAddr.status==200){console.log(\"resGetAddr\",resGetAddr);_this.props.commonUpdateApi(\"poaddr/\".concat(resGetAddr.data[0].id,\"/\"),formDataAddress).then(function(resUpdateAddr){console.log(\"resCreateAddr\",resUpdateAddr);});}else if(resGetAddr.status==204){formDataAddress.append(\"fk_po\",resMEMO.data.id);_this.props.commonCreateApi(\"poaddr/\",formDataAddress).then(function(resCreateAddr){console.log(\"resCreateAddr\",resCreateAddr);});}});};_this.handleSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(DOC_STATUS){var _this$state7,formFields,statusOption,empOption,formData,resMEMO;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;if(!_this.validator.allValid()){_context4.next=36;break;}_this$state7=_this.state,formFields=_this$state7.formFields,statusOption=_this$state7.statusOption,empOption=_this$state7.empOption;formData=new FormData();formData.append(\"DOC_REF1\",formFields.DOC_REF1);formData.append(\"DOC_DATE\",dateFormat(formFields.DOC_DATE)+\" 00:00:00\");formData.append(\"DOC_REF2\",formFields.DOC_REF2);if(DOC_STATUS){formData.append(\"DOC_STATUS\",\"Posted\");}else{formData.append(\"DOC_STATUS\",formFields.DOC_STATUS?statusOption.find(function(option){return option.value===parseInt(formFields.DOC_STATUS);}).label:\"\");}// console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\n// formData.append(\"STORE_NO\", formFields.STORE_NO);\nformData.append(\"STORE_NO\",_this.props.tokenDetail.site_code);formData.append(\"DOC_REMK1\",formFields.DOC_REMK1);formData.append(\"CREATE_USER\",formFields.CREATE_USER?empOption.find(function(option){return option.value===parseInt(formFields.CREATE_USER);}).label:\"\");formData.append(\"STAFF_NO\",formFields.CREATE_USER?empOption.find(function(option){return option.value===parseInt(formFields.CREATE_USER);}).code:\"\");formData.append(\"DOC_AMT\",formFields.DOC_AMT);formData.append(\"DOC_QTY\",formFields.DOC_QTY);console.log(\"formData\",formData);if(!_this.props.match.params.id){_context4.next=26;break;}console.log(\"in if loop\");console.log(\"this.props.match.params.id\",_this.props.match.params.id);_context4.next=20;return _this.props.commonUpdateApi(\"stockusagelist/\".concat(_this.props.match.params.id,\"/\"),formData);case 20:resMEMO=_context4.sent;console.log(resMEMO);// this.handleAddressSubmit(resMEMO);\n_this.handleItemDetailsSubmit(resMEMO);// if(statusValue == \"Void\"){\n//   console.log(\"in void loop\")\n//   await this.props.deletePO(`${this.props.match.params.id}/`)\n// }\nhistory.push(\"/admin/inventory\");_context4.next=34;break;case 26:console.log(\"this.props before createPO\",_this.props);// if (this.props.location.state){\n//   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n//   formData.append(\"fk_project\", this.props.location.state.projectFk);\n// }\n// console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\n// formData.append(\"fk_project\", this.state.fkProject);\n// var resMEMO = await this.props.createPO(formData);\n_context4.next=29;return _this.props.commonCreateApi(\"stockusagelist/\",formData);case 29:resMEMO=_context4.sent;console.log(\"resMEMO in createPO\",resMEMO);console.log(\"resMEMO.data.id\",resMEMO.data.id);// this.handleAddressSubmit(resMEMO);\n_this.handleItemDetailsSubmit(resMEMO);history.push(\"/admin/inventory\");case 34:_context4.next=37;break;case 36:_this.validator.showMessages();case 37:_context4.next=42;break;case 39:_context4.prev=39;_context4.t0=_context4[\"catch\"](0);_this.updateState({is_loading:false});case 42:case\"end\":return _context4.stop();}}},_callee4,null,[[0,39]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();_this.getDetails=function(){_this.updateState({isLoading:true});var _this$state8=_this.state,detailsList=_this$state8.detailsList,pageMeta=_this$state8.pageMeta,page=_this$state8.page,limit=_this$state8.limit,search=_this$state8.search;// let { Item_Desc } = formField;\n// console.log(\"this.props.siteCode\",this.props.siteCode)\n//     console.log(typeof this.props.siteCode)\n_this.props.getCommonApi(\"allstocklist/?searchitemdesc=\".concat(search,\"&searchsitecode=\").concat(_this.props.tokenDetail.site_code,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(function(res){console.log(res,\"dsfdfaafg\");_this.setState({detailsList:[]});detailsList=res.data.dataList;// pageMeta = res.data.meta.pagination;\npageMeta=res.data.pagination;// pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\n// this.setState({ detailsList, pageMeta });\n// this.setState({ detailsList });\nconsole.log(\"res.data\",res.data);console.log(\"detailsList\",detailsList);console.log(\"pageMeta\",pageMeta);_this.updateState({detailsList:detailsList,pageMeta:pageMeta,isLoading:false});});};_this.handlePagination=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(pageNo){var page;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:page=_this.state.page;page=pageNo.page;_context5.next=4;return _this.setState({page:page});case 4:_this.getDetails();case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x6){return _ref6.apply(this,arguments);};}();_this.handlesearch=function(event){// event.persist();\nconsole.log(event.target.value);var search=_this.state.search;search=event.target.value;_this.setState({search:search});if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this.getDetails({});case 1:case\"end\":return _context6.stop();}}},_callee6);})),500);}_this.debouncedFn();};_this.handleChangeQuantity=function(_ref8){var _ref8$target=_ref8.target,value=_ref8$target.value,name=_ref8$target.name;var _this$state9=_this.state,detailsList=_this$state9.detailsList,UOM=_this$state9.UOM;var r=new RegExp(/^\\d*(\\d+)?$/);console.log(\"value\",value);console.log(\"name\",name);if(r.test(value)==true||!value){for(var list in detailsList){if(detailsList[list].item_code==name&&detailsList[list].UOM_DESC==UOM){detailsList[list].item_quantity=value;}console.log(\"detailsList[list].item_code\",detailsList[list].item_code);}_this.setState({detailsList:detailsList});console.log(\"detailsList in handleChange\",detailsList);}else{console.log(\"detailsList in handleChange\",detailsList);return;}// current_item_quantity = value\n// this.setState({ current_item_quantity })\n};_this.handleChangeCost=function(_ref9){var _ref9$target=_ref9.target,value=_ref9$target.value,name=_ref9$target.name;var _this$state10=_this.state,detailsList=_this$state10.detailsList,UOM=_this$state10.UOM;var r=new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);console.log(\"value\",value);console.log(\"name\",name);if(r.test(value)==true||!value){for(var list in detailsList){if(detailsList[list].item_code==name&&detailsList[list].UOM_DESC==UOM){detailsList[list].item_cost=value;}}_this.setState({detailsList:detailsList});console.log(\"detailsList in handleChange\",detailsList);}else{console.log(\"detailsList in handleChange\",detailsList);return;}// current_item_quantity = value\n// this.setState({ current_item_quantity })\n};_this.handleSelect=function(item_code,Item_Desc,brand_itm_desc,range_itm_desc,UOM_DESC,ITEM_UOM,item_quantity,item_cost){var _this$state11=_this.state,storedItemList=_this$state11.storedItemList,detailsList=_this$state11.detailsList,formFields=_this$state11.formFields;// console.log(\"item_code\", item_code)\n// console.log(\"Item_Desc\", Item_Desc)\n// console.log(\"item_price\", item_price)\nvar _iterator6=_createForOfIteratorHelper(storedItemList),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var item=_step6.value;if(item.item_code==item_code&&item.UOM_DESC==UOM_DESC){Toast({type:\"error\",message:\"This item already exists\"});return;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}if(!item_cost){Toast({type:\"error\",message:\"Cost is empty!\"});return;}if(item_quantity){storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,brand_itm_desc:brand_itm_desc,range_itm_desc:range_itm_desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,item_cost:item_cost,item_quantity:item_quantity,amount:Math.round(item_quantity*item_cost*100)/100,item_remarks:\"\",editing:false});}else{item_quantity=1;storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,brand_itm_desc:brand_itm_desc,range_itm_desc:range_itm_desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,item_cost:item_cost,item_quantity:item_quantity,amount:Math.round(item_quantity*item_cost*100)/100,item_remarks:\"\",editing:false});}console.log(\"storedItemList\",storedItemList);_this.setState({storedItemList:storedItemList});_this.handleUpdateTotal();// this.props.storeItemDetails(storedItemList, formFields)\n};_this.handleRemoveStoredItem=function(item_code,UOM_DESC){var _this$state12=_this.state,storedItemList=_this$state12.storedItemList,formFields=_this$state12.formFields;for(var i=0;i<storedItemList.length;i++){if(storedItemList[i].item_code==item_code&&storedItemList[i].UOM_DESC==UOM_DESC){storedItemList.splice(i,1);}}console.log(\"storedItemList after remove\",storedItemList);_this.setState({storedItemList:storedItemList});// this.props.storeItemDetails(storedItemList, formFields)\n_this.handleUpdateTotal();};_this.handleEdit=function(item_code,UOM_DESC){var storedItemList=_this.state.storedItemList;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=true;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});};_this.handleSave=function(item_code,UOM_DESC){var _this$state13=_this.state,storedItemList=_this$state13.storedItemList,formFields=_this$state13.formFields;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=false;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList},function(){_this.handleUpdateTotal();});// this.props.storeItemDetails(storedItemList, formFields)\n};_this.handleEditChangeRemarks=function(_ref10){var _ref10$target=_ref10.target,value=_ref10$target.value,name=_ref10$target.name;var _this$state14=_this.state,storedItemList=_this$state14.storedItemList,UOM=_this$state14.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_remarks=value;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangePrice=function(_ref11){var _ref11$target=_ref11.target,value=_ref11$target.value,name=_ref11$target.name;var _this$state15=_this.state,storedItemList=_this$state15.storedItemList,UOM=_this$state15.UOM;var r=new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);if(r.test(value)==true||!value){for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_cost=value;storedItemList[list].amount=Math.round(storedItemList[list].item_quantity*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);}else{return;}};_this.handleEditChangeQuantity=function(_ref12){var _ref12$target=_ref12.target,value=_ref12$target.value,name=_ref12$target.name;var _this$state16=_this.state,storedItemList=_this$state16.storedItemList,UOM=_this$state16.UOM;var r=new RegExp(/^\\d*(\\d+)?$/);if(r.test(value)==true||!value){for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_quantity=value;storedItemList[list].amount=Math.round(storedItemList[list].item_cost*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);}else{return;}};_this.handleUpdateTotal=function(){var _this$state17=_this.state,storedItemList=_this$state17.storedItemList,formFields=_this$state17.formFields;formFields.DOC_AMT=0;formFields.DOC_QTY=0;var _iterator7=_createForOfIteratorHelper(storedItemList),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var item=_step7.value;console.log(\"item.amount\",item.amount,typeof item.amount);formFields.DOC_AMT=item.amount+formFields.DOC_AMT;formFields.DOC_QTY=parseInt(!item.item_quantity?0:item.item_quantity)+formFields.DOC_QTY;}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}console.log(\"storedItemList in update total\",storedItemList);formFields.DOC_AMT=Math.round(formFields.DOC_AMT*100)/100;console.log(\"formFields.DOC_AMT\",formFields.DOC_AMT,typeof formFields.DOC_AMT);_this.setState({formFields:formFields});};_this.setUOM=function(UOM_DESC){var UOM=_this.state.UOM;UOM=UOM_DESC;console.log(\"UOM in setUOM\",UOM);_this.setState({UOM:UOM});};_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};_this.getListDetail=function(){var _this$state18=_this.state,siteAddr=_this$state18.siteAddr,supOption=_this$state18.supOption,empOption=_this$state18.empOption,listDetail=_this$state18.listDetail,formFields=_this$state18.formFields,isPrintPdfClick=_this$state18.isPrintPdfClick;var addr=\"\";var _iterator8=_createForOfIteratorHelper(siteAddr),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var site=_step8.value;if(site.ItemSite_Code==_this.props.tokenDetail.site_code){addr=site.ItemSite_Address;}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}listDetail={DOC_NO:formFields.DOC_NO,// \"Supplier\": formFields.SUPP_Code&&supOption ? supOption.find(option => option.value === formFields.SUPP_Code).label : \"\",\nCREATE_USER:formFields.CREATE_USER&&empOption?empOption.find(function(option){return option.value===formFields.CREATE_USER;}).label:\"\",DOC_DATE:formFields.DOC_DATE,DOC_REF1:formFields.DOC_REF1,DOC_REF2:formFields.DOC_REF2,DOC_REMK1:formFields.DOC_REMK1,storeName:_this.props.tokenDetail.branch,printedBy:_this.props.tokenDetail.username,totalQty:formFields.DOC_QTY,totalAmt:formFields.DOC_AMT,addr:addr};console.log(\"listDetail in getListDetail\",listDetail);isPrintPdfClick=true;_this.setState({listDetail:listDetail,isPrintPdfClick:isPrintPdfClick});};return _this;}_createClass(AddStockMemoClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state19=this.state,formFields=_this$state19.formFields,statusOption=_this$state19.statusOption,headerDetails=_this$state19.headerDetails,headerSelectedDetails=_this$state19.headerSelectedDetails,disableEdit=_this$state19.disableEdit,pageMeta=_this$state19.pageMeta,empOption=_this$state19.empOption,detailsList=_this$state19.detailsList,storedItemList=_this$state19.storedItemList,isLoading=_this$state19.isLoading,isPrintPdfClick=_this$state19.isPrintPdfClick,listDetail=_this$state19.listDetail;var DOC_NO=formFields.DOC_NO,DOC_REF1=formFields.DOC_REF1,DOC_DATE=formFields.DOC_DATE,DOC_REF2=formFields.DOC_REF2,DOC_STATUS=formFields.DOC_STATUS,STORE_NO=formFields.STORE_NO,DOC_REMK1=formFields.DOC_REMK1,CREATE_USER=formFields.CREATE_USER,DOC_AMT=formFields.DOC_AMT,DOC_QTY=formFields.DOC_QTY;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5  create-Memo\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category cursor-pointer\",onClick:function onClick(){return history.push(\"/admin/inventory\");}},t(\"Stock Memo\")),\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" Stock Memo\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"PO-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Doc No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:true,placeholder:\"Auto generated\",value:DOC_NO,name:\"DOC_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Ref1\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:DOC_REF1,name:\"DOC_REF1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Doc Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:DOC_DATE?new Date(DOC_DATE):new Date(),name:\"DOC_DATE\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"// maxDate={new Date(toDate)}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Doc Date\"),DOC_DATE,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Ref2\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:DOC_REF2,name:\"DOC_REF2\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:statusOption,disabled:disableEdit,value:DOC_STATUS,name:\"DOC_STATUS\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Status\"),DOC_STATUS,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Store Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:[{value:1,label:this.props.tokenDetail.branch}],disabled:disableEdit,value:STORE_NO,name:\"STORE_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Store Code\"),STORE_NO,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-desc\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter here\",disabled:disableEdit,value:DOC_REMK1,name:\"DOC_REMK1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Created By\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:empOption,disabled:disableEdit,value:CREATE_USER,name:\"CREATE_USER\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Created By\"),CREATE_USER,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 Memo-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(InputSearch,{placeholder:\"Search Item\",onChange:this.handlesearch})))),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},t(\"Loading...\")))))):detailsList?detailsList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,brand_itm_desc=item.brand_itm_desc,range_itm_desc=item.range_itm_desc,UOM_DESC=item.UOM_DESC,ITEM_UOM=item.ITEM_UOM,QTY=item.QTY,item_quantity=item.item_quantity,item_cost=item.item_cost;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleChangeQuantity})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NormalInput,{value:item_cost,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)&&!/\\./.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleChangeCost})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:disableEdit,mainbg:true,className:\"warning\",label:\"Select\",onClick:function onClick(){return _this2.handleSelect(item_code,Item_Desc,brand_itm_desc,range_itm_desc,UOM_DESC,ITEM_UOM,item_quantity,item_cost);}}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"}),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerSelectedDetails// queryHandler={this.handlePagination}\n// pageMeta={pageMeta}\n},storedItemList?storedItemList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,brand_itm_desc=item.brand_itm_desc,range_itm_desc=item.range_itm_desc,UOM_DESC=item.UOM_DESC,item_cost=item.item_cost,item_quantity=item.item_quantity,amount=item.amount,item_remarks=item.item_remarks,editing=item.editing;return editing==false?/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_cost)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_quantity)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_remarks)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:updateBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent\",onClick:disableEdit==false?function(){return _this2.handleEdit(item_code,UOM_DESC);}:\"\"}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:deleteBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:disableEdit==false?function(){return _this2.handleRemoveStoredItem(item_code,UOM_DESC);}:\"\"})))):/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_cost,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)&&!/\\./.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangePrice}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeQuantity}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_remarks,disabled:disableEdit,name:item_code,onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeRemarks}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:saveBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:disableEdit==false?function(){return _this2.handleSave(item_code,UOM_DESC);}:\"\"}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Cost\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:DOC_AMT,name:\"DOC_AMT\"// onChange={this.handleChangeDetails}\n}))),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Total Cost\"),DOC_AMT,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:DOC_QTY,name:\"DOC_QTY\"// onChange={this.handleChangeDetails}\n}))),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Total Quantity\"),DOC_QTY,t(\"required\")))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:function onClick(){return history.push(\"/admin/inventory\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:disableEdit,mainbg:true,className:\"confirm\",label:\"Save\",onClick:function onClick(){return _this2.handleSubmit();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?disableEdit:true,mainbg:true,className:\"confirm\",label:\"Post\",outline:false,onClick:function onClick(){return _this2.handleSubmit(DOC_STATUS);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?false:true,mainbg:true,className:\"confirm\",label:\"Print PDF\",outline:false,onClick:function onClick(){return _this2.getListDetail();}})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(PDF,{listDetail:listDetail,itemDetail:storedItemList// Flag={activeTab !== \"detail\" ? 3 : 4}\n,landscape:false})},function(_ref13){var blob=_ref13.blob,url=_ref13.url,loading=_ref13.loading,error=_ref13.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null))));}}]);return AddStockMemoClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonUpdateApi:commonUpdateApi,commonDeleteApi:commonDeleteApi,updatePO:updatePO,createPO:createPO,deletePO:deletePO,getTokenDetails:getTokenDetails},dispatch);};export var AddStockMemo=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddStockMemoClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Inventory/StockMemo/AddStockMemo/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","TableWrapper","InputSearch","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","createPO","updatePO","deletePO","getTokenDetails","useLocation","_","updateBtn","saveBtn","deleteBtn","history","Toast","PDFViewer","PDFDownloadLink","BlobProvider","PDF","AddStockMemoClass","state","formFields","DOC_NO","DOC_REF1","DOC_DATE","Date","DOC_REF2","DOC_STATUS","STORE_NO","DOC_REMK1","CREATE_USER","DOC_AMT","DOC_QTY","headerDetails","label","headerSelectedDetails","UOM","listDetail","isPrintPdfClick","siteAddr","fkProject","fkQuotation","statusOption","empOption","disableEdit","is_loading","isMounted","detailsList","storedItemList","itemListBeforeEdit","pageMeta","search","active","currentIndex","page","limit","isOpenvoidCheckout","isLoading","componentWillMount","validator","validators","element","message","autoForceUpdate","componentDidMount","getStatus","getSiteDetail","console","log","props","handleUpdateTotal","updateState","data","setState","handleClick","key","currentValue","selectedMenu","id","selected","handleChange","target","value","name","Object","assign","handleDatePick","then","res","push","AllDropdown_Item","code","AllDropdown_Desc","Active","i","length","splice","match","params","getEmp","Emp_no","Emp_name","Emp_code","getDetails","autoFillForm","prefillDefault","supOption","find","option","tokenDetail","username","getAutofillItemDetails","status","dataList","item","item_code","ITEMCODE","Item_Desc","ITEMDESC","brand_itm_desc","itmBrandDesc","range_itm_desc","itmRangeDesc","UOM_DESC","DOC_UOMTYPE","ITEM_UOM","DOC_UOM","item_cost","DOC_PRICE","item_quantity","amount","item_remarks","ITEM_REMARK","editing","item_id","DOC_ID","handleItemDetailsSubmit","resMEMO","found","some","el","formDataItem","FormData","append","resGetItem","resUpdateItem","resCreateItem","handleAddressSubmit","cityOption","countryOption","stateOption","formDataAddress","formFieldsBillingStored","to","address1","address2","address3","postalCode","city","parseInt","country","formFieldsShippingStored","resGetAddr","resUpdateAddr","resCreateAddr","handleSubmit","allValid","formData","site_code","showMessages","pagination","handlePagination","pageNo","handlesearch","event","debouncedFn","debounce","handleChangeQuantity","r","RegExp","test","list","handleChangeCost","handleSelect","type","Math","round","handleRemoveStoredItem","handleEdit","handleSave","handleEditChangeRemarks","handleEditChangePrice","handleEditChangeQuantity","setUOM","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","getListDetail","addr","site","ItemSite_Code","ItemSite_Address","storeName","branch","printedBy","totalQty","totalAmt","t","map","index","QTY","preventDefault","blob","loading","error","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddStockMemo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n  TableWrapper,\r\n  InputSearch,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport updateBtn from \"assets/images/edit1.png\";\r\nimport saveBtn from \"assets/images/save.png\";\r\nimport deleteBtn from \"assets/images/delete1.png\";\r\nimport { history } from \"helpers\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport PDF from \"../../StocksPDF/UsageMemo\";\r\n\r\nexport class AddStockMemoClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      DOC_NO: \"\",\r\n      DOC_REF1: \"\",\r\n      DOC_DATE: new Date(),\r\n      DOC_REF2: \"\",\r\n      DOC_STATUS: \"\",\r\n      STORE_NO: \"\",\r\n      DOC_REMK1: \"\",\r\n      CREATE_USER: \"\",\r\n      DOC_AMT: \"\",\r\n      DOC_QTY: \"\",\r\n    },\r\n\r\n    headerDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Brand\" },\r\n      { label: \"Range\" },\r\n      { label: \"UOM\" },\r\n      { label: \"On Hand Qty\" },\r\n      { label: \"Adj Qty\" },\r\n      { label: \"Adj Cost\" },\r\n      { label: \"\" },\r\n    ],\r\n    headerSelectedDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Brand\" },\r\n      { label: \"Range\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Unit Cost\" },\r\n      { label: \"Qty\" },\r\n      { label: \"Amount\" },\r\n      { label: \"Remarks\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n    ],\r\n\r\n    UOM: \"\",\r\n\r\n    listDetail: {},\r\n    isPrintPdfClick: false,\r\n    siteAddr: [],\r\n\r\n    fkProject: \"\",\r\n    fkQuotation: \"\",\r\n    statusOption: [],\r\n    empOption: [],\r\n    // supOption:[],\r\n    // stateOption:[],\r\n    // cityOption:[],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n    detailsList: [],\r\n    storedItemList: [],\r\n    itemListBeforeEdit: [],\r\n    pageMeta: {},\r\n\r\n    search: \"\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    // limit: 10,\r\n    limit: 4,\r\n    isOpenvoidCheckout: false,\r\n    isLoading: true,\r\n    // is_loading: false,\r\n    isMounted: true,\r\n    // currentValue: 0,\r\n    // navLinks: [\r\n    //   { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n    //   { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    // ],\r\n    // selectedMenu: \"Details\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.quoId){\r\n    //     this.state.fkQuotation = this.props.location.state.quoId\r\n    //     this.setState({fkQuotation : this.state.fkQuotation})\r\n    //     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    //     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    //   }\r\n\r\n    // }\r\n    // this.getStatus();\r\n    // this.getCountry();\r\n    // this.getState();\r\n    // this.getCity();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.projectFk){\r\n    //     this.state.fkProject = this.props.location.state.projectFk\r\n    //     this.setState({fkProject : this.state.fkProject})\r\n    //     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n    //     console.log(\"this.state.fkProject\",this.state.fkProject)\r\n    //   }\r\n\r\n    // this.state.fkQuotation = this.props.location.state.quoId\r\n    // this.setState({fkQuotation : this.state.fkQuotation})\r\n\r\n    // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    // }\r\n\r\n    this.getStatus();\r\n\r\n    // this.getSup()\r\n\r\n    this.getSiteDetail();\r\n\r\n    console.log(\"this.props\", this.props);\r\n\r\n    console.log(\"this.state\", this.state);\r\n    // console.log(\"useLocation()\",useLocation())\r\n\r\n    // if(this.props.match.params.id) {\r\n    //   this.getAutofillItemDetails()\r\n    // }\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.AllDropdown_Item,\r\n          code: key.AllDropdown_Desc,\r\n          active: key.Active,\r\n        });\r\n      }\r\n      for (var i = 0; i < statusOption.length; i++) {\r\n        if (statusOption[i].label == \"Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n        if (statusOption[i].label == \"Not Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Posted\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption }, () => {\r\n        this.getEmp();\r\n      });\r\n\r\n      // if (this.props.match.params.id) {\r\n      //   this.autoFillForm()\r\n      // };\r\n    });\r\n  };\r\n\r\n  getEmp = () => {\r\n    let { empOption } = this.state;\r\n    empOption = [];\r\n    this.props.getCommonApi(`employeelist`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        empOption.push({\r\n          value: key.Emp_no,\r\n          label: key.Emp_name,\r\n          code: key.Emp_code,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"empOption\", empOption);\r\n      this.setState({ empOption }, () => {\r\n        this.getDetails();\r\n        if (this.props.match.params.id) {\r\n          this.autoFillForm();\r\n        } else {\r\n          this.prefillDefault();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  prefillDefault = () => {\r\n    let { disableEdit, statusOption, empOption, supOption } = this.state;\r\n\r\n    if (empOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"CREATE_USER\"] = empOption.find(\r\n        option => option.label === this.props.tokenDetail.username\r\n      ).value;\r\n    }\r\n    if (statusOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"DOC_STATUS\"] = statusOption.find(\r\n        option => option.label === \"Open\"\r\n      ).value;\r\n    }\r\n\r\n    this.state.formFields[\"STORE_NO\"] = 1;\r\n    this.setState(this.state.formFields);\r\n  };\r\n\r\n  getSiteDetail = () => {\r\n    let { siteAddr } = this.state;\r\n    siteAddr = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      siteAddr = res.data;\r\n      console.log(\"siteAddr\", siteAddr);\r\n      this.setState({ siteAddr });\r\n    });\r\n  };\r\n\r\n  getAutofillItemDetails = DOC_NO => {\r\n    this.props\r\n      .getCommonApi(`stockusageitem/?searchdocno=${DOC_NO}&limit=10000`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemList.push({\r\n              item_code: item.ITEMCODE,\r\n              Item_Desc: item.ITEMDESC,\r\n              brand_itm_desc: item.itmBrandDesc,\r\n              range_itm_desc: item.itmRangeDesc,\r\n              UOM_DESC: item.DOC_UOMTYPE,\r\n              ITEM_UOM: item.DOC_UOM,\r\n              item_cost: item.DOC_PRICE,\r\n              item_quantity: item.DOC_QTY,\r\n              amount: item.DOC_AMT,\r\n              item_remarks: item.ITEM_REMARK,\r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.DOC_ID,\r\n              item_code: item.ITEMCODE,\r\n              UOM_DESC: item.DOC_UOMTYPE,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemList);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n        }\r\n        // this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\r\n        // this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\r\n        // this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\r\n        // this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\r\n        // this.setState(this.state.formFieldsDetailsStored)\r\n      });\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption, empOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`stockusagelist/?searchdocid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"adj dataList\", res.data.dataList);\r\n\r\n        this.state.formFields[\"DOC_NO\"] = res.data.dataList[0].DOC_NO;\r\n        // this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO\r\n\r\n        this.state.formFields[\"DOC_REF1\"] = res.data.dataList[0].DOC_REF1;\r\n        this.state.formFields[\"DOC_DATE\"] = res.data.dataList[0].DOC_DATE;\r\n\r\n        this.state.formFields[\"DOC_REF2\"] = res.data.dataList[0].DOC_REF2;\r\n\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\r\n          \"res.data.dataList[0].status\",\r\n          res.data.dataList[0].DOC_STATUS\r\n        );\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].DOC_STATUS && statusOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"DOC_STATUS\"] = statusOption.find(\r\n            option => option.label === res.data.dataList[0].DOC_STATUS\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].DOC_STATUS\",\r\n            res.data.dataList[0].DOC_STATUS\r\n          );\r\n          if (res.data.dataList[0].DOC_STATUS == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            // for (var i = 0; i < statusOption.length; i++){\r\n            //   if(statusOption[i].label == \"Posted\") {\r\n            //     statusOption = statusOption.filter(e => e.label !== 'Open')\r\n            //   }\r\n            // }\r\n            // console.log(\"statusOption when status is posted\",statusOption)\r\n\r\n            this.setState({ disableEdit });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n\r\n        this.state.formFields[\"STORE_NO\"] = 1;\r\n        this.state.formFields[\"DOC_REMK1\"] = res.data.dataList[0].DOC_REMK1;\r\n        if (res.data.dataList[0].CREATE_USER && empOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"CREATE_USER\"] = empOption.find(\r\n            option => option.label === res.data.dataList[0].CREATE_USER\r\n          ).value;\r\n        }\r\n\r\n        this.state.formFields[\"DOC_QTY\"] = res.data.dataList[0].DOC_QTY;\r\n        this.state.formFields[\"DOC_AMT\"] = res.data.dataList[0].DOC_AMT;\r\n\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n        this.getAutofillItemDetails(res.data.dataList[0].DOC_NO);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = resMEMO => {\r\n    let { storedItemList, itemListBeforeEdit } = this.state;\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemList.some(\r\n        el => el.item_code === item.item_code && el.UOM_DESC === item.UOM_DESC\r\n      );\r\n      if (!found) {\r\n        this.props\r\n          .commonDeleteApi(`stockusageitem/${item.item_id}/`)\r\n          .then(res => {});\r\n      }\r\n    }\r\n\r\n    for (let item of storedItemList) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"ITEMCODE\", item.item_code);\r\n      formDataItem.append(\"ITEMDESC\", item.Item_Desc);\r\n      formDataItem.append(\"DOC_UOMTYPE\", item.UOM_DESC);\r\n      formDataItem.append(\"DOC_UOM\", item.ITEM_UOM);\r\n      formDataItem.append(\"itmBrandDesc\", item.brand_itm_desc);\r\n      formDataItem.append(\"itmRangeDesc\", item.range_itm_desc);\r\n      formDataItem.append(\"DOC_PRICE\", item.item_cost);\r\n      formDataItem.append(\"DOC_QTY\", item.item_quantity);\r\n      formDataItem.append(\"DOC_AMT\", item.amount);\r\n      formDataItem.append(\"ITEM_REMARK\", item.item_remarks);\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `stockusageitem/?searchdocno=${resMEMO.data.DOC_NO}&searchitemcode=${item.item_code}&searchuom=${item.UOM_DESC}`\r\n        )\r\n        .then(resGetItem => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `stockusageitem/${resGetItem.data.dataList[0].DOC_ID}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"DOC_NO\", resMEMO.data.DOC_NO);\r\n            this.props\r\n              .commonCreateApi(`stockusageitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleAddressSubmit = resMEMO => {\r\n    let { cityOption, countryOption, stateOption } = this.state;\r\n    //submit address\r\n    const formDataAddress = new FormData();\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored in handleAddressSubmit\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.to\",\r\n      this.state.formFieldsBillingStored.to\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.address1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to);\r\n    formDataAddress.append(\r\n      \"bill_addr1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr2\",\r\n      this.state.formFieldsBillingStored.address2\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr3\",\r\n      this.state.formFieldsBillingStored.address3\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_postalcode\",\r\n      this.state.formFieldsBillingStored.postalCode\r\n    );\r\n\r\n    // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n    formDataAddress.append(\r\n      \"bill_city\",\r\n      this.state.formFieldsBillingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value === parseInt(this.state.formFieldsBillingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_state\",\r\n      this.state.formFieldsBillingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_country\",\r\n      this.state.formFieldsBillingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to);\r\n    formDataAddress.append(\r\n      \"ship_addr1\",\r\n      this.state.formFieldsShippingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr2\",\r\n      this.state.formFieldsShippingStored.address2\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr3\",\r\n      this.state.formFieldsShippingStored.address3\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_postalcode\",\r\n      this.state.formFieldsShippingStored.postalCode\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_city\",\r\n      this.state.formFieldsShippingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_state\",\r\n      this.state.formFieldsShippingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_country\",\r\n      this.state.formFieldsShippingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`poaddr/?searchpoaddrid=${resMEMO.data.id}`)\r\n      .then(resGetAddr => {\r\n        if (resGetAddr.status == 200) {\r\n          console.log(\"resGetAddr\", resGetAddr);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `poaddr/${resGetAddr.data[0].id}/`,\r\n              formDataAddress\r\n            )\r\n            .then(resUpdateAddr => {\r\n              console.log(\"resCreateAddr\", resUpdateAddr);\r\n            });\r\n        } else if (resGetAddr.status == 204) {\r\n          formDataAddress.append(\"fk_po\", resMEMO.data.id);\r\n          this.props\r\n            .commonCreateApi(`poaddr/`, formDataAddress)\r\n            .then(resCreateAddr => {\r\n              console.log(\"resCreateAddr\", resCreateAddr);\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSubmit = async DOC_STATUS => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let { formFields, statusOption, empOption } = this.state;\r\n\r\n        const formData = new FormData();\r\n\r\n        formData.append(\"DOC_REF1\", formFields.DOC_REF1);\r\n        formData.append(\r\n          \"DOC_DATE\",\r\n          dateFormat(formFields.DOC_DATE) + \" 00:00:00\"\r\n        );\r\n        formData.append(\"DOC_REF2\", formFields.DOC_REF2);\r\n\r\n        if (DOC_STATUS) {\r\n          formData.append(\"DOC_STATUS\", \"Posted\");\r\n        } else {\r\n          formData.append(\r\n            \"DOC_STATUS\",\r\n            formFields.DOC_STATUS\r\n              ? statusOption.find(\r\n                  option => option.value === parseInt(formFields.DOC_STATUS)\r\n                ).label\r\n              : \"\"\r\n          );\r\n        }\r\n\r\n        // console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\r\n\r\n        // formData.append(\"STORE_NO\", formFields.STORE_NO);\r\n        formData.append(\"STORE_NO\", this.props.tokenDetail.site_code);\r\n        formData.append(\"DOC_REMK1\", formFields.DOC_REMK1);\r\n\r\n        formData.append(\r\n          \"CREATE_USER\",\r\n          formFields.CREATE_USER\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.CREATE_USER)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"STAFF_NO\",\r\n          formFields.CREATE_USER\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.CREATE_USER)\r\n              ).code\r\n            : \"\"\r\n        );\r\n        formData.append(\"DOC_AMT\", formFields.DOC_AMT);\r\n        formData.append(\"DOC_QTY\", formFields.DOC_QTY);\r\n\r\n        console.log(\"formData\", formData);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resMEMO = await this.props.commonUpdateApi(\r\n            `stockusagelist/${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          console.log(resMEMO);\r\n          // this.handleAddressSubmit(resMEMO);\r\n          this.handleItemDetailsSubmit(resMEMO);\r\n          // if(statusValue == \"Void\"){\r\n          //   console.log(\"in void loop\")\r\n          //   await this.props.deletePO(`${this.props.match.params.id}/`)\r\n          // }\r\n\r\n          history.push(`/admin/inventory`);\r\n        } else {\r\n          console.log(\"this.props before createPO\", this.props);\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          // console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\r\n          // formData.append(\"fk_project\", this.state.fkProject);\r\n          // var resMEMO = await this.props.createPO(formData);\r\n\r\n          var resMEMO = await this.props.commonCreateApi(\r\n            `stockusagelist/`,\r\n            formData\r\n          );\r\n\r\n          console.log(\"resMEMO in createPO\", resMEMO);\r\n          console.log(\"resMEMO.data.id\", resMEMO.data.id);\r\n\r\n          // this.handleAddressSubmit(resMEMO);\r\n          this.handleItemDetailsSubmit(resMEMO);\r\n\r\n          history.push(`/admin/inventory`);\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  getDetails = () => {\r\n    this.updateState({ isLoading: true });\r\n    let { detailsList, pageMeta, page, limit, search } = this.state;\r\n    // let { Item_Desc } = formField;\r\n    // console.log(\"this.props.siteCode\",this.props.siteCode)\r\n    //     console.log(typeof this.props.siteCode)\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `allstocklist/?searchitemdesc=${search}&searchsitecode=${this.props.tokenDetail.site_code}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        this.setState({ detailsList: [] });\r\n        detailsList = res.data.dataList;\r\n        // pageMeta = res.data.meta.pagination;\r\n        pageMeta = res.data.pagination;\r\n        // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\r\n        // this.setState({ detailsList, pageMeta });\r\n        // this.setState({ detailsList });\r\n\r\n        console.log(\"res.data\", res.data);\r\n        console.log(\"detailsList\", detailsList);\r\n        console.log(\"pageMeta\", pageMeta);\r\n        this.updateState({\r\n          detailsList,\r\n          pageMeta,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handlePagination = async pageNo => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getDetails();\r\n  };\r\n\r\n  handlesearch = event => {\r\n    // event.persist();\r\n    console.log(event.target.value);\r\n    let { search } = this.state;\r\n    search = event.target.value;\r\n    this.setState({ search });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getDetails({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleChangeQuantity = ({ target: { value, name } }) => {\r\n    let { detailsList, UOM } = this.state;\r\n    let r = new RegExp(/^\\d*(\\d+)?$/);\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in detailsList) {\r\n        if (\r\n          detailsList[list].item_code == name &&\r\n          detailsList[list].UOM_DESC == UOM\r\n        ) {\r\n          detailsList[list].item_quantity = value;\r\n        }\r\n        console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\r\n      }\r\n\r\n      this.setState({\r\n        detailsList,\r\n      });\r\n      console.log(\"detailsList in handleChange\", detailsList);\r\n    } else {\r\n      console.log(\"detailsList in handleChange\", detailsList);\r\n      return;\r\n    }\r\n\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleChangeCost = ({ target: { value, name } }) => {\r\n    let { detailsList, UOM } = this.state;\r\n    let r = new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in detailsList) {\r\n        if (\r\n          detailsList[list].item_code == name &&\r\n          detailsList[list].UOM_DESC == UOM\r\n        ) {\r\n          detailsList[list].item_cost = value;\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        detailsList,\r\n      });\r\n      console.log(\"detailsList in handleChange\", detailsList);\r\n    } else {\r\n      console.log(\"detailsList in handleChange\", detailsList);\r\n      return;\r\n    }\r\n\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleSelect = (\r\n    item_code,\r\n    Item_Desc,\r\n    brand_itm_desc,\r\n    range_itm_desc,\r\n    UOM_DESC,\r\n    ITEM_UOM,\r\n    item_quantity,\r\n    item_cost\r\n  ) => {\r\n    let { storedItemList, detailsList, formFields } = this.state;\r\n    // console.log(\"item_code\", item_code)\r\n    // console.log(\"Item_Desc\", Item_Desc)\r\n    // console.log(\"item_price\", item_price)\r\n\r\n    for (let item of storedItemList) {\r\n      if (item.item_code == item_code && item.UOM_DESC == UOM_DESC) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item already exists\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!item_cost) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Cost is empty!\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (item_quantity) {\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        Item_Desc: Item_Desc,\r\n        brand_itm_desc: brand_itm_desc,\r\n        range_itm_desc: range_itm_desc,\r\n        UOM_DESC: UOM_DESC,\r\n        ITEM_UOM: ITEM_UOM,\r\n        item_cost: item_cost,\r\n        item_quantity: item_quantity,\r\n        amount: Math.round(item_quantity * item_cost * 100) / 100,\r\n        item_remarks: \"\",\r\n        editing: false,\r\n      });\r\n    } else {\r\n      item_quantity = 1;\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        Item_Desc: Item_Desc,\r\n        brand_itm_desc: brand_itm_desc,\r\n        range_itm_desc: range_itm_desc,\r\n        UOM_DESC: UOM_DESC,\r\n        ITEM_UOM: ITEM_UOM,\r\n        item_cost: item_cost,\r\n        item_quantity: item_quantity,\r\n        amount: Math.round(item_quantity * item_cost * 100) / 100,\r\n        item_remarks: \"\",\r\n        editing: false,\r\n      });\r\n    }\r\n\r\n    console.log(\"storedItemList\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n  };\r\n\r\n  handleRemoveStoredItem = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (var i = 0; i < storedItemList.length; i++) {\r\n      if (\r\n        storedItemList[i].item_code == item_code &&\r\n        storedItemList[i].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(\"storedItemList after remove\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEdit = (item_code, UOM_DESC) => {\r\n    let { storedItemList } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = true;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n  };\r\n\r\n  handleSave = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = false;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList }, () => {\r\n      this.handleUpdateTotal();\r\n    });\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n  };\r\n\r\n  handleEditChangeRemarks = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_remarks = value;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangePrice = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n    let r = new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);\r\n\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in storedItemList) {\r\n        if (\r\n          storedItemList[list].item_code == name &&\r\n          storedItemList[list].UOM_DESC == UOM\r\n        ) {\r\n          storedItemList[list].item_cost = value;\r\n          storedItemList[list].amount =\r\n            Math.round(storedItemList[list].item_quantity * value * 100) / 100;\r\n        }\r\n        // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      }\r\n\r\n      this.setState({\r\n        storedItemList,\r\n      });\r\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  handleEditChangeQuantity = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n    let r = new RegExp(/^\\d*(\\d+)?$/);\r\n\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in storedItemList) {\r\n        if (\r\n          storedItemList[list].item_code == name &&\r\n          storedItemList[list].UOM_DESC == UOM\r\n        ) {\r\n          storedItemList[list].item_quantity = value;\r\n          storedItemList[list].amount =\r\n            Math.round(storedItemList[list].item_cost * value * 100) / 100;\r\n        }\r\n        // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      }\r\n\r\n      this.setState({\r\n        storedItemList,\r\n      });\r\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  handleUpdateTotal = () => {\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    formFields.DOC_AMT = 0;\r\n    formFields.DOC_QTY = 0;\r\n\r\n    for (let item of storedItemList) {\r\n      console.log(\"item.amount\", item.amount, typeof item.amount);\r\n      formFields.DOC_AMT = item.amount + formFields.DOC_AMT;\r\n      formFields.DOC_QTY =\r\n        parseInt(!item.item_quantity ? 0 : item.item_quantity) +\r\n        formFields.DOC_QTY;\r\n    }\r\n    console.log(\"storedItemList in update total\", storedItemList);\r\n    formFields.DOC_AMT = Math.round(formFields.DOC_AMT * 100) / 100;\r\n    console.log(\r\n      \"formFields.DOC_AMT\",\r\n      formFields.DOC_AMT,\r\n      typeof formFields.DOC_AMT\r\n    );\r\n    this.setState({ formFields });\r\n  };\r\n\r\n  setUOM = UOM_DESC => {\r\n    let { UOM } = this.state;\r\n    UOM = UOM_DESC;\r\n    console.log(\"UOM in setUOM\", UOM);\r\n    this.setState({ UOM });\r\n  };\r\n\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  getListDetail = () => {\r\n    let {\r\n      siteAddr,\r\n      supOption,\r\n      empOption,\r\n      listDetail,\r\n      formFields,\r\n      isPrintPdfClick,\r\n    } = this.state;\r\n\r\n    let addr = \"\";\r\n\r\n    for (let site of siteAddr) {\r\n      if (site.ItemSite_Code == this.props.tokenDetail.site_code) {\r\n        addr = site.ItemSite_Address;\r\n      }\r\n    }\r\n\r\n    listDetail = {\r\n      DOC_NO: formFields.DOC_NO,\r\n      // \"Supplier\": formFields.SUPP_Code&&supOption ? supOption.find(option => option.value === formFields.SUPP_Code).label : \"\",\r\n      CREATE_USER:\r\n        formFields.CREATE_USER && empOption\r\n          ? empOption.find(option => option.value === formFields.CREATE_USER)\r\n              .label\r\n          : \"\",\r\n      DOC_DATE: formFields.DOC_DATE,\r\n      DOC_REF1: formFields.DOC_REF1,\r\n      DOC_REF2: formFields.DOC_REF2,\r\n      DOC_REMK1: formFields.DOC_REMK1,\r\n      storeName: this.props.tokenDetail.branch,\r\n      printedBy: this.props.tokenDetail.username,\r\n      totalQty: formFields.DOC_QTY,\r\n      totalAmt: formFields.DOC_AMT,\r\n      addr: addr,\r\n    };\r\n    console.log(\"listDetail in getListDetail\", listDetail);\r\n\r\n    isPrintPdfClick = true;\r\n    this.setState({ listDetail, isPrintPdfClick });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      headerDetails,\r\n      headerSelectedDetails,\r\n      disableEdit,\r\n      pageMeta,\r\n      empOption,\r\n      detailsList,\r\n      storedItemList,\r\n      isLoading,\r\n      isPrintPdfClick,\r\n      listDetail,\r\n    } = this.state;\r\n\r\n    let {\r\n      DOC_NO,\r\n      DOC_REF1,\r\n      DOC_DATE,\r\n      DOC_REF2,\r\n      DOC_STATUS,\r\n      STORE_NO,\r\n      DOC_REMK1,\r\n      CREATE_USER,\r\n      DOC_AMT,\r\n      DOC_QTY,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5  create-Memo\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category cursor-pointer\"\r\n            onClick={() => history.push(`/admin/inventory`)}\r\n          >\r\n            {t(\"Stock Memo\")}\r\n          </p>{\" \"}\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Stock Memo`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"PO-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Doc No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={DOC_NO}\r\n                    name=\"DOC_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"PO No\"),\r\n                      DOC_NO,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Ref1\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={DOC_REF1}\r\n                    name=\"DOC_REF1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Ref1\"),\r\n                      DOC_REF1,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Doc Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={DOC_DATE ? new Date(DOC_DATE) : new Date()}\r\n                    name=\"DOC_DATE\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Doc Date\"),\r\n                    DOC_DATE,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Ref2\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={DOC_REF2}\r\n                    name=\"DOC_REF2\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Ref2\"),\r\n                      DOC_REF2,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    disabled={disableEdit}\r\n                    value={DOC_STATUS}\r\n                    name=\"DOC_STATUS\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Status\"),\r\n                    DOC_STATUS,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Store Code\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={[\r\n                      { value: 1, label: this.props.tokenDetail.branch },\r\n                    ]}\r\n                    disabled={disableEdit}\r\n                    value={STORE_NO}\r\n                    name=\"STORE_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Store Code\"),\r\n                    STORE_NO,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={DOC_REMK1}\r\n                    name=\"DOC_REMK1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12\"></div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Created By\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={empOption}\r\n                    disabled={disableEdit}\r\n                    value={CREATE_USER}\r\n                    name=\"CREATE_USER\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Created By\"),\r\n                    CREATE_USER,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 Memo-content\">\r\n              <div className=\"py-4\">\r\n                <div className=\"table-container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-8\"></div>\r\n\r\n                    <div className=\"col-4 mb-3\">\r\n                      <div className=\"w-100\">\r\n                        <InputSearch\r\n                          placeholder=\"Search Item\"\r\n                          onChange={this.handlesearch}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <TableWrapper\r\n                    headerDetails={headerDetails}\r\n                    queryHandler={this.handlePagination}\r\n                    pageMeta={pageMeta}\r\n                  >\r\n                    {isLoading ? (\r\n                      <tr>\r\n                        <td colSpan=\"7\">\r\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                            <div class=\"spinner-border\" role=\"status\">\r\n                              <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ) : detailsList ? (\r\n                      detailsList.map((item, index) => {\r\n                        let {\r\n                          item_code,\r\n                          Item_Desc,\r\n                          brand_itm_desc,\r\n                          range_itm_desc,\r\n                          UOM_DESC,\r\n                          ITEM_UOM,\r\n                          QTY,\r\n                          item_quantity,\r\n                          item_cost,\r\n                        } = item;\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {item_code}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {Item_Desc}\r\n                              </div>\r\n                            </td>\r\n\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {brand_itm_desc}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {range_itm_desc}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {UOM_DESC}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {QTY}\r\n                              </div>\r\n                            </td>\r\n\r\n                            <td>\r\n                              {/* <div className=\"input-group\"> */}\r\n                              <NormalInput\r\n                                value={item_quantity}\r\n                                disabled={disableEdit}\r\n                                name={item_code}\r\n                                onKeyPress={event => {\r\n                                  if (!/[0-9]/.test(event.key)) {\r\n                                    event.preventDefault();\r\n                                  }\r\n                                }}\r\n                                onClick={() => this.setUOM(UOM_DESC)}\r\n                                onChange={this.handleChangeQuantity}\r\n                              />\r\n                              {/* </div> */}\r\n                            </td>\r\n\r\n                            <td>\r\n                              {/* <div className=\"input-group\"> */}\r\n                              <NormalInput\r\n                                value={item_cost}\r\n                                disabled={disableEdit}\r\n                                name={item_code}\r\n                                onKeyPress={event => {\r\n                                  if (\r\n                                    !/[0-9]/.test(event.key) &&\r\n                                    !/\\./.test(event.key)\r\n                                  ) {\r\n                                    event.preventDefault();\r\n                                  }\r\n                                }}\r\n                                onClick={() => this.setUOM(UOM_DESC)}\r\n                                onChange={this.handleChangeCost}\r\n                              />\r\n                              {/* </div> */}\r\n                            </td>\r\n\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <NormalButton\r\n                                  buttonClass={\"mx-2\"}\r\n                                  disabled={disableEdit}\r\n                                  mainbg={true}\r\n                                  className=\"warning\"\r\n                                  label=\"Select\"\r\n                                  onClick={() =>\r\n                                    this.handleSelect(\r\n                                      item_code,\r\n                                      Item_Desc,\r\n                                      brand_itm_desc,\r\n                                      range_itm_desc,\r\n                                      UOM_DESC,\r\n                                      ITEM_UOM,\r\n                                      item_quantity,\r\n                                      item_cost\r\n                                    )\r\n                                  }\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    ) : null}\r\n                  </TableWrapper>\r\n\r\n                  <div className=\"row mt-5\"></div>\r\n                  <TableWrapper\r\n                    headerDetails={headerSelectedDetails}\r\n                    // queryHandler={this.handlePagination}\r\n                    // pageMeta={pageMeta}\r\n                  >\r\n                    {storedItemList\r\n                      ? storedItemList.map((item, index) => {\r\n                          let {\r\n                            item_code,\r\n                            Item_Desc,\r\n                            brand_itm_desc,\r\n                            range_itm_desc,\r\n                            UOM_DESC,\r\n                            item_cost,\r\n                            item_quantity,\r\n                            amount,\r\n                            item_remarks,\r\n                            editing,\r\n                          } = item;\r\n                          return editing == false ? (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_code}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {Item_Desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {brand_itm_desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {range_itm_desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {UOM_DESC}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_cost}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_quantity}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {amount}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_remarks}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={updateBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent\"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleEdit(item_code, UOM_DESC)\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={deleteBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent \"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleRemoveStoredItem(\r\n                                              item_code,\r\n                                              UOM_DESC\r\n                                            )\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ) : (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_code}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {Item_Desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {brand_itm_desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {range_itm_desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {UOM_DESC}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_cost}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onKeyPress={event => {\r\n                                      if (\r\n                                        !/[0-9]/.test(event.key) &&\r\n                                        !/\\./.test(event.key)\r\n                                      ) {\r\n                                        event.preventDefault();\r\n                                      }\r\n                                    }}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={this.handleEditChangePrice}\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_quantity}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onKeyPress={event => {\r\n                                      if (!/[0-9]/.test(event.key)) {\r\n                                        event.preventDefault();\r\n                                      }\r\n                                    }}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={this.handleEditChangeQuantity}\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {amount}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_remarks}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={this.handleEditChangeRemarks}\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              {/* <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={closeBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent\"\r\n                                  onClick={() =>this.handleClose(item_code)}\r\n                                />\r\n                              </div>\r\n                            </td> */}\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={saveBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent \"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleSave(item_code, UOM_DESC)\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })\r\n                      : null}\r\n                  </TableWrapper>\r\n\r\n                  <div className=\"row justify-content-end mt-5\">\r\n                    <div className=\"col-4\">\r\n                      {/* <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Shipping Cost\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_shipcost}\r\n                          name=\"po_shipcost\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Discount\")}\r\n                      </label>\r\n                      <div className=\"input-group-discount w-100\">\r\n                        <NormalInput\r\n                          // placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_discount}\r\n                          name=\"po_discount\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                      \r\n                    </div>                   \r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Taxes\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_taxes}\r\n                          name=\"po_taxes\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div> */}\r\n\r\n                      <div className=\"d-flex mb-3\">\r\n                        <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                          {t(\"Total Cost\")}\r\n                        </label>\r\n                        <div className=\"input-group-address w-100\">\r\n                          <NormalInput\r\n                            placeholder=\"Enter here\"\r\n                            disabled={true}\r\n                            value={DOC_AMT}\r\n                            name=\"DOC_AMT\"\r\n                            // onChange={this.handleChangeDetails}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        {this.validator.message(\r\n                          t(\"Total Cost\"),\r\n                          DOC_AMT,\r\n                          t(\"required\")\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"d-flex mb-3\">\r\n                        <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                          {t(\"Total Quantity\")}\r\n                        </label>\r\n                        <div className=\"input-group-address w-100\">\r\n                          <NormalInput\r\n                            placeholder=\"Enter here\"\r\n                            disabled={true}\r\n                            value={DOC_QTY}\r\n                            name=\"DOC_QTY\"\r\n                            // onChange={this.handleChangeDetails}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        {this.validator.message(\r\n                          t(\"Total Quantity\"),\r\n                          DOC_QTY,\r\n                          t(\"required\")\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row justify-content-end\">\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => history.push(`/admin/inventory`)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  disabled={disableEdit}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? disableEdit : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(DOC_STATUS)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? false : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Print PDF\"\r\n                  outline={false}\r\n                  onClick={() => this.getListDetail()}\r\n                />\r\n              </div>\r\n              {isPrintPdfClick ? (\r\n                <PDFDownloadLink\r\n                  document={\r\n                    <PDF\r\n                      listDetail={listDetail}\r\n                      itemDetail={storedItemList}\r\n                      // Flag={activeTab !== \"detail\" ? 3 : 4}\r\n                      landscape={false}\r\n                    />\r\n                  }\r\n                >\r\n                  {({ blob, url, loading, error }) =>\r\n                    !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                  }\r\n                </PDFDownloadLink>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      commonDeleteApi,\r\n      updatePO,\r\n      createPO,\r\n      deletePO,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddStockMemo = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddStockMemoClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}