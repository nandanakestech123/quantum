{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Customer\\\\ListCustomer\\\\index.js\";\nimport React from 'react';\nimport { NormalButton, NormalSelect } from 'component/common';\nimport { InputSearch, TableWrapper } from 'component/common';\nimport filter from \"../../../../assets/images/filter.png\";\nimport './style.scss';\nimport { getCustomer } from 'redux/actions/customer';\nimport { updateForm } from 'redux/actions/common';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport _ from 'lodash';\nexport class ListCustomerClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: 'Customer Name',\n        sortKey: \"customerName\"\n      }, {\n        label: 'Contact Number'\n      }, {\n        label: 'Card No1'\n      }, {\n        label: 'Card No2'\n      }, {\n        label: 'Card No3'\n      }, {\n        label: 'Card No4'\n      }, {\n        label: 'Card No5'\n      }, {\n        label: ''\n      }],\n      customerList: [],\n      meta: {},\n      active: false,\n      currentIndex: -1\n    };\n\n    this.componentDidMount = () => {\n      this.getCustomer({});\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener('click', this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener('click', this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.getCustomer = data => {\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      this.props.getCustomer(`?page=${page}&limit=${limit}&search=${search}`).then(res => {\n        console.log(res, \"dsfdfaafg\");\n        this.setState({\n          customerList: res.data.dataList,\n          meta: res.data.meta.pagination\n        });\n      });\n    };\n\n    this.handlePagination = page => {\n      console.log(page, \"dsfsdfsdfsdf\");\n      this.getCustomer(page);\n    };\n\n    this.handlesearch = event => {\n      console.log(\"sadfasdfasdf\", event.target.value);\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          };\n          this.getCustomer(data);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.bookAppointment = async data => {\n      let formFields = {};\n      formFields[\"custId\"] = data.id;\n      formFields[\"custName\"] = data.cust_name;\n      await this.props.updateForm('basicApptDetail', formFields);\n      this.props.history.push(`/admin/appointment`);\n    };\n  }\n\n  render() {\n    let {\n      headerDetails,\n      customerList,\n      meta,\n      currentIndex,\n      active\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, \"Customer\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Customer\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Add Customer\",\n      onClick: () => this.props.history.push('/admin/customer/add'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 37\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 33\n      }\n    }, customerList ? customerList.map((item, index) => {\n      let {\n        id,\n        cust_name,\n        cardno1,\n        cardno2,\n        cardno3,\n        cardno4,\n        cardno5,\n        cust_phone2\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 53\n        }\n      }, cust_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 53\n        }\n      }, cust_phone2)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 53\n        }\n      }, cardno1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 53\n        }\n      }, cardno2)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 53\n        }\n      }, cardno3)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 53\n        }\n      }, cardno4)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 53\n        }\n      }, cardno5)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 49\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 150\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pt-3\",\n        onClick: () => this.props.history.push(`/admin/customer/${id}/details`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 192\n        }\n      }), \" View \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-schedule px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 115\n        }\n      }), \" Reschedule Appointment \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16\",\n        onClick: () => this.bookAppointment(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"31\",\n        height: \"30\",\n        viewBox: \"0 0 31 30\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 73\n        }\n      }, /*#__PURE__*/React.createElement(\"rect\", {\n        width: \"31\",\n        height: \"30\",\n        fill: \"#F9F9F9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 77\n        }\n      }), /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M15 8V22\",\n        stroke: \"#848484\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 77\n        }\n      }), /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M8 15H22\",\n        stroke: \"#848484\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 77\n        }\n      }))), \"Book Appointment\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-cancel-schedule px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 119\n        }\n      }), \" Cancel Appointment \"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 139\n        }\n      }))));\n    }) : \"\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomer,\n    updateForm\n  }, dispatch);\n};\n\nexport const ListCustomer = connect(mapStateToProps, mapDispatchToProps)(ListCustomerClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Customer/ListCustomer/index.js"],"names":["React","NormalButton","NormalSelect","InputSearch","TableWrapper","filter","getCustomer","updateForm","connect","bindActionCreators","_","ListCustomerClass","Component","state","headerDetails","label","sortKey","customerList","meta","active","currentIndex","componentDidMount","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","data","page","limit","search","props","then","res","console","log","dataList","pagination","handlePagination","handlesearch","event","value","persist","debouncedFn","debounce","searchString","bookAppointment","formFields","id","cust_name","history","push","render","map","item","index","cardno1","cardno2","cardno3","cardno4","cardno5","cust_phone2","mapStateToProps","mapDispatchToProps","dispatch","ListCustomer"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { NormalButton, NormalSelect } from 'component/common';\r\nimport { InputSearch, TableWrapper } from 'component/common';\r\nimport filter from \"../../../../assets/images/filter.png\";\r\nimport './style.scss'\r\nimport { getCustomer } from 'redux/actions/customer';\r\nimport { updateForm } from 'redux/actions/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from 'lodash';\r\n\r\nexport class ListCustomerClass extends React.Component {\r\n    state = {\r\n        headerDetails: [\r\n            { label: 'Customer Name', sortKey: \"customerName\" },\r\n            { label: 'Contact Number' },\r\n            { label: 'Card No1' },\r\n            { label: 'Card No2' },\r\n            { label: 'Card No3' },\r\n            { label: 'Card No4' },\r\n            { label: 'Card No5' },\r\n            { label: '' }\r\n        ],\r\n        customerList: [],\r\n        meta: {},\r\n        active: false,\r\n        currentIndex: -1,\r\n    }\r\n    // handleClick = (key,active) => {\r\n    //     let currentIndex;\r\n    //     if (this.state.active == true) {\r\n    //         this.setState({\r\n    //             active: false,\r\n    //             currentIndex: '-1'\r\n    //         })\r\n    //     }\r\n    //     else {\r\n    //         this.setState({\r\n    //             active: active,\r\n    //             currentIndex: key\r\n    //         })\r\n    //     }\r\n    // }\r\n\r\n    componentDidMount = () => {\r\n        this.getCustomer({});\r\n    }\r\n\r\n    handleClick = (key) => {\r\n        if (!this.state.active) {\r\n            document.addEventListener('click', this.handleOutsideClick, false);\r\n        } else {\r\n            document.removeEventListener('click', this.handleOutsideClick, false);\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n            active: !prevState.active,\r\n            currentIndex: key\r\n        }));\r\n    }\r\n\r\n    handleOutsideClick = (e) => {\r\n        if (this.node != null) {\r\n            if (this.node.contains(e.target)) {\r\n                return;\r\n            }\r\n        }\r\n        this.handleClick();\r\n    }\r\n\r\n    getCustomer = (data) => {\r\n        let { page = 1, limit = 10, search = \"\" } = data\r\n        this.props.getCustomer(`?page=${page}&limit=${limit}&search=${search}`).then((res) => {\r\n            console.log(res, \"dsfdfaafg\")\r\n            this.setState({ customerList: res.data.dataList, meta: res.data.meta.pagination })\r\n        })\r\n    }\r\n\r\n    handlePagination = (page) => {\r\n        console.log(page, \"dsfsdfsdfsdf\")\r\n        this.getCustomer(page)\r\n    }\r\n\r\n    handlesearch = (event) => {\r\n        console.log(\"sadfasdfasdf\", event.target.value)\r\n        event.persist();\r\n\r\n        if (!this.debouncedFn) {\r\n            this.debouncedFn = _.debounce(() => {\r\n                let searchString = event.target.value;\r\n                let data = { search: searchString }\r\n                this.getCustomer(data)\r\n            }, 500);\r\n        }\r\n        this.debouncedFn();\r\n    }\r\n\r\n    bookAppointment = async (data) => {\r\n        let formFields = {};\r\n        formFields[\"custId\"] = data.id;\r\n        formFields[\"custName\"] = data.cust_name;\r\n        await this.props.updateForm('basicApptDetail', formFields)\r\n        this.props.history.push(`/admin/appointment`);\r\n    }\r\n\r\n    render() {\r\n        let { headerDetails, customerList, meta, currentIndex, active } = this.state\r\n        return (\r\n            <>\r\n                <div className=\"customer-list container\">\r\n                    <div className=\"row align-items-center\">\r\n                        <div className=\"col-md-6\">\r\n                            <h3 className=\"head-label\">Customer</h3>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"d-flex\">\r\n                                <div className=\"w-100 mr-5\">\r\n                                    <InputSearch\r\n                                        className=\"\"\r\n                                        placeholder='Search Customer'\r\n                                        onChange={this.handlesearch} />\r\n                                </div>\r\n                                <div className=\"w-100 col-4 p-0\">\r\n                                    <NormalButton\r\n                                        mainbg={true}\r\n                                        className=\"col-12 fs-15 float-right\"\r\n                                        label=\"Add Customer\"\r\n                                        onClick={() => this.props.history.push('/admin/customer/add')}\r\n                                    />\r\n                                </div>\r\n                                {/* <div className=\"bg-white ml-5 filter-icon filter-section\" onClick={() => { this.handleClick('filter') }}>\r\n                                    <img src={filter} alt=\"\" />\r\n                                    {currentIndex === 'filter' &&\r\n                                        <>\r\n                                            <div className=\"filter-category\">\r\n                                                <p className=\"subcategory\">Available today</p>\r\n                                                <p className=\"subcategory\">Unavailable today</p>\r\n                                                <p className=\"subcategory\">Morning shift</p>\r\n                                                <p className=\"subcategory\">Evening shift</p>\r\n                                            </div>\r\n                                        </>\r\n                                    }\r\n                                </div> */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className=\"filter-by\">\r\n                        <p className=\"head\">Filter</p>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-3\">\r\n                                <div>\r\n                                    <label className=\"label\">Location</label>\r\n                                    <div className=\"input-group\">\r\n                                        <NormalSelect\r\n                                            placeholder=\"Masseuse\"\r\n                                            // options={treatmentOption}\r\n                                            // value={treatment}\r\n                                            iconname=\"icon-down-key\"\r\n                                            name=\"treatment\"\r\n                                            onChange={this.handleChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                                <div>\r\n                                    <label className=\"label\">Service</label>\r\n                                    <div className=\"input-group\">\r\n                                        <NormalSelect\r\n                                            placeholder=\"Select department\"\r\n                                            // options={treatmentOption}\r\n                                            // value={treatment}\r\n                                            iconname=\"icon-down-key\"\r\n                                            name=\"treatment\"\r\n                                            onChange={this.handleChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                                <div>\r\n                                    <label className=\"label\">Date</label>\r\n                                    <div className=\"input-group\">\r\n                                        <NormalSelect\r\n                                            placeholder=\"Select date\"\r\n                                            // options={treatmentOption}\r\n                                            // value={treatment}\r\n                                            iconname=\"icon-down-key\"\r\n                                            name=\"treatment\"\r\n                                            onChange={this.handleChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div> */}\r\n\r\n                    <div className=\"tab-table-content\">\r\n                        <div className=\"py-4\">\r\n                            <div className=\"table-container\">\r\n                                <TableWrapper\r\n                                    headerDetails={headerDetails}\r\n                                    queryHandler={this.handlePagination}\r\n                                    pageMeta={meta}\r\n                                >\r\n\r\n                                    {customerList ? customerList.map((item, index) => {\r\n\r\n                                        let {\r\n                                            id,\r\n                                            cust_name,\r\n                                            cardno1,\r\n                                            cardno2,\r\n                                            cardno3,\r\n                                            cardno4,\r\n                                            cardno5,\r\n                                            cust_phone2\r\n                                        } = item\r\n                                        return (\r\n                                            <tr key={index}>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cust_name}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cust_phone2}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cardno1}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cardno2}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cardno3}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cardno4}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{cardno5}</div></td>\r\n                                                <td className=\"position-relative\" ref={node => { this.node = node; }}\r\n                                                    onClick={() => this.handleClick(index)}\r\n                                                >\r\n\r\n                                                    {currentIndex === index ?\r\n                                                        <>\r\n                                                            <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\"><i className=\"icon-more\"></i></div>\r\n                                                            <div className=\"option card\">\r\n                                                                <div className=\"d-flex align-items-center fs-16 pt-3\" onClick={() => this.props.history.push(`/admin/customer/${id}/details`)}><span className=\"icon-eye-grey px-3\"></span> View </div>\r\n                                                                <div className=\"d-flex align-items-center fs-16\" ><span className=\"icon-schedule px-3\"></span> Reschedule Appointment </div>\r\n                                                                <div className=\"d-flex align-items-center fs-16\" onClick={() => this.bookAppointment(item)}>\r\n                                                                    <span className=\"px-2\">\r\n                                                                        <svg width=\"31\" height=\"30\" viewBox=\"0 0 31 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                                            <rect width=\"31\" height=\"30\" fill=\"#F9F9F9\" />\r\n                                                                            <path d=\"M15 8V22\" stroke=\"#848484\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                                                                            <path d=\"M8 15H22\" stroke=\"#848484\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                                                                        </svg>\r\n                                                                    </span>\r\n                                                                    Book Appointment\r\n                                                                </div>\r\n                                                                <div className=\"d-flex align-items-center fs-16 pb-3\"><span className=\"icon-cancel-schedule px-3\"></span> Cancel Appointment </div>\r\n                                                            </div>\r\n                                                        </>\r\n                                                        :\r\n                                                        <div className=\"d-flex align-items-center justify-content-center horizontal-more\"><i className=\"icon-more\"></i></div>\r\n                                                    }\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) : \"\"}\r\n\r\n                                </TableWrapper>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // filter: state.dashboard\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        getCustomer,\r\n        updateForm\r\n    }, dispatch)\r\n}\r\n\r\nexport const ListCustomer = connect(mapStateToProps, mapDispatchToProps)(ListCustomerClass)"]},"metadata":{},"sourceType":"module"}