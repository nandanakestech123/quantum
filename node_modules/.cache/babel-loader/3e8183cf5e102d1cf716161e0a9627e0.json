{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{NormalButton}from\"component/common\";import{InputSearch}from\"component/common\";// import Modal from '../../../../assets/images/modal-avatar.png';\nimport\"./style.scss\";import{getStaffAvailability}from\"redux/actions/staff\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import _ from\"lodash\";import{withTranslation}from\"react-i18next\";export var StaffPlusAvailabilityClass=/*#__PURE__*/function(_React$Component){_inherits(StaffPlusAvailabilityClass,_React$Component);var _super=_createSuper(StaffPlusAvailabilityClass);function StaffPlusAvailabilityClass(){var _this;_classCallCheck(this,StaffPlusAvailabilityClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[],dateArray:[],timeAvailable:[],workSchedule:[{label:\"No.Of Days Worked\",data1:\"7\",data2:\"7\",data3:\"7\",data4:\"7\",data5:\"7\",data6:\"7\",data7:\"7\",data8:\"7\",data9:\"7\"},{label:\"Hours Worked\",data1:\"84.5\",data2:\"84.5\",data3:\"84.5\",data4:\"84.5\",data5:\"84.5\",data6:\"84.5\",data7:\"84.5\",data8:\"84.5\",data9:\"84.5\"},{label:\"Late Entry\",data1:\"0\",data2:\"0\",data3:\"0\",data4:\"0\",data5:\"0\",data6:\"0\",data7:\"0\",data8:\"0\",data9:\"0\"},{label:\"Overtime Hours\",data1:\"0.5\",data2:\"0.5\",data3:\"0.5\",data4:\"0.5\",data5:\"0.5\",data6:\"0.5\",data7:\"0.5\",data8:\"0.5\",data9:\"0.5\"},{label:\"Early Release\",data1:\"0\",data2:\"0\",data3:\"0\",data4:\"0\",data5:\"0\",data6:\"0\",data7:\"0\",data8:\"0\",data9:\"0\"}],data:[]};_this.queryHandler=function(data){var _data$page=data.page,page=_data$page===void 0?1:_data$page,_data$limit=data.limit,limit=_data$limit===void 0?10:_data$limit,_data$search=data.search,search=_data$search===void 0?\"\":_data$search;var _this$state=_this.state,headerDetails=_this$state.headerDetails,dateArray=_this$state.dateArray,timeAvailable=_this$state.timeAvailable;_this.props.getStaffAvailability(\"?page=\".concat(page,\"&limit=\").concat(limit,\"&search=\").concat(search)).then(function(res){console.log(res,\"dsfdfaafg\",Object.keys(res.data.dataList[0])[0]);_this.setState({data:res.data.dataList});var _iterator=_createForOfIteratorHelper(res.data.dataList[0][Object.keys(res.data.dataList[0])[0]]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _key3=_step.value;headerDetails.push({avatar:_key3.emp_img,name:_key3.emp_name});_this.setState({headerDetails:headerDetails});}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var _i=0,_Object$keys=Object.keys(res.data.dataList[0]);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];dateArray.push({date:key});_this.setState({dateArray:dateArray});}for(var _i2=0,_Object$keys2=Object.keys(res.data.dataList[0]);_i2<_Object$keys2.length;_i2++){var _key2=_Object$keys2[_i2];console.log(_key2,\"kasdfiuashdf\",res.data.dataList[0][_key2]);timeAvailable.push(res.data.dataList[0][_key2]);_this.setState({timeAvailable:timeAvailable});}});};_this.handlePagination=function(page){_this.queryHandler(page);};_this.handlesearch=function(event){event.persist();if(!_this.debouncedFn){_this.debouncedFn=_.debounce(function(){var searchString=event.target.value;var data={search:searchString};_this.queryHandler(data);},500);}_this.debouncedFn();};return _this;}_createClass(StaffPlusAvailabilityClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.queryHandler({});}// get api call for staff availability\n},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,headerDetails=_this$state2.headerDetails,dateArray=_this$state2.dateArray,workSchedule=_this$state2.workSchedule,timeAvailable=_this$state2.timeAvailable;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"staff-availability container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 detail\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\",onClick:function onClick(){return _this2.props.history.push(\"/admin/staffplus\");}},t(\"Staff\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"Staffs  Availability\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-container\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Staff\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-4 ml-md-4 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 float-right\",label:\"Add Staff\",onClick:function onClick(){return _this2.props.history.push(\"/admin/staffplus/add\");}}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"maintable table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"maintable-content table-responsive \"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"date-title\"},/*#__PURE__*/React.createElement(\"div\",null,t(\"Date\"))),headerDetails&&headerDetails.map(function(_ref,index){var avatar=_ref.avatar,name=_ref.name;return/*#__PURE__*/React.createElement(\"th\",{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"table-head-available\"},/*#__PURE__*/React.createElement(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,name,\" \")));}))),/*#__PURE__*/React.createElement(\"tbody\",null,dateArray&&dateArray.map(function(data,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"date-available ml-3\"},data.date),/*#__PURE__*/React.createElement(\"div\",{className:\"in-out\"},/*#__PURE__*/React.createElement(\"p\",null,t(\"In\")),/*#__PURE__*/React.createElement(\"p\",null,t(\"Out\")))),console.log(timeAvailable,\"lskjdflkjpodf\",index),timeAvailable.length>index?timeAvailable[index].map(function(value,key){return/*#__PURE__*/React.createElement(\"td\",{key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"data-available\"},value.in_val),/*#__PURE__*/React.createElement(\"div\",{className:\"data-available\"},value.out_val));}):\"\");})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-container work-schedule\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,workSchedule&&workSchedule.map(function(data,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"label\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.label)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data1)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data2)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data3)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data4)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data5)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data6)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data7)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data8)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data9)));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"palette\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},t(\"Late entry\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color OT\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},t(\"Overtime\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color early\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},t(\"Early release\"))))));}}]);return StaffPlusAvailabilityClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{// filter: state.dashboard\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getStaffAvailability:getStaffAvailability},dispatch);};export var StaffPlusAvailability=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(StaffPlusAvailabilityClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/StaffPlusAvailability/index.js"],"names":["React","NormalButton","InputSearch","getStaffAvailability","connect","bindActionCreators","_","withTranslation","StaffPlusAvailabilityClass","state","headerDetails","dateArray","timeAvailable","workSchedule","label","data1","data2","data3","data4","data5","data6","data7","data8","data9","data","queryHandler","page","limit","search","props","then","res","console","log","Object","keys","dataList","setState","key","push","avatar","emp_img","name","emp_name","date","handlePagination","handlesearch","event","persist","debouncedFn","debounce","searchString","target","value","t","history","handleChange","map","index","length","in_val","out_val","Component","mapStateToProps","mapDispatchToProps","dispatch","StaffPlusAvailability"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton } from \"component/common\";\r\nimport { InputSearch } from \"component/common\";\r\n// import Modal from '../../../../assets/images/modal-avatar.png';\r\nimport \"./style.scss\";\r\nimport { getStaffAvailability } from \"redux/actions/staff\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from \"lodash\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class StaffPlusAvailabilityClass extends React.Component {\r\n  state = {\r\n    headerDetails: [],\r\n    dateArray: [],\r\n    timeAvailable: [],\r\n    workSchedule: [\r\n      {\r\n        label: \"No.Of Days Worked\",\r\n        data1: \"7\",\r\n        data2: \"7\",\r\n        data3: \"7\",\r\n        data4: \"7\",\r\n        data5: \"7\",\r\n        data6: \"7\",\r\n        data7: \"7\",\r\n        data8: \"7\",\r\n        data9: \"7\",\r\n      },\r\n      {\r\n        label: \"Hours Worked\",\r\n        data1: \"84.5\",\r\n        data2: \"84.5\",\r\n        data3: \"84.5\",\r\n        data4: \"84.5\",\r\n        data5: \"84.5\",\r\n        data6: \"84.5\",\r\n        data7: \"84.5\",\r\n        data8: \"84.5\",\r\n        data9: \"84.5\",\r\n      },\r\n      {\r\n        label: \"Late Entry\",\r\n        data1: \"0\",\r\n        data2: \"0\",\r\n        data3: \"0\",\r\n        data4: \"0\",\r\n        data5: \"0\",\r\n        data6: \"0\",\r\n        data7: \"0\",\r\n        data8: \"0\",\r\n        data9: \"0\",\r\n      },\r\n      {\r\n        label: \"Overtime Hours\",\r\n        data1: \"0.5\",\r\n        data2: \"0.5\",\r\n        data3: \"0.5\",\r\n        data4: \"0.5\",\r\n        data5: \"0.5\",\r\n        data6: \"0.5\",\r\n        data7: \"0.5\",\r\n        data8: \"0.5\",\r\n        data9: \"0.5\",\r\n      },\r\n      {\r\n        label: \"Early Release\",\r\n        data1: \"0\",\r\n        data2: \"0\",\r\n        data3: \"0\",\r\n        data4: \"0\",\r\n        data5: \"0\",\r\n        data6: \"0\",\r\n        data7: \"0\",\r\n        data8: \"0\",\r\n        data9: \"0\",\r\n      },\r\n    ],\r\n    data: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // get api call for staff availability\r\n  queryHandler = data => {\r\n    let { page = 1, limit = 10, search = \"\" } = data;\r\n    let { headerDetails, dateArray, timeAvailable } = this.state;\r\n    this.props\r\n      .getStaffAvailability(`?page=${page}&limit=${limit}&search=${search}`)\r\n      .then(res => {\r\n        console.log(res, \"dsfdfaafg\", Object.keys(res.data.dataList[0])[0]);\r\n        this.setState({ data: res.data.dataList });\r\n        for (let key of res.data.dataList[0][\r\n          Object.keys(res.data.dataList[0])[0]\r\n        ]) {\r\n          headerDetails.push({ avatar: key.emp_img, name: key.emp_name });\r\n          this.setState({ headerDetails });\r\n        }\r\n\r\n        for (let key of Object.keys(res.data.dataList[0])) {\r\n          dateArray.push({ date: key });\r\n          this.setState({ dateArray });\r\n        }\r\n        for (let key of Object.keys(res.data.dataList[0])) {\r\n          console.log(key, \"kasdfiuashdf\", res.data.dataList[0][key]);\r\n          timeAvailable.push(res.data.dataList[0][key]);\r\n          this.setState({ timeAvailable });\r\n        }\r\n      });\r\n  };\r\n\r\n  // pagianation\r\n  handlePagination = page => {\r\n    this.queryHandler(page);\r\n  };\r\n\r\n  // search api call and change field\r\n  handlesearch = event => {\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString };\r\n        this.queryHandler(data);\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  render() {\r\n    let { headerDetails, dateArray, workSchedule, timeAvailable } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"staff-availability container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-7 detail\">\r\n              {/* <div className=\"detail\"> */}\r\n              <p\r\n                className=\"category\"\r\n                onClick={() => this.props.history.push(\"/admin/staffplus\")}\r\n              >\r\n                {t(\"Staff\")}\r\n              </p>\r\n              <i className=\"icon-right mx-md-3\"></i>\r\n              <p className=\"sub-category\">{t(\"Staffs  Availability\")}</p>\r\n              {/* </div> */}\r\n            </div>\r\n            <div className=\"col-md-5\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div className=\"input-container\">\r\n                  <InputSearch\r\n                    className=\"\"\r\n                    placeholder=\"Search Staff\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"w-100 col-4 ml-md-4 p-0\">\r\n                  <NormalButton\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15 float-right\"\r\n                    label=\"Add Staff\"\r\n                    onClick={() =>\r\n                      this.props.history.push(\"/admin/staffplus/add\")\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"tab-table-content\">\r\n            <div className=\"py-4\">\r\n              <div className=\"table-container\">\r\n                <div className=\"maintable table-container\">\r\n                  <div className=\"maintable-content table-responsive \">\r\n                    <table className=\"table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th className=\"date-title\">\r\n                            <div>{t(\"Date\")}</div>\r\n                          </th>\r\n                          {headerDetails &&\r\n                            headerDetails.map(({ avatar, name }, index) => (\r\n                              <th key={index}>\r\n                                <div className=\"table-head-available\">\r\n                                  <img src={avatar} alt=\"\" />\r\n                                  <p>{name} </p>\r\n                                </div>\r\n                              </th>\r\n                            ))}\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dateArray &&\r\n                          dateArray.map((data, index) => (\r\n                            <tr>\r\n                              <td className=\"d-flex align-items-center justify-content-between\">\r\n                                <div className=\"date-available ml-3\">\r\n                                  {data.date}\r\n                                </div>\r\n                                <div className=\"in-out\">\r\n                                  <p>{t(\"In\")}</p>\r\n                                  <p>{t(\"Out\")}</p>\r\n                                </div>\r\n                              </td>\r\n                              {console.log(\r\n                                timeAvailable,\r\n                                \"lskjdflkjpodf\",\r\n                                index\r\n                              )}\r\n                              {timeAvailable.length > index\r\n                                ? timeAvailable[index].map((value, key) => (\r\n                                    <td key={key}>\r\n                                      <div className=\"data-available\">\r\n                                        {value.in_val}\r\n                                      </div>\r\n                                      <div className=\"data-available\">\r\n                                        {value.out_val}\r\n                                      </div>\r\n                                    </td>\r\n                                  ))\r\n                                : \"\"}\r\n                            </tr>\r\n                          ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"table-container work-schedule\">\r\n            <table className=\"table\">\r\n              <tbody>\r\n                {workSchedule &&\r\n                  workSchedule.map((data, index) => (\r\n                    <tr>\r\n                      <td className=\"label\">\r\n                        <div className=\"\">{data.label}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data1}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data2}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data3}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data4}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data5}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data6}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data7}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data8}</div>\r\n                      </td>\r\n                      <td className=\"data\">\r\n                        <div className=\"\">{data.data9}</div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"palette\">\r\n            <div className=\"color-detail\">\r\n              <div className=\"color\"></div>\r\n              <div className=\"detail\">{t(\"Late entry\")}</div>\r\n            </div>\r\n            <div className=\"color-detail\">\r\n              <div className=\"color OT\"></div>\r\n              <div className=\"detail\">{t(\"Overtime\")}</div>\r\n            </div>\r\n            <div className=\"color-detail\">\r\n              <div className=\"color early\"></div>\r\n              <div className=\"detail\">{t(\"Early release\")}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getStaffAvailability,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const StaffPlusAvailability = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(StaffPlusAvailabilityClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}