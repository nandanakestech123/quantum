{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\CustomerPlusSettings\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton, NormalInput, NormalSelect } from \"component/common\";\nimport { getCustomerPlusSettings, updateCustomerPlusSettings } from \"redux/actions/customerPlus\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nexport class SettingsClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataList: [],\n      originalData: [],\n      tableHeader: [{\n        label: \"Field Name\",\n        sortKey: \"display_field_name\",\n        width: 220\n      }, {\n        label: \"Mandatory\",\n        sortKey: \"mandatory\"\n      }, {\n        label: \"Show in Register\",\n        sortKey: \"visible_in_registration\"\n      }, {\n        label: \"Show in Profile\",\n        sortKey: \"visible_in_profile\"\n      }, {\n        label: \"Show in Listing\",\n        sortKey: \"visible_in_listing\"\n      }, {\n        label: \"Show Label\",\n        sortKey: \"showLabel\"\n      }],\n      isLoading: true,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleSearch = event => {\n      let {\n        originalData,\n        dataList\n      } = this.state;\n      dataList = originalData.filter(e => e.display_field_name.toLocaleLowerCase().includes(event.target.value.toLocaleLowerCase()) || e.field_name.toLocaleLowerCase().includes(event.target.value.toLocaleLowerCase()));\n      this.updateState({\n        dataList\n      });\n    };\n\n    this.loadData = async () => {\n      this.updateState({\n        isLoading: true\n      });\n      await this.props.getCustomerPlusSettings();\n      let {\n        dataList\n      } = this.props;\n      this.updateState({\n        dataList,\n        originalData: dataList,\n        isLoading: false\n      });\n    };\n\n    this.handleSubmit = async () => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        dataList\n      } = this.state;\n      if (dataList.length == 0) return;\n      let reqData = {\n        customerControlList: dataList\n      };\n      await this.props.updateCustomerPlusSettings(JSON.stringify(reqData));\n      this.loadData();\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    let {\n      dataList,\n      tableHeader,\n      isLoading\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, t(\"Customer Plus Settings\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Field\",\n      onChange: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-3 p-0 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/customerplus/settings/layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Edit Layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-3 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Save\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: tableHeader,\n      queryHandler: this.handlePagination,\n      parentHeaderChange: value => this.updateState(() => tableHeader = value),\n      sortData: this.state.originalData,\n      onSort: list => this.updateState({\n        dataList: list\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Loading...\"))))) : dataList ? dataList.map((item, index) => {\n      var _tableHeader$0$enable, _tableHeader$3$enable, _tableHeader$3$enable2, _tableHeader$3$enable3, _tableHeader$3$enable4, _tableHeader$3$enable5;\n\n      let {\n        display_field_name,\n        visible_in_profile,\n        visible_in_listing,\n        mandatory,\n        visible_in_registration,\n        showLabel\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$0$enable = tableHeader[0].enabled) !== null && _tableHeader$0$enable !== void 0 ? _tableHeader$0$enable : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-slef-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }, display_field_name)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable = tableHeader[3].enabled) !== null && _tableHeader$3$enable !== void 0 ? _tableHeader$3$enable : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: mandatory,\n        onClick: () => {\n          dataList[index].mandatory = !mandatory;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable2 = tableHeader[3].enabled) !== null && _tableHeader$3$enable2 !== void 0 ? _tableHeader$3$enable2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_registration,\n        onClick: () => {\n          dataList[index].visible_in_registration = !visible_in_registration;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable3 = tableHeader[3].enabled) !== null && _tableHeader$3$enable3 !== void 0 ? _tableHeader$3$enable3 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_profile,\n        onClick: () => {\n          dataList[index].visible_in_profile = !visible_in_profile;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable4 = tableHeader[3].enabled) !== null && _tableHeader$3$enable4 !== void 0 ? _tableHeader$3$enable4 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_listing,\n        onClick: () => {\n          dataList[index].visible_in_listing = !visible_in_listing;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable5 = tableHeader[3].enabled) !== null && _tableHeader$3$enable5 !== void 0 ? _tableHeader$3$enable5 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: showLabel,\n        onClick: () => {\n          dataList[index].showLabel = !showLabel;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 27\n        }\n      }))));\n    }) : \"\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  dataList: state.customerPlus.customerPlusSettings\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomerPlusSettings,\n    updateCustomerPlusSettings\n  }, dispatch);\n};\n\nexport const Settings = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(SettingsClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerPlusSettings/index.js"],"names":["React","NormalButton","NormalInput","NormalSelect","getCustomerPlusSettings","updateCustomerPlusSettings","InputSearch","TableWrapper","connect","bindActionCreators","withTranslation","Link","SettingsClass","Component","state","dataList","originalData","tableHeader","label","sortKey","width","isLoading","isMounted","updateState","data","setState","handleSearch","event","filter","e","display_field_name","toLocaleLowerCase","includes","target","value","field_name","loadData","props","handleSubmit","length","reqData","customerControlList","JSON","stringify","componentWillUnmount","componentDidMount","render","t","handlePagination","list","map","item","index","visible_in_profile","visible_in_listing","mandatory","visible_in_registration","showLabel","enabled","mapStateToProps","customerPlus","customerPlusSettings","mapDispatchToProps","dispatch","Settings"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton, NormalInput, NormalSelect } from \"component/common\";\nimport {\n  getCustomerPlusSettings,\n  updateCustomerPlusSettings,\n} from \"redux/actions/customerPlus\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nexport class SettingsClass extends React.Component {\n  state = {\n    dataList: [],\n    originalData: [],\n    tableHeader: [\n      { label: \"Field Name\", sortKey: \"display_field_name\", width: 220 },\n      { label: \"Mandatory\", sortKey: \"mandatory\" },\n      { label: \"Show in Register\", sortKey: \"visible_in_registration\" },\n      { label: \"Show in Profile\", sortKey: \"visible_in_profile\" },\n      { label: \"Show in Listing\", sortKey: \"visible_in_listing\" },\n      { label: \"Show Label\", sortKey: \"showLabel\" },\n    ],\n    isLoading: true,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  handleSearch = (event) => {\n    let { originalData, dataList } = this.state;\n    dataList = originalData.filter(\n      (e) =>\n        e.display_field_name\n          .toLocaleLowerCase()\n          .includes(event.target.value.toLocaleLowerCase()) ||\n        e.field_name\n          .toLocaleLowerCase()\n          .includes(event.target.value.toLocaleLowerCase())\n    );\n    this.updateState({ dataList });\n  };\n\n  loadData = async () => {\n    this.updateState({ isLoading: true });\n    await this.props.getCustomerPlusSettings();\n    let { dataList } = this.props;\n    this.updateState({ dataList, originalData: dataList, isLoading: false });\n  };\n\n  handleSubmit = async () => {\n    this.updateState({ isLoading: true });\n    let { dataList } = this.state;\n    if (dataList.length == 0) return;\n    let reqData = { customerControlList: dataList };\n    await this.props.updateCustomerPlusSettings(JSON.stringify(reqData));\n    this.loadData();\n  };\n\n  render() {\n    let { dataList, tableHeader, isLoading } = this.state;\n    let { t } = this.props;\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"col-md-12 mb-4 p-0\">\n          <h3 className=\"head-label\">{t(\"Customer Plus Settings\")}</h3>\n        </div>\n        <div className=\"row align-items-center mb-4\">\n          <div className=\"col\">\n            <div className=\"d-flex\">\n              <div className=\"w-100 mr-5\">\n                <InputSearch\n                  className=\"\"\n                  placeholder=\"Search Field\"\n                  onChange={this.handleSearch}\n                />\n              </div>\n              <div className=\"w-100 col-3 p-0 mr-2\">\n                <Link to=\"/admin/customerplus/settings/layout\">\n                  <NormalButton\n                    mainbg={true}\n                    className=\"col-12 fs-15 float-right\"\n                    label=\"Edit Layout\"\n                  />\n                </Link>\n              </div>\n              <div className=\"w-100 col-3 p-0\">\n                <NormalButton\n                  mainbg={true}\n                  className=\"col-12 fs-15 float-right\"\n                  label=\"Save\"\n                  onClick={this.handleSubmit}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"table-responsive\">\n          <div className=\"table-container\">\n            <TableWrapper\n              headerDetails={tableHeader}\n              queryHandler={this.handlePagination}\n              parentHeaderChange={(value) =>\n                this.updateState(() => (tableHeader = value))\n              }\n              sortData={this.state.originalData}\n              onSort={(list) => this.updateState({ dataList: list })}\n            >\n              {isLoading ? (\n                <tr>\n                  <td colSpan=\"7\">\n                    <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                      <div class=\"spinner-border\" role=\"status\">\n                        <span class=\"sr-only\">Loading...</span>\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              ) : dataList ? (\n                dataList.map((item, index) => {\n                  let {\n                    display_field_name,\n                    visible_in_profile,\n                    visible_in_listing,\n                    mandatory,\n                    visible_in_registration,\n                    showLabel,\n                  } = item;\n                  return (\n                    <tr key={index}>\n                      <td\n                        className={\n                          tableHeader[0].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-slef-start\">\n                          {display_field_name}\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={mandatory}\n                            onClick={() => {\n                              dataList[index].mandatory = !mandatory;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={visible_in_registration}\n                            onClick={() => {\n                              dataList[index].visible_in_registration =\n                                !visible_in_registration;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={visible_in_profile}\n                            onClick={() => {\n                              dataList[index].visible_in_profile =\n                                !visible_in_profile;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={visible_in_listing}\n                            onClick={() => {\n                              dataList[index].visible_in_listing =\n                                !visible_in_listing;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={showLabel}\n                            onClick={() => {\n                              dataList[index].showLabel = !showLabel;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                \"\"\n              )}\n            </TableWrapper>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  dataList: state.customerPlus.customerPlusSettings,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getCustomerPlusSettings,\n      updateCustomerPlusSettings,\n    },\n    dispatch\n  );\n};\n\nexport const Settings = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(SettingsClass)\n);\n"]},"metadata":{},"sourceType":"module"}