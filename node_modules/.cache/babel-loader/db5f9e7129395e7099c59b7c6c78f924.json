{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Navigation}from\"react-minimal-side-navigation\";import{getJobtitle,getCommonApi}from\"redux/actions/common\";import{getStaffPlus,getStaffSchedule,getAllEmpSchedule,updateStaffPlusSchedule}from\"redux/actions/staffPlus\";import{NormalSelect,NormalInput,Pagination,NormalButton}from\"component/common\";import{ScheduleTable}from\"./SheduleTable\";import{CalenderTable}from\"./CalenderTable\";import{BigCalander}from\"./BigCalander\";import{withTranslation}from\"react-i18next\";var StaffScheduleClass=/*#__PURE__*/function(_React$Component){_inherits(StaffScheduleClass,_React$Component);var _super=_createSuper(StaffScheduleClass);function StaffScheduleClass(){var _this;_classCallCheck(this,StaffScheduleClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_defineProperty({currentMenu:\"/indi\",startMonth:new Date(),endMonth:new Date(),selectedMonth:new Date(),fullScheduleMonth:new Date(),formFields:{ws:[],ws_id:\"\",altws:[],altws_id:\"\",cal_data:[],status:\"All\",staff_data:[]},pageMeta:{},jobOption_selected:\"\",jobOption:[],staffList_selected:\"\",staffList:[],siteOptions:[],filteredSiteOptions:[],selected_site:\"\",fullSchedule_selected_site:\"\",isLoading:true,isMounted:true,scheduleOptions:[]},\"isMounted\",true);_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getDatafromStore=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var scheduleRes,siteRes,jobtitleList,_this$state2,jobOption,jobOption_selected,siteOptions,filteredSiteOptions,scheduleOptions,_iterator,_step,key,_iterator2,_step2,_key2,_iterator3,_step3,_key3;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.getJobtitle();case 2:_context.next=4;return _this.props.getCommonApi(\"WorkScheduleHours/\");case 4:scheduleRes=_context.sent;_context.next=7;return _this.props.getCommonApi(\"branchlist/\");case 7:siteRes=_context.sent;jobtitleList=_this.props.jobtitleList;_this$state2=_this.state,jobOption=_this$state2.jobOption,jobOption_selected=_this$state2.jobOption_selected,siteOptions=_this$state2.siteOptions,filteredSiteOptions=_this$state2.filteredSiteOptions,scheduleOptions=_this$state2.scheduleOptions;_iterator=_createForOfIteratorHelper(jobtitleList);try{for(_iterator.s();!(_step=_iterator.n()).done;){key=_step.value;jobOption.push({label:key.level_desc,value:key.id});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_iterator2=_createForOfIteratorHelper(siteRes.data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_key2=_step2.value;siteOptions.push({value:_key2.itemsite_code,label:_key2.itemsite_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_iterator3=_createForOfIteratorHelper(scheduleRes.schedules);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_key3=_step3.value;scheduleOptions.push({id:_key3.id,value:_key3.itm_code,label:_key3.itm_desc,color:_key3.itm_color,shortDesc:_key3.shortDesc});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.updateState({jobOption:jobOption,jobOption_selected:jobOption_selected,siteOptions:siteOptions,filteredSiteOptions:filteredSiteOptions,scheduleOptions:scheduleOptions,isLoading:false});case 17:case\"end\":return _context.stop();}}},_callee);}));_this.updateStaffList=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state3,staffList,staffList_selected,formFields,selected_site,staffPlusDetail;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.updateState({isLoading:true});_this$state3=_this.state,staffList=_this$state3.staffList,staffList_selected=_this$state3.staffList_selected,formFields=_this$state3.formFields,selected_site=_this$state3.selected_site;formFields.ws=[];formFields.altws=[];formFields.cal_data=[];formFields.staff_data=[];staffList_selected=\"\";selected_site=\"\";staffList=[];if(!(_this.state.jobOption_selected!=\"\")){_context2.next=14;break;}_context2.next=12;return _this.props.getStaffPlus(\"?limit=100&EMP_TYPEid=\".concat(_this.state.jobOption_selected));case 12:staffPlusDetail=_this.props.staffPlusDetail;staffPlusDetail.dataList.forEach(function(key){staffList.push({label:key.emp_name,value:key.emp_code,sites:key.site_list.map(function(e){return e.site_code;})});});case 14:_this.updateState({staffList:staffList,formFields:formFields,staffList_selected:staffList_selected,selected_site:selected_site,isLoading:false});case 15:case\"end\":return _context2.stop();}}},_callee2);}));_this.updateSiteList=function(){var _this$state4=_this.state,staffList_selected=_this$state4.staffList_selected,staffList=_this$state4.staffList,filteredSiteOptions=_this$state4.filteredSiteOptions,siteOptions=_this$state4.siteOptions,selected_site=_this$state4.selected_site,formFields=_this$state4.formFields;selected_site=\"\";formFields.ws=[];formFields.altws=[];formFields.cal_data=[];filteredSiteOptions=[];var selected=staffList.find(function(e){return e.value==staffList_selected;});filteredSiteOptions=siteOptions.filter(function(e){return selected.sites.some(function(val){return val==e.value;});});_this.updateState({filteredSiteOptions:filteredSiteOptions,formFields:formFields,selected_site:selected_site});};_this.getScheduleData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$state5,startMonth,endMonth,jobOption_selected,selected_site,staffList_selected,formFields,startDate,d,day,a,month,year,endDate,_this$props$staffSche,weekSchedule,altWeekSchedule,monthlySchedule;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$state5=_this.state,startMonth=_this$state5.startMonth,endMonth=_this$state5.endMonth,jobOption_selected=_this$state5.jobOption_selected,selected_site=_this$state5.selected_site,staffList_selected=_this$state5.staffList_selected,formFields=_this$state5.formFields;if(!(selected_site==\"\"||staffList_selected==\"\"||jobOption_selected==\"\")){_context3.next=3;break;}return _context3.abrupt(\"return\");case 3:startDate=new Date(startMonth);d=startDate.getDate();day=d<10?\"0\"+d:d;a=startDate.getMonth()+1;month=a<10?\"0\"+a:a;year=startDate.getFullYear();startDate=\"\".concat(year,\"-\").concat(month,\"-\",1);endDate=new Date(endMonth);endDate=new Date(endDate.getFullYear(),endDate.getMonth()+1,0);d=endDate.getDate();day=d<10?\"0\"+d:d;a=endDate.getMonth()+1;month=a<10?\"0\"+a:a;year=endDate.getFullYear();endDate=\"\".concat(year,\"-\").concat(month,\"-\").concat(day);_this.updateState({isLoading:true});_context3.next=21;return _this.props.getStaffSchedule(\"?emp_code=\".concat(staffList_selected,\"&site_code=\").concat(selected_site,\"&start=\").concat(startDate,\"&end=\").concat(endDate));case 21:_this$props$staffSche=_this.props.staffSchedule,weekSchedule=_this$props$staffSche.weekSchedule,altWeekSchedule=_this$props$staffSche.altWeekSchedule,monthlySchedule=_this$props$staffSche.monthlySchedule;formFields.ws_id=weekSchedule.id;formFields.ws.monday=weekSchedule.monday;formFields.ws.tuesday=weekSchedule.tuesday;formFields.ws.wednesday=weekSchedule.wednesday;formFields.ws.thursday=weekSchedule.thursday;formFields.ws.friday=weekSchedule.friday;formFields.ws.saturday=weekSchedule.saturday;formFields.ws.sunday=weekSchedule.sunday;formFields.altws_id=altWeekSchedule.id;formFields.altws.monday=altWeekSchedule.monday;formFields.altws.tuesday=altWeekSchedule.tuesday;formFields.altws.wednesday=altWeekSchedule.wednesday;formFields.altws.thursday=altWeekSchedule.thursday;formFields.altws.friday=altWeekSchedule.friday;formFields.altws.saturday=altWeekSchedule.saturday;formFields.altws.sunday=altWeekSchedule.sunday;formFields.cal_data=monthlySchedule;_this.updateState({formFields:formFields,isLoading:false});case 40:case\"end\":return _context3.stop();}}},_callee3);}));_this.getFullScheduleData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var page,_this$state6,fullSchedule_selected_site,fullScheduleMonth,formFields,pageMeta,date,month,year,staffAllEmpSchedule,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:page=_args4.length>0&&_args4[0]!==undefined?_args4[0]:1;_this$state6=_this.state,fullSchedule_selected_site=_this$state6.fullSchedule_selected_site,fullScheduleMonth=_this$state6.fullScheduleMonth,formFields=_this$state6.formFields,pageMeta=_this$state6.pageMeta;formFields.staff_data=[];if(!(fullSchedule_selected_site==\"\")){_context4.next=5;break;}return _context4.abrupt(\"return\",_this.updateState({formFields:formFields}));case 5:_this.updateState({isLoading:true});date=new Date(fullScheduleMonth);month=date.getMonth()+1;year=date.getFullYear();_context4.next=11;return _this.props.getAllEmpSchedule(\"?siteCode=\".concat(fullSchedule_selected_site,\"&limit=10&year=\").concat(year,\"&month=\").concat(month,\"&page=\").concat(page));case 11:staffAllEmpSchedule=_this.props.staffAllEmpSchedule;pageMeta=staffAllEmpSchedule.pagination;formFields.staff_data=staffAllEmpSchedule.fullSchedule;_this.updateState({formFields:formFields,pageMeta:pageMeta,isLoading:false});case 15:case\"end\":return _context4.stop();}}},_callee4);}));_this.onJobChanged=function(e){_this.state.jobOption_selected=e.target.value;_this.updateState({});_this.updateStaffList();};_this.onStaffChanged=function(e){_this.state.staffList_selected=e.target.value;_this.updateState({});_this.updateSiteList();};_this.onSiteChange=function(e){_this.state.selected_site=e.target.value;_this.updateState({});_this.getScheduleData();};_this.onSiteOptionChange=function(e){_this.state.selected_site=e.target.value;_this.updateState({});_this.getFullScheduleData({});};_this.onFullScheduleMonthChange=function(){_this.getFullScheduleData({});};_this.onFullScheduleSiteChange=function(e){_this.state.fullSchedule_selected_site=e.target.value;_this.updateState({});_this.getFullScheduleData({});};_this.onApplyWSToMonthlySchedule=function(){var _this$state$formField=_this.state.formFields,ws=_this$state$formField.ws,cal_data=_this$state$formField.cal_data;var _iterator4=_createForOfIteratorHelper(cal_data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;var date=new Date(key.itm_date);var day=date.getDay();switch(day){case 0:key.itm_type=ws.sunday;break;case 1:key.itm_type=ws.monday;break;case 2:key.itm_type=ws.tuesday;break;case 3:key.itm_type=ws.wednesday;break;case 4:key.itm_type=ws.thursday;break;case 5:key.itm_type=ws.friday;break;case 6:key.itm_type=ws.saturday;break;default:break;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.updateState({cal_data:cal_data});};_this.onApplyALTWSToMonthlySchedule=function(){var _this$state$formField2=_this.state.formFields,altws=_this$state$formField2.altws,cal_data=_this$state$formField2.cal_data;var _iterator5=_createForOfIteratorHelper(cal_data),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;var date=new Date(key.itm_date);var day=date.getDay();switch(day){case 0:key.itm_type=altws.sunday;break;case 1:key.itm_type=altws.monday;break;case 2:key.itm_type=altws.tuesday;break;case 3:key.itm_type=altws.wednesday;break;case 4:key.itm_type=altws.thursday;break;case 5:key.itm_type=altws.friday;break;case 6:key.itm_type=altws.saturday;break;default:break;}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_this.updateState({cal_data:cal_data});};_this.onSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var formFields,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:formFields=_this.state.formFields;if(!(formFields.cal_data.length==0)){_context5.next=3;break;}return _context5.abrupt(\"return\");case 3:_this.updateState({isLoading:true});data={monthlySchedule:{},weekSchedule:{},altWeekSchedule:{}};data.monthlySchedule=formFields.cal_data;data.weekSchedule.id=formFields.ws_id;data.weekSchedule.monday=formFields.ws.monday;data.weekSchedule.tuesday=formFields.ws.tuesday;data.weekSchedule.wednesday=formFields.ws.wednesday;data.weekSchedule.thursday=formFields.ws.thursday;data.weekSchedule.friday=formFields.ws.friday;data.weekSchedule.saturday=formFields.ws.saturday;data.weekSchedule.sunday=formFields.ws.sunday;data.altWeekSchedule.id=formFields.altws_id;data.altWeekSchedule.monday=formFields.altws.monday;data.altWeekSchedule.tuesday=formFields.altws.tuesday;data.altWeekSchedule.wednesday=formFields.altws.wednesday;data.altWeekSchedule.thursday=formFields.altws.thursday;data.altWeekSchedule.friday=formFields.altws.friday;data.altWeekSchedule.saturday=formFields.altws.saturday;data.altWeekSchedule.sunday=formFields.altws.sunday;_context5.prev=22;_context5.next=25;return _this.props.updateStaffPlusSchedule(JSON.stringify(data));case 25:_context5.next=31;break;case 27:_context5.prev=27;_context5.t0=_context5[\"catch\"](22);console.log(_context5.t0);_this.updateState({isLoading:false});case 31:_this.updateState({isLoading:false});case 32:case\"end\":return _context5.stop();}}},_callee5,null,[[22,27]]);}));return _this;}_createClass(StaffScheduleClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentWillMount\",value:function componentWillMount(){var queryParams=new URLSearchParams(window.location.search);var menu=queryParams.get(\"menu\");if(menu)if(menu==\"full\"||menu==\"indi\")this.updateState({currentMenu:\"/\"+menu});var date=new Date();var month=(\"0\"+(date.getMonth()+1)).slice(-2);var year=date.getFullYear();this.updateState({selectedMonth:\"\".concat(year,\"-\").concat(month),startMonth:\"\".concat(year,\"-\").concat(month),endMonth:\"\".concat(year,\"-\").concat(month),fullScheduleMonth:\"\".concat(year,\"-\").concat(month)});this.getDatafromStore();}},{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,currentMenu=_this$state7.currentMenu,formFields=_this$state7.formFields,startMonth=_this$state7.startMonth,endMonth=_this$state7.endMonth,jobOption=_this$state7.jobOption,jobOption_selected=_this$state7.jobOption_selected,staffList_selected=_this$state7.staffList_selected,staffList=_this$state7.staffList,filteredSiteOptions=_this$state7.filteredSiteOptions,isLoading=_this$state7.isLoading,selected_site=_this$state7.selected_site,fullSchedule_selected_site=_this$state7.fullSchedule_selected_site,siteOptions=_this$state7.siteOptions,selectedMonth=_this$state7.selectedMonth,scheduleOptions=_this$state7.scheduleOptions,fullScheduleMonth=_this$state7.fullScheduleMonth,pageMeta=_this$state7.pageMeta;var t=this.props.t;var ws=formFields.ws,altws=formFields.altws,cal_data=formFields.cal_data,staff_data=formFields.staff_data;var handleMenuSelection=function handleMenuSelection(value){if(value===\"/full\")_this2.getFullScheduleData();_this2.updateState({currentMenu:value});};var handleMonthChange=function handleMonthChange(e){_this2.state[e.target.name]=e.target.value;if(e.target.name==\"startMonth\"){_this2.state.endMonth=_this2.state.startMonth;_this2.state.selectedMonth=_this2.state.startMonth;}else if(e.target.name==\"endMonth\")_this2.state.selectedMonth=_this2.state.startMonth;if(e.target.name!=\"selectedMonth\")_this2.getScheduleData();_this2.updateState({});};return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-2 mb-4\"},/*#__PURE__*/React.createElement(Navigation,{activeItemId:currentMenu,onSelect:function onSelect(_ref6){var itemId=_ref6.itemId;return handleMenuSelection(itemId);},items:[{title:t(\"Individual Schedule\"),itemId:\"/indi\"},{title:t(\"Full Schedule\"),itemId:\"/full\"}]})),isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")))):/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-10 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 mb-4\"},/*#__PURE__*/React.createElement(\"h3\",null,t((currentMenu==\"/indi\"?\"Individual\":\"Full\")+\" Schedule\")))),currentMenu==\"/indi\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Employee Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:jobOption,value:jobOption_selected,onChange:this.onJobChanged}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Staff\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:staffList,value:staffList_selected,onChange:this.onStaffChanged}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Site List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:filteredSiteOptions,value:selected_site,onChange:this.onSiteChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Work Schedule\")),/*#__PURE__*/React.createElement(ScheduleTable,{data:ws,altws_data:altws,optionList:scheduleOptions,onChange:function onChange(data){var formFields=_this2.state.formFields;formFields[\"ws\"]=data;_this2.updateState({formFields:formFields});},onAltChange:function onAltChange(data){var formFields=_this2.state.formFields;formFields[\"altws\"]=data;_this2.updateState({formFields:formFields});}})))),cal_data.length==0?null:/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12 mb-2\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Apply WS to Monthly Schedule\",mainbg:true,onClick:this.onApplyWSToMonthlySchedule})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Apply ALTWS to Monthly Schedule\",mainbg:true,onClick:this.onApplyALTWSToMonthlySchedule})))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Start Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:startMonth,name:\"startMonth\",onChange:handleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"End Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:endMonth,min:startMonth,name:\"endMonth\",onChange:handleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Selected Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:selectedMonth,min:startMonth,max:endMonth,name:\"selectedMonth\",onChange:handleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(CalenderTable,{data:cal_data,date:selectedMonth,optionList:scheduleOptions,onChange:function onChange(data){var formFields=_this2.state.formFields;formFields[\"cal_data\"]=data;_this2.updateState({formFields:formFields});}}))))),cal_data.length==0?null:/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Save\",success:true,onClick:this.onSubmit}))))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Site\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:siteOptions,value:fullSchedule_selected_site,name:\"fullSchedule_selected_site\",onChange:this.onFullScheduleSiteChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 col-md-4 col-xm-8 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:fullScheduleMonth,onChange:function onChange(e){_this2.state.fullScheduleMonth=e.target.value;_this2.updateState({});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col pt-4 mt-4 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Load\",mainbg:true,onClick:this.onFullScheduleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(BigCalander,{date:fullScheduleMonth,data:staff_data,options:scheduleOptions,disabled:true})),pageMeta&&/*#__PURE__*/React.createElement(Pagination,{handlePagination:this.getFullScheduleData,pageMeta:pageMeta}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row m-2\"},scheduleOptions.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-4 col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row w-100\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"20px\",height:\"20px\",marginRight:\"5px\",backgroundColor:\"\".concat(e.color)}}),t(e.shortDesc),\" - \",t(e.label)));})))));}}]);return StaffScheduleClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{jobtitleList:state.common.jobtitleList,staffPlusDetail:state.staffPlus.staffPlusDetail,staffSchedule:state.staffPlus.staffPlusSchedule,staffAllEmpSchedule:state.staffPlus.staffPlusAllEmpSchedule};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getJobtitle:getJobtitle,getStaffPlus:getStaffPlus,getCommonApi:getCommonApi,getStaffSchedule:getStaffSchedule,getAllEmpSchedule:getAllEmpSchedule,updateStaffPlusSchedule:updateStaffPlusSchedule},dispatch);};export var StaffSchedule=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(StaffScheduleClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/StaffPlus/StaffSchedule/index.js"],"names":["React","connect","bindActionCreators","Navigation","getJobtitle","getCommonApi","getStaffPlus","getStaffSchedule","getAllEmpSchedule","updateStaffPlusSchedule","NormalSelect","NormalInput","Pagination","NormalButton","ScheduleTable","CalenderTable","BigCalander","withTranslation","StaffScheduleClass","state","currentMenu","startMonth","Date","endMonth","selectedMonth","fullScheduleMonth","formFields","ws","ws_id","altws","altws_id","cal_data","status","staff_data","pageMeta","jobOption_selected","jobOption","staffList_selected","staffList","siteOptions","filteredSiteOptions","selected_site","fullSchedule_selected_site","isLoading","isMounted","scheduleOptions","updateState","data","setState","getDatafromStore","props","scheduleRes","siteRes","jobtitleList","key","push","label","level_desc","value","id","itemsite_code","itemsite_desc","schedules","itm_code","itm_desc","color","itm_color","shortDesc","updateStaffList","staffPlusDetail","dataList","forEach","emp_name","emp_code","sites","site_list","map","e","site_code","updateSiteList","selected","find","filter","some","val","getScheduleData","startDate","d","getDate","day","a","getMonth","month","year","getFullYear","endDate","staffSchedule","weekSchedule","altWeekSchedule","monthlySchedule","monday","tuesday","wednesday","thursday","friday","saturday","sunday","getFullScheduleData","page","date","staffAllEmpSchedule","pagination","fullSchedule","onJobChanged","target","onStaffChanged","onSiteChange","onSiteOptionChange","onFullScheduleMonthChange","onFullScheduleSiteChange","onApplyWSToMonthlySchedule","itm_date","getDay","itm_type","onApplyALTWSToMonthlySchedule","onSubmit","length","JSON","stringify","console","log","queryParams","URLSearchParams","window","location","search","menu","get","slice","t","handleMenuSelection","handleMonthChange","name","itemId","title","width","height","marginRight","backgroundColor","Component","mapStateToProps","common","staffPlus","staffPlusSchedule","staffPlusAllEmpSchedule","mapDispatchToProps","dispatch","StaffSchedule"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport {\n  getStaffPlus,\n  getStaffSchedule,\n  getAllEmpSchedule,\n  updateStaffPlusSchedule,\n} from \"redux/actions/staffPlus\";\nimport {\n  NormalSelect,\n  NormalInput,\n  Pagination,\n  NormalButton,\n} from \"component/common\";\nimport { ScheduleTable } from \"./SheduleTable\";\nimport { CalenderTable } from \"./CalenderTable\";\nimport { BigCalander } from \"./BigCalander\";\nimport { withTranslation } from \"react-i18next\";\n\nclass StaffScheduleClass extends React.Component {\n  state = {\n    currentMenu: \"/indi\",\n    startMonth: new Date(),\n    endMonth: new Date(),\n    selectedMonth: new Date(),\n    fullScheduleMonth: new Date(),\n    formFields: {\n      ws: [],\n      ws_id: \"\",\n      altws: [],\n      altws_id: \"\",\n      cal_data: [],\n      status: \"All\",\n      staff_data: [],\n    },\n    pageMeta: {},\n    jobOption_selected: \"\",\n    jobOption: [],\n    staffList_selected: \"\",\n    staffList: [],\n    siteOptions: [],\n    filteredSiteOptions: [],\n    selected_site: \"\",\n    fullSchedule_selected_site: \"\",\n    isLoading: true,\n    isMounted: true,\n    scheduleOptions: [],\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentWillMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const menu = queryParams.get(\"menu\");\n    if (menu)\n      if (menu == \"full\" || menu == \"indi\")\n        this.updateState({ currentMenu: \"/\" + menu });\n    const date = new Date();\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n    const year = date.getFullYear();\n\n    this.updateState({\n      selectedMonth: `${year}-${month}`,\n      startMonth: `${year}-${month}`,\n      endMonth: `${year}-${month}`,\n      fullScheduleMonth: `${year}-${month}`,\n    });\n    this.getDatafromStore();\n  }\n\n  getDatafromStore = async () => {\n    await this.props.getJobtitle();\n    let scheduleRes = await this.props.getCommonApi(\"WorkScheduleHours/\");\n    let siteRes = await this.props.getCommonApi(\"branchlist/\");\n    let { jobtitleList } = this.props;\n    let {\n      jobOption,\n      jobOption_selected,\n      siteOptions,\n      filteredSiteOptions,\n      scheduleOptions,\n    } = this.state;\n    for (let key of jobtitleList) {\n      jobOption.push({ label: key.level_desc, value: key.id });\n    }\n    for (let key of siteRes.data) {\n      siteOptions.push({ value: key.itemsite_code, label: key.itemsite_desc });\n    }\n    for (let key of scheduleRes.schedules) {\n      scheduleOptions.push({\n        id: key.id,\n        value: key.itm_code,\n        label: key.itm_desc,\n        color: key.itm_color,\n        shortDesc: key.shortDesc,\n      });\n    }\n\n    this.updateState({\n      jobOption,\n      jobOption_selected,\n      siteOptions,\n      filteredSiteOptions,\n      scheduleOptions,\n      isLoading: false,\n    });\n  };\n\n  updateStaffList = async () => {\n    this.updateState({ isLoading: true });\n    let { staffList, staffList_selected, formFields, selected_site } =\n      this.state;\n    formFields.ws = [];\n    formFields.altws = [];\n    formFields.cal_data = [];\n    formFields.staff_data = [];\n    staffList_selected = \"\";\n    selected_site = \"\";\n    staffList = [];\n    if (this.state.jobOption_selected != \"\") {\n      await this.props.getStaffPlus(\n        `?limit=100&EMP_TYPEid=${this.state.jobOption_selected}`\n      );\n\n      let { staffPlusDetail } = this.props;\n\n      staffPlusDetail.dataList.forEach((key) => {\n        staffList.push({\n          label: key.emp_name,\n          value: key.emp_code,\n          sites: key.site_list.map((e) => e.site_code),\n        });\n      });\n    }\n    this.updateState({\n      staffList,\n      formFields,\n      staffList_selected,\n      selected_site,\n      isLoading: false,\n    });\n  };\n\n  updateSiteList = () => {\n    let {\n      staffList_selected,\n      staffList,\n      filteredSiteOptions,\n      siteOptions,\n      selected_site,\n      formFields,\n    } = this.state;\n    selected_site = \"\";\n    formFields.ws = [];\n    formFields.altws = [];\n    formFields.cal_data = [];\n    filteredSiteOptions = [];\n    let selected = staffList.find((e) => e.value == staffList_selected);\n    filteredSiteOptions = siteOptions.filter((e) =>\n      selected.sites.some((val) => val == e.value)\n    );\n    this.updateState({ filteredSiteOptions, formFields, selected_site });\n  };\n\n  getScheduleData = async () => {\n    let {\n      startMonth,\n      endMonth,\n      jobOption_selected,\n      selected_site,\n      staffList_selected,\n      formFields,\n    } = this.state;\n    if (\n      selected_site == \"\" ||\n      staffList_selected == \"\" ||\n      jobOption_selected == \"\"\n    )\n      return;\n    let startDate = new Date(startMonth);\n    let d = startDate.getDate();\n    let day = d < 10 ? \"0\" + d : d;\n    let a = startDate.getMonth() + 1;\n    let month = a < 10 ? \"0\" + a : a;\n    let year = startDate.getFullYear();\n    startDate = `${year}-${month}-${1}`;\n\n    let endDate = new Date(endMonth);\n    endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n    d = endDate.getDate();\n    day = d < 10 ? \"0\" + d : d;\n    a = endDate.getMonth() + 1;\n    month = a < 10 ? \"0\" + a : a;\n    year = endDate.getFullYear();\n    endDate = `${year}-${month}-${day}`;\n    this.updateState({ isLoading: true });\n    await this.props.getStaffSchedule(\n      `?emp_code=${staffList_selected}&site_code=${selected_site}&start=${startDate}&end=${endDate}`\n    );\n    let { weekSchedule, altWeekSchedule, monthlySchedule } =\n      this.props.staffSchedule;\n    formFields.ws_id = weekSchedule.id;\n    formFields.ws.monday = weekSchedule.monday;\n    formFields.ws.tuesday = weekSchedule.tuesday;\n    formFields.ws.wednesday = weekSchedule.wednesday;\n    formFields.ws.thursday = weekSchedule.thursday;\n    formFields.ws.friday = weekSchedule.friday;\n    formFields.ws.saturday = weekSchedule.saturday;\n    formFields.ws.sunday = weekSchedule.sunday;\n    formFields.altws_id = altWeekSchedule.id;\n    formFields.altws.monday = altWeekSchedule.monday;\n    formFields.altws.tuesday = altWeekSchedule.tuesday;\n    formFields.altws.wednesday = altWeekSchedule.wednesday;\n    formFields.altws.thursday = altWeekSchedule.thursday;\n    formFields.altws.friday = altWeekSchedule.friday;\n    formFields.altws.saturday = altWeekSchedule.saturday;\n    formFields.altws.sunday = altWeekSchedule.sunday;\n    formFields.cal_data = monthlySchedule;\n    this.updateState({ formFields, isLoading: false });\n  };\n\n  getFullScheduleData = async (page = 1) => {\n    let {\n      fullSchedule_selected_site,\n      fullScheduleMonth,\n      formFields,\n      pageMeta,\n    } = this.state;\n    formFields.staff_data = [];\n    if (fullSchedule_selected_site == \"\") {\n      return this.updateState({ formFields });\n    }\n    this.updateState({ isLoading: true });\n    let date = new Date(fullScheduleMonth);\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    await this.props.getAllEmpSchedule(\n      `?siteCode=${fullSchedule_selected_site}&limit=10&year=${year}&month=${month}&page=${page}`\n    );\n    let { staffAllEmpSchedule } = this.props;\n    pageMeta = staffAllEmpSchedule.pagination;\n    formFields.staff_data = staffAllEmpSchedule.fullSchedule;\n    this.updateState({ formFields, pageMeta, isLoading: false });\n  };\n\n  onJobChanged = (e) => {\n    this.state.jobOption_selected = e.target.value;\n    this.updateState({});\n    this.updateStaffList();\n  };\n\n  onStaffChanged = (e) => {\n    this.state.staffList_selected = e.target.value;\n    this.updateState({});\n    this.updateSiteList();\n  };\n\n  onSiteChange = (e) => {\n    this.state.selected_site = e.target.value;\n    this.updateState({});\n    this.getScheduleData();\n  };\n\n  onSiteOptionChange = (e) => {\n    this.state.selected_site = e.target.value;\n    this.updateState({});\n    this.getFullScheduleData({});\n  };\n\n  onFullScheduleMonthChange = () => {\n    this.getFullScheduleData({});\n  };\n\n  onFullScheduleSiteChange = (e) => {\n    this.state.fullSchedule_selected_site = e.target.value;\n    this.updateState({});\n    this.getFullScheduleData({});\n  };\n\n  onApplyWSToMonthlySchedule = () => {\n    let { ws, cal_data } = this.state.formFields;\n    for (let key of cal_data) {\n      var date = new Date(key.itm_date);\n      var day = date.getDay();\n      switch (day) {\n        case 0:\n          key.itm_type = ws.sunday;\n          break;\n        case 1:\n          key.itm_type = ws.monday;\n          break;\n        case 2:\n          key.itm_type = ws.tuesday;\n          break;\n        case 3:\n          key.itm_type = ws.wednesday;\n          break;\n        case 4:\n          key.itm_type = ws.thursday;\n          break;\n        case 5:\n          key.itm_type = ws.friday;\n          break;\n        case 6:\n          key.itm_type = ws.saturday;\n          break;\n        default:\n          break;\n      }\n    }\n    this.updateState({ cal_data });\n  };\n\n  onApplyALTWSToMonthlySchedule = () => {\n    let { altws, cal_data } = this.state.formFields;\n    for (let key of cal_data) {\n      var date = new Date(key.itm_date);\n      var day = date.getDay();\n      switch (day) {\n        case 0:\n          key.itm_type = altws.sunday;\n          break;\n        case 1:\n          key.itm_type = altws.monday;\n          break;\n        case 2:\n          key.itm_type = altws.tuesday;\n          break;\n        case 3:\n          key.itm_type = altws.wednesday;\n          break;\n        case 4:\n          key.itm_type = altws.thursday;\n          break;\n        case 5:\n          key.itm_type = altws.friday;\n          break;\n        case 6:\n          key.itm_type = altws.saturday;\n          break;\n        default:\n          break;\n      }\n    }\n    this.updateState({ cal_data });\n  };\n\n  onSubmit = async () => {\n    let { formFields } = this.state;\n    if (formFields.cal_data.length == 0) return;\n    this.updateState({ isLoading: true });\n    var data = { monthlySchedule: {}, weekSchedule: {}, altWeekSchedule: {} };\n    data.monthlySchedule = formFields.cal_data;\n    data.weekSchedule.id = formFields.ws_id;\n    data.weekSchedule.monday = formFields.ws.monday;\n    data.weekSchedule.tuesday = formFields.ws.tuesday;\n    data.weekSchedule.wednesday = formFields.ws.wednesday;\n    data.weekSchedule.thursday = formFields.ws.thursday;\n    data.weekSchedule.friday = formFields.ws.friday;\n    data.weekSchedule.saturday = formFields.ws.saturday;\n    data.weekSchedule.sunday = formFields.ws.sunday;\n    data.altWeekSchedule.id = formFields.altws_id;\n    data.altWeekSchedule.monday = formFields.altws.monday;\n    data.altWeekSchedule.tuesday = formFields.altws.tuesday;\n    data.altWeekSchedule.wednesday = formFields.altws.wednesday;\n    data.altWeekSchedule.thursday = formFields.altws.thursday;\n    data.altWeekSchedule.friday = formFields.altws.friday;\n    data.altWeekSchedule.saturday = formFields.altws.saturday;\n    data.altWeekSchedule.sunday = formFields.altws.sunday;\n    try {\n      await this.props.updateStaffPlusSchedule(JSON.stringify(data));\n    } catch (error) {\n      console.log(error);\n      this.updateState({ isLoading: false });\n    }\n    this.updateState({ isLoading: false });\n  };\n\n  render() {\n    let {\n      currentMenu,\n      formFields,\n      startMonth,\n      endMonth,\n      jobOption,\n      jobOption_selected,\n      staffList_selected,\n      staffList,\n      filteredSiteOptions,\n      isLoading,\n      selected_site,\n      fullSchedule_selected_site,\n      siteOptions,\n      selectedMonth,\n      scheduleOptions,\n      fullScheduleMonth,\n      pageMeta,\n    } = this.state;\n    let { t } = this.props;\n    let { ws, altws, cal_data, staff_data } = formFields;\n\n    const handleMenuSelection = (value) => {\n      if (value === \"/full\") this.getFullScheduleData();\n      this.updateState({ currentMenu: value });\n    };\n\n    const handleMonthChange = (e) => {\n      this.state[e.target.name] = e.target.value;\n      if (e.target.name == \"startMonth\") {\n        this.state.endMonth = this.state.startMonth;\n        this.state.selectedMonth = this.state.startMonth;\n      } else if (e.target.name == \"endMonth\")\n        this.state.selectedMonth = this.state.startMonth;\n      if (e.target.name != \"selectedMonth\") this.getScheduleData();\n      this.updateState({});\n    };\n\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-12 col-lg-2 mb-4\">\n            <Navigation\n              activeItemId={currentMenu}\n              onSelect={({ itemId }) => handleMenuSelection(itemId)}\n              items={[\n                {\n                  title: t(\"Individual Schedule\"),\n                  itemId: \"/indi\",\n                },\n                {\n                  title: t(\"Full Schedule\"),\n                  itemId: \"/full\",\n                },\n              ]}\n            />\n          </div>\n          {isLoading ? (\n            <div className=\"col\">\n              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                <div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"col-lg-10 col-md-12\">\n              <div className=\"row align-items-center\">\n                <div className=\"col-md-8 mb-4\">\n                  <h3>\n                    {t(\n                      (currentMenu == \"/indi\" ? \"Individual\" : \"Full\") +\n                        \" Schedule\"\n                    )}\n                  </h3>\n                </div>\n              </div>\n              {currentMenu == \"/indi\" ? (\n                <>\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-12\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Employee Type\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalSelect\n                            options={jobOption}\n                            value={jobOption_selected}\n                            onChange={this.onJobChanged}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-12\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Staff\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalSelect\n                            options={staffList}\n                            value={staffList_selected}\n                            onChange={this.onStaffChanged}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-12\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Site List\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalSelect\n                            options={filteredSiteOptions}\n                            value={selected_site}\n                            onChange={this.onSiteChange}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-12\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Work Schedule\")}\n                        </label>\n                        <ScheduleTable\n                          data={ws}\n                          altws_data={altws}\n                          optionList={scheduleOptions}\n                          onChange={(data) => {\n                            let { formFields } = this.state;\n                            formFields[\"ws\"] = data;\n                            this.updateState({\n                              formFields,\n                            });\n                          }}\n                          onAltChange={(data) => {\n                            let { formFields } = this.state;\n                            formFields[\"altws\"] = data;\n                            this.updateState({\n                              formFields,\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  {cal_data.length == 0 ? null : (\n                    <div className=\"form-group mb-4 pb-2\">\n                      <div className=\"row\">\n                        <div className=\"col-md-6 col-sm-12 mb-2\">\n                          <NormalButton\n                            label=\"Apply WS to Monthly Schedule\"\n                            mainbg={true}\n                            onClick={this.onApplyWSToMonthlySchedule}\n                          />\n                        </div>\n                        <div className=\"col-md-6 col-sm-12\">\n                          <NormalButton\n                            label=\"Apply ALTWS to Monthly Schedule\"\n                            mainbg={true}\n                            onClick={this.onApplyALTWSToMonthlySchedule}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-md-4 mb-4\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Start Year and Month\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalInput\n                            type=\"month\"\n                            value={startMonth}\n                            name=\"startMonth\"\n                            onChange={handleMonthChange}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col-md-4 mb-4\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"End Year and Month\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalInput\n                            type=\"month\"\n                            value={endMonth}\n                            min={startMonth}\n                            name=\"endMonth\"\n                            onChange={handleMonthChange}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col-md-6 mb-4\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Selected Year and Month\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalInput\n                            type=\"month\"\n                            value={selectedMonth}\n                            min={startMonth}\n                            max={endMonth}\n                            name=\"selectedMonth\"\n                            onChange={handleMonthChange}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col-12\">\n                        <div className=\"input-group\">\n                          <CalenderTable\n                            data={cal_data}\n                            date={selectedMonth}\n                            optionList={scheduleOptions}\n                            onChange={(data) => {\n                              let { formFields } = this.state;\n                              formFields[\"cal_data\"] = data;\n                              this.updateState({\n                                formFields,\n                              });\n                            }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {cal_data.length == 0 ? null : (\n                    <div className=\"form-group mb-4 pb-2\">\n                      <div className=\"d-flex justify-content-center\">\n                        <div className=\"col-md-6 col-sm-12 p-0\">\n                          <NormalButton\n                            label=\"Save\"\n                            success={true}\n                            onClick={this.onSubmit}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <>\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-12 mb-4\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Site\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalSelect\n                            options={siteOptions}\n                            value={fullSchedule_selected_site}\n                            name=\"fullSchedule_selected_site\"\n                            onChange={this.onFullScheduleSiteChange}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"form-group mb-4 pb-2\">\n                    <div className=\"row\">\n                      <div className=\"col-8 col-md-4 col-xm-8 mb-4\">\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                          {t(\"Year and Month\")}\n                        </label>\n                        <div className=\"input-group\">\n                          <NormalInput\n                            type=\"month\"\n                            value={fullScheduleMonth}\n                            onChange={(e) => {\n                              this.state.fullScheduleMonth = e.target.value;\n                              this.updateState({});\n                            }}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col pt-4 mt-4 mb-4\">\n                        <div className=\"input-group\">\n                          <NormalButton\n                            label=\"Load\"\n                            mainbg={true}\n                            onClick={this.onFullScheduleMonthChange}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col-12\">\n                        <div className=\"input-group\">\n                          <BigCalander\n                            date={fullScheduleMonth}\n                            data={staff_data}\n                            options={scheduleOptions}\n                            disabled={true}\n                          />\n                        </div>\n                        {pageMeta && (\n                          <Pagination\n                            handlePagination={this.getFullScheduleData}\n                            pageMeta={pageMeta}\n                          />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </>\n              )}\n              <div className=\"row m-2\">\n                {scheduleOptions.map((e) => {\n                  return (\n                    <div className=\"col-md-6 col-lg-4 col-sm-12\">\n                      <div className=\"row w-100\">\n                        <div\n                          style={{\n                            width: \"20px\",\n                            height: \"20px\",\n                            marginRight: \"5px\",\n                            backgroundColor: `${e.color}`,\n                          }}\n                        />\n                        {t(e.shortDesc)} - {t(e.label)}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  jobtitleList: state.common.jobtitleList,\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\n  staffSchedule: state.staffPlus.staffPlusSchedule,\n  staffAllEmpSchedule: state.staffPlus.staffPlusAllEmpSchedule,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getJobtitle,\n      getStaffPlus,\n      getCommonApi,\n      getStaffSchedule,\n      getAllEmpSchedule,\n      updateStaffPlusSchedule,\n    },\n    dispatch\n  );\n};\n\nexport const StaffSchedule = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(StaffScheduleClass)\n);\n"]},"metadata":{},"sourceType":"module"}