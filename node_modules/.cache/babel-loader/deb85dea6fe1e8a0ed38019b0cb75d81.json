{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/compactAppointmentsHelper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.CompactAppointmentsHelper = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _translator = require(\"../../animation/translator\");\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nvar _function_template = require(\"../../core/templates/function_template\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _position = require(\"../../core/utils/position\");\n\nvar _dataStructures = require(\"./dataStructures\");\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar APPOINTMENT_COLLECTOR_CLASS = \"dx-scheduler-appointment-collector\";\nvar COMPACT_APPOINTMENT_COLLECTOR_CLASS = APPOINTMENT_COLLECTOR_CLASS + \"-compact\";\nvar APPOINTMENT_COLLECTOR_CONTENT_CLASS = APPOINTMENT_COLLECTOR_CLASS + \"-content\";\nvar WEEK_VIEW_COLLECTOR_OFFSET = 5;\nvar COMPACT_THEME_WEEK_VIEW_COLLECTOR_OFFSET = 1;\n\nvar CompactAppointmentsHelper = function () {\n  function CompactAppointmentsHelper(instance) {\n    _classCallCheck(this, CompactAppointmentsHelper);\n\n    this.instance = instance;\n    this.elements = [];\n  }\n\n  _createClass(CompactAppointmentsHelper, [{\n    key: \"render\",\n    value: function (options) {\n      var isCompact = options.isCompact,\n          items = options.items,\n          buttonColor = options.buttonColor;\n\n      var template = this._createTemplate(items.data.length, isCompact);\n\n      var button = this._createCompactButton(template, options);\n\n      var $button = button.$element();\n\n      this._makeBackgroundColor($button, items.colors, buttonColor);\n\n      this._makeBackgroundDarker($button);\n\n      this.elements.push($button);\n      $button.data(\"items\", this._createTooltipInfos(items));\n      return $button;\n    }\n  }, {\n    key: \"clear\",\n    value: function () {\n      this.elements.forEach(function (button) {\n        button.detach();\n        button.remove();\n      });\n      this.elements = [];\n    }\n  }, {\n    key: \"_createTooltipInfos\",\n    value: function (items) {\n      var _this = this;\n\n      return items.data.map(function (appointment, index) {\n        var _items$settings;\n\n        var targetedAdapter = _this.instance.createAppointmentAdapter(appointment).clone();\n\n        if ((null === (_items$settings = items.settings) || void 0 === _items$settings ? void 0 : _items$settings.length) > 0) {\n          var info = items.settings[index].info;\n          targetedAdapter.startDate = info.sourceAppointment.startDate;\n          targetedAdapter.endDate = info.sourceAppointment.endDate;\n        }\n\n        return new _dataStructures.AppointmentTooltipInfo(appointment, targetedAdapter.source(), items.colors[index], items.settings[index]);\n      });\n    }\n  }, {\n    key: \"_onButtonClick\",\n    value: function (e, options) {\n      var $button = (0, _renderer.default)(e.element);\n      this.instance.showAppointmentTooltipCore($button, $button.data(\"items\"), this._getExtraOptionsForTooltip(options));\n    }\n  }, {\n    key: \"_getExtraOptionsForTooltip\",\n    value: function (options) {\n      return {\n        clickEvent: this._clickEvent(options.onAppointmentClick).bind(this),\n        dragBehavior: options.allowDrag && this._createTooltipDragBehavior().bind(this),\n        dropDownAppointmentTemplate: this.instance.option().dropDownAppointmentTemplate,\n        isButtonClick: true\n      };\n    }\n  }, {\n    key: \"_clickEvent\",\n    value: function (onAppointmentClick) {\n      var _this2 = this;\n\n      return function (e) {\n        var config = {\n          itemData: e.itemData.appointment,\n          itemElement: e.itemElement\n        };\n        var createClickEvent = (0, _extend.extendFromObject)(_this2.instance.fire(\"mapAppointmentFields\", config), e, false);\n        delete createClickEvent.itemData;\n        delete createClickEvent.itemIndex;\n        delete createClickEvent.itemElement;\n        onAppointmentClick(createClickEvent);\n      };\n    }\n  }, {\n    key: \"_createTooltipDragBehavior\",\n    value: function () {\n      var _this3 = this;\n\n      return function (e) {\n        var $element = (0, _renderer.default)(e.element);\n\n        var workSpace = _this3.instance.getWorkSpace();\n\n        var getItemData = function (itemElement) {\n          var _$$data;\n\n          return null === (_$$data = (0, _renderer.default)(itemElement).data(_constants.LIST_ITEM_DATA_KEY)) || void 0 === _$$data ? void 0 : _$$data.appointment;\n        };\n\n        var getItemSettings = function (_, event) {\n          return event.itemSettings;\n        };\n\n        var options = {\n          filter: \".\".concat(_constants.LIST_ITEM_CLASS),\n          isSetCursorOffset: true\n        };\n\n        workSpace._createDragBehaviorBase($element, getItemData, getItemSettings, options);\n      };\n    }\n  }, {\n    key: \"_getCollectorOffset\",\n    value: function (width, cellWidth) {\n      return cellWidth - width - this._getCollectorRightOffset();\n    }\n  }, {\n    key: \"_getCollectorRightOffset\",\n    value: function () {\n      return this.instance.getRenderingStrategyInstance()._isCompactTheme() ? COMPACT_THEME_WEEK_VIEW_COLLECTOR_OFFSET : WEEK_VIEW_COLLECTOR_OFFSET;\n    }\n  }, {\n    key: \"_makeBackgroundDarker\",\n    value: function (button) {\n      button.css(\"boxShadow\", \"inset \".concat((0, _position.getBoundingRect)(button.get(0)).width, \"px 0 0 0 rgba(0, 0, 0, 0.3)\"));\n    }\n  }, {\n    key: \"_makeBackgroundColor\",\n    value: function ($button, colors, color) {\n      _deferred.when.apply(null, colors).done(function () {\n        this._makeBackgroundColorCore($button, color, arguments);\n      }.bind(this));\n    }\n  }, {\n    key: \"_makeBackgroundColorCore\",\n    value: function ($button, color, itemsColors) {\n      var paintButton = true;\n      var currentItemColor;\n      color && color.done(function (color) {\n        if (itemsColors.length) {\n          currentItemColor = itemsColors[0];\n\n          for (var i = 1; i < itemsColors.length; i++) {\n            if (currentItemColor !== itemsColors[i]) {\n              paintButton = false;\n              break;\n            }\n\n            currentItemColor = color;\n          }\n        }\n\n        color && paintButton && $button.css(\"backgroundColor\", color);\n      }.bind(this));\n    }\n  }, {\n    key: \"_setPosition\",\n    value: function (element, position) {\n      (0, _translator.move)(element, {\n        top: position.top,\n        left: position.left\n      });\n    }\n  }, {\n    key: \"_createCompactButton\",\n    value: function (template, options) {\n      var _this4 = this;\n\n      var $button = this._createCompactButtonElement(options);\n\n      return this.instance._createComponent($button, _button.default, {\n        type: \"default\",\n        width: options.width,\n        height: options.height,\n        onClick: function (e) {\n          return _this4._onButtonClick(e, options);\n        },\n        template: this._renderTemplate(template, options.items, options.isCompact)\n      });\n    }\n  }, {\n    key: \"_createCompactButtonElement\",\n    value: function (_ref) {\n      var isCompact = _ref.isCompact,\n          $container = _ref.$container,\n          width = _ref.width,\n          coordinates = _ref.coordinates,\n          applyOffset = _ref.applyOffset,\n          cellWidth = _ref.cellWidth;\n      var result = (0, _renderer.default)(\"<div>\").addClass(APPOINTMENT_COLLECTOR_CLASS).toggleClass(COMPACT_APPOINTMENT_COLLECTOR_CLASS, isCompact).appendTo($container);\n      var offset = applyOffset ? this._getCollectorOffset(width, cellWidth) : 0;\n\n      this._setPosition(result, {\n        top: coordinates.top,\n        left: coordinates.left + offset\n      });\n\n      return result;\n    }\n  }, {\n    key: \"_renderTemplate\",\n    value: function (template, items, isCompact) {\n      return new _function_template.FunctionTemplate(function (options) {\n        return template.render({\n          model: {\n            appointmentCount: items.data.length,\n            isCompact: isCompact\n          },\n          container: options.container\n        });\n      });\n    }\n  }, {\n    key: \"_createTemplate\",\n    value: function (count, isCompact) {\n      this._initButtonTemplate(count, isCompact);\n\n      return this.instance._getAppointmentTemplate(\"appointmentCollectorTemplate\");\n    }\n  }, {\n    key: \"_initButtonTemplate\",\n    value: function (count, isCompact) {\n      var _this5 = this;\n\n      this.instance._templateManager.addDefaultTemplates({\n        appointmentCollector: new _function_template.FunctionTemplate(function (options) {\n          return _this5._createButtonTemplate(count, (0, _renderer.default)(options.container), isCompact);\n        })\n      });\n    }\n  }, {\n    key: \"_createButtonTemplate\",\n    value: function (appointmentCount, element, isCompact) {\n      var text = isCompact ? appointmentCount : _message.default.getFormatter(\"dxScheduler-moreAppointments\")(appointmentCount);\n      return element.append((0, _renderer.default)(\"<span>\").text(text)).addClass(APPOINTMENT_COLLECTOR_CONTENT_CLASS);\n    }\n  }]);\n\n  return CompactAppointmentsHelper;\n}();\n\nexports.CompactAppointmentsHelper = CompactAppointmentsHelper;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/scheduler/compactAppointmentsHelper.js"],"names":["exports","CompactAppointmentsHelper","_renderer","_interopRequireDefault","require","_button","_translator","_message","_function_template","_deferred","_extend","_position","_dataStructures","_constants","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","APPOINTMENT_COLLECTOR_CLASS","COMPACT_APPOINTMENT_COLLECTOR_CLASS","APPOINTMENT_COLLECTOR_CONTENT_CLASS","WEEK_VIEW_COLLECTOR_OFFSET","COMPACT_THEME_WEEK_VIEW_COLLECTOR_OFFSET","elements","value","options","isCompact","items","buttonColor","template","_createTemplate","data","button","_createCompactButton","$button","$element","_makeBackgroundColor","colors","_makeBackgroundDarker","push","_createTooltipInfos","forEach","detach","remove","_this","map","appointment","index","_items$settings","targetedAdapter","createAppointmentAdapter","clone","settings","info","startDate","sourceAppointment","endDate","AppointmentTooltipInfo","source","e","default","element","showAppointmentTooltipCore","_getExtraOptionsForTooltip","clickEvent","_clickEvent","onAppointmentClick","bind","dragBehavior","allowDrag","_createTooltipDragBehavior","dropDownAppointmentTemplate","option","isButtonClick","_this2","config","itemData","itemElement","createClickEvent","extendFromObject","fire","itemIndex","_this3","workSpace","getWorkSpace","getItemData","_$$data","LIST_ITEM_DATA_KEY","getItemSettings","_","event","itemSettings","filter","concat","LIST_ITEM_CLASS","isSetCursorOffset","_createDragBehaviorBase","width","cellWidth","_getCollectorRightOffset","getRenderingStrategyInstance","_isCompactTheme","css","getBoundingRect","get","color","when","apply","done","_makeBackgroundColorCore","arguments","itemsColors","paintButton","currentItemColor","position","move","top","left","_this4","_createCompactButtonElement","_createComponent","type","height","onClick","_onButtonClick","_renderTemplate","_ref","$container","coordinates","applyOffset","result","addClass","toggleClass","appendTo","offset","_getCollectorOffset","_setPosition","FunctionTemplate","render","model","appointmentCount","container","count","_initButtonTemplate","_getAppointmentTemplate","_this5","_templateManager","addDefaultTemplates","appointmentCollector","_createButtonTemplate","text","getFormatter","append"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/compactAppointmentsHelper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.CompactAppointmentsHelper = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _function_template = require(\"../../core/templates/function_template\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _dataStructures = require(\"./dataStructures\");\r\nvar _constants = require(\"./constants\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar APPOINTMENT_COLLECTOR_CLASS = \"dx-scheduler-appointment-collector\";\r\nvar COMPACT_APPOINTMENT_COLLECTOR_CLASS = APPOINTMENT_COLLECTOR_CLASS + \"-compact\";\r\nvar APPOINTMENT_COLLECTOR_CONTENT_CLASS = APPOINTMENT_COLLECTOR_CLASS + \"-content\";\r\nvar WEEK_VIEW_COLLECTOR_OFFSET = 5;\r\nvar COMPACT_THEME_WEEK_VIEW_COLLECTOR_OFFSET = 1;\r\nvar CompactAppointmentsHelper = function() {\r\n    function CompactAppointmentsHelper(instance) {\r\n        _classCallCheck(this, CompactAppointmentsHelper);\r\n        this.instance = instance;\r\n        this.elements = []\r\n    }\r\n    _createClass(CompactAppointmentsHelper, [{\r\n        key: \"render\",\r\n        value: function(options) {\r\n            var isCompact = options.isCompact,\r\n                items = options.items,\r\n                buttonColor = options.buttonColor;\r\n            var template = this._createTemplate(items.data.length, isCompact);\r\n            var button = this._createCompactButton(template, options);\r\n            var $button = button.$element();\r\n            this._makeBackgroundColor($button, items.colors, buttonColor);\r\n            this._makeBackgroundDarker($button);\r\n            this.elements.push($button);\r\n            $button.data(\"items\", this._createTooltipInfos(items));\r\n            return $button\r\n        }\r\n    }, {\r\n        key: \"clear\",\r\n        value: function() {\r\n            this.elements.forEach(function(button) {\r\n                button.detach();\r\n                button.remove()\r\n            });\r\n            this.elements = []\r\n        }\r\n    }, {\r\n        key: \"_createTooltipInfos\",\r\n        value: function(items) {\r\n            var _this = this;\r\n            return items.data.map(function(appointment, index) {\r\n                var _items$settings;\r\n                var targetedAdapter = _this.instance.createAppointmentAdapter(appointment).clone();\r\n                if ((null === (_items$settings = items.settings) || void 0 === _items$settings ? void 0 : _items$settings.length) > 0) {\r\n                    var info = items.settings[index].info;\r\n                    targetedAdapter.startDate = info.sourceAppointment.startDate;\r\n                    targetedAdapter.endDate = info.sourceAppointment.endDate\r\n                }\r\n                return new _dataStructures.AppointmentTooltipInfo(appointment, targetedAdapter.source(), items.colors[index], items.settings[index])\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onButtonClick\",\r\n        value: function(e, options) {\r\n            var $button = (0, _renderer.default)(e.element);\r\n            this.instance.showAppointmentTooltipCore($button, $button.data(\"items\"), this._getExtraOptionsForTooltip(options))\r\n        }\r\n    }, {\r\n        key: \"_getExtraOptionsForTooltip\",\r\n        value: function(options) {\r\n            return {\r\n                clickEvent: this._clickEvent(options.onAppointmentClick).bind(this),\r\n                dragBehavior: options.allowDrag && this._createTooltipDragBehavior().bind(this),\r\n                dropDownAppointmentTemplate: this.instance.option().dropDownAppointmentTemplate,\r\n                isButtonClick: true\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_clickEvent\",\r\n        value: function(onAppointmentClick) {\r\n            var _this2 = this;\r\n            return function(e) {\r\n                var config = {\r\n                    itemData: e.itemData.appointment,\r\n                    itemElement: e.itemElement\r\n                };\r\n                var createClickEvent = (0, _extend.extendFromObject)(_this2.instance.fire(\"mapAppointmentFields\", config), e, false);\r\n                delete createClickEvent.itemData;\r\n                delete createClickEvent.itemIndex;\r\n                delete createClickEvent.itemElement;\r\n                onAppointmentClick(createClickEvent)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createTooltipDragBehavior\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            return function(e) {\r\n                var $element = (0, _renderer.default)(e.element);\r\n                var workSpace = _this3.instance.getWorkSpace();\r\n                var getItemData = function(itemElement) {\r\n                    var _$$data;\r\n                    return null === (_$$data = (0, _renderer.default)(itemElement).data(_constants.LIST_ITEM_DATA_KEY)) || void 0 === _$$data ? void 0 : _$$data.appointment\r\n                };\r\n                var getItemSettings = function(_, event) {\r\n                    return event.itemSettings\r\n                };\r\n                var options = {\r\n                    filter: \".\".concat(_constants.LIST_ITEM_CLASS),\r\n                    isSetCursorOffset: true\r\n                };\r\n                workSpace._createDragBehaviorBase($element, getItemData, getItemSettings, options)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getCollectorOffset\",\r\n        value: function(width, cellWidth) {\r\n            return cellWidth - width - this._getCollectorRightOffset()\r\n        }\r\n    }, {\r\n        key: \"_getCollectorRightOffset\",\r\n        value: function() {\r\n            return this.instance.getRenderingStrategyInstance()._isCompactTheme() ? COMPACT_THEME_WEEK_VIEW_COLLECTOR_OFFSET : WEEK_VIEW_COLLECTOR_OFFSET\r\n        }\r\n    }, {\r\n        key: \"_makeBackgroundDarker\",\r\n        value: function(button) {\r\n            button.css(\"boxShadow\", \"inset \".concat((0, _position.getBoundingRect)(button.get(0)).width, \"px 0 0 0 rgba(0, 0, 0, 0.3)\"))\r\n        }\r\n    }, {\r\n        key: \"_makeBackgroundColor\",\r\n        value: function($button, colors, color) {\r\n            _deferred.when.apply(null, colors).done(function() {\r\n                this._makeBackgroundColorCore($button, color, arguments)\r\n            }.bind(this))\r\n        }\r\n    }, {\r\n        key: \"_makeBackgroundColorCore\",\r\n        value: function($button, color, itemsColors) {\r\n            var paintButton = true;\r\n            var currentItemColor;\r\n            color && color.done(function(color) {\r\n                if (itemsColors.length) {\r\n                    currentItemColor = itemsColors[0];\r\n                    for (var i = 1; i < itemsColors.length; i++) {\r\n                        if (currentItemColor !== itemsColors[i]) {\r\n                            paintButton = false;\r\n                            break\r\n                        }\r\n                        currentItemColor = color\r\n                    }\r\n                }\r\n                color && paintButton && $button.css(\"backgroundColor\", color)\r\n            }.bind(this))\r\n        }\r\n    }, {\r\n        key: \"_setPosition\",\r\n        value: function(element, position) {\r\n            (0, _translator.move)(element, {\r\n                top: position.top,\r\n                left: position.left\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createCompactButton\",\r\n        value: function(template, options) {\r\n            var _this4 = this;\r\n            var $button = this._createCompactButtonElement(options);\r\n            return this.instance._createComponent($button, _button.default, {\r\n                type: \"default\",\r\n                width: options.width,\r\n                height: options.height,\r\n                onClick: function(e) {\r\n                    return _this4._onButtonClick(e, options)\r\n                },\r\n                template: this._renderTemplate(template, options.items, options.isCompact)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createCompactButtonElement\",\r\n        value: function(_ref) {\r\n            var isCompact = _ref.isCompact,\r\n                $container = _ref.$container,\r\n                width = _ref.width,\r\n                coordinates = _ref.coordinates,\r\n                applyOffset = _ref.applyOffset,\r\n                cellWidth = _ref.cellWidth;\r\n            var result = (0, _renderer.default)(\"<div>\").addClass(APPOINTMENT_COLLECTOR_CLASS).toggleClass(COMPACT_APPOINTMENT_COLLECTOR_CLASS, isCompact).appendTo($container);\r\n            var offset = applyOffset ? this._getCollectorOffset(width, cellWidth) : 0;\r\n            this._setPosition(result, {\r\n                top: coordinates.top,\r\n                left: coordinates.left + offset\r\n            });\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_renderTemplate\",\r\n        value: function(template, items, isCompact) {\r\n            return new _function_template.FunctionTemplate(function(options) {\r\n                return template.render({\r\n                    model: {\r\n                        appointmentCount: items.data.length,\r\n                        isCompact: isCompact\r\n                    },\r\n                    container: options.container\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createTemplate\",\r\n        value: function(count, isCompact) {\r\n            this._initButtonTemplate(count, isCompact);\r\n            return this.instance._getAppointmentTemplate(\"appointmentCollectorTemplate\")\r\n        }\r\n    }, {\r\n        key: \"_initButtonTemplate\",\r\n        value: function(count, isCompact) {\r\n            var _this5 = this;\r\n            this.instance._templateManager.addDefaultTemplates({\r\n                appointmentCollector: new _function_template.FunctionTemplate(function(options) {\r\n                    return _this5._createButtonTemplate(count, (0, _renderer.default)(options.container), isCompact)\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createButtonTemplate\",\r\n        value: function(appointmentCount, element, isCompact) {\r\n            var text = isCompact ? appointmentCount : _message.default.getFormatter(\"dxScheduler-moreAppointments\")(appointmentCount);\r\n            return element.append((0, _renderer.default)(\"<span>\").text(text)).addClass(APPOINTMENT_COLLECTOR_CONTENT_CLASS)\r\n        }\r\n    }]);\r\n    return CompactAppointmentsHelper\r\n}();\r\nexports.CompactAppointmentsHelper = CompactAppointmentsHelper;\r\n"]},"metadata":{},"sourceType":"script"}