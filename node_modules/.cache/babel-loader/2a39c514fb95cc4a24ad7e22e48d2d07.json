{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import SimpleReactValidator from\"simple-react-validator\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCustomerPlusSettings,updateCustomerPlus,CreateCustomerPlus,getCustomerPlus}from\"redux/actions/customerPlus\";import{NormalInput,NormalDateTime,NormalSelect,NormalMultiSelect,NormalButton,LayoutEditor}from\"component/common\";import{withTranslation}from\"react-i18next\";import{dateFormat}from\"service/helperFunctions\";import{history}from\"helpers\";import{updateForm}from\"redux/actions/common\";export var AddCustomerPlusClass=/*#__PURE__*/function(_Component){_inherits(AddCustomerPlusClass,_Component);var _super=_createSuper(AddCustomerPlusClass);function AddCustomerPlusClass(){var _this;_classCallCheck(this,AddCustomerPlusClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{},fields:[{id:1,field_name:\"cust_dob\",display_field_name:\"Customer DOB\",visible_in_registration:true,visible_in_listing:true,visible_in_profile:true,mandatory:true,data_type:\"Dat\",selection:null}],isLoading:true,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.loadData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.getCustomerPlusSettings(\"details\");case 2:_this.state.fields=_this.props.customerPlusSettings.filter(function(e){return e.visible_in_registration;});_this.state.formFields=_this.state.fields.reduce(function(map,obj){if(obj.data_type==\"date\")map[obj.field_name]=dateFormat(new Date());else if(obj.data_type==\"datetime\")map[obj.field_name]=new Date().toISOString();else map[obj.field_name]=null;return map;},{});if(!_this.props.match.params.id){_context.next=8;break;}_context.next=7;return _this.props.getCustomerPlus(_this.props.match.params.id);case 7:_this.state.formFields=_this.props.customerPlusDetail;case 8:_this.setState({isLoading:false});case 9:case\"end\":return _context.stop();}}},_callee);}));_this.handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(type){var formFields,res,formField,_formField;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:debugger;if(_this.validator.allValid()){_context2.next=3;break;}return _context2.abrupt(\"return\",_this.validator.showMessages());case 3:_this.setState({isLoading:true});console.log(_this.state.formFields);_context2.prev=5;_this.state.fields.filter(function(e){return e.data_type==\"date\";}).forEach(function(e){if(_this.state.formFields[e.field_name]){_this.state.formFields[e.field_name]=dateFormat(_this.state.formFields[e.field_name]);}});_this.state.fields.filter(function(e){return e.data_type==\"datetime\";}).forEach(function(e){if(_this.state.formFields[e.field_name]){var date=new Date(_this.state.formFields[e.field_name]);_this.state.formFields[e.field_name]=date.toISOString();}});if(!_this.props.match.params.id){_context2.next=17;break;}formFields={};_this.state.fields.forEach(function(e){formFields[e.field_name]=_this.state.formFields[e.field_name];});_context2.next=13;return _this.props.updateCustomerPlus(_this.props.match.params.id+\"/\",JSON.stringify(formFields));case 13:res=_context2.sent;if(res.status==200){if(type==\"catalog\"){formField={custId:0,custName:\"\"};formField[\"custId\"]=res.data.id;formField[\"custName\"]=res.data.cust_name;_this.setState({isLoading:false});_this.props.updateForm(\"basicApptDetail\",formField);history.push(\"/admin/cart\");}else{history.push(\"/admin/customerplus/\".concat(_this.props.match.params.id,\"/details\"));}}_context2.next=21;break;case 17:_context2.next=19;return _this.props.CreateCustomerPlus(JSON.stringify(_this.state.formFields));case 19:res=_context2.sent;if(type==\"catalog\"){_formField={custId:0,custName:\"\"};_formField[\"custId\"]=res.data.id;_formField[\"custName\"]=res.data.cust_name;_this.props.updateForm(\"basicApptDetail\",_formField);history.push(\"/admin/cart\");}else{history.push(\"/admin/customerPlus\");}case 21:_context2.next=26;break;case 23:_context2.prev=23;_context2.t0=_context2[\"catch\"](5);console.log(_context2.t0,\"catchmessage\");case 26:_this.setState({isLoading:false});case 27:case\"end\":return _context2.stop();}}},_callee2,null,[[5,23]]);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleCancel=function(){if(_this.props.match.params.id){_this.props.history.push(\"/admin/customerplus/\".concat(_this.props.match.params.id,\"/details\"));}else{_this.props.history.push(\"/admin/customerplus\");}};_this.handleChange=function(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.setState({formFields:formFields});};_this.handleMultiSelect=function(field,e){var formFields=Object.assign({},_this.state.formFields);formFields[field]=e;_this.setState({formFields:formFields});};_this.handleChangeBox=function(event){var formFields=Object.assign({},_this.state.formFields);formFields[event.target.name]=event.target.checked;_this.setState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formFields=_this.state.formFields;formFields[name]=value;_context3.next=4;return _this.setState({formFields:formFields});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}();_this.renderLayout=function(){var t=_this.props.t;var filtered=_this.state.fields;var renderFormData=function renderFormData(e,index){return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},e.data_type==\"text\"?/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:_this.state.formFields[e.field_name],name:e.field_name,onChange:_this.handleChange}):e.data_type==\"date\"?/*#__PURE__*/React.createElement(NormalDateTime,{onChange:_this.handleDatePick,value:_this.state.formFields[e.field_name]?new Date(_this.state.formFields[e.field_name]):new Date(),name:e.field_name,showYearDropdown:true}):e.data_type==\"datetime\"?/*#__PURE__*/React.createElement(NormalDateTime,{onChange:_this.handleDatePick,value:_this.state.formFields[e.field_name]?new Date(_this.state.formFields[e.field_name]):new Date(),name:e.field_name,showYearDropdown:true}):e.data_type==\"selection\"?/*#__PURE__*/React.createElement(NormalSelect,{options:e.selection,value:_this.state.formFields[e.field_name],name:e.field_name,onChange:_this.handleChange}):e.data_type==\"multiSelect\"?/*#__PURE__*/React.createElement(NormalMultiSelect,{options:e.selection,defaultValue:_this.state.formFields[e.field_name],name:e.field_name,handleMultiSelect:function handleMultiSelect(e){return _this.handleMultiSelect(e.field_name,e);}}):e.data_type==\"boolean\"?/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",checked:_this.state.formFields[e.field_name],name:e.field_name,onChange:_this.handleChangeBox}):e.data_type==\"number\"?/*#__PURE__*/React.createElement(NormalInput,{type:\"number\",placeholder:\"Enter here\",value:_this.state.formFields[e.field_name],name:e.field_name,onChange:_this.handleChange}):t(\"NO FILED RENDER DATA FOUND\")),e.mandatory?_this.validator.message(e.display_field_name,_this.state.formFields[e.field_name],\"required\"):null);};return filtered.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{key:\"\".concat(e.id),style:e.data_type==\"date\"||e.data_type==\"datetime\"?{zIndex:1}:{}},e.showLabel&&/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 p-0\"},t(e.display_field_name),e.mandatory&&/*#__PURE__*/React.createElement(\"label\",{className:\"text-danger p-0 m-0\"},\"*\")),renderFormData(e));});};return _this;}_createClass(AddCustomerPlusClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentDidMount\",value:function componentDidMount(){this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});this.loadData();}},{key:\"render\",value:function render(){var _this2=this;var isLoading=this.state.isLoading;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"create-customer-section container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"create-customerplus\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav p-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\",onClick:function onClick(){_this2.props.match.params.id?_this2.props.history.push(\"/admin/customerplus/\".concat(_this2.props.match.params.id,\"/details\")):_this2.props.history.push(\"/admin/customerplus/\");}},t(\"Customer\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t((this.props.match.params.id?\"Edit\":\"Add\")+\" New Customer\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"customer-detail\"},isLoading?/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2 row\"},/*#__PURE__*/React.createElement(LayoutEditor,{fields:this.state.fields,editable:false},this.renderLayout())),/*#__PURE__*/React.createElement(\"div\",{className:\"row d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-12 mb-4\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleCancel,label:\"CANCEL\",danger:true,className:\"mr-2 col-12\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-12 mb-4\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this2.handleSubmit();},label:\"SAVE\",success:true,className:\"mr-2 col-12\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-12 mb-4\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this2.handleSubmit(\"catalog\");},label:\"SAVE & CATALOG\",success:true,className:\"mr-2 col-12\"})))))));}}]);return AddCustomerPlusClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{customerPlusDetail:state.customerPlus.customerPlusDetail,customerPlusSettings:state.customerPlus.customerPlusSettings};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCustomerPlusSettings:getCustomerPlusSettings,updateCustomerPlus:updateCustomerPlus,CreateCustomerPlus:CreateCustomerPlus,getCustomerPlus:getCustomerPlus,updateForm:updateForm},dispatch);};export var AddCustomerPlus=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddCustomerPlusClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/AddCustomerPlus/index.js"],"names":["React","Component","SimpleReactValidator","connect","bindActionCreators","getCustomerPlusSettings","updateCustomerPlus","CreateCustomerPlus","getCustomerPlus","NormalInput","NormalDateTime","NormalSelect","NormalMultiSelect","NormalButton","LayoutEditor","withTranslation","dateFormat","history","updateForm","AddCustomerPlusClass","state","formFields","fields","id","field_name","display_field_name","visible_in_registration","visible_in_listing","visible_in_profile","mandatory","data_type","selection","isLoading","isMounted","updateState","data","setState","loadData","props","customerPlusSettings","filter","e","reduce","map","obj","Date","toISOString","match","params","customerPlusDetail","handleSubmit","type","validator","allValid","showMessages","console","log","forEach","date","JSON","stringify","res","status","formField","custId","custName","cust_name","push","handleCancel","handleChange","target","value","name","Object","assign","handleMultiSelect","field","handleChangeBox","event","checked","handleDatePick","renderLayout","t","filtered","renderFormData","index","message","zIndex","showLabel","validators","element","autoForceUpdate","mapStateToProps","customerPlus","mapDispatchToProps","dispatch","AddCustomerPlus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.scss\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  getCustomerPlusSettings,\n  updateCustomerPlus,\n  CreateCustomerPlus,\n  getCustomerPlus,\n} from \"redux/actions/customerPlus\";\nimport {\n  NormalInput,\n  NormalDateTime,\n  NormalSelect,\n  NormalMultiSelect,\n  NormalButton,\n  LayoutEditor,\n} from \"component/common\";\nimport { withTranslation } from \"react-i18next\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport { history } from \"helpers\";\nimport { updateForm } from \"redux/actions/common\";\n\nexport class AddCustomerPlusClass extends Component {\n  state = {\n    formFields: {},\n    fields: [\n      {\n        id: 1,\n        field_name: \"cust_dob\",\n        display_field_name: \"Customer DOB\",\n        visible_in_registration: true,\n        visible_in_listing: true,\n        visible_in_profile: true,\n        mandatory: true,\n        data_type: \"Dat\",\n        selection: null,\n      },\n    ],\n    isLoading: true,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = data => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    this.validator = new SimpleReactValidator({\n      validators: {},\n      element: message => (\n        <span className=\"error-message text-danger validNo fs14\">\n          {message}\n        </span>\n      ),\n      autoForceUpdate: this,\n    });\n    this.loadData();\n  }\n\n  loadData = async () => {\n    await this.props.getCustomerPlusSettings(\"details\");\n    this.state.fields = this.props.customerPlusSettings.filter(\n      e => e.visible_in_registration\n    );\n    this.state.formFields = this.state.fields.reduce((map, obj) => {\n      if (obj.data_type == \"date\") map[obj.field_name] = dateFormat(new Date());\n      else if (obj.data_type == \"datetime\")\n        map[obj.field_name] = new Date().toISOString();\n      else map[obj.field_name] = null;\n      return map;\n    }, {});\n    if (this.props.match.params.id) {\n      await this.props.getCustomerPlus(this.props.match.params.id);\n      this.state.formFields = this.props.customerPlusDetail;\n    }\n    this.setState({ isLoading: false });\n  };\n\n  handleSubmit = async type => {\n    debugger;\n    if (!this.validator.allValid()) return this.validator.showMessages();\n    this.setState({ isLoading: true });\n    console.log(this.state.formFields);\n    try {\n      this.state.fields\n        .filter(e => e.data_type == \"date\")\n        .forEach(e => {\n          if (this.state.formFields[e.field_name]) {\n            this.state.formFields[e.field_name] = dateFormat(\n              this.state.formFields[e.field_name]\n            );\n          }\n        });\n      this.state.fields\n        .filter(e => e.data_type == \"datetime\")\n        .forEach(e => {\n          if (this.state.formFields[e.field_name]) {\n            let date = new Date(this.state.formFields[e.field_name]);\n            this.state.formFields[e.field_name] = date.toISOString();\n          }\n        });\n      if (this.props.match.params.id) {\n        var formFields = {};\n        this.state.fields.forEach(e => {\n          formFields[e.field_name] = this.state.formFields[e.field_name];\n        });\n        var res = await this.props.updateCustomerPlus(\n          this.props.match.params.id + \"/\",\n          JSON.stringify(formFields)\n        );\n        if (res.status == 200) {\n          if (type == \"catalog\") {\n            let formField = { custId: 0, custName: \"\" };\n            formField[\"custId\"] = res.data.id;\n            formField[\"custName\"] = res.data.cust_name;\n            this.setState({ isLoading: false });\n            this.props.updateForm(\"basicApptDetail\", formField);\n            history.push(\"/admin/cart\");\n          } else {\n            history.push(\n              `/admin/customerplus/${this.props.match.params.id}/details`\n            );\n          }\n        }\n      } else {\n        var res = await this.props.CreateCustomerPlus(\n          JSON.stringify(this.state.formFields)\n        );\n        if (type == \"catalog\") {\n          let formField = { custId: 0, custName: \"\" };\n          formField[\"custId\"] = res.data.id;\n          formField[\"custName\"] = res.data.cust_name;\n          this.props.updateForm(\"basicApptDetail\", formField);\n          history.push(\"/admin/cart\");\n        } else {\n          history.push(`/admin/customerPlus`);\n        }\n      }\n    } catch (e) {\n      console.log(e, \"catchmessage\");\n    }\n    this.setState({ isLoading: false });\n  };\n\n  handleCancel = () => {\n    if (this.props.match.params.id) {\n      this.props.history.push(\n        `/admin/customerplus/${this.props.match.params.id}/details`\n      );\n    } else {\n      this.props.history.push(`/admin/customerplus`);\n    }\n  };\n\n  handleChange = ({ target: { value, name } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n\n    formFields[name] = value;\n\n    this.setState({\n      formFields,\n    });\n  };\n\n  handleMultiSelect = (field, e) => {\n    let formFields = Object.assign({}, this.state.formFields);\n\n    formFields[field] = e;\n\n    this.setState({\n      formFields,\n    });\n  };\n\n  handleChangeBox = event => {\n    let formFields = Object.assign({}, this.state.formFields);\n\n    formFields[event.target.name] = event.target.checked;\n\n    this.setState({\n      formFields,\n    });\n  };\n\n  handleDatePick = async (name, value) => {\n    let { formFields } = this.state;\n    formFields[name] = value;\n    await this.setState({\n      formFields,\n    });\n  };\n\n  renderLayout = () => {\n    let { t } = this.props;\n    let filtered = this.state.fields;\n    const renderFormData = (e, index) => {\n      return (\n        <div key={index}>\n          <div className=\"input-group\">\n            {e.data_type == \"text\" ? (\n              <NormalInput\n                placeholder=\"Enter here\"\n                value={this.state.formFields[e.field_name]}\n                name={e.field_name}\n                onChange={this.handleChange}\n              />\n            ) : e.data_type == \"date\" ? (\n              <NormalDateTime\n                onChange={this.handleDatePick}\n                value={\n                  this.state.formFields[e.field_name]\n                    ? new Date(this.state.formFields[e.field_name])\n                    : new Date()\n                }\n                name={e.field_name}\n                showYearDropdown={true}\n              />\n            ) : e.data_type == \"datetime\" ? (\n              <NormalDateTime\n                onChange={this.handleDatePick}\n                value={\n                  this.state.formFields[e.field_name]\n                    ? new Date(this.state.formFields[e.field_name])\n                    : new Date()\n                }\n                name={e.field_name}\n                showYearDropdown={true}\n              />\n            ) : e.data_type == \"selection\" ? (\n              <NormalSelect\n                options={e.selection}\n                value={this.state.formFields[e.field_name]}\n                name={e.field_name}\n                onChange={this.handleChange}\n              />\n            ) : e.data_type == \"multiSelect\" ? (\n              <NormalMultiSelect\n                options={e.selection}\n                defaultValue={this.state.formFields[e.field_name]}\n                name={e.field_name}\n                handleMultiSelect={e => this.handleMultiSelect(e.field_name, e)}\n              />\n            ) : e.data_type == \"boolean\" ? (\n              <input\n                type=\"checkbox\"\n                checked={this.state.formFields[e.field_name]}\n                name={e.field_name}\n                onChange={this.handleChangeBox}\n              />\n            ) : e.data_type == \"number\" ? (\n              <NormalInput\n                type=\"number\"\n                placeholder=\"Enter here\"\n                value={this.state.formFields[e.field_name]}\n                name={e.field_name}\n                onChange={this.handleChange}\n              />\n            ) : (\n              t(\"NO FILED RENDER DATA FOUND\")\n            )}\n          </div>\n          {e.mandatory\n            ? this.validator.message(\n                e.display_field_name,\n                this.state.formFields[e.field_name],\n                \"required\"\n              )\n            : null}\n        </div>\n      );\n    };\n    return filtered.map(e => {\n      return (\n        <div\n          key={`${e.id}`}\n          style={\n            e.data_type == \"date\" || e.data_type == \"datetime\"\n              ? { zIndex: 1 }\n              : {}\n          }\n        >\n          {e.showLabel && (\n            <label className=\"text-left text-black common-label-text fs-17 p-0\">\n              {t(e.display_field_name)}\n              {e.mandatory && <label className=\"text-danger p-0 m-0\">*</label>}\n            </label>\n          )}\n          {renderFormData(e)}\n        </div>\n      );\n    });\n  };\n\n  render() {\n    let { isLoading } = this.state;\n    let { t } = this.props;\n    return (\n      <div className=\"create-customer-section container-fluid\">\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Customer</p> */}\n        <div className=\"create-customerplus\">\n          <div className=\"head-label-nav p-2\">\n            <p\n              className=\"category\"\n              onClick={() => {\n                this.props.match.params.id\n                  ? this.props.history.push(\n                      `/admin/customerplus/${this.props.match.params.id}/details`\n                    )\n                  : this.props.history.push(`/admin/customerplus/`);\n              }}\n            >\n              {t(\"Customer\")}\n            </p>\n            <i className=\"icon-right mx-md-3\"></i>\n            <p className=\"sub-category\">\n              {t(\n                (this.props.match.params.id ? \"Edit\" : \"Add\") + \" New Customer\"\n              )}\n            </p>\n          </div>\n          <div className=\"customer-detail\">\n            {isLoading ? (\n              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                <div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"form-group mb-4 pb-2 row\">\n                  <LayoutEditor fields={this.state.fields} editable={false}>\n                    {this.renderLayout()}\n                  </LayoutEditor>\n                </div>\n                <div className=\"row d-flex justify-content-center\">\n                  <div className=\"col-md-4 col-sm-12 mb-4\">\n                    <NormalButton\n                      onClick={this.handleCancel}\n                      label=\"CANCEL\"\n                      danger={true}\n                      className=\"mr-2 col-12\"\n                    />\n                  </div>\n                  <div className=\"col-md-4 col-sm-12 mb-4\">\n                    <NormalButton\n                      onClick={() => this.handleSubmit()}\n                      label=\"SAVE\"\n                      success={true}\n                      className=\"mr-2 col-12\"\n                    />\n                  </div>\n                  <div className=\"col-md-4 col-sm-12 mb-4\">\n                    <NormalButton\n                      onClick={() => this.handleSubmit(\"catalog\")}\n                      label=\"SAVE &amp; CATALOG\"\n                      success={true}\n                      className=\"mr-2 col-12\"\n                    />\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  customerPlusDetail: state.customerPlus.customerPlusDetail,\n  customerPlusSettings: state.customerPlus.customerPlusSettings,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      getCustomerPlusSettings,\n      updateCustomerPlus,\n      CreateCustomerPlus,\n      getCustomerPlus,\n      updateForm,\n    },\n    dispatch\n  );\n};\n\nexport const AddCustomerPlus = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(AddCustomerPlusClass)\n);\n"]},"metadata":{},"sourceType":"module"}