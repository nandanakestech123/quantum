{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDateTime,NormalMultiSelect,NormalTextarea,TableWrapper,InputSearch}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{getJobtitle,getCommonApi,commonCreateApi,commonUpdateApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{NavLink}from\"react-router-dom\";import{createPO,updatePO,deletePO}from\"redux/actions/po\";import{getTokenDetails}from\"redux/actions/auth\";import{useLocation}from\"react-router-dom\";import _ from\"lodash\";import updateBtn from\"assets/images/edit1.png\";import deleteBtn from\"assets/images/delete1.png\";import saveBtn from\"assets/images/save.png\";import{history}from\"helpers\";import{Toast}from\"service/toast\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";import PDF from\"../../StocksPDF/DO/index\";import Blur from\"react-css-blur\";export var AddStocksDOClass=/*#__PURE__*/function(_Component){_inherits(AddStocksDOClass,_Component);var _super=_createSuper(AddStocksDOClass);function AddStocksDOClass(){var _this;_classCallCheck(this,AddStocksDOClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_defineProperty({formFields:{DO_NO:\"\",SUPP_Code:\"\",DO_DATE:new Date(),contactPerson:\"\",DO_STATUS:\"\",ItemSite_Code:\"\",DO_REMK1:\"\",terms:\"\",DO_TTQTY:\"\",DO_TTAMT:\"\"},//item table\nheaderDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"UOM\"},{label:\"Brand\"},{label:\"Unit Price\"},{label:\"Stock Qty\"},{label:\"MOQ Qty\"},{label:\"Range\"},{label:\"Req Qty\"},{label:\"\"}],// selected item table\nheaderSelectedDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"UOM\"},{label:\"Unit Price\"},{label:\"Stock Qty\"},{label:\"Required Qty\"},{label:\"Delivery Qty\"},{label:\"\"},{label:\"\"}],listDetail:{},isPrintPdfClick:false,siteAddr:[],hqonly:0,UOM:\"\",fkProject:\"\",fkQuotation:\"\",statusOption:[],contactOption:[],supOption:[],stateOption:[],cityOption:[],detailsList:[],storedItemList:[],itemListBeforeEdit:[],pageMeta:{},disableEdit:false,is_loading:true,isMounted:true,blur:false,search:\"\",active:false,currentIndex:-1,page:1,// limit: 10,\nlimit:4,isOpenvoidCheckout:false,isLoading:true},\"isMounted\",true);_this.componentWillMount=function(){// if (this.props.location.state){\n//   if(this.props.location.state.quoId){\n//     this.state.fkQuotation = this.props.location.state.quoId\n//     this.setState({fkQuotation : this.state.fkQuotation})\n//     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n//     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n//   }\n// }\n// this.getStatus();\n// this.getCountry();\n// this.getState();\n// this.getCity();\n_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){// if (this.props.location.state){\n//   if(this.props.location.state.projectFk){\n//     this.state.fkProject = this.props.location.state.projectFk\n//     this.setState({fkProject : this.state.fkProject})\n//     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n//     console.log(\"this.state.fkProject\",this.state.fkProject)\n//   }\n// this.state.fkQuotation = this.props.location.state.quoId\n// this.setState({fkQuotation : this.state.fkQuotation})\n// console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n// console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n// }\nconsole.log(\"this.props\",_this.props);console.log(\"this.state\",_this.state);// console.log(\"useLocation()\",useLocation())\n_this.getStatus();_this.handleUpdateTotal();};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var _this$state2,active,currentValue;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state2=_this.state,active=_this$state2.active,currentValue=_this$state2.currentValue;_context.next=3;return _this.setState({selectedMenu:key.id});case 3:_this.setState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});if(name==\"SUPP_Code\"){var contactOption=_this.state.contactOption;contactOption=[];_this.props.getCommonApi(\"supplycontactinfo/?searchsuppliercode=\".concat(value)).then(function(res){console.log(\"res.data\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;contactOption.push({value:key.ContactInfo_ID,label:key.ContactInfo_Name,suppCode:key.Supplier_Code,phone:key.ContactInfo_PhoneNo,email:key.ContactInfo_Email,active:key.Active});}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(\"contactOption\",contactOption);_this.setState({contactOption:contactOption});});}};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}();_this.getStatus=function(){var statusOption=_this.state.statusOption;statusOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"dropdown\").then(function(res){console.log(\"res.data\",res);var _iterator2=_createForOfIteratorHelper(res.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;statusOption.push({value:key.id,label:key.AllDropdown_Item,code:key.AllDropdown_Desc,active:key.Active});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Approved\"){statusOption.splice(i,1);}if(statusOption[i].label==\"Not Approved\"){statusOption.splice(i,1);}}if(!_this.props.match.params.id){// for (var i = 0; i < statusOption.length; i++){\n//   if(statusOption[i].label == \"Posted\") {\n//     statusOption.splice(i,1)\n//   }\n// }\nvar _iterator3=_createForOfIteratorHelper(statusOption),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var item=_step3.value;if(item.label==\"Open\"){statusOption=[item];}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}console.log(\"statusOption\",statusOption);_this.setState({statusOption:statusOption},function(){_this.getContact();});});};_this.getContact=function(){var contactOption=_this.state.contactOption;contactOption=[];_this.props.getCommonApi(\"supplycontactinfo\").then(function(res){console.log(\"res.data\",res);var _iterator4=_createForOfIteratorHelper(res.data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;contactOption.push({value:key.ContactInfo_ID,label:key.ContactInfo_Name,suppCode:key.Supplier_Code,phone:key.ContactInfo_PhoneNo,email:key.ContactInfo_Email,active:key.Active});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}console.log(\"contactOption\",contactOption);_this.setState({contactOption:contactOption},function(){_this.getSup();});});};_this.getSup=function(){var _this$state3=_this.state,supOption=_this$state3.supOption,blur=_this$state3.blur;supOption=[];_this.props.getCommonApi(\"itemsupply\").then(function(res){console.log(\"res.data\",res);var _iterator5=_createForOfIteratorHelper(res.data),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;supOption.push({value:key.SPLY_CODE,label:key.SUPPLYDESC,addr1:key.SPLY_ADDR1,addr2:key.SPLY_ADDR2,addr3:key.SPLY_ADDR3,postalCode:key.SPLY_POSCD,state:key.SPLY_STATE,city:key.SPLY_CITY,country:key.SPLY_CNTRY// active: key.itm_isactive,\n});}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}console.log(\"supOption\",supOption);_this.setState({supOption:supOption},function(){_this.getDetails();console.log(\"this.props.tokenDetail.site_code in getSup\",_this.props.tokenDetail.site_code);_this.getSiteDetail(_this.props.tokenDetail.site_code);if(_this.props.match.params.id){_this.autoFillForm();}else{_this.prefillDefault();}if(_this.props.tokenDetail.role_code!==\"1\"&&_this.props.tokenDetail.role_code!==\"2\"){blur=true;_this.setState({blur:blur});}});});};_this.prefillDefault=function(){var _this$state4=_this.state,disableEdit=_this$state4.disableEdit,statusOption=_this$state4.statusOption,contactOption=_this$state4.contactOption,supOption=_this$state4.supOption;// if (contactOption.length!==0) {\n//   //matching status name with the id to set prefill status in dropdown\n//   this.state.formFields[\"contactPerson\"] = contactOption.find(option => option.label === this.props.tokenDetail.username).value\n// }\nif(statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"DO_STATUS\"]=statusOption.find(function(option){return option.label===\"Open\";}).value;}_this.state.formFields[\"ItemSite_Code\"]=1;_this.setState(_this.state.formFields);};_this.getSiteDetail=function(ItemSite_Code){var _this$state5=_this.state,siteAddr=_this$state5.siteAddr,hqonly=_this$state5.hqonly;siteAddr=[];_this.props.getCommonApi(\"sitecode\").then(function(res){console.log(\"res.data\",res);siteAddr=res.data;console.log(\"siteAddr\",siteAddr);_this.setState({siteAddr:siteAddr});var _iterator6=_createForOfIteratorHelper(res.data),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var item=_step6.value;if(item.ItemSite_Code==ItemSite_Code){hqonly=item.hq_only;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}console.log(\"hqonly\",hqonly);_this.setState({hqonly:hqonly});});};_this.getAutofillItemDetails=function(DO_NO){console.log(\"DO_NO\",DO_NO);_this.props.getCommonApi(\"doitem/?searchdono=\".concat(DO_NO,\"&limit=10000\")).then(function(res){console.log(\"res in getAutofillItemDetails\",res);// this.state.storedItemListStored = res.data.dataList\nif(res.status==200){var _iterator7=_createForOfIteratorHelper(res.data.dataList),_step7;try{var _loop=function _loop(){var item=_step7.value;_this.props.getCommonApi(\"allstocklist/?searchitemdesc=\".concat(item.DOD_ITEMDESC,\"&searchsitecode=\").concat(_this.props.tokenDetail.site_code,\"&limit=100\")).then(function(resAll){console.log(resAll,\"dsfdfaafg\");// this.setState({ detailsListFull: [] });\nvar _iterator8=_createForOfIteratorHelper(resAll.data.dataList),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var data=_step8.value;console.log(\"data.Item_Desc\",data.Item_Desc);console.log(\"item.DOD_ITEMDESC\",item.DOD_ITEMDESC);console.log(\"data.UOM_DESC\",data.UOM_DESC);console.log(\"item.BrandName\",item.BrandName);if(data.Item_Desc==item.DOD_ITEMDESC&&data.UOM_DESC==item.BrandName){console.log(\"in if loop\");_this.state.storedItemList.push({item_code:item.DOD_ITEMCODE,Item_Desc:item.DOD_ITEMDESC,ITEM_UOM:item.BrandCode,UOM_DESC:item.BrandName,ITEM_COST:item.DOD_ITEMPRICE,QTY:data.QTY,DOD_POSTQTY:item.DOD_POSTQTY,item_quantity:item.DOD_QTY,amount:item.DOD_AMT,editing:false});_this.state.itemListBeforeEdit.push({item_id:item.DO_ID,item_code:item.DOD_ITEMCODE,UOM_DESC:item.BrandName});}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}_this.setState(_this.state.storedItemList);_this.setState(_this.state.itemListBeforeEdit);console.log(\"this.state.itemListBeforeEdit\",_this.state.itemListBeforeEdit);// console.log('res.data',res.data)\n// console.log('detailsListFull',detailsListFull)\n// console.log('pageMeta',pageMeta)\n});};for(_iterator7.s();!(_step7=_iterator7.n()).done;){_loop();}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}});};_this.autoFillForm=function(){var _this$state6=_this.state,disableEdit=_this$state6.disableEdit,statusOption=_this$state6.statusOption,contactOption=_this$state6.contactOption,supOption=_this$state6.supOption;_this.props.getCommonApi(\"dolist/?searchdoid=\".concat(_this.props.match.params.id)).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"po dataList\",res.data.dataList);// console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n// custName = res.data.dataList[0].customer_name\n// this.state.projectList = res.data.dataList\n_this.state.formFields[\"DO_NO\"]=res.data.dataList[0].DO_NO;_this.state.formFields[\"SUPP_Code\"]=res.data.dataList[0].SUPP_Code;// if (res.data.dataList[0].SUPP_Code && supOption.length!==0) {\n//   //matching status name with the id to set prefill status in dropdown\n//   this.state.formFields[\"SUPP_Code\"] = supOption.find(option => option.label === res.data.dataList[0].SUPP_Code).value\n//   console.log(\"res.data.dataList[0].SUPP_Code\",res.data.dataList[0].SUPP_Code)\n// }\n// this.state.formFields[\"SUPP_Code\"] = res.data.dataList[0].SUPP_Code\n_this.state.formFields[\"DO_DATE\"]=res.data.dataList[0].DO_DATE;console.log(\"contactOption in autofill\",contactOption);console.log(\"res.data.dataList[0].contactPerson\",res.data.dataList[0].contactPerson);if(res.data.dataList[0].contactPerson&&contactOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"contactPerson\"]=contactOption.find(function(option){return option.label===res.data.dataList[0].contactPerson;}).value;console.log(\"res.data.dataList[0].contactPerson\",res.data.dataList[0].contactPerson);}// console.log(\"statusOption in prefill\",this.state.statusOption)\n// console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status)\n// if status empty prevent err\nif(res.data.dataList[0].DO_STATUS&&statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"DO_STATUS\"]=statusOption.find(function(option){return option.label===res.data.dataList[0].DO_STATUS;}).value;console.log(\"res.data.dataList[0].DO_STATUS\",res.data.dataList[0].DO_STATUS);if(res.data.dataList[0].DO_STATUS==\"Posted\"){disableEdit=true;// for (var i = 0; i < statusOption.length; i++){\n//   if(statusOption[i].label == \"Posted\") {\n//     statusOption = statusOption.filter(e => e.label !== 'Open')\n//   }\n// }\n// console.log(\"statusOption when status is posted\",statusOption)\n_this.setState({disableEdit:disableEdit});console.log(\"this.state.disableEdit\",disableEdit);}}_this.state.formFields[\"ItemSite_Code\"]=1;_this.state.formFields[\"DO_REMK1\"]=res.data.dataList[0].DO_REMK1;_this.state.formFields[\"terms\"]=res.data.dataList[0].terms;_this.state.formFields[\"DO_TTQTY\"]=res.data.dataList[0].DO_TTQTY;_this.state.formFields[\"DO_TTAMT\"]=res.data.dataList[0].DO_TTAMT;// this.state.formFieldsDetailsStored.DO_TTQTY = res.data.dataList[0].DO_TTQTY\n_this.updateState(_this.state.formFields);// this.setState(this.state.formFieldsDetailsStored)\n// console.log(\"this.state.formFieldsDetailsStored\",this.state.formFieldsDetailsStored)\nconsole.log(\"this.state.formFields\",_this.state.formFields);_this.getAutofillItemDetails(res.data.dataList[0].DO_NO);case 16:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}());};_this.handleItemDetailsSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(formFields,DO_STATUS){var _this$state7,storedItemList,itemListBeforeEdit,statusOption,_iterator9,_step9,_loop2,_iterator10,_step10,_loop3;return _regeneratorRuntime.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this$state7=_this.state,storedItemList=_this$state7.storedItemList,itemListBeforeEdit=_this$state7.itemListBeforeEdit,statusOption=_this$state7.statusOption;_iterator9=_createForOfIteratorHelper(itemListBeforeEdit);try{_loop2=function _loop2(){var item=_step9.value;var found=storedItemList.some(function(el){return el.item_code===item.item_code&&el.UOM_DESC===item.UOM_DESC;});if(!found){_this.props.commonDeleteApi(\"doitem/\".concat(item.item_id,\"/\")).then(function(res){});}};for(_iterator9.s();!(_step9=_iterator9.n()).done;){_loop2();}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}_iterator10=_createForOfIteratorHelper(storedItemList);_context5.prev=4;_loop3=/*#__PURE__*/_regeneratorRuntime.mark(function _loop3(){var item,formDataItem;return _regeneratorRuntime.wrap(function _loop3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:item=_step10.value;formDataItem=new FormData();if(DO_STATUS){formDataItem.append(\"STATUS\",\"Posted\");}formDataItem.append(\"DOD_ITEMCODE\",item.item_code);formDataItem.append(\"DOD_ITEMDESC\",item.Item_Desc);formDataItem.append(\"BrandName\",item.UOM_DESC);formDataItem.append(\"BrandCode\",item.ITEM_UOM);formDataItem.append(\"DOD_ITEMPRICE\",item.ITEM_COST);formDataItem.append(\"DOD_QTY\",item.item_quantity);formDataItem.append(\"DOD_POSTQTY\",item.DOD_POSTQTY);formDataItem.append(\"DOD_TTLQTY\",item.QTY);formDataItem.append(\"DOD_AMT\",item.amount);formDataItem.append(\"ITEMSITE_CODE\",_this.props.tokenDetail.site_code);formDataItem.append(\"LineNumber\",1);_context4.next=16;return _this.props.getCommonApi(\"doitem/?searchdono=\".concat(formFields.DO_NO,\"&searchitemcode=\").concat(item.item_code,\"&searchuom=\").concat(item.UOM_DESC)).then(function(resGetItem){if(resGetItem.status==200){console.log(\"resGetItem\",resGetItem);_this.props.commonUpdateApi(\"doitem/\".concat(resGetItem.data.dataList[0].DO_ID,\"/\"),formDataItem).then(function(resUpdateItem){console.log(\"resUpdateItem\",resUpdateItem);});}else if(resGetItem.status==204){formDataItem.append(\"DO_No\",formFields.DO_NO);_this.props.commonCreateApi(\"doitem/\",formDataItem).then(function(resCreateItem){console.log(\"resCreateItem\",resCreateItem);});}});case 16:case\"end\":return _context4.stop();}}},_loop3);});_iterator10.s();case 7:if((_step10=_iterator10.n()).done){_context5.next=11;break;}return _context5.delegateYield(_loop3(),\"t0\",9);case 9:_context5.next=7;break;case 11:_context5.next=16;break;case 13:_context5.prev=13;_context5.t1=_context5[\"catch\"](4);_iterator10.e(_context5.t1);case 16:_context5.prev=16;_iterator10.f();return _context5.finish(16);case 19:case\"end\":return _context5.stop();}}},_callee4,null,[[4,13,16,19]]);}));return function(_x5,_x6){return _ref5.apply(this,arguments);};}();_this.handleSubmit=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(DO_STATUS){var _this$state8,formFields,statusOption,contactOption,hqonly,_storedItemList,_iterator11,_step11,item,formData,resDO;return _regeneratorRuntime.wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;if(!_this.validator.allValid()){_context6.next=69;break;}_this$state8=_this.state,formFields=_this$state8.formFields,statusOption=_this$state8.statusOption,contactOption=_this$state8.contactOption,hqonly=_this$state8.hqonly,_storedItemList=_this$state8.storedItemList;_iterator11=_createForOfIteratorHelper(_storedItemList);_context6.prev=4;_iterator11.s();case 6:if((_step11=_iterator11.n()).done){_context6.next=13;break;}item=_step11.value;if(!(item.QTY<item.DOD_POSTQTY)){_context6.next=11;break;}Toast({type:\"error\",message:\"Delivery Qty for \"+item.Item_Desc+\" exceeded limit\"});return _context6.abrupt(\"return\");case 11:_context6.next=6;break;case 13:_context6.next=18;break;case 15:_context6.prev=15;_context6.t0=_context6[\"catch\"](4);_iterator11.e(_context6.t0);case 18:_context6.prev=18;_iterator11.f();return _context6.finish(18);case 21:// let statusValue =\"\"\n// console.log('formFields.status', formFields.status)\n// for (let key of statusOption){\n//   // console.log(key.value)\n//   if(key.value == formFields.status){\n//     statusValue = key.label\n//   }\n// }\n// console.log(\"statusValue\", statusValue)\nformData=new FormData();// formData.append(\"DO_number\", formFields.PONumber);\n// check save or post\nif(DO_STATUS){formData.append(\"DO_STATUS\",\"Posted\");}else{formData.append(\"DO_STATUS\",formFields.DO_STATUS?statusOption.find(function(option){return option.value===parseInt(formFields.DO_STATUS);}).label:\"\");}console.log(\"formFields.ItemSite_Code\",formFields.ItemSite_Code);formData.append(\"SUPP_Code\",formFields.SUPP_Code);// ?\n// supOption.find(option => option.value === formFields.SUPP_Code).label\n// : \"\");\nformData.append(\"ItemSite_Code\",_this.props.tokenDetail.site_code);formData.append(\"contactPerson\",formFields.contactPerson?contactOption.find(function(option){return option.value===parseInt(formFields.contactPerson);}).label:\"\");formData.append(\"DO_REMK1\",formFields.DO_REMK1);formData.append(\"DO_DATE\",dateFormat(formFields.DO_DATE)+\" 00:00:00\");formData.append(\"terms\",formFields.terms);formData.append(\"DO_User\",_this.props.tokenDetail.username);formData.append(\"DO_TTQTY\",formFields.DO_TTQTY);formData.append(\"DO_TTAMT\",formFields.DO_TTAMT);console.log(\"formData\",formData);if(!_this.props.match.params.id){_context6.next=52;break;}_context6.next=37;return _this.handleItemDetailsSubmit(formFields,DO_STATUS);case 37:console.log(\"in if loop\");console.log(\"this.props.match.params.id\",_this.props.match.params.id);// var resDO = await this.props.updatePO(\n//   `${this.props.match.params.id}/`,\n//   formData\n// );\nif(!(hqonly==1)){_context6.next=45;break;}_context6.next=42;return _this.props.commonUpdateApi(\"dohqonlylist/\".concat(_this.props.match.params.id,\"/\"),formData);case 42:resDO=_context6.sent;_context6.next=48;break;case 45:_context6.next=47;return _this.props.commonUpdateApi(\"dolist/\".concat(_this.props.match.params.id,\"/\"),formData);case 47:resDO=_context6.sent;case 48:console.log(resDO);// this.handleAddressSubmit(resDO);\n// if(statusValue == \"Void\"){\n//   console.log(\"in void loop\")\n//   await this.props.deletePO(`${this.props.match.params.id}/`)\n// }\nhistory.push(\"/admin/inventory\");_context6.next=67;break;case 52:console.log(\"this.props before createPO\",_this.props);_context6.next=55;return _this.handleItemDetailsSubmit(formFields,DO_STATUS);case 55:if(!(hqonly==1)){_context6.next=61;break;}_context6.next=58;return _this.props.commonCreateApi(\"dohqonlylist/\",formData);case 58:resDO=_context6.sent;_context6.next=64;break;case 61:_context6.next=63;return _this.props.commonCreateApi(\"dolist/\",formData);case 63:resDO=_context6.sent;case 64:// .then(resDO => {\n//   console.log(\"resDO in create dolist\", resDO)\n// })\nconsole.log(\"resDO in createPO\",resDO);console.log(\"resDO.data.DO_NO\",resDO.data.DO_NO);// this.handleAddressSubmit(resDO);\nhistory.push(\"/admin/inventory\");case 67:_context6.next=70;break;case 69:_this.validator.showMessages();case 70:_context6.next=75;break;case 72:_context6.prev=72;_context6.t1=_context6[\"catch\"](0);_this.updateState({is_loading:false});case 75:case\"end\":return _context6.stop();}}},_callee5,null,[[0,72],[4,15,18,21]]);}));return function(_x7){return _ref6.apply(this,arguments);};}();_this.getDetails=function(){_this.updateState({isLoading:true});var _this$state9=_this.state,detailsList=_this$state9.detailsList,pageMeta=_this$state9.pageMeta,page=_this$state9.page,limit=_this$state9.limit,search=_this$state9.search;// let { Item_Desc } = formField;\n// console.log(\"this.props.siteCode\",this.props.siteCode)\n//     console.log(typeof this.props.siteCode)\n_this.props.getCommonApi(\"allstocklist/?searchitemdesc=\".concat(search,\"&searchsitecode=\").concat(_this.props.tokenDetail.site_code,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(function(res){console.log(res,\"dsfdfaafg\");_this.setState({detailsList:[]});detailsList=res.data.dataList;// pageMeta = res.data.meta.pagination;\npageMeta=res.data.pagination;// pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\n// this.setState({ detailsList, pageMeta });\n// this.setState({ detailsList });\nconsole.log(\"res.data\",res.data);console.log(\"detailsList\",detailsList);console.log(\"pageMeta\",pageMeta);_this.updateState({detailsList:detailsList,pageMeta:pageMeta,isLoading:false});});};_this.handlePagination=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(pageNo){var page;return _regeneratorRuntime.wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:page=_this.state.page;page=pageNo.page;_context7.next=4;return _this.setState({page:page});case 4:_this.getDetails();case 5:case\"end\":return _context7.stop();}}},_callee6);}));return function(_x8){return _ref7.apply(this,arguments);};}();_this.handlesearch=function(event){// event.persist();\nconsole.log(event.target.value);var search=_this.state.search;search=event.target.value;_this.setState({search:search});if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_this.getDetails({});case 1:case\"end\":return _context8.stop();}}},_callee7);})),500);}_this.debouncedFn();};_this.handleChangeQty=function(_ref9){var _ref9$target=_ref9.target,value=_ref9$target.value,name=_ref9$target.name;var _this$state10=_this.state,detailsList=_this$state10.detailsList,UOM=_this$state10.UOM;console.log(\"value\",value);console.log(\"name\",name);for(var list in detailsList){if(detailsList[list].item_code==name&&detailsList[list].UOM_DESC==UOM){detailsList[list].item_quantity=value;}console.log(\"detailsList[list].item_code\",detailsList[list].item_code);}_this.setState({detailsList:detailsList});console.log(\"detailsList in handleChange\",detailsList);// current_item_quantity = value\n// this.setState({ current_item_quantity })\n};_this.handleSelect=function(item_code,Item_Desc,UOM_DESC,ITEM_UOM,ITEM_COST,QTY,item_quantity){var _this$state11=_this.state,storedItemList=_this$state11.storedItemList,detailsList=_this$state11.detailsList,formFields=_this$state11.formFields;// console.log(\"item_code\", item_code)\n// console.log(\"Item_Desc\", Item_Desc)\n// console.log(\"item_price\", item_price)\nvar _iterator12=_createForOfIteratorHelper(storedItemList),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var item=_step12.value;if(item.item_code==item_code&&item.UOM_DESC==UOM_DESC){Toast({type:\"error\",message:\"This item already exists\"});return;}}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}if(_this.props.tokenDetail.site_code==\"HQ\"){if(QTY<1){Toast({type:\"error\",message:\"This item cannot be selected, quantity exceeds limit\"});return;}if(QTY<item_quantity){Toast({type:\"error\",message:\"This item cannot be selected, quantity exceeds limit\"});return;}}// for (let list in detailsList){\n//   if (detailsList[list].item_code == item_code){\n//     let item_quantiy = detailsList[list].item_quantity\nif(item_quantity){storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,ITEM_COST:ITEM_COST,QTY:QTY,DOD_POSTQTY:item_quantity,item_quantity:item_quantity,amount:Math.round(item_quantity*ITEM_COST*100)/100,editing:false});}else{item_quantity=1;storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,ITEM_COST:ITEM_COST,QTY:QTY,DOD_POSTQTY:item_quantity,item_quantity:item_quantity,amount:Math.round(item_quantity*ITEM_COST*100)/100,editing:false});}//   }\n// }\nconsole.log(\"storedItemList\",storedItemList);_this.setState({storedItemList:storedItemList});_this.handleUpdateTotal();// this.props.storeItemDetails(storedItemList, formFields)\n};_this.handleRemoveStoredItem=function(item_code,UOM_DESC){var _this$state12=_this.state,storedItemList=_this$state12.storedItemList,formFields=_this$state12.formFields;for(var i=0;i<storedItemList.length;i++){if(storedItemList[i].item_code==item_code&&storedItemList[i].UOM_DESC==UOM_DESC){storedItemList.splice(i,1);}}console.log(\"storedItemList after remove\",storedItemList);_this.setState({storedItemList:storedItemList});// this.props.storeItemDetails(storedItemList, formFields)\n_this.handleUpdateTotal();};_this.handleEdit=function(item_code,UOM_DESC){var storedItemList=_this.state.storedItemList;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=true;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});};_this.handleSave=function(item_code,UOM_DESC){var _this$state13=_this.state,storedItemList=_this$state13.storedItemList,formFields=_this$state13.formFields;for(var list in storedItemList){if(_this.props.tokenDetail.site_code==\"HQ\"){if(storedItemList[list].QTY<storedItemList[list].DOD_POSTQTY){Toast({type:\"error\",message:\"This item cannot be saved, quantity exceeds limit\"});return;}}if(storedItemList[list].DOD_POSTQTY<=0){Toast({type:\"error\",message:\"Delivery quantity cannot be less than 1\"});return;}if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=false;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});// this.props.storeItemDetails(storedItemList, formFields)\n_this.handleUpdateTotal();};_this.handleEditChangePrice=function(_ref10){var _ref10$target=_ref10.target,value=_ref10$target.value,name=_ref10$target.name;var _this$state14=_this.state,storedItemList=_this$state14.storedItemList,UOM=_this$state14.UOM;var r=new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);if(r.test(value)==true||!value){for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].ITEM_COST=value;storedItemList[list].amount=Math.round(storedItemList[list].DOD_POSTQTY*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}}_this.setState({storedItemList:storedItemList});console.log(\"UOM in handleEditChangePrice\",UOM);console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangeQuantity=function(_ref11){var _ref11$target=_ref11.target,value=_ref11$target.value,name=_ref11$target.name;var _this$state15=_this.state,storedItemList=_this$state15.storedItemList,UOM=_this$state15.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_quantity=value;// storedItemList[list].amount =  Math.round(storedItemList[list].ITEM_COST*value * 100) / 100\n}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangeDeliverQuantity=function(_ref12){var _ref12$target=_ref12.target,value=_ref12$target.value,name=_ref12$target.name;var _this$state16=_this.state,storedItemList=_this$state16.storedItemList,UOM=_this$state16.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].DOD_POSTQTY=value;storedItemList[list].amount=Math.round(storedItemList[list].ITEM_COST*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleUpdateTotal=function(){var _this$state17=_this.state,storedItemList=_this$state17.storedItemList,formFields=_this$state17.formFields;formFields.DO_TTQTY=0;formFields.DO_TTAMT=0;var _iterator13=_createForOfIteratorHelper(storedItemList),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var item=_step13.value;console.log(\"item.amount in update total\",item.amount,typeof item.amount);console.log(\"item.DOD_POSTQTY in update total\",item.DOD_POSTQTY,typeof item.DOD_POSTQTY);formFields.DO_TTAMT=item.amount+formFields.DO_TTAMT;formFields.DO_TTQTY=parseInt(!item.DOD_POSTQTY?0:item.DOD_POSTQTY)+formFields.DO_TTQTY;}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}formFields.DO_TTAMT=Math.round(formFields.DO_TTAMT*100)/100;_this.setState({formFields:formFields});};_this.setUOM=function(UOM_DESC){var UOM=_this.state.UOM;UOM=UOM_DESC;console.log(\"UOM in setUOM\",UOM);_this.setState({UOM:UOM});};_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};_this.getListDetail=function(){var _listDetail;var _this$state18=_this.state,siteAddr=_this$state18.siteAddr,supOption=_this$state18.supOption,contactOption=_this$state18.contactOption,listDetail=_this$state18.listDetail,formFields=_this$state18.formFields,isPrintPdfClick=_this$state18.isPrintPdfClick;var addr=\"\";var _iterator14=_createForOfIteratorHelper(siteAddr),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var site=_step14.value;if(site.ItemSite_Code==_this.props.tokenDetail.site_code){addr=site.ItemSite_Address;}}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}var supAddr=\"\";var supInfo=\"\";if(formFields.SUPP_Code&&supOption){supInfo=supOption.find(function(option){return option.value===formFields.SUPP_Code;});supAddr=supInfo.addr1+\" \"+supInfo.addr2+\" \"+supInfo.addr3+\" \"+supInfo.postalCode+\" \"+supInfo.state+\" \"+supInfo.city+\" \"+supInfo.country;console.log(\"supAddr\",supAddr);}listDetail=(_listDetail={DO_NO:formFields.DO_NO,Supplier:formFields.SUPP_Code&&supOption?supOption.find(function(option){return option.value===formFields.SUPP_Code;}).label:\"\",supAddr:supAddr?supAddr:\"\",contactPhone:formFields.contactPerson&&contactOption?contactOption.find(function(option){return option.value===formFields.contactPerson;}).phone:\"\",contactEmail:formFields.contactPerson&&contactOption?contactOption.find(function(option){return option.value===formFields.contactPerson;}).email:\"\",contactPerson:formFields.contactPerson&&contactOption?contactOption.find(function(option){return option.value===formFields.contactPerson;}).label:\"\",DO_DATE:formFields.DO_DATE,terms:formFields.terms},_defineProperty(_listDetail,\"Supplier\",formFields.SUPP_Code&&supOption?supOption.find(function(option){return option.value===formFields.SUPP_Code;}).label:\"\"),_defineProperty(_listDetail,\"DO_REMK1\",formFields.DO_REMK1),_defineProperty(_listDetail,\"storeName\",_this.props.tokenDetail.branch),_defineProperty(_listDetail,\"printedBy\",_this.props.tokenDetail.username),_defineProperty(_listDetail,\"totalQty\",formFields.DO_TTQTY),_defineProperty(_listDetail,\"totalAmt\",formFields.DO_TTAMT),_defineProperty(_listDetail,\"addr\",addr),_listDetail);console.log(\"listDetail in getListDetail\",listDetail);isPrintPdfClick=true;_this.setState({listDetail:listDetail,isPrintPdfClick:isPrintPdfClick});};return _this;}_createClass(AddStocksDOClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state19=this.state,formFields=_this$state19.formFields,statusOption=_this$state19.statusOption,headerDetails=_this$state19.headerDetails,headerSelectedDetails=_this$state19.headerSelectedDetails,disableEdit=_this$state19.disableEdit,pageMeta=_this$state19.pageMeta,contactOption=_this$state19.contactOption,supOption=_this$state19.supOption,detailsList=_this$state19.detailsList,storedItemList=_this$state19.storedItemList,isLoading=_this$state19.isLoading,isPrintPdfClick=_this$state19.isPrintPdfClick,listDetail=_this$state19.listDetail,blur=_this$state19.blur;var DO_NO=formFields.DO_NO,SUPP_Code=formFields.SUPP_Code,DO_DATE=formFields.DO_DATE,contactPerson=formFields.contactPerson,DO_STATUS=formFields.DO_STATUS,ItemSite_Code=formFields.ItemSite_Code,DO_REMK1=formFields.DO_REMK1,terms=formFields.terms,DO_TTQTY=formFields.DO_TTQTY,DO_TTAMT=formFields.DO_TTAMT;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5 create-DO\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category cursor-pointer\",onClick:function onClick(){return history.push(\"/admin/inventory\");}},t(\"DO\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" Stocks DO\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"DO-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"DO No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:true,placeholder:\"Auto generated\",value:DO_NO,name:\"DO_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Supplier\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:supOption,disabled:disableEdit,value:SUPP_Code,name:\"SUPP_Code\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Supplier\"),SUPP_Code,t(\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"DO Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:DO_DATE?new Date(DO_DATE):new Date(),name:\"DO_DATE\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"// maxDate={new Date(toDate)}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"DO Date\"),DO_DATE,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Contact Person\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:SUPP_Code?contactOption:[],disabled:disableEdit,value:contactPerson,name:\"contactPerson\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Contact Person\"),contactPerson,t(\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:statusOption,disabled:disableEdit,value:DO_STATUS,name:\"DO_STATUS\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Store Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:[{value:1,label:this.props.tokenDetail.branch}],disabled:disableEdit,value:ItemSite_Code,name:\"ItemSite_Code\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Store Code\"),ItemSite_Code,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-desc\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter here\",disabled:disableEdit,value:DO_REMK1,name:\"DO_REMK1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Terms Of Payment\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:terms,name:\"terms\",onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 DO-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(InputSearch,{placeholder:\"Search Item\",onChange:this.handlesearch})))),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},t(\"Loading...\")))))):detailsList?detailsList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,UOM_DESC=item.UOM_DESC,ITEM_UOM=item.ITEM_UOM,brand_itm_desc=item.brand_itm_desc,ITEM_COST=item.ITEM_COST,QTY=item.QTY,MOQQty=item.MOQQty,range_itm_desc=item.range_itm_desc,item_quantity=item.item_quantity;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(Blur,{radius:blur?\"10px\":\"\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},ITEM_COST))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},MOQQty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleChangeQty})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:disableEdit,mainbg:true,className:\"warning\",label:\"Select\",onClick:function onClick(){return _this2.handleSelect(item_code,Item_Desc,UOM_DESC,ITEM_UOM,ITEM_COST,QTY,item_quantity);}}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"}),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerSelectedDetails// queryHandler={this.handlePagination}\n// pageMeta={pageMeta}\n},storedItemList?storedItemList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,UOM_DESC=item.UOM_DESC,ITEM_COST=item.ITEM_COST,QTY=item.QTY,DOD_POSTQTY=item.DOD_POSTQTY,item_quantity=item.item_quantity,editing=item.editing;return editing==false?/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(Blur,{radius:blur?\"10px\":\"\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},ITEM_COST))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_quantity)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},DOD_POSTQTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:updateBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent\",onClick:disableEdit==false?function(){return _this2.handleEdit(item_code,UOM_DESC);}:\"\"}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:deleteBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:disableEdit==false?function(){return _this2.handleRemoveStoredItem(item_code,UOM_DESC);}:\"\"})))):/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(Blur,{radius:blur?\"10px\":\"\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:ITEM_COST,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)&&!/\\./.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangePrice})))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeQuantity}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:DOD_POSTQTY,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeDeliverQuantity}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:saveBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:disableEdit==false?function(){return _this2.handleSave(item_code,UOM_DESC);}:\"\"}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Cost\")),/*#__PURE__*/React.createElement(Blur,{radius:blur?\"10px\":\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:DO_TTAMT,name:\"DO_TTAMT\"// onChange={this.handleChangeDetails}\n})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:DO_TTQTY,name:\"DO_TTQTY\",onChange:this.handleChange})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:function onClick(){return history.push(\"/admin/inventory\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:disableEdit,mainbg:true,className:\"confirm\",label:\"Save\",onClick:function onClick(){return _this2.handleSubmit();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?disableEdit:true,mainbg:true,className:\"confirm\",label:\"Post\",outline:false,onClick:function onClick(){return _this2.handleSubmit(DO_STATUS);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?false:true,mainbg:true,className:\"confirm\",label:\"Print PDF\",outline:false,onClick:function onClick(){return _this2.getListDetail();}})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(PDF,{listDetail:listDetail,itemDetail:storedItemList// Flag={activeTab !== \"detail\" ? 3 : 4}\n,landscape:false,blur:blur})},function(_ref13){var blob=_ref13.blob,url=_ref13.url,loading=_ref13.loading,error=_ref13.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null))));}}]);return AddStocksDOClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonUpdateApi:commonUpdateApi,commonDeleteApi:commonDeleteApi,// updateDO,\n// createDO,\n// deleteDO,\ngetTokenDetails:getTokenDetails},dispatch);};export var AddStocksDO=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddStocksDOClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Inventory/StocksDO/AddStocksDO/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","TableWrapper","InputSearch","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","createPO","updatePO","deletePO","getTokenDetails","useLocation","_","updateBtn","deleteBtn","saveBtn","history","Toast","PDFViewer","PDFDownloadLink","BlobProvider","PDF","Blur","AddStocksDOClass","state","formFields","DO_NO","SUPP_Code","DO_DATE","Date","contactPerson","DO_STATUS","ItemSite_Code","DO_REMK1","terms","DO_TTQTY","DO_TTAMT","headerDetails","label","headerSelectedDetails","listDetail","isPrintPdfClick","siteAddr","hqonly","UOM","fkProject","fkQuotation","statusOption","contactOption","supOption","stateOption","cityOption","detailsList","storedItemList","itemListBeforeEdit","pageMeta","disableEdit","is_loading","isMounted","blur","search","active","currentIndex","page","limit","isOpenvoidCheckout","isLoading","componentWillMount","validator","validators","element","message","autoForceUpdate","componentDidMount","console","log","props","getStatus","handleUpdateTotal","updateState","data","setState","handleClick","key","currentValue","selectedMenu","id","selected","handleChange","target","value","name","Object","assign","then","res","push","ContactInfo_ID","ContactInfo_Name","suppCode","Supplier_Code","phone","ContactInfo_PhoneNo","email","ContactInfo_Email","Active","handleDatePick","AllDropdown_Item","code","AllDropdown_Desc","i","length","splice","match","params","item","getContact","getSup","SPLY_CODE","SUPPLYDESC","addr1","SPLY_ADDR1","addr2","SPLY_ADDR2","addr3","SPLY_ADDR3","postalCode","SPLY_POSCD","SPLY_STATE","city","SPLY_CITY","country","SPLY_CNTRY","getDetails","tokenDetail","site_code","getSiteDetail","autoFillForm","prefillDefault","role_code","find","option","hq_only","getAutofillItemDetails","status","dataList","DOD_ITEMDESC","resAll","Item_Desc","UOM_DESC","BrandName","item_code","DOD_ITEMCODE","ITEM_UOM","BrandCode","ITEM_COST","DOD_ITEMPRICE","QTY","DOD_POSTQTY","item_quantity","DOD_QTY","amount","DOD_AMT","editing","item_id","DO_ID","handleItemDetailsSubmit","found","some","el","formDataItem","FormData","append","resGetItem","resUpdateItem","resCreateItem","handleSubmit","allValid","type","formData","parseInt","username","resDO","showMessages","pagination","handlePagination","pageNo","handlesearch","event","debouncedFn","debounce","handleChangeQty","list","handleSelect","Math","round","handleRemoveStoredItem","handleEdit","handleSave","handleEditChangePrice","r","RegExp","test","handleEditChangeQuantity","handleEditChangeDeliverQuantity","setUOM","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","getListDetail","addr","site","ItemSite_Address","supAddr","supInfo","Supplier","contactPhone","contactEmail","branch","t","preventDefault","map","index","brand_itm_desc","MOQQty","range_itm_desc","blob","loading","error","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddStocksDO"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n  TableWrapper,\r\n  InputSearch,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport updateBtn from \"assets/images/edit1.png\";\r\nimport deleteBtn from \"assets/images/delete1.png\";\r\nimport saveBtn from \"assets/images/save.png\";\r\nimport { history } from \"helpers\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport PDF from \"../../StocksPDF/DO/index\";\r\nimport Blur from \"react-css-blur\";\r\n\r\nexport class AddStocksDOClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      DO_NO: \"\",\r\n      SUPP_Code: \"\",\r\n      DO_DATE: new Date(),\r\n      contactPerson: \"\",\r\n      DO_STATUS: \"\",\r\n      ItemSite_Code: \"\",\r\n      DO_REMK1: \"\",\r\n      terms: \"\",\r\n      DO_TTQTY: \"\",\r\n      DO_TTAMT: \"\",\r\n    },\r\n\r\n    //item table\r\n    headerDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Brand\" },\r\n      { label: \"Unit Price\" },\r\n      { label: \"Stock Qty\" },\r\n      { label: \"MOQ Qty\" },\r\n      { label: \"Range\" },\r\n      { label: \"Req Qty\" },\r\n\r\n      { label: \"\" },\r\n    ],\r\n    // selected item table\r\n    headerSelectedDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Unit Price\" },\r\n      { label: \"Stock Qty\" },\r\n\r\n      { label: \"Required Qty\" },\r\n      { label: \"Delivery Qty\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n    ],\r\n\r\n    listDetail: {},\r\n    isPrintPdfClick: false,\r\n    siteAddr: [],\r\n\r\n    hqonly: 0,\r\n\r\n    UOM: \"\",\r\n    fkProject: \"\",\r\n    fkQuotation: \"\",\r\n    statusOption: [],\r\n    contactOption: [],\r\n    supOption: [],\r\n    stateOption: [],\r\n    cityOption: [],\r\n\r\n    detailsList: [],\r\n    storedItemList: [],\r\n    itemListBeforeEdit: [],\r\n    pageMeta: {},\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n    blur: false,\r\n\r\n    search: \"\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    // limit: 10,\r\n    limit: 4,\r\n    isOpenvoidCheckout: false,\r\n    isLoading: true,\r\n    // is_loading: false,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.quoId){\r\n    //     this.state.fkQuotation = this.props.location.state.quoId\r\n    //     this.setState({fkQuotation : this.state.fkQuotation})\r\n    //     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    //     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    //   }\r\n\r\n    // }\r\n    // this.getStatus();\r\n    // this.getCountry();\r\n    // this.getState();\r\n    // this.getCity();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.projectFk){\r\n    //     this.state.fkProject = this.props.location.state.projectFk\r\n    //     this.setState({fkProject : this.state.fkProject})\r\n    //     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n    //     console.log(\"this.state.fkProject\",this.state.fkProject)\r\n    //   }\r\n\r\n    // this.state.fkQuotation = this.props.location.state.quoId\r\n    // this.setState({fkQuotation : this.state.fkQuotation})\r\n\r\n    // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    // }\r\n\r\n    console.log(\"this.props\", this.props);\r\n\r\n    console.log(\"this.state\", this.state);\r\n    // console.log(\"useLocation()\",useLocation())\r\n    this.getStatus();\r\n\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n    if (name == \"SUPP_Code\") {\r\n      let { contactOption } = this.state;\r\n      contactOption = [];\r\n      this.props\r\n        .getCommonApi(`supplycontactinfo/?searchsuppliercode=${value}`)\r\n        .then(res => {\r\n          console.log(\"res.data\", res);\r\n          for (let key of res.data) {\r\n            contactOption.push({\r\n              value: key.ContactInfo_ID,\r\n              label: key.ContactInfo_Name,\r\n              suppCode: key.Supplier_Code,\r\n              phone: key.ContactInfo_PhoneNo,\r\n              email: key.ContactInfo_Email,\r\n              active: key.Active,\r\n            });\r\n          }\r\n          console.log(\"contactOption\", contactOption);\r\n          this.setState({ contactOption });\r\n        });\r\n    }\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.AllDropdown_Item,\r\n          code: key.AllDropdown_Desc,\r\n          active: key.Active,\r\n        });\r\n      }\r\n      for (var i = 0; i < statusOption.length; i++) {\r\n        if (statusOption[i].label == \"Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n        if (statusOption[i].label == \"Not Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        // for (var i = 0; i < statusOption.length; i++){\r\n        //   if(statusOption[i].label == \"Posted\") {\r\n        //     statusOption.splice(i,1)\r\n        //   }\r\n        // }\r\n        for (let item of statusOption) {\r\n          if (item.label == \"Open\") {\r\n            statusOption = [item];\r\n          }\r\n        }\r\n      }\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption }, () => {\r\n        this.getContact();\r\n      });\r\n    });\r\n  };\r\n\r\n  getContact = () => {\r\n    let { contactOption } = this.state;\r\n    contactOption = [];\r\n    this.props.getCommonApi(`supplycontactinfo`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        contactOption.push({\r\n          value: key.ContactInfo_ID,\r\n          label: key.ContactInfo_Name,\r\n          suppCode: key.Supplier_Code,\r\n          phone: key.ContactInfo_PhoneNo,\r\n          email: key.ContactInfo_Email,\r\n          active: key.Active,\r\n        });\r\n      }\r\n      console.log(\"contactOption\", contactOption);\r\n      this.setState({ contactOption }, () => {\r\n        this.getSup();\r\n      });\r\n    });\r\n  };\r\n\r\n  getSup = () => {\r\n    let { supOption, blur } = this.state;\r\n    supOption = [];\r\n    this.props.getCommonApi(`itemsupply`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        supOption.push({\r\n          value: key.SPLY_CODE,\r\n          label: key.SUPPLYDESC,\r\n          addr1: key.SPLY_ADDR1,\r\n          addr2: key.SPLY_ADDR2,\r\n          addr3: key.SPLY_ADDR3,\r\n          postalCode: key.SPLY_POSCD,\r\n          state: key.SPLY_STATE,\r\n          city: key.SPLY_CITY,\r\n          country: key.SPLY_CNTRY,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"supOption\", supOption);\r\n      this.setState({ supOption }, () => {\r\n        this.getDetails();\r\n        console.log(\r\n          \"this.props.tokenDetail.site_code in getSup\",\r\n          this.props.tokenDetail.site_code\r\n        );\r\n        this.getSiteDetail(this.props.tokenDetail.site_code);\r\n        if (this.props.match.params.id) {\r\n          this.autoFillForm();\r\n        } else {\r\n          this.prefillDefault();\r\n        }\r\n        if (\r\n          this.props.tokenDetail.role_code !== \"1\" &&\r\n          this.props.tokenDetail.role_code !== \"2\"\r\n        ) {\r\n          blur = true;\r\n          this.setState({ blur });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  prefillDefault = () => {\r\n    let { disableEdit, statusOption, contactOption, supOption } = this.state;\r\n\r\n    // if (contactOption.length!==0) {\r\n    //   //matching status name with the id to set prefill status in dropdown\r\n    //   this.state.formFields[\"contactPerson\"] = contactOption.find(option => option.label === this.props.tokenDetail.username).value\r\n    // }\r\n    if (statusOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"DO_STATUS\"] = statusOption.find(\r\n        option => option.label === \"Open\"\r\n      ).value;\r\n    }\r\n\r\n    this.state.formFields[\"ItemSite_Code\"] = 1;\r\n    this.setState(this.state.formFields);\r\n  };\r\n\r\n  getSiteDetail = ItemSite_Code => {\r\n    let { siteAddr, hqonly } = this.state;\r\n    siteAddr = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      siteAddr = res.data;\r\n      console.log(\"siteAddr\", siteAddr);\r\n      this.setState({ siteAddr });\r\n\r\n      for (let item of res.data) {\r\n        if (item.ItemSite_Code == ItemSite_Code) {\r\n          hqonly = item.hq_only;\r\n        }\r\n      }\r\n      console.log(\"hqonly\", hqonly);\r\n\r\n      this.setState({ hqonly });\r\n    });\r\n  };\r\n\r\n  getAutofillItemDetails = DO_NO => {\r\n    console.log(\"DO_NO\", DO_NO);\r\n    this.props\r\n      .getCommonApi(`doitem/?searchdono=${DO_NO}&limit=10000`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.props\r\n              .getCommonApi(\r\n                `allstocklist/?searchitemdesc=${item.DOD_ITEMDESC}&searchsitecode=${this.props.tokenDetail.site_code}&limit=100`\r\n              )\r\n              .then(resAll => {\r\n                console.log(resAll, \"dsfdfaafg\");\r\n                // this.setState({ detailsListFull: [] });\r\n                for (let data of resAll.data.dataList) {\r\n                  console.log(\"data.Item_Desc\", data.Item_Desc);\r\n                  console.log(\"item.DOD_ITEMDESC\", item.DOD_ITEMDESC);\r\n                  console.log(\"data.UOM_DESC\", data.UOM_DESC);\r\n                  console.log(\"item.BrandName\", item.BrandName);\r\n                  if (\r\n                    data.Item_Desc == item.DOD_ITEMDESC &&\r\n                    data.UOM_DESC == item.BrandName\r\n                  ) {\r\n                    console.log(\"in if loop\");\r\n                    this.state.storedItemList.push({\r\n                      item_code: item.DOD_ITEMCODE,\r\n                      Item_Desc: item.DOD_ITEMDESC,\r\n                      ITEM_UOM: item.BrandCode,\r\n                      UOM_DESC: item.BrandName,\r\n                      ITEM_COST: item.DOD_ITEMPRICE,\r\n                      QTY: data.QTY,\r\n                      DOD_POSTQTY: item.DOD_POSTQTY,\r\n                      item_quantity: item.DOD_QTY,\r\n                      amount: item.DOD_AMT,\r\n                      editing: false,\r\n                    });\r\n                    this.state.itemListBeforeEdit.push({\r\n                      item_id: item.DO_ID,\r\n                      item_code: item.DOD_ITEMCODE,\r\n                      UOM_DESC: item.BrandName,\r\n                    });\r\n                  }\r\n                }\r\n                this.setState(this.state.storedItemList);\r\n                this.setState(this.state.itemListBeforeEdit);\r\n                console.log(\r\n                  \"this.state.itemListBeforeEdit\",\r\n                  this.state.itemListBeforeEdit\r\n                );\r\n                // console.log('res.data',res.data)\r\n                // console.log('detailsListFull',detailsListFull)\r\n                // console.log('pageMeta',pageMeta)\r\n              });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption, contactOption, supOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`dolist/?searchdoid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"po dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"DO_NO\"] = res.data.dataList[0].DO_NO;\r\n        this.state.formFields[\"SUPP_Code\"] = res.data.dataList[0].SUPP_Code;\r\n\r\n        // if (res.data.dataList[0].SUPP_Code && supOption.length!==0) {\r\n        //   //matching status name with the id to set prefill status in dropdown\r\n        //   this.state.formFields[\"SUPP_Code\"] = supOption.find(option => option.label === res.data.dataList[0].SUPP_Code).value\r\n        //   console.log(\"res.data.dataList[0].SUPP_Code\",res.data.dataList[0].SUPP_Code)\r\n        // }\r\n        // this.state.formFields[\"SUPP_Code\"] = res.data.dataList[0].SUPP_Code\r\n        this.state.formFields[\"DO_DATE\"] = res.data.dataList[0].DO_DATE;\r\n\r\n        console.log(\"contactOption in autofill\", contactOption);\r\n        console.log(\r\n          \"res.data.dataList[0].contactPerson\",\r\n          res.data.dataList[0].contactPerson\r\n        );\r\n\r\n        if (res.data.dataList[0].contactPerson && contactOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"contactPerson\"] = contactOption.find(\r\n            option => option.label === res.data.dataList[0].contactPerson\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].contactPerson\",\r\n            res.data.dataList[0].contactPerson\r\n          );\r\n        }\r\n\r\n        // console.log(\"statusOption in prefill\",this.state.statusOption)\r\n        // console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status)\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].DO_STATUS && statusOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"DO_STATUS\"] = statusOption.find(\r\n            option => option.label === res.data.dataList[0].DO_STATUS\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].DO_STATUS\",\r\n            res.data.dataList[0].DO_STATUS\r\n          );\r\n          if (res.data.dataList[0].DO_STATUS == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            // for (var i = 0; i < statusOption.length; i++){\r\n            //   if(statusOption[i].label == \"Posted\") {\r\n            //     statusOption = statusOption.filter(e => e.label !== 'Open')\r\n            //   }\r\n            // }\r\n            // console.log(\"statusOption when status is posted\",statusOption)\r\n\r\n            this.setState({ disableEdit });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n        this.state.formFields[\"ItemSite_Code\"] = 1;\r\n        this.state.formFields[\"DO_REMK1\"] = res.data.dataList[0].DO_REMK1;\r\n        this.state.formFields[\"terms\"] = res.data.dataList[0].terms;\r\n        this.state.formFields[\"DO_TTQTY\"] = res.data.dataList[0].DO_TTQTY;\r\n        this.state.formFields[\"DO_TTAMT\"] = res.data.dataList[0].DO_TTAMT;\r\n\r\n        // this.state.formFieldsDetailsStored.DO_TTQTY = res.data.dataList[0].DO_TTQTY\r\n\r\n        this.updateState(this.state.formFields);\r\n        // this.setState(this.state.formFieldsDetailsStored)\r\n        // console.log(\"this.state.formFieldsDetailsStored\",this.state.formFieldsDetailsStored)\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n        this.getAutofillItemDetails(res.data.dataList[0].DO_NO);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = async (formFields, DO_STATUS) => {\r\n    let { storedItemList, itemListBeforeEdit, statusOption } = this.state;\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemList.some(\r\n        el => el.item_code === item.item_code && el.UOM_DESC === item.UOM_DESC\r\n      );\r\n      if (!found) {\r\n        this.props.commonDeleteApi(`doitem/${item.item_id}/`).then(res => {});\r\n      }\r\n    }\r\n\r\n    for (let item of storedItemList) {\r\n      const formDataItem = new FormData();\r\n      if (DO_STATUS) {\r\n        formDataItem.append(\"STATUS\", \"Posted\");\r\n      }\r\n      formDataItem.append(\"DOD_ITEMCODE\", item.item_code);\r\n      formDataItem.append(\"DOD_ITEMDESC\", item.Item_Desc);\r\n      formDataItem.append(\"BrandName\", item.UOM_DESC);\r\n      formDataItem.append(\"BrandCode\", item.ITEM_UOM);\r\n      formDataItem.append(\"DOD_ITEMPRICE\", item.ITEM_COST);\r\n      formDataItem.append(\"DOD_QTY\", item.item_quantity);\r\n      formDataItem.append(\"DOD_POSTQTY\", item.DOD_POSTQTY);\r\n      formDataItem.append(\"DOD_TTLQTY\", item.QTY);\r\n      formDataItem.append(\"DOD_AMT\", item.amount);\r\n      formDataItem.append(\"ITEMSITE_CODE\", this.props.tokenDetail.site_code);\r\n      formDataItem.append(\"LineNumber\", 1);\r\n\r\n      await this.props\r\n        .getCommonApi(\r\n          `doitem/?searchdono=${formFields.DO_NO}&searchitemcode=${item.item_code}&searchuom=${item.UOM_DESC}`\r\n        )\r\n        .then(resGetItem => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `doitem/${resGetItem.data.dataList[0].DO_ID}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"DO_No\", formFields.DO_NO);\r\n            this.props\r\n              .commonCreateApi(`doitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleSubmit = async DO_STATUS => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let {\r\n          formFields,\r\n          statusOption,\r\n          contactOption,\r\n          hqonly,\r\n          storedItemList,\r\n        } = this.state;\r\n\r\n        for (let item of storedItemList) {\r\n          if (item.QTY < item.DOD_POSTQTY) {\r\n            Toast({\r\n              type: \"error\",\r\n              message: \"Delivery Qty for \" + item.Item_Desc + \" exceeded limit\",\r\n            });\r\n            return;\r\n          }\r\n        }\r\n        // let statusValue =\"\"\r\n        // console.log('formFields.status', formFields.status)\r\n\r\n        // for (let key of statusOption){\r\n        //   // console.log(key.value)\r\n        //   if(key.value == formFields.status){\r\n        //     statusValue = key.label\r\n        //   }\r\n        // }\r\n        // console.log(\"statusValue\", statusValue)\r\n        const formData = new FormData();\r\n        // formData.append(\"DO_number\", formFields.PONumber);\r\n        // check save or post\r\n        if (DO_STATUS) {\r\n          formData.append(\"DO_STATUS\", \"Posted\");\r\n        } else {\r\n          formData.append(\r\n            \"DO_STATUS\",\r\n            formFields.DO_STATUS\r\n              ? statusOption.find(\r\n                  option => option.value === parseInt(formFields.DO_STATUS)\r\n                ).label\r\n              : \"\"\r\n          );\r\n        }\r\n        console.log(\"formFields.ItemSite_Code\", formFields.ItemSite_Code);\r\n        formData.append(\"SUPP_Code\", formFields.SUPP_Code);\r\n        // ?\r\n        // supOption.find(option => option.value === formFields.SUPP_Code).label\r\n        // : \"\");\r\n\r\n        formData.append(\"ItemSite_Code\", this.props.tokenDetail.site_code);\r\n        formData.append(\r\n          \"contactPerson\",\r\n          formFields.contactPerson\r\n            ? contactOption.find(\r\n                option => option.value === parseInt(formFields.contactPerson)\r\n              ).label\r\n            : \"\"\r\n        );\r\n        formData.append(\"DO_REMK1\", formFields.DO_REMK1);\r\n        formData.append(\r\n          \"DO_DATE\",\r\n          dateFormat(formFields.DO_DATE) + \" 00:00:00\"\r\n        );\r\n        formData.append(\"terms\", formFields.terms);\r\n        formData.append(\"DO_User\", this.props.tokenDetail.username);\r\n\r\n        formData.append(\"DO_TTQTY\", formFields.DO_TTQTY);\r\n        formData.append(\"DO_TTAMT\", formFields.DO_TTAMT);\r\n\r\n        console.log(\"formData\", formData);\r\n        if (this.props.match.params.id) {\r\n          await this.handleItemDetailsSubmit(formFields, DO_STATUS);\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          // var resDO = await this.props.updatePO(\r\n          //   `${this.props.match.params.id}/`,\r\n          //   formData\r\n          // );\r\n          if (hqonly == 1) {\r\n            var resDO = await this.props.commonUpdateApi(\r\n              `dohqonlylist/${this.props.match.params.id}/`,\r\n              formData\r\n            );\r\n          } else {\r\n            var resDO = await this.props.commonUpdateApi(\r\n              `dolist/${this.props.match.params.id}/`,\r\n              formData\r\n            );\r\n          }\r\n\r\n          console.log(resDO);\r\n          // this.handleAddressSubmit(resDO);\r\n\r\n          // if(statusValue == \"Void\"){\r\n          //   console.log(\"in void loop\")\r\n          //   await this.props.deletePO(`${this.props.match.params.id}/`)\r\n          // }\r\n\r\n          history.push(`/admin/inventory`);\r\n        } else {\r\n          console.log(\"this.props before createPO\", this.props);\r\n\r\n          await this.handleItemDetailsSubmit(formFields, DO_STATUS);\r\n\r\n          if (hqonly == 1) {\r\n            var resDO = await this.props.commonCreateApi(\r\n              `dohqonlylist/`,\r\n              formData\r\n            );\r\n          } else {\r\n            var resDO = await this.props.commonCreateApi(`dolist/`, formData);\r\n          }\r\n\r\n          // .then(resDO => {\r\n          //   console.log(\"resDO in create dolist\", resDO)\r\n          // })\r\n\r\n          console.log(\"resDO in createPO\", resDO);\r\n          console.log(\"resDO.data.DO_NO\", resDO.data.DO_NO);\r\n\r\n          // this.handleAddressSubmit(resDO);\r\n          history.push(`/admin/inventory`);\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  getDetails = () => {\r\n    this.updateState({ isLoading: true });\r\n    let { detailsList, pageMeta, page, limit, search } = this.state;\r\n    // let { Item_Desc } = formField;\r\n    // console.log(\"this.props.siteCode\",this.props.siteCode)\r\n    //     console.log(typeof this.props.siteCode)\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `allstocklist/?searchitemdesc=${search}&searchsitecode=${this.props.tokenDetail.site_code}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        this.setState({ detailsList: [] });\r\n        detailsList = res.data.dataList;\r\n        // pageMeta = res.data.meta.pagination;\r\n        pageMeta = res.data.pagination;\r\n        // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\r\n        // this.setState({ detailsList, pageMeta });\r\n        // this.setState({ detailsList });\r\n\r\n        console.log(\"res.data\", res.data);\r\n        console.log(\"detailsList\", detailsList);\r\n        console.log(\"pageMeta\", pageMeta);\r\n        this.updateState({\r\n          detailsList,\r\n          pageMeta,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handlePagination = async pageNo => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getDetails();\r\n  };\r\n\r\n  handlesearch = event => {\r\n    // event.persist();\r\n    console.log(event.target.value);\r\n    let { search } = this.state;\r\n    search = event.target.value;\r\n    this.setState({ search });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getDetails({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleChangeQty = ({ target: { value, name } }) => {\r\n    let { detailsList, UOM } = this.state;\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    for (let list in detailsList) {\r\n      if (\r\n        detailsList[list].item_code == name &&\r\n        detailsList[list].UOM_DESC == UOM\r\n      ) {\r\n        detailsList[list].item_quantity = value;\r\n      }\r\n      console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\r\n    }\r\n\r\n    this.setState({\r\n      detailsList,\r\n    });\r\n    console.log(\"detailsList in handleChange\", detailsList);\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  // when click select store item details into storedItemList array for display and further edit or delete\r\n  handleSelect = (\r\n    item_code,\r\n    Item_Desc,\r\n    UOM_DESC,\r\n    ITEM_UOM,\r\n    ITEM_COST,\r\n    QTY,\r\n    item_quantity\r\n  ) => {\r\n    let { storedItemList, detailsList, formFields } = this.state;\r\n    // console.log(\"item_code\", item_code)\r\n    // console.log(\"Item_Desc\", Item_Desc)\r\n    // console.log(\"item_price\", item_price)\r\n\r\n    for (let item of storedItemList) {\r\n      if (item.item_code == item_code && item.UOM_DESC == UOM_DESC) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item already exists\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (this.props.tokenDetail.site_code == \"HQ\") {\r\n      if (QTY < 1) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item cannot be selected, quantity exceeds limit\",\r\n        });\r\n        return;\r\n      }\r\n      if (QTY < item_quantity) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item cannot be selected, quantity exceeds limit\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    // for (let list in detailsList){\r\n    //   if (detailsList[list].item_code == item_code){\r\n    //     let item_quantiy = detailsList[list].item_quantity\r\n    if (item_quantity) {\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        Item_Desc: Item_Desc,\r\n        UOM_DESC: UOM_DESC,\r\n        ITEM_UOM: ITEM_UOM,\r\n        ITEM_COST: ITEM_COST,\r\n        QTY: QTY,\r\n        DOD_POSTQTY: item_quantity,\r\n        item_quantity: item_quantity,\r\n        amount: Math.round(item_quantity * ITEM_COST * 100) / 100,\r\n        editing: false,\r\n      });\r\n    } else {\r\n      item_quantity = 1;\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        Item_Desc: Item_Desc,\r\n        UOM_DESC: UOM_DESC,\r\n        ITEM_UOM: ITEM_UOM,\r\n        ITEM_COST: ITEM_COST,\r\n        QTY: QTY,\r\n        DOD_POSTQTY: item_quantity,\r\n        item_quantity: item_quantity,\r\n        amount: Math.round(item_quantity * ITEM_COST * 100) / 100,\r\n        editing: false,\r\n      });\r\n    }\r\n    //   }\r\n    // }\r\n\r\n    console.log(\"storedItemList\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n  };\r\n\r\n  handleRemoveStoredItem = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (var i = 0; i < storedItemList.length; i++) {\r\n      if (\r\n        storedItemList[i].item_code == item_code &&\r\n        storedItemList[i].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(\"storedItemList after remove\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEdit = (item_code, UOM_DESC) => {\r\n    let { storedItemList } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = true;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n  };\r\n\r\n  handleSave = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (this.props.tokenDetail.site_code == \"HQ\") {\r\n        if (storedItemList[list].QTY < storedItemList[list].DOD_POSTQTY) {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"This item cannot be saved, quantity exceeds limit\",\r\n          });\r\n          return;\r\n        }\r\n      }\r\n      if (storedItemList[list].DOD_POSTQTY <= 0) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Delivery quantity cannot be less than 1\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = false;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEditChangePrice = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    let r = new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in storedItemList) {\r\n        if (\r\n          storedItemList[list].item_code == name &&\r\n          storedItemList[list].UOM_DESC == UOM\r\n        ) {\r\n          storedItemList[list].ITEM_COST = value;\r\n          storedItemList[list].amount =\r\n            Math.round(storedItemList[list].DOD_POSTQTY * value * 100) / 100;\r\n        }\r\n        // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"UOM in handleEditChangePrice\", UOM);\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangeQuantity = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_quantity = value;\r\n        // storedItemList[list].amount =  Math.round(storedItemList[list].ITEM_COST*value * 100) / 100\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangeDeliverQuantity = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].DOD_POSTQTY = value;\r\n        storedItemList[list].amount =\r\n          Math.round(storedItemList[list].ITEM_COST * value * 100) / 100;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleUpdateTotal = () => {\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    formFields.DO_TTQTY = 0;\r\n    formFields.DO_TTAMT = 0;\r\n\r\n    for (let item of storedItemList) {\r\n      console.log(\r\n        \"item.amount in update total\",\r\n        item.amount,\r\n        typeof item.amount\r\n      );\r\n      console.log(\r\n        \"item.DOD_POSTQTY in update total\",\r\n        item.DOD_POSTQTY,\r\n        typeof item.DOD_POSTQTY\r\n      );\r\n      formFields.DO_TTAMT = item.amount + formFields.DO_TTAMT;\r\n      formFields.DO_TTQTY =\r\n        parseInt(!item.DOD_POSTQTY ? 0 : item.DOD_POSTQTY) +\r\n        formFields.DO_TTQTY;\r\n    }\r\n\r\n    formFields.DO_TTAMT = Math.round(formFields.DO_TTAMT * 100) / 100;\r\n\r\n    this.setState({ formFields });\r\n  };\r\n\r\n  setUOM = UOM_DESC => {\r\n    let { UOM } = this.state;\r\n    UOM = UOM_DESC;\r\n    console.log(\"UOM in setUOM\", UOM);\r\n    this.setState({ UOM });\r\n  };\r\n\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  getListDetail = () => {\r\n    let {\r\n      siteAddr,\r\n      supOption,\r\n      contactOption,\r\n      listDetail,\r\n      formFields,\r\n      isPrintPdfClick,\r\n    } = this.state;\r\n\r\n    let addr = \"\";\r\n\r\n    for (let site of siteAddr) {\r\n      if (site.ItemSite_Code == this.props.tokenDetail.site_code) {\r\n        addr = site.ItemSite_Address;\r\n      }\r\n    }\r\n\r\n    let supAddr = \"\";\r\n    let supInfo = \"\";\r\n\r\n    if (formFields.SUPP_Code && supOption) {\r\n      supInfo = supOption.find(option => option.value === formFields.SUPP_Code);\r\n      supAddr =\r\n        supInfo.addr1 +\r\n        \" \" +\r\n        supInfo.addr2 +\r\n        \" \" +\r\n        supInfo.addr3 +\r\n        \" \" +\r\n        supInfo.postalCode +\r\n        \" \" +\r\n        supInfo.state +\r\n        \" \" +\r\n        supInfo.city +\r\n        \" \" +\r\n        supInfo.country;\r\n      console.log(\"supAddr\", supAddr);\r\n    }\r\n\r\n    listDetail = {\r\n      DO_NO: formFields.DO_NO,\r\n      Supplier:\r\n        formFields.SUPP_Code && supOption\r\n          ? supOption.find(option => option.value === formFields.SUPP_Code)\r\n              .label\r\n          : \"\",\r\n      supAddr: supAddr ? supAddr : \"\",\r\n      contactPhone:\r\n        formFields.contactPerson && contactOption\r\n          ? contactOption.find(\r\n              option => option.value === formFields.contactPerson\r\n            ).phone\r\n          : \"\",\r\n      contactEmail:\r\n        formFields.contactPerson && contactOption\r\n          ? contactOption.find(\r\n              option => option.value === formFields.contactPerson\r\n            ).email\r\n          : \"\",\r\n      contactPerson:\r\n        formFields.contactPerson && contactOption\r\n          ? contactOption.find(\r\n              option => option.value === formFields.contactPerson\r\n            ).label\r\n          : \"\",\r\n      DO_DATE: formFields.DO_DATE,\r\n      terms: formFields.terms,\r\n      Supplier:\r\n        formFields.SUPP_Code && supOption\r\n          ? supOption.find(option => option.value === formFields.SUPP_Code)\r\n              .label\r\n          : \"\",\r\n      DO_REMK1: formFields.DO_REMK1,\r\n      storeName: this.props.tokenDetail.branch,\r\n      printedBy: this.props.tokenDetail.username,\r\n      totalQty: formFields.DO_TTQTY,\r\n      totalAmt: formFields.DO_TTAMT,\r\n      addr: addr,\r\n    };\r\n    console.log(\"listDetail in getListDetail\", listDetail);\r\n\r\n    isPrintPdfClick = true;\r\n    this.setState({ listDetail, isPrintPdfClick });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      headerDetails,\r\n      headerSelectedDetails,\r\n      disableEdit,\r\n      pageMeta,\r\n      contactOption,\r\n      supOption,\r\n      detailsList,\r\n      storedItemList,\r\n      isLoading,\r\n      isPrintPdfClick,\r\n      listDetail,\r\n      blur,\r\n    } = this.state;\r\n\r\n    let {\r\n      DO_NO,\r\n      SUPP_Code,\r\n      DO_DATE,\r\n      contactPerson,\r\n      DO_STATUS,\r\n      ItemSite_Code,\r\n      DO_REMK1,\r\n      terms,\r\n      DO_TTQTY,\r\n      DO_TTAMT,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5 create-DO\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category cursor-pointer\"\r\n            onClick={() => history.push(`/admin/inventory`)}\r\n          >\r\n            {t(\"DO\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Stocks DO`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"DO-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"DO No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={DO_NO}\r\n                    name=\"DO_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"DO No\"),\r\n                      PONumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Supplier\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={supOption}\r\n                    disabled={disableEdit}\r\n                    value={SUPP_Code}\r\n                    name=\"SUPP_Code\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Supplier\"),\r\n                    SUPP_Code,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"DO Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={DO_DATE ? new Date(DO_DATE) : new Date()}\r\n                    name=\"DO_DATE\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"DO Date\"), DO_DATE, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Contact Person\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={SUPP_Code ? contactOption : []}\r\n                    disabled={disableEdit}\r\n                    value={contactPerson}\r\n                    name=\"contactPerson\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Contact Person\"),\r\n                    contactPerson,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    disabled={disableEdit}\r\n                    value={DO_STATUS}\r\n                    name=\"DO_STATUS\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Status\"),\r\n                      DO_STATUS,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Store Code\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={[\r\n                      { value: 1, label: this.props.tokenDetail.branch },\r\n                    ]}\r\n                    disabled={disableEdit}\r\n                    value={ItemSite_Code}\r\n                    name=\"ItemSite_Code\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Store Code\"),\r\n                    ItemSite_Code,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={DO_REMK1}\r\n                    name=\"DO_REMK1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12\"></div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Terms Of Payment\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={terms}\r\n                    name=\"terms\"\r\n                    onKeyPress={event => {\r\n                      if (!/[0-9]/.test(event.key)) {\r\n                        event.preventDefault();\r\n                      }\r\n                    }}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Quotation Number\"),\r\n                      terms,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 DO-content\">\r\n              <div className=\"py-4\">\r\n                <div className=\"table-container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-8\"></div>\r\n\r\n                    <div className=\"col-4 mb-3\">\r\n                      <div className=\"w-100\">\r\n                        <InputSearch\r\n                          placeholder=\"Search Item\"\r\n                          onChange={this.handlesearch}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <TableWrapper\r\n                    headerDetails={headerDetails}\r\n                    queryHandler={this.handlePagination}\r\n                    pageMeta={pageMeta}\r\n                  >\r\n                    {isLoading ? (\r\n                      <tr>\r\n                        <td colSpan=\"7\">\r\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                            <div class=\"spinner-border\" role=\"status\">\r\n                              <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ) : detailsList ? (\r\n                      detailsList.map((item, index) => {\r\n                        let {\r\n                          item_code,\r\n                          Item_Desc,\r\n                          UOM_DESC,\r\n                          ITEM_UOM,\r\n                          brand_itm_desc,\r\n                          ITEM_COST,\r\n                          QTY,\r\n                          MOQQty,\r\n                          range_itm_desc,\r\n                          item_quantity,\r\n                        } = item;\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {item_code}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {Item_Desc}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {UOM_DESC}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {brand_itm_desc}\r\n                              </div>\r\n                            </td>\r\n                            <Blur radius={blur ? \"10px\" : \"\"}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {ITEM_COST}\r\n                                </div>\r\n                              </td>\r\n                            </Blur>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {QTY}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {MOQQty}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {range_itm_desc}\r\n                              </div>\r\n                            </td>\r\n\r\n                            <td>\r\n                              {/* <div className=\"input-group\"> */}\r\n                              <NormalInput\r\n                                value={item_quantity}\r\n                                disabled={disableEdit}\r\n                                name={item_code}\r\n                                onKeyPress={event => {\r\n                                  if (!/[0-9]/.test(event.key)) {\r\n                                    event.preventDefault();\r\n                                  }\r\n                                }}\r\n                                onClick={() => this.setUOM(UOM_DESC)}\r\n                                onChange={this.handleChangeQty}\r\n                              />\r\n                              {/* </div> */}\r\n                            </td>\r\n\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <NormalButton\r\n                                  buttonClass={\"mx-2\"}\r\n                                  disabled={disableEdit}\r\n                                  mainbg={true}\r\n                                  className=\"warning\"\r\n                                  label=\"Select\"\r\n                                  onClick={() =>\r\n                                    this.handleSelect(\r\n                                      item_code,\r\n                                      Item_Desc,\r\n                                      UOM_DESC,\r\n                                      ITEM_UOM,\r\n                                      ITEM_COST,\r\n                                      QTY,\r\n                                      item_quantity\r\n                                    )\r\n                                  }\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    ) : null}\r\n                  </TableWrapper>\r\n\r\n                  <div className=\"row mt-5\"></div>\r\n                  <TableWrapper\r\n                    headerDetails={headerSelectedDetails}\r\n                    // queryHandler={this.handlePagination}\r\n                    // pageMeta={pageMeta}\r\n                  >\r\n                    {storedItemList\r\n                      ? storedItemList.map((item, index) => {\r\n                          let {\r\n                            item_code,\r\n                            Item_Desc,\r\n                            UOM_DESC,\r\n                            ITEM_COST,\r\n                            QTY,\r\n                            DOD_POSTQTY,\r\n                            item_quantity,\r\n                            editing,\r\n                          } = item;\r\n                          return editing == false ? (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_code}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {Item_Desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {UOM_DESC}\r\n                                </div>\r\n                              </td>\r\n                              <Blur radius={blur ? \"10px\" : \"\"}>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {ITEM_COST}\r\n                                  </div>\r\n                                </td>\r\n                              </Blur>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {QTY}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_quantity}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {DOD_POSTQTY}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={updateBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent\"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleEdit(item_code, UOM_DESC)\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={deleteBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent \"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleRemoveStoredItem(\r\n                                              item_code,\r\n                                              UOM_DESC\r\n                                            )\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ) : (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_code}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {Item_Desc}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {UOM_DESC}\r\n                                </div>\r\n                              </td>\r\n                              <Blur radius={blur ? \"10px\" : \"\"}>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <NormalInput\r\n                                      value={ITEM_COST}\r\n                                      disabled={disableEdit}\r\n                                      name={item_code}\r\n                                      onKeyPress={event => {\r\n                                        if (\r\n                                          !/[0-9]/.test(event.key) &&\r\n                                          !/\\./.test(event.key)\r\n                                        ) {\r\n                                          event.preventDefault();\r\n                                        }\r\n                                      }}\r\n                                      onClick={() => this.setUOM(UOM_DESC)}\r\n                                      onChange={this.handleEditChangePrice}\r\n                                    />\r\n                                  </div>\r\n                                </td>\r\n                              </Blur>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {QTY}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_quantity}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onKeyPress={event => {\r\n                                      if (!/[0-9]/.test(event.key)) {\r\n                                        event.preventDefault();\r\n                                      }\r\n                                    }}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={this.handleEditChangeQuantity}\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={DOD_POSTQTY}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onKeyPress={event => {\r\n                                      if (!/[0-9]/.test(event.key)) {\r\n                                        event.preventDefault();\r\n                                      }\r\n                                    }}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={\r\n                                      this.handleEditChangeDeliverQuantity\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={saveBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent \"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleSave(item_code, UOM_DESC)\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })\r\n                      : null}\r\n                  </TableWrapper>\r\n\r\n                  <div className=\"row justify-content-end mt-5\">\r\n                    <div className=\"col-4\">\r\n                      <div className=\"d-flex mb-3\">\r\n                        <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                          {t(\"Total Cost\")}\r\n                        </label>\r\n                        <Blur radius={blur ? \"10px\" : \"\"}>\r\n                          <div className=\"input-group-address w-100\">\r\n                            <NormalInput\r\n                              placeholder=\"Enter here\"\r\n                              disabled={true}\r\n                              value={DO_TTAMT}\r\n                              name=\"DO_TTAMT\"\r\n                              // onChange={this.handleChangeDetails}\r\n                            />\r\n                          </div>\r\n                        </Blur>\r\n                      </div>\r\n                      {/* <div>\r\n                          {this.props.validator.message(\r\n                            t(\"Total Cost\"),\r\n                            DO_TTAMT,\r\n                            t(\"required\")\r\n                          )}\r\n                      </div> */}\r\n\r\n                      <div className=\"d-flex mb-3\">\r\n                        <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                          {t(\"Total Quantity\")}\r\n                        </label>\r\n                        <div className=\"input-group-address w-100\">\r\n                          <NormalInput\r\n                            placeholder=\"Enter here\"\r\n                            disabled={true}\r\n                            value={DO_TTQTY}\r\n                            name=\"DO_TTQTY\"\r\n                            onChange={this.handleChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      {/* <div>\r\n                          {this.validator.message(\r\n                            t(\"Total\"),\r\n                            DO_TTQTY,\r\n                            t(\"required\")\r\n                          )}\r\n                      </div> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row justify-content-end\">\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => history.push(`/admin/inventory`)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  disabled={disableEdit}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? disableEdit : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(DO_STATUS)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? false : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Print PDF\"\r\n                  outline={false}\r\n                  onClick={() => this.getListDetail()}\r\n                />\r\n              </div>\r\n              {isPrintPdfClick ? (\r\n                <PDFDownloadLink\r\n                  document={\r\n                    <PDF\r\n                      listDetail={listDetail}\r\n                      itemDetail={storedItemList}\r\n                      // Flag={activeTab !== \"detail\" ? 3 : 4}\r\n                      landscape={false}\r\n                      blur={blur}\r\n                    />\r\n                  }\r\n                >\r\n                  {({ blob, url, loading, error }) =>\r\n                    !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                  }\r\n                </PDFDownloadLink>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      commonDeleteApi,\r\n      // updateDO,\r\n      // createDO,\r\n      // deleteDO,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddStocksDO = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddStocksDOClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}