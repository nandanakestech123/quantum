{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Backend\\\\Customer Master I\\\\customermasterdetails.js\";\nimport React, { Component } from \"react\";\nimport { NormalButton, NormalCheckbox, NormalInput, TableWrapper } from \"component/common\";\nimport { withTranslation } from \"react-i18next\";\nimport { CustomerClasses, NewCustomerClasses, ItemDepts, NewDepartmentaldiscounts } from \"redux/actions/Backend\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Toast } from \"service/toast\";\nexport default class CustomermasterdetailsClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      code: null,\n      desc: null,\n      checked: true,\n      customerDetails: [{\n        label: \"Code\",\n        divClass: \"justify-content-end\"\n      }, {\n        label: \"Department\"\n      }, {\n        label: \"Discount\"\n      }],\n      List: [],\n      discount: 0,\n      deptcode: null\n    };\n\n    this.componentDidMount = () => {\n      this.Listofcustomerclass({});\n      this.ListodDept({});\n    };\n\n    this.Listofcustomerclass = async () => {\n      let {\n        code\n      } = this.state;\n      await this.props.CustomerClasses().then(res => {\n        console.log(res);\n\n        if (res.length > 0) {\n          code = res[res.length - 1].classCode;\n          code = Number(code) + 1;\n        } else {\n          code = 10000;\n        }\n\n        this.setState({\n          code\n        });\n        console.log(code);\n      });\n    };\n\n    this.ListodDept = async () => {\n      this.updateState({\n        is_loading: true\n      });\n      await this.props.ItemDepts().then(res => {\n        console.log(res);\n        let {\n          List\n        } = this.state;\n\n        for (let key of res) {\n          List.push({\n            itmCode: key.itmCode,\n            itmDesc: key.itmDesc,\n            Discount: 0\n          });\n        }\n\n        console.log(List);\n        this.setState({\n          List,\n          is_loading: false\n        });\n        console.log(List.length);\n      });\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.temp = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      console.log(value, name);\n      let {\n        code,\n        desc,\n        checked\n      } = this.state;\n\n      if (name == \"code\") {\n        code = value;\n        this.setState({\n          code\n        });\n      }\n\n      if (name == \"desc\") {\n        desc = value;\n        this.setState({\n          desc\n        });\n      }\n\n      if (name == \"checked\") {\n        checked = value;\n        this.setState({\n          checked\n        });\n      }\n    };\n\n    this.finalcorporate = async () => {\n      let {\n        desc,\n        code,\n        checkd\n      } = this.state;\n\n      if (desc == null) {\n        Toast({\n          type: \"error\",\n          message: \"Please check required field\"\n        });\n      } else {\n        let newreason = {\n          classCode: code,\n          classDesc: desc,\n          classIsactive: checkd,\n          classProduct: 0,\n          classService: 0\n        };\n        await this.props.NewCustomerClasses(newreason).then(data => {\n          this.Listofcustomerclass();\n        }).catch(e => console.log(e));\n      }\n    };\n\n    this.handlediscount = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        List,\n        discount,\n        deptcode\n      } = this.state;\n\n      if (name == \"discount\") {\n        discount = value;\n        this.setState({\n          discount\n        });\n\n        for (let i = 0; i <= List.length - 1; i++) {\n          if (List[i].itmCode == deptcode) {\n            List[i].Discount = discount;\n            this.setState({\n              List\n            });\n            this.handledepartmentdiscount();\n          }\n        }\n      }\n    };\n\n    this.handleid = code => {\n      let {\n        deptcode\n      } = this.state;\n      deptcode = code;\n      this.setState({\n        deptcode\n      });\n      console.log(deptcode);\n    };\n\n    this.handledepartmentdiscount = async () => {\n      let {\n        discount,\n        deptcode,\n        code\n      } = this.state;\n\n      if (discount != 0) {\n        let newreason = {\n          departmentid: deptcode,\n          classid: code,\n          discount: discount,\n          isactive: null\n        };\n        await this.props.NewDepartmentaldiscounts(newreason).then(data => {\n          console.log(\"ss\");\n        });\n      }\n    };\n  }\n\n  render() {\n    let {\n      t\n    } = this.props;\n    let {\n      code,\n      desc,\n      checked,\n      List,\n      customerDetails,\n      is_loading,\n      discount\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      onClick: () => this.props.history.push(\"/admin/backend\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, t(\"Master Data\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      onClick: () => this.props.history.push(\"/admin/backend\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, t(\"Customer Master \")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, t(\"Operation\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, t(\"Customer Class\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }, t(\"Code\")), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: code,\n      name: \"code\",\n      onChange: this.temp,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, t(\"Description\")), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: desc,\n      name: \"desc\",\n      onChange: this.temp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      checked: checked,\n      name: \"checked\",\n      onChange: this.temp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 23\n      }\n    }, t(\"Active\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: customerDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, is_loading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 31\n      }\n    }, \"Loading...\"))))) : List.length > 0 ? List.map(({\n      itmCode,\n      itmDesc,\n      Discount\n    }, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 31\n        }\n      }, itmCode)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 31\n        }\n      }, itmDesc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        onClick: () => this.handleid(itmCode),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: Discount,\n        name: \"discount\",\n        onChange: this.handlediscount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 33\n        }\n      }))));\n    }) : null))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      style: {\n        width: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      label: \"Add\",\n      onClick: () => this.finalcorporate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    CustomerClasses,\n    NewCustomerClasses,\n    ItemDepts,\n    NewDepartmentaldiscounts\n  }, dispatch);\n};\n\nexport const Customermasterdetails = withTranslation()(connect(null, mapDispatchToProps)(CustomermasterdetailsClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Backend/Customer Master I/customermasterdetails.js"],"names":["React","Component","NormalButton","NormalCheckbox","NormalInput","TableWrapper","withTranslation","CustomerClasses","NewCustomerClasses","ItemDepts","NewDepartmentaldiscounts","connect","bindActionCreators","Toast","CustomermasterdetailsClass","state","code","desc","checked","customerDetails","label","divClass","List","discount","deptcode","componentDidMount","Listofcustomerclass","ListodDept","props","then","res","console","log","length","classCode","Number","setState","updateState","is_loading","key","push","itmCode","itmDesc","Discount","data","isMounted","temp","target","value","name","finalcorporate","checkd","type","message","newreason","classDesc","classIsactive","classProduct","classService","catch","e","handlediscount","i","handledepartmentdiscount","handleid","departmentid","classid","isactive","render","t","history","color","map","index","width","mapDispatchToProps","dispatch","Customermasterdetails"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalCheckbox,\r\n  NormalInput,\r\n  TableWrapper,\r\n} from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  CustomerClasses,\r\n  NewCustomerClasses,\r\n  ItemDepts,\r\n  NewDepartmentaldiscounts,\r\n} from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Toast } from \"service/toast\";\r\nexport default class CustomermasterdetailsClass extends Component {\r\n  state = {\r\n    code: null,\r\n    desc: null,\r\n    checked: true,\r\n    customerDetails: [\r\n      { label: \"Code\", divClass: \"justify-content-end\" },\r\n      { label: \"Department\" },\r\n      { label: \"Discount\" },\r\n    ],\r\n    List: [],\r\n    discount: 0,\r\n    deptcode: null,\r\n  };\r\n  componentDidMount = () => {\r\n    this.Listofcustomerclass({});\r\n    this.ListodDept({});\r\n  };\r\n\r\n  Listofcustomerclass = async () => {\r\n    let { code } = this.state;\r\n    await this.props.CustomerClasses().then(res => {\r\n      console.log(res);\r\n\r\n      if (res.length > 0) {\r\n        code = res[res.length - 1].classCode;\r\n        code = Number(code) + 1;\r\n      } else {\r\n        code = 10000;\r\n      }\r\n      this.setState({\r\n        code,\r\n      });\r\n      console.log(code);\r\n    });\r\n  };\r\n\r\n  ListodDept = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props.ItemDepts().then(res => {\r\n      console.log(res);\r\n      let { List } = this.state;\r\n      for (let key of res) {\r\n        List.push({ itmCode: key.itmCode, itmDesc: key.itmDesc, Discount: 0 });\r\n      }\r\n      console.log(List);\r\n      this.setState({\r\n        List,\r\n        is_loading: false,\r\n      });\r\n      console.log(List.length);\r\n    });\r\n  };\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  temp = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { code, desc, checked } = this.state;\r\n    if (name == \"code\") {\r\n      code = value;\r\n      this.setState({ code });\r\n    }\r\n    if (name == \"desc\") {\r\n      desc = value;\r\n      this.setState({ desc });\r\n    }\r\n    if (name == \"checked\") {\r\n      checked = value;\r\n      this.setState({ checked });\r\n    }\r\n  };\r\n  finalcorporate = async () => {\r\n    let { desc, code, checkd } = this.state;\r\n    if (desc == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please check required field\",\r\n      });\r\n    } else {\r\n      let newreason = {\r\n        classCode: code,\r\n        classDesc: desc,\r\n        classIsactive: checkd,\r\n        classProduct: 0,\r\n        classService: 0,\r\n      };\r\n      await this.props\r\n        .NewCustomerClasses(newreason)\r\n        .then(data => {\r\n          this.Listofcustomerclass();\r\n        })\r\n        .catch(e => console.log(e));\r\n    }\r\n  };\r\n  handlediscount = ({ target: { value, name } }) => {\r\n    let { List, discount, deptcode } = this.state;\r\n    if (name == \"discount\") {\r\n      discount = value;\r\n      this.setState({ discount });\r\n      for (let i = 0; i <= List.length - 1; i++) {\r\n        if (List[i].itmCode == deptcode) {\r\n          List[i].Discount = discount;\r\n          this.setState({ List });\r\n          this.handledepartmentdiscount();\r\n        }\r\n      }\r\n    }\r\n  };\r\n  handleid = code => {\r\n    let { deptcode } = this.state;\r\n    deptcode = code;\r\n    this.setState({ deptcode });\r\n    console.log(deptcode);\r\n  };\r\n  handledepartmentdiscount = async () => {\r\n    let { discount, deptcode, code } = this.state;\r\n    if (discount != 0) {\r\n      let newreason = {\r\n        departmentid: deptcode,\r\n        classid: code,\r\n        discount: discount,\r\n        isactive: null,\r\n      };\r\n      await this.props.NewDepartmentaldiscounts(newreason).then(data => {\r\n        console.log(\"ss\");\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    let { t } = this.props;\r\n    let { code, desc, checked, List, customerDetails, is_loading, discount } =\r\n      this.state;\r\n    return (\r\n      <>\r\n        <div className=\"col-md-12 d-flex align-items-center\">\r\n          <div className=\"detail d-flex\">\r\n            <p\r\n              className=\"category\"\r\n              onClick={() => this.props.history.push(\"/admin/backend\")}\r\n            >\r\n              {t(\"Master Data\")}\r\n            </p>\r\n            <i className=\"icon-right mx-md-3\"></i>\r\n            <p\r\n              className=\"sub-category\"\r\n              onClick={() => this.props.history.push(\"/admin/backend\")}\r\n            >\r\n              {t(\"Customer Master \")}\r\n            </p>\r\n            <i className=\"icon-right mx-md-3\"></i>\r\n            <p className=\"sub-category\">{t(\"Operation\")}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"container-fluid\">\r\n          <h5 className=\"mt-5\">{t(\"Customer Class\")}</h5>\r\n          <div className=\"row\">\r\n            <div className=\"col-4\">\r\n              <div className=\"mt-3\">\r\n                <span>{t(\"Code\")}</span>\r\n                <span style={{ color: \"red\" }}>*</span>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    value={code}\r\n                    name=\"code\"\r\n                    onChange={this.temp}\r\n                    disabled={true}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3 \">\r\n                <span>{t(\"Description\")}</span>\r\n                <span style={{ color: \"red\" }}>*</span>\r\n                <div className=\"input-group d-flex\">\r\n                  <div>\r\n                    <NormalInput\r\n                      value={desc}\r\n                      name=\"desc\"\r\n                      onChange={this.temp}\r\n                    />\r\n                  </div>\r\n                  <div className=\"ml-5\">\r\n                    <div className=\"d-flex input-group\">\r\n                      <NormalCheckbox\r\n                        checked={checked}\r\n                        name=\"checked\"\r\n                        onChange={this.temp}\r\n                      />\r\n                      <p>{t(\"Active\")}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-6 mt-1\">\r\n            <div className=\"tab-table-content\">\r\n              <div className=\"py-4\">\r\n                <div className=\"table-container\">\r\n                  <TableWrapper headerDetails={customerDetails}>\r\n                    {is_loading ? (\r\n                      <tr>\r\n                        <td colSpan=\"7\">\r\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                            <div class=\"spinner-border\" role=\"status\">\r\n                              <span class=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ) : List.length > 0 ? (\r\n                      List.map(({ itmCode, itmDesc, Discount }, index) => {\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"text-right\">{itmCode}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"text-left\">{itmDesc}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div\r\n                                className=\"text-left\"\r\n                                onClick={() => this.handleid(itmCode)}\r\n                              >\r\n                                <NormalInput\r\n                                  value={Discount}\r\n                                  name=\"discount\"\r\n                                  onChange={this.handlediscount}\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    ) : null}\r\n                  </TableWrapper>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-3\" style={{ width: 100 }}>\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"Add\"}\r\n              onClick={() => this.finalcorporate()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      CustomerClasses,\r\n      NewCustomerClasses,\r\n      ItemDepts,\r\n      NewDepartmentaldiscounts,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Customermasterdetails = withTranslation()(\r\n  connect(null, mapDispatchToProps)(CustomermasterdetailsClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}