{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDateTime,NormalMultiSelect,NormalTextarea}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{getJobtitle,getCommonApi,commonCreateApi,commonUpdateApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{NavLink}from\"react-router-dom\";import{Address}from\"./address\";import{Details}from\"./details\";import{createPO,updatePO,deletePO}from\"redux/actions/po\";import{getTokenDetails}from\"redux/actions/auth\";import{useLocation}from\"react-router-dom\";import{CgOpenCollective}from\"react-icons/cg\";import{history}from\"helpers\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";import PDF from\"../../StocksPDF/GRN/index\";export var AddStocksGRNClass=/*#__PURE__*/function(_Component){_inherits(AddStocksGRNClass,_Component);var _super=_createSuper(AddStocksGRNClass);function AddStocksGRNClass(){var _this;_classCallCheck(this,AddStocksGRNClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{DOC_NO:\"\",SUPPLY_NO:\"\",DOC_REF1:\"\",DOC_DATE:new Date(),DOC_SHIP:new Date(),DOC_REF2:\"\",DOC_STATUS:\"\",DOC_TERM:\"\",STORE_NO:\"\",DOC_REMK1:\"\",CREATE_USER:\"\"},statusOption:[],countryOption:[],stateOption:[],cityOption:[],siteOption:[],empOption:[],supOption:[],itemListBeforeEdit:[],isPrintPdfClick:false,listDetail:{},siteAddr:[],disableEdit:false,is_loading:true,isMounted:true,render:false,formFieldsBillingStored:[],formFieldsShippingStored:[],storedItemListStored:[],formFieldsDetailsStored:[],active:false,currentValue:0,navLinks:[{to:_this.props.location.pathname,label:\"Details\",id:\"Details\"},{to:_this.props.location.pathname,label:\"Address\",id:\"Address\"}],selectedMenu:\"Details\"};_this.componentWillMount=function(){_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){_this.getStatus();_this.getCountry();_this.getState();_this.getCity();_this.getSiteCode();_this.getSup();_this.getEmp();// this.getStatus()\n_this.getSiteDetail();console.log(\"this.props\",_this.props);console.log(\"this.state\",_this.state);};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var _this$state,active,currentValue;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,active=_this$state.active,currentValue=_this$state.currentValue;_context.next=3;return _this.setState({selectedMenu:key.id});case 3:_this.setState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}();_this.getEmp=function(){var empOption=_this.state.empOption;empOption=[];_this.props.getCommonApi(\"employeelist\").then(function(res){console.log(\"res.data\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;empOption.push({value:key.Emp_no,label:key.Emp_name,code:key.Emp_code// active: key.itm_isactive,\n});}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(\"empOption\",empOption);_this.setState({empOption:empOption}//   , ()=>{\n//   this.getSup()\n// }\n);if(_this.props.match.params.id){_this.autoFillForm();}else{_this.prefillDefault();_this.setState({render:true});}});};_this.getSup=function(){var supOption=_this.state.supOption;supOption=[];_this.props.getCommonApi(\"itemsupply\").then(function(res){console.log(\"res.data\",res);var _iterator2=_createForOfIteratorHelper(res.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;supOption.push({value:key.SPLY_CODE,label:key.SUPPLYDESC// code: key.itm_code,\n// active: key.itm_isactive,\n});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(\"supOption\",supOption);_this.setState({supOption:supOption});// , ()=>{\n// this.getDetails();\n// }\n// );\n// if(!this.props.match.params.id){\n//   this.setState({render: true})\n// }\n// if (this.props.match.params.id) {\n//   this.autoFillForm()\n// };\n});};_this.prefillDefault=function(){var _this$state2=_this.state,disableEdit=_this$state2.disableEdit,statusOption=_this$state2.statusOption,empOption=_this$state2.empOption,supOption=_this$state2.supOption;if(empOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"CREATE_USER\"]=empOption.find(function(option){return option.label===_this.props.tokenDetail.username;}).value;}if(statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"DOC_STATUS\"]=statusOption.find(function(option){return option.label===\"Open\";}).value;}console.log(\"prefill count\");_this.state.formFields[\"STORE_NO\"]=1;_this.setState(_this.state.formFields);};_this.getSiteCode=function(){var siteOption=_this.state.siteOption;siteOption=[];_this.props.getCommonApi(\"sitecode\").then(function(res){console.log(\"res.data\",res);var _iterator3=_createForOfIteratorHelper(res.data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;siteOption.push({value:key.ItemSite_Code,label:key.ItemSite_Desc,id:key.ItemSite_ID// active: key.itm_isactive,\n});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}console.log(\"siteOption\",siteOption);_this.setState({siteOption:siteOption});});};_this.getStatus=function(){var statusOption=_this.state.statusOption;statusOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"dropdown\").then(function(res){console.log(\"res.data\",res);var _iterator4=_createForOfIteratorHelper(res.data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;statusOption.push({value:key.id,label:key.AllDropdown_Item,code:key.AllDropdown_Desc,active:key.Active});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Approved\"){statusOption.splice(i,1);}if(statusOption[i].label==\"Not Approved\"){statusOption.splice(i,1);}}if(!_this.props.match.params.id){for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Posted\"){statusOption.splice(i,1);}}}console.log(\"statusOption\",statusOption);_this.setState({statusOption:statusOption}//   , () =>{\n//   this.getEmp()\n// }\n);});};_this.getCountry=function(){var countryOption=_this.state.countryOption;countryOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"country\").then(function(res){console.log(\"res.data\",res);var _iterator5=_createForOfIteratorHelper(res.data),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;countryOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_isactive});}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}console.log(\"countryOption\",countryOption);_this.setState({countryOption:countryOption});});};_this.getState=function(){var stateOption=_this.state.stateOption;stateOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"state\").then(function(res){console.log(\"res.data\",res);var _iterator6=_createForOfIteratorHelper(res.data),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var key=_step6.value;stateOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_isactive});}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}console.log(\"stateOption\",stateOption);_this.setState({stateOption:stateOption});});};_this.getCity=function(){var cityOption=_this.state.cityOption;cityOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"city\").then(function(res){console.log(\"res.data\",res);var _iterator7=_createForOfIteratorHelper(res.data),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var key=_step7.value;cityOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_isactive});}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}console.log(\"cityOption\",cityOption);_this.setState({cityOption:cityOption});});};_this.getSiteDetail=function(){var siteAddr=_this.state.siteAddr;siteAddr=[];_this.props.getCommonApi(\"sitecode\").then(function(res){console.log(\"res.data\",res);siteAddr=res.data;console.log(\"siteAddr\",siteAddr);_this.setState({siteAddr:siteAddr});});};_this.getAutofillItemDetails=function(DOC_NO){var render=_this.state.render;_this.props.getCommonApi(\"grnitem/?searchdocno=\".concat(DOC_NO,\"&limit=10000\")).then(function(res){console.log(\"res in getAutofillItemDetails\",res);// this.state.storedItemListStored = res.data.dataList\nif(res.status==200){var _iterator8=_createForOfIteratorHelper(res.data.dataList),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var item=_step8.value;console.log(\"no of times in if loop\");_this.state.storedItemListStored.push({item_code:item.ITEMCODE,Item_Desc:item.ITEMDESC,brand_itm_desc:item.itmBrandDesc,range_itm_desc:item.itmRangeDesc,UOM_DESC:item.DOC_UOMTYPE,ITEM_UOM:item.DOC_UOM,item_cost:item.DOC_PRICE,item_quantity:item.DOC_QTY,amount:item.DOC_AMT,item_remarks:item.ITEM_REMARK,editing:false});_this.state.itemListBeforeEdit.push({item_id:item.DOC_ID,item_code:item.ITEMCODE,UOM_DESC:item.DOC_UOMTYPE});}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}_this.setState(_this.state.storedItemListStored);_this.setState(_this.state.itemListBeforeEdit);console.log(\"this.state.itemListBeforeEdit\",_this.state.itemListBeforeEdit);}_this.setState({render:true});});};_this.storeAddressFields=function(formFieldsBilling,formFieldsShipping){_this.state.formFieldsBillingStored=formFieldsBilling;_this.state.formFieldsShippingStored=formFieldsShipping;// this.state.formFieldsShippingStored = formFieldsShipping\n// this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\nconsole.log(\"formFieldsBilling in addquo\",formFieldsBilling);console.log(\"formFieldsShipping in addquo\",formFieldsShipping);console.log(\"formFieldsBillingStored in addpo\",_this.state.formFieldsBillingStored);console.log(\"formFieldsShippingStored in addpo\",_this.state.formFieldsShippingStored);_this.setState(_this.state.formFieldsBillingStored);_this.setState(_this.state.formFieldsShippingStored);};_this.storeItemDetails=function(storedItemList,formFields){_this.state.storedItemListStored=storedItemList;_this.state.formFieldsDetailsStored=formFields;console.log(\"storedItemList in addquo\",storedItemList);console.log(\"formFields in addquo\",formFields);console.log(\"storedItemListStored in addpo\",_this.state.storedItemListStored);console.log(\"formFieldsDetailsStored in addpo\",_this.state.formFieldsDetailsStored);_this.setState(_this.state.storedItemListStored);_this.setState(_this.state.formFieldsDetailsStored);};_this.autoFillForm=function(){var _this$state3=_this.state,disableEdit=_this$state3.disableEdit,statusOption=_this$state3.statusOption,empOption=_this$state3.empOption,supOption=_this$state3.supOption;_this.props.getCommonApi(\"grnlist/?searchdocid=\".concat(_this.props.match.params.id)).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"grn dataList\",res.data.dataList);// console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n// custName = res.data.dataList[0].customer_name\n// this.state.projectList = res.data.dataList\n_this.state.formFields[\"DOC_NO\"]=res.data.dataList[0].DOC_NO;_this.state.formFields[\"SUPPLY_NO\"]=res.data.dataList[0].SUPPLY_NO;// if (res.data.dataList[0].SUPPLY_NO && supOption.length!==0) {\n//   //matching status name with the id to set prefill status in dropdown\n//   this.state.formFields[\"SUPPLY_NO\"] = supOption.find(option => option.label === res.data.dataList[0].SUPPLY_NO).value\n//   console.log(\"res.data.dataList[0].SUPPLY_NO\",res.data.dataList[0].SUPPLY_NO)\n// }\n_this.state.formFields[\"DOC_REF1\"]=res.data.dataList[0].DOC_REF1;_this.state.formFields[\"DOC_DATE\"]=res.data.dataList[0].DOC_DATE;_this.state.formFields[\"DOC_SHIP\"]=res.data.dataList[0].DOC_SHIP;_this.state.formFields[\"DOC_REF2\"]=res.data.dataList[0].DOC_REF2;console.log(\"statusOption in prefill\",_this.state.statusOption);console.log(\"res.data.dataList[0].status\",res.data.dataList[0].DOC_STATUS);// if status empty prevent err\nif(res.data.dataList[0].DOC_STATUS&&statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"DOC_STATUS\"]=statusOption.find(function(option){return option.label===res.data.dataList[0].DOC_STATUS;}).value;console.log(\"res.data.dataList[0].DOC_STATUS\",res.data.dataList[0].DOC_STATUS);if(res.data.dataList[0].DOC_STATUS==\"Posted\"){disableEdit=true;// for (var i = 0; i < statusOption.length; i++){\n//   if(statusOption[i].label == \"Posted\") {\n//     statusOption = statusOption.filter(e => e.label !== 'Open')\n//   }\n// }\n// console.log(\"statusOption when status is posted\",statusOption)\n_this.setState({disableEdit:disableEdit});console.log(\"this.state.disableEdit\",disableEdit);}}_this.state.formFields[\"DOC_TERM\"]=res.data.dataList[0].DOC_TERM;_this.state.formFields[\"STORE_NO\"]=1;_this.state.formFields[\"DOC_REMK1\"]=res.data.dataList[0].DOC_REMK1;if(res.data.dataList[0].CREATE_USER&&empOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"CREATE_USER\"]=empOption.find(function(option){return option.label===res.data.dataList[0].CREATE_USER;}).value;}_this.state.formFieldsDetailsStored.DOC_AMT=res.data.dataList[0].DOC_AMT;_this.state.formFieldsDetailsStored.DOC_QTY=res.data.dataList[0].DOC_QTY;_this.state.formFieldsBillingStored.to=res.data.dataList[0].BNAME;_this.state.formFieldsBillingStored.address1=res.data.dataList[0].BADDR1;_this.state.formFieldsBillingStored.address2=res.data.dataList[0].BADDR2;_this.state.formFieldsBillingStored.address3=res.data.dataList[0].BADDR3;_this.state.formFieldsBillingStored.postalCode=res.data.dataList[0].BPOSTCODE;if(res.data.dataList[0].BCITY){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.city=_this.state.cityOption.find(function(option){return option.label===res.data.dataList[0].BCITY;}).value;}if(res.data.dataList[0].BSTATE){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.state=_this.state.stateOption.find(function(option){return option.label===res.data.dataList[0].BSTATE;}).value;}if(res.data.dataList[0].BCOUNTRY){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.country=_this.state.countryOption.find(function(option){return option.label===res.data.dataList[0].BCOUNTRY;}).value;}// this.state.formFieldsShippingStored.to = res.data.dataList[0].shipto\n_this.state.formFieldsShippingStored.address1=res.data.dataList[0].DADDR1;_this.state.formFieldsShippingStored.address2=res.data.dataList[0].DADDR2;_this.state.formFieldsShippingStored.address3=res.data.dataList[0].DADDR3;_this.state.formFieldsShippingStored.postalCode=res.data.dataList[0].DPOSTCODE;if(res.data.dataList[0].DCITY){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.city=_this.state.cityOption.find(function(option){return option.label===res.data.dataList[0].DCITY;}).value;}if(res.data.dataList[0].DSTATE){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.state=_this.state.stateOption.find(function(option){return option.label===res.data.dataList[0].DSTATE;}).value;}if(res.data.dataList[0].DCOUNTRY){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.country=_this.state.countryOption.find(function(option){return option.label===res.data.dataList[0].DCOUNTRY;}).value;}console.log(\"this.state.formFieldsBillingStored in autofillAddr\",_this.state.formFieldsBillingStored);console.log(\"this.state.formFieldsShippingStored in autofillAddr\",_this.state.formFieldsShippingStored);_this.setState(_this.state.formFieldsBillingStored);_this.setState(_this.state.formFieldsShippingStored);_this.updateState(_this.state.formFields);_this.setState(_this.state.formFieldsDetailsStored);console.log(\"this.state.formFields\",_this.state.formFields);_this.getAutofillItemDetails(res.data.dataList[0].DOC_NO);case 39:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}());};_this.handleItemDetailsSubmit=function(resGRN){var _this$state4=_this.state,storedItemListStored=_this$state4.storedItemListStored,itemListBeforeEdit=_this$state4.itemListBeforeEdit;console.log(\"before delete\");console.log(\"storedItemListStored\",storedItemListStored);console.log(\"itemListBeforeEdit\",itemListBeforeEdit);var _iterator9=_createForOfIteratorHelper(itemListBeforeEdit),_step9;try{var _loop=function _loop(){var item=_step9.value;var found=storedItemListStored.some(function(el){return el.item_code===item.item_code&&el.UOM_DESC===item.UOM_DESC;});if(!found){_this.props.commonDeleteApi(\"grnitem/\".concat(item.item_id,\"/\")).then(function(res){});}};for(_iterator9.s();!(_step9=_iterator9.n()).done;){_loop();}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}console.log(\"storedItemListStored in submit\",storedItemListStored);console.log(\"resGRN in item sub\",resGRN);var _iterator10=_createForOfIteratorHelper(storedItemListStored),_step10;try{var _loop2=function _loop2(){var item=_step10.value;var formDataItem=new FormData();formDataItem.append(\"ITEMCODE\",item.item_code);formDataItem.append(\"ITEMDESC\",item.Item_Desc);formDataItem.append(\"DOC_UOMTYPE\",item.UOM_DESC);formDataItem.append(\"DOC_UOM\",item.ITEM_UOM);formDataItem.append(\"itmBrandDesc\",item.brand_itm_desc);formDataItem.append(\"itmRangeDesc\",item.range_itm_desc);formDataItem.append(\"DOC_PRICE\",item.item_cost);formDataItem.append(\"DOC_QTY\",item.item_quantity);formDataItem.append(\"DOC_AMT\",item.amount);formDataItem.append(\"ITEM_REMARK\",item.item_remarks);_this.props.getCommonApi(\"grnitem/?searchdocno=\".concat(resGRN.data.DOC_NO,\"&searchitemcode=\").concat(item.item_code,\"&searchuom=\").concat(item.UOM_DESC)).then(function(resGetItem){if(resGetItem.status==200){console.log(\"resGetItem\",resGetItem);_this.props.commonUpdateApi(\"grnitem/\".concat(resGetItem.data.dataList[0].DOC_ID,\"/\"),formDataItem).then(function(resUpdateItem){console.log(\"resUpdateItem\",resUpdateItem);history.push(\"/admin/inventory\");});}else if(resGetItem.status==204){formDataItem.append(\"DOC_NO\",resGRN.data.DOC_NO);_this.props.commonCreateApi(\"grnitem/\",formDataItem).then(function(resCreateItem){console.log(\"resCreateItem\",resCreateItem);history.push(\"/admin/inventory\");});}});};for(_iterator10.s();!(_step10=_iterator10.n()).done;){_loop2();}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}};_this.handleSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(DOC_STATUS){var _this$state5,formFields,statusOption,cityOption,stateOption,countryOption,supOption,empOption,formFieldsDetailsStored,formData,resGRN;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;if(!_this.validator.allValid()){_context4.next=53;break;}_this$state5=_this.state,formFields=_this$state5.formFields,statusOption=_this$state5.statusOption,cityOption=_this$state5.cityOption,stateOption=_this$state5.stateOption,countryOption=_this$state5.countryOption,supOption=_this$state5.supOption,empOption=_this$state5.empOption,formFieldsDetailsStored=_this$state5.formFieldsDetailsStored;// let statusValue =\"\"\n// console.log('formFields.status', formFields.status)\n// for (let key of statusOption){\n//   // console.log(key.value)\n//   if(key.value == formFields.status){\n//     statusValue = key.label\n//   }\n// }\n// console.log(\"statusValue\", statusValue)\nformData=new FormData();// formData.append(\"po_number\", formFields.PONumber);\n//check save or post\nif(DOC_STATUS){formData.append(\"DOC_STATUS\",\"Posted\");}else{formData.append(\"DOC_STATUS\",formFields.DOC_STATUS?statusOption.find(function(option){return option.value===parseInt(formFields.DOC_STATUS);}).label:\"\");}// formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO);\nformData.append(\"SUPPLY_NO\",formFields.SUPPLY_NO);// ?\n// supOption.find(option => option.value === formFields.SUPPLY_NO).label\n// : \"\");\nformData.append(\"DOC_REF1\",formFields.DOC_REF1);formData.append(\"DOC_DATE\",dateFormat(formFields.DOC_DATE)+\" 00:00:00\");formData.append(\"DOC_SHIP\",dateFormat(formFields.DOC_SHIP)+\" 00:00:00\");formData.append(\"DOC_REF2\",formFields.DOC_REF2);// console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\nformData.append(\"DOC_TERM\",formFields.DOC_TERM);// formData.append(\"STORE_NO\", formFields.STORE_NO);\nformData.append(\"STORE_NO\",_this.props.tokenDetail.site_code);formData.append(\"DOC_REMK1\",formFields.DOC_REMK1);formData.append(\"CREATE_USER\",formFields.CREATE_USER?empOption.find(function(option){return option.value===parseInt(formFields.CREATE_USER);}).label:\"\");formData.append(\"STAFF_NO\",formFields.CREATE_USER?empOption.find(function(option){return option.value===parseInt(formFields.CREATE_USER);}).code:\"\");formData.append(\"DOC_AMT\",formFieldsDetailsStored.DOC_AMT?formFieldsDetailsStored.DOC_AMT:\"\");formData.append(\"DOC_QTY\",formFieldsDetailsStored.DOC_QTY?formFieldsDetailsStored.DOC_QTY:\"\");console.log(\"this.state.formFieldsBillingStored in submit\",_this.state.formFieldsBillingStored);formData.append(\"BNAME\",_this.state.formFieldsBillingStored.to?_this.state.formFieldsBillingStored.to:\"\");formData.append(\"BADDR1\",_this.state.formFieldsBillingStored.address1?_this.state.formFieldsBillingStored.address1:\"\");formData.append(\"BADDR2\",_this.state.formFieldsBillingStored.address2?_this.state.formFieldsBillingStored.address2:\"\");formData.append(\"BADDR3\",_this.state.formFieldsBillingStored.address3?_this.state.formFieldsBillingStored.address3:\"\");formData.append(\"BPOSTCODE\",_this.state.formFieldsBillingStored.postalCode?_this.state.formFieldsBillingStored.postalCode:\"\");// console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\nformData.append(\"BCITY\",_this.state.formFieldsBillingStored.city?cityOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.city);}).label:\"\");formData.append(\"BSTATE\",_this.state.formFieldsBillingStored.state?stateOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.state);}).label:\"\");formData.append(\"BCOUNTRY\",_this.state.formFieldsBillingStored.country?countryOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.country);}).label:\"\");// formData.append(\"shipto\", this.state.formFieldsShippingStored.to);\nformData.append(\"DADDR1\",_this.state.formFieldsShippingStored.address1?_this.state.formFieldsShippingStored.address1:\"\");formData.append(\"DADDR2\",_this.state.formFieldsShippingStored.address2?_this.state.formFieldsShippingStored.address2:\"\");formData.append(\"DADDR3\",_this.state.formFieldsShippingStored.address3?_this.state.formFieldsShippingStored.address3:\"\");formData.append(\"DPOSTCODE\",_this.state.formFieldsShippingStored.postalCode?_this.state.formFieldsShippingStored.postalCode:\"\");formData.append(\"DCITY\",_this.state.formFieldsShippingStored.city?cityOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.city);}).label:\"\");formData.append(\"DSTATE\",_this.state.formFieldsShippingStored.state?stateOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.state);}).label:\"\");formData.append(\"DCOUNTRY\",_this.state.formFieldsShippingStored.country?countryOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.country);}).label:\"\");console.log(\"formData\",formData);if(!_this.props.match.params.id){_context4.next=44;break;}console.log(\"in if loop\");console.log(\"this.props.match.params.id\",_this.props.match.params.id);_context4.next=39;return _this.props.commonUpdateApi(\"grnlist/\".concat(_this.props.match.params.id,\"/\"),formData);case 39:resGRN=_context4.sent;// console.log(resPO);\n// this.handleAddressSubmit(resPO);\n// this.handleItemDetailsSubmit(resPO);\n// if(statusValue == \"Void\"){\n//   console.log(\"in void loop\")\n//   await this.props.deletePO(`${this.props.match.params.id}/`)\n// }\n_this.handleItemDetailsSubmit(resGRN);history.push(\"/admin/inventory\");_context4.next=51;break;case 44:console.log(\"this.props before createPO\",_this.props);_context4.next=47;return _this.props.commonCreateApi(\"grnlist/\",formData);case 47:resGRN=_context4.sent;console.log(\"resGRN in createresGRN\",resGRN);// console.log(\"resPO.data.id\",resPO.data.id)\n// this.handleAddressSubmit(resGRN);\n_this.handleItemDetailsSubmit(resGRN);history.push(\"/admin/inventory\");case 51:_context4.next=54;break;case 53:_this.validator.showMessages();case 54:_context4.next=59;break;case 56:_context4.prev=56;_context4.t0=_context4[\"catch\"](0);_this.updateState({is_loading:false});case 59:case\"end\":return _context4.stop();}}},_callee4,null,[[0,56]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};_this.getListDetail=function(){var _this$state6=_this.state,siteAddr=_this$state6.siteAddr,formFieldsDetailsStored=_this$state6.formFieldsDetailsStored,supOption=_this$state6.supOption,empOption=_this$state6.empOption,listDetail=_this$state6.listDetail,formFields=_this$state6.formFields,isPrintPdfClick=_this$state6.isPrintPdfClick;var addr=\"\";var _iterator11=_createForOfIteratorHelper(siteAddr),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var site=_step11.value;if(site.ItemSite_Code==_this.props.tokenDetail.site_code){addr=site.ItemSite_Address;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}listDetail={DOC_NO:formFields.DOC_NO,Supplier:formFields.SUPPLY_NO&&supOption?supOption.find(function(option){return option.value===formFields.SUPPLY_NO;}).label:\"\",CREATE_USER:formFields.CREATE_USER&&empOption?empOption.find(function(option){return option.value===formFields.CREATE_USER;}).label:\"\",DOC_DATE:formFields.DOC_DATE,DOC_REF1:formFields.DOC_REF1,DOC_REF2:formFields.DOC_REF2,DOC_REMK1:formFields.DOC_REMK1,storeName:_this.props.tokenDetail.branch,printedBy:_this.props.tokenDetail.username,totalQty:formFieldsDetailsStored.DOC_QTY,totalAmt:formFieldsDetailsStored.DOC_AMT,addr:addr};console.log(\"listDetail in getListDetail\",listDetail);isPrintPdfClick=true;_this.setState({listDetail:listDetail,isPrintPdfClick:isPrintPdfClick});};return _this;}_createClass(AddStocksGRNClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,formFields=_this$state7.formFields,statusOption=_this$state7.statusOption,currentValue=_this$state7.currentValue,navLinks=_this$state7.navLinks,disableEdit=_this$state7.disableEdit,siteOption=_this$state7.siteOption,empOption=_this$state7.empOption,supOption=_this$state7.supOption,render=_this$state7.render,isPrintPdfClick=_this$state7.isPrintPdfClick,listDetail=_this$state7.listDetail;var DOC_NO=formFields.DOC_NO,SUPPLY_NO=formFields.SUPPLY_NO,DOC_REF1=formFields.DOC_REF1,DOC_DATE=formFields.DOC_DATE,DOC_SHIP=formFields.DOC_SHIP,DOC_REF2=formFields.DOC_REF2,DOC_STATUS=formFields.DOC_STATUS,DOC_TERM=formFields.DOC_TERM,STORE_NO=formFields.STORE_NO,DOC_REMK1=formFields.DOC_REMK1,CREATE_USER=formFields.CREATE_USER;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5  create-GRN\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category cursor-pointer\",onClick:function onClick(){return history.push(\"/admin/inventory\");}},t(\"Stocks GRN\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" Stocks GRN\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"PO-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Doc No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:true,placeholder:\"Auto generated\",value:DOC_NO,name:\"DOC_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Supplier No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:supOption,disabled:disableEdit,value:SUPPLY_NO,name:\"SUPPLY_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Supplier\"),SUPPLY_NO,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"GR Ref1\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:disableEdit,placeholder:\"Enter here\",value:DOC_REF1,name:\"DOC_REF1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Doc Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:DOC_DATE?new Date(DOC_DATE):new Date(),name:\"DOC_DATE\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"// maxDate={new Date(toDate)}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Doc Date\"),DOC_DATE,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Delivery Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:DOC_SHIP?new Date(DOC_SHIP):new Date(),name:\"DOC_SHIP\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"// maxDate={new Date(toDate)}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Delivery Date\"),DOC_SHIP,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"GR Ref2\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:disableEdit,placeholder:\"Enter here\",value:DOC_REF2,name:\"DOC_REF2\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:statusOption,disabled:disableEdit,value:DOC_STATUS,name:\"DOC_STATUS\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Term\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:disableEdit,placeholder:\"Enter here\",value:DOC_TERM,name:\"DOC_TERM\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Store Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:[{value:1,label:this.props.tokenDetail.branch}],disabled:disableEdit,value:STORE_NO,name:\"STORE_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Store Code\"),STORE_NO,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-desc\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter here\",disabled:disableEdit,value:DOC_REMK1,name:\"DOC_REMK1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Created By\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:empOption,disabled:disableEdit,value:CREATE_USER,name:\"CREATE_USER\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Created By\"),CREATE_USER,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 GRN-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-menus\"},/*#__PURE__*/React.createElement(\"ul\",null,navLinks.map(function(_ref6,index){var to=_ref6.to,label=_ref6.label,id=_ref6.id;return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(NavLink,{to:to,className:\"nav-link\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-menu \".concat(currentValue===index?\"active\":\"\"),onClick:function onClick(){return _this2.handleClick({key:index,id:id});}},/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar-menu-desc\"},t(label)))));}))),this.state.selectedMenu===\"Details\"&&render==true&&/*#__PURE__*/React.createElement(Details,{disableEdit:disableEdit,grnId:this.props.match.params.id,validator:this.validator,storeItemDetails:this.storeItemDetails.bind(this),storedItemListStored:this.state.storedItemListStored,formFieldsDetailsStored:this.state.formFieldsDetailsStored,id:this.state.selectedMenu// search={formFields.search}\n,api:\"details\"}),this.state.selectedMenu===\"Address\"&&/*#__PURE__*/React.createElement(Address,{disableEdit:disableEdit,storeAddressFields:this.storeAddressFields.bind(this),formFieldsBillingStored:this.state.formFieldsBillingStored,formFieldsShippingStored:this.state.formFieldsShippingStored,id:this.state.selectedMenu// search={formFields.search}\n,api:\"address\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:function onClick(){return history.push(\"/admin/inventory\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,disabled:disableEdit,className:\"confirm\",label:\"Save\",onClick:function onClick(){return _this2.handleSubmit();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,disabled:this.props.match.params.id?disableEdit:true,className:\"confirm\",label:\"Post\",outline:false,onClick:function onClick(){return _this2.handleSubmit(DOC_STATUS);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?false:true,mainbg:true,className:\"confirm\",label:\"Print PDF\",outline:false,onClick:function onClick(){return _this2.getListDetail();}})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(PDF,{listDetail:listDetail,itemDetail:this.state.storedItemListStored// Flag={activeTab !== \"detail\" ? 3 : 4}\n,landscape:false})},function(_ref7){var blob=_ref7.blob,url=_ref7.url,loading=_ref7.loading,error=_ref7.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null))));}}]);return AddStocksGRNClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonUpdateApi:commonUpdateApi,commonDeleteApi:commonDeleteApi,updatePO:updatePO,createPO:createPO,deletePO:deletePO,getTokenDetails:getTokenDetails},dispatch);};export var AddStocksGRN=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddStocksGRNClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Inventory/StocksGRN/AddStocksGRN/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","Address","Details","createPO","updatePO","deletePO","getTokenDetails","useLocation","CgOpenCollective","history","PDFViewer","PDFDownloadLink","BlobProvider","PDF","AddStocksGRNClass","state","formFields","DOC_NO","SUPPLY_NO","DOC_REF1","DOC_DATE","Date","DOC_SHIP","DOC_REF2","DOC_STATUS","DOC_TERM","STORE_NO","DOC_REMK1","CREATE_USER","statusOption","countryOption","stateOption","cityOption","siteOption","empOption","supOption","itemListBeforeEdit","isPrintPdfClick","listDetail","siteAddr","disableEdit","is_loading","isMounted","render","formFieldsBillingStored","formFieldsShippingStored","storedItemListStored","formFieldsDetailsStored","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","componentWillMount","validator","validators","element","message","autoForceUpdate","componentDidMount","getStatus","getCountry","getState","getCity","getSiteCode","getSup","getEmp","getSiteDetail","console","log","updateState","data","setState","handleClick","key","selected","handleChange","target","value","name","Object","assign","handleDatePick","then","res","push","Emp_no","Emp_name","code","Emp_code","match","params","autoFillForm","prefillDefault","SPLY_CODE","SUPPLYDESC","length","find","option","tokenDetail","username","ItemSite_Code","ItemSite_Desc","ItemSite_ID","AllDropdown_Item","AllDropdown_Desc","Active","i","splice","itm_id","itm_desc","itm_code","itm_isactive","getAutofillItemDetails","status","dataList","item","item_code","ITEMCODE","Item_Desc","ITEMDESC","brand_itm_desc","itmBrandDesc","range_itm_desc","itmRangeDesc","UOM_DESC","DOC_UOMTYPE","ITEM_UOM","DOC_UOM","item_cost","DOC_PRICE","item_quantity","DOC_QTY","amount","DOC_AMT","item_remarks","ITEM_REMARK","editing","item_id","DOC_ID","storeAddressFields","formFieldsBilling","formFieldsShipping","storeItemDetails","storedItemList","BNAME","address1","BADDR1","address2","BADDR2","address3","BADDR3","postalCode","BPOSTCODE","BCITY","city","BSTATE","BCOUNTRY","country","DADDR1","DADDR2","DADDR3","DPOSTCODE","DCITY","DSTATE","DCOUNTRY","handleItemDetailsSubmit","resGRN","found","some","el","formDataItem","FormData","append","resGetItem","resUpdateItem","resCreateItem","handleSubmit","allValid","formData","parseInt","site_code","showMessages","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","getListDetail","addr","site","ItemSite_Address","Supplier","storeName","branch","printedBy","totalQty","totalAmt","t","map","index","bind","blob","loading","error","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddStocksGRN"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Address } from \"./address\";\r\nimport { Details } from \"./details\";\r\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { CgOpenCollective } from \"react-icons/cg\";\r\nimport { history } from \"helpers\";\r\n\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport PDF from \"../../StocksPDF/GRN/index\";\r\n\r\nexport class AddStocksGRNClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      DOC_NO: \"\",\r\n      SUPPLY_NO: \"\",\r\n      DOC_REF1: \"\",\r\n      DOC_DATE: new Date(),\r\n      DOC_SHIP: new Date(),\r\n      DOC_REF2: \"\",\r\n      DOC_STATUS: \"\",\r\n      DOC_TERM: \"\",\r\n      STORE_NO: \"\",\r\n      DOC_REMK1: \"\",\r\n      CREATE_USER: \"\",\r\n    },\r\n    statusOption: [],\r\n    countryOption: [],\r\n    stateOption: [],\r\n    cityOption: [],\r\n    siteOption: [],\r\n    empOption: [],\r\n    supOption: [],\r\n\r\n    itemListBeforeEdit: [],\r\n\r\n    isPrintPdfClick: false,\r\n    listDetail: {},\r\n    siteAddr: [],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n    render: false,\r\n\r\n    formFieldsBillingStored: [],\r\n    formFieldsShippingStored: [],\r\n    storedItemListStored: [],\r\n    formFieldsDetailsStored: [],\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n      { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    ],\r\n    selectedMenu: \"Details\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getStatus();\r\n    this.getCountry();\r\n    this.getState();\r\n    this.getCity();\r\n    this.getSiteCode();\r\n    this.getSup();\r\n    this.getEmp();\r\n    // this.getStatus()\r\n    this.getSiteDetail();\r\n\r\n    console.log(\"this.props\", this.props);\r\n\r\n    console.log(\"this.state\", this.state);\r\n  };\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getEmp = () => {\r\n    let { empOption } = this.state;\r\n    empOption = [];\r\n    this.props.getCommonApi(`employeelist`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        empOption.push({\r\n          value: key.Emp_no,\r\n          label: key.Emp_name,\r\n          code: key.Emp_code,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"empOption\", empOption);\r\n      this.setState(\r\n        { empOption }\r\n        //   , ()=>{\r\n        //   this.getSup()\r\n        // }\r\n      );\r\n      if (this.props.match.params.id) {\r\n        this.autoFillForm();\r\n      } else {\r\n        this.prefillDefault();\r\n        this.setState({ render: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  getSup = () => {\r\n    let { supOption } = this.state;\r\n    supOption = [];\r\n    this.props.getCommonApi(`itemsupply`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        supOption.push({\r\n          value: key.SPLY_CODE,\r\n          label: key.SUPPLYDESC,\r\n          // code: key.itm_code,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"supOption\", supOption);\r\n      this.setState({ supOption });\r\n      // , ()=>{\r\n\r\n      // this.getDetails();\r\n\r\n      // }\r\n      // );\r\n      // if(!this.props.match.params.id){\r\n      //   this.setState({render: true})\r\n      // }\r\n      // if (this.props.match.params.id) {\r\n      //   this.autoFillForm()\r\n      // };\r\n    });\r\n  };\r\n\r\n  prefillDefault = () => {\r\n    let { disableEdit, statusOption, empOption, supOption } = this.state;\r\n\r\n    if (empOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"CREATE_USER\"] = empOption.find(\r\n        option => option.label === this.props.tokenDetail.username\r\n      ).value;\r\n    }\r\n    if (statusOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"DOC_STATUS\"] = statusOption.find(\r\n        option => option.label === \"Open\"\r\n      ).value;\r\n    }\r\n    console.log(\"prefill count\");\r\n\r\n    this.state.formFields[\"STORE_NO\"] = 1;\r\n    this.setState(this.state.formFields);\r\n  };\r\n\r\n  getSiteCode = () => {\r\n    let { siteOption } = this.state;\r\n    siteOption = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        siteOption.push({\r\n          value: key.ItemSite_Code,\r\n          label: key.ItemSite_Desc,\r\n          id: key.ItemSite_ID,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"siteOption\", siteOption);\r\n      this.setState({ siteOption });\r\n    });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.AllDropdown_Item,\r\n          code: key.AllDropdown_Desc,\r\n          active: key.Active,\r\n        });\r\n      }\r\n      for (var i = 0; i < statusOption.length; i++) {\r\n        if (statusOption[i].label == \"Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n        if (statusOption[i].label == \"Not Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Posted\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState(\r\n        { statusOption }\r\n        //   , () =>{\r\n        //   this.getEmp()\r\n\r\n        // }\r\n      );\r\n    });\r\n  };\r\n\r\n  getCountry = () => {\r\n    let { countryOption } = this.state;\r\n    countryOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`country`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        countryOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"countryOption\", countryOption);\r\n      this.setState({ countryOption });\r\n    });\r\n  };\r\n\r\n  getState = () => {\r\n    let { stateOption } = this.state;\r\n    stateOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`state`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        stateOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"stateOption\", stateOption);\r\n      this.setState({ stateOption });\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n    });\r\n  };\r\n\r\n  getSiteDetail = () => {\r\n    let { siteAddr } = this.state;\r\n    siteAddr = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      siteAddr = res.data;\r\n      console.log(\"siteAddr\", siteAddr);\r\n      this.setState({ siteAddr });\r\n    });\r\n  };\r\n\r\n  getAutofillItemDetails = DOC_NO => {\r\n    let { render } = this.state;\r\n    this.props\r\n      .getCommonApi(`grnitem/?searchdocno=${DOC_NO}&limit=10000`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            console.log(\"no of times in if loop\");\r\n            this.state.storedItemListStored.push({\r\n              item_code: item.ITEMCODE,\r\n              Item_Desc: item.ITEMDESC,\r\n              brand_itm_desc: item.itmBrandDesc,\r\n              range_itm_desc: item.itmRangeDesc,\r\n              UOM_DESC: item.DOC_UOMTYPE,\r\n              ITEM_UOM: item.DOC_UOM,\r\n              item_cost: item.DOC_PRICE,\r\n              item_quantity: item.DOC_QTY,\r\n              amount: item.DOC_AMT,\r\n              item_remarks: item.ITEM_REMARK,\r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.DOC_ID,\r\n              item_code: item.ITEMCODE,\r\n              UOM_DESC: item.DOC_UOMTYPE,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemListStored);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n          console.log(\r\n            \"this.state.itemListBeforeEdit\",\r\n            this.state.itemListBeforeEdit\r\n          );\r\n        }\r\n\r\n        this.setState({ render: true });\r\n      });\r\n  };\r\n\r\n  storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\r\n    this.state.formFieldsBillingStored = formFieldsBilling;\r\n    this.state.formFieldsShippingStored = formFieldsShipping;\r\n    // this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\r\n    console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\r\n    console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\r\n    console.log(\r\n      \"formFieldsBillingStored in addpo\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"formFieldsShippingStored in addpo\",\r\n      this.state.formFieldsShippingStored\r\n    );\r\n    this.setState(this.state.formFieldsBillingStored);\r\n    this.setState(this.state.formFieldsShippingStored);\r\n  };\r\n\r\n  storeItemDetails = (storedItemList, formFields) => {\r\n    this.state.storedItemListStored = storedItemList;\r\n    this.state.formFieldsDetailsStored = formFields;\r\n\r\n    console.log(\"storedItemList in addquo\", storedItemList);\r\n    console.log(\"formFields in addquo\", formFields);\r\n    console.log(\r\n      \"storedItemListStored in addpo\",\r\n      this.state.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"formFieldsDetailsStored in addpo\",\r\n      this.state.formFieldsDetailsStored\r\n    );\r\n    this.setState(this.state.storedItemListStored);\r\n    this.setState(this.state.formFieldsDetailsStored);\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption, empOption, supOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`grnlist/?searchdocid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"grn dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"DOC_NO\"] = res.data.dataList[0].DOC_NO;\r\n        this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO;\r\n        // if (res.data.dataList[0].SUPPLY_NO && supOption.length!==0) {\r\n        //   //matching status name with the id to set prefill status in dropdown\r\n        //   this.state.formFields[\"SUPPLY_NO\"] = supOption.find(option => option.label === res.data.dataList[0].SUPPLY_NO).value\r\n        //   console.log(\"res.data.dataList[0].SUPPLY_NO\",res.data.dataList[0].SUPPLY_NO)\r\n        // }\r\n        this.state.formFields[\"DOC_REF1\"] = res.data.dataList[0].DOC_REF1;\r\n        this.state.formFields[\"DOC_DATE\"] = res.data.dataList[0].DOC_DATE;\r\n        this.state.formFields[\"DOC_SHIP\"] = res.data.dataList[0].DOC_SHIP;\r\n        this.state.formFields[\"DOC_REF2\"] = res.data.dataList[0].DOC_REF2;\r\n\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\r\n          \"res.data.dataList[0].status\",\r\n          res.data.dataList[0].DOC_STATUS\r\n        );\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].DOC_STATUS && statusOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"DOC_STATUS\"] = statusOption.find(\r\n            option => option.label === res.data.dataList[0].DOC_STATUS\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].DOC_STATUS\",\r\n            res.data.dataList[0].DOC_STATUS\r\n          );\r\n          if (res.data.dataList[0].DOC_STATUS == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            // for (var i = 0; i < statusOption.length; i++){\r\n            //   if(statusOption[i].label == \"Posted\") {\r\n            //     statusOption = statusOption.filter(e => e.label !== 'Open')\r\n            //   }\r\n            // }\r\n            // console.log(\"statusOption when status is posted\",statusOption)\r\n\r\n            this.setState({ disableEdit });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n        this.state.formFields[\"DOC_TERM\"] = res.data.dataList[0].DOC_TERM;\r\n        this.state.formFields[\"STORE_NO\"] = 1;\r\n        this.state.formFields[\"DOC_REMK1\"] = res.data.dataList[0].DOC_REMK1;\r\n        if (res.data.dataList[0].CREATE_USER && empOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"CREATE_USER\"] = empOption.find(\r\n            option => option.label === res.data.dataList[0].CREATE_USER\r\n          ).value;\r\n        }\r\n\r\n        this.state.formFieldsDetailsStored.DOC_AMT =\r\n          res.data.dataList[0].DOC_AMT;\r\n        this.state.formFieldsDetailsStored.DOC_QTY =\r\n          res.data.dataList[0].DOC_QTY;\r\n\r\n        this.state.formFieldsBillingStored.to = res.data.dataList[0].BNAME;\r\n        this.state.formFieldsBillingStored.address1 =\r\n          res.data.dataList[0].BADDR1;\r\n        this.state.formFieldsBillingStored.address2 =\r\n          res.data.dataList[0].BADDR2;\r\n        this.state.formFieldsBillingStored.address3 =\r\n          res.data.dataList[0].BADDR3;\r\n        this.state.formFieldsBillingStored.postalCode =\r\n          res.data.dataList[0].BPOSTCODE;\r\n        if (res.data.dataList[0].BCITY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsBillingStored.city = this.state.cityOption.find(\r\n            option => option.label === res.data.dataList[0].BCITY\r\n          ).value;\r\n        }\r\n        if (res.data.dataList[0].BSTATE) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsBillingStored.state =\r\n            this.state.stateOption.find(\r\n              option => option.label === res.data.dataList[0].BSTATE\r\n            ).value;\r\n        }\r\n        if (res.data.dataList[0].BCOUNTRY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsBillingStored.country =\r\n            this.state.countryOption.find(\r\n              option => option.label === res.data.dataList[0].BCOUNTRY\r\n            ).value;\r\n        }\r\n\r\n        // this.state.formFieldsShippingStored.to = res.data.dataList[0].shipto\r\n        this.state.formFieldsShippingStored.address1 =\r\n          res.data.dataList[0].DADDR1;\r\n        this.state.formFieldsShippingStored.address2 =\r\n          res.data.dataList[0].DADDR2;\r\n        this.state.formFieldsShippingStored.address3 =\r\n          res.data.dataList[0].DADDR3;\r\n        this.state.formFieldsShippingStored.postalCode =\r\n          res.data.dataList[0].DPOSTCODE;\r\n        if (res.data.dataList[0].DCITY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsShippingStored.city = this.state.cityOption.find(\r\n            option => option.label === res.data.dataList[0].DCITY\r\n          ).value;\r\n        }\r\n        if (res.data.dataList[0].DSTATE) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsShippingStored.state =\r\n            this.state.stateOption.find(\r\n              option => option.label === res.data.dataList[0].DSTATE\r\n            ).value;\r\n        }\r\n        if (res.data.dataList[0].DCOUNTRY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsShippingStored.country =\r\n            this.state.countryOption.find(\r\n              option => option.label === res.data.dataList[0].DCOUNTRY\r\n            ).value;\r\n        }\r\n\r\n        console.log(\r\n          \"this.state.formFieldsBillingStored in autofillAddr\",\r\n          this.state.formFieldsBillingStored\r\n        );\r\n        console.log(\r\n          \"this.state.formFieldsShippingStored in autofillAddr\",\r\n          this.state.formFieldsShippingStored\r\n        );\r\n        this.setState(this.state.formFieldsBillingStored);\r\n        this.setState(this.state.formFieldsShippingStored);\r\n\r\n        this.updateState(this.state.formFields);\r\n        this.setState(this.state.formFieldsDetailsStored);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n        this.getAutofillItemDetails(res.data.dataList[0].DOC_NO);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = resGRN => {\r\n    let { storedItemListStored, itemListBeforeEdit } = this.state;\r\n\r\n    console.log(\"before delete\");\r\n    console.log(\"storedItemListStored\", storedItemListStored);\r\n    console.log(\"itemListBeforeEdit\", itemListBeforeEdit);\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemListStored.some(\r\n        el => el.item_code === item.item_code && el.UOM_DESC === item.UOM_DESC\r\n      );\r\n      if (!found) {\r\n        this.props.commonDeleteApi(`grnitem/${item.item_id}/`).then(res => {});\r\n      }\r\n    }\r\n\r\n    console.log(\"storedItemListStored in submit\", storedItemListStored);\r\n    console.log(\"resGRN in item sub\", resGRN);\r\n\r\n    for (let item of storedItemListStored) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"ITEMCODE\", item.item_code);\r\n      formDataItem.append(\"ITEMDESC\", item.Item_Desc);\r\n      formDataItem.append(\"DOC_UOMTYPE\", item.UOM_DESC);\r\n      formDataItem.append(\"DOC_UOM\", item.ITEM_UOM);\r\n      formDataItem.append(\"itmBrandDesc\", item.brand_itm_desc);\r\n      formDataItem.append(\"itmRangeDesc\", item.range_itm_desc);\r\n      formDataItem.append(\"DOC_PRICE\", item.item_cost);\r\n      formDataItem.append(\"DOC_QTY\", item.item_quantity);\r\n      formDataItem.append(\"DOC_AMT\", item.amount);\r\n      formDataItem.append(\"ITEM_REMARK\", item.item_remarks);\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `grnitem/?searchdocno=${resGRN.data.DOC_NO}&searchitemcode=${item.item_code}&searchuom=${item.UOM_DESC}`\r\n        )\r\n        .then(resGetItem => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `grnitem/${resGetItem.data.dataList[0].DOC_ID}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n                history.push(`/admin/inventory`);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"DOC_NO\", resGRN.data.DOC_NO);\r\n            this.props\r\n              .commonCreateApi(`grnitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n                history.push(`/admin/inventory`);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleSubmit = async DOC_STATUS => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let {\r\n          formFields,\r\n          statusOption,\r\n          cityOption,\r\n          stateOption,\r\n          countryOption,\r\n          supOption,\r\n          empOption,\r\n          formFieldsDetailsStored,\r\n        } = this.state;\r\n        // let statusValue =\"\"\r\n        // console.log('formFields.status', formFields.status)\r\n\r\n        // for (let key of statusOption){\r\n        //   // console.log(key.value)\r\n        //   if(key.value == formFields.status){\r\n        //     statusValue = key.label\r\n        //   }\r\n        // }\r\n        // console.log(\"statusValue\", statusValue)\r\n        const formData = new FormData();\r\n        // formData.append(\"po_number\", formFields.PONumber);\r\n        //check save or post\r\n        if (DOC_STATUS) {\r\n          formData.append(\"DOC_STATUS\", \"Posted\");\r\n        } else {\r\n          formData.append(\r\n            \"DOC_STATUS\",\r\n            formFields.DOC_STATUS\r\n              ? statusOption.find(\r\n                  option => option.value === parseInt(formFields.DOC_STATUS)\r\n                ).label\r\n              : \"\"\r\n          );\r\n        }\r\n        // formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO);\r\n        formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO);\r\n        // ?\r\n        // supOption.find(option => option.value === formFields.SUPPLY_NO).label\r\n        // : \"\");\r\n        formData.append(\"DOC_REF1\", formFields.DOC_REF1);\r\n        formData.append(\r\n          \"DOC_DATE\",\r\n          dateFormat(formFields.DOC_DATE) + \" 00:00:00\"\r\n        );\r\n        formData.append(\r\n          \"DOC_SHIP\",\r\n          dateFormat(formFields.DOC_SHIP) + \" 00:00:00\"\r\n        );\r\n        formData.append(\"DOC_REF2\", formFields.DOC_REF2);\r\n\r\n        // console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\r\n        formData.append(\"DOC_TERM\", formFields.DOC_TERM);\r\n        // formData.append(\"STORE_NO\", formFields.STORE_NO);\r\n        formData.append(\"STORE_NO\", this.props.tokenDetail.site_code);\r\n        formData.append(\"DOC_REMK1\", formFields.DOC_REMK1);\r\n\r\n        formData.append(\r\n          \"CREATE_USER\",\r\n          formFields.CREATE_USER\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.CREATE_USER)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"STAFF_NO\",\r\n          formFields.CREATE_USER\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.CREATE_USER)\r\n              ).code\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DOC_AMT\",\r\n          formFieldsDetailsStored.DOC_AMT ? formFieldsDetailsStored.DOC_AMT : \"\"\r\n        );\r\n        formData.append(\r\n          \"DOC_QTY\",\r\n          formFieldsDetailsStored.DOC_QTY ? formFieldsDetailsStored.DOC_QTY : \"\"\r\n        );\r\n\r\n        console.log(\r\n          \"this.state.formFieldsBillingStored in submit\",\r\n          this.state.formFieldsBillingStored\r\n        );\r\n        formData.append(\r\n          \"BNAME\",\r\n          this.state.formFieldsBillingStored.to\r\n            ? this.state.formFieldsBillingStored.to\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BADDR1\",\r\n          this.state.formFieldsBillingStored.address1\r\n            ? this.state.formFieldsBillingStored.address1\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BADDR2\",\r\n          this.state.formFieldsBillingStored.address2\r\n            ? this.state.formFieldsBillingStored.address2\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BADDR3\",\r\n          this.state.formFieldsBillingStored.address3\r\n            ? this.state.formFieldsBillingStored.address3\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BPOSTCODE\",\r\n          this.state.formFieldsBillingStored.postalCode\r\n            ? this.state.formFieldsBillingStored.postalCode\r\n            : \"\"\r\n        );\r\n\r\n        // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n        formData.append(\r\n          \"BCITY\",\r\n          this.state.formFieldsBillingStored.city\r\n            ? cityOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsBillingStored.city)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"BSTATE\",\r\n          this.state.formFieldsBillingStored.state\r\n            ? stateOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsBillingStored.state)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"BCOUNTRY\",\r\n          this.state.formFieldsBillingStored.country\r\n            ? countryOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsBillingStored.country)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        // formData.append(\"shipto\", this.state.formFieldsShippingStored.to);\r\n        formData.append(\r\n          \"DADDR1\",\r\n          this.state.formFieldsShippingStored.address1\r\n            ? this.state.formFieldsShippingStored.address1\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DADDR2\",\r\n          this.state.formFieldsShippingStored.address2\r\n            ? this.state.formFieldsShippingStored.address2\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DADDR3\",\r\n          this.state.formFieldsShippingStored.address3\r\n            ? this.state.formFieldsShippingStored.address3\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DPOSTCODE\",\r\n          this.state.formFieldsShippingStored.postalCode\r\n            ? this.state.formFieldsShippingStored.postalCode\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"DCITY\",\r\n          this.state.formFieldsShippingStored.city\r\n            ? cityOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsShippingStored.city)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"DSTATE\",\r\n          this.state.formFieldsShippingStored.state\r\n            ? stateOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsShippingStored.state)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"DCOUNTRY\",\r\n          this.state.formFieldsShippingStored.country\r\n            ? countryOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsShippingStored.country)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        console.log(\"formData\", formData);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resGRN = await this.props.commonUpdateApi(\r\n            `grnlist/${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          // console.log(resPO);\r\n          // this.handleAddressSubmit(resPO);\r\n          // this.handleItemDetailsSubmit(resPO);\r\n          // if(statusValue == \"Void\"){\r\n          //   console.log(\"in void loop\")\r\n          //   await this.props.deletePO(`${this.props.match.params.id}/`)\r\n          // }\r\n\r\n          this.handleItemDetailsSubmit(resGRN);\r\n          history.push(`/admin/inventory`);\r\n        } else {\r\n          console.log(\"this.props before createPO\", this.props);\r\n          var resGRN = await this.props.commonCreateApi(`grnlist/`, formData);\r\n\r\n          console.log(\"resGRN in createresGRN\", resGRN);\r\n          // console.log(\"resPO.data.id\",resPO.data.id)\r\n\r\n          // this.handleAddressSubmit(resGRN);\r\n          this.handleItemDetailsSubmit(resGRN);\r\n          history.push(`/admin/inventory`);\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  getListDetail = () => {\r\n    let {\r\n      siteAddr,\r\n      formFieldsDetailsStored,\r\n      supOption,\r\n      empOption,\r\n      listDetail,\r\n      formFields,\r\n      isPrintPdfClick,\r\n    } = this.state;\r\n\r\n    let addr = \"\";\r\n\r\n    for (let site of siteAddr) {\r\n      if (site.ItemSite_Code == this.props.tokenDetail.site_code) {\r\n        addr = site.ItemSite_Address;\r\n      }\r\n    }\r\n\r\n    listDetail = {\r\n      DOC_NO: formFields.DOC_NO,\r\n      Supplier:\r\n        formFields.SUPPLY_NO && supOption\r\n          ? supOption.find(option => option.value === formFields.SUPPLY_NO)\r\n              .label\r\n          : \"\",\r\n      CREATE_USER:\r\n        formFields.CREATE_USER && empOption\r\n          ? empOption.find(option => option.value === formFields.CREATE_USER)\r\n              .label\r\n          : \"\",\r\n      DOC_DATE: formFields.DOC_DATE,\r\n      DOC_REF1: formFields.DOC_REF1,\r\n      DOC_REF2: formFields.DOC_REF2,\r\n      DOC_REMK1: formFields.DOC_REMK1,\r\n      storeName: this.props.tokenDetail.branch,\r\n      printedBy: this.props.tokenDetail.username,\r\n      totalQty: formFieldsDetailsStored.DOC_QTY,\r\n      totalAmt: formFieldsDetailsStored.DOC_AMT,\r\n      addr: addr,\r\n    };\r\n    console.log(\"listDetail in getListDetail\", listDetail);\r\n\r\n    isPrintPdfClick = true;\r\n    this.setState({ listDetail, isPrintPdfClick });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      currentValue,\r\n      navLinks,\r\n      disableEdit,\r\n\r\n      siteOption,\r\n      empOption,\r\n      supOption,\r\n      render,\r\n      isPrintPdfClick,\r\n      listDetail,\r\n    } = this.state;\r\n\r\n    let {\r\n      DOC_NO,\r\n      SUPPLY_NO,\r\n      DOC_REF1,\r\n      DOC_DATE,\r\n      DOC_SHIP,\r\n      DOC_REF2,\r\n      DOC_STATUS,\r\n      DOC_TERM,\r\n      STORE_NO,\r\n      DOC_REMK1,\r\n      CREATE_USER,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5  create-GRN\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category cursor-pointer\"\r\n            onClick={() => history.push(`/admin/inventory`)}\r\n          >\r\n            {t(\"Stocks GRN\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Stocks GRN`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"PO-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Doc No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={DOC_NO}\r\n                    name=\"DOC_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"PO No\"),\r\n                      PONumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Supplier No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={supOption}\r\n                    disabled={disableEdit}\r\n                    value={SUPPLY_NO}\r\n                    name=\"SUPPLY_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Supplier\"),\r\n                    SUPPLY_NO,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"GR Ref1\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={DOC_REF1}\r\n                    name=\"DOC_REF1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Doc Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={DOC_DATE ? new Date(DOC_DATE) : new Date()}\r\n                    name=\"DOC_DATE\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Doc Date\"),\r\n                    DOC_DATE,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Delivery Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={DOC_SHIP ? new Date(DOC_SHIP) : new Date()}\r\n                    name=\"DOC_SHIP\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Delivery Date\"),\r\n                    DOC_SHIP,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"GR Ref2\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={DOC_REF2}\r\n                    name=\"DOC_REF2\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    disabled={disableEdit}\r\n                    value={DOC_STATUS}\r\n                    name=\"DOC_STATUS\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Status\"),\r\n                      DOC_STATUS,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Term\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={DOC_TERM}\r\n                    name=\"DOC_TERM\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Store Code\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={[\r\n                      { value: 1, label: this.props.tokenDetail.branch },\r\n                    ]}\r\n                    disabled={disableEdit}\r\n                    value={STORE_NO}\r\n                    name=\"STORE_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Store Code\"),\r\n                    STORE_NO,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={DOC_REMK1}\r\n                    name=\"DOC_REMK1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12\"></div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Created By\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={empOption}\r\n                    disabled={disableEdit}\r\n                    value={CREATE_USER}\r\n                    name=\"CREATE_USER\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Created By\"),\r\n                    CREATE_USER,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 GRN-content\">\r\n              <div className=\"tab-menus\">\r\n                <ul>\r\n                  {navLinks.map(({ to, label, id }, index) => (\r\n                    <li key={index}>\r\n                      <NavLink to={to} className=\"nav-link\">\r\n                        <div\r\n                          className={`sidebar-menu ${\r\n                            currentValue === index ? \"active\" : \"\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            this.handleClick({ key: index, id: id })\r\n                          }\r\n                        >\r\n                          <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                        </div>\r\n                      </NavLink>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              {this.state.selectedMenu === \"Details\" && render == true && (\r\n                <Details\r\n                  disableEdit={disableEdit}\r\n                  grnId={this.props.match.params.id}\r\n                  validator={this.validator}\r\n                  storeItemDetails={this.storeItemDetails.bind(this)}\r\n                  storedItemListStored={this.state.storedItemListStored}\r\n                  formFieldsDetailsStored={this.state.formFieldsDetailsStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"details\"}\r\n                />\r\n              )}\r\n              {this.state.selectedMenu === \"Address\" && (\r\n                <Address\r\n                  disableEdit={disableEdit}\r\n                  storeAddressFields={this.storeAddressFields.bind(this)}\r\n                  formFieldsBillingStored={this.state.formFieldsBillingStored}\r\n                  formFieldsShippingStored={this.state.formFieldsShippingStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"address\"}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"row justify-content-end\">\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => history.push(`/admin/inventory`)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  disabled={disableEdit}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  disabled={this.props.match.params.id ? disableEdit : true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(DOC_STATUS)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? false : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Print PDF\"\r\n                  outline={false}\r\n                  onClick={() => this.getListDetail()}\r\n                />\r\n              </div>\r\n              {isPrintPdfClick ? (\r\n                <PDFDownloadLink\r\n                  document={\r\n                    <PDF\r\n                      listDetail={listDetail}\r\n                      itemDetail={this.state.storedItemListStored}\r\n                      // Flag={activeTab !== \"detail\" ? 3 : 4}\r\n                      landscape={false}\r\n                    />\r\n                  }\r\n                >\r\n                  {({ blob, url, loading, error }) =>\r\n                    !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                  }\r\n                </PDFDownloadLink>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      commonDeleteApi,\r\n      updatePO,\r\n      createPO,\r\n      deletePO,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddStocksGRN = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddStocksGRNClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}