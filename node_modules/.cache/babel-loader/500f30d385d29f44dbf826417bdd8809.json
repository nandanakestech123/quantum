{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalCheckbox,TableWrapper,NormalModal,NormalInput}from\"component/common\";import{withTranslation}from\"react-i18next\";import{Securities,NewSecurities,updateCommon}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{BsPencilSquare}from\"react-icons/bs\";import closeIcon from\"assets/images/close.png\";import{Toast}from\"service/toast\";export var SecuritymasterClass=/*#__PURE__*/function(_Component){_inherits(SecuritymasterClass,_Component);var _super=_createSuper(SecuritymasterClass);function SecuritymasterClass(){var _this;_classCallCheck(this,SecuritymasterClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"Code\",divClass:\"justify-content-end\"},{label:\"Name\"},{label:\"Security Role\"},{label:\"Description\"},{label:\"Is Active\"},{label:\"Action\",divClass:\"justify-content-center\"}],pageMeta:{},List:[],is_loading:false,isAboutPopModal:false,isNewdescPopModal:false,newid:null,newval:null,editid:null,editval:null,levelCode:null,activeitem:true};_this.componentDidMount=function(){_this.Listofsecuritylevels({});};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.Listofsecuritylevels=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.updateState({is_loading:true});_context.next=3;return _this.props.Securities().then(function(res){console.log(res);var _this$state=_this.state,List=_this$state.List,levelCode=_this$state.levelCode,newid=_this$state.newid;List=res;if(res.length>0){newid=res[res.length-1].levelItemId;newid=Number(newid)+1;}else{newid=1;}console.log(List);//   levelCode = res[res.length-1].levelItemId;\n//   levelCode = res[res.length-1].levelItemId;\n_this.setState({List:List,is_loading:false,levelCode:levelCode,newid:newid});console.log(List.length,levelCode);});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handledesc=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;console.log(name);var _this$state2=_this.state,editval=_this$state2.editval,newid=_this$state2.newid,editid=_this$state2.editid;if(name=\"desc\"){editval=value;_this.setState({editval:editval});}if(name=\"newid\"){newid=value;_this.setState({newid:newid});}};_this.handledescription=function(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;var _this$state3=_this.state,newval=_this$state3.newval,editid=_this$state3.editid;if(name=\"newdescval\"){newval=value;_this.setState({newval:newval});}if(name=\"name\"){editid=value;_this.setState({editid:editid});}};_this.finaldesc=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,desc){var _this$state4,editval,newval,newid,levelCode,activeitem,descJson;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state4=_this.state,editval=_this$state4.editval,newval=_this$state4.newval,newid=_this$state4.newid,levelCode=_this$state4.levelCode,activeitem=_this$state4.activeitem;console.log(levelCode);descJson={levelName:id,levelDescription:desc,levelCode:levelCode,levelPermitAppointment:true,levelPermitCrm:true,levelPermitCreditor:true,levelPermitStaff:true,levelPermitUserLogin:true,levelPermitStockItem:true,levelPermitSecurity:true,levelPermitSendmail:true,levelPermitInventory:true,levelPermitAnalysis:true,levelPermitMaintain:true,levelPermitPos:true,levelIsActive:activeitem,levelPermitPayTable:true,levelPermitForex:true,levelPermitDiv:true,levelPermitDiscount:true,levelPermitDept:true,levelPermitClass:true,levelPermitPromo:true,levelPermitAttendance:true,levelPermitStkReceive:true,levelPermitStkAdj:true,levelPermitStkTrans:true,levelPermitStkWriteOff:true,levelPermitStkQuery:true,levelPermitStkTk:true,levelPermitStkVar:true};_context2.next=5;return _this.props.updateCommon(\"Securities/update?where=%7B%22levelCode%22%3A%20\".concat(levelCode,\"%7D\\n    \"),descJson).then(function(data){_this.Listofsecuritylevels({});Toast({type:\"success\",message:\"Updated Successfully\"});});case 5:_this.aboutpopup();editval=\"\";newval=\"\";newid=\"\";_this.setState({editval:editval,newval:newval,newid:newid});case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}();_this.createdesc=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,val){var levelCode,newreason;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:levelCode=_this.state.levelCode;console.log(id,val);if(!(id==null||val==null)){_context3.next=6;break;}Toast({type:\"error\",message:\"Please check  required  field\"});_context3.next=10;break;case 6:newreason={levelName:id,levelDescription:val,levelCode:levelCode+1,levelPermitAppointment:true,levelPermitCrm:true,levelPermitCreditor:true,levelPermitStaff:true,levelPermitUserLogin:true,levelPermitStockItem:true,levelPermitSecurity:true,levelPermitSendmail:true,levelPermitInventory:true,levelPermitAnalysis:true,levelPermitMaintain:true,levelPermitPos:true,levelIsActive:true,levelPermitPayTable:true,levelPermitForex:true,levelPermitDiv:true,levelPermitDiscount:true,levelPermitDept:true,levelPermitClass:true,levelPermitPromo:true,levelPermitAttendance:true,levelPermitStkReceive:true,levelPermitStkAdj:true,levelPermitStkTrans:true,levelPermitStkWriteOff:true,levelPermitStkQuery:true,levelPermitStkTk:true,levelPermitStkVar:true};_context3.next=9;return _this.props.NewSecurities(newreason).then(function(data){_this.Listofsecuritylevels({});Toast({type:\"success\",message:\"Successfully Added\"});}).catch(function(e){return console.log(e);});case 9:_this.newdescpopup();case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3,_x4){return _ref5.apply(this,arguments);};}();_this.handlecheckbox=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){var List,i,descJson;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:List=_this.state.List;i=0;case 2:if(!(i<=List.length-1)){_context4.next=11;break;}if(!(List[i].levelCode==item)){_context4.next=8;break;}List[i].levelIsActive=!List[i].levelIsActive;descJson={levelName:List[i].levelName,levelDescription:List[i].levelDescription,levelCode:List[i].levelCode,levelPermitAppointment:true,levelPermitCrm:true,levelPermitCreditor:true,levelPermitStaff:true,levelPermitUserLogin:true,levelPermitStockItem:true,levelPermitSecurity:true,levelPermitSendmail:true,levelPermitInventory:true,levelPermitAnalysis:true,levelPermitMaintain:true,levelPermitPos:true,levelIsActive:List[i].levelIsActive,levelPermitPayTable:true,levelPermitForex:true,levelPermitDiv:true,levelPermitDiscount:true,levelPermitDept:true,levelPermitClass:true,levelPermitPromo:true,levelPermitAttendance:true,levelPermitStkReceive:true,levelPermitStkAdj:true,levelPermitStkTrans:true,levelPermitStkWriteOff:true,levelPermitStkQuery:true,levelPermitStkTk:true,levelPermitStkVar:true};_context4.next=8;return _this.props.updateCommon(\"Securities/update?where=%7B%22levelCode%22%3A%20\".concat(item,\"%7D\\n  \"),descJson).then(function(data){_this.Listofsecuritylevels({});Toast({type:\"success\",message:\"Updated Successfully\"});});case 8:i++;_context4.next=2;break;case 11:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref6.apply(this,arguments);};}();return _this;}_createClass(SecuritymasterClass,[{key:\"aboutpopup\",value:function aboutpopup(){this.setState({isAboutPopModal:!this.state.isAboutPopModal});}},{key:\"newdescpopup\",value:function newdescpopup(){this.setState({isNewdescPopModal:!this.state.isNewdescPopModal});}},{key:\"handleEdit\",value:function handleEdit(id,desc,Code,check){var _this$state5=this.state,editid=_this$state5.editid,editval=_this$state5.editval,levelCode=_this$state5.levelCode,activeitem=_this$state5.activeitem;editid=id;editval=desc;levelCode=Code;activeitem=check;console.log(editid,editval);this.setState({editid:editid,editval:editval,levelCode:levelCode,activeitem:activeitem});this.aboutpopup();}},{key:\"render\",value:function render(){var _this2=this;var _this$state6=this.state,headerDetails=_this$state6.headerDetails,pageMeta=_this$state6.pageMeta,List=_this$state6.List,is_loading=_this$state6.is_loading,isAboutPopModal=_this$state6.isAboutPopModal,editid=_this$state6.editid,editval=_this$state6.editval,newid=_this$state6.newid,newval=_this$state6.newval,isNewdescPopModal=_this$state6.isNewdescPopModal;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid department-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"itemmaster-container col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"head-label\"},t(\"Security Master\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mt-3\"},t(\"List of Security Level\")),/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},is_loading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):List.length>0?List.map(function(_ref7,index){var levelCode=_ref7.levelCode,levelName=_ref7.levelName,roleCode=_ref7.roleCode,levelDescription=_ref7.levelDescription,levelIsActive=_ref7.levelIsActive;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},levelCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},levelName)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},roleCode==\"1\"?\"Admin\":roleCode==\"2\"?\"Manager\":roleCode==\"3\"?\" Normal Staff\":\"Super Admin (support)\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},levelDescription)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},/*#__PURE__*/React.createElement(NormalCheckbox,{checked:levelIsActive,name:\"checked\",onChange:function onChange(){return _this2.handlecheckbox(levelCode);}}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(BsPencilSquare,{size:20,onClick:function onClick(){return _this2.handleEdit(levelName,levelDescription,levelCode,levelIsActive);}}))));}):null)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\",style:{width:100}},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Add Row\",onClick:function onClick(){return _this2.newdescpopup();}}))),/*#__PURE__*/React.createElement(NormalModal,{className:\"retail-price-modal\",style:{minWidth:\"500px\"},modal:isAboutPopModal,handleModal:function handleModal(){return _this2.aboutpopup();}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"heading\"},/*#__PURE__*/React.createElement(\"h5\",null,\" EDIT DESCRIPTION \")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.aboutpopup();},className:\"close\",src:closeIcon,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Name\"),/*#__PURE__*/React.createElement(NormalInput,{value:editid,name:\"name\",onChange:this.handledescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(\"p\",null,\"Description\"),/*#__PURE__*/React.createElement(NormalInput,{value:editval,name:\"desc\",onChange:this.handledesc})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Cancel\",onClick:function onClick(){return _this2.aboutpopup();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Done\",onClick:function onClick(){return _this2.finaldesc(editid,editval);}})))))),/*#__PURE__*/React.createElement(NormalModal,{className:\"retail-price-modal\",style:{minWidth:\"500px\"},modal:isNewdescPopModal,handleModal:function handleModal(){return _this2.newdescpopup();}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"heading\"},/*#__PURE__*/React.createElement(\"h5\",null,\" ADD Security Level\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.newdescpopup();},className:\"close\",src:closeIcon,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Name\"),/*#__PURE__*/React.createElement(NormalInput,{value:newid,name:\"newid\",onChange:this.handledesc})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(\"p\",null,\"Description\"),/*#__PURE__*/React.createElement(NormalInput,{value:newval,name:\"newdescval\",onChange:this.handledescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Cancel\",onClick:function onClick(){return _this2.newdescpopup();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Done\",onClick:function onClick(){return _this2.createdesc(newid,newval);}})))))));}}]);return SecuritymasterClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({Securities:Securities,NewSecurities:NewSecurities,updateCommon:updateCommon},dispatch);};export var Securitymaster=withTranslation()(connect(null,mapDispatchToProps)(SecuritymasterClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Security master/index.js"],"names":["React","Component","NormalButton","NormalCheckbox","TableWrapper","NormalModal","NormalInput","withTranslation","Securities","NewSecurities","updateCommon","connect","bindActionCreators","BsPencilSquare","closeIcon","Toast","SecuritymasterClass","state","headerDetails","label","divClass","pageMeta","List","is_loading","isAboutPopModal","isNewdescPopModal","newid","newval","editid","editval","levelCode","activeitem","componentDidMount","Listofsecuritylevels","updateState","data","isMounted","setState","props","then","res","console","log","length","levelItemId","Number","handledesc","target","value","name","handledescription","finaldesc","id","desc","descJson","levelName","levelDescription","levelPermitAppointment","levelPermitCrm","levelPermitCreditor","levelPermitStaff","levelPermitUserLogin","levelPermitStockItem","levelPermitSecurity","levelPermitSendmail","levelPermitInventory","levelPermitAnalysis","levelPermitMaintain","levelPermitPos","levelIsActive","levelPermitPayTable","levelPermitForex","levelPermitDiv","levelPermitDiscount","levelPermitDept","levelPermitClass","levelPermitPromo","levelPermitAttendance","levelPermitStkReceive","levelPermitStkAdj","levelPermitStkTrans","levelPermitStkWriteOff","levelPermitStkQuery","levelPermitStkTk","levelPermitStkVar","type","message","aboutpopup","createdesc","val","newreason","catch","e","newdescpopup","handlecheckbox","item","i","Code","check","t","handlePagination","map","index","roleCode","handleEdit","width","minWidth","mapDispatchToProps","dispatch","Securitymaster"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalCheckbox,\r\n  TableWrapper,\r\n  NormalModal,\r\n  NormalInput,\r\n} from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Securities, NewSecurities, updateCommon } from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { BsPencilSquare } from \"react-icons/bs\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport class SecuritymasterClass extends Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Code\", divClass: \"justify-content-end\" },\r\n      { label: \"Name\" },\r\n      { label: \"Security Role\" },\r\n      { label: \"Description\" },\r\n      { label: \"Is Active\" },\r\n      { label: \"Action\", divClass: \"justify-content-center\" },\r\n    ],\r\n    pageMeta: {},\r\n    List: [],\r\n    is_loading: false,\r\n    isAboutPopModal: false,\r\n    isNewdescPopModal: false,\r\n    newid: null,\r\n    newval: null,\r\n    editid: null,\r\n    editval: null,\r\n    levelCode: null,\r\n    activeitem: true,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.Listofsecuritylevels({});\r\n  };\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  aboutpopup() {\r\n    this.setState({\r\n      isAboutPopModal: !this.state.isAboutPopModal,\r\n    });\r\n  }\r\n\r\n  newdescpopup() {\r\n    this.setState({\r\n      isNewdescPopModal: !this.state.isNewdescPopModal,\r\n    });\r\n  }\r\n\r\n  Listofsecuritylevels = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props.Securities().then((res) => {\r\n      console.log(res);\r\n      let { List, levelCode, newid } = this.state;\r\n\r\n      List = res;\r\n      if (res.length > 0) {\r\n        newid = res[res.length - 1].levelItemId;\r\n        newid = Number(newid) + 1;\r\n      } else {\r\n        newid = 1;\r\n      }\r\n      console.log(List);\r\n      //   levelCode = res[res.length-1].levelItemId;\r\n      this.setState({\r\n        List,\r\n        is_loading: false,\r\n        levelCode,\r\n        newid,\r\n      });\r\n      console.log(List.length, levelCode);\r\n    });\r\n  };\r\n\r\n  handleEdit(id, desc, Code, check) {\r\n    let { editid, editval, levelCode, activeitem } = this.state;\r\n    editid = id;\r\n    editval = desc;\r\n    levelCode = Code;\r\n    activeitem = check;\r\n    console.log(editid, editval);\r\n    this.setState({\r\n      editid,\r\n      editval,\r\n      levelCode,\r\n      activeitem,\r\n    });\r\n    this.aboutpopup();\r\n  }\r\n\r\n  handledesc = ({ target: { value, name } }) => {\r\n    console.log(name);\r\n    let { editval, newid, editid } = this.state;\r\n\r\n    if ((name = \"desc\")) {\r\n      editval = value;\r\n      this.setState({ editval });\r\n    }\r\n    if ((name = \"newid\")) {\r\n      newid = value;\r\n      this.setState({ newid });\r\n    }\r\n  };\r\n\r\n  handledescription = ({ target: { value, name } }) => {\r\n    let { newval, editid } = this.state;\r\n\r\n    if ((name = \"newdescval\")) {\r\n      newval = value;\r\n      this.setState({ newval });\r\n    }\r\n    if ((name = \"name\")) {\r\n      editid = value;\r\n      this.setState({ editid });\r\n    }\r\n  };\r\n\r\n  finaldesc = async (id, desc) => {\r\n    let { editval, newval, newid, levelCode, activeitem } = this.state;\r\n    console.log(levelCode);\r\n    let descJson = {\r\n      levelName: id,\r\n      levelDescription: desc,\r\n      levelCode: levelCode,\r\n      levelPermitAppointment: true,\r\n      levelPermitCrm: true,\r\n      levelPermitCreditor: true,\r\n      levelPermitStaff: true,\r\n      levelPermitUserLogin: true,\r\n      levelPermitStockItem: true,\r\n      levelPermitSecurity: true,\r\n      levelPermitSendmail: true,\r\n      levelPermitInventory: true,\r\n      levelPermitAnalysis: true,\r\n      levelPermitMaintain: true,\r\n      levelPermitPos: true,\r\n      levelIsActive: activeitem,\r\n      levelPermitPayTable: true,\r\n      levelPermitForex: true,\r\n      levelPermitDiv: true,\r\n      levelPermitDiscount: true,\r\n      levelPermitDept: true,\r\n      levelPermitClass: true,\r\n      levelPermitPromo: true,\r\n      levelPermitAttendance: true,\r\n      levelPermitStkReceive: true,\r\n      levelPermitStkAdj: true,\r\n      levelPermitStkTrans: true,\r\n      levelPermitStkWriteOff: true,\r\n      levelPermitStkQuery: true,\r\n      levelPermitStkTk: true,\r\n      levelPermitStkVar: true,\r\n    };\r\n    await this.props\r\n      .updateCommon(\r\n        `Securities/update?where=%7B%22levelCode%22%3A%20${levelCode}%7D\r\n    `,\r\n        descJson\r\n      )\r\n      .then((data) => {\r\n        this.Listofsecuritylevels({});\r\n        Toast({\r\n          type: \"success\",\r\n          message: \"Updated Successfully\",\r\n        });\r\n      });\r\n    this.aboutpopup();\r\n    editval = \"\";\r\n    newval = \"\";\r\n    newid = \"\";\r\n    this.setState({ editval, newval, newid });\r\n  };\r\n\r\n  createdesc = async (id, val) => {\r\n    let { levelCode } = this.state;\r\n    console.log(id, val);\r\n    if (id == null || val == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please check  required  field\",\r\n      });\r\n    } else {\r\n      let newreason = {\r\n        levelName: id,\r\n        levelDescription: val,\r\n        levelCode: levelCode + 1,\r\n        levelPermitAppointment: true,\r\n        levelPermitCrm: true,\r\n        levelPermitCreditor: true,\r\n        levelPermitStaff: true,\r\n        levelPermitUserLogin: true,\r\n        levelPermitStockItem: true,\r\n        levelPermitSecurity: true,\r\n        levelPermitSendmail: true,\r\n        levelPermitInventory: true,\r\n        levelPermitAnalysis: true,\r\n        levelPermitMaintain: true,\r\n        levelPermitPos: true,\r\n        levelIsActive: true,\r\n        levelPermitPayTable: true,\r\n        levelPermitForex: true,\r\n        levelPermitDiv: true,\r\n        levelPermitDiscount: true,\r\n        levelPermitDept: true,\r\n        levelPermitClass: true,\r\n        levelPermitPromo: true,\r\n        levelPermitAttendance: true,\r\n        levelPermitStkReceive: true,\r\n        levelPermitStkAdj: true,\r\n        levelPermitStkTrans: true,\r\n        levelPermitStkWriteOff: true,\r\n        levelPermitStkQuery: true,\r\n        levelPermitStkTk: true,\r\n        levelPermitStkVar: true,\r\n      };\r\n      await this.props\r\n        .NewSecurities(newreason)\r\n        .then((data) => {\r\n          this.Listofsecuritylevels({});\r\n          Toast({\r\n            type: \"success\",\r\n            message: \"Successfully Added\",\r\n          });\r\n        })\r\n        .catch((e) => console.log(e));\r\n      this.newdescpopup();\r\n    }\r\n  };\r\n\r\n  handlecheckbox = async (item) => {\r\n    let { List } = this.state;\r\n    for (let i = 0; i <= List.length - 1; i++) {\r\n      if (List[i].levelCode == item) {\r\n        List[i].levelIsActive = !List[i].levelIsActive;\r\n        let descJson = {\r\n          levelName: List[i].levelName,\r\n          levelDescription: List[i].levelDescription,\r\n          levelCode: List[i].levelCode,\r\n          levelPermitAppointment: true,\r\n          levelPermitCrm: true,\r\n          levelPermitCreditor: true,\r\n          levelPermitStaff: true,\r\n          levelPermitUserLogin: true,\r\n          levelPermitStockItem: true,\r\n          levelPermitSecurity: true,\r\n          levelPermitSendmail: true,\r\n          levelPermitInventory: true,\r\n          levelPermitAnalysis: true,\r\n          levelPermitMaintain: true,\r\n          levelPermitPos: true,\r\n          levelIsActive: List[i].levelIsActive,\r\n          levelPermitPayTable: true,\r\n          levelPermitForex: true,\r\n          levelPermitDiv: true,\r\n          levelPermitDiscount: true,\r\n          levelPermitDept: true,\r\n          levelPermitClass: true,\r\n          levelPermitPromo: true,\r\n          levelPermitAttendance: true,\r\n          levelPermitStkReceive: true,\r\n          levelPermitStkAdj: true,\r\n          levelPermitStkTrans: true,\r\n          levelPermitStkWriteOff: true,\r\n          levelPermitStkQuery: true,\r\n          levelPermitStkTk: true,\r\n          levelPermitStkVar: true,\r\n        };\r\n        await this.props\r\n          .updateCommon(\r\n            `Securities/update?where=%7B%22levelCode%22%3A%20${item}%7D\r\n  `,\r\n            descJson\r\n          )\r\n          .then((data) => {\r\n            this.Listofsecuritylevels({});\r\n            Toast({\r\n              type: \"success\",\r\n              message: \"Updated Successfully\",\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      pageMeta,\r\n      List,\r\n      is_loading,\r\n      isAboutPopModal,\r\n      editid,\r\n      editval,\r\n      newid,\r\n      newval,\r\n      isNewdescPopModal,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid department-container\">\r\n          <div className=\"row\">\r\n            <div className={\"itemmaster-container col-12\"}>\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md\">\r\n                  <h4 className=\"head-label\">{t(\"Security Master\")}</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"tab-table-content\">\r\n                <p className=\"mt-3\">{t(\"List of Security Level\")}</p>\r\n                <div className=\"py-4\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={headerDetails}\r\n                      queryHandler={this.handlePagination}\r\n                      pageMeta={pageMeta}\r\n                    >\r\n                      {is_loading ? (\r\n                        <tr>\r\n                          <td colSpan=\"7\">\r\n                            <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ) : List.length > 0 ? (\r\n                        List.map(\r\n                          (\r\n                            {\r\n                              levelCode,\r\n                              levelName,\r\n                              roleCode,\r\n                              levelDescription,\r\n                              levelIsActive,\r\n                            },\r\n                            index\r\n                          ) => {\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td>\r\n                                  <div className=\"text-right\">{levelCode}</div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"text-left\">{levelName}</div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"text-left\">\r\n                                    {roleCode == \"1\"\r\n                                      ? \"Admin\"\r\n                                      : roleCode == \"2\"\r\n                                      ? \"Manager\"\r\n                                      : roleCode == \"3\"\r\n                                      ? \" Normal Staff\"\r\n                                      : \"Super Admin (support)\"}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"text-left\">\r\n                                    {levelDescription}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"text-left\">\r\n                                    <NormalCheckbox\r\n                                      checked={levelIsActive}\r\n                                      name=\"checked\"\r\n                                      onChange={() =>\r\n                                        this.handlecheckbox(levelCode)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"text-center\">\r\n                                    <BsPencilSquare\r\n                                      size={20}\r\n                                      onClick={() =>\r\n                                        this.handleEdit(\r\n                                          levelName,\r\n                                          levelDescription,\r\n                                          levelCode,\r\n                                          levelIsActive\r\n                                        )\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          }\r\n                        )\r\n                      ) : null}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-3\" style={{ width: 100 }}>\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"Add Row\"}\r\n              onClick={() => this.newdescpopup()}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <NormalModal\r\n          className={\"retail-price-modal\"}\r\n          style={{ minWidth: \"500px\" }}\r\n          modal={isAboutPopModal}\r\n          handleModal={() => this.aboutpopup()}\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"heading\">\r\n              <h5> EDIT DESCRIPTION </h5>\r\n            </div>\r\n\r\n            <div>\r\n              <img\r\n                onClick={() => this.aboutpopup()}\r\n                className=\"close\"\r\n                src={closeIcon}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"content\">\r\n              <div>\r\n                <p>Name</p>\r\n                <NormalInput\r\n                  value={editid}\r\n                  name=\"name\"\r\n                  onChange={this.handledescription}\r\n                />\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <p>Description</p>\r\n                <NormalInput\r\n                  value={editval}\r\n                  name=\"desc\"\r\n                  onChange={this.handledesc}\r\n                />\r\n              </div>\r\n              <div className=\"d-flex mt-4\">\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Cancel\"\r\n                    onClick={() => this.aboutpopup()}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Done\"\r\n                    onClick={() => this.finaldesc(editid, editval)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"retail-price-modal\"}\r\n          style={{ minWidth: \"500px\" }}\r\n          modal={isNewdescPopModal}\r\n          handleModal={() => this.newdescpopup()}\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"heading\">\r\n              <h5> ADD Security Level</h5>\r\n            </div>\r\n\r\n            <div>\r\n              <img\r\n                onClick={() => this.newdescpopup()}\r\n                className=\"close\"\r\n                src={closeIcon}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"content\">\r\n              <div>\r\n                <p>Name</p>\r\n                <NormalInput\r\n                  value={newid}\r\n                  name=\"newid\"\r\n                  onChange={this.handledesc}\r\n                />\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <p>Description</p>\r\n                <NormalInput\r\n                  value={newval}\r\n                  name=\"newdescval\"\r\n                  onChange={this.handledescription}\r\n                />\r\n              </div>\r\n              <div className=\"d-flex mt-4\">\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Cancel\"\r\n                    onClick={() => this.newdescpopup()}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Done\"\r\n                    onClick={() => this.createdesc(newid, newval)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      Securities,\r\n      NewSecurities,\r\n      updateCommon,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Securitymaster = withTranslation()(\r\n  connect(null, mapDispatchToProps)(SecuritymasterClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}