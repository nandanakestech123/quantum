{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withTranslation}from\"react-i18next\";import\"./style.scss\";var GroupAuthorizationTableClass=/*#__PURE__*/function(_Component){_inherits(GroupAuthorizationTableClass,_Component);var _super=_createSuper(GroupAuthorizationTableClass);function GroupAuthorizationTableClass(){_classCallCheck(this,GroupAuthorizationTableClass);return _super.apply(this,arguments);}_createClass(GroupAuthorizationTableClass,[{key:\"render\",value:function render(){var _this$props=this.props,onChange=_this$props.onChange,_this$props$disabled=_this$props.disabled,disabled=_this$props$disabled===void 0?false:_this$props$disabled,_this$props$data=_this$props.data,data=_this$props$data===void 0?[]:_this$props$data,_this$props$columns=_this$props.columns,columns=_this$props$columns===void 0?[]:_this$props$columns,_this$props$rowHead=_this$props.rowHead,rowHead=_this$props$rowHead===void 0?[]:_this$props$rowHead;var handleOnChange=function handleOnChange(code,controlname){if(disabled)return;var index1=data.indexOf(data.find(function(element){return element.code==code;}));var index2=data[index1].levels.indexOf(data[index1].levels.find(function(element){return element.controlname==controlname;}));data[index1].levels[index2].controlstatus=!data.find(function(element){return element.code==code;}).levels.find(function(element){return element.controlname==controlname;}).controlstatus;if(onChange)onChange(data);};if(data.length!=0){columns=data.map(function(_ref){var securieties=_ref.securieties,code=_ref.code;return{securieties:securieties,code:code};});data.forEach(function(element){element.levels.forEach(function(_ref2){var controlname=_ref2.controlname,controldesc=_ref2.controldesc;if(!rowHead.find(function(e){return e.controlname==controlname;}))rowHead.push({controlname:controlname,controldesc:controldesc});});});rowHead.sort(function(a,b){if(a.controldesc>b.controldesc)return 1;if(a.controldesc<b.controldesc)return-1;return 0;});}var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"maintable table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"maintable-content table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered rounded\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"table-header-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-3\"},t(\"Security Groups\"))),columns.map(function(e){return/*#__PURE__*/React.createElement(\"th\",{className:\"table-header-150\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(e.securieties)));}))),data.length!=0?/*#__PURE__*/React.createElement(\"tbody\",null,rowHead.map(function(e,index1){return/*#__PURE__*/React.createElement(\"tr\",{key:e.controlname},/*#__PURE__*/React.createElement(\"td\",{className:e.className},t(e.controldesc)),columns.map(function(e2,index2){return/*#__PURE__*/React.createElement(\"td\",null,data.find(function(element){return element.code==e2.code;}).levels.find(function(element){return element.controlname==e.controlname;})?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",checked:data.find(function(element){return element.code==e2.code;}).levels.find(function(element){return element.controlname==e.controlname;}).controlstatus,onChange:function onChange(){return handleOnChange(e2.code,e.controlname);}})):null);}));})):null)));}}]);return GroupAuthorizationTableClass;}(Component);export var GroupAuthorizationTable=withTranslation()(GroupAuthorizationTableClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/SecurityAuthorization/GroupAuthorizationTable/index.js"],"names":["React","Component","withTranslation","GroupAuthorizationTableClass","props","onChange","disabled","data","columns","rowHead","handleOnChange","code","controlname","index1","indexOf","find","element","index2","levels","controlstatus","length","map","securieties","forEach","controldesc","e","push","sort","a","b","t","className","e2","GroupAuthorizationTable"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,MAAO,cAAP,C,GAEMC,CAAAA,4B,2UACJ,iBAAS,CACP,gBAMI,KAAKC,KANT,CACEC,QADF,aACEA,QADF,kCAEEC,QAFF,CAEEA,QAFF,+BAEa,KAFb,mDAGEC,IAHF,CAGEA,IAHF,2BAGS,EAHT,kDAIEC,OAJF,CAIEA,OAJF,8BAIY,EAJZ,qDAKEC,OALF,CAKEA,OALF,8BAKY,EALZ,qBAQA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,CAAOC,WAAP,CAAuB,CAC5C,GAAIN,QAAJ,CAAc,OACd,GAAIO,CAAAA,MAAM,CAAGN,IAAI,CAACO,OAAL,CAAaP,IAAI,CAACQ,IAAL,CAAU,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACL,IAAR,EAAgBA,IAA7B,EAAV,CAAb,CAAb,CACA,GAAIM,CAAAA,MAAM,CAAGV,IAAI,CAACM,MAAD,CAAJ,CAAaK,MAAb,CAAoBJ,OAApB,CACXP,IAAI,CAACM,MAAD,CAAJ,CAAaK,MAAb,CAAoBH,IAApB,CACE,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACJ,WAAR,EAAuBA,WAApC,EADF,CADW,CAAb,CAKAL,IAAI,CAACM,MAAD,CAAJ,CAAaK,MAAb,CAAoBD,MAApB,EAA4BE,aAA5B,CAA4C,CAACZ,IAAI,CAC9CQ,IAD0C,CACrC,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACL,IAAR,EAAgBA,IAA7B,EADqC,EAE1CO,MAF0C,CAEnCH,IAFmC,CAE9B,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACJ,WAAR,EAAuBA,WAApC,EAF8B,EAG1CO,aAHH,CAIA,GAAId,QAAJ,CAAcA,QAAQ,CAACE,IAAD,CAAR,CACf,CAbD,CAeA,GAAIA,IAAI,CAACa,MAAL,EAAe,CAAnB,CAAsB,CACpBZ,OAAO,CAAGD,IAAI,CAACc,GAAL,CAAS,cAA2B,IAAxBC,CAAAA,WAAwB,MAAxBA,WAAwB,CAAXX,IAAW,MAAXA,IAAW,CAC5C,MAAO,CAAEW,WAAW,CAAXA,WAAF,CAAeX,IAAI,CAAJA,IAAf,CAAP,CACD,CAFS,CAAV,CAIAJ,IAAI,CAACgB,OAAL,CAAa,SAACP,OAAD,CAAa,CACxBA,OAAO,CAACE,MAAR,CAAeK,OAAf,CAAuB,eAAkC,IAA/BX,CAAAA,WAA+B,OAA/BA,WAA+B,CAAlBY,WAAkB,OAAlBA,WAAkB,CACvD,GAAI,CAACf,OAAO,CAACM,IAAR,CAAa,SAACU,CAAD,QAAOA,CAAAA,CAAC,CAACb,WAAF,EAAiBA,WAAxB,EAAb,CAAL,CACEH,OAAO,CAACiB,IAAR,CAAa,CAAEd,WAAW,CAAXA,WAAF,CAAeY,WAAW,CAAXA,WAAf,CAAb,EACH,CAHD,EAID,CALD,EAOAf,OAAO,CAACkB,IAAR,CAAa,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACrB,GAAID,CAAC,CAACJ,WAAF,CAAgBK,CAAC,CAACL,WAAtB,CAAmC,MAAO,EAAP,CACnC,GAAII,CAAC,CAACJ,WAAF,CAAgBK,CAAC,CAACL,WAAtB,CAAmC,MAAO,CAAC,CAAR,CACnC,MAAO,EAAP,CACD,CAJD,EAKD,CAED,GAAMM,CAAAA,CAAN,CAAY,KAAK1B,KAAjB,CAAM0B,CAAN,CAEA,mBACE,2BAAK,SAAS,CAAC,2BAAf,eACE,2BAAK,SAAS,CAAC,oCAAf,eACE,6BAAO,SAAS,CAAC,8BAAjB,eACE,8CACE,2CACE,0BAAI,SAAS,CAAC,kBAAd,eACE,2BAAK,SAAS,CAAC,aAAf,EAA8BA,CAAC,CAAC,iBAAD,CAA/B,CADF,CADF,CAIGtB,OAAO,CAACa,GAAR,CAAY,SAACI,CAAD,qBACX,0BAAI,SAAS,CAAC,kBAAd,eACE,2BAAK,SAAS,CAAC,kDAAf,EACGK,CAAC,CAACL,CAAC,CAACH,WAAH,CADJ,CADF,CADW,EAAZ,CAJH,CADF,CADF,CAeGf,IAAI,CAACa,MAAL,EAAe,CAAf,cACC,iCACGX,OAAO,CAACY,GAAR,CAAY,SAACI,CAAD,CAAIZ,MAAJ,qBACX,0BAAI,GAAG,CAAEY,CAAC,CAACb,WAAX,eACE,0BAAI,SAAS,CAAEa,CAAC,CAACM,SAAjB,EAA6BD,CAAC,CAACL,CAAC,CAACD,WAAH,CAA9B,CADF,CAEGhB,OAAO,CAACa,GAAR,CAAY,SAACW,EAAD,CAAKf,MAAL,qBACX,8BACGV,IAAI,CACFQ,IADF,CACO,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACL,IAAR,EAAgBqB,EAAE,CAACrB,IAAhC,EADP,EAEEO,MAFF,CAESH,IAFT,CAGG,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACJ,WAAR,EAAuBa,CAAC,CAACb,WAAtC,EAHH,eAKC,2BAAK,SAAS,CAAC,kDAAf,eACE,6BACE,IAAI,CAAC,UADP,CAEE,OAAO,CACLL,IAAI,CACDQ,IADH,CACQ,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACL,IAAR,EAAgBqB,EAAE,CAACrB,IAAhC,EADR,EAEGO,MAFH,CAEUH,IAFV,CAGI,SAACC,OAAD,QACEA,CAAAA,OAAO,CAACJ,WAAR,EAAuBa,CAAC,CAACb,WAD3B,EAHJ,EAKIO,aARR,CAUE,QAAQ,CAAE,0BACRT,CAAAA,cAAc,CAACsB,EAAE,CAACrB,IAAJ,CAAUc,CAAC,CAACb,WAAZ,CADN,EAVZ,EADF,CALD,CAqBG,IAtBN,CADW,EAAZ,CAFH,CADW,EAAZ,CADH,CADD,CAkCG,IAjDN,CADF,CADF,CADF,CAyDD,C,0CAvGwCX,S,EA0G3C,MAAO,IAAMgC,CAAAA,uBAAuB,CAAG/B,eAAe,GACpDC,4BADoD,CAA/C","sourcesContent":["import React, { Component } from \"react\";\nimport { withTranslation } from \"react-i18next\";\nimport \"./style.scss\";\n\nclass GroupAuthorizationTableClass extends Component {\n  render() {\n    let {\n      onChange,\n      disabled = false,\n      data = [],\n      columns = [],\n      rowHead = [],\n    } = this.props;\n\n    const handleOnChange = (code, controlname) => {\n      if (disabled) return;\n      let index1 = data.indexOf(data.find((element) => element.code == code));\n      let index2 = data[index1].levels.indexOf(\n        data[index1].levels.find(\n          (element) => element.controlname == controlname\n        )\n      );\n      data[index1].levels[index2].controlstatus = !data\n        .find((element) => element.code == code)\n        .levels.find((element) => element.controlname == controlname)\n        .controlstatus;\n      if (onChange) onChange(data);\n    };\n\n    if (data.length != 0) {\n      columns = data.map(({ securieties, code }) => {\n        return { securieties, code };\n      });\n\n      data.forEach((element) => {\n        element.levels.forEach(({ controlname, controldesc }) => {\n          if (!rowHead.find((e) => e.controlname == controlname))\n            rowHead.push({ controlname, controldesc });\n        });\n      });\n\n      rowHead.sort((a, b) => {\n        if (a.controldesc > b.controldesc) return 1;\n        if (a.controldesc < b.controldesc) return -1;\n        return 0;\n      });\n    }\n\n    let { t } = this.props;\n\n    return (\n      <div className=\"maintable table-container\">\n        <div className=\"maintable-content table-responsive\">\n          <table className=\"table table-bordered rounded\">\n            <thead>\n              <tr>\n                <th className=\"table-header-200\">\n                  <div className=\"d-flex ml-3\">{t(\"Security Groups\")}</div>\n                </th>\n                {columns.map((e) => (\n                  <th className=\"table-header-150\">\n                    <div className=\"d-flex align-items-center justify-content-center\">\n                      {t(e.securieties)}\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            {data.length != 0 ? (\n              <tbody>\n                {rowHead.map((e, index1) => (\n                  <tr key={e.controlname}>\n                    <td className={e.className}>{t(e.controldesc)}</td>\n                    {columns.map((e2, index2) => (\n                      <td>\n                        {data\n                          .find((element) => element.code == e2.code)\n                          .levels.find(\n                            (element) => element.controlname == e.controlname\n                          ) ? (\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            <input\n                              type=\"checkbox\"\n                              checked={\n                                data\n                                  .find((element) => element.code == e2.code)\n                                  .levels.find(\n                                    (element) =>\n                                      element.controlname == e.controlname\n                                  ).controlstatus\n                              }\n                              onChange={() =>\n                                handleOnChange(e2.code, e.controlname)\n                              }\n                            />\n                          </div>\n                        ) : null}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            ) : null}\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const GroupAuthorizationTable = withTranslation()(\n  GroupAuthorizationTableClass\n);\n"]},"metadata":{},"sourceType":"module"}