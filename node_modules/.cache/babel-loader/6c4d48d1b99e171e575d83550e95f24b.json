{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalCheckbox,NormalInput}from\"component/common\";import{withTranslation}from\"react-i18next\";import{NewItemClasses,ItemClasses,updateCommon}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Toast}from\"service/toast\";var EditItemclassdataCLass=/*#__PURE__*/function(_Component){_inherits(EditItemclassdataCLass,_Component);var _super=_createSuper(EditItemclassdataCLass);function EditItemclassdataCLass(){var _this;_classCallCheck(this,EditItemclassdataCLass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={itemId:null,desc:null,checked:true};_this.componentDidMount=function(){var itemId=_this.state.itemId;itemId=window.location.pathname.split(\"/\")[4];_this.setState({itemId:itemId});console.log(itemId);_this.listofclass(itemId);};_this.listofclass=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(code){var _this$state,desc,checked,temp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,desc=_this$state.desc,checked=_this$state.checked,temp=_this$state.temp;_context.next=3;return _this.props.ItemClasses().then(function(res){var objIndex=res.findIndex(function(obj){return obj.itmCode==code;});console.log(objIndex);temp=res[objIndex];_this.setState({temp:temp});console.log(temp);desc=temp.itmDesc;checked=temp.itmIsactive;_this.setState({desc:desc,checked:checked});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.Addnewclass=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state2,code,desc,checked,newclass;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state2=_this.state,code=_this$state2.code,desc=_this$state2.desc,checked=_this$state2.checked;if(!(desc==null)){_context2.next=5;break;}Toast({type:\"error\",message:\"Please check required field\"});_context2.next=8;break;case 5:newclass={itmCode:_this.state.itemId,itmDesc:desc,itmIsactive:checked,itmSeq:null};_context2.next=8;return _this.props.updateCommon(\"ItemClasses/update?where=%7B%22itmCode%22%3A%20%22\".concat(_this.state.itemId,\"%22%7D\\n\\n    \"),newclass).then(function(data){Toast({type:\"success\",message:\"Successfully updated\"});desc=\"\";_this.setState({code:code,desc:desc});}).catch(function(e){return console.log(e);});case 8:case\"end\":return _context2.stop();}}},_callee2);}));_this.temp=function(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;console.log(value,name);var _this$state3=_this.state,code=_this$state3.code,desc=_this$state3.desc,checked=_this$state3.checked;if(name==\"code\"){code=value;_this.setState({code:code});}if(name==\"desc\"){desc=value;_this.setState({desc:desc});}if(name==\"checked\"){checked=value;_this.setState({checked:checked});}};return _this;}_createClass(EditItemclassdataCLass,[{key:\"render\",value:function render(){var _this2=this;var t=this.props.t;var _this$state4=this.state,itemId=_this$state4.itemId,desc=_this$state4.desc,checked=_this$state4.checked;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mt-5\",style:{marginLeft:15}},t(\"Class List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",null,\"Code\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(NormalInput,{value:itemId,name:\"code\",onChange:this.temp,type:\"number\",disabled:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",null,\"Description\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(NormalInput,{value:desc,name:\"desc\",onChange:this.temp}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-4 ml-3\"},/*#__PURE__*/React.createElement(NormalCheckbox,{checked:checked,name:\"checked\",onChange:this.temp}),/*#__PURE__*/React.createElement(\"p\",null,t(\"Active\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 col-1\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"UPDTE\",onClick:function onClick(){return _this2.Addnewclass();}}))));}}]);return EditItemclassdataCLass;}(Component);export{EditItemclassdataCLass as default};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({NewItemClasses:NewItemClasses,ItemClasses:ItemClasses,updateCommon:updateCommon},dispatch);};export var EditItemclassdata=withTranslation()(connect(null,mapDispatchToProps)(EditItemclassdataCLass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Itemclassification/Itemclass/Editpage.js"],"names":["React","Component","NormalButton","NormalCheckbox","NormalInput","withTranslation","NewItemClasses","ItemClasses","updateCommon","connect","bindActionCreators","Toast","EditItemclassdataCLass","state","itemId","desc","checked","componentDidMount","window","location","pathname","split","setState","console","log","listofclass","code","temp","props","then","res","objIndex","findIndex","obj","itmCode","itmDesc","itmIsactive","updateState","data","isMounted","Addnewclass","type","message","newclass","itmSeq","catch","e","target","value","name","t","marginLeft","color","mapDispatchToProps","dispatch","EditItemclassdata"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalCheckbox, NormalInput } from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  NewItemClasses,\r\n  ItemClasses,\r\n  updateCommon,\r\n} from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport default class EditItemclassdataCLass extends Component {\r\n  state = {\r\n    itemId: null,\r\n    desc: null,\r\n    checked: true,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    let { itemId } = this.state;\r\n    itemId = window.location.pathname.split(\"/\")[4];\r\n    this.setState({ itemId });\r\n    console.log(itemId);\r\n    this.listofclass(itemId);\r\n  };\r\n\r\n  listofclass = async (code) => {\r\n    let { desc, checked, temp } = this.state;\r\n    await this.props.ItemClasses().then((res) => {\r\n      let objIndex = res.findIndex((obj) => obj.itmCode == code);\r\n      console.log(objIndex);\r\n      temp = res[objIndex];\r\n      this.setState({\r\n        temp,\r\n      });\r\n      console.log(temp);\r\n      desc = temp.itmDesc;\r\n      checked = temp.itmIsactive;\r\n      this.setState({\r\n        desc,\r\n        checked,\r\n      });\r\n    });\r\n  };\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  Addnewclass = async () => {\r\n    let { code, desc, checked } = this.state;\r\n\r\n    if (desc == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please check required field\",\r\n      });\r\n    } else {\r\n      let newclass = {\r\n        itmCode: this.state.itemId,\r\n        itmDesc: desc,\r\n        itmIsactive: checked,\r\n        itmSeq: null,\r\n      };\r\n      await this.props\r\n        .updateCommon(\r\n          `ItemClasses/update?where=%7B%22itmCode%22%3A%20%22${this.state.itemId}%22%7D\r\n\r\n    `,\r\n          newclass\r\n        )\r\n        .then((data) => {\r\n          Toast({\r\n            type: \"success\",\r\n            message: \"Successfully updated\",\r\n          });\r\n          desc = \"\";\r\n          this.setState({ code, desc });\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n  };\r\n\r\n  temp = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { code, desc, checked } = this.state;\r\n    if (name == \"code\") {\r\n      code = value;\r\n      this.setState({ code });\r\n    }\r\n    if (name == \"desc\") {\r\n      desc = value;\r\n      this.setState({ desc });\r\n    }\r\n    if (name == \"checked\") {\r\n      checked = value;\r\n      this.setState({ checked });\r\n    }\r\n  };\r\n  render() {\r\n    let { t } = this.props;\r\n    let { itemId, desc, checked } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid\">\r\n          <h5 className=\"mt-5\" style={{ marginLeft: 15 }}>\r\n            {t(\"Class List\")}\r\n          </h5>\r\n          <div className=\"d-flex mt-5\">\r\n            <div className=\"col-6\">\r\n              <span>Code</span>\r\n              <span style={{ color: \"red\" }}>*</span>\r\n              <NormalInput\r\n                value={itemId}\r\n                name=\"code\"\r\n                onChange={this.temp}\r\n                type=\"number\"\r\n                disabled={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <span>Description</span>\r\n              <span style={{ color: \"red\" }}>*</span>\r\n              <NormalInput value={desc} name=\"desc\" onChange={this.temp} />\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex mt-4 ml-3\">\r\n            <NormalCheckbox\r\n              checked={checked}\r\n              name=\"checked\"\r\n              onChange={this.temp}\r\n            />\r\n            <p>{t(\"Active\")}</p>\r\n          </div>\r\n          <div className=\"mt-3 col-1\">\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"UPDTE\"}\r\n              onClick={() => this.Addnewclass()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      NewItemClasses,\r\n      ItemClasses,\r\n      updateCommon,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const EditItemclassdata = withTranslation()(\r\n  connect(null, mapDispatchToProps)(EditItemclassdataCLass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}