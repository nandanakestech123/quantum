{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/circular_gauge.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\n\nvar _object = require(\"../../core/utils/object\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _base_gauge = require(\"./base_gauge\");\n\nvar _common = require(\"./common\");\n\nvar _utils = require(\"../core/utils\");\n\nvar circularIndicators = _interopRequireWildcard(require(\"./circular_indicators\"));\n\nvar _circular_range_container = _interopRequireDefault(require(\"./circular_range_container\"));\n\nfunction _getRequireWildcardCache() {\n  if (\"function\" !== typeof WeakMap) {\n    return null;\n  }\n\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _isFinite = isFinite;\nvar _normalizeAngle = _utils.normalizeAngle;\nvar _getCosAndSin = _utils.getCosAndSin;\nvar _abs = Math.abs;\nvar _max = Math.max;\nvar _min = Math.min;\nvar _round = Math.round;\nvar _each = _iterator.each;\nvar PI = Math.PI;\n\nfunction getSides(startAngle, endAngle) {\n  var startCosSin = _getCosAndSin(startAngle);\n\n  var endCosSin = _getCosAndSin(endAngle);\n\n  var startCos = startCosSin.cos;\n  var startSin = startCosSin.sin;\n  var endCos = endCosSin.cos;\n  var endSin = endCosSin.sin;\n  return {\n    left: startSin <= 0 && endSin >= 0 || startSin <= 0 && endSin <= 0 && startCos <= endCos || startSin >= 0 && endSin >= 0 && startCos >= endCos ? -1 : _min(startCos, endCos, 0),\n    right: startSin >= 0 && endSin <= 0 || startSin >= 0 && endSin >= 0 && startCos >= endCos || startSin <= 0 && endSin <= 0 && startCos <= endCos ? 1 : _max(startCos, endCos, 0),\n    up: startCos <= 0 && endCos >= 0 || startCos <= 0 && endCos <= 0 && startSin >= endSin || startCos >= 0 && endCos >= 0 && startSin <= endSin ? -1 : -_max(startSin, endSin, 0),\n    down: startCos >= 0 && endCos <= 0 || startCos >= 0 && endCos >= 0 && startSin <= endSin || startCos <= 0 && endCos <= 0 && startSin >= endSin ? 1 : -_min(startSin, endSin, 0)\n  };\n}\n\nvar dxCircularGauge = _common.dxGauge.inherit({\n  _rootClass: \"dxg-circular-gauge\",\n  _factoryMethods: {\n    rangeContainer: \"createCircularRangeContainer\",\n    indicator: \"createCircularIndicator\"\n  },\n  _gridSpacingFactor: 17,\n  _scaleTypes: {\n    type: \"polarAxes\",\n    drawingType: \"circular\"\n  },\n  _getThemeManagerOptions: function () {\n    var options = this.callBase.apply(this, arguments);\n    options.subTheme = \"_circular\";\n    return options;\n  },\n  _updateScaleTickIndent: function (scaleOptions) {\n    var indentFromTick = scaleOptions.label.indentFromTick;\n    var length = scaleOptions.tick.visible ? scaleOptions.tick.length : 0;\n\n    var textParams = this._scale.measureLabels((0, _extend.extend)({}, this._canvas));\n\n    var tickCorrection = length;\n\n    if (\"inside\" === scaleOptions.orientation) {\n      tickCorrection = 0;\n    } else {\n      if (\"center\" === scaleOptions.orientation) {\n        tickCorrection = .5 * length;\n      }\n    }\n\n    scaleOptions.label.indentFromAxis = indentFromTick >= 0 ? indentFromTick + tickCorrection : indentFromTick - tickCorrection - _max(textParams.width, textParams.height);\n\n    this._scale.updateOptions(scaleOptions);\n  },\n  _setupCodomain: function () {\n    var that = this;\n    var geometry = that.option(\"geometry\") || {};\n    var startAngle = geometry.startAngle;\n    var endAngle = geometry.endAngle;\n    var sides;\n    startAngle = _isFinite(startAngle) ? _normalizeAngle(startAngle) : 225;\n    endAngle = _isFinite(endAngle) ? _normalizeAngle(endAngle) : -45;\n\n    if (_abs(startAngle - endAngle) < 1) {\n      endAngle -= 360;\n      sides = {\n        left: -1,\n        up: -1,\n        right: 1,\n        down: 1\n      };\n    } else {\n      startAngle < endAngle && (endAngle -= 360);\n      sides = getSides(startAngle, endAngle);\n    }\n\n    that._area = {\n      x: 0,\n      y: 0,\n      radius: 100,\n      startCoord: startAngle,\n      endCoord: endAngle,\n      sides: sides\n    };\n\n    that._translator.setCodomain(startAngle, endAngle);\n  },\n  _shiftScale: function (layout) {\n    var scale = this._scale;\n    var canvas = scale.getCanvas();\n    canvas.width = canvas.height = 2 * layout.radius;\n    scale.draw(canvas);\n    var centerCoords = scale.getCenter();\n    scale.shift({\n      right: layout.x - centerCoords.x,\n      bottom: layout.y - centerCoords.y\n    });\n  },\n  _getScaleLayoutValue: function () {\n    return this._area.radius;\n  },\n  _getTicksOrientation: function (scaleOptions) {\n    return scaleOptions.orientation;\n  },\n  _getTicksCoefficients: function (options) {\n    var coefs = {\n      inner: 0,\n      outer: 1\n    };\n\n    if (\"inside\" === options.orientation) {\n      coefs.inner = 1;\n      coefs.outer = 0;\n    } else {\n      if (\"center\" === options.orientation) {\n        coefs.inner = coefs.outer = .5;\n      }\n    }\n\n    return coefs;\n  },\n  _correctScaleIndents: function (result, indentFromTick, textParams) {\n    if (indentFromTick >= 0) {\n      result.horizontalOffset = indentFromTick + textParams.width;\n      result.verticalOffset = indentFromTick + textParams.height;\n    } else {\n      result.horizontalOffset = result.verticalOffset = 0;\n      result.min -= -indentFromTick + _max(textParams.width, textParams.height);\n    }\n\n    result.inverseHorizontalOffset = textParams.width / 2;\n    result.inverseVerticalOffset = textParams.height / 2;\n  },\n  _measureMainElements: function (elements, scaleMeasurement) {\n    var that = this;\n    var radius = that._area.radius;\n    var maxRadius = 0;\n    var minRadius = 1 / 0;\n    var maxHorizontalOffset = 0;\n    var maxVerticalOffset = 0;\n    var maxInverseHorizontalOffset = 0;\n    var maxInverseVerticalOffset = 0;\n    var scale = that._scale;\n\n    _each(elements.concat(scale), function (_, element) {\n      var bounds = element.measure ? element.measure({\n        radius: radius - element.getOffset()\n      }) : scaleMeasurement;\n      bounds.min > 0 && (minRadius = _min(minRadius, bounds.min));\n      bounds.max > 0 && (maxRadius = _max(maxRadius, bounds.max));\n      bounds.horizontalOffset > 0 && (maxHorizontalOffset = _max(maxHorizontalOffset, bounds.max + bounds.horizontalOffset));\n      bounds.verticalOffset > 0 && (maxVerticalOffset = _max(maxVerticalOffset, bounds.max + bounds.verticalOffset));\n      bounds.inverseHorizontalOffset > 0 && (maxInverseHorizontalOffset = _max(maxInverseHorizontalOffset, bounds.inverseHorizontalOffset));\n      bounds.inverseVerticalOffset > 0 && (maxInverseVerticalOffset = _max(maxInverseVerticalOffset, bounds.inverseVerticalOffset));\n    });\n\n    maxHorizontalOffset = _max(maxHorizontalOffset - maxRadius, 0);\n    maxVerticalOffset = _max(maxVerticalOffset - maxRadius, 0);\n    return {\n      minRadius: minRadius,\n      maxRadius: maxRadius,\n      horizontalMargin: maxHorizontalOffset,\n      verticalMargin: maxVerticalOffset,\n      inverseHorizontalMargin: maxInverseHorizontalOffset,\n      inverseVerticalMargin: maxInverseVerticalOffset\n    };\n  },\n  _applyMainLayout: function (elements, scaleMeasurement) {\n    var measurements = this._measureMainElements(elements, scaleMeasurement);\n\n    var area = this._area;\n    var sides = area.sides;\n    var margins = {\n      left: (sides.left < -.1 ? measurements.horizontalMargin : measurements.inverseHorizontalMargin) || 0,\n      right: (sides.right > .1 ? measurements.horizontalMargin : measurements.inverseHorizontalMargin) || 0,\n      top: (sides.up < -.1 ? measurements.verticalMargin : measurements.inverseVerticalMargin) || 0,\n      bottom: (sides.down > .1 ? measurements.verticalMargin : measurements.inverseVerticalMargin) || 0\n    };\n    var rect = selectRectByAspectRatio(this._innerRect, (sides.down - sides.up) / (sides.right - sides.left), margins);\n\n    var radius = _min(getWidth(rect) / (sides.right - sides.left), getHeight(rect) / (sides.down - sides.up));\n\n    radius = radius - measurements.maxRadius + area.radius;\n    var x = rect.left - getWidth(rect) * sides.left / (sides.right - sides.left);\n    var y = rect.top - getHeight(rect) * sides.up / (sides.down - sides.up);\n    area.x = _round(x);\n    area.y = _round(y);\n    area.radius = radius;\n    rect.left -= margins.left;\n    rect.right += margins.right;\n    rect.top -= margins.top;\n    rect.bottom += margins.bottom;\n    this._innerRect = rect;\n  },\n  _getElementLayout: function (offset) {\n    return {\n      x: this._area.x,\n      y: this._area.y,\n      radius: _round(this._area.radius - offset)\n    };\n  },\n  _getApproximateScreenRange: function () {\n    var that = this;\n    var area = that._area;\n\n    var r = _min(that._canvas.width / (area.sides.right - area.sides.left), that._canvas.height / (area.sides.down - area.sides.up));\n\n    r > area.totalRadius && (r = area.totalRadius);\n    r = .8 * r;\n    return -that._translator.getCodomainRange() * r * PI / 180;\n  },\n  _getDefaultSize: function () {\n    return {\n      width: 300,\n      height: 300\n    };\n  },\n  _factory: (0, _object.clone)(_base_gauge.dxBaseGauge.prototype._factory)\n});\n\nfunction getWidth(rect) {\n  return rect.right - rect.left;\n}\n\nfunction getHeight(rect) {\n  return rect.bottom - rect.top;\n}\n\nfunction selectRectByAspectRatio(srcRect, aspectRatio, margins) {\n  var rect = (0, _extend.extend)({}, srcRect);\n  var selfAspectRatio;\n  var width = 0;\n  var height = 0;\n  margins = margins || {};\n\n  if (aspectRatio > 0) {\n    rect.left += margins.left || 0;\n    rect.right -= margins.right || 0;\n    rect.top += margins.top || 0;\n    rect.bottom -= margins.bottom || 0;\n\n    if (getWidth(rect) > 0 && getHeight(rect) > 0) {\n      selfAspectRatio = getHeight(rect) / getWidth(rect);\n\n      if (selfAspectRatio > 1) {\n        aspectRatio < selfAspectRatio ? width = getWidth(rect) : height = getHeight(rect);\n      } else {\n        aspectRatio > selfAspectRatio ? height = getHeight(rect) : width = getWidth(rect);\n      }\n\n      width > 0 || (width = height / aspectRatio);\n      height > 0 || (height = width * aspectRatio);\n      width = (getWidth(rect) - width) / 2;\n      height = (getHeight(rect) - height) / 2;\n      rect.left += width;\n      rect.right -= width;\n      rect.top += height;\n      rect.bottom -= height;\n    } else {\n      rect.left = rect.right = (rect.left + rect.right) / 2;\n      rect.top = rect.bottom = (rect.top + rect.bottom) / 2;\n    }\n  }\n\n  return rect;\n}\n\nvar indicators = dxCircularGauge.prototype._factory.indicators = {};\ndxCircularGauge.prototype._factory.createIndicator = (0, _common.createIndicatorCreator)(indicators);\nindicators._default = circularIndicators._default;\nindicators.rectangleneedle = circularIndicators.rectangleneedle;\nindicators.triangleneedle = circularIndicators.triangleneedle;\nindicators.twocolorneedle = circularIndicators.twocolorneedle;\nindicators.trianglemarker = circularIndicators.trianglemarker;\nindicators.textcloud = circularIndicators.textcloud;\nindicators.rangebar = circularIndicators.rangebar;\ndxCircularGauge.prototype._factory.RangeContainer = _circular_range_container.default;\n(0, _component_registrator.default)(\"dxCircularGauge\", dxCircularGauge);\nvar _default = dxCircularGauge;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/gauges/circular_gauge.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_component_registrator","_interopRequireDefault","require","_object","_extend","_iterator","_base_gauge","_common","_utils","circularIndicators","_interopRequireWildcard","_circular_range_container","_getRequireWildcardCache","WeakMap","cache","__esModule","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_isFinite","isFinite","_normalizeAngle","normalizeAngle","_getCosAndSin","getCosAndSin","_abs","Math","abs","_max","max","_min","min","_round","round","_each","each","PI","getSides","startAngle","endAngle","startCosSin","endCosSin","startCos","cos","startSin","sin","endCos","endSin","left","right","up","down","dxCircularGauge","dxGauge","inherit","_rootClass","_factoryMethods","rangeContainer","indicator","_gridSpacingFactor","_scaleTypes","type","drawingType","_getThemeManagerOptions","options","callBase","apply","arguments","subTheme","_updateScaleTickIndent","scaleOptions","indentFromTick","label","length","tick","visible","textParams","_scale","measureLabels","extend","_canvas","tickCorrection","orientation","indentFromAxis","width","height","updateOptions","_setupCodomain","that","geometry","option","sides","_area","x","y","radius","startCoord","endCoord","_translator","setCodomain","_shiftScale","layout","scale","canvas","getCanvas","draw","centerCoords","getCenter","shift","bottom","_getScaleLayoutValue","_getTicksOrientation","_getTicksCoefficients","coefs","inner","outer","_correctScaleIndents","result","horizontalOffset","verticalOffset","inverseHorizontalOffset","inverseVerticalOffset","_measureMainElements","elements","scaleMeasurement","maxRadius","minRadius","maxHorizontalOffset","maxVerticalOffset","maxInverseHorizontalOffset","maxInverseVerticalOffset","concat","_","element","bounds","measure","getOffset","horizontalMargin","verticalMargin","inverseHorizontalMargin","inverseVerticalMargin","_applyMainLayout","measurements","area","margins","top","rect","selectRectByAspectRatio","_innerRect","getWidth","getHeight","_getElementLayout","offset","_getApproximateScreenRange","r","totalRadius","getCodomainRange","_getDefaultSize","_factory","clone","dxBaseGauge","srcRect","aspectRatio","selfAspectRatio","indicators","createIndicator","createIndicatorCreator","_default","rectangleneedle","triangleneedle","twocolorneedle","trianglemarker","textcloud","rangebar","RangeContainer","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/circular_gauge.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _object = require(\"../../core/utils/object\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _base_gauge = require(\"./base_gauge\");\r\nvar _common = require(\"./common\");\r\nvar _utils = require(\"../core/utils\");\r\nvar circularIndicators = _interopRequireWildcard(require(\"./circular_indicators\"));\r\nvar _circular_range_container = _interopRequireDefault(require(\"./circular_range_container\"));\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _isFinite = isFinite;\r\nvar _normalizeAngle = _utils.normalizeAngle;\r\nvar _getCosAndSin = _utils.getCosAndSin;\r\nvar _abs = Math.abs;\r\nvar _max = Math.max;\r\nvar _min = Math.min;\r\nvar _round = Math.round;\r\nvar _each = _iterator.each;\r\nvar PI = Math.PI;\r\n\r\nfunction getSides(startAngle, endAngle) {\r\n    var startCosSin = _getCosAndSin(startAngle);\r\n    var endCosSin = _getCosAndSin(endAngle);\r\n    var startCos = startCosSin.cos;\r\n    var startSin = startCosSin.sin;\r\n    var endCos = endCosSin.cos;\r\n    var endSin = endCosSin.sin;\r\n    return {\r\n        left: startSin <= 0 && endSin >= 0 || startSin <= 0 && endSin <= 0 && startCos <= endCos || startSin >= 0 && endSin >= 0 && startCos >= endCos ? -1 : _min(startCos, endCos, 0),\r\n        right: startSin >= 0 && endSin <= 0 || startSin >= 0 && endSin >= 0 && startCos >= endCos || startSin <= 0 && endSin <= 0 && startCos <= endCos ? 1 : _max(startCos, endCos, 0),\r\n        up: startCos <= 0 && endCos >= 0 || startCos <= 0 && endCos <= 0 && startSin >= endSin || startCos >= 0 && endCos >= 0 && startSin <= endSin ? -1 : -_max(startSin, endSin, 0),\r\n        down: startCos >= 0 && endCos <= 0 || startCos >= 0 && endCos >= 0 && startSin <= endSin || startCos <= 0 && endCos <= 0 && startSin >= endSin ? 1 : -_min(startSin, endSin, 0)\r\n    }\r\n}\r\nvar dxCircularGauge = _common.dxGauge.inherit({\r\n    _rootClass: \"dxg-circular-gauge\",\r\n    _factoryMethods: {\r\n        rangeContainer: \"createCircularRangeContainer\",\r\n        indicator: \"createCircularIndicator\"\r\n    },\r\n    _gridSpacingFactor: 17,\r\n    _scaleTypes: {\r\n        type: \"polarAxes\",\r\n        drawingType: \"circular\"\r\n    },\r\n    _getThemeManagerOptions: function() {\r\n        var options = this.callBase.apply(this, arguments);\r\n        options.subTheme = \"_circular\";\r\n        return options\r\n    },\r\n    _updateScaleTickIndent: function(scaleOptions) {\r\n        var indentFromTick = scaleOptions.label.indentFromTick;\r\n        var length = scaleOptions.tick.visible ? scaleOptions.tick.length : 0;\r\n        var textParams = this._scale.measureLabels((0, _extend.extend)({}, this._canvas));\r\n        var tickCorrection = length;\r\n        if (\"inside\" === scaleOptions.orientation) {\r\n            tickCorrection = 0\r\n        } else {\r\n            if (\"center\" === scaleOptions.orientation) {\r\n                tickCorrection = .5 * length\r\n            }\r\n        }\r\n        scaleOptions.label.indentFromAxis = indentFromTick >= 0 ? indentFromTick + tickCorrection : indentFromTick - tickCorrection - _max(textParams.width, textParams.height);\r\n        this._scale.updateOptions(scaleOptions)\r\n    },\r\n    _setupCodomain: function() {\r\n        var that = this;\r\n        var geometry = that.option(\"geometry\") || {};\r\n        var startAngle = geometry.startAngle;\r\n        var endAngle = geometry.endAngle;\r\n        var sides;\r\n        startAngle = _isFinite(startAngle) ? _normalizeAngle(startAngle) : 225;\r\n        endAngle = _isFinite(endAngle) ? _normalizeAngle(endAngle) : -45;\r\n        if (_abs(startAngle - endAngle) < 1) {\r\n            endAngle -= 360;\r\n            sides = {\r\n                left: -1,\r\n                up: -1,\r\n                right: 1,\r\n                down: 1\r\n            }\r\n        } else {\r\n            startAngle < endAngle && (endAngle -= 360);\r\n            sides = getSides(startAngle, endAngle)\r\n        }\r\n        that._area = {\r\n            x: 0,\r\n            y: 0,\r\n            radius: 100,\r\n            startCoord: startAngle,\r\n            endCoord: endAngle,\r\n            sides: sides\r\n        };\r\n        that._translator.setCodomain(startAngle, endAngle)\r\n    },\r\n    _shiftScale: function(layout) {\r\n        var scale = this._scale;\r\n        var canvas = scale.getCanvas();\r\n        canvas.width = canvas.height = 2 * layout.radius;\r\n        scale.draw(canvas);\r\n        var centerCoords = scale.getCenter();\r\n        scale.shift({\r\n            right: layout.x - centerCoords.x,\r\n            bottom: layout.y - centerCoords.y\r\n        })\r\n    },\r\n    _getScaleLayoutValue: function() {\r\n        return this._area.radius\r\n    },\r\n    _getTicksOrientation: function(scaleOptions) {\r\n        return scaleOptions.orientation\r\n    },\r\n    _getTicksCoefficients: function(options) {\r\n        var coefs = {\r\n            inner: 0,\r\n            outer: 1\r\n        };\r\n        if (\"inside\" === options.orientation) {\r\n            coefs.inner = 1;\r\n            coefs.outer = 0\r\n        } else {\r\n            if (\"center\" === options.orientation) {\r\n                coefs.inner = coefs.outer = .5\r\n            }\r\n        }\r\n        return coefs\r\n    },\r\n    _correctScaleIndents: function(result, indentFromTick, textParams) {\r\n        if (indentFromTick >= 0) {\r\n            result.horizontalOffset = indentFromTick + textParams.width;\r\n            result.verticalOffset = indentFromTick + textParams.height\r\n        } else {\r\n            result.horizontalOffset = result.verticalOffset = 0;\r\n            result.min -= -indentFromTick + _max(textParams.width, textParams.height)\r\n        }\r\n        result.inverseHorizontalOffset = textParams.width / 2;\r\n        result.inverseVerticalOffset = textParams.height / 2\r\n    },\r\n    _measureMainElements: function(elements, scaleMeasurement) {\r\n        var that = this;\r\n        var radius = that._area.radius;\r\n        var maxRadius = 0;\r\n        var minRadius = 1 / 0;\r\n        var maxHorizontalOffset = 0;\r\n        var maxVerticalOffset = 0;\r\n        var maxInverseHorizontalOffset = 0;\r\n        var maxInverseVerticalOffset = 0;\r\n        var scale = that._scale;\r\n        _each(elements.concat(scale), function(_, element) {\r\n            var bounds = element.measure ? element.measure({\r\n                radius: radius - element.getOffset()\r\n            }) : scaleMeasurement;\r\n            bounds.min > 0 && (minRadius = _min(minRadius, bounds.min));\r\n            bounds.max > 0 && (maxRadius = _max(maxRadius, bounds.max));\r\n            bounds.horizontalOffset > 0 && (maxHorizontalOffset = _max(maxHorizontalOffset, bounds.max + bounds.horizontalOffset));\r\n            bounds.verticalOffset > 0 && (maxVerticalOffset = _max(maxVerticalOffset, bounds.max + bounds.verticalOffset));\r\n            bounds.inverseHorizontalOffset > 0 && (maxInverseHorizontalOffset = _max(maxInverseHorizontalOffset, bounds.inverseHorizontalOffset));\r\n            bounds.inverseVerticalOffset > 0 && (maxInverseVerticalOffset = _max(maxInverseVerticalOffset, bounds.inverseVerticalOffset))\r\n        });\r\n        maxHorizontalOffset = _max(maxHorizontalOffset - maxRadius, 0);\r\n        maxVerticalOffset = _max(maxVerticalOffset - maxRadius, 0);\r\n        return {\r\n            minRadius: minRadius,\r\n            maxRadius: maxRadius,\r\n            horizontalMargin: maxHorizontalOffset,\r\n            verticalMargin: maxVerticalOffset,\r\n            inverseHorizontalMargin: maxInverseHorizontalOffset,\r\n            inverseVerticalMargin: maxInverseVerticalOffset\r\n        }\r\n    },\r\n    _applyMainLayout: function(elements, scaleMeasurement) {\r\n        var measurements = this._measureMainElements(elements, scaleMeasurement);\r\n        var area = this._area;\r\n        var sides = area.sides;\r\n        var margins = {\r\n            left: (sides.left < -.1 ? measurements.horizontalMargin : measurements.inverseHorizontalMargin) || 0,\r\n            right: (sides.right > .1 ? measurements.horizontalMargin : measurements.inverseHorizontalMargin) || 0,\r\n            top: (sides.up < -.1 ? measurements.verticalMargin : measurements.inverseVerticalMargin) || 0,\r\n            bottom: (sides.down > .1 ? measurements.verticalMargin : measurements.inverseVerticalMargin) || 0\r\n        };\r\n        var rect = selectRectByAspectRatio(this._innerRect, (sides.down - sides.up) / (sides.right - sides.left), margins);\r\n        var radius = _min(getWidth(rect) / (sides.right - sides.left), getHeight(rect) / (sides.down - sides.up));\r\n        radius = radius - measurements.maxRadius + area.radius;\r\n        var x = rect.left - getWidth(rect) * sides.left / (sides.right - sides.left);\r\n        var y = rect.top - getHeight(rect) * sides.up / (sides.down - sides.up);\r\n        area.x = _round(x);\r\n        area.y = _round(y);\r\n        area.radius = radius;\r\n        rect.left -= margins.left;\r\n        rect.right += margins.right;\r\n        rect.top -= margins.top;\r\n        rect.bottom += margins.bottom;\r\n        this._innerRect = rect\r\n    },\r\n    _getElementLayout: function(offset) {\r\n        return {\r\n            x: this._area.x,\r\n            y: this._area.y,\r\n            radius: _round(this._area.radius - offset)\r\n        }\r\n    },\r\n    _getApproximateScreenRange: function() {\r\n        var that = this;\r\n        var area = that._area;\r\n        var r = _min(that._canvas.width / (area.sides.right - area.sides.left), that._canvas.height / (area.sides.down - area.sides.up));\r\n        r > area.totalRadius && (r = area.totalRadius);\r\n        r = .8 * r;\r\n        return -that._translator.getCodomainRange() * r * PI / 180\r\n    },\r\n    _getDefaultSize: function() {\r\n        return {\r\n            width: 300,\r\n            height: 300\r\n        }\r\n    },\r\n    _factory: (0, _object.clone)(_base_gauge.dxBaseGauge.prototype._factory)\r\n});\r\n\r\nfunction getWidth(rect) {\r\n    return rect.right - rect.left\r\n}\r\n\r\nfunction getHeight(rect) {\r\n    return rect.bottom - rect.top\r\n}\r\n\r\nfunction selectRectByAspectRatio(srcRect, aspectRatio, margins) {\r\n    var rect = (0, _extend.extend)({}, srcRect);\r\n    var selfAspectRatio;\r\n    var width = 0;\r\n    var height = 0;\r\n    margins = margins || {};\r\n    if (aspectRatio > 0) {\r\n        rect.left += margins.left || 0;\r\n        rect.right -= margins.right || 0;\r\n        rect.top += margins.top || 0;\r\n        rect.bottom -= margins.bottom || 0;\r\n        if (getWidth(rect) > 0 && getHeight(rect) > 0) {\r\n            selfAspectRatio = getHeight(rect) / getWidth(rect);\r\n            if (selfAspectRatio > 1) {\r\n                aspectRatio < selfAspectRatio ? width = getWidth(rect) : height = getHeight(rect)\r\n            } else {\r\n                aspectRatio > selfAspectRatio ? height = getHeight(rect) : width = getWidth(rect)\r\n            }\r\n            width > 0 || (width = height / aspectRatio);\r\n            height > 0 || (height = width * aspectRatio);\r\n            width = (getWidth(rect) - width) / 2;\r\n            height = (getHeight(rect) - height) / 2;\r\n            rect.left += width;\r\n            rect.right -= width;\r\n            rect.top += height;\r\n            rect.bottom -= height\r\n        } else {\r\n            rect.left = rect.right = (rect.left + rect.right) / 2;\r\n            rect.top = rect.bottom = (rect.top + rect.bottom) / 2\r\n        }\r\n    }\r\n    return rect\r\n}\r\nvar indicators = dxCircularGauge.prototype._factory.indicators = {};\r\ndxCircularGauge.prototype._factory.createIndicator = (0, _common.createIndicatorCreator)(indicators);\r\nindicators._default = circularIndicators._default;\r\nindicators.rectangleneedle = circularIndicators.rectangleneedle;\r\nindicators.triangleneedle = circularIndicators.triangleneedle;\r\nindicators.twocolorneedle = circularIndicators.twocolorneedle;\r\nindicators.trianglemarker = circularIndicators.trianglemarker;\r\nindicators.textcloud = circularIndicators.textcloud;\r\nindicators.rangebar = circularIndicators.rangebar;\r\ndxCircularGauge.prototype._factory.RangeContainer = _circular_range_container.default;\r\n(0, _component_registrator.default)(\"dxCircularGauge\", dxCircularGauge);\r\nvar _default = dxCircularGauge;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}