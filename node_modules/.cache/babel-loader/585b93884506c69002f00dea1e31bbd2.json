{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.common.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.getMapFromObject = exports.findItemsByKeys = exports.extendAttributes = exports.getDisplayFileSize = exports.whenSome = void 0;\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar whenSome = function (arg, onSuccess, onError) {\n  onSuccess = onSuccess || _common.noop;\n  onError = onError || _common.noop;\n\n  if (!Array.isArray(arg)) {\n    arg = [arg];\n  }\n\n  var deferreds = arg.map(function (item, index) {\n    return (0, _deferred.when)(item).then(function (result) {\n      (0, _type.isFunction)(onSuccess) && onSuccess({\n        item: item,\n        index: index,\n        result: result\n      });\n      return result;\n    }, function (error) {\n      if (!error) {\n        error = {};\n      }\n\n      error.index = index;\n      (0, _type.isFunction)(onError) && onError(error);\n      return new _deferred.Deferred().resolve().promise();\n    });\n  });\n  return _deferred.when.apply(null, deferreds);\n};\n\nexports.whenSome = whenSome;\n\nvar getDisplayFileSize = function (byteSize) {\n  var sizesTitles = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\n  var index = 0;\n  var displaySize = byteSize;\n\n  while (displaySize >= 1024 && index <= sizesTitles.length - 1) {\n    displaySize /= 1024;\n    index++;\n  }\n\n  displaySize = Math.round(10 * displaySize) / 10;\n  return \"\".concat(displaySize, \" \").concat(sizesTitles[index]);\n};\n\nexports.getDisplayFileSize = getDisplayFileSize;\n\nvar extendAttributes = function (targetObject, sourceObject, objectKeysArray) {\n  objectKeysArray.forEach(function (objectKey) {\n    (0, _extend.extend)(true, targetObject, (0, _type.isDefined)(sourceObject[objectKey]) ? _defineProperty({}, objectKey, sourceObject[objectKey]) : {});\n  });\n  return targetObject;\n};\n\nexports.extendAttributes = extendAttributes;\n\nvar findItemsByKeys = function (itemInfos, keys) {\n  var itemMap = {};\n  keys.forEach(function (key) {\n    itemMap[key] = null;\n  });\n  itemInfos.forEach(function (itemInfo) {\n    var key = itemInfo.fileItem.key;\n\n    if (Object.prototype.hasOwnProperty.call(itemMap, key)) {\n      itemMap[key] = itemInfo;\n    }\n  });\n  var result = [];\n  keys.forEach(function (key) {\n    var itemInfo = itemMap[key];\n\n    if (itemInfo) {\n      result.push(itemInfo);\n    }\n  });\n  return result;\n};\n\nexports.findItemsByKeys = findItemsByKeys;\n\nvar getMapFromObject = function (object) {\n  var keys = Object.keys(object);\n  var values = [];\n  keys.forEach(function (key) {\n    return values.push(object[key]);\n  });\n  return {\n    keys: keys,\n    values: values\n  };\n};\n\nexports.getMapFromObject = getMapFromObject;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/file_manager/ui.file_manager.common.js"],"names":["exports","getMapFromObject","findItemsByKeys","extendAttributes","getDisplayFileSize","whenSome","_deferred","require","_extend","_common","_type","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","arg","onSuccess","onError","noop","Array","isArray","deferreds","map","item","index","when","then","result","isFunction","error","Deferred","resolve","promise","apply","byteSize","sizesTitles","displaySize","length","Math","round","concat","targetObject","sourceObject","objectKeysArray","forEach","objectKey","extend","isDefined","itemInfos","keys","itemMap","itemInfo","fileItem","prototype","hasOwnProperty","call","push","object","values"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.common.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getMapFromObject = exports.findItemsByKeys = exports.extendAttributes = exports.getDisplayFileSize = exports.whenSome = void 0;\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\nvar whenSome = function(arg, onSuccess, onError) {\r\n    onSuccess = onSuccess || _common.noop;\r\n    onError = onError || _common.noop;\r\n    if (!Array.isArray(arg)) {\r\n        arg = [arg]\r\n    }\r\n    var deferreds = arg.map(function(item, index) {\r\n        return (0, _deferred.when)(item).then(function(result) {\r\n            (0, _type.isFunction)(onSuccess) && onSuccess({\r\n                item: item,\r\n                index: index,\r\n                result: result\r\n            });\r\n            return result\r\n        }, function(error) {\r\n            if (!error) {\r\n                error = {}\r\n            }\r\n            error.index = index;\r\n            (0, _type.isFunction)(onError) && onError(error);\r\n            return (new _deferred.Deferred).resolve().promise()\r\n        })\r\n    });\r\n    return _deferred.when.apply(null, deferreds)\r\n};\r\nexports.whenSome = whenSome;\r\nvar getDisplayFileSize = function(byteSize) {\r\n    var sizesTitles = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n    var index = 0;\r\n    var displaySize = byteSize;\r\n    while (displaySize >= 1024 && index <= sizesTitles.length - 1) {\r\n        displaySize /= 1024;\r\n        index++\r\n    }\r\n    displaySize = Math.round(10 * displaySize) / 10;\r\n    return \"\".concat(displaySize, \" \").concat(sizesTitles[index])\r\n};\r\nexports.getDisplayFileSize = getDisplayFileSize;\r\nvar extendAttributes = function(targetObject, sourceObject, objectKeysArray) {\r\n    objectKeysArray.forEach(function(objectKey) {\r\n        (0, _extend.extend)(true, targetObject, (0, _type.isDefined)(sourceObject[objectKey]) ? _defineProperty({}, objectKey, sourceObject[objectKey]) : {})\r\n    });\r\n    return targetObject\r\n};\r\nexports.extendAttributes = extendAttributes;\r\nvar findItemsByKeys = function(itemInfos, keys) {\r\n    var itemMap = {};\r\n    keys.forEach(function(key) {\r\n        itemMap[key] = null\r\n    });\r\n    itemInfos.forEach(function(itemInfo) {\r\n        var key = itemInfo.fileItem.key;\r\n        if (Object.prototype.hasOwnProperty.call(itemMap, key)) {\r\n            itemMap[key] = itemInfo\r\n        }\r\n    });\r\n    var result = [];\r\n    keys.forEach(function(key) {\r\n        var itemInfo = itemMap[key];\r\n        if (itemInfo) {\r\n            result.push(itemInfo)\r\n        }\r\n    });\r\n    return result\r\n};\r\nexports.findItemsByKeys = findItemsByKeys;\r\nvar getMapFromObject = function(object) {\r\n    var keys = Object.keys(object);\r\n    var values = [];\r\n    keys.forEach(function(key) {\r\n        return values.push(object[key])\r\n    });\r\n    return {\r\n        keys: keys,\r\n        values: values\r\n    }\r\n};\r\nexports.getMapFromObject = getMapFromObject;\r\n"]},"metadata":{},"sourceType":"script"}