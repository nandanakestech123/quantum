{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Cart\\\\cart\\\\itemStatusPopup.js\";\nimport React, { Component } from \"react\";\nimport { NormalInput, NormalButton, NormalSelect } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\nimport \"./style.scss\";\nimport { withTranslation } from \"react-i18next\";\nexport class itemStatusPopupClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data_list: [],\n      item_status_options: [],\n      focReasonList: [],\n      sourceList: []\n    };\n\n    this.getStatusList = () => {\n      let {\n        data_list\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n      this.props.getCommonApi(`cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_status=1`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == \"200\") {\n          console.log(key, \"cartstatuspopuplist\");\n          data_list = data;\n          await this.setState({\n            data_list\n          });\n\n          if (this.state.data_list.length > 0) {\n            document.getElementById(this.state.data_list[0].id).classList.toggle(\"d-none\");\n          }\n        }\n      });\n    };\n\n    this.handleSubmit = () => {\n      let {\n        data_list,\n        sourceList\n      } = this.state;\n\n      for (let value of data_list) {\n        sourceList.push({\n          id: value.id,\n          itemstatus: value.itemstatus,\n          focreason: value.focreason\n        });\n      }\n\n      this.props.commonCreateApi(`cartpopup/`, sourceList).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 200) {\n          this.props.handleModal();\n        }\n      });\n    };\n\n    this.handleChange = (e, index) => {\n      let {\n        data_list\n      } = this.state;\n      let data = e.target.value;\n\n      if ([e.target.name] == \"itemstatus\" || [e.target.name] == \"focreason\") {\n        data_list[index][e.target.name] = Number(data);\n      } else {\n        data_list[index][e.target.name] = data;\n      }\n\n      this.setState({\n        data_list\n      });\n    };\n\n    this.handleAccordion = id => {\n      let elements = document.getElementsByClassName(\"accordion\");\n\n      for (let i = 0; i < elements.length; i++) {\n        elements[i].classList.add(\"d-none\");\n      }\n\n      document.getElementById(id).classList.toggle(\"d-none\");\n      console.log(elements);\n    };\n  }\n\n  componentDidMount() {\n    let {\n      item_status_options,\n      focReasonList\n    } = this.state;\n    this.props.getCommonApi(`focreason/`).then(key => {\n      let {\n        status,\n        data\n      } = key;\n\n      if (status === 200) {\n        for (let value of data) {\n          focReasonList.push({\n            value: Number(value.id),\n            label: value.foc_reason_ldesc\n          });\n        }\n\n        this.setState({\n          focReasonList\n        });\n      }\n    });\n    this.props.getCommonApi(`itemstatus/`).then(key => {\n      let {\n        status,\n        data\n      } = key;\n\n      if (status === 200) {\n        for (let value of data) {\n          item_status_options.push({\n            value: Number(value.id),\n            label: value.status_short_desc\n          });\n        }\n\n        this.setState({\n          item_status_options\n        });\n      }\n    });\n    this.getStatusList();\n  }\n\n  render() {\n    let {\n      data_list,\n      item_status_options,\n      focReasonList\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mb-4 mt-2 product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, t(\"Item Status\"))), data_list && data_list.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: false,\n      className: \"col-12 fs-15 submit-btn\",\n      label: \"Done\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    })) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row w-100 pl-3 pr-5 mt-2 fw-500 h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, `Item`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, t(`Qty`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, t(`Unit Price`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, t(`Disc.`), \" $\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, t(`D/Price`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, t(`Amount`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, t(`Deposit`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, `Staff`)), data_list && data_list.length <= 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-5 pr-5 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, t(\"No Record Found\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row w-00 pl-5 pr-5 mt-2 overflow-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, data_list && data_list.length > 0 && data_list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 mb-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 border rounded p-3 accordion-menu\",\n        onClick: () => this.handleAccordion(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, item.itemdesc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, item.quantity), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 23\n        }\n      }, item.price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 23\n        }\n      }, item.discount_amt), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 23\n        }\n      }, item.discount_price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }\n      }, item.trans_amt), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 23\n        }\n      }, item.deposit), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 23\n        }\n      }, item.sales_staffs)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 rounded bg-light p-3 d-none accordion\",\n        id: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 pl-3 mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text fs-17 pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 27\n        }\n      }, t(\"Item Status\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalSelect, {\n        options: item_status_options,\n        value: item.itemstatus ? item.itemstatus : 0,\n        name: \"itemstatus\",\n        onChange: e => this.handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 29\n        }\n      }))), item.is_foc ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text fs-17 pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 31\n        }\n      }, t(\"FOC Reason\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalSelect, {\n        options: focReasonList,\n        value: item.focreason ? item.focreason : 0,\n        name: \"focreason\",\n        onChange: e => this.handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group mt-4 pt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: item.is_foc,\n        name: \"is_foc\",\n        onChange: e => this.handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text fs-17 mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 33\n        }\n      }, t(\"FOC\"))))) : null)));\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  basicApptDetail: state.appointment.basicApptDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const ItemStatusPopup = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(itemStatusPopupClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/itemStatusPopup.js"],"names":["React","Component","NormalInput","NormalButton","NormalSelect","connect","bindActionCreators","getCommonApi","commonCreateApi","withTranslation","itemStatusPopupClass","state","data_list","item_status_options","focReasonList","sourceList","getStatusList","basicApptDetail","props","custId","id","then","key","status","data","console","log","setState","length","document","getElementById","classList","toggle","handleSubmit","value","push","itemstatus","focreason","handleModal","handleChange","e","index","target","name","Number","handleAccordion","elements","getElementsByClassName","i","add","componentDidMount","label","foc_reason_ldesc","status_short_desc","render","t","map","item","itemdesc","quantity","price","discount_amt","discount_price","trans_amt","deposit","sales_staffs","is_foc","mapStateToProps","appointment","mapDispatchToProps","dispatch","ItemStatusPopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalInput, NormalButton, NormalSelect } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\n\r\nimport \"./style.scss\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class itemStatusPopupClass extends Component {\r\n  state = {\r\n    data_list: [],\r\n    item_status_options: [],\r\n    focReasonList: [],\r\n    sourceList: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    let { item_status_options, focReasonList } = this.state;\r\n\r\n    this.props.getCommonApi(`focreason/`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          focReasonList.push({\r\n            value: Number(value.id),\r\n            label: value.foc_reason_ldesc,\r\n          });\r\n        }\r\n        this.setState({ focReasonList });\r\n      }\r\n    });\r\n    this.props.getCommonApi(`itemstatus/`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          item_status_options.push({\r\n            value: Number(value.id),\r\n            label: value.status_short_desc,\r\n          });\r\n        }\r\n        this.setState({ item_status_options });\r\n      }\r\n    });\r\n    this.getStatusList();\r\n  }\r\n  getStatusList = () => {\r\n    let { data_list } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    this.props\r\n      .getCommonApi(\r\n        `cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_status=1`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == \"200\") {\r\n          console.log(key, \"cartstatuspopuplist\");\r\n          data_list = data;\r\n          await this.setState({\r\n            data_list,\r\n          });\r\n          if (this.state.data_list.length > 0) {\r\n            document\r\n              .getElementById(this.state.data_list[0].id)\r\n              .classList.toggle(\"d-none\");\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { data_list, sourceList } = this.state;\r\n\r\n    for (let value of data_list) {\r\n      sourceList.push({\r\n        id: value.id,\r\n        itemstatus: value.itemstatus,\r\n        focreason: value.focreason,\r\n      });\r\n    }\r\n\r\n    this.props.commonCreateApi(`cartpopup/`, sourceList).then(key => {\r\n      let { status, data } = key;\r\n      if (status == 200) {\r\n        this.props.handleModal();\r\n      }\r\n    });\r\n  };\r\n\r\n  handleChange = (e, index) => {\r\n    let { data_list } = this.state;\r\n    let data = e.target.value;\r\n    if ([e.target.name] == \"itemstatus\" || [e.target.name] == \"focreason\") {\r\n      data_list[index][e.target.name] = Number(data);\r\n    } else {\r\n      data_list[index][e.target.name] = data;\r\n    }\r\n    this.setState({ data_list });\r\n  };\r\n\r\n  handleAccordion = id => {\r\n    let elements = document.getElementsByClassName(\"accordion\");\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].classList.add(\"d-none\");\r\n    }\r\n    document.getElementById(id).classList.toggle(\"d-none\");\r\n    console.log(elements);\r\n  };\r\n\r\n  render() {\r\n    let { data_list, item_status_options, focReasonList } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4 mt-2 product-details\">\r\n          <div className=\"row\">\r\n            <div className=\"col-10\">\r\n              <h4>{t(\"Item Status\")}</h4>\r\n            </div>\r\n            {data_list && data_list.length > 0 ? (\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  mainbg={false}\r\n                  className=\"col-12 fs-15 submit-btn\"\r\n                  label=\"Done\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"row w-100 pl-3 pr-5 mt-2 fw-500 h6\">\r\n            <div className=\"col-3\">{`Item`}</div>\r\n            <div className=\"col-1 text-center\">{t(`Qty`)}</div>\r\n            <div className=\"col text-right\">{t(`Unit Price`)}</div>\r\n            <div className=\"col text-right\">{t(`Disc.`)} $</div>\r\n            <div className=\"col text-right\">{t(`D/Price`)}</div>\r\n            <div className=\"col text-right\">{t(`Amount`)}</div>\r\n            <div className=\"col text-right\">{t(`Deposit`)}</div>\r\n            <div className=\"col-2\">{`Staff`}</div>\r\n          </div>\r\n          {data_list && data_list.length <= 0 ? (\r\n            <div className=\"row pl-5 pr-5 mt-2\">{t(\"No Record Found\")}</div>\r\n          ) : null}\r\n          <div className=\"row w-00 pl-5 pr-5 mt-2 overflow-auto\">\r\n            {data_list &&\r\n              data_list.length > 0 &&\r\n              data_list.map((item, index) => {\r\n                return (\r\n                  <div className=\"row w-100 mb-2\" key={index}>\r\n                    <div\r\n                      className=\"row w-100 border rounded p-3 accordion-menu\"\r\n                      onClick={() => this.handleAccordion(item.id)}\r\n                    >\r\n                      <div className=\"col-3\">{item.itemdesc}</div>\r\n                      <div className=\"col-1 text-center\">\r\n                        {/* <NormalInput\r\n                          name=\"quantity\"\r\n                          type=\"number\"\r\n                          value={item.quantity}\r\n                          onChange={e => this.handleChange(e, index)}\r\n                        /> */}\r\n                        {item.quantity}\r\n                      </div>\r\n                      <div className=\"col text-right\">{item.price}</div>\r\n                      <div className=\"col text-right\">{item.discount_amt}</div>\r\n                      <div className=\"col text-right\">\r\n                        {item.discount_price}\r\n                      </div>\r\n                      <div className=\"col text-right\">{item.trans_amt}</div>\r\n                      <div className=\"col text-right\">{item.deposit}</div>\r\n                      <div className=\"col-2\">{item.sales_staffs}</div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row w-100 rounded bg-light p-3 d-none accordion\"\r\n                      id={item.id}\r\n                    >\r\n                      <div className=\"row w-100 pl-3 mb-3\">\r\n                        <div className=\"col-4\">\r\n                          <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                            {t(\"Item Status\")}\r\n                          </label>\r\n                          <div className=\"input-group\">\r\n                            <NormalSelect\r\n                              options={item_status_options}\r\n                              value={item.itemstatus ? item.itemstatus : 0}\r\n                              name=\"itemstatus\"\r\n                              onChange={e => this.handleChange(e, index)}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        {item.is_foc ? (\r\n                          <>\r\n                            <div className=\"col-4\">\r\n                              <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                                {t(\"FOC Reason\")}\r\n                              </label>\r\n                              <div className=\"input-group\">\r\n                                <NormalSelect\r\n                                  options={focReasonList}\r\n                                  value={item.focreason ? item.focreason : 0}\r\n                                  name=\"focreason\"\r\n                                  onChange={e => this.handleChange(e, index)}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                              <div className=\"input-group mt-4 pt-3\">\r\n                                <div className=\"p-2\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={item.is_foc}\r\n                                    name=\"is_foc\"\r\n                                    onChange={e => this.handleChange(e, index)}\r\n                                  />\r\n                                </div>\r\n                                <label className=\"text-left text-black common-label-text fs-17 mt-1\">\r\n                                  {t(\"FOC\")}\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          </>\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const ItemStatusPopup = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(itemStatusPopupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}