{"ast":null,"code":"/**\r\n * DevExtreme (viz/chart_components/advanced_chart.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.AdvancedChart = void 0;\n\nvar _extend2 = require(\"../../core/utils/extend\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _range = require(\"../translators/range\");\n\nvar _base_axis = require(\"../axes/base_axis\");\n\nvar _series_family = require(\"../core/series_family\");\n\nvar _base_chart = require(\"./base_chart\");\n\nvar _crosshair = require(\"./crosshair\");\n\nvar _range_data_calculator = _interopRequireDefault(require(\"../series/helpers/range_data_calculator\"));\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _utils = require(\"../core/utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else {\n      if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar _isArray = Array.isArray;\nvar DEFAULT_AXIS_NAME = \"defaultAxisName\";\nvar FONT = \"font\";\nvar COMMON_AXIS_SETTINGS = \"commonAxisSettings\";\nvar DEFAULT_PANE_NAME = \"default\";\nvar VISUAL_RANGE = \"VISUAL_RANGE\";\n\nfunction prepareAxis(axisOptions) {\n  return _isArray(axisOptions) ? 0 === axisOptions.length ? [{}] : axisOptions : [axisOptions];\n}\n\nfunction processBubbleMargin(opt, bubbleSize) {\n  if (opt.processBubbleSize) {\n    opt.size = bubbleSize;\n  }\n\n  return opt;\n}\n\nfunction estimateBubbleSize(size, panesCount, maxSize, rotated) {\n  var width = rotated ? size.width / panesCount : size.width;\n  var height = rotated ? size.height : size.height / panesCount;\n  return Math.min(width, height) * maxSize;\n}\n\nfunction setAxisVisualRangeByOption(arg, axis, isDirectOption, index) {\n  var options;\n  var visualRange;\n\n  if (isDirectOption) {\n    visualRange = arg.value;\n    options = {\n      skipEventRising: true\n    };\n    var pathElements = arg.fullName.split(\".\");\n    var destElem = pathElements[pathElements.length - 1];\n\n    if (\"endValue\" === destElem || \"startValue\" === destElem) {\n      options = {\n        allowPartialUpdate: true\n      };\n      visualRange = _defineProperty({}, destElem, arg.value);\n    }\n  } else {\n    visualRange = ((0, _type.isDefined)(index) ? arg.value[index] : arg.value).visualRange;\n  }\n\n  axis.visualRange(visualRange, options);\n}\n\nfunction getAxisTypes(groupsData, axis, isArgumentAxes) {\n  if (isArgumentAxes) {\n    return {\n      argumentAxisType: groupsData.argumentAxisType,\n      argumentType: groupsData.argumentType\n    };\n  }\n\n  var _groupsData$groups$fi = groupsData.groups.filter(function (g) {\n    return g.valueAxis === axis;\n  })[0],\n      valueAxisType = _groupsData$groups$fi.valueAxisType,\n      valueType = _groupsData$groups$fi.valueType;\n  return {\n    valueAxisType: valueAxisType,\n    valueType: valueType\n  };\n}\n\nvar AdvancedChart = _base_chart.BaseChart.inherit({\n  _fontFields: [COMMON_AXIS_SETTINGS + \".label.\" + FONT, COMMON_AXIS_SETTINGS + \".title.\" + FONT],\n  _partialOptionChangesMap: {\n    visualRange: VISUAL_RANGE,\n    _customVisualRange: VISUAL_RANGE,\n    strips: \"REFRESH_AXES\",\n    constantLines: \"REFRESH_AXES\"\n  },\n  _partialOptionChangesPath: {\n    argumentAxis: [\"strips\", \"constantLines\", \"visualRange\", \"_customVisualRange\"],\n    valueAxis: [\"strips\", \"constantLines\", \"visualRange\", \"_customVisualRange\"]\n  },\n  _initCore: function () {\n    this._panesClipRects = {};\n    this.callBase();\n  },\n  _disposeCore: function () {\n    var disposeObjectsInArray = this._disposeObjectsInArray;\n    var panesClipRects = this._panesClipRects;\n    this.callBase();\n    disposeObjectsInArray.call(panesClipRects, \"fixed\");\n    disposeObjectsInArray.call(panesClipRects, \"base\");\n    disposeObjectsInArray.call(panesClipRects, \"wide\");\n    this._panesClipRects = null;\n  },\n  _dispose: function () {\n    var that = this;\n    var disposeObjectsInArray = this._disposeObjectsInArray;\n    that.callBase();\n    that.panes = null;\n\n    if (that._legend) {\n      that._legend.dispose();\n\n      that._legend = null;\n    }\n\n    disposeObjectsInArray.call(that, \"panesBackground\");\n    disposeObjectsInArray.call(that, \"seriesFamilies\");\n\n    that._disposeAxes();\n  },\n  _createPanes: function () {\n    this._cleanPanesClipRects(\"fixed\");\n\n    this._cleanPanesClipRects(\"base\");\n\n    this._cleanPanesClipRects(\"wide\");\n  },\n  _cleanPanesClipRects: function (clipArrayName) {\n    var clipArray = this._panesClipRects[clipArrayName];\n    (clipArray || []).forEach(function (clipRect) {\n      return clipRect && clipRect.dispose();\n    });\n    this._panesClipRects[clipArrayName] = [];\n  },\n  _getElementsClipRectID: function (paneName) {\n    var clipShape = this._panesClipRects.fixed[this._getPaneIndex(paneName)];\n\n    return clipShape && clipShape.id;\n  },\n  _getPaneIndex: function (paneName) {\n    var paneIndex;\n    var name = paneName || DEFAULT_PANE_NAME;\n    (0, _iterator.each)(this.panes, function (index, pane) {\n      if (pane.name === name) {\n        paneIndex = index;\n        return false;\n      }\n    });\n    return paneIndex;\n  },\n  _updateSize: function () {\n    this.callBase();\n    (0, _utils.setCanvasValues)(this._canvas);\n  },\n  _reinitAxes: function () {\n    this.panes = this._createPanes();\n\n    this._populateAxes();\n\n    this._axesReinitialized = true;\n  },\n  _getCrosshairMargins: function () {\n    var crosshairOptions = this._getCrosshairOptions() || {};\n    var crosshairEnabled = crosshairOptions.enabled;\n    var margins = (0, _crosshair.getMargins)();\n    return {\n      x: crosshairEnabled && crosshairOptions.horizontalLine.visible ? margins.x : 0,\n      y: crosshairEnabled && crosshairOptions.verticalLine.visible ? margins.y : 0\n    };\n  },\n  _populateAxes: function () {\n    var that = this;\n    var panes = that.panes;\n\n    var rotated = that._isRotated();\n\n    var argumentAxesOptions = prepareAxis(that.option(\"argumentAxis\") || {})[0];\n    var valueAxisOption = that.option(\"valueAxis\");\n    var valueAxesOptions = prepareAxis(valueAxisOption || {});\n    var argumentAxesPopulatedOptions = [];\n    var valueAxesPopulatedOptions = [];\n    var axisNames = [];\n    var valueAxesCounter = 0;\n    var paneWithNonVirtualAxis;\n\n    var crosshairMargins = that._getCrosshairMargins();\n\n    function getNextAxisName() {\n      return DEFAULT_AXIS_NAME + valueAxesCounter++;\n    }\n\n    if (rotated) {\n      paneWithNonVirtualAxis = \"right\" === argumentAxesOptions.position ? panes[panes.length - 1].name : panes[0].name;\n    } else {\n      paneWithNonVirtualAxis = \"top\" === argumentAxesOptions.position ? panes[0].name : panes[panes.length - 1].name;\n    }\n\n    argumentAxesPopulatedOptions = (0, _utils.map)(panes, function (pane) {\n      var virtual = pane.name !== paneWithNonVirtualAxis;\n      return that._populateAxesOptions(\"argumentAxis\", argumentAxesOptions, {\n        pane: pane.name,\n        name: null,\n        optionPath: \"argumentAxis\",\n        crosshairMargin: rotated ? crosshairMargins.x : crosshairMargins.y\n      }, rotated, virtual);\n    });\n    (0, _iterator.each)(valueAxesOptions, function (priority, axisOptions) {\n      var _axisOptions$panes;\n\n      var axisPanes = [];\n      var name = axisOptions.name;\n\n      if (name && (0, _array.inArray)(name, axisNames) !== -1) {\n        that._incidentOccurred(\"E2102\");\n\n        return;\n      }\n\n      name && axisNames.push(name);\n\n      if (axisOptions.pane) {\n        axisPanes.push(axisOptions.pane);\n      }\n\n      if (null !== (_axisOptions$panes = axisOptions.panes) && void 0 !== _axisOptions$panes && _axisOptions$panes.length) {\n        axisPanes = axisPanes.concat(axisOptions.panes.slice(0));\n      }\n\n      axisPanes = (0, _utils.unique)(axisPanes);\n\n      if (!axisPanes.length) {\n        axisPanes.push(void 0);\n      }\n\n      (0, _iterator.each)(axisPanes, function (_, pane) {\n        var optionPath = _isArray(valueAxisOption) ? \"valueAxis[\".concat(priority, \"]\") : \"valueAxis\";\n        valueAxesPopulatedOptions.push(that._populateAxesOptions(\"valueAxis\", axisOptions, {\n          name: name || getNextAxisName(),\n          pane: pane,\n          priority: priority,\n          optionPath: optionPath,\n          crosshairMargin: rotated ? crosshairMargins.y : crosshairMargins.x\n        }, rotated));\n      });\n    });\n\n    that._redesignAxes(argumentAxesPopulatedOptions, true, paneWithNonVirtualAxis);\n\n    that._redesignAxes(valueAxesPopulatedOptions, false);\n  },\n  _redesignAxes: function (options, isArgumentAxes, paneWithNonVirtualAxis) {\n    var that = this;\n    var axesBasis = [];\n    var axes = isArgumentAxes ? that._argumentAxes : that._valueAxes;\n    (0, _iterator.each)(options, function (_, opt) {\n      var curAxes = axes && axes.filter(function (a) {\n        return a.name === opt.name && (!(0, _type.isDefined)(opt.pane) && that.panes.some(function (p) {\n          return p.name === a.pane;\n        }) || a.pane === opt.pane);\n      });\n\n      if (curAxes && curAxes.length > 0) {\n        (0, _iterator.each)(curAxes, function (_, axis) {\n          var axisTypes = getAxisTypes(that._groupsData, axis, isArgumentAxes);\n          axis.updateOptions(opt);\n\n          if (isArgumentAxes) {\n            axis.setTypes(axisTypes.argumentAxisType, axisTypes.argumentType, \"argumentType\");\n          } else {\n            axis.setTypes(axisTypes.valueAxisType, axisTypes.valueType, \"valueType\");\n          }\n\n          axis.validate();\n          axesBasis.push({\n            axis: axis\n          });\n        });\n      } else {\n        axesBasis.push({\n          options: opt\n        });\n      }\n    });\n\n    if (axes) {\n      (0, _iterator.reverseEach)(axes, function (index, axis) {\n        if (!axesBasis.some(function (basis) {\n          return basis.axis && basis.axis === axis;\n        })) {\n          that._disposeAxis(index, isArgumentAxes);\n        }\n      });\n    } else {\n      if (isArgumentAxes) {\n        axes = that._argumentAxes = [];\n      } else {\n        axes = that._valueAxes = [];\n      }\n    }\n\n    (0, _iterator.each)(axesBasis, function (_, basis) {\n      var axis = basis.axis;\n\n      if (basis.axis && isArgumentAxes) {\n        basis.axis.isVirtual = basis.axis.pane !== paneWithNonVirtualAxis;\n      } else {\n        if (basis.options) {\n          axis = that._createAxis(isArgumentAxes, basis.options, isArgumentAxes ? basis.options.pane !== paneWithNonVirtualAxis : void 0);\n          axes.push(axis);\n        }\n      }\n\n      axis.applyVisualRangeSetter(that._getVisualRangeSetter());\n    });\n  },\n  _disposeAxis: function (index, isArgumentAxis) {\n    var axes = isArgumentAxis ? this._argumentAxes : this._valueAxes;\n    var axis = axes[index];\n\n    if (!axis) {\n      return;\n    }\n\n    axis.dispose();\n    axes.splice(index, 1);\n  },\n  _disposeAxes: function () {\n    var that = this;\n    var disposeObjectsInArray = that._disposeObjectsInArray;\n    disposeObjectsInArray.call(that, \"_argumentAxes\");\n    disposeObjectsInArray.call(that, \"_valueAxes\");\n  },\n  _appendAdditionalSeriesGroups: function () {\n    this._crosshairCursorGroup.linkAppend();\n\n    this._scrollBar && this._scrollBarGroup.linkAppend();\n  },\n  _getLegendTargets: function () {\n    var _this = this;\n\n    return (this.series || []).map(function (s) {\n      var item = _this._getLegendOptions(s);\n\n      item.legendData.series = s;\n\n      if (!s.getOptions().showInLegend) {\n        item.legendData.visible = false;\n      }\n\n      return item;\n    });\n  },\n  _legendItemTextField: \"name\",\n  _seriesPopulatedHandlerCore: function () {\n    this._processSeriesFamilies();\n\n    this._processValueAxisFormat();\n  },\n  _renderTrackers: function () {\n    var that = this;\n    var i;\n\n    for (i = 0; i < that.series.length; ++i) {\n      that.series[i].drawTrackers();\n    }\n  },\n  _specialProcessSeries: function () {\n    this._processSeriesFamilies();\n  },\n  _processSeriesFamilies: function () {\n    var _that$seriesFamilies;\n\n    var that = this;\n    var types = [];\n    var families = [];\n    var paneSeries;\n    var themeManager = that._themeManager;\n    var negativesAsZeroes = themeManager.getOptions(\"negativesAsZeroes\");\n    var negativesAsZeros = themeManager.getOptions(\"negativesAsZeros\");\n    var familyOptions = {\n      minBubbleSize: themeManager.getOptions(\"minBubbleSize\"),\n      maxBubbleSize: themeManager.getOptions(\"maxBubbleSize\"),\n      barGroupPadding: themeManager.getOptions(\"barGroupPadding\"),\n      barGroupWidth: themeManager.getOptions(\"barGroupWidth\"),\n      negativesAsZeroes: (0, _type.isDefined)(negativesAsZeroes) ? negativesAsZeroes : negativesAsZeros\n    };\n\n    if (null !== (_that$seriesFamilies = that.seriesFamilies) && void 0 !== _that$seriesFamilies && _that$seriesFamilies.length) {\n      (0, _iterator.each)(that.seriesFamilies, function (_, family) {\n        family.updateOptions(familyOptions);\n        family.adjustSeriesValues();\n      });\n      return;\n    }\n\n    (0, _iterator.each)(that.series, function (_, item) {\n      if ((0, _array.inArray)(item.type, types) === -1) {\n        types.push(item.type);\n      }\n    });\n    (0, _iterator.each)(that._getLayoutTargets(), function (_, pane) {\n      paneSeries = that._getSeriesForPane(pane.name);\n      (0, _iterator.each)(types, function (_, type) {\n        var family = new _series_family.SeriesFamily({\n          type: type,\n          pane: pane.name,\n          minBubbleSize: familyOptions.minBubbleSize,\n          maxBubbleSize: familyOptions.maxBubbleSize,\n          barGroupPadding: familyOptions.barGroupPadding,\n          barGroupWidth: familyOptions.barGroupWidth,\n          negativesAsZeroes: familyOptions.negativesAsZeroes,\n          rotated: that._isRotated()\n        });\n        family.add(paneSeries);\n        family.adjustSeriesValues();\n        families.push(family);\n      });\n    });\n    that.seriesFamilies = families;\n  },\n  _updateSeriesDimensions: function () {\n    var that = this;\n    var i;\n    var seriesFamilies = that.seriesFamilies || [];\n\n    for (i = 0; i < seriesFamilies.length; i++) {\n      var family = seriesFamilies[i];\n      family.updateSeriesValues();\n      family.adjustSeriesDimensions();\n    }\n  },\n  _getLegendCallBack: function (series) {\n    return this._legend && this._legend.getActionCallback(series);\n  },\n  _appendAxesGroups: function () {\n    var that = this;\n\n    that._stripsGroup.linkAppend();\n\n    that._gridGroup.linkAppend();\n\n    that._axesGroup.linkAppend();\n\n    that._constantLinesGroup.linkAppend();\n\n    that._labelAxesGroup.linkAppend();\n\n    that._scaleBreaksGroup.linkAppend();\n  },\n  _populateMarginOptions: function () {\n    var that = this;\n    var bubbleSize = estimateBubbleSize(that.getSize(), that.panes.length, that._themeManager.getOptions(\"maxBubbleSize\"), that._isRotated());\n    var argumentMarginOptions = {};\n\n    that._valueAxes.forEach(function (valueAxis) {\n      var groupSeries = that.series.filter(function (series) {\n        return series.getValueAxis() === valueAxis;\n      });\n      var marginOptions = {};\n      groupSeries.forEach(function (series) {\n        if (series.isVisible()) {\n          var seriesMarginOptions = processBubbleMargin(series.getMarginOptions(), bubbleSize);\n          marginOptions = (0, _utils.mergeMarginOptions)(marginOptions, seriesMarginOptions);\n          argumentMarginOptions = (0, _utils.mergeMarginOptions)(argumentMarginOptions, seriesMarginOptions);\n        }\n      });\n      valueAxis.setMarginOptions(marginOptions);\n    });\n\n    that._argumentAxes.forEach(function (a) {\n      return a.setMarginOptions(argumentMarginOptions);\n    });\n  },\n  _populateBusinessRange: function (updatedAxis, keepRange) {\n    var that = this;\n\n    var rotated = that._isRotated();\n\n    var series = that._getVisibleSeries();\n\n    var argRanges = {};\n    var commonArgRange = new _range.Range({\n      rotated: !!rotated\n    });\n\n    var getPaneName = function (axis) {\n      return axis.pane || DEFAULT_PANE_NAME;\n    };\n\n    that.panes.forEach(function (p) {\n      return argRanges[p.name] = new _range.Range({\n        rotated: !!rotated\n      });\n    });\n\n    that._valueAxes.forEach(function (valueAxis) {\n      var groupRange = new _range.Range({\n        rotated: !!rotated,\n        pane: valueAxis.pane,\n        axis: valueAxis.name\n      });\n      var groupSeries = series.filter(function (series) {\n        return series.getValueAxis() === valueAxis;\n      });\n      groupSeries.forEach(function (series) {\n        var seriesRange = series.getRangeData();\n        groupRange.addRange(seriesRange.val);\n        argRanges[getPaneName(valueAxis)].addRange(seriesRange.arg);\n      });\n\n      if (!updatedAxis || updatedAxis && groupSeries.length && valueAxis === updatedAxis) {\n        valueAxis.setGroupSeries(groupSeries);\n        valueAxis.setBusinessRange(groupRange, that._axesReinitialized || keepRange, that._argumentAxes[0]._lastVisualRangeUpdateMode);\n      }\n    });\n\n    if (!updatedAxis || updatedAxis && series.length) {\n      Object.keys(argRanges).forEach(function (p) {\n        return commonArgRange.addRange(argRanges[p]);\n      });\n      var commonInterval = commonArgRange.interval;\n\n      that._argumentAxes.forEach(function (a) {\n        var _argRanges$getPaneNam;\n\n        var currentInterval = null !== (_argRanges$getPaneNam = argRanges[getPaneName(a)].interval) && void 0 !== _argRanges$getPaneNam ? _argRanges$getPaneNam : commonInterval;\n        a.setBusinessRange(new _range.Range(_objectSpread(_objectSpread({}, commonArgRange), {}, {\n          interval: currentInterval\n        })), that._axesReinitialized, void 0, that._groupsData.categories);\n      });\n    }\n\n    that._populateMarginOptions();\n  },\n  getArgumentAxis: function () {\n    return (this._argumentAxes || []).filter(function (a) {\n      return !a.isVirtual;\n    })[0];\n  },\n  getValueAxis: function (name) {\n    var _this2 = this;\n\n    return (this._valueAxes || []).filter((0, _type.isDefined)(name) ? function (a) {\n      return a.name === name;\n    } : function (a) {\n      return a.pane === _this2.defaultPane;\n    })[0];\n  },\n  _getGroupsData: function () {\n    var that = this;\n    var groups = [];\n\n    that._valueAxes.forEach(function (axis) {\n      groups.push({\n        series: that.series.filter(function (series) {\n          return series.getValueAxis() === axis;\n        }),\n        valueAxis: axis,\n        valueOptions: axis.getOptions()\n      });\n    });\n\n    return {\n      groups: groups,\n      argumentAxes: that._argumentAxes,\n      argumentOptions: that._argumentAxes[0].getOptions()\n    };\n  },\n  _groupSeries: function () {\n    var that = this;\n\n    that._correctValueAxes(false);\n\n    that._groupsData = that._getGroupsData();\n  },\n  _processValueAxisFormat: function () {\n    var axesWithFullStackedFormat = [];\n    this.series.forEach(function (series) {\n      var axis = series.getValueAxis();\n\n      if (series.isFullStackedSeries()) {\n        axis.setPercentLabelFormat();\n        axesWithFullStackedFormat.push(axis);\n      }\n    });\n\n    this._valueAxes.forEach(function (axis) {\n      if (axesWithFullStackedFormat.indexOf(axis) === -1) {\n        axis.resetAutoLabelFormat();\n      }\n    });\n  },\n  _populateAxesOptions: function (typeSelector, userOptions, axisOptions, rotated, virtual) {\n    var that = this;\n\n    var preparedUserOptions = that._prepareStripsAndConstantLines(typeSelector, userOptions, rotated);\n\n    var options = (0, _extend2.extend)(true, {}, preparedUserOptions, axisOptions, that._prepareAxisOptions(typeSelector, preparedUserOptions, rotated));\n\n    if (virtual) {\n      options.visible = options.tick.visible = options.minorTick.visible = options.label.visible = false;\n      options.title = {};\n    }\n\n    return options;\n  },\n  _getValFilter: function (series) {\n    return _range_data_calculator.default.getViewPortFilter(series.getValueAxis().visualRange() || {});\n  },\n  _createAxis: function (isArgumentAxes, options, virtual) {\n    var that = this;\n    var typeSelector = isArgumentAxes ? \"argumentAxis\" : \"valueAxis\";\n    var renderingSettings = (0, _extend2.extend)({\n      renderer: that._renderer,\n      incidentOccurred: that._incidentOccurred,\n      eventTrigger: that._eventTrigger,\n      axisClass: isArgumentAxes ? \"arg\" : \"val\",\n      widgetClass: \"dxc\",\n      stripsGroup: that._stripsGroup,\n      labelAxesGroup: that._labelAxesGroup,\n      constantLinesGroup: that._constantLinesGroup,\n      scaleBreaksGroup: that._scaleBreaksGroup,\n      axesContainerGroup: that._axesGroup,\n      gridGroup: that._gridGroup,\n      isArgumentAxis: isArgumentAxes,\n      getTemplate: function () {\n        return that._getTemplate(options.label.template);\n      }\n    }, that._getAxisRenderingOptions(typeSelector));\n    var axis = new _base_axis.Axis(renderingSettings);\n    axis.updateOptions(options);\n    axis.isVirtual = virtual;\n    return axis;\n  },\n  _applyVisualRangeByVirtualAxes: function (axis, range) {\n    return false;\n  },\n  _applyCustomVisualRangeOption: function (axis, range) {\n    var that = this;\n\n    if (axis.getOptions().optionPath) {\n      that._parseVisualRangeOption(\"\".concat(axis.getOptions().optionPath, \".visualRange\"), range);\n    }\n  },\n  _getVisualRangeSetter: function () {\n    var chart = this;\n    return function (axis, _ref) {\n      var skipEventRising = _ref.skipEventRising,\n          range = _ref.range;\n\n      chart._applyCustomVisualRangeOption(axis, range);\n\n      axis.setCustomVisualRange(range);\n      axis.skipEventRising = skipEventRising;\n\n      if (!chart._applyVisualRangeByVirtualAxes(axis, range)) {\n        if (chart._applyingChanges) {\n          chart._change_VISUAL_RANGE();\n        } else {\n          chart._requestChange([VISUAL_RANGE]);\n        }\n      }\n    };\n  },\n  _getTrackerSettings: function () {\n    return (0, _extend2.extend)(this.callBase(), {\n      argumentAxis: this.getArgumentAxis()\n    });\n  },\n  _prepareStripsAndConstantLines: function (typeSelector, userOptions, rotated) {\n    userOptions = this._themeManager.getOptions(typeSelector, userOptions, rotated);\n\n    if (userOptions.strips) {\n      (0, _iterator.each)(userOptions.strips, function (i) {\n        userOptions.strips[i] = (0, _extend2.extend)(true, {}, userOptions.stripStyle, userOptions.strips[i]);\n      });\n    }\n\n    if (userOptions.constantLines) {\n      (0, _iterator.each)(userOptions.constantLines, function (i, line) {\n        userOptions.constantLines[i] = (0, _extend2.extend)(true, {}, userOptions.constantLineStyle, line);\n      });\n    }\n\n    return userOptions;\n  },\n  refresh: function () {\n    this._disposeAxes();\n\n    this.callBase();\n  },\n  _layoutAxes: function (drawAxes) {\n    var that = this;\n    drawAxes();\n    var needSpace = that.checkForMoreSpaceForPanesCanvas();\n\n    if (needSpace) {\n      var rect = this._rect.slice();\n\n      var size = this._layout.backward(rect, rect, [needSpace.width, needSpace.height]);\n\n      needSpace.width = Math.max(0, size[0]);\n      needSpace.height = Math.max(0, size[1]);\n      this._canvas = this._createCanvasFromRect(rect);\n      drawAxes(needSpace);\n    }\n  },\n  checkForMoreSpaceForPanesCanvas: function () {\n    return this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(), this._isRotated());\n  },\n  _parseVisualRangeOption: function (fullName, value) {\n    var that = this;\n    var name = fullName.split(/[.[]/)[0];\n    var index = fullName.match(/\\d+/g);\n    index = (0, _type.isDefined)(index) ? parseInt(index[0]) : index;\n\n    if (fullName.indexOf(\"visualRange\") > 0) {\n      that._setCustomVisualRange(name, index, value);\n    } else {\n      if ((\"object\" === (0, _type.type)(value) || _isArray(value)) && name.indexOf(\"Axis\") > 0 && JSON.stringify(value).indexOf(\"visualRange\") > 0) {\n        if ((0, _type.isDefined)(value.visualRange)) {\n          that._setCustomVisualRange(name, index, value.visualRange);\n        } else {\n          if (_isArray(value)) {\n            value.forEach(function (a, i) {\n              return (0, _type.isDefined)(a.visualRange) && that._setCustomVisualRange(name, i, a.visualRange);\n            });\n          }\n        }\n      }\n    }\n  },\n  _setCustomVisualRange: function (axesName, index, value) {\n    var that = this;\n\n    var options = that._options.silent(axesName);\n\n    if (!options) {\n      return;\n    }\n\n    if (!(0, _type.isDefined)(index)) {\n      options._customVisualRange = value;\n    } else {\n      options[index]._customVisualRange = value;\n    }\n\n    that._axesReinitialized = true;\n  },\n  _raiseZoomEndHandlers: function () {\n    this._valueAxes.forEach(function (axis) {\n      return axis.handleZoomEnd();\n    });\n  },\n  _setOptionsByReference: function () {\n    this.callBase();\n    (0, _extend2.extend)(this._optionsByReference, {\n      \"valueAxis.visualRange\": true\n    });\n  },\n  _notifyOptionChanged: function (option, value, previousValue) {\n    this.callBase.apply(this, arguments);\n\n    if (!this._optionChangedLocker) {\n      this._parseVisualRangeOption(option, value);\n    }\n  },\n  _notifyVisualRange: function () {\n    var that = this;\n\n    that._valueAxes.forEach(function (axis) {\n      if (axis.getOptions().optionPath) {\n        var path = \"\".concat(axis.getOptions().optionPath, \".visualRange\");\n        var visualRange = (0, _utils.convertVisualRangeObject)(axis.visualRange(), !_isArray(that.option(path)));\n\n        if (!axis.skipEventRising || !(0, _utils.rangesAreEqual)(visualRange, that.option(path))) {\n          that.option(path, visualRange);\n        } else {\n          axis.skipEventRising = null;\n        }\n      }\n    });\n  },\n  _notify: function () {\n    this.callBase();\n    this._axesReinitialized = false;\n\n    if (true !== this.option(\"disableTwoWayBinding\")) {\n      this._notifyVisualRange();\n    }\n  },\n  _getAxesForScaling: function () {\n    return this._valueAxes;\n  },\n  _getAxesByOptionPath: function (arg, isDirectOption, optionName) {\n    var that = this;\n\n    var sourceAxes = that._getAxesForScaling();\n\n    var axes = [];\n\n    if (isDirectOption) {\n      var axisPath;\n\n      if (arg.fullName) {\n        axisPath = arg.fullName.slice(0, arg.fullName.indexOf(\".\"));\n      }\n\n      axes = sourceAxes.filter(function (a) {\n        return a.getOptions().optionPath === axisPath;\n      });\n    } else {\n      if (\"object\" === (0, _type.type)(arg.value)) {\n        axes = sourceAxes.filter(function (a) {\n          return a.getOptions().optionPath === arg.name;\n        });\n      } else {\n        if (_isArray(arg.value)) {\n          arg.value.forEach(function (v, index) {\n            var axis = sourceAxes.filter(function (a) {\n              return a.getOptions().optionPath === \"\".concat(arg.name, \"[\").concat(index, \"]\");\n            })[0];\n            (0, _type.isDefined)(v[optionName]) && (0, _type.isDefined)(axis) && (axes[index] = axis);\n          });\n        }\n      }\n    }\n\n    return axes;\n  },\n  _optionChanged: function (arg) {\n    var that = this;\n\n    if (!that._optionChangedLocker) {\n      var optionName = \"visualRange\";\n      var axes;\n      var isDirectOption = arg.fullName.indexOf(optionName) > 0 ? true : that.getPartialChangeOptionsName(arg).indexOf(optionName) > -1 ? false : void 0;\n\n      if ((0, _type.isDefined)(isDirectOption)) {\n        axes = that._getAxesByOptionPath(arg, isDirectOption, optionName);\n\n        if (axes) {\n          if (axes.length > 1 || _isArray(arg.value)) {\n            axes.forEach(function (a, index) {\n              return setAxisVisualRangeByOption(arg, a, isDirectOption, index);\n            });\n          } else {\n            if (1 === axes.length) {\n              setAxisVisualRangeByOption(arg, axes[0], isDirectOption);\n            }\n          }\n        }\n      }\n    }\n\n    that.callBase(arg);\n  },\n  _change_VISUAL_RANGE: function () {\n    var that = this;\n\n    that._recreateSizeDependentObjects(false);\n\n    if (!that._changes.has(\"FULL_RENDER\")) {\n      var resizePanesOnZoom = that.option(\"resizePanesOnZoom\");\n\n      that._doRender({\n        force: true,\n        drawTitle: false,\n        drawLegend: false,\n        adjustAxes: null !== resizePanesOnZoom && void 0 !== resizePanesOnZoom ? resizePanesOnZoom : that.option(\"adjustAxesOnZoom\") || false,\n        animate: false\n      });\n\n      that._raiseZoomEndHandlers();\n    }\n  },\n  resetVisualRange: function () {\n    var that = this;\n\n    that._valueAxes.forEach(function (axis) {\n      axis.resetVisualRange(false);\n\n      that._applyCustomVisualRangeOption(axis);\n    });\n\n    that._requestChange([VISUAL_RANGE]);\n  },\n  _legendDataField: \"series\",\n  _adjustSeriesLabels: _common.noop,\n  _correctValueAxes: _common.noop\n});\n\nexports.AdvancedChart = AdvancedChart;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/chart_components/advanced_chart.js"],"names":["exports","AdvancedChart","_extend2","require","_array","_iterator","_range","_base_axis","_series_family","_base_chart","_crosshair","_range_data_calculator","_interopRequireDefault","_type","_common","_utils","obj","__esModule","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_isArray","Array","isArray","DEFAULT_AXIS_NAME","FONT","COMMON_AXIS_SETTINGS","DEFAULT_PANE_NAME","VISUAL_RANGE","prepareAxis","axisOptions","processBubbleMargin","opt","bubbleSize","processBubbleSize","size","estimateBubbleSize","panesCount","maxSize","rotated","width","height","Math","min","setAxisVisualRangeByOption","arg","axis","isDirectOption","index","options","visualRange","skipEventRising","pathElements","fullName","split","destElem","allowPartialUpdate","isDefined","getAxisTypes","groupsData","isArgumentAxes","argumentAxisType","argumentType","_groupsData$groups$fi","groups","g","valueAxis","valueAxisType","valueType","BaseChart","inherit","_fontFields","_partialOptionChangesMap","_customVisualRange","strips","constantLines","_partialOptionChangesPath","argumentAxis","_initCore","_panesClipRects","callBase","_disposeCore","disposeObjectsInArray","_disposeObjectsInArray","panesClipRects","call","_dispose","that","panes","_legend","dispose","_disposeAxes","_createPanes","_cleanPanesClipRects","clipArrayName","clipArray","clipRect","_getElementsClipRectID","paneName","clipShape","fixed","_getPaneIndex","id","paneIndex","name","each","pane","_updateSize","setCanvasValues","_canvas","_reinitAxes","_populateAxes","_axesReinitialized","_getCrosshairMargins","crosshairOptions","_getCrosshairOptions","crosshairEnabled","enabled","margins","getMargins","x","horizontalLine","visible","y","verticalLine","_isRotated","argumentAxesOptions","option","valueAxisOption","valueAxesOptions","argumentAxesPopulatedOptions","valueAxesPopulatedOptions","axisNames","valueAxesCounter","paneWithNonVirtualAxis","crosshairMargins","getNextAxisName","position","map","virtual","_populateAxesOptions","optionPath","crosshairMargin","priority","_axisOptions$panes","axisPanes","inArray","_incidentOccurred","concat","slice","unique","_","_redesignAxes","axesBasis","axes","_argumentAxes","_valueAxes","curAxes","a","some","p","axisTypes","_groupsData","updateOptions","setTypes","validate","reverseEach","basis","_disposeAxis","isVirtual","_createAxis","applyVisualRangeSetter","_getVisualRangeSetter","isArgumentAxis","splice","_appendAdditionalSeriesGroups","_crosshairCursorGroup","linkAppend","_scrollBar","_scrollBarGroup","_getLegendTargets","_this","series","s","item","_getLegendOptions","legendData","getOptions","showInLegend","_legendItemTextField","_seriesPopulatedHandlerCore","_processSeriesFamilies","_processValueAxisFormat","_renderTrackers","drawTrackers","_specialProcessSeries","_that$seriesFamilies","types","families","paneSeries","themeManager","_themeManager","negativesAsZeroes","negativesAsZeros","familyOptions","minBubbleSize","maxBubbleSize","barGroupPadding","barGroupWidth","seriesFamilies","family","adjustSeriesValues","type","_getLayoutTargets","_getSeriesForPane","SeriesFamily","add","_updateSeriesDimensions","updateSeriesValues","adjustSeriesDimensions","_getLegendCallBack","getActionCallback","_appendAxesGroups","_stripsGroup","_gridGroup","_axesGroup","_constantLinesGroup","_labelAxesGroup","_scaleBreaksGroup","_populateMarginOptions","getSize","argumentMarginOptions","groupSeries","getValueAxis","marginOptions","isVisible","seriesMarginOptions","getMarginOptions","mergeMarginOptions","setMarginOptions","_populateBusinessRange","updatedAxis","keepRange","_getVisibleSeries","argRanges","commonArgRange","Range","getPaneName","groupRange","seriesRange","getRangeData","addRange","val","setGroupSeries","setBusinessRange","_lastVisualRangeUpdateMode","commonInterval","interval","_argRanges$getPaneNam","currentInterval","categories","getArgumentAxis","_this2","defaultPane","_getGroupsData","valueOptions","argumentAxes","argumentOptions","_groupSeries","_correctValueAxes","axesWithFullStackedFormat","isFullStackedSeries","setPercentLabelFormat","indexOf","resetAutoLabelFormat","typeSelector","userOptions","preparedUserOptions","_prepareStripsAndConstantLines","extend","_prepareAxisOptions","tick","minorTick","label","title","_getValFilter","default","getViewPortFilter","renderingSettings","renderer","_renderer","incidentOccurred","eventTrigger","_eventTrigger","axisClass","widgetClass","stripsGroup","labelAxesGroup","constantLinesGroup","scaleBreaksGroup","axesContainerGroup","gridGroup","getTemplate","_getTemplate","template","_getAxisRenderingOptions","Axis","_applyVisualRangeByVirtualAxes","range","_applyCustomVisualRangeOption","_parseVisualRangeOption","chart","_ref","setCustomVisualRange","_applyingChanges","_change_VISUAL_RANGE","_requestChange","_getTrackerSettings","stripStyle","line","constantLineStyle","refresh","_layoutAxes","drawAxes","needSpace","checkForMoreSpaceForPanesCanvas","rect","_rect","_layout","backward","max","_createCanvasFromRect","layoutManager","needMoreSpaceForPanesCanvas","match","parseInt","_setCustomVisualRange","JSON","stringify","axesName","_options","silent","_raiseZoomEndHandlers","handleZoomEnd","_setOptionsByReference","_optionsByReference","_notifyOptionChanged","previousValue","_optionChangedLocker","_notifyVisualRange","path","convertVisualRangeObject","rangesAreEqual","_notify","_getAxesForScaling","_getAxesByOptionPath","optionName","sourceAxes","axisPath","v","_optionChanged","getPartialChangeOptionsName","_recreateSizeDependentObjects","_changes","has","resizePanesOnZoom","_doRender","force","drawTitle","drawLegend","adjustAxes","animate","resetVisualRange","_legendDataField","_adjustSeriesLabels","noop"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/chart_components/advanced_chart.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.AdvancedChart = void 0;\r\nvar _extend2 = require(\"../../core/utils/extend\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _range = require(\"../translators/range\");\r\nvar _base_axis = require(\"../axes/base_axis\");\r\nvar _series_family = require(\"../core/series_family\");\r\nvar _base_chart = require(\"./base_chart\");\r\nvar _crosshair = require(\"./crosshair\");\r\nvar _range_data_calculator = _interopRequireDefault(require(\"../series/helpers/range_data_calculator\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _utils = require(\"../core/utils\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n    var keys = Object.keys(object);\r\n    if (Object.getOwnPropertySymbols) {\r\n        var symbols = Object.getOwnPropertySymbols(object);\r\n        if (enumerableOnly) {\r\n            symbols = symbols.filter(function(sym) {\r\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\r\n            })\r\n        }\r\n        keys.push.apply(keys, symbols)\r\n    }\r\n    return keys\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = null != arguments[i] ? arguments[i] : {};\r\n        if (i % 2) {\r\n            ownKeys(Object(source), true).forEach(function(key) {\r\n                _defineProperty(target, key, source[key])\r\n            })\r\n        } else {\r\n            if (Object.getOwnPropertyDescriptors) {\r\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\r\n            } else {\r\n                ownKeys(Object(source)).forEach(function(key) {\r\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\nvar _isArray = Array.isArray;\r\nvar DEFAULT_AXIS_NAME = \"defaultAxisName\";\r\nvar FONT = \"font\";\r\nvar COMMON_AXIS_SETTINGS = \"commonAxisSettings\";\r\nvar DEFAULT_PANE_NAME = \"default\";\r\nvar VISUAL_RANGE = \"VISUAL_RANGE\";\r\n\r\nfunction prepareAxis(axisOptions) {\r\n    return _isArray(axisOptions) ? 0 === axisOptions.length ? [{}] : axisOptions : [axisOptions]\r\n}\r\n\r\nfunction processBubbleMargin(opt, bubbleSize) {\r\n    if (opt.processBubbleSize) {\r\n        opt.size = bubbleSize\r\n    }\r\n    return opt\r\n}\r\n\r\nfunction estimateBubbleSize(size, panesCount, maxSize, rotated) {\r\n    var width = rotated ? size.width / panesCount : size.width;\r\n    var height = rotated ? size.height : size.height / panesCount;\r\n    return Math.min(width, height) * maxSize\r\n}\r\n\r\nfunction setAxisVisualRangeByOption(arg, axis, isDirectOption, index) {\r\n    var options;\r\n    var visualRange;\r\n    if (isDirectOption) {\r\n        visualRange = arg.value;\r\n        options = {\r\n            skipEventRising: true\r\n        };\r\n        var pathElements = arg.fullName.split(\".\");\r\n        var destElem = pathElements[pathElements.length - 1];\r\n        if (\"endValue\" === destElem || \"startValue\" === destElem) {\r\n            options = {\r\n                allowPartialUpdate: true\r\n            };\r\n            visualRange = _defineProperty({}, destElem, arg.value)\r\n        }\r\n    } else {\r\n        visualRange = ((0, _type.isDefined)(index) ? arg.value[index] : arg.value).visualRange\r\n    }\r\n    axis.visualRange(visualRange, options)\r\n}\r\n\r\nfunction getAxisTypes(groupsData, axis, isArgumentAxes) {\r\n    if (isArgumentAxes) {\r\n        return {\r\n            argumentAxisType: groupsData.argumentAxisType,\r\n            argumentType: groupsData.argumentType\r\n        }\r\n    }\r\n    var _groupsData$groups$fi = groupsData.groups.filter(function(g) {\r\n            return g.valueAxis === axis\r\n        })[0],\r\n        valueAxisType = _groupsData$groups$fi.valueAxisType,\r\n        valueType = _groupsData$groups$fi.valueType;\r\n    return {\r\n        valueAxisType: valueAxisType,\r\n        valueType: valueType\r\n    }\r\n}\r\nvar AdvancedChart = _base_chart.BaseChart.inherit({\r\n    _fontFields: [COMMON_AXIS_SETTINGS + \".label.\" + FONT, COMMON_AXIS_SETTINGS + \".title.\" + FONT],\r\n    _partialOptionChangesMap: {\r\n        visualRange: VISUAL_RANGE,\r\n        _customVisualRange: VISUAL_RANGE,\r\n        strips: \"REFRESH_AXES\",\r\n        constantLines: \"REFRESH_AXES\"\r\n    },\r\n    _partialOptionChangesPath: {\r\n        argumentAxis: [\"strips\", \"constantLines\", \"visualRange\", \"_customVisualRange\"],\r\n        valueAxis: [\"strips\", \"constantLines\", \"visualRange\", \"_customVisualRange\"]\r\n    },\r\n    _initCore: function() {\r\n        this._panesClipRects = {};\r\n        this.callBase()\r\n    },\r\n    _disposeCore: function() {\r\n        var disposeObjectsInArray = this._disposeObjectsInArray;\r\n        var panesClipRects = this._panesClipRects;\r\n        this.callBase();\r\n        disposeObjectsInArray.call(panesClipRects, \"fixed\");\r\n        disposeObjectsInArray.call(panesClipRects, \"base\");\r\n        disposeObjectsInArray.call(panesClipRects, \"wide\");\r\n        this._panesClipRects = null\r\n    },\r\n    _dispose: function() {\r\n        var that = this;\r\n        var disposeObjectsInArray = this._disposeObjectsInArray;\r\n        that.callBase();\r\n        that.panes = null;\r\n        if (that._legend) {\r\n            that._legend.dispose();\r\n            that._legend = null\r\n        }\r\n        disposeObjectsInArray.call(that, \"panesBackground\");\r\n        disposeObjectsInArray.call(that, \"seriesFamilies\");\r\n        that._disposeAxes()\r\n    },\r\n    _createPanes: function() {\r\n        this._cleanPanesClipRects(\"fixed\");\r\n        this._cleanPanesClipRects(\"base\");\r\n        this._cleanPanesClipRects(\"wide\")\r\n    },\r\n    _cleanPanesClipRects: function(clipArrayName) {\r\n        var clipArray = this._panesClipRects[clipArrayName];\r\n        (clipArray || []).forEach(function(clipRect) {\r\n            return clipRect && clipRect.dispose()\r\n        });\r\n        this._panesClipRects[clipArrayName] = []\r\n    },\r\n    _getElementsClipRectID: function(paneName) {\r\n        var clipShape = this._panesClipRects.fixed[this._getPaneIndex(paneName)];\r\n        return clipShape && clipShape.id\r\n    },\r\n    _getPaneIndex: function(paneName) {\r\n        var paneIndex;\r\n        var name = paneName || DEFAULT_PANE_NAME;\r\n        (0, _iterator.each)(this.panes, function(index, pane) {\r\n            if (pane.name === name) {\r\n                paneIndex = index;\r\n                return false\r\n            }\r\n        });\r\n        return paneIndex\r\n    },\r\n    _updateSize: function() {\r\n        this.callBase();\r\n        (0, _utils.setCanvasValues)(this._canvas)\r\n    },\r\n    _reinitAxes: function() {\r\n        this.panes = this._createPanes();\r\n        this._populateAxes();\r\n        this._axesReinitialized = true\r\n    },\r\n    _getCrosshairMargins: function() {\r\n        var crosshairOptions = this._getCrosshairOptions() || {};\r\n        var crosshairEnabled = crosshairOptions.enabled;\r\n        var margins = (0, _crosshair.getMargins)();\r\n        return {\r\n            x: crosshairEnabled && crosshairOptions.horizontalLine.visible ? margins.x : 0,\r\n            y: crosshairEnabled && crosshairOptions.verticalLine.visible ? margins.y : 0\r\n        }\r\n    },\r\n    _populateAxes: function() {\r\n        var that = this;\r\n        var panes = that.panes;\r\n        var rotated = that._isRotated();\r\n        var argumentAxesOptions = prepareAxis(that.option(\"argumentAxis\") || {})[0];\r\n        var valueAxisOption = that.option(\"valueAxis\");\r\n        var valueAxesOptions = prepareAxis(valueAxisOption || {});\r\n        var argumentAxesPopulatedOptions = [];\r\n        var valueAxesPopulatedOptions = [];\r\n        var axisNames = [];\r\n        var valueAxesCounter = 0;\r\n        var paneWithNonVirtualAxis;\r\n        var crosshairMargins = that._getCrosshairMargins();\r\n\r\n        function getNextAxisName() {\r\n            return DEFAULT_AXIS_NAME + valueAxesCounter++\r\n        }\r\n        if (rotated) {\r\n            paneWithNonVirtualAxis = \"right\" === argumentAxesOptions.position ? panes[panes.length - 1].name : panes[0].name\r\n        } else {\r\n            paneWithNonVirtualAxis = \"top\" === argumentAxesOptions.position ? panes[0].name : panes[panes.length - 1].name\r\n        }\r\n        argumentAxesPopulatedOptions = (0, _utils.map)(panes, function(pane) {\r\n            var virtual = pane.name !== paneWithNonVirtualAxis;\r\n            return that._populateAxesOptions(\"argumentAxis\", argumentAxesOptions, {\r\n                pane: pane.name,\r\n                name: null,\r\n                optionPath: \"argumentAxis\",\r\n                crosshairMargin: rotated ? crosshairMargins.x : crosshairMargins.y\r\n            }, rotated, virtual)\r\n        });\r\n        (0, _iterator.each)(valueAxesOptions, function(priority, axisOptions) {\r\n            var _axisOptions$panes;\r\n            var axisPanes = [];\r\n            var name = axisOptions.name;\r\n            if (name && (0, _array.inArray)(name, axisNames) !== -1) {\r\n                that._incidentOccurred(\"E2102\");\r\n                return\r\n            }\r\n            name && axisNames.push(name);\r\n            if (axisOptions.pane) {\r\n                axisPanes.push(axisOptions.pane)\r\n            }\r\n            if (null !== (_axisOptions$panes = axisOptions.panes) && void 0 !== _axisOptions$panes && _axisOptions$panes.length) {\r\n                axisPanes = axisPanes.concat(axisOptions.panes.slice(0))\r\n            }\r\n            axisPanes = (0, _utils.unique)(axisPanes);\r\n            if (!axisPanes.length) {\r\n                axisPanes.push(void 0)\r\n            }(0, _iterator.each)(axisPanes, function(_, pane) {\r\n                var optionPath = _isArray(valueAxisOption) ? \"valueAxis[\".concat(priority, \"]\") : \"valueAxis\";\r\n                valueAxesPopulatedOptions.push(that._populateAxesOptions(\"valueAxis\", axisOptions, {\r\n                    name: name || getNextAxisName(),\r\n                    pane: pane,\r\n                    priority: priority,\r\n                    optionPath: optionPath,\r\n                    crosshairMargin: rotated ? crosshairMargins.y : crosshairMargins.x\r\n                }, rotated))\r\n            })\r\n        });\r\n        that._redesignAxes(argumentAxesPopulatedOptions, true, paneWithNonVirtualAxis);\r\n        that._redesignAxes(valueAxesPopulatedOptions, false)\r\n    },\r\n    _redesignAxes: function(options, isArgumentAxes, paneWithNonVirtualAxis) {\r\n        var that = this;\r\n        var axesBasis = [];\r\n        var axes = isArgumentAxes ? that._argumentAxes : that._valueAxes;\r\n        (0, _iterator.each)(options, function(_, opt) {\r\n            var curAxes = axes && axes.filter(function(a) {\r\n                return a.name === opt.name && (!(0, _type.isDefined)(opt.pane) && that.panes.some(function(p) {\r\n                    return p.name === a.pane\r\n                }) || a.pane === opt.pane)\r\n            });\r\n            if (curAxes && curAxes.length > 0) {\r\n                (0, _iterator.each)(curAxes, function(_, axis) {\r\n                    var axisTypes = getAxisTypes(that._groupsData, axis, isArgumentAxes);\r\n                    axis.updateOptions(opt);\r\n                    if (isArgumentAxes) {\r\n                        axis.setTypes(axisTypes.argumentAxisType, axisTypes.argumentType, \"argumentType\")\r\n                    } else {\r\n                        axis.setTypes(axisTypes.valueAxisType, axisTypes.valueType, \"valueType\")\r\n                    }\r\n                    axis.validate();\r\n                    axesBasis.push({\r\n                        axis: axis\r\n                    })\r\n                })\r\n            } else {\r\n                axesBasis.push({\r\n                    options: opt\r\n                })\r\n            }\r\n        });\r\n        if (axes) {\r\n            (0, _iterator.reverseEach)(axes, function(index, axis) {\r\n                if (!axesBasis.some(function(basis) {\r\n                        return basis.axis && basis.axis === axis\r\n                    })) {\r\n                    that._disposeAxis(index, isArgumentAxes)\r\n                }\r\n            })\r\n        } else {\r\n            if (isArgumentAxes) {\r\n                axes = that._argumentAxes = []\r\n            } else {\r\n                axes = that._valueAxes = []\r\n            }\r\n        }(0, _iterator.each)(axesBasis, function(_, basis) {\r\n            var axis = basis.axis;\r\n            if (basis.axis && isArgumentAxes) {\r\n                basis.axis.isVirtual = basis.axis.pane !== paneWithNonVirtualAxis\r\n            } else {\r\n                if (basis.options) {\r\n                    axis = that._createAxis(isArgumentAxes, basis.options, isArgumentAxes ? basis.options.pane !== paneWithNonVirtualAxis : void 0);\r\n                    axes.push(axis)\r\n                }\r\n            }\r\n            axis.applyVisualRangeSetter(that._getVisualRangeSetter())\r\n        })\r\n    },\r\n    _disposeAxis: function(index, isArgumentAxis) {\r\n        var axes = isArgumentAxis ? this._argumentAxes : this._valueAxes;\r\n        var axis = axes[index];\r\n        if (!axis) {\r\n            return\r\n        }\r\n        axis.dispose();\r\n        axes.splice(index, 1)\r\n    },\r\n    _disposeAxes: function() {\r\n        var that = this;\r\n        var disposeObjectsInArray = that._disposeObjectsInArray;\r\n        disposeObjectsInArray.call(that, \"_argumentAxes\");\r\n        disposeObjectsInArray.call(that, \"_valueAxes\")\r\n    },\r\n    _appendAdditionalSeriesGroups: function() {\r\n        this._crosshairCursorGroup.linkAppend();\r\n        this._scrollBar && this._scrollBarGroup.linkAppend()\r\n    },\r\n    _getLegendTargets: function() {\r\n        var _this = this;\r\n        return (this.series || []).map(function(s) {\r\n            var item = _this._getLegendOptions(s);\r\n            item.legendData.series = s;\r\n            if (!s.getOptions().showInLegend) {\r\n                item.legendData.visible = false\r\n            }\r\n            return item\r\n        })\r\n    },\r\n    _legendItemTextField: \"name\",\r\n    _seriesPopulatedHandlerCore: function() {\r\n        this._processSeriesFamilies();\r\n        this._processValueAxisFormat()\r\n    },\r\n    _renderTrackers: function() {\r\n        var that = this;\r\n        var i;\r\n        for (i = 0; i < that.series.length; ++i) {\r\n            that.series[i].drawTrackers()\r\n        }\r\n    },\r\n    _specialProcessSeries: function() {\r\n        this._processSeriesFamilies()\r\n    },\r\n    _processSeriesFamilies: function() {\r\n        var _that$seriesFamilies;\r\n        var that = this;\r\n        var types = [];\r\n        var families = [];\r\n        var paneSeries;\r\n        var themeManager = that._themeManager;\r\n        var negativesAsZeroes = themeManager.getOptions(\"negativesAsZeroes\");\r\n        var negativesAsZeros = themeManager.getOptions(\"negativesAsZeros\");\r\n        var familyOptions = {\r\n            minBubbleSize: themeManager.getOptions(\"minBubbleSize\"),\r\n            maxBubbleSize: themeManager.getOptions(\"maxBubbleSize\"),\r\n            barGroupPadding: themeManager.getOptions(\"barGroupPadding\"),\r\n            barGroupWidth: themeManager.getOptions(\"barGroupWidth\"),\r\n            negativesAsZeroes: (0, _type.isDefined)(negativesAsZeroes) ? negativesAsZeroes : negativesAsZeros\r\n        };\r\n        if (null !== (_that$seriesFamilies = that.seriesFamilies) && void 0 !== _that$seriesFamilies && _that$seriesFamilies.length) {\r\n            (0, _iterator.each)(that.seriesFamilies, function(_, family) {\r\n                family.updateOptions(familyOptions);\r\n                family.adjustSeriesValues()\r\n            });\r\n            return\r\n        }(0, _iterator.each)(that.series, function(_, item) {\r\n            if ((0, _array.inArray)(item.type, types) === -1) {\r\n                types.push(item.type)\r\n            }\r\n        });\r\n        (0, _iterator.each)(that._getLayoutTargets(), function(_, pane) {\r\n            paneSeries = that._getSeriesForPane(pane.name);\r\n            (0, _iterator.each)(types, function(_, type) {\r\n                var family = new _series_family.SeriesFamily({\r\n                    type: type,\r\n                    pane: pane.name,\r\n                    minBubbleSize: familyOptions.minBubbleSize,\r\n                    maxBubbleSize: familyOptions.maxBubbleSize,\r\n                    barGroupPadding: familyOptions.barGroupPadding,\r\n                    barGroupWidth: familyOptions.barGroupWidth,\r\n                    negativesAsZeroes: familyOptions.negativesAsZeroes,\r\n                    rotated: that._isRotated()\r\n                });\r\n                family.add(paneSeries);\r\n                family.adjustSeriesValues();\r\n                families.push(family)\r\n            })\r\n        });\r\n        that.seriesFamilies = families\r\n    },\r\n    _updateSeriesDimensions: function() {\r\n        var that = this;\r\n        var i;\r\n        var seriesFamilies = that.seriesFamilies || [];\r\n        for (i = 0; i < seriesFamilies.length; i++) {\r\n            var family = seriesFamilies[i];\r\n            family.updateSeriesValues();\r\n            family.adjustSeriesDimensions()\r\n        }\r\n    },\r\n    _getLegendCallBack: function(series) {\r\n        return this._legend && this._legend.getActionCallback(series)\r\n    },\r\n    _appendAxesGroups: function() {\r\n        var that = this;\r\n        that._stripsGroup.linkAppend();\r\n        that._gridGroup.linkAppend();\r\n        that._axesGroup.linkAppend();\r\n        that._constantLinesGroup.linkAppend();\r\n        that._labelAxesGroup.linkAppend();\r\n        that._scaleBreaksGroup.linkAppend()\r\n    },\r\n    _populateMarginOptions: function() {\r\n        var that = this;\r\n        var bubbleSize = estimateBubbleSize(that.getSize(), that.panes.length, that._themeManager.getOptions(\"maxBubbleSize\"), that._isRotated());\r\n        var argumentMarginOptions = {};\r\n        that._valueAxes.forEach(function(valueAxis) {\r\n            var groupSeries = that.series.filter(function(series) {\r\n                return series.getValueAxis() === valueAxis\r\n            });\r\n            var marginOptions = {};\r\n            groupSeries.forEach(function(series) {\r\n                if (series.isVisible()) {\r\n                    var seriesMarginOptions = processBubbleMargin(series.getMarginOptions(), bubbleSize);\r\n                    marginOptions = (0, _utils.mergeMarginOptions)(marginOptions, seriesMarginOptions);\r\n                    argumentMarginOptions = (0, _utils.mergeMarginOptions)(argumentMarginOptions, seriesMarginOptions)\r\n                }\r\n            });\r\n            valueAxis.setMarginOptions(marginOptions)\r\n        });\r\n        that._argumentAxes.forEach(function(a) {\r\n            return a.setMarginOptions(argumentMarginOptions)\r\n        })\r\n    },\r\n    _populateBusinessRange: function(updatedAxis, keepRange) {\r\n        var that = this;\r\n        var rotated = that._isRotated();\r\n        var series = that._getVisibleSeries();\r\n        var argRanges = {};\r\n        var commonArgRange = new _range.Range({\r\n            rotated: !!rotated\r\n        });\r\n        var getPaneName = function(axis) {\r\n            return axis.pane || DEFAULT_PANE_NAME\r\n        };\r\n        that.panes.forEach(function(p) {\r\n            return argRanges[p.name] = new _range.Range({\r\n                rotated: !!rotated\r\n            })\r\n        });\r\n        that._valueAxes.forEach(function(valueAxis) {\r\n            var groupRange = new _range.Range({\r\n                rotated: !!rotated,\r\n                pane: valueAxis.pane,\r\n                axis: valueAxis.name\r\n            });\r\n            var groupSeries = series.filter(function(series) {\r\n                return series.getValueAxis() === valueAxis\r\n            });\r\n            groupSeries.forEach(function(series) {\r\n                var seriesRange = series.getRangeData();\r\n                groupRange.addRange(seriesRange.val);\r\n                argRanges[getPaneName(valueAxis)].addRange(seriesRange.arg)\r\n            });\r\n            if (!updatedAxis || updatedAxis && groupSeries.length && valueAxis === updatedAxis) {\r\n                valueAxis.setGroupSeries(groupSeries);\r\n                valueAxis.setBusinessRange(groupRange, that._axesReinitialized || keepRange, that._argumentAxes[0]._lastVisualRangeUpdateMode)\r\n            }\r\n        });\r\n        if (!updatedAxis || updatedAxis && series.length) {\r\n            Object.keys(argRanges).forEach(function(p) {\r\n                return commonArgRange.addRange(argRanges[p])\r\n            });\r\n            var commonInterval = commonArgRange.interval;\r\n            that._argumentAxes.forEach(function(a) {\r\n                var _argRanges$getPaneNam;\r\n                var currentInterval = null !== (_argRanges$getPaneNam = argRanges[getPaneName(a)].interval) && void 0 !== _argRanges$getPaneNam ? _argRanges$getPaneNam : commonInterval;\r\n                a.setBusinessRange(new _range.Range(_objectSpread(_objectSpread({}, commonArgRange), {}, {\r\n                    interval: currentInterval\r\n                })), that._axesReinitialized, void 0, that._groupsData.categories)\r\n            })\r\n        }\r\n        that._populateMarginOptions()\r\n    },\r\n    getArgumentAxis: function() {\r\n        return (this._argumentAxes || []).filter(function(a) {\r\n            return !a.isVirtual\r\n        })[0]\r\n    },\r\n    getValueAxis: function(name) {\r\n        var _this2 = this;\r\n        return (this._valueAxes || []).filter((0, _type.isDefined)(name) ? function(a) {\r\n            return a.name === name\r\n        } : function(a) {\r\n            return a.pane === _this2.defaultPane\r\n        })[0]\r\n    },\r\n    _getGroupsData: function() {\r\n        var that = this;\r\n        var groups = [];\r\n        that._valueAxes.forEach(function(axis) {\r\n            groups.push({\r\n                series: that.series.filter(function(series) {\r\n                    return series.getValueAxis() === axis\r\n                }),\r\n                valueAxis: axis,\r\n                valueOptions: axis.getOptions()\r\n            })\r\n        });\r\n        return {\r\n            groups: groups,\r\n            argumentAxes: that._argumentAxes,\r\n            argumentOptions: that._argumentAxes[0].getOptions()\r\n        }\r\n    },\r\n    _groupSeries: function() {\r\n        var that = this;\r\n        that._correctValueAxes(false);\r\n        that._groupsData = that._getGroupsData()\r\n    },\r\n    _processValueAxisFormat: function() {\r\n        var axesWithFullStackedFormat = [];\r\n        this.series.forEach(function(series) {\r\n            var axis = series.getValueAxis();\r\n            if (series.isFullStackedSeries()) {\r\n                axis.setPercentLabelFormat();\r\n                axesWithFullStackedFormat.push(axis)\r\n            }\r\n        });\r\n        this._valueAxes.forEach(function(axis) {\r\n            if (axesWithFullStackedFormat.indexOf(axis) === -1) {\r\n                axis.resetAutoLabelFormat()\r\n            }\r\n        })\r\n    },\r\n    _populateAxesOptions: function(typeSelector, userOptions, axisOptions, rotated, virtual) {\r\n        var that = this;\r\n        var preparedUserOptions = that._prepareStripsAndConstantLines(typeSelector, userOptions, rotated);\r\n        var options = (0, _extend2.extend)(true, {}, preparedUserOptions, axisOptions, that._prepareAxisOptions(typeSelector, preparedUserOptions, rotated));\r\n        if (virtual) {\r\n            options.visible = options.tick.visible = options.minorTick.visible = options.label.visible = false;\r\n            options.title = {}\r\n        }\r\n        return options\r\n    },\r\n    _getValFilter: function(series) {\r\n        return _range_data_calculator.default.getViewPortFilter(series.getValueAxis().visualRange() || {})\r\n    },\r\n    _createAxis: function(isArgumentAxes, options, virtual) {\r\n        var that = this;\r\n        var typeSelector = isArgumentAxes ? \"argumentAxis\" : \"valueAxis\";\r\n        var renderingSettings = (0, _extend2.extend)({\r\n            renderer: that._renderer,\r\n            incidentOccurred: that._incidentOccurred,\r\n            eventTrigger: that._eventTrigger,\r\n            axisClass: isArgumentAxes ? \"arg\" : \"val\",\r\n            widgetClass: \"dxc\",\r\n            stripsGroup: that._stripsGroup,\r\n            labelAxesGroup: that._labelAxesGroup,\r\n            constantLinesGroup: that._constantLinesGroup,\r\n            scaleBreaksGroup: that._scaleBreaksGroup,\r\n            axesContainerGroup: that._axesGroup,\r\n            gridGroup: that._gridGroup,\r\n            isArgumentAxis: isArgumentAxes,\r\n            getTemplate: function() {\r\n                return that._getTemplate(options.label.template)\r\n            }\r\n        }, that._getAxisRenderingOptions(typeSelector));\r\n        var axis = new _base_axis.Axis(renderingSettings);\r\n        axis.updateOptions(options);\r\n        axis.isVirtual = virtual;\r\n        return axis\r\n    },\r\n    _applyVisualRangeByVirtualAxes: function(axis, range) {\r\n        return false\r\n    },\r\n    _applyCustomVisualRangeOption: function(axis, range) {\r\n        var that = this;\r\n        if (axis.getOptions().optionPath) {\r\n            that._parseVisualRangeOption(\"\".concat(axis.getOptions().optionPath, \".visualRange\"), range)\r\n        }\r\n    },\r\n    _getVisualRangeSetter: function() {\r\n        var chart = this;\r\n        return function(axis, _ref) {\r\n            var skipEventRising = _ref.skipEventRising,\r\n                range = _ref.range;\r\n            chart._applyCustomVisualRangeOption(axis, range);\r\n            axis.setCustomVisualRange(range);\r\n            axis.skipEventRising = skipEventRising;\r\n            if (!chart._applyVisualRangeByVirtualAxes(axis, range)) {\r\n                if (chart._applyingChanges) {\r\n                    chart._change_VISUAL_RANGE()\r\n                } else {\r\n                    chart._requestChange([VISUAL_RANGE])\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getTrackerSettings: function() {\r\n        return (0, _extend2.extend)(this.callBase(), {\r\n            argumentAxis: this.getArgumentAxis()\r\n        })\r\n    },\r\n    _prepareStripsAndConstantLines: function(typeSelector, userOptions, rotated) {\r\n        userOptions = this._themeManager.getOptions(typeSelector, userOptions, rotated);\r\n        if (userOptions.strips) {\r\n            (0, _iterator.each)(userOptions.strips, function(i) {\r\n                userOptions.strips[i] = (0, _extend2.extend)(true, {}, userOptions.stripStyle, userOptions.strips[i])\r\n            })\r\n        }\r\n        if (userOptions.constantLines) {\r\n            (0, _iterator.each)(userOptions.constantLines, function(i, line) {\r\n                userOptions.constantLines[i] = (0, _extend2.extend)(true, {}, userOptions.constantLineStyle, line)\r\n            })\r\n        }\r\n        return userOptions\r\n    },\r\n    refresh: function() {\r\n        this._disposeAxes();\r\n        this.callBase()\r\n    },\r\n    _layoutAxes: function(drawAxes) {\r\n        var that = this;\r\n        drawAxes();\r\n        var needSpace = that.checkForMoreSpaceForPanesCanvas();\r\n        if (needSpace) {\r\n            var rect = this._rect.slice();\r\n            var size = this._layout.backward(rect, rect, [needSpace.width, needSpace.height]);\r\n            needSpace.width = Math.max(0, size[0]);\r\n            needSpace.height = Math.max(0, size[1]);\r\n            this._canvas = this._createCanvasFromRect(rect);\r\n            drawAxes(needSpace)\r\n        }\r\n    },\r\n    checkForMoreSpaceForPanesCanvas: function() {\r\n        return this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(), this._isRotated())\r\n    },\r\n    _parseVisualRangeOption: function(fullName, value) {\r\n        var that = this;\r\n        var name = fullName.split(/[.[]/)[0];\r\n        var index = fullName.match(/\\d+/g);\r\n        index = (0, _type.isDefined)(index) ? parseInt(index[0]) : index;\r\n        if (fullName.indexOf(\"visualRange\") > 0) {\r\n            that._setCustomVisualRange(name, index, value)\r\n        } else {\r\n            if ((\"object\" === (0, _type.type)(value) || _isArray(value)) && name.indexOf(\"Axis\") > 0 && JSON.stringify(value).indexOf(\"visualRange\") > 0) {\r\n                if ((0, _type.isDefined)(value.visualRange)) {\r\n                    that._setCustomVisualRange(name, index, value.visualRange)\r\n                } else {\r\n                    if (_isArray(value)) {\r\n                        value.forEach(function(a, i) {\r\n                            return (0, _type.isDefined)(a.visualRange) && that._setCustomVisualRange(name, i, a.visualRange)\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _setCustomVisualRange: function(axesName, index, value) {\r\n        var that = this;\r\n        var options = that._options.silent(axesName);\r\n        if (!options) {\r\n            return\r\n        }\r\n        if (!(0, _type.isDefined)(index)) {\r\n            options._customVisualRange = value\r\n        } else {\r\n            options[index]._customVisualRange = value\r\n        }\r\n        that._axesReinitialized = true\r\n    },\r\n    _raiseZoomEndHandlers: function() {\r\n        this._valueAxes.forEach(function(axis) {\r\n            return axis.handleZoomEnd()\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        (0, _extend2.extend)(this._optionsByReference, {\r\n            \"valueAxis.visualRange\": true\r\n        })\r\n    },\r\n    _notifyOptionChanged: function(option, value, previousValue) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._optionChangedLocker) {\r\n            this._parseVisualRangeOption(option, value)\r\n        }\r\n    },\r\n    _notifyVisualRange: function() {\r\n        var that = this;\r\n        that._valueAxes.forEach(function(axis) {\r\n            if (axis.getOptions().optionPath) {\r\n                var path = \"\".concat(axis.getOptions().optionPath, \".visualRange\");\r\n                var visualRange = (0, _utils.convertVisualRangeObject)(axis.visualRange(), !_isArray(that.option(path)));\r\n                if (!axis.skipEventRising || !(0, _utils.rangesAreEqual)(visualRange, that.option(path))) {\r\n                    that.option(path, visualRange)\r\n                } else {\r\n                    axis.skipEventRising = null\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _notify: function() {\r\n        this.callBase();\r\n        this._axesReinitialized = false;\r\n        if (true !== this.option(\"disableTwoWayBinding\")) {\r\n            this._notifyVisualRange()\r\n        }\r\n    },\r\n    _getAxesForScaling: function() {\r\n        return this._valueAxes\r\n    },\r\n    _getAxesByOptionPath: function(arg, isDirectOption, optionName) {\r\n        var that = this;\r\n        var sourceAxes = that._getAxesForScaling();\r\n        var axes = [];\r\n        if (isDirectOption) {\r\n            var axisPath;\r\n            if (arg.fullName) {\r\n                axisPath = arg.fullName.slice(0, arg.fullName.indexOf(\".\"))\r\n            }\r\n            axes = sourceAxes.filter(function(a) {\r\n                return a.getOptions().optionPath === axisPath\r\n            })\r\n        } else {\r\n            if (\"object\" === (0, _type.type)(arg.value)) {\r\n                axes = sourceAxes.filter(function(a) {\r\n                    return a.getOptions().optionPath === arg.name\r\n                })\r\n            } else {\r\n                if (_isArray(arg.value)) {\r\n                    arg.value.forEach(function(v, index) {\r\n                        var axis = sourceAxes.filter(function(a) {\r\n                            return a.getOptions().optionPath === \"\".concat(arg.name, \"[\").concat(index, \"]\")\r\n                        })[0];\r\n                        (0, _type.isDefined)(v[optionName]) && (0, _type.isDefined)(axis) && (axes[index] = axis)\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        return axes\r\n    },\r\n    _optionChanged: function(arg) {\r\n        var that = this;\r\n        if (!that._optionChangedLocker) {\r\n            var optionName = \"visualRange\";\r\n            var axes;\r\n            var isDirectOption = arg.fullName.indexOf(optionName) > 0 ? true : that.getPartialChangeOptionsName(arg).indexOf(optionName) > -1 ? false : void 0;\r\n            if ((0, _type.isDefined)(isDirectOption)) {\r\n                axes = that._getAxesByOptionPath(arg, isDirectOption, optionName);\r\n                if (axes) {\r\n                    if (axes.length > 1 || _isArray(arg.value)) {\r\n                        axes.forEach(function(a, index) {\r\n                            return setAxisVisualRangeByOption(arg, a, isDirectOption, index)\r\n                        })\r\n                    } else {\r\n                        if (1 === axes.length) {\r\n                            setAxisVisualRangeByOption(arg, axes[0], isDirectOption)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        that.callBase(arg)\r\n    },\r\n    _change_VISUAL_RANGE: function() {\r\n        var that = this;\r\n        that._recreateSizeDependentObjects(false);\r\n        if (!that._changes.has(\"FULL_RENDER\")) {\r\n            var resizePanesOnZoom = that.option(\"resizePanesOnZoom\");\r\n            that._doRender({\r\n                force: true,\r\n                drawTitle: false,\r\n                drawLegend: false,\r\n                adjustAxes: null !== resizePanesOnZoom && void 0 !== resizePanesOnZoom ? resizePanesOnZoom : that.option(\"adjustAxesOnZoom\") || false,\r\n                animate: false\r\n            });\r\n            that._raiseZoomEndHandlers()\r\n        }\r\n    },\r\n    resetVisualRange: function() {\r\n        var that = this;\r\n        that._valueAxes.forEach(function(axis) {\r\n            axis.resetVisualRange(false);\r\n            that._applyCustomVisualRangeOption(axis)\r\n        });\r\n        that._requestChange([VISUAL_RANGE])\r\n    },\r\n    _legendDataField: \"series\",\r\n    _adjustSeriesLabels: _common.noop,\r\n    _correctValueAxes: _common.noop\r\n});\r\nexports.AdvancedChart = AdvancedChart;\r\n"]},"metadata":{},"sourceType":"script"}