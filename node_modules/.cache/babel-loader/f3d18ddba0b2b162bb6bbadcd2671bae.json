{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/base_indicators.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.BaseRangeBar = exports.BaseTextCloudMarker = exports.BaseIndicator = exports.BaseElement = void 0;\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _base_gauge = require(\"./base_gauge\");\n\nvar _utils = require(\"../core/utils\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _round = Math.round;\nvar _formatValue = _base_gauge.formatValue;\nvar _getSampleText = _base_gauge.getSampleText;\n\nvar BaseElement = _class.default.inherit({\n  ctor: function (parameters) {\n    var that = this;\n    (0, _iterator.each)(parameters, function (name, value) {\n      that[\"_\" + name] = value;\n    });\n\n    that._init();\n  },\n  dispose: function () {\n    var that = this;\n\n    that._dispose();\n\n    (0, _iterator.each)(that, function (name) {\n      that[name] = null;\n    });\n    return that;\n  },\n  getOffset: function () {\n    return _Number(this._options.offset) || 0;\n  }\n});\n\nexports.BaseElement = BaseElement;\nvar BaseIndicator = BaseElement.inherit({\n  _init: function () {\n    var that = this;\n    that._rootElement = that._createRoot().linkOn(that._owner, {\n      name: \"value-indicator\",\n      after: \"core\"\n    });\n    that._trackerElement = that._createTracker();\n  },\n  _dispose: function () {\n    this._rootElement.linkOff();\n  },\n  _setupAnimation: function () {\n    var that = this;\n\n    if (that._options.animation) {\n      that._animation = {\n        step: function (pos) {\n          that._actualValue = that._animation.start + that._animation.delta * pos;\n          that._actualPosition = that._translator.translate(that._actualValue);\n\n          that._move();\n        },\n        duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\n        easing: that._options.animation.easing\n      };\n    }\n  },\n  _runAnimation: function (value) {\n    var that = this;\n    var animation = that._animation;\n    animation.start = that._actualValue;\n    animation.delta = value - that._actualValue;\n\n    that._rootElement.animate({\n      _: 0\n    }, {\n      step: animation.step,\n      duration: animation.duration,\n      easing: animation.easing\n    });\n  },\n  _createRoot: function () {\n    return this._renderer.g().attr({\n      \"class\": this._className\n    });\n  },\n  _createTracker: function () {\n    return this._renderer.path([], \"area\");\n  },\n  _getTrackerSettings: _common.noop,\n  clean: function () {\n    var that = this;\n    that._animation && that._rootElement.stopAnimation();\n\n    that._rootElement.linkRemove().clear();\n\n    that._clear();\n\n    that._tracker.detach(that._trackerElement);\n\n    that._options = that.enabled = that._animation = null;\n    return that;\n  },\n  render: function (options) {\n    var that = this;\n    that.type = options.type;\n    that._options = options;\n    that._actualValue = that._currentValue = that._translator.adjust(that._options.currentValue);\n    that.enabled = that._isEnabled();\n\n    if (that.enabled) {\n      that._setupAnimation();\n\n      that._rootElement.attr({\n        fill: that._options.color\n      }).linkAppend();\n\n      that._tracker.attach(that._trackerElement, that, that._trackerInfo);\n    }\n\n    return that;\n  },\n  resize: function (layout) {\n    var that = this;\n\n    that._rootElement.clear();\n\n    that._clear();\n\n    that.visible = that._isVisible(layout);\n\n    if (that.visible) {\n      (0, _extend.extend)(that._options, layout);\n      that._actualPosition = that._translator.translate(that._actualValue);\n\n      that._render();\n\n      that._trackerElement.attr(that._getTrackerSettings());\n\n      that._move();\n    }\n\n    return that;\n  },\n  value: function (arg, _noAnimation) {\n    var that = this;\n    var val;\n    var rootElement = this._rootElement;\n    var visibility = null;\n\n    if (void 0 === arg) {\n      return that._currentValue;\n    }\n\n    if (null === arg) {\n      visibility = \"hidden\";\n      that._currentValue = arg;\n    } else {\n      val = that._translator.adjust(arg);\n\n      if (that._currentValue !== val && _isFinite(val)) {\n        that._currentValue = val;\n\n        if (that.visible) {\n          if (that._animation && !_noAnimation) {\n            that._runAnimation(val);\n          } else {\n            that._actualValue = val;\n            that._actualPosition = that._translator.translate(val);\n\n            that._move();\n          }\n        }\n      }\n    }\n\n    rootElement.attr({\n      visibility: visibility\n    });\n    return that;\n  },\n  _isEnabled: null,\n  _isVisible: null,\n  _render: null,\n  _clear: null,\n  _move: null\n});\nexports.BaseIndicator = BaseIndicator;\nvar COEFFICIENTS_MAP = {};\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\n\nfunction getTextCloudInfo(options) {\n  var x = options.x;\n  var y = options.y;\n  var type = COEFFICIENTS_MAP[options.type];\n  var cloudWidth = options.textWidth + 2 * options.horMargin;\n  var cloudHeight = options.textHeight + 2 * options.verMargin;\n  var tailWidth;\n  var tailHeight;\n  var cx = x;\n  var cy = y;\n  tailWidth = tailHeight = options.tailLength;\n\n  if (1 & type[0]) {\n    tailHeight = Math.min(tailHeight, cloudHeight / 3);\n  } else {\n    tailWidth = Math.min(tailWidth, cloudWidth / 3);\n  }\n\n  return {\n    cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\n    cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\n    points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\n  };\n}\n\nvar BaseTextCloudMarker = BaseIndicator.inherit({\n  _move: function () {\n    var that = this;\n\n    var textCloudOptions = that._getTextCloudOptions();\n\n    var text = _formatValue(that._actualValue, that._options.text);\n\n    that._text.attr({\n      text: text\n    });\n\n    var bBox = that._text.getBBox();\n\n    var info = getTextCloudInfo({\n      x: textCloudOptions.x,\n      y: textCloudOptions.y,\n      textWidth: bBox.width || text.length * that._textUnitWidth,\n      textHeight: bBox.height || that._textHeight,\n      horMargin: that._options.horizontalOffset,\n      verMargin: that._options.verticalOffset,\n      tailLength: that._options.arrowLength,\n      type: textCloudOptions.type\n    });\n\n    that._text.attr({\n      x: info.cx,\n      y: info.cy + that._textVerticalOffset\n    });\n\n    that._cloud.attr({\n      points: info.points\n    });\n\n    that._trackerElement && that._trackerElement.attr({\n      points: info.points\n    });\n  },\n  _measureText: function () {\n    var that = this;\n    var root;\n    var text;\n    var bBox;\n    var sampleText;\n\n    if (!that._textVerticalOffset) {\n      root = that._createRoot().append(that._owner);\n      sampleText = _getSampleText(that._translator, that._options.text);\n      text = that._renderer.text(sampleText, 0, 0).attr({\n        align: \"center\"\n      }).css((0, _utils.patchFontOptions)(that._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      that._textVerticalOffset = -bBox.y - bBox.height / 2;\n      that._textWidth = bBox.width;\n      that._textHeight = bBox.height;\n      that._textUnitWidth = that._textWidth / sampleText.length;\n      that._textFullWidth = that._textWidth + 2 * that._options.horizontalOffset;\n      that._textFullHeight = that._textHeight + 2 * that._options.verticalOffset;\n    }\n  },\n  _render: function () {\n    var that = this;\n\n    that._measureText();\n\n    that._cloud = that._cloud || that._renderer.path([], \"area\").append(that._rootElement);\n    that._text = that._text || that._renderer.text().append(that._rootElement);\n\n    that._text.attr({\n      align: \"center\"\n    }).css((0, _utils.patchFontOptions)(that._options.text.font));\n  },\n  _clear: function () {\n    delete this._cloud;\n    delete this._text;\n  },\n  getTooltipParameters: function () {\n    var position = this._getTextCloudOptions();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color\n    };\n  }\n});\nexports.BaseTextCloudMarker = BaseTextCloudMarker;\nvar BaseRangeBar = BaseIndicator.inherit({\n  _measureText: function () {\n    var that = this;\n    var root;\n    var text;\n    var bBox;\n    that._hasText = that._isTextVisible();\n\n    if (that._hasText && !that._textVerticalOffset) {\n      root = that._createRoot().append(that._owner);\n      text = that._renderer.text(_getSampleText(that._translator, that._options.text), 0, 0).attr({\n        \"class\": \"dxg-text\",\n        align: \"center\"\n      }).css((0, _utils.patchFontOptions)(that._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      that._textVerticalOffset = -bBox.y - bBox.height / 2;\n      that._textWidth = bBox.width;\n      that._textHeight = bBox.height;\n    }\n  },\n  _move: function () {\n    var that = this;\n\n    that._updateBarItemsPositions();\n\n    if (that._hasText) {\n      that._text.attr({\n        text: _formatValue(that._actualValue, that._options.text)\n      });\n\n      that._updateTextPosition();\n\n      that._updateLinePosition();\n    }\n  },\n  _updateBarItems: function () {\n    var that = this;\n    var options = that._options;\n    var spaceColor;\n    var translator = that._translator;\n\n    that._setBarSides();\n\n    that._startPosition = translator.translate(translator.getDomainStart());\n    that._endPosition = translator.translate(translator.getDomainEnd());\n    that._basePosition = translator.translate(options.baseValue);\n    that._space = that._getSpace();\n    var backgroundColor = options.backgroundColor || \"none\";\n\n    if (\"none\" !== backgroundColor && that._space > 0) {\n      spaceColor = options.containerBackgroundColor || \"none\";\n    } else {\n      that._space = 0;\n      spaceColor = \"none\";\n    }\n\n    that._backItem1.attr({\n      fill: backgroundColor\n    });\n\n    that._backItem2.attr({\n      fill: backgroundColor\n    });\n\n    that._spaceItem1.attr({\n      fill: spaceColor\n    });\n\n    that._spaceItem2.attr({\n      fill: spaceColor\n    });\n  },\n  _getSpace: function () {\n    return 0;\n  },\n  _updateTextItems: function () {\n    var that = this;\n\n    if (that._hasText) {\n      that._line = that._line || that._renderer.path([], \"line\").attr({\n        \"class\": \"dxg-main-bar\",\n        \"stroke-linecap\": \"square\"\n      }).append(that._rootElement);\n      that._text = that._text || that._renderer.text(\"\", 0, 0).attr({\n        \"class\": \"dxg-text\"\n      }).append(that._rootElement);\n\n      that._text.attr({\n        align: that._getTextAlign()\n      }).css(that._getFontOptions());\n\n      that._setTextItemsSides();\n    } else {\n      if (that._line) {\n        that._line.remove();\n\n        delete that._line;\n      }\n\n      if (that._text) {\n        that._text.remove();\n\n        delete that._text;\n      }\n    }\n  },\n  _isTextVisible: function () {\n    return false;\n  },\n  _getTextAlign: function () {\n    return \"center\";\n  },\n  _getFontOptions: function () {\n    var options = this._options;\n    var font = options.text.font;\n\n    if (!font || !font.color) {\n      font = (0, _extend.extend)({}, font, {\n        color: options.color\n      });\n    }\n\n    return (0, _utils.patchFontOptions)(font);\n  },\n  _updateBarItemsPositions: function () {\n    var that = this;\n\n    var positions = that._getPositions();\n\n    that._backItem1.attr(that._buildItemSettings(positions.start, positions.back1));\n\n    that._backItem2.attr(that._buildItemSettings(positions.back2, positions.end));\n\n    that._spaceItem1.attr(that._buildItemSettings(positions.back1, positions.main1));\n\n    that._spaceItem2.attr(that._buildItemSettings(positions.main2, positions.back2));\n\n    that._mainItem.attr(that._buildItemSettings(positions.main1, positions.main2));\n\n    that._trackerElement && that._trackerElement.attr(that._buildItemSettings(positions.main1, positions.main2));\n  },\n  _render: function () {\n    var that = this;\n\n    that._measureText();\n\n    if (!that._backItem1) {\n      that._backItem1 = that._createBarItem();\n\n      that._backItem1.attr({\n        \"class\": \"dxg-back-bar\"\n      });\n    }\n\n    if (!that._backItem2) {\n      that._backItem2 = that._createBarItem();\n\n      that._backItem2.attr({\n        \"class\": \"dxg-back-bar\"\n      });\n    }\n\n    if (!that._spaceItem1) {\n      that._spaceItem1 = that._createBarItem();\n\n      that._spaceItem1.attr({\n        \"class\": \"dxg-space-bar\"\n      });\n    }\n\n    if (!that._spaceItem2) {\n      that._spaceItem2 = that._createBarItem();\n\n      that._spaceItem2.attr({\n        \"class\": \"dxg-space-bar\"\n      });\n    }\n\n    if (!that._mainItem) {\n      that._mainItem = that._createBarItem();\n\n      that._mainItem.attr({\n        \"class\": \"dxg-main-bar\"\n      });\n    }\n\n    that._updateBarItems();\n\n    that._updateTextItems();\n  },\n  _clear: function () {\n    var that = this;\n    delete that._backItem1;\n    delete that._backItem2;\n    delete that._spaceItem1;\n    delete that._spaceItem2;\n    delete that._mainItem;\n    delete that._hasText;\n    delete that._line;\n    delete that._text;\n  },\n  getTooltipParameters: function () {\n    var position = this._getTooltipPosition();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color,\n      offset: 0\n    };\n  }\n});\nexports.BaseRangeBar = BaseRangeBar;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/gauges/base_indicators.js"],"names":["exports","BaseRangeBar","BaseTextCloudMarker","BaseIndicator","BaseElement","_common","require","_iterator","_base_gauge","_utils","_extend","_class","_interopRequireDefault","obj","__esModule","_isFinite","isFinite","_Number","Number","_round","Math","round","_formatValue","formatValue","_getSampleText","getSampleText","default","inherit","ctor","parameters","that","each","name","value","_init","dispose","_dispose","getOffset","_options","offset","_rootElement","_createRoot","linkOn","_owner","after","_trackerElement","_createTracker","linkOff","_setupAnimation","animation","_animation","step","pos","_actualValue","start","delta","_actualPosition","_translator","translate","_move","duration","easing","_runAnimation","animate","_","_renderer","g","attr","_className","path","_getTrackerSettings","noop","clean","stopAnimation","linkRemove","clear","_clear","_tracker","detach","enabled","render","options","type","_currentValue","adjust","currentValue","_isEnabled","fill","color","linkAppend","attach","_trackerInfo","resize","layout","visible","_isVisible","extend","_render","arg","_noAnimation","val","rootElement","visibility","COEFFICIENTS_MAP","rb","br","lb","bl","lt","tl","rt","tr","getTextCloudInfo","x","y","cloudWidth","textWidth","horMargin","cloudHeight","textHeight","verMargin","tailWidth","tailHeight","cx","cy","tailLength","min","points","textCloudOptions","_getTextCloudOptions","text","_text","bBox","getBBox","info","width","length","_textUnitWidth","height","_textHeight","horizontalOffset","verticalOffset","arrowLength","_textVerticalOffset","_cloud","_measureText","root","sampleText","append","align","css","patchFontOptions","font","remove","_textWidth","_textFullWidth","_textFullHeight","getTooltipParameters","position","_hasText","_isTextVisible","_updateBarItemsPositions","_updateTextPosition","_updateLinePosition","_updateBarItems","spaceColor","translator","_setBarSides","_startPosition","getDomainStart","_endPosition","getDomainEnd","_basePosition","baseValue","_space","_getSpace","backgroundColor","containerBackgroundColor","_backItem1","_backItem2","_spaceItem1","_spaceItem2","_updateTextItems","_line","_getTextAlign","_getFontOptions","_setTextItemsSides","positions","_getPositions","_buildItemSettings","back1","back2","end","main1","main2","_mainItem","_createBarItem","_getTooltipPosition"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/base_indicators.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.BaseRangeBar = exports.BaseTextCloudMarker = exports.BaseIndicator = exports.BaseElement = void 0;\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _base_gauge = require(\"./base_gauge\");\r\nvar _utils = require(\"../core/utils\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _round = Math.round;\r\nvar _formatValue = _base_gauge.formatValue;\r\nvar _getSampleText = _base_gauge.getSampleText;\r\nvar BaseElement = _class.default.inherit({\r\n    ctor: function(parameters) {\r\n        var that = this;\r\n        (0, _iterator.each)(parameters, function(name, value) {\r\n            that[\"_\" + name] = value\r\n        });\r\n        that._init()\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._dispose();\r\n        (0, _iterator.each)(that, function(name) {\r\n            that[name] = null\r\n        });\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return _Number(this._options.offset) || 0\r\n    }\r\n});\r\nexports.BaseElement = BaseElement;\r\nvar BaseIndicator = BaseElement.inherit({\r\n    _init: function() {\r\n        var that = this;\r\n        that._rootElement = that._createRoot().linkOn(that._owner, {\r\n            name: \"value-indicator\",\r\n            after: \"core\"\r\n        });\r\n        that._trackerElement = that._createTracker()\r\n    },\r\n    _dispose: function() {\r\n        this._rootElement.linkOff()\r\n    },\r\n    _setupAnimation: function() {\r\n        var that = this;\r\n        if (that._options.animation) {\r\n            that._animation = {\r\n                step: function(pos) {\r\n                    that._actualValue = that._animation.start + that._animation.delta * pos;\r\n                    that._actualPosition = that._translator.translate(that._actualValue);\r\n                    that._move()\r\n                },\r\n                duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\r\n                easing: that._options.animation.easing\r\n            }\r\n        }\r\n    },\r\n    _runAnimation: function(value) {\r\n        var that = this;\r\n        var animation = that._animation;\r\n        animation.start = that._actualValue;\r\n        animation.delta = value - that._actualValue;\r\n        that._rootElement.animate({\r\n            _: 0\r\n        }, {\r\n            step: animation.step,\r\n            duration: animation.duration,\r\n            easing: animation.easing\r\n        })\r\n    },\r\n    _createRoot: function() {\r\n        return this._renderer.g().attr({\r\n            \"class\": this._className\r\n        })\r\n    },\r\n    _createTracker: function() {\r\n        return this._renderer.path([], \"area\")\r\n    },\r\n    _getTrackerSettings: _common.noop,\r\n    clean: function() {\r\n        var that = this;\r\n        that._animation && that._rootElement.stopAnimation();\r\n        that._rootElement.linkRemove().clear();\r\n        that._clear();\r\n        that._tracker.detach(that._trackerElement);\r\n        that._options = that.enabled = that._animation = null;\r\n        return that\r\n    },\r\n    render: function(options) {\r\n        var that = this;\r\n        that.type = options.type;\r\n        that._options = options;\r\n        that._actualValue = that._currentValue = that._translator.adjust(that._options.currentValue);\r\n        that.enabled = that._isEnabled();\r\n        if (that.enabled) {\r\n            that._setupAnimation();\r\n            that._rootElement.attr({\r\n                fill: that._options.color\r\n            }).linkAppend();\r\n            that._tracker.attach(that._trackerElement, that, that._trackerInfo)\r\n        }\r\n        return that\r\n    },\r\n    resize: function(layout) {\r\n        var that = this;\r\n        that._rootElement.clear();\r\n        that._clear();\r\n        that.visible = that._isVisible(layout);\r\n        if (that.visible) {\r\n            (0, _extend.extend)(that._options, layout);\r\n            that._actualPosition = that._translator.translate(that._actualValue);\r\n            that._render();\r\n            that._trackerElement.attr(that._getTrackerSettings());\r\n            that._move()\r\n        }\r\n        return that\r\n    },\r\n    value: function(arg, _noAnimation) {\r\n        var that = this;\r\n        var val;\r\n        var rootElement = this._rootElement;\r\n        var visibility = null;\r\n        if (void 0 === arg) {\r\n            return that._currentValue\r\n        }\r\n        if (null === arg) {\r\n            visibility = \"hidden\";\r\n            that._currentValue = arg\r\n        } else {\r\n            val = that._translator.adjust(arg);\r\n            if (that._currentValue !== val && _isFinite(val)) {\r\n                that._currentValue = val;\r\n                if (that.visible) {\r\n                    if (that._animation && !_noAnimation) {\r\n                        that._runAnimation(val)\r\n                    } else {\r\n                        that._actualValue = val;\r\n                        that._actualPosition = that._translator.translate(val);\r\n                        that._move()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        rootElement.attr({\r\n            visibility: visibility\r\n        });\r\n        return that\r\n    },\r\n    _isEnabled: null,\r\n    _isVisible: null,\r\n    _render: null,\r\n    _clear: null,\r\n    _move: null\r\n});\r\nexports.BaseIndicator = BaseIndicator;\r\nvar COEFFICIENTS_MAP = {};\r\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\r\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\r\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\r\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\r\n\r\nfunction getTextCloudInfo(options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var type = COEFFICIENTS_MAP[options.type];\r\n    var cloudWidth = options.textWidth + 2 * options.horMargin;\r\n    var cloudHeight = options.textHeight + 2 * options.verMargin;\r\n    var tailWidth;\r\n    var tailHeight;\r\n    var cx = x;\r\n    var cy = y;\r\n    tailWidth = tailHeight = options.tailLength;\r\n    if (1 & type[0]) {\r\n        tailHeight = Math.min(tailHeight, cloudHeight / 3)\r\n    } else {\r\n        tailWidth = Math.min(tailWidth, cloudWidth / 3)\r\n    }\r\n    return {\r\n        cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\r\n        cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\r\n        points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\r\n    }\r\n}\r\nvar BaseTextCloudMarker = BaseIndicator.inherit({\r\n    _move: function() {\r\n        var that = this;\r\n        var textCloudOptions = that._getTextCloudOptions();\r\n        var text = _formatValue(that._actualValue, that._options.text);\r\n        that._text.attr({\r\n            text: text\r\n        });\r\n        var bBox = that._text.getBBox();\r\n        var info = getTextCloudInfo({\r\n            x: textCloudOptions.x,\r\n            y: textCloudOptions.y,\r\n            textWidth: bBox.width || text.length * that._textUnitWidth,\r\n            textHeight: bBox.height || that._textHeight,\r\n            horMargin: that._options.horizontalOffset,\r\n            verMargin: that._options.verticalOffset,\r\n            tailLength: that._options.arrowLength,\r\n            type: textCloudOptions.type\r\n        });\r\n        that._text.attr({\r\n            x: info.cx,\r\n            y: info.cy + that._textVerticalOffset\r\n        });\r\n        that._cloud.attr({\r\n            points: info.points\r\n        });\r\n        that._trackerElement && that._trackerElement.attr({\r\n            points: info.points\r\n        })\r\n    },\r\n    _measureText: function() {\r\n        var that = this;\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        var sampleText;\r\n        if (!that._textVerticalOffset) {\r\n            root = that._createRoot().append(that._owner);\r\n            sampleText = _getSampleText(that._translator, that._options.text);\r\n            text = that._renderer.text(sampleText, 0, 0).attr({\r\n                align: \"center\"\r\n            }).css((0, _utils.patchFontOptions)(that._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            that._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            that._textWidth = bBox.width;\r\n            that._textHeight = bBox.height;\r\n            that._textUnitWidth = that._textWidth / sampleText.length;\r\n            that._textFullWidth = that._textWidth + 2 * that._options.horizontalOffset;\r\n            that._textFullHeight = that._textHeight + 2 * that._options.verticalOffset\r\n        }\r\n    },\r\n    _render: function() {\r\n        var that = this;\r\n        that._measureText();\r\n        that._cloud = that._cloud || that._renderer.path([], \"area\").append(that._rootElement);\r\n        that._text = that._text || that._renderer.text().append(that._rootElement);\r\n        that._text.attr({\r\n            align: \"center\"\r\n        }).css((0, _utils.patchFontOptions)(that._options.text.font))\r\n    },\r\n    _clear: function() {\r\n        delete this._cloud;\r\n        delete this._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTextCloudOptions();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color\r\n        }\r\n    }\r\n});\r\nexports.BaseTextCloudMarker = BaseTextCloudMarker;\r\nvar BaseRangeBar = BaseIndicator.inherit({\r\n    _measureText: function() {\r\n        var that = this;\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        that._hasText = that._isTextVisible();\r\n        if (that._hasText && !that._textVerticalOffset) {\r\n            root = that._createRoot().append(that._owner);\r\n            text = that._renderer.text(_getSampleText(that._translator, that._options.text), 0, 0).attr({\r\n                \"class\": \"dxg-text\",\r\n                align: \"center\"\r\n            }).css((0, _utils.patchFontOptions)(that._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            that._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            that._textWidth = bBox.width;\r\n            that._textHeight = bBox.height\r\n        }\r\n    },\r\n    _move: function() {\r\n        var that = this;\r\n        that._updateBarItemsPositions();\r\n        if (that._hasText) {\r\n            that._text.attr({\r\n                text: _formatValue(that._actualValue, that._options.text)\r\n            });\r\n            that._updateTextPosition();\r\n            that._updateLinePosition()\r\n        }\r\n    },\r\n    _updateBarItems: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var spaceColor;\r\n        var translator = that._translator;\r\n        that._setBarSides();\r\n        that._startPosition = translator.translate(translator.getDomainStart());\r\n        that._endPosition = translator.translate(translator.getDomainEnd());\r\n        that._basePosition = translator.translate(options.baseValue);\r\n        that._space = that._getSpace();\r\n        var backgroundColor = options.backgroundColor || \"none\";\r\n        if (\"none\" !== backgroundColor && that._space > 0) {\r\n            spaceColor = options.containerBackgroundColor || \"none\"\r\n        } else {\r\n            that._space = 0;\r\n            spaceColor = \"none\"\r\n        }\r\n        that._backItem1.attr({\r\n            fill: backgroundColor\r\n        });\r\n        that._backItem2.attr({\r\n            fill: backgroundColor\r\n        });\r\n        that._spaceItem1.attr({\r\n            fill: spaceColor\r\n        });\r\n        that._spaceItem2.attr({\r\n            fill: spaceColor\r\n        })\r\n    },\r\n    _getSpace: function() {\r\n        return 0\r\n    },\r\n    _updateTextItems: function() {\r\n        var that = this;\r\n        if (that._hasText) {\r\n            that._line = that._line || that._renderer.path([], \"line\").attr({\r\n                \"class\": \"dxg-main-bar\",\r\n                \"stroke-linecap\": \"square\"\r\n            }).append(that._rootElement);\r\n            that._text = that._text || that._renderer.text(\"\", 0, 0).attr({\r\n                \"class\": \"dxg-text\"\r\n            }).append(that._rootElement);\r\n            that._text.attr({\r\n                align: that._getTextAlign()\r\n            }).css(that._getFontOptions());\r\n            that._setTextItemsSides()\r\n        } else {\r\n            if (that._line) {\r\n                that._line.remove();\r\n                delete that._line\r\n            }\r\n            if (that._text) {\r\n                that._text.remove();\r\n                delete that._text\r\n            }\r\n        }\r\n    },\r\n    _isTextVisible: function() {\r\n        return false\r\n    },\r\n    _getTextAlign: function() {\r\n        return \"center\"\r\n    },\r\n    _getFontOptions: function() {\r\n        var options = this._options;\r\n        var font = options.text.font;\r\n        if (!font || !font.color) {\r\n            font = (0, _extend.extend)({}, font, {\r\n                color: options.color\r\n            })\r\n        }\r\n        return (0, _utils.patchFontOptions)(font)\r\n    },\r\n    _updateBarItemsPositions: function() {\r\n        var that = this;\r\n        var positions = that._getPositions();\r\n        that._backItem1.attr(that._buildItemSettings(positions.start, positions.back1));\r\n        that._backItem2.attr(that._buildItemSettings(positions.back2, positions.end));\r\n        that._spaceItem1.attr(that._buildItemSettings(positions.back1, positions.main1));\r\n        that._spaceItem2.attr(that._buildItemSettings(positions.main2, positions.back2));\r\n        that._mainItem.attr(that._buildItemSettings(positions.main1, positions.main2));\r\n        that._trackerElement && that._trackerElement.attr(that._buildItemSettings(positions.main1, positions.main2))\r\n    },\r\n    _render: function() {\r\n        var that = this;\r\n        that._measureText();\r\n        if (!that._backItem1) {\r\n            that._backItem1 = that._createBarItem();\r\n            that._backItem1.attr({\r\n                \"class\": \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!that._backItem2) {\r\n            that._backItem2 = that._createBarItem();\r\n            that._backItem2.attr({\r\n                \"class\": \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!that._spaceItem1) {\r\n            that._spaceItem1 = that._createBarItem();\r\n            that._spaceItem1.attr({\r\n                \"class\": \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!that._spaceItem2) {\r\n            that._spaceItem2 = that._createBarItem();\r\n            that._spaceItem2.attr({\r\n                \"class\": \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!that._mainItem) {\r\n            that._mainItem = that._createBarItem();\r\n            that._mainItem.attr({\r\n                \"class\": \"dxg-main-bar\"\r\n            })\r\n        }\r\n        that._updateBarItems();\r\n        that._updateTextItems()\r\n    },\r\n    _clear: function() {\r\n        var that = this;\r\n        delete that._backItem1;\r\n        delete that._backItem2;\r\n        delete that._spaceItem1;\r\n        delete that._spaceItem2;\r\n        delete that._mainItem;\r\n        delete that._hasText;\r\n        delete that._line;\r\n        delete that._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTooltipPosition();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color,\r\n            offset: 0\r\n        }\r\n    }\r\n});\r\nexports.BaseRangeBar = BaseRangeBar;\r\n"]},"metadata":{},"sourceType":"script"}