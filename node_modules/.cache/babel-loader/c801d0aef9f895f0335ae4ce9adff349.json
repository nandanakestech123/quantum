{"ast":null,"code":"/**\r\n * DevExtreme (ui/text_box/texteditor_button_collection/index.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\n\nvar _custom = _interopRequireDefault(require(\"./custom\"));\n\nvar _extend = require(\"../../../core/utils/extend\");\n\nvar _array = require(\"../../../core/utils/array\");\n\nvar _ui = _interopRequireDefault(require(\"../../widget/ui.errors\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar TEXTEDITOR_BUTTONS_CONTAINER_CLASS = \"dx-texteditor-buttons-container\";\n\nfunction checkButtonInfo(buttonInfo) {\n  var checkButtonType = function () {\n    if (!buttonInfo || \"object\" !== _typeof(buttonInfo) || Array.isArray(buttonInfo)) {\n      throw _ui.default.Error(\"E1053\");\n    }\n  };\n\n  var checkLocation = function () {\n    var location = buttonInfo.location;\n\n    if (\"location\" in buttonInfo && \"after\" !== location && \"before\" !== location) {\n      buttonInfo.location = \"after\";\n    }\n  };\n\n  var checkNameIsDefined = function () {\n    if (!(\"name\" in buttonInfo)) {\n      throw _ui.default.Error(\"E1054\");\n    }\n  };\n\n  var checkNameIsString = function () {\n    var name = buttonInfo.name;\n\n    if (\"string\" !== typeof name) {\n      throw _ui.default.Error(\"E1055\");\n    }\n  };\n\n  checkButtonType();\n  checkNameIsDefined();\n  checkNameIsString();\n  checkLocation();\n}\n\nfunction checkNamesUniqueness(existingNames, newName) {\n  if (existingNames.indexOf(newName) !== -1) {\n    throw _ui.default.Error(\"E1055\", newName);\n  }\n\n  existingNames.push(newName);\n}\n\nfunction isPredefinedButtonName(name, predefinedButtonsInfo) {\n  return !!(0, _array.find)(predefinedButtonsInfo, function (info) {\n    return info.name === name;\n  });\n}\n\nvar TextEditorButtonCollection = function () {\n  function TextEditorButtonCollection(editor, defaultButtonsInfo) {\n    _classCallCheck(this, TextEditorButtonCollection);\n\n    this.buttons = [];\n    this.defaultButtonsInfo = defaultButtonsInfo;\n    this.editor = editor;\n  }\n\n  _createClass(TextEditorButtonCollection, [{\n    key: \"_compileButtonInfo\",\n    value: function (buttons) {\n      var _this = this;\n\n      var names = [];\n      return buttons.map(function (button) {\n        var isStringButton = \"string\" === typeof button;\n\n        if (!isStringButton) {\n          checkButtonInfo(button);\n        }\n\n        var isDefaultButton = isStringButton || isPredefinedButtonName(button.name, _this.defaultButtonsInfo);\n\n        if (isDefaultButton) {\n          var defaultButtonInfo = (0, _array.find)(_this.defaultButtonsInfo, function (_ref) {\n            var name = _ref.name;\n            return name === button || name === button.name;\n          });\n\n          if (!defaultButtonInfo) {\n            throw _ui.default.Error(\"E1056\", _this.editor.NAME, button);\n          }\n\n          checkNamesUniqueness(names, button);\n          return defaultButtonInfo;\n        } else {\n          var name = button.name;\n          checkNamesUniqueness(names, name);\n          return (0, _extend.extend)(button, {\n            Ctor: _custom.default\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_createButton\",\n    value: function (buttonsInfo) {\n      var Ctor = buttonsInfo.Ctor,\n          options = buttonsInfo.options,\n          name = buttonsInfo.name;\n      var button = new Ctor(name, this.editor, options);\n      this.buttons.push(button);\n      return button;\n    }\n  }, {\n    key: \"_renderButtons\",\n    value: function (buttons, $container, targetLocation) {\n      var _this2 = this;\n\n      var $buttonsContainer = null;\n      var buttonsInfo = buttons ? this._compileButtonInfo(buttons) : this.defaultButtonsInfo;\n\n      var getButtonsContainer = function () {\n        $buttonsContainer = $buttonsContainer || (0, _renderer.default)(\"<div>\").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS);\n        \"before\" === targetLocation ? $container.prepend($buttonsContainer) : $container.append($buttonsContainer);\n        return $buttonsContainer;\n      };\n\n      buttonsInfo.forEach(function (buttonsInfo) {\n        var _buttonsInfo$location = buttonsInfo.location,\n            location = void 0 === _buttonsInfo$location ? \"after\" : _buttonsInfo$location;\n\n        if (location === targetLocation) {\n          _this2._createButton(buttonsInfo).render(getButtonsContainer());\n        }\n      });\n      return $buttonsContainer;\n    }\n  }, {\n    key: \"clean\",\n    value: function () {\n      this.buttons.forEach(function (button) {\n        return button.dispose();\n      });\n      this.buttons = [];\n    }\n  }, {\n    key: \"getButton\",\n    value: function (buttonName) {\n      var button = (0, _array.find)(this.buttons, function (_ref2) {\n        var name = _ref2.name;\n        return name === buttonName;\n      });\n      return button && button.instance;\n    }\n  }, {\n    key: \"renderAfterButtons\",\n    value: function (buttons, $container) {\n      return this._renderButtons(buttons, $container, \"after\");\n    }\n  }, {\n    key: \"renderBeforeButtons\",\n    value: function (buttons, $container) {\n      return this._renderButtons(buttons, $container, \"before\");\n    }\n  }, {\n    key: \"updateButtons\",\n    value: function (names) {\n      this.buttons.forEach(function (button) {\n        if (!names || names.indexOf(button.name) !== -1) {\n          button.update();\n        }\n      });\n    }\n  }]);\n\n  return TextEditorButtonCollection;\n}();\n\nexports.default = TextEditorButtonCollection;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/text_box/texteditor_button_collection/index.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_custom","_extend","_array","_ui","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_typeof","Symbol","iterator","constructor","TEXTEDITOR_BUTTONS_CONTAINER_CLASS","checkButtonInfo","buttonInfo","checkButtonType","Array","isArray","Error","checkLocation","location","checkNameIsDefined","checkNameIsString","name","checkNamesUniqueness","existingNames","newName","indexOf","push","isPredefinedButtonName","predefinedButtonsInfo","find","info","TextEditorButtonCollection","editor","defaultButtonsInfo","buttons","value","_this","names","map","button","isStringButton","isDefaultButton","defaultButtonInfo","_ref","NAME","extend","Ctor","buttonsInfo","options","$container","targetLocation","_this2","$buttonsContainer","_compileButtonInfo","getButtonsContainer","addClass","prepend","append","forEach","_buttonsInfo$location","_createButton","render","dispose","buttonName","_ref2","_renderButtons","update","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/text_box/texteditor_button_collection/index.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\r\nvar _custom = _interopRequireDefault(require(\"./custom\"));\r\nvar _extend = require(\"../../../core/utils/extend\");\r\nvar _array = require(\"../../../core/utils/array\");\r\nvar _ui = _interopRequireDefault(require(\"../../widget/ui.errors\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar TEXTEDITOR_BUTTONS_CONTAINER_CLASS = \"dx-texteditor-buttons-container\";\r\n\r\nfunction checkButtonInfo(buttonInfo) {\r\n    var checkButtonType = function() {\r\n        if (!buttonInfo || \"object\" !== _typeof(buttonInfo) || Array.isArray(buttonInfo)) {\r\n            throw _ui.default.Error(\"E1053\")\r\n        }\r\n    };\r\n    var checkLocation = function() {\r\n        var location = buttonInfo.location;\r\n        if (\"location\" in buttonInfo && \"after\" !== location && \"before\" !== location) {\r\n            buttonInfo.location = \"after\"\r\n        }\r\n    };\r\n    var checkNameIsDefined = function() {\r\n        if (!(\"name\" in buttonInfo)) {\r\n            throw _ui.default.Error(\"E1054\")\r\n        }\r\n    };\r\n    var checkNameIsString = function() {\r\n        var name = buttonInfo.name;\r\n        if (\"string\" !== typeof name) {\r\n            throw _ui.default.Error(\"E1055\")\r\n        }\r\n    };\r\n    checkButtonType();\r\n    checkNameIsDefined();\r\n    checkNameIsString();\r\n    checkLocation()\r\n}\r\n\r\nfunction checkNamesUniqueness(existingNames, newName) {\r\n    if (existingNames.indexOf(newName) !== -1) {\r\n        throw _ui.default.Error(\"E1055\", newName)\r\n    }\r\n    existingNames.push(newName)\r\n}\r\n\r\nfunction isPredefinedButtonName(name, predefinedButtonsInfo) {\r\n    return !!(0, _array.find)(predefinedButtonsInfo, function(info) {\r\n        return info.name === name\r\n    })\r\n}\r\nvar TextEditorButtonCollection = function() {\r\n    function TextEditorButtonCollection(editor, defaultButtonsInfo) {\r\n        _classCallCheck(this, TextEditorButtonCollection);\r\n        this.buttons = [];\r\n        this.defaultButtonsInfo = defaultButtonsInfo;\r\n        this.editor = editor\r\n    }\r\n    _createClass(TextEditorButtonCollection, [{\r\n        key: \"_compileButtonInfo\",\r\n        value: function(buttons) {\r\n            var _this = this;\r\n            var names = [];\r\n            return buttons.map(function(button) {\r\n                var isStringButton = \"string\" === typeof button;\r\n                if (!isStringButton) {\r\n                    checkButtonInfo(button)\r\n                }\r\n                var isDefaultButton = isStringButton || isPredefinedButtonName(button.name, _this.defaultButtonsInfo);\r\n                if (isDefaultButton) {\r\n                    var defaultButtonInfo = (0, _array.find)(_this.defaultButtonsInfo, function(_ref) {\r\n                        var name = _ref.name;\r\n                        return name === button || name === button.name\r\n                    });\r\n                    if (!defaultButtonInfo) {\r\n                        throw _ui.default.Error(\"E1056\", _this.editor.NAME, button)\r\n                    }\r\n                    checkNamesUniqueness(names, button);\r\n                    return defaultButtonInfo\r\n                } else {\r\n                    var name = button.name;\r\n                    checkNamesUniqueness(names, name);\r\n                    return (0, _extend.extend)(button, {\r\n                        Ctor: _custom.default\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createButton\",\r\n        value: function(buttonsInfo) {\r\n            var Ctor = buttonsInfo.Ctor,\r\n                options = buttonsInfo.options,\r\n                name = buttonsInfo.name;\r\n            var button = new Ctor(name, this.editor, options);\r\n            this.buttons.push(button);\r\n            return button\r\n        }\r\n    }, {\r\n        key: \"_renderButtons\",\r\n        value: function(buttons, $container, targetLocation) {\r\n            var _this2 = this;\r\n            var $buttonsContainer = null;\r\n            var buttonsInfo = buttons ? this._compileButtonInfo(buttons) : this.defaultButtonsInfo;\r\n            var getButtonsContainer = function() {\r\n                $buttonsContainer = $buttonsContainer || (0, _renderer.default)(\"<div>\").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS);\r\n                \"before\" === targetLocation ? $container.prepend($buttonsContainer) : $container.append($buttonsContainer);\r\n                return $buttonsContainer\r\n            };\r\n            buttonsInfo.forEach(function(buttonsInfo) {\r\n                var _buttonsInfo$location = buttonsInfo.location,\r\n                    location = void 0 === _buttonsInfo$location ? \"after\" : _buttonsInfo$location;\r\n                if (location === targetLocation) {\r\n                    _this2._createButton(buttonsInfo).render(getButtonsContainer())\r\n                }\r\n            });\r\n            return $buttonsContainer\r\n        }\r\n    }, {\r\n        key: \"clean\",\r\n        value: function() {\r\n            this.buttons.forEach(function(button) {\r\n                return button.dispose()\r\n            });\r\n            this.buttons = []\r\n        }\r\n    }, {\r\n        key: \"getButton\",\r\n        value: function(buttonName) {\r\n            var button = (0, _array.find)(this.buttons, function(_ref2) {\r\n                var name = _ref2.name;\r\n                return name === buttonName\r\n            });\r\n            return button && button.instance\r\n        }\r\n    }, {\r\n        key: \"renderAfterButtons\",\r\n        value: function(buttons, $container) {\r\n            return this._renderButtons(buttons, $container, \"after\")\r\n        }\r\n    }, {\r\n        key: \"renderBeforeButtons\",\r\n        value: function(buttons, $container) {\r\n            return this._renderButtons(buttons, $container, \"before\")\r\n        }\r\n    }, {\r\n        key: \"updateButtons\",\r\n        value: function(names) {\r\n            this.buttons.forEach(function(button) {\r\n                if (!names || names.indexOf(button.name) !== -1) {\r\n                    button.update()\r\n                }\r\n            })\r\n        }\r\n    }]);\r\n    return TextEditorButtonCollection\r\n}();\r\nexports.default = TextEditorButtonCollection;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}