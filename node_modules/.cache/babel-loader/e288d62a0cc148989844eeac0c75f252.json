{"ast":null,"code":"/**\r\n * DevExtreme (viz/sankey/sankey.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _node_item = _interopRequireDefault(require(\"./node_item\"));\n\nvar _link_item = _interopRequireDefault(require(\"./link_item\"));\n\nvar _layout = _interopRequireDefault(require(\"./layout\"));\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _base_widget = _interopRequireDefault(require(\"../core/base_widget\"));\n\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\n\nvar _data_source = require(\"../core/data_source\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction moveLabel(node, labelOptions, availableLabelWidth, rect) {\n  if (node._label.getBBox().width > availableLabelWidth) {\n    node.labelText.applyEllipsis(availableLabelWidth);\n  }\n\n  var bBox = node._label.getBBox();\n\n  var verticalOffset = labelOptions.verticalOffset;\n  var horizontalOffset = labelOptions.horizontalOffset;\n  var labelOffsetY = Math.round(node.rect.y + node.rect.height / 2 - bBox.y - bBox.height / 2) + verticalOffset;\n  var labelOffsetX = node.rect.x + horizontalOffset + node.rect.width - bBox.x;\n\n  if (labelOffsetX + bBox.width >= rect[2] - rect[0]) {\n    labelOffsetX = node.rect.x - horizontalOffset - bBox.x - bBox.width;\n  }\n\n  if (labelOffsetY >= rect[3]) {\n    labelOffsetY = rect[3];\n  }\n\n  if (labelOffsetY - bBox.height < rect[1]) {\n    labelOffsetY = node.rect.y - bBox.y + verticalOffset;\n  }\n\n  node.labelText.attr({\n    translateX: labelOffsetX,\n    translateY: labelOffsetY\n  });\n}\n\nfunction getConnectedLinks(layout, nodeName, linkType) {\n  var result = [];\n  var attrName = \"in\" === linkType ? \"_to\" : \"_from\";\n  var invertedAttrName = \"in\" === linkType ? \"_from\" : \"_to\";\n  layout.links.map(function (link) {\n    return link[attrName]._name === nodeName;\n  }).forEach(function (connected, idx) {\n    connected && result.push({\n      index: idx,\n      weight: layout.links[idx]._weight,\n      node: layout.links[idx][invertedAttrName]._name\n    });\n  });\n  return result;\n}\n\nvar dxSankey = _base_widget.default.inherit({\n  _rootClass: \"dxs-sankey\",\n  _rootClassPrefix: \"dxs\",\n  _proxyData: [],\n  _optionChangesMap: {\n    dataSource: \"DATA_SOURCE\",\n    sortData: \"DATA_SOURCE\",\n    alignment: \"DATA_SOURCE\",\n    node: \"BUILD_LAYOUT\",\n    link: \"BUILD_LAYOUT\",\n    palette: \"BUILD_LAYOUT\",\n    paletteExtensionMode: \"BUILD_LAYOUT\"\n  },\n  _themeDependentChanges: [\"BUILD_LAYOUT\"],\n  _getDefaultSize: function () {\n    return {\n      width: 400,\n      height: 400\n    };\n  },\n  _themeSection: \"sankey\",\n  _fontFields: [\"label.font\"],\n  _optionChangesOrder: [\"DATA_SOURCE\"],\n  _initialChanges: [\"DATA_SOURCE\"],\n  _initCore: function () {\n    this._groupLinks = this._renderer.g().append(this._renderer.root);\n    this._groupNodes = this._renderer.g().append(this._renderer.root);\n    this._groupLabels = this._renderer.g().attr({\n      \"class\": this._rootClassPrefix + \"-labels\"\n    }).append(this._renderer.root);\n    this._drawLabels = true;\n    this._nodes = [];\n    this._links = [];\n    this._gradients = [];\n  },\n  _disposeCore: _common.noop,\n  _applySize: function (rect) {\n    this._rect = rect.slice();\n\n    var adaptiveLayout = this._getOption(\"adaptiveLayout\");\n\n    if (adaptiveLayout.keepLabels || this._rect[2] - this._rect[0] > adaptiveLayout.width) {\n      this._drawLabels = true;\n    } else {\n      this._drawLabels = false;\n    }\n\n    this._change([\"BUILD_LAYOUT\"]);\n\n    return this._rect;\n  },\n  _eventsMap: {\n    onNodeHoverChanged: {\n      name: \"nodeHoverChanged\"\n    },\n    onLinkHoverChanged: {\n      name: \"linkHoverChanged\"\n    }\n  },\n  _customChangesOrder: [\"BUILD_LAYOUT\", \"NODES_DRAW\", \"LINKS_DRAW\", \"LABELS\", \"DRAWN\"],\n  _dataSourceChangedHandler: function () {\n    this._requestChange([\"BUILD_LAYOUT\"]);\n  },\n  _change_DRAWN: function () {\n    this._drawn();\n  },\n  _change_DATA_SOURCE: function () {\n    this._change([\"DRAWN\"]);\n\n    this._updateDataSource();\n  },\n  _change_LABELS: function () {\n    this._applyLabelsAppearance();\n  },\n  _change_BUILD_LAYOUT: function () {\n    this._groupNodes.clear();\n\n    this._groupLinks.clear();\n\n    this._groupLabels.clear();\n\n    this._buildLayout();\n  },\n  _change_NODES_DRAW: function () {\n    var that = this;\n    var nodes = that._nodes;\n    nodes.forEach(function (node, index) {\n      var element = that._renderer.rect().attr(node.rect).append(that._groupNodes);\n\n      node.element = element;\n    });\n\n    this._applyNodesAppearance();\n  },\n  _change_LINKS_DRAW: function () {\n    var that = this;\n    var links = that._links;\n    links.forEach(function (link, index) {\n      var group = that._renderer.g().attr({\n        \"class\": \"link\",\n        \"data-link-idx\": index\n      }).append(that._groupLinks);\n\n      link.overlayElement = that._renderer.path([], \"area\").attr({\n        d: link.d\n      }).append(group);\n      link.element = that._renderer.path([], \"area\").attr({\n        d: link.d\n      }).append(group);\n    });\n\n    this._applyLinksAppearance();\n  },\n  _suspend: function () {\n    if (!this._applyingChanges) {\n      this._suspendChanges();\n    }\n  },\n  _resume: function () {\n    if (!this._applyingChanges) {\n      this._resumeChanges();\n    }\n  },\n  _showTooltip: _common.noop,\n  hideTooltip: _common.noop,\n  clearHover: function () {\n    this._suspend();\n\n    this._nodes.forEach(function (node) {\n      node.isHovered() && node.hover(false);\n    });\n\n    this._links.forEach(function (link) {\n      link.isHovered() && link.hover(false);\n      link.isAdjacentNodeHovered() && link.adjacentNodeHover(false);\n    });\n\n    this._resume();\n  },\n  _applyNodesAppearance: function () {\n    this._nodes.forEach(function (node) {\n      var state = node.getState();\n      node.element.smartAttr(node.states[state]);\n    });\n  },\n  _applyLinksAppearance: function () {\n    this._links.forEach(function (link) {\n      var state = link.getState();\n      link.element.smartAttr(link.states[state]);\n      link.overlayElement.smartAttr(link.overlayStates[state]);\n    });\n  },\n  _hitTestTargets: function (x, y) {\n    var that = this;\n    var data;\n\n    this._proxyData.some(function (callback) {\n      data = callback.call(that, x, y);\n\n      if (data) {\n        return true;\n      }\n    });\n\n    return data;\n  },\n  _getData: function () {\n    var that = this;\n    var data = that._dataSourceItems() || [];\n\n    var sourceField = that._getOption(\"sourceField\", true);\n\n    var targetField = that._getOption(\"targetField\", true);\n\n    var weightField = that._getOption(\"weightField\", true);\n\n    var processedData = [];\n    data.forEach(function (item) {\n      var hasItemOwnProperty = Object.prototype.hasOwnProperty.bind(item);\n\n      if (!hasItemOwnProperty(sourceField)) {\n        that._incidentOccurred(\"E2007\", sourceField);\n      } else {\n        if (!hasItemOwnProperty(targetField)) {\n          that._incidentOccurred(\"E2007\", targetField);\n        } else {\n          if (!hasItemOwnProperty(weightField)) {\n            that._incidentOccurred(\"E2007\", weightField);\n          } else {\n            if (!(0, _type.isString)(item[sourceField])) {\n              that._incidentOccurred(\"E2008\", sourceField);\n            } else {\n              if (!(0, _type.isString)(item[targetField])) {\n                that._incidentOccurred(\"E2008\", targetField);\n              } else {\n                if (!(0, _type.isNumeric)(item[weightField]) || item[weightField] <= 0) {\n                  that._incidentOccurred(\"E2009\", weightField);\n                } else {\n                  processedData.push([item[sourceField], item[targetField], item[weightField]]);\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n    return processedData;\n  },\n  _buildLayout: function () {\n    var _this = this;\n\n    var that = this;\n\n    var data = that._getData();\n\n    var availableRect = this._rect;\n\n    var nodeOptions = that._getOption(\"node\");\n\n    var sortData = that._getOption(\"sortData\");\n\n    var layoutBuilder = that._getOption(\"layoutBuilder\", true) || _layout.default;\n\n    var rect = {\n      x: availableRect[0],\n      y: availableRect[1],\n      width: availableRect[2] - availableRect[0],\n      height: availableRect[3] - availableRect[1]\n    };\n    var layout = layoutBuilder.computeLayout(data, sortData, {\n      availableRect: rect,\n      nodePadding: nodeOptions.padding,\n      nodeWidth: nodeOptions.width,\n      nodeAlign: that._getOption(\"alignment\", true)\n    }, that._incidentOccurred);\n    that._layoutMap = layout;\n\n    if (!Object.prototype.hasOwnProperty.call(layout, \"error\")) {\n      var nodeColors = {};\n      var nodeIdx = 0;\n\n      var linkOptions = that._getOption(\"link\");\n\n      var totalNodesNum = layout.nodes.map(function (item) {\n        return item.length;\n      }).reduce(function (previousValue, currentValue) {\n        return previousValue + currentValue;\n      }, 0);\n\n      var palette = that._themeManager.createPalette(that._getOption(\"palette\", true), {\n        useHighlight: true,\n        extensionMode: that._getOption(\"paletteExtensionMode\", true),\n        count: totalNodesNum\n      });\n\n      that._nodes = [];\n      that._links = [];\n\n      that._gradients.forEach(function (gradient) {\n        gradient.dispose();\n      });\n\n      that._gradients = [];\n      that._shadowFilter && that._shadowFilter.dispose();\n      layout.nodes.forEach(function (cascadeNodes) {\n        cascadeNodes.forEach(function (node) {\n          var color = nodeOptions.color || palette.getNextColor();\n          var nodeItem = new _node_item.default(that, {\n            id: nodeIdx,\n            color: color,\n            rect: node,\n            options: nodeOptions,\n            linksIn: getConnectedLinks(layout, node._name, \"in\"),\n            linksOut: getConnectedLinks(layout, node._name, \"out\")\n          });\n\n          that._nodes.push(nodeItem);\n\n          nodeIdx++;\n          nodeColors[node._name] = color;\n        });\n      });\n      layout.links.forEach(function (link) {\n        var gradient = null;\n\n        if (linkOptions.colorMode === _constants.COLOR_MODE_GRADIENT) {\n          gradient = that._renderer.linearGradient([{\n            offset: \"0%\",\n            \"stop-color\": nodeColors[link._from._name]\n          }, {\n            offset: \"100%\",\n            \"stop-color\": nodeColors[link._to._name]\n          }]);\n\n          _this._gradients.push(gradient);\n        }\n\n        var color = linkOptions.color;\n\n        if (linkOptions.colorMode === _constants.COLOR_MODE_SOURCE) {\n          color = nodeColors[link._from._name];\n        } else {\n          if (linkOptions.colorMode === _constants.COLOR_MODE_TARGET) {\n            color = nodeColors[link._to._name];\n          }\n        }\n\n        var linkItem = new _link_item.default(that, {\n          d: link.d,\n          boundingRect: link._boundingRect,\n          color: color,\n          options: linkOptions,\n          connection: {\n            source: link._from._name,\n            target: link._to._name,\n            weight: link._weight\n          },\n          gradient: gradient\n        });\n\n        that._links.push(linkItem);\n      });\n\n      that._renderer.initHatching();\n\n      that._change([\"NODES_DRAW\", \"LINKS_DRAW\", \"LABELS\"]);\n    }\n\n    that._change([\"DRAWN\"]);\n  },\n  _applyLabelsAppearance: function () {\n    var that = this;\n\n    var labelOptions = that._getOption(\"label\");\n\n    var availableWidth = that._rect[2] - that._rect[0];\n\n    var nodeOptions = that._getOption(\"node\");\n\n    that._shadowFilter = that._renderer.shadowFilter(\"-50%\", \"-50%\", \"200%\", \"200%\").attr(labelOptions.shadow);\n\n    that._groupLabels.clear();\n\n    if (that._drawLabels && labelOptions.visible) {\n      var availableLabelWidth = (availableWidth - (nodeOptions.width + labelOptions.horizontalOffset) - that._layoutMap.cascades.length * nodeOptions.width) / (that._layoutMap.cascades.length - 1) - labelOptions.horizontalOffset;\n\n      that._nodes.forEach(function (node) {\n        that._createLabel(node, labelOptions, that._shadowFilter.id);\n\n        moveLabel(node, labelOptions, availableLabelWidth, that._rect);\n      });\n\n      if (\"none\" !== labelOptions.overlappingBehavior) {\n        that._nodes.forEach(function (thisNode) {\n          var thisBox = thisNode._label.getBBox();\n\n          that._nodes.forEach(function (otherNode) {\n            var otherBox = otherNode._label.getBBox();\n\n            if (thisNode.id !== otherNode.id && _layout.default.overlap(thisBox, otherBox)) {\n              if (\"ellipsis\" === labelOptions.overlappingBehavior) {\n                thisNode.labelText.applyEllipsis(otherBox.x - thisBox.x);\n              } else {\n                if (\"hide\" === labelOptions.overlappingBehavior) {\n                  thisNode.labelText.remove();\n                }\n              }\n            }\n          });\n        });\n      }\n    }\n  },\n  _createLabel: function (node, labelOptions, filter) {\n    var textData = labelOptions.customizeText(node);\n    var settings = node.getLabelAttributes(labelOptions, filter);\n\n    if (textData) {\n      node._label = this._renderer.g().append(this._groupLabels);\n      node.labelText = this._renderer.text(textData).attr(settings.attr).css(settings.css);\n      node.labelText.append(node._label);\n    }\n  },\n  _getMinSize: function () {\n    var adaptiveLayout = this._getOption(\"adaptiveLayout\");\n\n    return [adaptiveLayout.width, adaptiveLayout.height];\n  },\n  getAllNodes: function () {\n    return this._nodes.slice();\n  },\n  getAllLinks: function () {\n    return this._links.slice();\n  }\n});\n\n(0, _component_registrator.default)(\"dxSankey\", dxSankey);\nvar _default = dxSankey;\nexports.default = _default;\ndxSankey.addPlugin(_data_source.plugin);\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/sankey/sankey.js"],"names":["exports","default","_constants","require","_common","_node_item","_interopRequireDefault","_link_item","_layout","_type","_base_widget","_component_registrator","_data_source","obj","__esModule","moveLabel","node","labelOptions","availableLabelWidth","rect","_label","getBBox","width","labelText","applyEllipsis","bBox","verticalOffset","horizontalOffset","labelOffsetY","Math","round","y","height","labelOffsetX","x","attr","translateX","translateY","getConnectedLinks","layout","nodeName","linkType","result","attrName","invertedAttrName","links","map","link","_name","forEach","connected","idx","push","index","weight","_weight","dxSankey","inherit","_rootClass","_rootClassPrefix","_proxyData","_optionChangesMap","dataSource","sortData","alignment","palette","paletteExtensionMode","_themeDependentChanges","_getDefaultSize","_themeSection","_fontFields","_optionChangesOrder","_initialChanges","_initCore","_groupLinks","_renderer","g","append","root","_groupNodes","_groupLabels","_drawLabels","_nodes","_links","_gradients","_disposeCore","noop","_applySize","_rect","slice","adaptiveLayout","_getOption","keepLabels","_change","_eventsMap","onNodeHoverChanged","name","onLinkHoverChanged","_customChangesOrder","_dataSourceChangedHandler","_requestChange","_change_DRAWN","_drawn","_change_DATA_SOURCE","_updateDataSource","_change_LABELS","_applyLabelsAppearance","_change_BUILD_LAYOUT","clear","_buildLayout","_change_NODES_DRAW","that","nodes","element","_applyNodesAppearance","_change_LINKS_DRAW","group","overlayElement","path","d","_applyLinksAppearance","_suspend","_applyingChanges","_suspendChanges","_resume","_resumeChanges","_showTooltip","hideTooltip","clearHover","isHovered","hover","isAdjacentNodeHovered","adjacentNodeHover","state","getState","smartAttr","states","overlayStates","_hitTestTargets","data","some","callback","call","_getData","_dataSourceItems","sourceField","targetField","weightField","processedData","item","hasItemOwnProperty","Object","prototype","hasOwnProperty","bind","_incidentOccurred","isString","isNumeric","_this","availableRect","nodeOptions","layoutBuilder","computeLayout","nodePadding","padding","nodeWidth","nodeAlign","_layoutMap","nodeColors","nodeIdx","linkOptions","totalNodesNum","length","reduce","previousValue","currentValue","_themeManager","createPalette","useHighlight","extensionMode","count","gradient","dispose","_shadowFilter","cascadeNodes","color","getNextColor","nodeItem","id","options","linksIn","linksOut","colorMode","COLOR_MODE_GRADIENT","linearGradient","offset","_from","_to","COLOR_MODE_SOURCE","COLOR_MODE_TARGET","linkItem","boundingRect","_boundingRect","connection","source","target","initHatching","availableWidth","shadowFilter","shadow","visible","cascades","_createLabel","overlappingBehavior","thisNode","thisBox","otherNode","otherBox","overlap","remove","filter","textData","customizeText","settings","getLabelAttributes","text","css","_getMinSize","getAllNodes","getAllLinks","_default","addPlugin","plugin","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sankey/sankey.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _constants = require(\"./constants\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _node_item = _interopRequireDefault(require(\"./node_item\"));\r\nvar _link_item = _interopRequireDefault(require(\"./link_item\"));\r\nvar _layout = _interopRequireDefault(require(\"./layout\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _base_widget = _interopRequireDefault(require(\"../core/base_widget\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _data_source = require(\"../core/data_source\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction moveLabel(node, labelOptions, availableLabelWidth, rect) {\r\n    if (node._label.getBBox().width > availableLabelWidth) {\r\n        node.labelText.applyEllipsis(availableLabelWidth)\r\n    }\r\n    var bBox = node._label.getBBox();\r\n    var verticalOffset = labelOptions.verticalOffset;\r\n    var horizontalOffset = labelOptions.horizontalOffset;\r\n    var labelOffsetY = Math.round(node.rect.y + node.rect.height / 2 - bBox.y - bBox.height / 2) + verticalOffset;\r\n    var labelOffsetX = node.rect.x + horizontalOffset + node.rect.width - bBox.x;\r\n    if (labelOffsetX + bBox.width >= rect[2] - rect[0]) {\r\n        labelOffsetX = node.rect.x - horizontalOffset - bBox.x - bBox.width\r\n    }\r\n    if (labelOffsetY >= rect[3]) {\r\n        labelOffsetY = rect[3]\r\n    }\r\n    if (labelOffsetY - bBox.height < rect[1]) {\r\n        labelOffsetY = node.rect.y - bBox.y + verticalOffset\r\n    }\r\n    node.labelText.attr({\r\n        translateX: labelOffsetX,\r\n        translateY: labelOffsetY\r\n    })\r\n}\r\n\r\nfunction getConnectedLinks(layout, nodeName, linkType) {\r\n    var result = [];\r\n    var attrName = \"in\" === linkType ? \"_to\" : \"_from\";\r\n    var invertedAttrName = \"in\" === linkType ? \"_from\" : \"_to\";\r\n    layout.links.map(function(link) {\r\n        return link[attrName]._name === nodeName\r\n    }).forEach(function(connected, idx) {\r\n        connected && result.push({\r\n            index: idx,\r\n            weight: layout.links[idx]._weight,\r\n            node: layout.links[idx][invertedAttrName]._name\r\n        })\r\n    });\r\n    return result\r\n}\r\nvar dxSankey = _base_widget.default.inherit({\r\n    _rootClass: \"dxs-sankey\",\r\n    _rootClassPrefix: \"dxs\",\r\n    _proxyData: [],\r\n    _optionChangesMap: {\r\n        dataSource: \"DATA_SOURCE\",\r\n        sortData: \"DATA_SOURCE\",\r\n        alignment: \"DATA_SOURCE\",\r\n        node: \"BUILD_LAYOUT\",\r\n        link: \"BUILD_LAYOUT\",\r\n        palette: \"BUILD_LAYOUT\",\r\n        paletteExtensionMode: \"BUILD_LAYOUT\"\r\n    },\r\n    _themeDependentChanges: [\"BUILD_LAYOUT\"],\r\n    _getDefaultSize: function() {\r\n        return {\r\n            width: 400,\r\n            height: 400\r\n        }\r\n    },\r\n    _themeSection: \"sankey\",\r\n    _fontFields: [\"label.font\"],\r\n    _optionChangesOrder: [\"DATA_SOURCE\"],\r\n    _initialChanges: [\"DATA_SOURCE\"],\r\n    _initCore: function() {\r\n        this._groupLinks = this._renderer.g().append(this._renderer.root);\r\n        this._groupNodes = this._renderer.g().append(this._renderer.root);\r\n        this._groupLabels = this._renderer.g().attr({\r\n            \"class\": this._rootClassPrefix + \"-labels\"\r\n        }).append(this._renderer.root);\r\n        this._drawLabels = true;\r\n        this._nodes = [];\r\n        this._links = [];\r\n        this._gradients = []\r\n    },\r\n    _disposeCore: _common.noop,\r\n    _applySize: function(rect) {\r\n        this._rect = rect.slice();\r\n        var adaptiveLayout = this._getOption(\"adaptiveLayout\");\r\n        if (adaptiveLayout.keepLabels || this._rect[2] - this._rect[0] > adaptiveLayout.width) {\r\n            this._drawLabels = true\r\n        } else {\r\n            this._drawLabels = false\r\n        }\r\n        this._change([\"BUILD_LAYOUT\"]);\r\n        return this._rect\r\n    },\r\n    _eventsMap: {\r\n        onNodeHoverChanged: {\r\n            name: \"nodeHoverChanged\"\r\n        },\r\n        onLinkHoverChanged: {\r\n            name: \"linkHoverChanged\"\r\n        }\r\n    },\r\n    _customChangesOrder: [\"BUILD_LAYOUT\", \"NODES_DRAW\", \"LINKS_DRAW\", \"LABELS\", \"DRAWN\"],\r\n    _dataSourceChangedHandler: function() {\r\n        this._requestChange([\"BUILD_LAYOUT\"])\r\n    },\r\n    _change_DRAWN: function() {\r\n        this._drawn()\r\n    },\r\n    _change_DATA_SOURCE: function() {\r\n        this._change([\"DRAWN\"]);\r\n        this._updateDataSource()\r\n    },\r\n    _change_LABELS: function() {\r\n        this._applyLabelsAppearance()\r\n    },\r\n    _change_BUILD_LAYOUT: function() {\r\n        this._groupNodes.clear();\r\n        this._groupLinks.clear();\r\n        this._groupLabels.clear();\r\n        this._buildLayout()\r\n    },\r\n    _change_NODES_DRAW: function() {\r\n        var that = this;\r\n        var nodes = that._nodes;\r\n        nodes.forEach(function(node, index) {\r\n            var element = that._renderer.rect().attr(node.rect).append(that._groupNodes);\r\n            node.element = element\r\n        });\r\n        this._applyNodesAppearance()\r\n    },\r\n    _change_LINKS_DRAW: function() {\r\n        var that = this;\r\n        var links = that._links;\r\n        links.forEach(function(link, index) {\r\n            var group = that._renderer.g().attr({\r\n                \"class\": \"link\",\r\n                \"data-link-idx\": index\r\n            }).append(that._groupLinks);\r\n            link.overlayElement = that._renderer.path([], \"area\").attr({\r\n                d: link.d\r\n            }).append(group);\r\n            link.element = that._renderer.path([], \"area\").attr({\r\n                d: link.d\r\n            }).append(group)\r\n        });\r\n        this._applyLinksAppearance()\r\n    },\r\n    _suspend: function() {\r\n        if (!this._applyingChanges) {\r\n            this._suspendChanges()\r\n        }\r\n    },\r\n    _resume: function() {\r\n        if (!this._applyingChanges) {\r\n            this._resumeChanges()\r\n        }\r\n    },\r\n    _showTooltip: _common.noop,\r\n    hideTooltip: _common.noop,\r\n    clearHover: function() {\r\n        this._suspend();\r\n        this._nodes.forEach(function(node) {\r\n            node.isHovered() && node.hover(false)\r\n        });\r\n        this._links.forEach(function(link) {\r\n            link.isHovered() && link.hover(false);\r\n            link.isAdjacentNodeHovered() && link.adjacentNodeHover(false)\r\n        });\r\n        this._resume()\r\n    },\r\n    _applyNodesAppearance: function() {\r\n        this._nodes.forEach(function(node) {\r\n            var state = node.getState();\r\n            node.element.smartAttr(node.states[state])\r\n        })\r\n    },\r\n    _applyLinksAppearance: function() {\r\n        this._links.forEach(function(link) {\r\n            var state = link.getState();\r\n            link.element.smartAttr(link.states[state]);\r\n            link.overlayElement.smartAttr(link.overlayStates[state])\r\n        })\r\n    },\r\n    _hitTestTargets: function(x, y) {\r\n        var that = this;\r\n        var data;\r\n        this._proxyData.some(function(callback) {\r\n            data = callback.call(that, x, y);\r\n            if (data) {\r\n                return true\r\n            }\r\n        });\r\n        return data\r\n    },\r\n    _getData: function() {\r\n        var that = this;\r\n        var data = that._dataSourceItems() || [];\r\n        var sourceField = that._getOption(\"sourceField\", true);\r\n        var targetField = that._getOption(\"targetField\", true);\r\n        var weightField = that._getOption(\"weightField\", true);\r\n        var processedData = [];\r\n        data.forEach(function(item) {\r\n            var hasItemOwnProperty = Object.prototype.hasOwnProperty.bind(item);\r\n            if (!hasItemOwnProperty(sourceField)) {\r\n                that._incidentOccurred(\"E2007\", sourceField)\r\n            } else {\r\n                if (!hasItemOwnProperty(targetField)) {\r\n                    that._incidentOccurred(\"E2007\", targetField)\r\n                } else {\r\n                    if (!hasItemOwnProperty(weightField)) {\r\n                        that._incidentOccurred(\"E2007\", weightField)\r\n                    } else {\r\n                        if (!(0, _type.isString)(item[sourceField])) {\r\n                            that._incidentOccurred(\"E2008\", sourceField)\r\n                        } else {\r\n                            if (!(0, _type.isString)(item[targetField])) {\r\n                                that._incidentOccurred(\"E2008\", targetField)\r\n                            } else {\r\n                                if (!(0, _type.isNumeric)(item[weightField]) || item[weightField] <= 0) {\r\n                                    that._incidentOccurred(\"E2009\", weightField)\r\n                                } else {\r\n                                    processedData.push([item[sourceField], item[targetField], item[weightField]])\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return processedData\r\n    },\r\n    _buildLayout: function() {\r\n        var _this = this;\r\n        var that = this;\r\n        var data = that._getData();\r\n        var availableRect = this._rect;\r\n        var nodeOptions = that._getOption(\"node\");\r\n        var sortData = that._getOption(\"sortData\");\r\n        var layoutBuilder = that._getOption(\"layoutBuilder\", true) || _layout.default;\r\n        var rect = {\r\n            x: availableRect[0],\r\n            y: availableRect[1],\r\n            width: availableRect[2] - availableRect[0],\r\n            height: availableRect[3] - availableRect[1]\r\n        };\r\n        var layout = layoutBuilder.computeLayout(data, sortData, {\r\n            availableRect: rect,\r\n            nodePadding: nodeOptions.padding,\r\n            nodeWidth: nodeOptions.width,\r\n            nodeAlign: that._getOption(\"alignment\", true)\r\n        }, that._incidentOccurred);\r\n        that._layoutMap = layout;\r\n        if (!Object.prototype.hasOwnProperty.call(layout, \"error\")) {\r\n            var nodeColors = {};\r\n            var nodeIdx = 0;\r\n            var linkOptions = that._getOption(\"link\");\r\n            var totalNodesNum = layout.nodes.map(function(item) {\r\n                return item.length\r\n            }).reduce(function(previousValue, currentValue) {\r\n                return previousValue + currentValue\r\n            }, 0);\r\n            var palette = that._themeManager.createPalette(that._getOption(\"palette\", true), {\r\n                useHighlight: true,\r\n                extensionMode: that._getOption(\"paletteExtensionMode\", true),\r\n                count: totalNodesNum\r\n            });\r\n            that._nodes = [];\r\n            that._links = [];\r\n            that._gradients.forEach(function(gradient) {\r\n                gradient.dispose()\r\n            });\r\n            that._gradients = [];\r\n            that._shadowFilter && that._shadowFilter.dispose();\r\n            layout.nodes.forEach(function(cascadeNodes) {\r\n                cascadeNodes.forEach(function(node) {\r\n                    var color = nodeOptions.color || palette.getNextColor();\r\n                    var nodeItem = new _node_item.default(that, {\r\n                        id: nodeIdx,\r\n                        color: color,\r\n                        rect: node,\r\n                        options: nodeOptions,\r\n                        linksIn: getConnectedLinks(layout, node._name, \"in\"),\r\n                        linksOut: getConnectedLinks(layout, node._name, \"out\")\r\n                    });\r\n                    that._nodes.push(nodeItem);\r\n                    nodeIdx++;\r\n                    nodeColors[node._name] = color\r\n                })\r\n            });\r\n            layout.links.forEach(function(link) {\r\n                var gradient = null;\r\n                if (linkOptions.colorMode === _constants.COLOR_MODE_GRADIENT) {\r\n                    gradient = that._renderer.linearGradient([{\r\n                        offset: \"0%\",\r\n                        \"stop-color\": nodeColors[link._from._name]\r\n                    }, {\r\n                        offset: \"100%\",\r\n                        \"stop-color\": nodeColors[link._to._name]\r\n                    }]);\r\n                    _this._gradients.push(gradient)\r\n                }\r\n                var color = linkOptions.color;\r\n                if (linkOptions.colorMode === _constants.COLOR_MODE_SOURCE) {\r\n                    color = nodeColors[link._from._name]\r\n                } else {\r\n                    if (linkOptions.colorMode === _constants.COLOR_MODE_TARGET) {\r\n                        color = nodeColors[link._to._name]\r\n                    }\r\n                }\r\n                var linkItem = new _link_item.default(that, {\r\n                    d: link.d,\r\n                    boundingRect: link._boundingRect,\r\n                    color: color,\r\n                    options: linkOptions,\r\n                    connection: {\r\n                        source: link._from._name,\r\n                        target: link._to._name,\r\n                        weight: link._weight\r\n                    },\r\n                    gradient: gradient\r\n                });\r\n                that._links.push(linkItem)\r\n            });\r\n            that._renderer.initHatching();\r\n            that._change([\"NODES_DRAW\", \"LINKS_DRAW\", \"LABELS\"])\r\n        }\r\n        that._change([\"DRAWN\"])\r\n    },\r\n    _applyLabelsAppearance: function() {\r\n        var that = this;\r\n        var labelOptions = that._getOption(\"label\");\r\n        var availableWidth = that._rect[2] - that._rect[0];\r\n        var nodeOptions = that._getOption(\"node\");\r\n        that._shadowFilter = that._renderer.shadowFilter(\"-50%\", \"-50%\", \"200%\", \"200%\").attr(labelOptions.shadow);\r\n        that._groupLabels.clear();\r\n        if (that._drawLabels && labelOptions.visible) {\r\n            var availableLabelWidth = (availableWidth - (nodeOptions.width + labelOptions.horizontalOffset) - that._layoutMap.cascades.length * nodeOptions.width) / (that._layoutMap.cascades.length - 1) - labelOptions.horizontalOffset;\r\n            that._nodes.forEach(function(node) {\r\n                that._createLabel(node, labelOptions, that._shadowFilter.id);\r\n                moveLabel(node, labelOptions, availableLabelWidth, that._rect)\r\n            });\r\n            if (\"none\" !== labelOptions.overlappingBehavior) {\r\n                that._nodes.forEach(function(thisNode) {\r\n                    var thisBox = thisNode._label.getBBox();\r\n                    that._nodes.forEach(function(otherNode) {\r\n                        var otherBox = otherNode._label.getBBox();\r\n                        if (thisNode.id !== otherNode.id && _layout.default.overlap(thisBox, otherBox)) {\r\n                            if (\"ellipsis\" === labelOptions.overlappingBehavior) {\r\n                                thisNode.labelText.applyEllipsis(otherBox.x - thisBox.x)\r\n                            } else {\r\n                                if (\"hide\" === labelOptions.overlappingBehavior) {\r\n                                    thisNode.labelText.remove()\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _createLabel: function(node, labelOptions, filter) {\r\n        var textData = labelOptions.customizeText(node);\r\n        var settings = node.getLabelAttributes(labelOptions, filter);\r\n        if (textData) {\r\n            node._label = this._renderer.g().append(this._groupLabels);\r\n            node.labelText = this._renderer.text(textData).attr(settings.attr).css(settings.css);\r\n            node.labelText.append(node._label)\r\n        }\r\n    },\r\n    _getMinSize: function() {\r\n        var adaptiveLayout = this._getOption(\"adaptiveLayout\");\r\n        return [adaptiveLayout.width, adaptiveLayout.height]\r\n    },\r\n    getAllNodes: function() {\r\n        return this._nodes.slice()\r\n    },\r\n    getAllLinks: function() {\r\n        return this._links.slice()\r\n    }\r\n});\r\n(0, _component_registrator.default)(\"dxSankey\", dxSankey);\r\nvar _default = dxSankey;\r\nexports.default = _default;\r\ndxSankey.addPlugin(_data_source.plugin);\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}