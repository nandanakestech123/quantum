{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\CustomerPlusSettings\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport { getCustomerPlusSettings, updateCustomerPlusSettings } from \"redux/actions/customerPlus\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\nexport class SettingsClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataList: [],\n      tableHeader: [{\n        label: \"Field Name\",\n        sortKey: \"field\"\n      }, {\n        label: \"Mandatory\",\n        sortKey: \"mandatory\"\n      }, {\n        label: \"Show in Register\",\n        sortKey: \"register\"\n      }, {\n        label: \"Show in Profile\",\n        sortKey: \"profile\"\n      }, {\n        label: \"Show in Listing\",\n        sortKey: \"listing\"\n      }],\n      isLoading: true,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleSearch = event => {};\n\n    this.loadData = async () => {\n      this.updateState({\n        isLoading: true\n      });\n      await this.props.getCustomerPlusSettings();\n      let {\n        dataList\n      } = this.props;\n      this.updateState({\n        dataList,\n        isLoading: false\n      });\n    };\n\n    this.handleSubmit = async () => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        dataList\n      } = this.state;\n      if (dataList.length == 0) return;\n      let reqData = {\n        customerControlList: dataList\n      };\n      await this.props.updateCustomerPlusSettings(JSON.stringify(reqData));\n      this.loadData();\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    let {\n      dataList,\n      tableHeader,\n      isLoading\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, t(\"Customer Settings\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Field\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Save\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: tableHeader,\n      queryHandler: this.handlePagination,\n      parentHeaderChange: value => this.updateState(() => tableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, t(\"Loading...\")))))) : dataList ? dataList.map((item, index) => {\n      var _tableHeader$0$enable, _tableHeader$3$enable, _tableHeader$3$enable2, _tableHeader$3$enable3, _tableHeader$3$enable4;\n\n      let {\n        display_field_name,\n        visible_in_profile,\n        visible_in_listing,\n        mandatory,\n        visible_in_registration\n      } = item;\n      console.log(tableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$0$enable = tableHeader[0].enabled) !== null && _tableHeader$0$enable !== void 0 ? _tableHeader$0$enable : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }\n      }, display_field_name)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable = tableHeader[3].enabled) !== null && _tableHeader$3$enable !== void 0 ? _tableHeader$3$enable : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: mandatory,\n        onClick: () => {\n          dataList[index].mandatory = !mandatory;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable2 = tableHeader[3].enabled) !== null && _tableHeader$3$enable2 !== void 0 ? _tableHeader$3$enable2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_registration,\n        onClick: () => {\n          dataList[index].visible_in_registration = !visible_in_registration;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable3 = tableHeader[3].enabled) !== null && _tableHeader$3$enable3 !== void 0 ? _tableHeader$3$enable3 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_profile,\n        onClick: () => {\n          dataList[index].visible_in_profile = !visible_in_profile;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_tableHeader$3$enable4 = tableHeader[3].enabled) !== null && _tableHeader$3$enable4 !== void 0 ? _tableHeader$3$enable4 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: visible_in_listing,\n        onClick: () => {\n          dataList[index].visible_in_listing = !visible_in_listing;\n          this.updateState({\n            dataList\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 27\n        }\n      }))));\n    }) : \"\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  dataList: state.customerPlus.customerPlusSettings\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomerPlusSettings,\n    updateCustomerPlusSettings\n  }, dispatch);\n};\n\nexport const Settings = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(SettingsClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerPlusSettings/index.js"],"names":["React","NormalButton","getCustomerPlusSettings","updateCustomerPlusSettings","InputSearch","TableWrapper","connect","bindActionCreators","withTranslation","SettingsClass","Component","state","dataList","tableHeader","label","sortKey","isLoading","isMounted","updateState","data","setState","handleSearch","event","loadData","props","handleSubmit","length","reqData","customerControlList","JSON","stringify","componentWillUnmount","componentDidMount","render","t","handlesearch","handlePagination","value","map","item","index","display_field_name","visible_in_profile","visible_in_listing","mandatory","visible_in_registration","console","log","enabled","mapStateToProps","customerPlus","customerPlusSettings","mapDispatchToProps","dispatch","Settings"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport {\n  getCustomerPlusSettings,\n  updateCustomerPlusSettings,\n} from \"redux/actions/customerPlus\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\n\nexport class SettingsClass extends React.Component {\n  state = {\n    dataList: [],\n    tableHeader: [\n      { label: \"Field Name\", sortKey: \"field\" },\n      { label: \"Mandatory\", sortKey: \"mandatory\" },\n      { label: \"Show in Register\", sortKey: \"register\" },\n      { label: \"Show in Profile\", sortKey: \"profile\" },\n      { label: \"Show in Listing\", sortKey: \"listing\" },\n    ],\n    isLoading: true,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = data => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  handleSearch = event => {};\n\n  loadData = async () => {\n    this.updateState({ isLoading: true });\n    await this.props.getCustomerPlusSettings();\n    let { dataList } = this.props;\n    this.updateState({ dataList, isLoading: false });\n  };\n\n  handleSubmit = async () => {\n    this.updateState({ isLoading: true });\n    let { dataList } = this.state;\n    if (dataList.length == 0) return;\n    let reqData = { customerControlList: dataList };\n    await this.props.updateCustomerPlusSettings(JSON.stringify(reqData));\n    this.loadData();\n  };\n\n  render() {\n    let { dataList, tableHeader, isLoading } = this.state;\n    let { t } = this.props;\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"col-md-12 mb-4 p-0\">\n          <h3 className=\"head-label\">{t(\"Customer Settings\")}</h3>\n        </div>\n        <div className=\"row align-items-center mb-4\">\n          <div className=\"col\">\n            <div className=\"d-flex\">\n              <div className=\"w-100 mr-5\">\n                <InputSearch\n                  className=\"\"\n                  placeholder=\"Search Field\"\n                  onChange={this.handlesearch}\n                />\n              </div>\n\n              <div className=\"w-100 col-4 p-0\">\n                <NormalButton\n                  mainbg={true}\n                  className=\"col-12 fs-15 float-right\"\n                  label=\"Save\"\n                  onClick={this.handleSubmit}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"table-responsive\">\n          <div className=\"table-container\">\n            <TableWrapper\n              headerDetails={tableHeader}\n              queryHandler={this.handlePagination}\n              parentHeaderChange={value =>\n                this.updateState(() => (tableHeader = value))\n              }\n            >\n              {isLoading ? (\n                <tr>\n                  <td colSpan=\"7\">\n                    <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                      <div class=\"spinner-border\" role=\"status\">\n                        <span class=\"sr-only\">{t(\"Loading...\")}</span>\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              ) : dataList ? (\n                dataList.map((item, index) => {\n                  let {\n                    display_field_name,\n                    visible_in_profile,\n                    visible_in_listing,\n                    mandatory,\n                    visible_in_registration,\n                  } = item;\n                  console.log(tableHeader[0]);\n                  return (\n                    <tr key={index}>\n                      <td\n                        className={\n                          tableHeader[0].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          {display_field_name}\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={mandatory}\n                            onClick={() => {\n                              dataList[index].mandatory = !mandatory;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={visible_in_registration}\n                            onClick={() => {\n                              dataList[index].visible_in_registration =\n                                !visible_in_registration;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={visible_in_profile}\n                            onClick={() => {\n                              dataList[index].visible_in_profile =\n                                !visible_in_profile;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                      <td\n                        className={\n                          tableHeader[3].enabled ?? true ? \"\" : \"d-none\"\n                        }\n                      >\n                        <div className=\"d-flex align-items-center justify-content-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={visible_in_listing}\n                            onClick={() => {\n                              dataList[index].visible_in_listing =\n                                !visible_in_listing;\n                              this.updateState({ dataList });\n                            }}\n                          />\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                \"\"\n              )}\n            </TableWrapper>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  dataList: state.customerPlus.customerPlusSettings,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      getCustomerPlusSettings,\n      updateCustomerPlusSettings,\n    },\n    dispatch\n  );\n};\n\nexport const Settings = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(SettingsClass)\n);\n"]},"metadata":{},"sourceType":"module"}