{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{NormalButton,TableWrapper,NormalSelect}from\"component/common\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";import Invoice from\"component/Admin/Report/Account/Invoice\";import{withTranslation}from\"react-i18next\";export var TreatmentAccountClass=/*#__PURE__*/function(_Component){_inherits(TreatmentAccountClass,_Component);var _super=_createSuper(TreatmentAccountClass);function TreatmentAccountClass(){var _this;_classCallCheck(this,TreatmentAccountClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeTab:\"\",isOpenTreatmentDone:false,isActiveTab:\"detail\",headerDetails:[{label:\"Date\",sortKey:true,width:\"80px\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"sa_date\");}},{label:\"Transaction #\",width:\"52px\"},{label:\"Treatment #\",sortKey:false,width:\"75px\"},{label:\"Description\",sortKey:false,width:\"155px\"},{label:\"Payment\",sortKey:false,width:\"70px\"},{label:\"Credit Balance\",sortKey:false,width:\"72px\"},{label:\"Outstanding\",sortKey:false,width:\"72px\"},{label:\"Qty\",sortKey:false,width:\"72px\"},{label:\"Balance Qty\",sortKey:false,width:\"72px\"},{label:\"\",sortKey:false,width:\"72px\"}],detailHeader:[{label:\"Date\",sortKey:false,width:\"80px\"},{label:\"Description\",sortKey:false,width:\"155px\"},{label:\"Type\",width:\"52px\"},{label:\"Amount\",sortKey:false,width:\"70px\"},{label:\"Credit Balance\",sortKey:false,width:\"72px\"},{label:\"Outstanding\",sortKey:false,width:\"72px\"}],accountList:[],DetailList:[],yearList:[],year:new Date().getFullYear(),accountHeader:{},isPrintPdfClick:false,orderBy:\"asc\"};_this.handleSort=function(sortkey,order){var _this$state=_this.state,accountList=_this$state.accountList,orderBy=_this$state.orderBy;_this.setState({orderBy:_this.state.orderBy==\"asc\"?\"desc\":\"asc\"});if(orderBy===\"asc\"){accountList.sort(function(a,b){return a[sortkey]>b[sortkey]?1:b[sortkey]>a[sortkey]?-1:0;});}else{accountList.sort(function(a,b){return a[sortkey]<b[sortkey]?1:b[sortkey]<a[sortkey]?-1:0;});}_this.setState({accountList:accountList});};_this.getFilter=function(){_this.props.getCommonApi(\"treatmentdone/Year/\").then(function(key){var status=key.status,data=key.data;var yearList=_this.state.yearList;var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;yearList.push({value:value,label:value});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({yearList:yearList});});};_this.getAccountData=function(){var _this$state2=_this.state,year=_this$state2.year,accountHeader=_this$state2.accountHeader;_this.props.getCommonApi(\"treatmentacclist/?cust_id=\".concat(_this.props.id,\"&year=\").concat(year)).then(function(key){console.log(key.data,\"treatment account table list\");var data=key.data,header_data=key.header_data;var accountList=_this.state.accountList;accountList=data;accountHeader=header_data;_this.setState({accountList:accountList,accountHeader:accountHeader});_this.handleSort(\"sa_date\");});};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$target,value,name,year;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;year=_this.state.year;year=value;_context.next=5;return _this.setState({year:year});case 5:_this.getAccountData();case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleOpenDetail=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var activeTab;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:activeTab=_this.state.activeTab;activeTab=\"detail\";_context2.next=4;return _this.setState({activeTab:activeTab});case 4:_this.getDetailList(data.id);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.getDetailList=function(id){_this.props.getCommonApi(\"treatmentacclist/\".concat(id)).then(function(key){var data=key.data,header_data=key.header_data;var _this$state3=_this.state,DetailList=_this$state3.DetailList,accountHeader=_this$state3.accountHeader;DetailList=data;accountHeader=header_data;_this.setState({DetailList:DetailList,accountHeader:accountHeader});});};_this.handleBack=function(){var activeTab=_this.state.activeTab;activeTab=\"\";_this.setState({activeTab:activeTab,DetailList:[]});_this.getAccountData();};_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};return _this;}_createClass(TreatmentAccountClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getFilter();this.getAccountData();}},{key:\"render\",value:function render(){var _this2=this;var _this$state4=this.state,_this$state4$accountH=_this$state4.accountHeader,accountHeader=_this$state4$accountH===void 0?{}:_this$state4$accountH,headerDetails=_this$state4.headerDetails,accountList=_this$state4.accountList,yearList=_this$state4.yearList,year=_this$state4.year,activeTab=_this$state4.activeTab,detailHeader=_this$state4.detailHeader,DetailList=_this$state4.DetailList,isPrintPdfClick=_this$state4.isPrintPdfClick,invoice=_this$state4.invoice;var balance=accountHeader.balance,treatment_count=accountHeader.treatment_count,outstanding=accountHeader.outstanding,credit_balance=accountHeader.credit_balance,outstanding_balance=accountHeader.outstanding_balance,treatparent_code=accountHeader.treatparent_code,sa_transacno_ref=accountHeader.sa_transacno_ref;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"treatment-account row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3 mb-4\"},activeTab!==\"detail\"?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 mb-2\"},t(\"Treatment List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 mb-2\"},/*#__PURE__*/React.createElement(NormalSelect,{options:yearList,value:year,name:\"year\",onChange:this.handleChange,className:\"customer-name py-1\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},t(\"Total Treatment Count\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},treatment_count)):/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},t(\"Transaction #\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},sa_transacno_ref),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},t(\"Treatment #\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},treatparent_code))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},t(\"Credit Balance\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},\"$ \",activeTab!==\"detail\"?balance:credit_balance),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},t(\"Outstanding Balance\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"$ \",activeTab!==\"detail\"?outstanding:outstanding_balance))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},activeTab!==\"detail\"?/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination},accountList&&accountList.length>0?accountList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.sa_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.transaction)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.treatment_parentcode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.description)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"$\"+item.payment)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"$\"+item.balance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"$\"+item.outstanding)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.balance_qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"view mr-3\",mainbg:true,className:\"col-12 fs-15 \",label:\"view\",onClick:function onClick(){return _this2.handleOpenDetail(item);}}))));}):null):/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:detailHeader,queryHandler:this.handlePagination},DetailList&&DetailList.length>0?DetailList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.sa_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.description)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.type)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"$\"+item.amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"$\"+item.balance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"$\"+item.outstanding)));}):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 justify-center d-flex\"},activeTab===\"detail\"?/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"back mr-3\",mainbg:true,className:\"col-12 fs-15 \",label:\"Back\",onClick:function onClick(){return _this2.handleBack();}}):\"\",/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"print\",className:\"col-12 fs-15 \",label:\"Print\",onClick:function onClick(){_this2.setState({isPrintPdfClick:true});}})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(Invoice,{TableList:activeTab!==\"detail\"?accountList:DetailList,accountHeader:accountHeader,Flag:activeTab!==\"detail\"?1:2,landscape:activeTab!==\"detail\"?true:false})},function(_ref4){var blob=_ref4.blob,url=_ref4.url,loading=_ref4.loading,error=_ref4.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null);}}]);return TreatmentAccountClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var TreatmentAccount=withTranslation()(connect(null,mapDispatchToProps)(TreatmentAccountClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Accounts/treatmentAccount.js"],"names":["React","Component","NormalButton","TableWrapper","NormalSelect","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","connect","bindActionCreators","PDFViewer","PDFDownloadLink","BlobProvider","Invoice","withTranslation","TreatmentAccountClass","state","activeTab","isOpenTreatmentDone","isActiveTab","headerDetails","label","sortKey","width","singleClickFunc","handleSort","detailHeader","accountList","DetailList","yearList","year","Date","getFullYear","accountHeader","isPrintPdfClick","orderBy","sortkey","order","setState","sort","a","b","getFilter","props","then","key","status","data","value","push","getAccountData","id","console","log","header_data","toggle","tab","handleChange","target","name","handleOpenDetail","getDetailList","handleBack","handlePrintPdfFormat","url","document","createElement","setAttribute","click","window","open","invoice","balance","treatment_count","outstanding","credit_balance","outstanding_balance","treatparent_code","sa_transacno_ref","t","handlePagination","length","map","item","index","sa_date","transaction","treatment_parentcode","description","payment","qty","balance_qty","type","amount","blob","loading","error","mapDispatchToProps","dispatch","TreatmentAccount"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { NormalButton, TableWrapper, NormalSelect } from \"component/common\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class TreatmentAccountClass extends Component {\r\n  state = {\r\n    activeTab: \"\",\r\n    isOpenTreatmentDone: false,\r\n    isActiveTab: \"detail\",\r\n    headerDetails: [\r\n      {\r\n        label: \"Date\",\r\n        sortKey: true,\r\n        width: \"80px\",\r\n        singleClickFunc: () => this.handleSort(\"sa_date\"),\r\n      },\r\n      { label: \"Transaction #\", width: \"52px\" },\r\n      { label: \"Treatment #\", sortKey: false, width: \"75px\" },\r\n      { label: \"Description\", sortKey: false, width: \"155px\" },\r\n      { label: \"Payment\", sortKey: false, width: \"70px\" },\r\n      { label: \"Credit Balance\", sortKey: false, width: \"72px\" },\r\n      { label: \"Outstanding\", sortKey: false, width: \"72px\" },\r\n      { label: \"Qty\", sortKey: false, width: \"72px\" },\r\n      { label: \"Balance Qty\", sortKey: false, width: \"72px\" },\r\n      { label: \"\", sortKey: false, width: \"72px\" },\r\n    ],\r\n    detailHeader: [\r\n      { label: \"Date\", sortKey: false, width: \"80px\" },\r\n      { label: \"Description\", sortKey: false, width: \"155px\" },\r\n      { label: \"Type\", width: \"52px\" },\r\n      { label: \"Amount\", sortKey: false, width: \"70px\" },\r\n      { label: \"Credit Balance\", sortKey: false, width: \"72px\" },\r\n      { label: \"Outstanding\", sortKey: false, width: \"72px\" },\r\n    ],\r\n    accountList: [],\r\n    DetailList: [],\r\n    yearList: [],\r\n    year: new Date().getFullYear(),\r\n    accountHeader: {},\r\n    isPrintPdfClick: false,\r\n    orderBy: \"asc\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getFilter();\r\n    this.getAccountData();\r\n  }\r\n\r\n  handleSort = (sortkey, order) => {\r\n    let { accountList, orderBy } = this.state;\r\n    this.setState({\r\n      orderBy: this.state.orderBy == \"asc\" ? \"desc\" : \"asc\",\r\n    });\r\n\r\n    if (orderBy === \"asc\") {\r\n      accountList.sort((a, b) =>\r\n        a[sortkey] > b[sortkey] ? 1 : b[sortkey] > a[sortkey] ? -1 : 0\r\n      );\r\n    } else {\r\n      accountList.sort((a, b) =>\r\n        a[sortkey] < b[sortkey] ? 1 : b[sortkey] < a[sortkey] ? -1 : 0\r\n      );\r\n    }\r\n    this.setState({\r\n      accountList,\r\n    });\r\n  };\r\n\r\n  getFilter = () => {\r\n    this.props.getCommonApi(\"treatmentdone/Year/\").then(key => {\r\n      let { status, data } = key;\r\n      let { yearList } = this.state;\r\n      for (let value of data) {\r\n        yearList.push({ value: value, label: value });\r\n      }\r\n      this.setState({ yearList });\r\n    });\r\n  };\r\n\r\n  getAccountData = () => {\r\n    let { year, accountHeader } = this.state;\r\n    this.props\r\n      .getCommonApi(`treatmentacclist/?cust_id=${this.props.id}&year=${year}`)\r\n      .then(key => {\r\n        console.log(key.data, \"treatment account table list\");\r\n        let { data, header_data } = key;\r\n        let { accountList } = this.state;\r\n        accountList = data;\r\n        accountHeader = header_data;\r\n        this.setState({ accountList, accountHeader });\r\n        this.handleSort(\"sa_date\");\r\n      });\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { year } = this.state;\r\n    year = value;\r\n    await this.setState({\r\n      year,\r\n    });\r\n    this.getAccountData();\r\n  };\r\n\r\n  handleOpenDetail = async data => {\r\n    let { activeTab } = this.state;\r\n    activeTab = \"detail\";\r\n\r\n    await this.setState({\r\n      activeTab,\r\n    });\r\n    this.getDetailList(data.id);\r\n  };\r\n\r\n  getDetailList = id => {\r\n    this.props.getCommonApi(`treatmentacclist/${id}`).then(key => {\r\n      let { data, header_data } = key;\r\n      let { DetailList, accountHeader } = this.state;\r\n      DetailList = data;\r\n      accountHeader = header_data;\r\n      this.setState({ DetailList, accountHeader });\r\n    });\r\n  };\r\n\r\n  handleBack = () => {\r\n    let { activeTab } = this.state;\r\n    activeTab = \"\";\r\n    this.setState({\r\n      activeTab,\r\n      DetailList: [],\r\n    });\r\n    this.getAccountData();\r\n  };\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n  render() {\r\n    let {\r\n      accountHeader = {},\r\n      headerDetails,\r\n      accountList,\r\n      yearList,\r\n      year,\r\n      activeTab,\r\n      detailHeader,\r\n      DetailList,\r\n      isPrintPdfClick,\r\n      invoice,\r\n    } = this.state;\r\n    let {\r\n      balance,\r\n      treatment_count,\r\n      outstanding,\r\n      credit_balance,\r\n      outstanding_balance,\r\n      treatparent_code,\r\n      sa_transacno_ref,\r\n    } = accountHeader;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"treatment-account row\">\r\n        <div className=\"col-6 mt-3 mb-4\">\r\n          {activeTab !== \"detail\" ? (\r\n            <div className=\"row\">\r\n              <div className=\"col-5 mb-2\">{t(\"Treatment List\")}</div>\r\n              <div className=\"col-5 mb-2\">\r\n                <NormalSelect\r\n                  options={yearList}\r\n                  value={year}\r\n                  name=\"year\"\r\n                  onChange={this.handleChange}\r\n                  className=\"customer-name py-1\"\r\n                />\r\n              </div>\r\n              <div className=\"col-5\">{t(\"Total Treatment Count\")}</div>\r\n              <div className=\"col-5\">{treatment_count}</div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"row\">\r\n              <div className=\"col-6 mb-2\">{t(\"Transaction #\")}</div>\r\n              <div className=\"col-6 mb-2\">{sa_transacno_ref}</div>\r\n\r\n              <div className=\"col-6\">{t(\"Treatment #\")}</div>\r\n              <div className=\"col-6\">{treatparent_code}</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-6 mt-3 mb-4\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6 mb-2\">{t(\"Credit Balance\")}</div>\r\n            <div className=\"col-6 mb-2\">\r\n              $ {activeTab !== \"detail\" ? balance : credit_balance}\r\n            </div>\r\n\r\n            <div className=\"col-6\">{t(\"Outstanding Balance\")}</div>\r\n            <div className=\"col-6\">\r\n              $ {activeTab !== \"detail\" ? outstanding : outstanding_balance}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"table\">\r\n            {activeTab !== \"detail\" ? (\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n              >\r\n                {accountList && accountList.length > 0\r\n                  ? accountList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.sa_date}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.transaction}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.treatment_parentcode}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.description}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {\"$\" + item.payment}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {\"$\" + item.balance}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {\"$\" + item.outstanding}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.qty}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.balance_qty}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalButton\r\n                                buttonClass={\"view mr-3\"}\r\n                                mainbg={true}\r\n                                className=\"col-12 fs-15 \"\r\n                                label=\"view\"\r\n                                onClick={() => this.handleOpenDetail(item)}\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            ) : (\r\n              <TableWrapper\r\n                headerDetails={detailHeader}\r\n                queryHandler={this.handlePagination}\r\n              >\r\n                {DetailList && DetailList.length > 0\r\n                  ? DetailList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.sa_date}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.description}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.type}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {\"$\" + item.amount}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {\"$\" + item.balance}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {\"$\" + item.outstanding}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 justify-center d-flex\">\r\n          {activeTab === \"detail\" ? (\r\n            <NormalButton\r\n              buttonClass={\"back mr-3\"}\r\n              mainbg={true}\r\n              className=\"col-12 fs-15 \"\r\n              label=\"Back\"\r\n              onClick={() => this.handleBack()}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <NormalButton\r\n            buttonClass={\"print\"}\r\n            className=\"col-12 fs-15 \"\r\n            label=\"Print\"\r\n            onClick={() => {\r\n              this.setState({ isPrintPdfClick: true });\r\n            }}\r\n          />\r\n        </div>\r\n        {isPrintPdfClick ? (\r\n          <PDFDownloadLink\r\n            document={\r\n              <Invoice\r\n                TableList={activeTab !== \"detail\" ? accountList : DetailList}\r\n                accountHeader={accountHeader}\r\n                Flag={activeTab !== \"detail\" ? 1 : 2}\r\n                landscape={activeTab !== \"detail\" ? true : false}\r\n              />\r\n            }\r\n          >\r\n            {({ blob, url, loading, error }) =>\r\n              !loading && url ? this.handlePrintPdfFormat(url) : null\r\n            }\r\n          </PDFDownloadLink>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TreatmentAccount = withTranslation()(\r\n  connect(null, mapDispatchToProps)(TreatmentAccountClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}