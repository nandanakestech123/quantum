{"ast":null,"code":"/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _element = require(\"../../core/element\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _utils = require(\"../overlay/utils\");\n\nvar _index = require(\"../../events/utils/index\");\n\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\n\nvar _hover = require(\"../../events/hover\");\n\nvar _ui = _interopRequireDefault(require(\"../context_menu/ui.menu_base\"));\n\nvar _overlay = _interopRequireDefault(require(\"../overlay\"));\n\nvar _ui2 = _interopRequireDefault(require(\"./ui.submenu\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _tree_view = _interopRequireDefault(require(\"../tree_view\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function (target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar DX_MENU_CLASS = \"dx-menu\";\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\nvar FOCUS_UP = \"up\";\nvar FOCUS_DOWN = \"down\";\nvar FOCUS_LEFT = \"left\";\nvar FOCUS_RIGHT = \"right\";\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\nvar NEXTITEM_OPERATION = \"nextItem\";\nvar PREVITEM_OPERATION = \"prevItem\";\nvar DEFAULT_DELAY = {\n  show: 50,\n  hide: 300\n};\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\", \"onItemRendered\"];\n\nvar Menu = function (_MenuBase) {\n  _inherits(Menu, _MenuBase);\n\n  var _super = _createSuper(Menu);\n\n  function Menu() {\n    _classCallCheck(this, Menu);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Menu, [{\n    key: \"_getDefaultOptions\",\n    value: function () {\n      return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\n        orientation: \"horizontal\",\n        submenuDirection: \"auto\",\n        showFirstSubmenuMode: {\n          name: \"onClick\",\n          delay: {\n            show: 50,\n            hide: 300\n          }\n        },\n        hideSubmenuOnMouseLeave: false,\n        onSubmenuShowing: null,\n        onSubmenuShown: null,\n        onSubmenuHiding: null,\n        onSubmenuHidden: null,\n        adaptivityEnabled: false\n      });\n    }\n  }, {\n    key: \"_setOptionsByReference\",\n    value: function () {\n      _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\n\n      (0, _extend.extend)(this._optionsByReference, {\n        animation: true,\n        selectedItem: true\n      });\n    }\n  }, {\n    key: \"_itemElements\",\n    value: function () {\n      var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\n\n      var submenuElements = this._submenuItemElements();\n\n      return rootMenuElements.add(submenuElements);\n    }\n  }, {\n    key: \"_submenuItemElements\",\n    value: function () {\n      var elements = [];\n      var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\n      var currentSubmenu = this._submenus.length && this._submenus[0];\n\n      if (currentSubmenu && currentSubmenu.itemsContainer()) {\n        elements = currentSubmenu.itemsContainer().find(itemSelector);\n      }\n\n      return elements;\n    }\n  }, {\n    key: \"_focusTarget\",\n    value: function () {\n      return this.$element();\n    }\n  }, {\n    key: \"_isMenuHorizontal\",\n    value: function () {\n      return \"horizontal\" === this.option(\"orientation\");\n    }\n  }, {\n    key: \"_moveFocus\",\n    value: function (location) {\n      var $items = this._getAvailableItems();\n\n      var isMenuHorizontal = this._isMenuHorizontal();\n\n      var $activeItem = this._getActiveItem(true);\n\n      var argument;\n      var operation;\n      var navigationAction;\n      var $newTarget;\n\n      switch (location) {\n        case FOCUS_UP:\n          operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\n          argument = isMenuHorizontal ? $activeItem : $items;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_DOWN:\n          operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\n          argument = isMenuHorizontal ? $activeItem : $items;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_RIGHT:\n          operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\n          argument = isMenuHorizontal ? $items : $activeItem;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_LEFT:\n          operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\n          argument = isMenuHorizontal ? $items : $activeItem;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        default:\n          return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location);\n      }\n\n      if ($newTarget && 0 !== $newTarget.length) {\n        this.option(\"focusedElement\", (0, _element.getPublicElement)($newTarget));\n      }\n    }\n  }, {\n    key: \"_getItemsNavigationOperation\",\n    value: function (operation) {\n      var navOperation = operation;\n\n      if (this.option(\"rtlEnabled\")) {\n        navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION;\n      }\n\n      return navOperation;\n    }\n  }, {\n    key: \"_getKeyboardNavigationAction\",\n    value: function (operation, argument) {\n      var action = _common.noop;\n\n      switch (operation) {\n        case SHOW_SUBMENU_OPERATION:\n          if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\n            action = this._showSubmenu.bind(this, argument);\n          }\n\n          break;\n\n        case NEXTITEM_OPERATION:\n          action = this._nextItem.bind(this, argument);\n          break;\n\n        case PREVITEM_OPERATION:\n          action = this._prevItem.bind(this, argument);\n      }\n\n      return action;\n    }\n  }, {\n    key: \"_clean\",\n    value: function () {\n      _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\n\n      this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer);\n    }\n  }, {\n    key: \"_visibilityChanged\",\n    value: function (visible) {\n      if (visible) {\n        if (!this._menuItemsWidth) {\n          this._updateItemsWidthCache();\n        }\n\n        this._dimensionChanged();\n      }\n    }\n  }, {\n    key: \"_isAdaptivityEnabled\",\n    value: function () {\n      return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\");\n    }\n  }, {\n    key: \"_updateItemsWidthCache\",\n    value: function () {\n      var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\n      this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true);\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function () {\n      if (!this._isAdaptivityEnabled()) {\n        return;\n      }\n\n      var containerWidth = this.$element().outerWidth();\n\n      this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth);\n    }\n  }, {\n    key: \"_init\",\n    value: function () {\n      _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\n\n      this._submenus = [];\n    }\n  }, {\n    key: \"_initActions\",\n    value: function () {\n      var _this = this;\n\n      this._actions = {};\n      (0, _iterator.each)(ACTIONS, function (index, action) {\n        _this._actions[action] = _this._createActionByOption(action);\n      });\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function () {\n      this._visibleSubmenu = null;\n      this.$element().addClass(DX_MENU_CLASS);\n\n      _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\n\n      this.setAria(\"role\", \"menubar\");\n    }\n  }, {\n    key: \"_render\",\n    value: function () {\n      _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\n\n      this._initAdaptivity();\n    }\n  }, {\n    key: \"_renderHamburgerButton\",\n    value: function () {\n      this._hamburger = new _button.default((0, _renderer.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\n        icon: \"menu\",\n        activeStateEnabled: false,\n        onClick: this._toggleTreeView.bind(this)\n      });\n      return this._hamburger.$element();\n    }\n  }, {\n    key: \"_toggleTreeView\",\n    value: function (state) {\n      if ((0, _type.isPlainObject)(state)) {\n        state = !this._overlay.option(\"visible\");\n      }\n\n      this._overlay.option(\"visible\", state);\n\n      this._toggleHamburgerActiveState(state);\n    }\n  }, {\n    key: \"_toggleHamburgerActiveState\",\n    value: function (state) {\n      this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state);\n    }\n  }, {\n    key: \"_toggleAdaptiveMode\",\n    value: function (state) {\n      var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\n      var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\n\n      if (state) {\n        this._hideVisibleSubmenu();\n      } else {\n        this._treeView && this._treeView.collapseAll();\n        this._overlay && this._toggleTreeView(state);\n      }\n\n      $menuItemsContainer.toggle(!state);\n      $adaptiveElements.toggle(state);\n    }\n  }, {\n    key: \"_removeAdaptivity\",\n    value: function () {\n      if (!this._$adaptiveContainer) {\n        return;\n      }\n\n      this._toggleAdaptiveMode(false);\n\n      this._$adaptiveContainer.remove();\n\n      this._$adaptiveContainer = null;\n      this._treeView = null;\n      this._hamburger = null;\n      this._overlay = null;\n    }\n  }, {\n    key: \"_treeviewItemClickHandler\",\n    value: function (e) {\n      this._actions.onItemClick(e);\n\n      if (!e.node.children.length) {\n        this._toggleTreeView(false);\n      }\n    }\n  }, {\n    key: \"_getAdaptiveOverlayOptions\",\n    value: function () {\n      var _this2 = this;\n\n      var rtl = this.option(\"rtlEnabled\");\n      var position = rtl ? \"right\" : \"left\";\n      return {\n        maxHeight: function () {\n          return (0, _utils.getElementMaxHeightByWindow)(_this2.$element());\n        },\n        deferRendering: false,\n        shading: false,\n        animation: false,\n        closeOnTargetScroll: true,\n        onHidden: function () {\n          _this2._toggleHamburgerActiveState(false);\n        },\n        height: \"auto\",\n        closeOnOutsideClick: function (e) {\n          return !(0, _renderer.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length;\n        },\n        position: {\n          collision: \"flipfit\",\n          at: \"bottom \" + position,\n          my: \"top \" + position,\n          of: this._hamburger.$element()\n        }\n      };\n    }\n  }, {\n    key: \"_getTreeViewOptions\",\n    value: function () {\n      var _this3 = this;\n\n      var menuOptions = {};\n      var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\n      var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\n      (0, _iterator.each)(optionsToTransfer, function (_, option) {\n        menuOptions[option] = _this3.option(option);\n      });\n      (0, _iterator.each)(actionsToTransfer, function (_, actionName) {\n        menuOptions[actionName] = function (e) {\n          _this3._actions[actionName](e);\n        };\n      });\n      return (0, _extend.extend)(menuOptions, {\n        dataSource: this.getDataSource(),\n        animationEnabled: !!this.option(\"animation\"),\n        onItemClick: this._treeviewItemClickHandler.bind(this),\n        onItemExpanded: function (e) {\n          _this3._overlay.repaint();\n\n          _this3._actions.onSubmenuShown(e);\n        },\n        onItemCollapsed: function (e) {\n          _this3._overlay.repaint();\n\n          _this3._actions.onSubmenuHidden(e);\n        },\n        selectNodesRecursive: false,\n        selectByClick: this.option(\"selectByClick\"),\n        expandEvent: \"click\"\n      });\n    }\n  }, {\n    key: \"_initAdaptivity\",\n    value: function () {\n      if (!this._isAdaptivityEnabled()) {\n        return;\n      }\n\n      this._$adaptiveContainer = (0, _renderer.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\n\n      var $hamburger = this._renderHamburgerButton();\n\n      this._treeView = this._createComponent((0, _renderer.default)(\"<div>\"), _tree_view.default, this._getTreeViewOptions());\n      this._overlay = this._createComponent((0, _renderer.default)(\"<div>\"), _overlay.default, this._getAdaptiveOverlayOptions());\n\n      this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\n\n      this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\n\n      this._$adaptiveContainer.append($hamburger);\n\n      this._$adaptiveContainer.append(this._overlay.$element());\n\n      this.$element().append(this._$adaptiveContainer);\n\n      this._updateItemsWidthCache();\n\n      this._dimensionChanged();\n    }\n  }, {\n    key: \"_getDelay\",\n    value: function (delayType) {\n      var delay = this.option(\"showFirstSubmenuMode\").delay;\n\n      if (!(0, _type.isDefined)(delay)) {\n        return DEFAULT_DELAY[delayType];\n      } else {\n        return (0, _type.isObject)(delay) ? delay[delayType] : delay;\n      }\n    }\n  }, {\n    key: \"_keyboardHandler\",\n    value: function (e) {\n      return _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e, !!this._visibleSubmenu);\n    }\n  }, {\n    key: \"_renderContainer\",\n    value: function () {\n      var $wrapper = (0, _renderer.default)(\"<div>\");\n      $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\n      return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper);\n    }\n  }, {\n    key: \"_renderSubmenuItems\",\n    value: function (node, $itemFrame) {\n      var submenu = this._createSubmenu(node, $itemFrame);\n\n      this._submenus.push(submenu);\n\n      this._renderBorderElement($itemFrame);\n\n      return submenu;\n    }\n  }, {\n    key: \"_getKeyboardListeners\",\n    value: function () {\n      return _get(_getPrototypeOf(Menu.prototype), \"_getKeyboardListeners\", this).call(this).concat(this._visibleSubmenu);\n    }\n  }, {\n    key: \"_createSubmenu\",\n    value: function (node, $rootItem) {\n      var $submenuContainer = (0, _renderer.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\n\n      var items = this._getChildNodes(node);\n\n      var result = this._createComponent($submenuContainer, _ui2.default, (0, _extend.extend)(this._getSubmenuOptions(), {\n        _dataAdapter: this._dataAdapter,\n        _parentKey: node.internalFields.key,\n        items: items,\n        onHoverStart: this._clearTimeouts.bind(this),\n        position: this.getSubmenuPosition($rootItem)\n      }));\n\n      this._attachSubmenuHandlers($rootItem, result);\n\n      return result;\n    }\n  }, {\n    key: \"_getSubmenuOptions\",\n    value: function () {\n      var _this4 = this;\n\n      var $submenuTarget = (0, _renderer.default)(\"<div>\");\n\n      var isMenuHorizontal = this._isMenuHorizontal();\n\n      return {\n        itemTemplate: this.option(\"itemTemplate\"),\n        target: $submenuTarget,\n        orientation: this.option(\"orientation\"),\n        selectionMode: this.option(\"selectionMode\"),\n        cssClass: this.option(\"cssClass\"),\n        selectByClick: this.option(\"selectByClick\"),\n        hoverStateEnabled: this.option(\"hoverStateEnabled\"),\n        activeStateEnabled: this.option(\"activeStateEnabled\"),\n        focusStateEnabled: this.option(\"focusStateEnabled\"),\n        animation: this.option(\"animation\"),\n        showSubmenuMode: this.option(\"showSubmenuMode\"),\n        displayExpr: this.option(\"displayExpr\"),\n        disabledExpr: this.option(\"disabledExpr\"),\n        selectedExpr: this.option(\"selectedExpr\"),\n        itemsExpr: this.option(\"itemsExpr\"),\n        onFocusedItemChanged: function (e) {\n          if (!e.component.option(\"visible\")) {\n            return;\n          }\n\n          _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"));\n        },\n        onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\n        onItemClick: this._nestedItemOnItemClickHandler.bind(this),\n        onItemRendered: this._nestedItemOnItemRenderedHandler.bind(this),\n        onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\n        onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\n        onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\n        onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\n      };\n    }\n  }, {\n    key: \"_getShowFirstSubmenuMode\",\n    value: function () {\n      if (!this._isDesktopDevice()) {\n        return \"onClick\";\n      }\n\n      var optionValue = this.option(\"showFirstSubmenuMode\");\n      return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\n    }\n  }, {\n    key: \"_moveMainMenuFocus\",\n    value: function (direction) {\n      var $items = this._getAvailableItems();\n\n      var itemCount = $items.length;\n      var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\n      var itemIndex = $items.index($currentItem);\n\n      this._hideSubmenu(this._visibleSubmenu);\n\n      itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\n\n      if (itemIndex >= itemCount) {\n        itemIndex = 0;\n      } else {\n        if (itemIndex < 0) {\n          itemIndex = itemCount - 1;\n        }\n      }\n\n      var $newItem = $items.eq(itemIndex);\n      this.option(\"focusedElement\", (0, _element.getPublicElement)($newItem));\n    }\n  }, {\n    key: \"_nestedItemOnSelectionChangedHandler\",\n    value: function (args) {\n      var selectedItem = args.addedItems.length && args.addedItems[0];\n\n      var submenu = _ui2.default.getInstance(args.element);\n\n      var onSelectionChanged = this._actions.onSelectionChanged;\n      onSelectionChanged(args);\n      selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\n\n      this._clearRootSelection();\n\n      this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem);\n    }\n  }, {\n    key: \"_clearSelectionInSubmenus\",\n    value: function (item, targetSubmenu) {\n      var _this5 = this;\n\n      var cleanAllSubmenus = !arguments.length;\n      (0, _iterator.each)(this._submenus, function (index, submenu) {\n        var $submenu = submenu._itemContainer();\n\n        var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\n        var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\n\n        if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\n          $selectedItem.removeClass(_this5._selectedItemClass());\n\n          var selectedItemData = _this5._getItemData($selectedItem);\n\n          if (selectedItemData) {\n            selectedItemData.selected = false;\n          }\n\n          submenu._clearSelectedItems();\n        }\n      });\n    }\n  }, {\n    key: \"_clearRootSelection\",\n    value: function () {\n      var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\n\n      if ($prevSelectedItem.length) {\n        var prevSelectedItemData = this._getItemData($prevSelectedItem);\n\n        prevSelectedItemData.selected = false;\n        $prevSelectedItem.removeClass(this._selectedItemClass());\n      }\n    }\n  }, {\n    key: \"_nestedItemOnItemClickHandler\",\n    value: function (e) {\n      this._actions.onItemClick(e);\n    }\n  }, {\n    key: \"_nestedItemOnItemRenderedHandler\",\n    value: function (e) {\n      this._actions.onItemRendered(e);\n    }\n  }, {\n    key: \"_attachSubmenuHandlers\",\n    value: function ($rootItem, submenu) {\n      var _this6 = this;\n\n      var $submenuOverlayContent = submenu.getOverlayContent();\n      var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\n      var submenuMouseLeaveName = (0, _index.addNamespace)(_hover.end, this.NAME + \"_submenu\");\n      submenu.option({\n        onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\n        onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\n        onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\n        onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\n      });\n      (0, _iterator.each)(submenus, function (index, submenu) {\n        _events_engine.default.off(submenu, submenuMouseLeaveName);\n\n        _events_engine.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem));\n      });\n    }\n  }, {\n    key: \"_submenuOnShowingHandler\",\n    value: function ($rootItem, submenu) {\n      var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\n\n      this._actions.onSubmenuShowing({\n        rootItem: (0, _element.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n\n      $border.show();\n      $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS);\n    }\n  }, {\n    key: \"_submenuOnShownHandler\",\n    value: function ($rootItem, submenu) {\n      this._actions.onSubmenuShown({\n        rootItem: (0, _element.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n    }\n  }, {\n    key: \"_submenuOnHidingHandler\",\n    value: function ($rootItem, submenu, eventArgs) {\n      var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\n      var args = eventArgs;\n      args.rootItem = (0, _element.getPublicElement)($rootItem);\n      args.submenu = submenu;\n\n      this._actions.onSubmenuHiding(args);\n\n      eventArgs = args;\n\n      if (!eventArgs.cancel) {\n        if (this._visibleSubmenu === submenu) {\n          this._visibleSubmenu = null;\n        }\n\n        $border.hide();\n        $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\n      }\n    }\n  }, {\n    key: \"_submenuOnHiddenHandler\",\n    value: function ($rootItem, submenu) {\n      this._actions.onSubmenuHidden({\n        rootItem: (0, _element.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n    }\n  }, {\n    key: \"_submenuMouseLeaveHandler\",\n    value: function ($rootItem, eventArgs) {\n      var target = (0, _renderer.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\n\n      var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\n\n      if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\n        this._clearTimeouts();\n\n        setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\n      }\n    }\n  }, {\n    key: \"_hideSubmenuAfterTimeout\",\n    value: function () {\n      if (!this._visibleSubmenu) {\n        return;\n      }\n\n      var isRootItemHovered = (0, _renderer.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\n\n      var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\n\n      var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\n\n      if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\n        this._visibleSubmenu.hide();\n      }\n    }\n  }, {\n    key: \"_getSubmenuByRootElement\",\n    value: function ($rootItem) {\n      if (!$rootItem) {\n        return false;\n      }\n\n      var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\n      return $submenu.length && _ui2.default.getInstance($submenu);\n    }\n  }, {\n    key: \"getSubmenuPosition\",\n    value: function ($rootItem) {\n      var isHorizontalMenu = this._isMenuHorizontal();\n\n      var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\n      var rtlEnabled = this.option(\"rtlEnabled\");\n      var submenuPosition = {\n        collision: \"flip\",\n        of: $rootItem\n      };\n\n      switch (submenuDirection) {\n        case \"leftortop\":\n          submenuPosition.at = \"left top\";\n          submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\n          break;\n\n        case \"rightorbottom\":\n          submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\n          submenuPosition.my = \"left top\";\n          break;\n\n        default:\n          if (isHorizontalMenu) {\n            submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\n            submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\";\n          } else {\n            submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\n            submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\";\n          }\n\n      }\n\n      return submenuPosition;\n    }\n  }, {\n    key: \"_renderBorderElement\",\n    value: function ($item) {\n      (0, _renderer.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide();\n    }\n  }, {\n    key: \"_itemPointerDownHandler\",\n    value: function (e) {\n      var $target = (0, _renderer.default)(e.target);\n      var $closestItem = $target.closest(this._itemElements());\n\n      if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\n        this.option(\"focusedElement\", null);\n        return;\n      }\n\n      _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e);\n    }\n  }, {\n    key: \"_hoverStartHandler\",\n    value: function (e) {\n      var mouseMoveEventName = (0, _index.addNamespace)(_pointer.default.move, this.NAME);\n\n      var $item = this._getItemElementByEventArgs(e);\n\n      var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\n\n      var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\n\n      if (this._isItemDisabled($item)) {\n        return;\n      }\n\n      _events_engine.default.off($item, mouseMoveEventName);\n\n      if (!this._hasChildren(node)) {\n        this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\n        return;\n      }\n\n      if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\n        var submenu = this._getSubmenuByElement($item);\n\n        this._clearTimeouts();\n\n        if (!submenu.isOverlayVisible()) {\n          _events_engine.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\n\n          this._showSubmenuTimer = this._getDelay(\"hide\");\n        }\n      }\n    }\n  }, {\n    key: \"_hoverEndHandler\",\n    value: function (eventArg) {\n      var _this7 = this;\n\n      var $item = this._getItemElementByEventArgs(eventArg);\n\n      var relatedTarget = (0, _renderer.default)(eventArg.relatedTarget);\n\n      _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\n\n      this._clearTimeouts();\n\n      if (this._isItemDisabled($item)) {\n        return;\n      }\n\n      if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\n        return;\n      }\n\n      if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\n        this._hideSubmenuTimer = setTimeout(function () {\n          _this7._hideSubmenuAfterTimeout();\n        }, this._getDelay(\"hide\"));\n      }\n    }\n  }, {\n    key: \"_hideVisibleSubmenu\",\n    value: function () {\n      if (!this._visibleSubmenu) {\n        return false;\n      }\n\n      this._hideSubmenu(this._visibleSubmenu);\n\n      return true;\n    }\n  }, {\n    key: \"_showSubmenu\",\n    value: function ($itemElement) {\n      var submenu = this._getSubmenuByElement($itemElement);\n\n      if (this._visibleSubmenu !== submenu) {\n        this._hideVisibleSubmenu();\n      }\n\n      if (submenu) {\n        this._clearTimeouts();\n\n        submenu.show();\n        this.option(\"focusedElement\", submenu.option(\"focusedElement\"));\n      }\n\n      this._visibleSubmenu = submenu;\n      this._hoveredRootItem = $itemElement;\n    }\n  }, {\n    key: \"_hideSubmenu\",\n    value: function (submenu) {\n      submenu && submenu.hide();\n\n      if (this._visibleSubmenu === submenu) {\n        this._visibleSubmenu = null;\n      }\n\n      this._hoveredRootItem = null;\n    }\n  }, {\n    key: \"_itemMouseMoveHandler\",\n    value: function (e) {\n      var _this8 = this;\n\n      if (e.pointers && e.pointers.length) {\n        return;\n      }\n\n      var $item = (0, _renderer.default)(e.currentTarget);\n\n      if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\n        return;\n      }\n\n      this._clearTimeouts();\n\n      this._showSubmenuTimer = setTimeout(function () {\n        var submenu = _this8._getSubmenuByElement($item);\n\n        if (submenu && !submenu.isOverlayVisible()) {\n          _this8._showSubmenu($item);\n        }\n      }, this._getDelay(\"show\"));\n    }\n  }, {\n    key: \"_clearTimeouts\",\n    value: function () {\n      clearTimeout(this._hideSubmenuTimer);\n      clearTimeout(this._showSubmenuTimer);\n    }\n  }, {\n    key: \"_getSubmenuByElement\",\n    value: function ($itemElement, itemData) {\n      var submenu = this._getSubmenuByRootElement($itemElement);\n\n      if (submenu) {\n        return submenu;\n      } else {\n        itemData = itemData || this._getItemData($itemElement);\n\n        var node = this._dataAdapter.getNodeByItem(itemData);\n\n        return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement);\n      }\n    }\n  }, {\n    key: \"_updateSubmenuVisibilityOnClick\",\n    value: function (actionArgs) {\n      var args = actionArgs.args.length && actionArgs.args[0];\n\n      if (!args || this._disabledGetter(args.itemData)) {\n        return;\n      }\n\n      var $itemElement = (0, _renderer.default)(args.itemElement);\n\n      var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\n\n      this._updateSelectedItemOnClick(actionArgs);\n\n      if (this._visibleSubmenu) {\n        if (this._visibleSubmenu === currentSubmenu) {\n          if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\n            this._hideSubmenu(this._visibleSubmenu);\n          }\n\n          return;\n        } else {\n          this._hideSubmenu(this._visibleSubmenu);\n        }\n      }\n\n      if (!currentSubmenu) {\n        return;\n      }\n\n      if (!currentSubmenu.isOverlayVisible()) {\n        this._showSubmenu($itemElement);\n\n        return;\n      }\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function (args) {\n      if (ACTIONS.indexOf(args.name) >= 0) {\n        this._initActions();\n\n        return;\n      }\n\n      switch (args.name) {\n        case \"orientation\":\n        case \"submenuDirection\":\n          this._invalidate();\n\n          break;\n\n        case \"showFirstSubmenuMode\":\n        case \"hideSubmenuOnMouseLeave\":\n          break;\n\n        case \"showSubmenuMode\":\n          this._changeSubmenusOption(args.name, args.value);\n\n          break;\n\n        case \"adaptivityEnabled\":\n          args.value ? this._initAdaptivity() : this._removeAdaptivity();\n          break;\n\n        case \"width\":\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(args.name, args.value);\n\n            this._overlay.option(args.name, args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n          this._dimensionChanged();\n\n          break;\n\n        case \"animation\":\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(\"animationEnabled\", !!args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        default:\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(args.name, args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_changeSubmenusOption\",\n    value: function (name, value) {\n      (0, _iterator.each)(this._submenus, function (index, submenu) {\n        submenu.option(name, value);\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function (itemElement) {\n      this._hideSubmenu(this._visibleSubmenu);\n\n      _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement);\n    }\n  }, {\n    key: \"unselectItem\",\n    value: function (itemElement) {\n      this._hideSubmenu(this._visibleSubmenu);\n\n      _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement);\n    }\n  }]);\n\n  return Menu;\n}(_ui.default);\n\n(0, _component_registrator.default)(\"dxMenu\", Menu);\nvar _default = Menu;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/menu/ui.menu.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_renderer","_interopRequireDefault","require","_events_engine","_component_registrator","_common","_element","_iterator","_type","_extend","_utils","_index","_pointer","_hover","_ui","_overlay","_ui2","_button","_tree_view","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","DX_MENU_CLASS","DX_MENU_VERTICAL_CLASS","DX_MENU_HORIZONTAL_CLASS","DX_MENU_ITEM_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_CONTEXT_MENU_CLASS","DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS","DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS","DX_SUBMENU_CLASS","DX_STATE_DISABLED_CLASS","DX_STATE_HOVER_CLASS","DX_STATE_ACTIVE_CLASS","DX_ADAPTIVE_MODE_CLASS","DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS","DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","SHOW_SUBMENU_OPERATION","NEXTITEM_OPERATION","PREVITEM_OPERATION","DEFAULT_DELAY","show","hide","ACTIONS","Menu","_MenuBase","_super","extend","orientation","submenuDirection","showFirstSubmenuMode","name","delay","hideSubmenuOnMouseLeave","onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","adaptivityEnabled","_optionsByReference","animation","selectedItem","rootMenuElements","submenuElements","_submenuItemElements","add","elements","itemSelector","concat","currentSubmenu","_submenus","itemsContainer","find","$element","option","location","$items","_getAvailableItems","isMenuHorizontal","_isMenuHorizontal","$activeItem","_getActiveItem","argument","operation","navigationAction","$newTarget","_getItemsNavigationOperation","_getKeyboardNavigationAction","getPublicElement","navOperation","action","noop","hasClass","_showSubmenu","bind","_nextItem","_prevItem","clearTimeout","_resizeEventTimer","visible","_menuItemsWidth","_updateItemsWidthCache","_dimensionChanged","$menuItems","first","children","_getSummaryItemsWidth","_isAdaptivityEnabled","containerWidth","outerWidth","_toggleAdaptiveMode","_this","_actions","each","index","_createActionByOption","_visibleSubmenu","addClass","setAria","_initAdaptivity","_hamburger","icon","activeStateEnabled","onClick","_toggleTreeView","state","isPlainObject","_toggleHamburgerActiveState","toggleClass","$menuItemsContainer","$adaptiveElements","_hideVisibleSubmenu","_treeView","collapseAll","toggle","_$adaptiveContainer","remove","onItemClick","node","_this2","rtl","position","maxHeight","getElementMaxHeightByWindow","deferRendering","shading","closeOnTargetScroll","onHidden","height","closeOnOutsideClick","closest","collision","at","my","of","_this3","menuOptions","optionsToTransfer","actionsToTransfer","_","actionName","dataSource","getDataSource","animationEnabled","_treeviewItemClickHandler","onItemExpanded","repaint","onItemCollapsed","selectNodesRecursive","selectByClick","expandEvent","$hamburger","_renderHamburgerButton","_createComponent","_getTreeViewOptions","_getAdaptiveOverlayOptions","$content","append","_wrapper","delayType","isDefined","isObject","$wrapper","appendTo","$itemFrame","submenu","_createSubmenu","push","_renderBorderElement","$rootItem","$submenuContainer","items","_getChildNodes","_getSubmenuOptions","_dataAdapter","_parentKey","internalFields","onHoverStart","_clearTimeouts","getSubmenuPosition","_attachSubmenuHandlers","_this4","$submenuTarget","itemTemplate","selectionMode","cssClass","hoverStateEnabled","focusStateEnabled","showSubmenuMode","displayExpr","disabledExpr","selectedExpr","itemsExpr","onFocusedItemChanged","component","onSelectionChanged","_nestedItemOnSelectionChangedHandler","_nestedItemOnItemClickHandler","onItemRendered","_nestedItemOnItemRenderedHandler","onLeftFirstItem","_moveMainMenuFocus","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu","_isDesktopDevice","optionValue","direction","itemCount","$currentItem","filter","eq","itemIndex","_hideSubmenu","$newItem","args","addedItems","getInstance","element","_clearSelectionInSubmenus","_clearRootSelection","_setOptionWithoutOptionChange","item","targetSubmenu","_this5","cleanAllSubmenus","$submenu","_itemContainer","isOtherItem","is","$selectedItem","_selectedItemClass","removeClass","selectedItemData","_getItemData","selected","_clearSelectedItems","$prevSelectedItem","prevSelectedItemData","_this6","$submenuOverlayContent","getOverlayContent","submenus","submenuMouseLeaveName","addNamespace","end","NAME","onShowing","_submenuOnShowingHandler","onShown","_submenuOnShownHandler","onHiding","_submenuOnHidingHandler","_submenuOnHiddenHandler","off","on","_submenuMouseLeaveHandler","$border","rootItem","eventArgs","cancel","relatedTarget","parents","contextMenu","_getSubmenuByRootElement","setTimeout","_hideSubmenuAfterTimeout","_getDelay","isRootItemHovered","context","isSubmenuItemHovered","hoveredElementFromSubMenu","querySelector","isHorizontalMenu","toLowerCase","rtlEnabled","submenuPosition","$item","$target","$closestItem","_itemElements","mouseMoveEventName","move","_getItemElementByEventArgs","getNodeByItem","isSelectionActive","buttons","which","_isItemDisabled","_hasChildren","_showSubmenuTimer","_getShowFirstSubmenuMode","_getSubmenuByElement","isOverlayVisible","_itemMouseMoveHandler","eventArg","_this7","_hideSubmenuTimer","$itemElement","_hoveredRootItem","_this8","pointers","currentTarget","itemData","_renderSubmenuItems","actionArgs","_disabledGetter","itemElement","_updateSelectedItemOnClick","indexOf","_initActions","_invalidate","_changeSubmenusOption","_removeAdaptivity","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _element = require(\"../../core/element\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../overlay/utils\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _hover = require(\"../../events/hover\");\r\nvar _ui = _interopRequireDefault(require(\"../context_menu/ui.menu_base\"));\r\nvar _overlay = _interopRequireDefault(require(\"../overlay\"));\r\nvar _ui2 = _interopRequireDefault(require(\"./ui.submenu\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _tree_view = _interopRequireDefault(require(\"../tree_view\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\r\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\r\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\r\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\r\nvar NEXTITEM_OPERATION = \"nextItem\";\r\nvar PREVITEM_OPERATION = \"prevItem\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\", \"onItemRendered\"];\r\nvar Menu = function(_MenuBase) {\r\n    _inherits(Menu, _MenuBase);\r\n    var _super = _createSuper(Menu);\r\n\r\n    function Menu() {\r\n        _classCallCheck(this, Menu);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(Menu, [{\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                orientation: \"horizontal\",\r\n                submenuDirection: \"auto\",\r\n                showFirstSubmenuMode: {\r\n                    name: \"onClick\",\r\n                    delay: {\r\n                        show: 50,\r\n                        hide: 300\r\n                    }\r\n                },\r\n                hideSubmenuOnMouseLeave: false,\r\n                onSubmenuShowing: null,\r\n                onSubmenuShown: null,\r\n                onSubmenuHiding: null,\r\n                onSubmenuHidden: null,\r\n                adaptivityEnabled: false\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setOptionsByReference\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\r\n            (0, _extend.extend)(this._optionsByReference, {\r\n                animation: true,\r\n                selectedItem: true\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_itemElements\",\r\n        value: function() {\r\n            var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\r\n            var submenuElements = this._submenuItemElements();\r\n            return rootMenuElements.add(submenuElements)\r\n        }\r\n    }, {\r\n        key: \"_submenuItemElements\",\r\n        value: function() {\r\n            var elements = [];\r\n            var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\r\n            var currentSubmenu = this._submenus.length && this._submenus[0];\r\n            if (currentSubmenu && currentSubmenu.itemsContainer()) {\r\n                elements = currentSubmenu.itemsContainer().find(itemSelector)\r\n            }\r\n            return elements\r\n        }\r\n    }, {\r\n        key: \"_focusTarget\",\r\n        value: function() {\r\n            return this.$element()\r\n        }\r\n    }, {\r\n        key: \"_isMenuHorizontal\",\r\n        value: function() {\r\n            return \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_moveFocus\",\r\n        value: function(location) {\r\n            var $items = this._getAvailableItems();\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            var $activeItem = this._getActiveItem(true);\r\n            var argument;\r\n            var operation;\r\n            var navigationAction;\r\n            var $newTarget;\r\n            switch (location) {\r\n                case FOCUS_UP:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_DOWN:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_RIGHT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_LEFT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                default:\r\n                    return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location)\r\n            }\r\n            if ($newTarget && 0 !== $newTarget.length) {\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($newTarget))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemsNavigationOperation\",\r\n        value: function(operation) {\r\n            var navOperation = operation;\r\n            if (this.option(\"rtlEnabled\")) {\r\n                navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION\r\n            }\r\n            return navOperation\r\n        }\r\n    }, {\r\n        key: \"_getKeyboardNavigationAction\",\r\n        value: function(operation, argument) {\r\n            var action = _common.noop;\r\n            switch (operation) {\r\n                case SHOW_SUBMENU_OPERATION:\r\n                    if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                        action = this._showSubmenu.bind(this, argument)\r\n                    }\r\n                    break;\r\n                case NEXTITEM_OPERATION:\r\n                    action = this._nextItem.bind(this, argument);\r\n                    break;\r\n                case PREVITEM_OPERATION:\r\n                    action = this._prevItem.bind(this, argument)\r\n            }\r\n            return action\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\r\n            this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer)\r\n        }\r\n    }, {\r\n        key: \"_visibilityChanged\",\r\n        value: function(visible) {\r\n            if (visible) {\r\n                if (!this._menuItemsWidth) {\r\n                    this._updateItemsWidthCache()\r\n                }\r\n                this._dimensionChanged()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isAdaptivityEnabled\",\r\n        value: function() {\r\n            return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_updateItemsWidthCache\",\r\n        value: function() {\r\n            var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\r\n            this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true)\r\n        }\r\n    }, {\r\n        key: \"_dimensionChanged\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            var containerWidth = this.$element().outerWidth();\r\n            this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth)\r\n        }\r\n    }, {\r\n        key: \"_init\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\r\n            this._submenus = []\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            var _this = this;\r\n            this._actions = {};\r\n            (0, _iterator.each)(ACTIONS, function(index, action) {\r\n                _this._actions[action] = _this._createActionByOption(action)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this._visibleSubmenu = null;\r\n            this.$element().addClass(DX_MENU_CLASS);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\r\n            this.setAria(\"role\", \"menubar\")\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\r\n            this._initAdaptivity()\r\n        }\r\n    }, {\r\n        key: \"_renderHamburgerButton\",\r\n        value: function() {\r\n            this._hamburger = new _button.default((0, _renderer.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\r\n                icon: \"menu\",\r\n                activeStateEnabled: false,\r\n                onClick: this._toggleTreeView.bind(this)\r\n            });\r\n            return this._hamburger.$element()\r\n        }\r\n    }, {\r\n        key: \"_toggleTreeView\",\r\n        value: function(state) {\r\n            if ((0, _type.isPlainObject)(state)) {\r\n                state = !this._overlay.option(\"visible\")\r\n            }\r\n            this._overlay.option(\"visible\", state);\r\n            this._toggleHamburgerActiveState(state)\r\n        }\r\n    }, {\r\n        key: \"_toggleHamburgerActiveState\",\r\n        value: function(state) {\r\n            this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state)\r\n        }\r\n    }, {\r\n        key: \"_toggleAdaptiveMode\",\r\n        value: function(state) {\r\n            var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\r\n            var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\r\n            if (state) {\r\n                this._hideVisibleSubmenu()\r\n            } else {\r\n                this._treeView && this._treeView.collapseAll();\r\n                this._overlay && this._toggleTreeView(state)\r\n            }\r\n            $menuItemsContainer.toggle(!state);\r\n            $adaptiveElements.toggle(state)\r\n        }\r\n    }, {\r\n        key: \"_removeAdaptivity\",\r\n        value: function() {\r\n            if (!this._$adaptiveContainer) {\r\n                return\r\n            }\r\n            this._toggleAdaptiveMode(false);\r\n            this._$adaptiveContainer.remove();\r\n            this._$adaptiveContainer = null;\r\n            this._treeView = null;\r\n            this._hamburger = null;\r\n            this._overlay = null\r\n        }\r\n    }, {\r\n        key: \"_treeviewItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e);\r\n            if (!e.node.children.length) {\r\n                this._toggleTreeView(false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getAdaptiveOverlayOptions\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var rtl = this.option(\"rtlEnabled\");\r\n            var position = rtl ? \"right\" : \"left\";\r\n            return {\r\n                maxHeight: function() {\r\n                    return (0, _utils.getElementMaxHeightByWindow)(_this2.$element())\r\n                },\r\n                deferRendering: false,\r\n                shading: false,\r\n                animation: false,\r\n                closeOnTargetScroll: true,\r\n                onHidden: function() {\r\n                    _this2._toggleHamburgerActiveState(false)\r\n                },\r\n                height: \"auto\",\r\n                closeOnOutsideClick: function(e) {\r\n                    return !(0, _renderer.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length\r\n                },\r\n                position: {\r\n                    collision: \"flipfit\",\r\n                    at: \"bottom \" + position,\r\n                    my: \"top \" + position,\r\n                    of: this._hamburger.$element()\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getTreeViewOptions\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var menuOptions = {};\r\n            var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\r\n            var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\r\n            (0, _iterator.each)(optionsToTransfer, function(_, option) {\r\n                menuOptions[option] = _this3.option(option)\r\n            });\r\n            (0, _iterator.each)(actionsToTransfer, function(_, actionName) {\r\n                menuOptions[actionName] = function(e) {\r\n                    _this3._actions[actionName](e)\r\n                }\r\n            });\r\n            return (0, _extend.extend)(menuOptions, {\r\n                dataSource: this.getDataSource(),\r\n                animationEnabled: !!this.option(\"animation\"),\r\n                onItemClick: this._treeviewItemClickHandler.bind(this),\r\n                onItemExpanded: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuShown(e)\r\n                },\r\n                onItemCollapsed: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuHidden(e)\r\n                },\r\n                selectNodesRecursive: false,\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                expandEvent: \"click\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initAdaptivity\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            this._$adaptiveContainer = (0, _renderer.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\r\n            var $hamburger = this._renderHamburgerButton();\r\n            this._treeView = this._createComponent((0, _renderer.default)(\"<div>\"), _tree_view.default, this._getTreeViewOptions());\r\n            this._overlay = this._createComponent((0, _renderer.default)(\"<div>\"), _overlay.default, this._getAdaptiveOverlayOptions());\r\n            this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\r\n            this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\r\n            this._$adaptiveContainer.append($hamburger);\r\n            this._$adaptiveContainer.append(this._overlay.$element());\r\n            this.$element().append(this._$adaptiveContainer);\r\n            this._updateItemsWidthCache();\r\n            this._dimensionChanged()\r\n        }\r\n    }, {\r\n        key: \"_getDelay\",\r\n        value: function(delayType) {\r\n            var delay = this.option(\"showFirstSubmenuMode\").delay;\r\n            if (!(0, _type.isDefined)(delay)) {\r\n                return DEFAULT_DELAY[delayType]\r\n            } else {\r\n                return (0, _type.isObject)(delay) ? delay[delayType] : delay\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_keyboardHandler\",\r\n        value: function(e) {\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e, !!this._visibleSubmenu)\r\n        }\r\n    }, {\r\n        key: \"_renderContainer\",\r\n        value: function() {\r\n            var $wrapper = (0, _renderer.default)(\"<div>\");\r\n            $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper)\r\n        }\r\n    }, {\r\n        key: \"_renderSubmenuItems\",\r\n        value: function(node, $itemFrame) {\r\n            var submenu = this._createSubmenu(node, $itemFrame);\r\n            this._submenus.push(submenu);\r\n            this._renderBorderElement($itemFrame);\r\n            return submenu\r\n        }\r\n    }, {\r\n        key: \"_getKeyboardListeners\",\r\n        value: function() {\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_getKeyboardListeners\", this).call(this).concat(this._visibleSubmenu)\r\n        }\r\n    }, {\r\n        key: \"_createSubmenu\",\r\n        value: function(node, $rootItem) {\r\n            var $submenuContainer = (0, _renderer.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\r\n            var items = this._getChildNodes(node);\r\n            var result = this._createComponent($submenuContainer, _ui2.default, (0, _extend.extend)(this._getSubmenuOptions(), {\r\n                _dataAdapter: this._dataAdapter,\r\n                _parentKey: node.internalFields.key,\r\n                items: items,\r\n                onHoverStart: this._clearTimeouts.bind(this),\r\n                position: this.getSubmenuPosition($rootItem)\r\n            }));\r\n            this._attachSubmenuHandlers($rootItem, result);\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuOptions\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            var $submenuTarget = (0, _renderer.default)(\"<div>\");\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            return {\r\n                itemTemplate: this.option(\"itemTemplate\"),\r\n                target: $submenuTarget,\r\n                orientation: this.option(\"orientation\"),\r\n                selectionMode: this.option(\"selectionMode\"),\r\n                cssClass: this.option(\"cssClass\"),\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n                activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n                focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n                animation: this.option(\"animation\"),\r\n                showSubmenuMode: this.option(\"showSubmenuMode\"),\r\n                displayExpr: this.option(\"displayExpr\"),\r\n                disabledExpr: this.option(\"disabledExpr\"),\r\n                selectedExpr: this.option(\"selectedExpr\"),\r\n                itemsExpr: this.option(\"itemsExpr\"),\r\n                onFocusedItemChanged: function(e) {\r\n                    if (!e.component.option(\"visible\")) {\r\n                        return\r\n                    }\r\n                    _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"))\r\n                },\r\n                onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\r\n                onItemClick: this._nestedItemOnItemClickHandler.bind(this),\r\n                onItemRendered: this._nestedItemOnItemRenderedHandler.bind(this),\r\n                onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\r\n                onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\r\n                onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\r\n                onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getShowFirstSubmenuMode\",\r\n        value: function() {\r\n            if (!this._isDesktopDevice()) {\r\n                return \"onClick\"\r\n            }\r\n            var optionValue = this.option(\"showFirstSubmenuMode\");\r\n            return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue\r\n        }\r\n    }, {\r\n        key: \"_moveMainMenuFocus\",\r\n        value: function(direction) {\r\n            var $items = this._getAvailableItems();\r\n            var itemCount = $items.length;\r\n            var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\r\n            var itemIndex = $items.index($currentItem);\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\r\n            if (itemIndex >= itemCount) {\r\n                itemIndex = 0\r\n            } else {\r\n                if (itemIndex < 0) {\r\n                    itemIndex = itemCount - 1\r\n                }\r\n            }\r\n            var $newItem = $items.eq(itemIndex);\r\n            this.option(\"focusedElement\", (0, _element.getPublicElement)($newItem))\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnSelectionChangedHandler\",\r\n        value: function(args) {\r\n            var selectedItem = args.addedItems.length && args.addedItems[0];\r\n            var submenu = _ui2.default.getInstance(args.element);\r\n            var onSelectionChanged = this._actions.onSelectionChanged;\r\n            onSelectionChanged(args);\r\n            selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\r\n            this._clearRootSelection();\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem)\r\n        }\r\n    }, {\r\n        key: \"_clearSelectionInSubmenus\",\r\n        value: function(item, targetSubmenu) {\r\n            var _this5 = this;\r\n            var cleanAllSubmenus = !arguments.length;\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                var $submenu = submenu._itemContainer();\r\n                var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\r\n                var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\r\n                if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\r\n                    $selectedItem.removeClass(_this5._selectedItemClass());\r\n                    var selectedItemData = _this5._getItemData($selectedItem);\r\n                    if (selectedItemData) {\r\n                        selectedItemData.selected = false\r\n                    }\r\n                    submenu._clearSelectedItems()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_clearRootSelection\",\r\n        value: function() {\r\n            var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\r\n            if ($prevSelectedItem.length) {\r\n                var prevSelectedItemData = this._getItemData($prevSelectedItem);\r\n                prevSelectedItemData.selected = false;\r\n                $prevSelectedItem.removeClass(this._selectedItemClass())\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e)\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnItemRenderedHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemRendered(e)\r\n        }\r\n    }, {\r\n        key: \"_attachSubmenuHandlers\",\r\n        value: function($rootItem, submenu) {\r\n            var _this6 = this;\r\n            var $submenuOverlayContent = submenu.getOverlayContent();\r\n            var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\r\n            var submenuMouseLeaveName = (0, _index.addNamespace)(_hover.end, this.NAME + \"_submenu\");\r\n            submenu.option({\r\n                onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\r\n                onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\r\n                onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\r\n                onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\r\n            });\r\n            (0, _iterator.each)(submenus, function(index, submenu) {\r\n                _events_engine.default.off(submenu, submenuMouseLeaveName);\r\n                _events_engine.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShowingHandler\",\r\n        value: function($rootItem, submenu) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            this._actions.onSubmenuShowing({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            });\r\n            $border.show();\r\n            $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShownHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuShown({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHidingHandler\",\r\n        value: function($rootItem, submenu, eventArgs) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            var args = eventArgs;\r\n            args.rootItem = (0, _element.getPublicElement)($rootItem);\r\n            args.submenu = submenu;\r\n            this._actions.onSubmenuHiding(args);\r\n            eventArgs = args;\r\n            if (!eventArgs.cancel) {\r\n                if (this._visibleSubmenu === submenu) {\r\n                    this._visibleSubmenu = null\r\n                }\r\n                $border.hide();\r\n                $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHiddenHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuHidden({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuMouseLeaveHandler\",\r\n        value: function($rootItem, eventArgs) {\r\n            var target = (0, _renderer.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\r\n            var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\r\n                this._clearTimeouts();\r\n                setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuAfterTimeout\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return\r\n            }\r\n            var isRootItemHovered = (0, _renderer.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\r\n            var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\r\n            var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\r\n            if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\r\n                this._visibleSubmenu.hide()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByRootElement\",\r\n        value: function($rootItem) {\r\n            if (!$rootItem) {\r\n                return false\r\n            }\r\n            var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\r\n            return $submenu.length && _ui2.default.getInstance($submenu)\r\n        }\r\n    }, {\r\n        key: \"getSubmenuPosition\",\r\n        value: function($rootItem) {\r\n            var isHorizontalMenu = this._isMenuHorizontal();\r\n            var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var submenuPosition = {\r\n                collision: \"flip\",\r\n                of: $rootItem\r\n            };\r\n            switch (submenuDirection) {\r\n                case \"leftortop\":\r\n                    submenuPosition.at = \"left top\";\r\n                    submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    break;\r\n                case \"rightorbottom\":\r\n                    submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    submenuPosition.my = \"left top\";\r\n                    break;\r\n                default:\r\n                    if (isHorizontalMenu) {\r\n                        submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    } else {\r\n                        submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    }\r\n            }\r\n            return submenuPosition\r\n        }\r\n    }, {\r\n        key: \"_renderBorderElement\",\r\n        value: function($item) {\r\n            (0, _renderer.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()\r\n        }\r\n    }, {\r\n        key: \"_itemPointerDownHandler\",\r\n        value: function(e) {\r\n            var $target = (0, _renderer.default)(e.target);\r\n            var $closestItem = $target.closest(this._itemElements());\r\n            if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\r\n                this.option(\"focusedElement\", null);\r\n                return\r\n            }\r\n            _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e)\r\n        }\r\n    }, {\r\n        key: \"_hoverStartHandler\",\r\n        value: function(e) {\r\n            var mouseMoveEventName = (0, _index.addNamespace)(_pointer.default.move, this.NAME);\r\n            var $item = this._getItemElementByEventArgs(e);\r\n            var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n            var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            _events_engine.default.off($item, mouseMoveEventName);\r\n            if (!this._hasChildren(node)) {\r\n                this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\r\n                return\r\n            }\r\n            if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\r\n                var submenu = this._getSubmenuByElement($item);\r\n                this._clearTimeouts();\r\n                if (!submenu.isOverlayVisible()) {\r\n                    _events_engine.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\r\n                    this._showSubmenuTimer = this._getDelay(\"hide\")\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function(eventArg) {\r\n            var _this7 = this;\r\n            var $item = this._getItemElementByEventArgs(eventArg);\r\n            var relatedTarget = (0, _renderer.default)(eventArg.relatedTarget);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\r\n            this._clearTimeouts();\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\r\n                return\r\n            }\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\r\n                this._hideSubmenuTimer = setTimeout(function() {\r\n                    _this7._hideSubmenuAfterTimeout()\r\n                }, this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideVisibleSubmenu\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return false\r\n            }\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_showSubmenu\",\r\n        value: function($itemElement) {\r\n            var submenu = this._getSubmenuByElement($itemElement);\r\n            if (this._visibleSubmenu !== submenu) {\r\n                this._hideVisibleSubmenu()\r\n            }\r\n            if (submenu) {\r\n                this._clearTimeouts();\r\n                submenu.show();\r\n                this.option(\"focusedElement\", submenu.option(\"focusedElement\"))\r\n            }\r\n            this._visibleSubmenu = submenu;\r\n            this._hoveredRootItem = $itemElement\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenu\",\r\n        value: function(submenu) {\r\n            submenu && submenu.hide();\r\n            if (this._visibleSubmenu === submenu) {\r\n                this._visibleSubmenu = null\r\n            }\r\n            this._hoveredRootItem = null\r\n        }\r\n    }, {\r\n        key: \"_itemMouseMoveHandler\",\r\n        value: function(e) {\r\n            var _this8 = this;\r\n            if (e.pointers && e.pointers.length) {\r\n                return\r\n            }\r\n            var $item = (0, _renderer.default)(e.currentTarget);\r\n            if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\r\n                return\r\n            }\r\n            this._clearTimeouts();\r\n            this._showSubmenuTimer = setTimeout(function() {\r\n                var submenu = _this8._getSubmenuByElement($item);\r\n                if (submenu && !submenu.isOverlayVisible()) {\r\n                    _this8._showSubmenu($item)\r\n                }\r\n            }, this._getDelay(\"show\"))\r\n        }\r\n    }, {\r\n        key: \"_clearTimeouts\",\r\n        value: function() {\r\n            clearTimeout(this._hideSubmenuTimer);\r\n            clearTimeout(this._showSubmenuTimer)\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByElement\",\r\n        value: function($itemElement, itemData) {\r\n            var submenu = this._getSubmenuByRootElement($itemElement);\r\n            if (submenu) {\r\n                return submenu\r\n            } else {\r\n                itemData = itemData || this._getItemData($itemElement);\r\n                var node = this._dataAdapter.getNodeByItem(itemData);\r\n                return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateSubmenuVisibilityOnClick\",\r\n        value: function(actionArgs) {\r\n            var args = actionArgs.args.length && actionArgs.args[0];\r\n            if (!args || this._disabledGetter(args.itemData)) {\r\n                return\r\n            }\r\n            var $itemElement = (0, _renderer.default)(args.itemElement);\r\n            var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\r\n            this._updateSelectedItemOnClick(actionArgs);\r\n            if (this._visibleSubmenu) {\r\n                if (this._visibleSubmenu === currentSubmenu) {\r\n                    if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\r\n                        this._hideSubmenu(this._visibleSubmenu)\r\n                    }\r\n                    return\r\n                } else {\r\n                    this._hideSubmenu(this._visibleSubmenu)\r\n                }\r\n            }\r\n            if (!currentSubmenu) {\r\n                return\r\n            }\r\n            if (!currentSubmenu.isOverlayVisible()) {\r\n                this._showSubmenu($itemElement);\r\n                return\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            if (ACTIONS.indexOf(args.name) >= 0) {\r\n                this._initActions();\r\n                return\r\n            }\r\n            switch (args.name) {\r\n                case \"orientation\":\r\n                case \"submenuDirection\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"showFirstSubmenuMode\":\r\n                case \"hideSubmenuOnMouseLeave\":\r\n                    break;\r\n                case \"showSubmenuMode\":\r\n                    this._changeSubmenusOption(args.name, args.value);\r\n                    break;\r\n                case \"adaptivityEnabled\":\r\n                    args.value ? this._initAdaptivity() : this._removeAdaptivity();\r\n                    break;\r\n                case \"width\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value);\r\n                        this._overlay.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    this._dimensionChanged();\r\n                    break;\r\n                case \"animation\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(\"animationEnabled\", !!args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                default:\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_changeSubmenusOption\",\r\n        value: function(name, value) {\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                submenu.option(name, value)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"selectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }, {\r\n        key: \"unselectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }]);\r\n    return Menu\r\n}(_ui.default);\r\n(0, _component_registrator.default)(\"dxMenu\", Menu);\r\nvar _default = Menu;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}