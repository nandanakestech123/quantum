{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDateTime,NormalMultiSelect}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{DragFileUpload}from\"../../../common\";import{createStaffPlus,getStaffPlus,updateStaffPlus,getWorkSchedule,updateWorkSchedule}from\"redux/actions/staffPlus\";import{getJobtitle,getCommonApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";import{ScheduleTable}from\"./ScheduleTable\";import{withTranslation}from\"react-i18next\";export var AddStaffClass=/*#__PURE__*/function(_Component){_inherits(AddStaffClass,_Component);var _super=_createSuper(AddStaffClass);function AddStaffClass(){var _formFields;var _this;_classCallCheck(this,AddStaffClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:(_formFields={emp_name:\"\",emp_nric:\"\",display_name:\"\",emp_joindate:\"\",defaultSiteCodeid:\"\",EMP_TYPEid:\"\",emp_pic:\"\",emp_isactive:false,is_login:false,pw_password:\"\",LEVEL_ItmIDid:\"\",show_in_sales:false,show_in_appt:false,show_in_trmt:false,max_disc:\"\",work_schedule:{monday:\"YES\",tuesday:\"YES\",wednesday:\"YES\",thursday:\"YES\",friday:\"YES\",saturday:\"NO\",sunday:\"NO\"}},_defineProperty(_formFields,\"defaultSiteCodeid\",\"\"),_defineProperty(_formFields,\"siteCodes\",[]),_formFields),scheduleOptions:[],jobOption:[],locationOption:[],levelList:[],is_loading:true,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getStaffDetail=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.updateState({is_loading:true});_context.next=3;return _this.props.getStaffPlus(\"\".concat(_this.props.match.params.id,\"/\"));case 3:_context.next=5;return _this.props.getWorkSchedule(\"\".concat(_this.props.match.params.id));case 5:_this.setDataFromStore();_this.updateState({is_loading:false});case 7:case\"end\":return _context.stop();}}},_callee);}));_this.getDatafromStore=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(type){var _this$props,branchList,jobtitleList,_this$state,jobOption,locationOption,_iterator,_step,key,_iterator2,_step2,_key2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,branchList=_this$props.branchList,jobtitleList=_this$props.jobtitleList;_this$state=_this.state,jobOption=_this$state.jobOption,locationOption=_this$state.locationOption;if(type===\"jobtitle\"){_iterator=_createForOfIteratorHelper(jobtitleList);try{for(_iterator.s();!(_step=_iterator.n()).done;){key=_step.value;jobOption.push({label:key.level_desc,value:key.id});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else if(type===\"branch\"){_iterator2=_createForOfIteratorHelper(branchList);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_key2=_step2.value;locationOption.push({label:_key2.itemsite_desc,value:_key2.id});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}_this.updateState({locationOption:locationOption,jobOption:jobOption});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.setDataFromStore=function(){var _this$props2=_this.props,staffPlusDetail=_this$props2.staffPlusDetail,staffPlusWorkScheduleDetails=_this$props2.staffPlusWorkScheduleDetails;var _this$state2=_this.state,formFields=_this$state2.formFields,locationOption=_this$state2.locationOption;formFields[\"emp_name\"]=staffPlusDetail.emp_name;formFields[\"display_name\"]=staffPlusDetail.display_name;formFields[\"emp_joindate\"]=new Date(staffPlusDetail.emp_joindate);formFields[\"defaultSiteCodeid\"]=staffPlusDetail.defaultSiteCodeid;formFields[\"EMP_TYPEid\"]=staffPlusDetail.EMP_TYPEid;formFields[\"emp_pic\"]=staffPlusDetail.emp_pic;formFields[\"emp_nric\"]=staffPlusDetail.emp_nric;formFields[\"is_login\"]=staffPlusDetail.is_login;formFields[\"emp_isactive\"]=staffPlusDetail.emp_isactive;formFields[\"max_disc\"]=staffPlusDetail.max_disc;formFields[\"LEVEL_ItmIDid\"]=staffPlusDetail.LEVEL_ItmIDid;formFields[\"show_in_sales\"]=staffPlusDetail.show_in_sales;formFields[\"show_in_appt\"]=staffPlusDetail.show_in_appt;formFields[\"show_in_trmt\"]=staffPlusDetail.show_in_trmt;formFields.siteCodes=[];staffPlusDetail.site_list.forEach(function(e){var val=locationOption.find(function(element){return element.value==e.Site_Codeid;});formFields.siteCodes.push(val);});formFields.work_schedule.monday=staffPlusWorkScheduleDetails.monday;formFields.work_schedule.tuesday=staffPlusWorkScheduleDetails.tuesday;formFields.work_schedule.wednesday=staffPlusWorkScheduleDetails.wednesday;formFields.work_schedule.thursday=staffPlusWorkScheduleDetails.thursday;formFields.work_schedule.friday=staffPlusWorkScheduleDetails.friday;formFields.work_schedule.saturday=staffPlusWorkScheduleDetails.saturday;formFields.work_schedule.sunday=staffPlusWorkScheduleDetails.sunday;_this.updateState({formFields:formFields});};_this.handleChange=function(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleMultiSelect=function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var formFields=_this.state.formFields;formFields.siteCodes=data;console.log(data);_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context3.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}();_this.handleInput=function(_ref5){var _ref5$target=_ref5.target,name=_ref5$target.name,value=_ref5$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value===true?1:value;_this.updateState({formFields:formFields});};_this.handleImageUpload=function(file){var formFields=_this.state.formFields;formFields[\"emp_pic\"]=file;_this.updateState({formFields:formFields});};_this.removepostImage=function(e,name){var staffImage=_this.state.formFields.staffImage;var index=staffImage.indexOf(name);if(index===0){staffImage.shift();}else{staffImage.pop();}_this.updateState({staffImage:staffImage});};_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var formFields,formData,scheduleData,res,res2;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;if(!_this.validator.allValid()){_context4.next=53;break;}_this.updateState({is_loading:true});formFields=_this.state.formFields;Object.keys(formFields).forEach(function(e){if(typeof formFields[e]===\"boolean\")formFields[e]=formFields[e]?\"True\":\"False\";});formData=new FormData();formData.append(\"emp_name\",formFields.emp_name);formData.append(\"display_name\",formFields.display_name);formData.append(\"pw_password\",formFields.pw_password);formData.append(\"emp_joindate\",dateFormat(formFields.emp_joindate));formData.append(\"defaultSiteCodeid\",formFields.defaultSiteCodeid);formData.append(\"EMP_TYPEid\",formFields.EMP_TYPEid);if(formFields.emp_pic!=null&&typeof formFields.emp_pic===\"object\")formData.append(\"emp_pic\",formFields.emp_pic);formData.append(\"emp_nric\",formFields.emp_nric);formData.append(\"is_login\",formFields.is_login);formData.append(\"emp_isactive\",formFields.emp_isactive);formData.append(\"max_disc\",formFields.max_disc);formData.append(\"LEVEL_ItmIDid\",formFields.LEVEL_ItmIDid);formData.append(\"show_in_sales\",formFields.show_in_sales);formData.append(\"show_in_appt\",formFields.show_in_appt);formData.append(\"show_in_trmt\",formFields.show_in_trmt);formData.append(\"site_list\",formFields.siteCodes.map(function(e){return e.value;}).reduce(function(a,e){return a+\",\"+e;}));scheduleData=new FormData();scheduleData.append(\"monday\",formFields.work_schedule.monday);scheduleData.append(\"tuesday\",formFields.work_schedule.tuesday);scheduleData.append(\"wednesday\",formFields.work_schedule.wednesday);scheduleData.append(\"tuesday\",formFields.work_schedule.tuesday);scheduleData.append(\"friday\",formFields.work_schedule.friday);scheduleData.append(\"saturday\",formFields.work_schedule.saturday);scheduleData.append(\"sunday\",formFields.work_schedule.sunday);if(!_this.props.match.params.id){_context4.next=42;break;}_context4.next=33;return _this.props.updateStaffPlus(\"\".concat(_this.props.match.params.id,\"/\"),formData);case 33:res=_context4.sent;console.log(res);if(!(res.status===200)){_context4.next=38;break;}_context4.next=38;return _this.props.updateWorkSchedule(_this.props.match.params.id,scheduleData);case 38:_context4.next=40;return _this.getStaffDetail();case 40:_context4.next=51;break;case 42:_context4.next=44;return _this.props.createStaffPlus(formData);case 44:res=_context4.sent;console.log(res);if(!(res.status===201)){_context4.next=51;break;}_context4.next=49;return _this.props.updateWorkSchedule(res.data.id,scheduleData);case 49:res2=_context4.sent;if(res2.status===200)_this.props.history.push(\"/admin/staffPlus/\".concat(res.data.id,\"/editStaff\"));case 51:_context4.next=54;break;case 53:_this.validator.showMessages();case 54:_this.updateState({is_loading:false});_context4.next=60;break;case 57:_context4.prev=57;_context4.t0=_context4[\"catch\"](0);_this.updateState({is_loading:false});case 60:case\"end\":return _context4.stop();}}},_callee4,null,[[0,57]]);}));_this.handleChangeBox=function(event){var formFields=Object.assign({},_this.state.formFields);formFields[event.target.name]=event.target.checked;_this.updateState({formFields:formFields});};return _this;}_createClass(AddStaffClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.validator=new SimpleReactValidator({validators:{contactNumber:{message:\"The :attribute must be a valid format.\",rule:function rule(val,params,validator){return validator.helpers.testRegex(val,/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&params.indexOf(val)===-1;},messageReplace:function messageReplace(message,params){return message.replace(\"\",_this2.helpers.toSentence(params));},required:true}},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});// branch option api\nthis.props.getCommonApi(\"branchlist/\").then(function(res){var locationOption=_this2.state.locationOption;var _iterator3=_createForOfIteratorHelper(res.data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;locationOption.push({value:key.id,label:key.itemsite_desc});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this2.updateState({locationOption:locationOption});});// level option api\nthis.props.getCommonApi(\"securities/\").then(function(res){var levelList=_this2.state.levelList;var _iterator4=_createForOfIteratorHelper(res.data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;levelList.push({value:key.id,label:key.level_name});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this2.updateState({levelList:levelList});});// schedule hours api\nthis.props.getCommonApi(\"WorkScheduleHours/\").then(function(res){var scheduleOptions=_this2.state.scheduleOptions;var _iterator5=_createForOfIteratorHelper(res.schedules),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;scheduleOptions.push({id:key.id,value:key.itm_code,label:key.itm_desc,color:key.itm_color,shortDesc:key.shortDesc});}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_this2.updateState({scheduleOptions:scheduleOptions});});// get api for staff while\nif(this.props.match.params.id){// jobtitle option api\nthis.props.getJobtitle().then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this2.getDatafromStore(\"jobtitle\");case 2:_this2.getStaffDetail();case 3:case\"end\":return _context5.stop();}}},_callee5);})));}else{this.updateState({is_loading:false});// jobtitle option api\nthis.props.getJobtitle().then(function(){_this2.getDatafromStore(\"jobtitle\");});}}// get api for staff\n},{key:\"render\",value:function render(){var _this3=this;var _this$state3=this.state,formFields=_this$state3.formFields,jobOption=_this$state3.jobOption,locationOption=_this$state3.locationOption,is_loading=_this$state3.is_loading,levelList=_this$state3.levelList,scheduleOptions=_this$state3.scheduleOptions;var emp_name=formFields.emp_name,emp_nric=formFields.emp_nric,display_name=formFields.display_name,is_login=formFields.is_login,EMP_TYPEid=formFields.EMP_TYPEid,emp_joindate=formFields.emp_joindate,emp_pic=formFields.emp_pic,emp_isactive=formFields.emp_isactive,pw_password=formFields.pw_password,LEVEL_ItmIDid=formFields.LEVEL_ItmIDid,show_in_sales=formFields.show_in_sales,show_in_appt=formFields.show_in_appt,show_in_trmt=formFields.show_in_trmt,defaultSiteCodeid=formFields.defaultSiteCodeid,max_disc=formFields.max_disc,work_schedule=formFields.work_schedule;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5 container create-staff\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\"},t(\"StaffPlus\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" Staff\")))),is_loading?/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"staff-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Upload Staff Photo\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 p-0\"},/*#__PURE__*/React.createElement(DragFileUpload,{className:\"file-uploader size-lg \".concat(emp_pic?\"\":\"no-img\"),label:\"Upload Thumbnail\",handleFileUpload:this.handleImageUpload}),emp_pic?/*#__PURE__*/React.createElement(React.Fragment,null,typeof emp_pic==\"string\"?/*#__PURE__*/React.createElement(\"img\",{src:emp_pic,alt:\"\",width:\"50%\"}):null):null)),this.props.match.params.id?/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/staffplus/\"+this.props.match.params.id+\"/empinfo\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Emp Info\",outline:true,className:\"mr-2 col-12\"}))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pb-4 pt-4\"},/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:this.handleChangeBox,checked:emp_isactive,name:\"emp_isactive\"}),\" \",t(\"Active\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Employee Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:display_name,name:\"display_name\",onChange:this.handleChange})),this.validator.message(t(\"staff name\"),display_name,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"NRIC/WP\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_nric,name:\"emp_nric\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"User Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_name,name:\"emp_name\",onChange:this.handleChange})),this.validator.message(t(\"display name\"),emp_name,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Employee Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:jobOption,value:EMP_TYPEid,name:\"EMP_TYPEid\",onChange:this.handleChange})),this.validator.message(t(\"employee type\"),EMP_TYPEid,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Discount Limit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"number\",placeholder:\"Enter here\",value:max_disc,name:\"max_disc\",onChange:this.handleChange})),this.validator.message(t(\"discount limit\"),max_disc,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Join Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:emp_joindate,name:\"emp_joindate\",className:\"dob-pick\",showYearDropdown:true,dateFormat:\"MM/dd/yyyy\"})),this.validator.message(t(\"join date\"),emp_joindate,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Default List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:locationOption,value:defaultSiteCodeid,name:\"defaultSiteCodeid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Site List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalMultiSelect,{handleMultiSelect:this.handleMultiSelect,options:locationOption,value:formFields.siteCodes,name:\"siteCodes\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pb-4 pt-4\"},/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:this.handleChangeBox,checked:is_login,name:\"is_login\"}),t(\"Security AC\")))),is_login?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:pw_password,name:\"pw_password\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Employee Level\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:levelList,value:LEVEL_ItmIDid,name:\"LEVEL_ItmIDid\",onChange:this.handleChange})),this.validator.message(t(\"employee level\"),LEVEL_ItmIDid,t(\"required\")))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"To Show At\")),/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:this.handleChangeBox,checked:show_in_sales,name:\"show_in_sales\"}),t(\"Sales\"))),/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:this.handleChangeBox,checked:show_in_trmt,name:\"show_in_trmt\"}),t(\"Treatment\"))),/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:this.handleChangeBox,checked:show_in_appt,name:\"show_in_appt\"}),t(\"Appointment\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Work Schedule\")),/*#__PURE__*/React.createElement(ScheduleTable,{data:work_schedule,optionList:scheduleOptions,onChange:function onChange(data){var formFields=_this3.state.formFields;formFields[\"work_schedule\"]=data;_this3.updateState({formFields:formFields});}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-lg-2\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/staffplus\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Cancel\",danger:true,className:\"mr-2 col-12\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-lg-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this3.handleSubmit();},label:\"Save\",success:true,className:\"mr-2 col-12\"}))))));}}]);return AddStaffClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{branchList:state.common.branchList,jobtitleList:state.common.jobtitleList,staffPlusDetail:state.staffPlus.staffPlusDetail,staffPlusWorkScheduleDetails:state.staffPlus.staffPlusWorkScheduleDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({createStaffPlus:createStaffPlus,getJobtitle:getJobtitle,getStaffPlus:getStaffPlus,updateStaffPlus:updateStaffPlus,getCommonApi:getCommonApi,getWorkSchedule:getWorkSchedule,updateWorkSchedule:updateWorkSchedule},dispatch);};export var AddStaffPlus=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddStaffClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/AddStaffPlus/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","displayImg","dateFormat","DragFileUpload","createStaffPlus","getStaffPlus","updateStaffPlus","getWorkSchedule","updateWorkSchedule","getJobtitle","getCommonApi","connect","bindActionCreators","FormGroup","Label","Input","ScheduleTable","withTranslation","AddStaffClass","state","formFields","emp_name","emp_nric","display_name","emp_joindate","defaultSiteCodeid","EMP_TYPEid","emp_pic","emp_isactive","is_login","pw_password","LEVEL_ItmIDid","show_in_sales","show_in_appt","show_in_trmt","max_disc","work_schedule","monday","tuesday","wednesday","thursday","friday","saturday","sunday","scheduleOptions","jobOption","locationOption","levelList","is_loading","isMounted","updateState","data","setState","getStaffDetail","props","match","params","id","setDataFromStore","getDatafromStore","type","branchList","jobtitleList","key","push","label","level_desc","value","itemsite_desc","staffPlusDetail","staffPlusWorkScheduleDetails","Date","siteCodes","site_list","forEach","e","val","find","element","Site_Codeid","handleChange","target","name","Object","assign","handleMultiSelect","console","log","handleDatePick","handleInput","handleImageUpload","file","removepostImage","staffImage","index","indexOf","shift","pop","handleSubmit","validator","allValid","keys","formData","FormData","append","map","reduce","a","scheduleData","res","status","res2","history","showMessages","handleChangeBox","event","checked","validators","contactNumber","message","rule","helpers","testRegex","messageReplace","replace","toSentence","required","autoForceUpdate","then","level_name","schedules","itm_code","itm_desc","color","itm_color","shortDesc","t","mapStateToProps","common","staffPlus","mapDispatchToProps","dispatch","AddStaffPlus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport { DragFileUpload } from \"../../../common\";\r\nimport {\r\n  createStaffPlus,\r\n  getStaffPlus,\r\n  updateStaffPlus,\r\n  getWorkSchedule,\r\n  updateWorkSchedule,\r\n} from \"redux/actions/staffPlus\";\r\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { ScheduleTable } from \"./ScheduleTable\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class AddStaffClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      emp_name: \"\",\r\n      emp_nric: \"\",\r\n      display_name: \"\",\r\n      emp_joindate: \"\",\r\n      defaultSiteCodeid: \"\",\r\n      EMP_TYPEid: \"\",\r\n      emp_pic: \"\",\r\n      emp_isactive: false,\r\n      is_login: false,\r\n      pw_password: \"\",\r\n      LEVEL_ItmIDid: \"\",\r\n      show_in_sales: false,\r\n      show_in_appt: false,\r\n      show_in_trmt: false,\r\n      max_disc: \"\",\r\n      work_schedule: {\r\n        monday: \"YES\",\r\n        tuesday: \"YES\",\r\n        wednesday: \"YES\",\r\n        thursday: \"YES\",\r\n        friday: \"YES\",\r\n        saturday: \"NO\",\r\n        sunday: \"NO\",\r\n      },\r\n      defaultSiteCodeid: \"\",\r\n      siteCodes: [],\r\n    },\r\n    scheduleOptions: [],\r\n    jobOption: [],\r\n    locationOption: [],\r\n    levelList: [],\r\n    is_loading: true,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {\r\n        contactNumber: {\r\n          message: \"The :attribute must be a valid format.\",\r\n          rule: (val, params, validator) => {\r\n            return (\r\n              validator.helpers.testRegex(\r\n                val,\r\n                /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/\r\n              ) && params.indexOf(val) === -1\r\n            );\r\n          },\r\n          messageReplace: (message, params) =>\r\n            message.replace(\"\", this.helpers.toSentence(params)),\r\n          required: true,\r\n        },\r\n      },\r\n      element: (message) => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n\r\n    // branch option api\r\n    this.props.getCommonApi(\"branchlist/\").then((res) => {\r\n      let { locationOption } = this.state;\r\n      for (let key of res.data) {\r\n        locationOption.push({ value: key.id, label: key.itemsite_desc });\r\n      }\r\n      this.updateState({ locationOption });\r\n    });\r\n\r\n    // level option api\r\n    this.props.getCommonApi(\"securities/\").then((res) => {\r\n      let { levelList } = this.state;\r\n      for (let key of res.data) {\r\n        levelList.push({ value: key.id, label: key.level_name });\r\n      }\r\n      this.updateState({ levelList });\r\n    });\r\n\r\n    // schedule hours api\r\n    this.props.getCommonApi(\"WorkScheduleHours/\").then((res) => {\r\n      let { scheduleOptions } = this.state;\r\n      for (let key of res.schedules) {\r\n        scheduleOptions.push({\r\n          id: key.id,\r\n          value: key.itm_code,\r\n          label: key.itm_desc,\r\n          color: key.itm_color,\r\n          shortDesc: key.shortDesc,\r\n        });\r\n      }\r\n      this.updateState({ scheduleOptions });\r\n    });\r\n\r\n    // get api for staff while\r\n    if (this.props.match.params.id) {\r\n      // jobtitle option api\r\n      this.props.getJobtitle().then(async () => {\r\n        await this.getDatafromStore(\"jobtitle\");\r\n        this.getStaffDetail();\r\n      });\r\n    } else {\r\n      this.updateState({ is_loading: false });\r\n      // jobtitle option api\r\n      this.props.getJobtitle().then(() => {\r\n        this.getDatafromStore(\"jobtitle\");\r\n      });\r\n    }\r\n  }\r\n\r\n  // get api for staff\r\n  getStaffDetail = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props.getStaffPlus(`${this.props.match.params.id}/`);\r\n    await this.props.getWorkSchedule(`${this.props.match.params.id}`);\r\n    this.setDataFromStore();\r\n    this.updateState({ is_loading: false });\r\n  };\r\n\r\n  // set dropdown data from response\r\n  getDatafromStore = async (type) => {\r\n    let { branchList, jobtitleList } = this.props;\r\n    let { jobOption, locationOption } = this.state;\r\n    if (type === \"jobtitle\") {\r\n      for (let key of jobtitleList) {\r\n        jobOption.push({ label: key.level_desc, value: key.id });\r\n      }\r\n    } else if (type === \"branch\") {\r\n      for (let key of branchList) {\r\n        locationOption.push({ label: key.itemsite_desc, value: key.id });\r\n      }\r\n    }\r\n    this.updateState({\r\n      locationOption,\r\n      jobOption,\r\n    });\r\n  };\r\n\r\n  // set data to formfield from response while edit\r\n  setDataFromStore = () => {\r\n    let { staffPlusDetail, staffPlusWorkScheduleDetails } = this.props;\r\n    let { formFields, locationOption } = this.state;\r\n    formFields[\"emp_name\"] = staffPlusDetail.emp_name;\r\n    formFields[\"display_name\"] = staffPlusDetail.display_name;\r\n    formFields[\"emp_joindate\"] = new Date(staffPlusDetail.emp_joindate);\r\n    formFields[\"defaultSiteCodeid\"] = staffPlusDetail.defaultSiteCodeid;\r\n    formFields[\"EMP_TYPEid\"] = staffPlusDetail.EMP_TYPEid;\r\n    formFields[\"emp_pic\"] = staffPlusDetail.emp_pic;\r\n    formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\r\n    formFields[\"is_login\"] = staffPlusDetail.is_login;\r\n    formFields[\"emp_isactive\"] = staffPlusDetail.emp_isactive;\r\n    formFields[\"max_disc\"] = staffPlusDetail.max_disc;\r\n    formFields[\"LEVEL_ItmIDid\"] = staffPlusDetail.LEVEL_ItmIDid;\r\n    formFields[\"show_in_sales\"] = staffPlusDetail.show_in_sales;\r\n    formFields[\"show_in_appt\"] = staffPlusDetail.show_in_appt;\r\n    formFields[\"show_in_trmt\"] = staffPlusDetail.show_in_trmt;\r\n    formFields.siteCodes = [];\r\n    staffPlusDetail.site_list.forEach((e) => {\r\n      let val = locationOption.find(\r\n        (element) => element.value == e.Site_Codeid\r\n      );\r\n      formFields.siteCodes.push(val);\r\n    });\r\n    formFields.work_schedule.monday = staffPlusWorkScheduleDetails.monday;\r\n    formFields.work_schedule.tuesday = staffPlusWorkScheduleDetails.tuesday;\r\n    formFields.work_schedule.wednesday = staffPlusWorkScheduleDetails.wednesday;\r\n    formFields.work_schedule.thursday = staffPlusWorkScheduleDetails.thursday;\r\n    formFields.work_schedule.friday = staffPlusWorkScheduleDetails.friday;\r\n    formFields.work_schedule.saturday = staffPlusWorkScheduleDetails.saturday;\r\n    formFields.work_schedule.sunday = staffPlusWorkScheduleDetails.sunday;\r\n    this.updateState({ formFields });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleMultiSelect = (data = []) => {\r\n    let { formFields } = this.state;\r\n    formFields.siteCodes = data;\r\n    console.log(data);\r\n    this.updateState({ formFields });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleInput = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[name] = value === true ? 1 : value;\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // upload imag to formfield\r\n  handleImageUpload = (file) => {\r\n    let { formFields } = this.state;\r\n    formFields[\"emp_pic\"] = file;\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // remove image to formfield\r\n  removepostImage = (e, name) => {\r\n    let { staffImage } = this.state.formFields;\r\n    let index = staffImage.indexOf(name);\r\n    if (index === 0) {\r\n      staffImage.shift();\r\n    } else {\r\n      staffImage.pop();\r\n    }\r\n    this.updateState({\r\n      staffImage,\r\n    });\r\n  };\r\n\r\n  // submit to create/update staff\r\n  handleSubmit = async () => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        this.updateState({ is_loading: true });\r\n        let { formFields } = this.state;\r\n        Object.keys(formFields).forEach((e) => {\r\n          if (typeof formFields[e] === \"boolean\")\r\n            formFields[e] = formFields[e] ? \"True\" : \"False\";\r\n        });\r\n        const formData = new FormData();\r\n        formData.append(\"emp_name\", formFields.emp_name);\r\n        formData.append(\"display_name\", formFields.display_name);\r\n        formData.append(\"pw_password\", formFields.pw_password);\r\n        formData.append(\"emp_joindate\", dateFormat(formFields.emp_joindate));\r\n        formData.append(\"defaultSiteCodeid\", formFields.defaultSiteCodeid);\r\n        formData.append(\"EMP_TYPEid\", formFields.EMP_TYPEid);\r\n        if (\r\n          formFields.emp_pic != null &&\r\n          typeof formFields.emp_pic === \"object\"\r\n        )\r\n          formData.append(\"emp_pic\", formFields.emp_pic);\r\n        formData.append(\"emp_nric\", formFields.emp_nric);\r\n        formData.append(\"is_login\", formFields.is_login);\r\n        formData.append(\"emp_isactive\", formFields.emp_isactive);\r\n        formData.append(\"max_disc\", formFields.max_disc);\r\n        formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\r\n        formData.append(\"show_in_sales\", formFields.show_in_sales);\r\n        formData.append(\"show_in_appt\", formFields.show_in_appt);\r\n        formData.append(\"show_in_trmt\", formFields.show_in_trmt);\r\n        formData.append(\r\n          \"site_list\",\r\n          formFields.siteCodes.map((e) => e.value).reduce((a, e) => a + \",\" + e)\r\n        );\r\n        const scheduleData = new FormData();\r\n        scheduleData.append(\"monday\", formFields.work_schedule.monday);\r\n        scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\r\n        scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\r\n        scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\r\n        scheduleData.append(\"friday\", formFields.work_schedule.friday);\r\n        scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\r\n        scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\r\n        if (this.props.match.params.id) {\r\n          var res = await this.props.updateStaffPlus(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n          console.log(res);\r\n          if (res.status === 200) {\r\n            await this.props.updateWorkSchedule(\r\n              this.props.match.params.id,\r\n              scheduleData\r\n            );\r\n          }\r\n          await this.getStaffDetail();\r\n        } else {\r\n          var res = await this.props.createStaffPlus(formData);\r\n          console.log(res);\r\n          if (res.status === 201) {\r\n            var res2 = await this.props.updateWorkSchedule(\r\n              res.data.id,\r\n              scheduleData\r\n            );\r\n            if (res2.status === 200)\r\n              this.props.history.push(\r\n                `/admin/staffPlus/${res.data.id}/editStaff`\r\n              );\r\n          }\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  handleChangeBox = (event) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[event.target.name] = event.target.checked;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      jobOption,\r\n      locationOption,\r\n      is_loading,\r\n      levelList,\r\n      scheduleOptions,\r\n    } = this.state;\r\n\r\n    let {\r\n      emp_name,\r\n      emp_nric,\r\n      display_name,\r\n      is_login,\r\n      EMP_TYPEid,\r\n      emp_joindate,\r\n      emp_pic,\r\n      emp_isactive,\r\n      pw_password,\r\n      LEVEL_ItmIDid,\r\n      show_in_sales,\r\n      show_in_appt,\r\n      show_in_trmt,\r\n      defaultSiteCodeid,\r\n      max_disc,\r\n      work_schedule,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5 container create-staff\">\r\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Staff</p> */}\r\n        <div className=\"head-label-nav\">\r\n          <p className=\"category\">{t(\"StaffPlus\")}</p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Staff`)}\r\n          </p>\r\n        </div>\r\n        {is_loading ? (\r\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n            <div class=\"spinner-border\" role=\"status\">\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"staff-detail\">\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Upload Staff Photo\")}\r\n                  </label>\r\n                  <div className=\"col-md-12 p-0\">\r\n                    <DragFileUpload\r\n                      className={`file-uploader size-lg ${\r\n                        emp_pic ? \"\" : \"no-img\"\r\n                      }`}\r\n                      label=\"Upload Thumbnail\"\r\n                      handleFileUpload={this.handleImageUpload}\r\n                    ></DragFileUpload>\r\n\r\n                    {emp_pic ? (\r\n                      <>\r\n                        {typeof emp_pic == \"string\" ? (\r\n                          <img src={emp_pic} alt=\"\" width=\"50%\" />\r\n                        ) : null}\r\n                      </>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n                {this.props.match.params.id ? (\r\n                  <div className=\"col-6\">\r\n                    <Link\r\n                      to={\r\n                        \"/admin/staffplus/\" +\r\n                        this.props.match.params.id +\r\n                        \"/empinfo\"\r\n                      }\r\n                    >\r\n                      <NormalButton\r\n                        label=\"Emp Info\"\r\n                        outline={true}\r\n                        className=\"mr-2 col-12\"\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                ) : null}\r\n                <div className=\"col-12 pb-4 pt-4\">\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        onChange={this.handleChangeBox}\r\n                        checked={emp_isactive}\r\n                        name=\"emp_isactive\"\r\n                      />{\" \"}\r\n                      {t(\"Active\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n\r\n                <div className=\"col-12 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Employee Name\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={display_name}\r\n                      name=\"display_name\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"staff name\"),\r\n                    display_name,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n                <div className=\"col-12 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"NRIC/WP\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={emp_nric}\r\n                      name=\"emp_nric\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"User Name\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={emp_name}\r\n                      name=\"emp_name\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"display name\"),\r\n                    emp_name,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n                <div className=\"col-6 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Employee Type\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      options={jobOption}\r\n                      value={EMP_TYPEid}\r\n                      name=\"EMP_TYPEid\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"employee type\"),\r\n                    EMP_TYPEid,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n                <div className=\"col-6 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Discount Limit\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      type=\"number\"\r\n                      placeholder=\"Enter here\"\r\n                      value={max_disc}\r\n                      name=\"max_disc\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"discount limit\"),\r\n                    max_disc,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n                <div className=\"col-6 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Join Date\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalDateTime\r\n                      onChange={this.handleDatePick}\r\n                      inputcol=\"p-0 inTime\"\r\n                      value={emp_joindate}\r\n                      name=\"emp_joindate\"\r\n                      className=\"dob-pick\"\r\n                      showYearDropdown={true}\r\n                      dateFormat=\"MM/dd/yyyy\"\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"join date\"),\r\n                    emp_joindate,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n                <div className=\"col-6 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Default List\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      options={locationOption}\r\n                      value={defaultSiteCodeid}\r\n                      name=\"defaultSiteCodeid\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Site List\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalMultiSelect\r\n                      handleMultiSelect={this.handleMultiSelect}\r\n                      options={locationOption}\r\n                      value={formFields.siteCodes}\r\n                      name=\"siteCodes\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 pb-4 pt-4\">\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        onChange={this.handleChangeBox}\r\n                        checked={is_login}\r\n                        name=\"is_login\"\r\n                      />\r\n                      {t(\"Security AC\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n                {is_login ? (\r\n                  <div>\r\n                    <div className=\"col-12 mb-4\">\r\n                      <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                        {t(\"Password\")}\r\n                      </label>\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          value={pw_password}\r\n                          name=\"pw_password\"\r\n                          onChange={this.handleChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12 mb-4\">\r\n                      <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                        {t(\"Employee Level\")}\r\n                      </label>\r\n                      <div className=\"input-group\">\r\n                        <NormalSelect\r\n                          options={levelList}\r\n                          value={LEVEL_ItmIDid}\r\n                          name=\"LEVEL_ItmIDid\"\r\n                          onChange={this.handleChange}\r\n                        />\r\n                      </div>\r\n                      {this.validator.message(\r\n                        t(\"employee level\"),\r\n                        LEVEL_ItmIDid,\r\n                        t(\"required\")\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n                <div className=\"col-12 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"To Show At\")}\r\n                  </label>\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        onChange={this.handleChangeBox}\r\n                        checked={show_in_sales}\r\n                        name=\"show_in_sales\"\r\n                      />\r\n                      {t(\"Sales\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        onChange={this.handleChangeBox}\r\n                        checked={show_in_trmt}\r\n                        name=\"show_in_trmt\"\r\n                      />\r\n                      {t(\"Treatment\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        onChange={this.handleChangeBox}\r\n                        checked={show_in_appt}\r\n                        name=\"show_in_appt\"\r\n                      />\r\n                      {t(\"Appointment\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group mb-4 pb-2\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                      {t(\"Work Schedule\")}\r\n                    </label>\r\n                    <ScheduleTable\r\n                      data={work_schedule}\r\n                      optionList={scheduleOptions}\r\n                      onChange={(data) => {\r\n                        let { formFields } = this.state;\r\n                        formFields[\"work_schedule\"] = data;\r\n                        this.updateState({\r\n                          formFields,\r\n                        });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"pt-5 d-flex justify-content-center\">\r\n                <div className=\"col-md-3 col-lg-2\">\r\n                  <Link to=\"/admin/staffplus\">\r\n                    <NormalButton\r\n                      label=\"Cancel\"\r\n                      danger={true}\r\n                      className=\"mr-2 col-12\"\r\n                    />\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-md-3 col-lg-2\">\r\n                  <NormalButton\r\n                    onClick={() => this.handleSubmit()}\r\n                    label=\"Save\"\r\n                    success={true}\r\n                    className=\"mr-2 col-12\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  branchList: state.common.branchList,\r\n  jobtitleList: state.common.jobtitleList,\r\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\r\n  staffPlusWorkScheduleDetails: state.staffPlus.staffPlusWorkScheduleDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      createStaffPlus,\r\n      getJobtitle,\r\n      getStaffPlus,\r\n      updateStaffPlus,\r\n      getCommonApi,\r\n      getWorkSchedule,\r\n      updateWorkSchedule,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddStaffPlus = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddStaffClass)\r\n);"]},"metadata":{},"sourceType":"module"}