{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Customer\\\\CustomerDetails\\\\HoldSection\\\\Hold.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { IssuedStaff } from \"./modal\";\nimport { NormalInput, NormalButton, NormalModal, TableWrapper } from \"component/common\";\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\";\nimport { Toast } from \"service/toast\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { history } from \"helpers\";\nimport { CreateHoldItem } from \"redux/actions/customer\";\nexport class HoldSectionClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeTab: \"\",\n      headerDetails: [{\n        label: \"Date\",\n        sortKey: false,\n        width: \"70px\"\n      }, {\n        label: \"Transaction #\",\n        width: \"180px\"\n      }, {\n        label: \"Item Name\",\n        sortKey: false,\n        width: \"150px\"\n      }, {\n        label: \"Item Code\",\n        sortKey: false,\n        width: \"150px\"\n      }, {\n        label: \"Qty Hold\",\n        sortKey: false,\n        width: \"100px\"\n      }, {\n        label: \"Qty issued\",\n        sortKey: false,\n        width: \"100px\"\n      }, {\n        label: \"Staff issued\",\n        sortKey: false,\n        width: \"100px\"\n      }],\n      accountList: [],\n      accountHeader: {},\n      isIssued: false,\n      isWarning: false,\n      Staffid: 0,\n      holdItem: {},\n      formData: [],\n      downloadlLink: \"\",\n      isPrint: false\n    };\n\n    this.toggle = tab => {\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeTab: tab\n        });\n      }\n    };\n\n    this.modalclose = () => {\n      this.setState({\n        isIssued: !this.state.isIssued\n      });\n    };\n\n    this.getAccountData = () => {\n      let {\n        accountHeader\n      } = this.state;\n      this.props.getCommonApi(`holditem/?cust_id=${this.props.id}`).then(key => {\n        let {\n          data,\n          header_data\n        } = key;\n        let {\n          accountList\n        } = this.state;\n        accountList = data;\n        accountHeader = header_data;\n        this.setState({\n          accountList,\n          accountHeader\n        });\n      });\n    };\n\n    this.handleissuedstaff = async item => {\n      await this.setState({\n        holdItem: item\n      });\n\n      if (item.check == \"fullpay\") {\n        this.setState({\n          isIssued: !this.state.isIssued\n        });\n      } else {\n        this.setState({\n          isWarning: !this.state.isWarning\n        });\n      }\n    };\n\n    this.proceedtoissuedstaff = () => {\n      this.setState({\n        isWarning: !this.state.isWarning,\n        isIssued: !this.state.isIssued\n      });\n    };\n\n    this.denyissuedstaff = () => {\n      this.setState({\n        isWarning: !this.state.isWarning\n      });\n    };\n\n    this.issuedlisttableupdate = holdData => {\n      let {\n        accountList\n      } = this.state;\n      let filterList = accountList.find(account => account.id === holdData.id);\n      filterList[\"qty_issued\"] = holdData.issueQty;\n      filterList[\"staff_issued\"] = holdData.emp_name;\n      filterList[\"emp_id\"] = holdData.emp_id;\n      filterList[\"emp_name\"] = holdData.emp_name;\n      this.setState({ ...this.state.accountList,\n        filterList\n      });\n    };\n\n    this.issuedlistupdate = holdData => {\n      let {\n        formData\n      } = this.state;\n      let filterList = formData.find(account => account.id === holdData.id);\n\n      if (filterList) {\n        filterList[\"id\"] = holdData.id;\n        filterList[\"issued_qty\"] = holdData.issueQty;\n        filterList[\"emp_id\"] = holdData.emp_id;\n        this.setState({ ...this.state.formData,\n          filterList\n        });\n      } else {\n        let data = {};\n        data[\"id\"] = holdData.id;\n        data[\"issued_qty\"] = holdData.issueQty;\n        data[\"emp_id\"] = holdData.emp_id;\n        formData.push(data);\n        this.setState({ ...this.state.formData,\n          formData\n        });\n      }\n    };\n\n    this.handlePrint = () => {\n      this.setState({\n        isPrint: false\n      });\n      window.open(this.state.downloadlLink);\n    };\n\n    this.onSubmit = async () => {\n      let {\n        formData\n      } = this.state;\n\n      if (formData.length > 0) {\n        await this.props.CreateHoldItem(formData).then(async res => {\n          if (res.status === 200) {\n            Toast({\n              type: \"success\",\n              message: res.message\n            });\n            this.setState({\n              downloadlLink: res.data,\n              isPrint: true,\n              formData: []\n            });\n            this.getAccountData();\n          } else {\n            Toast({\n              type: \"error\",\n              message: res.message\n            });\n          }\n        });\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"There is no record to update\"\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getAccountData();\n  }\n\n  render() {\n    let {\n      headerDetails,\n      accountList = [],\n      activeTab,\n      isIssued,\n      isWarning,\n      Staffid,\n      holdItem = {},\n      downloadlLink,\n      isPrint\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"treatment-account row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, activeTab !== \"detail\" ? /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, accountList && accountList.length > 0 ? accountList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }\n      }, item.sa_date)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 29\n        }\n      }, item.sa_transacno_ref)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 29\n        }\n      }, item.hi_itemdesc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 29\n        }\n      }, item.itemno)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 29\n        }\n      }, item.holditemqty)), /*#__PURE__*/React.createElement(\"td\", {\n        onClick: () => this.handleissuedstaff(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center cursor-pointer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 29\n        }\n      }, item.qty_issued)), /*#__PURE__*/React.createElement(\"td\", {\n        onClick: () => this.handleissuedstaff(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 29\n        }\n      }, item.staff_issued)));\n    }) : \"\") : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.onSubmit(),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }, \" \", \"Issued\", \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }\n    }, isIssued ? /*#__PURE__*/React.createElement(IssuedStaff, {\n      isIssued: isIssued,\n      key: holdItem.id,\n      toggle: this.modalclose,\n      holdItem: holdItem,\n      handleModal: this.handleissuedstaff,\n      issuedlistupdate: this.issuedlistupdate,\n      issuedlisttableupdate: this.issuedlisttableupdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }\n    }, isWarning ? /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"280px\"\n      },\n      modal: isWarning,\n      handleModal: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart issued-staff p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 23\n      }\n    }, \"Product have outstanding, Are you sure you want to issued ?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.proceedtoissuedstaff(),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }, \" \", \"Yes\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.denyissuedstaff(),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 25\n      }\n    }, \" \", \"No\", \" \")))))), \" \") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, isPrint ? /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"280px\"\n      },\n      modal: isPrint,\n      handleModal: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart issued-staff p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 23\n      }\n    }, \"Do you want to print ?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handlePrint(),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 25\n      }\n    }, \" \", \"Yes\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.setState({\n        isPrint: false\n      }),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 25\n      }\n    }, \" \", \"No\", \" \")))))), \" \") : \"\"));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    updateForm,\n    commonCreateApi,\n    commonPatchApi,\n    commonDeleteApi,\n    CreateHoldItem\n  }, dispatch);\n};\n\nexport const Hold = connect(null, mapDispatchToProps)(HoldSectionClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Customer/CustomerDetails/HoldSection/Hold.js"],"names":["React","Component","IssuedStaff","NormalInput","NormalButton","NormalModal","TableWrapper","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","Toast","connect","bindActionCreators","history","CreateHoldItem","HoldSectionClass","state","activeTab","headerDetails","label","sortKey","width","accountList","accountHeader","isIssued","isWarning","Staffid","holdItem","formData","downloadlLink","isPrint","toggle","tab","setState","modalclose","getAccountData","props","id","then","key","data","header_data","handleissuedstaff","item","check","proceedtoissuedstaff","denyissuedstaff","issuedlisttableupdate","holdData","filterList","find","account","issueQty","emp_name","emp_id","issuedlistupdate","push","handlePrint","window","open","onSubmit","length","res","status","type","message","componentDidMount","render","handlePagination","map","index","sa_date","sa_transacno_ref","hi_itemdesc","itemno","holditemqty","qty_issued","staff_issued","minWidth","mapDispatchToProps","dispatch","Hold"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { IssuedStaff } from \"./modal\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  NormalModal,\r\n  TableWrapper,\r\n} from \"component/common\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport { Toast } from \"service/toast\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from \"helpers\";\r\nimport { CreateHoldItem } from \"redux/actions/customer\";\r\n\r\nexport class HoldSectionClass extends Component {\r\n  state = {\r\n    activeTab: \"\",\r\n    headerDetails: [\r\n      { label: \"Date\", sortKey: false, width: \"70px\" },\r\n      { label: \"Transaction #\", width: \"180px\" },\r\n      { label: \"Item Name\", sortKey: false, width: \"150px\" },\r\n      { label: \"Item Code\", sortKey: false, width: \"150px\" },\r\n      { label: \"Qty Hold\", sortKey: false, width: \"100px\" },\r\n      { label: \"Qty issued\", sortKey: false, width: \"100px\" },\r\n      { label: \"Staff issued\", sortKey: false, width: \"100px\" },\r\n    ],\r\n    accountList: [],\r\n    accountHeader: {},\r\n    isIssued: false,\r\n    isWarning: false,\r\n    Staffid: 0,\r\n    holdItem: {},\r\n    formData: [],\r\n    downloadlLink: \"\",\r\n    isPrint: false,\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n  modalclose = () => {\r\n    this.setState({ isIssued: !this.state.isIssued });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getAccountData();\r\n  }\r\n\r\n  getAccountData = () => {\r\n    let { accountHeader } = this.state;\r\n    this.props.getCommonApi(`holditem/?cust_id=${this.props.id}`).then(key => {\r\n      let { data, header_data } = key;\r\n      let { accountList } = this.state;\r\n      accountList = data;\r\n      accountHeader = header_data;\r\n      this.setState({ accountList, accountHeader });\r\n    });\r\n  };\r\n\r\n  handleissuedstaff = async item => {\r\n    await this.setState({\r\n      holdItem: item,\r\n    });\r\n\r\n    if (item.check == \"fullpay\") {\r\n      this.setState({\r\n        isIssued: !this.state.isIssued,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        isWarning: !this.state.isWarning,\r\n      });\r\n    }\r\n  };\r\n\r\n  proceedtoissuedstaff = () => {\r\n    this.setState({\r\n      isWarning: !this.state.isWarning,\r\n      isIssued: !this.state.isIssued,\r\n    });\r\n  };\r\n\r\n  denyissuedstaff = () => {\r\n    this.setState({\r\n      isWarning: !this.state.isWarning,\r\n    });\r\n  };\r\n\r\n  issuedlisttableupdate = holdData => {\r\n    let { accountList } = this.state;\r\n    let filterList = accountList.find(account => account.id === holdData.id);\r\n    filterList[\"qty_issued\"] = holdData.issueQty;\r\n    filterList[\"staff_issued\"] = holdData.emp_name;\r\n    filterList[\"emp_id\"] = holdData.emp_id;\r\n    filterList[\"emp_name\"] = holdData.emp_name;\r\n    this.setState({ ...this.state.accountList, filterList });\r\n  };\r\n\r\n  issuedlistupdate = holdData => {\r\n    let { formData } = this.state;\r\n    let filterList = formData.find(account => account.id === holdData.id);\r\n    if (filterList) {\r\n      filterList[\"id\"] = holdData.id;\r\n      filterList[\"issued_qty\"] = holdData.issueQty;\r\n      filterList[\"emp_id\"] = holdData.emp_id;\r\n      this.setState({ ...this.state.formData, filterList });\r\n    } else {\r\n      let data = {};\r\n      data[\"id\"] = holdData.id;\r\n      data[\"issued_qty\"] = holdData.issueQty;\r\n      data[\"emp_id\"] = holdData.emp_id;\r\n      formData.push(data);\r\n      this.setState({ ...this.state.formData, formData });\r\n    }\r\n  };\r\n\r\n  handlePrint = () => {\r\n    this.setState({ isPrint: false });\r\n    window.open(this.state.downloadlLink);\r\n  };\r\n\r\n  onSubmit = async () => {\r\n    let { formData } = this.state;\r\n    if (formData.length > 0) {\r\n      await this.props.CreateHoldItem(formData).then(async res => {\r\n        if (res.status === 200) {\r\n          Toast({ type: \"success\", message: res.message });\r\n          this.setState({\r\n            downloadlLink: res.data,\r\n            isPrint: true,\r\n            formData: [],\r\n          });\r\n          this.getAccountData();\r\n        } else {\r\n          Toast({ type: \"error\", message: res.message });\r\n        }\r\n      });\r\n    } else {\r\n      Toast({ type: \"error\", message: \"There is no record to update\" });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      accountList = [],\r\n      activeTab,\r\n      isIssued,\r\n      isWarning,\r\n      Staffid,\r\n      holdItem = {},\r\n      downloadlLink,\r\n      isPrint,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"treatment-account row mt-3\">\r\n        <div className=\"col-12\">\r\n          <div className=\"table\">\r\n            {activeTab !== \"detail\" ? (\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n              >\r\n                {accountList && accountList.length > 0\r\n                  ? accountList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.sa_date}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.sa_transacno_ref}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.hi_itemdesc}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.itemno}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.holditemqty}\r\n                            </div>\r\n                          </td>\r\n                          <td onClick={() => this.handleissuedstaff(item)}>\r\n                            <div className=\"d-flex align-items-center justify-content-center cursor-pointer\">\r\n                              {item.qty_issued}\r\n                            </div>\r\n                          </td>\r\n                          <td onClick={() => this.handleissuedstaff(item)}>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              {item.staff_issued}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n              </TableWrapper>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-center\">\r\n          <div className=\"col-4\">\r\n            <button\r\n              onClick={() => this.onSubmit()}\r\n              className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n            >\r\n              {\" \"}\r\n              Issued{\" \"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-center\">\r\n          {isIssued ? (\r\n            <IssuedStaff\r\n              isIssued={isIssued}\r\n              key={holdItem.id}\r\n              toggle={this.modalclose}\r\n              holdItem={holdItem}\r\n              handleModal={this.handleissuedstaff}\r\n              issuedlistupdate={this.issuedlistupdate}\r\n              issuedlisttableupdate={this.issuedlisttableupdate}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-center\">\r\n          {isWarning ? (\r\n            <>\r\n              {\" \"}\r\n              <NormalModal\r\n                style={{ minWidth: \"280px\" }}\r\n                modal={isWarning}\r\n                handleModal={this.toggle}\r\n              >\r\n                <div className=\"row new-cart issued-staff p-3\">\r\n                  <div className=\"col-12\">\r\n                    <div>\r\n                      <p>\r\n                        Product have outstanding, Are you sure you want to\r\n                        issued ?\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-3\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <button\r\n                          onClick={() => this.proceedtoissuedstaff()}\r\n                          className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                        >\r\n                          {\" \"}\r\n                          Yes{\" \"}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"col-3\">\r\n                        <button\r\n                          onClick={() => this.denyissuedstaff()}\r\n                          className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                        >\r\n                          {\" \"}\r\n                          No{\" \"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </NormalModal>{\" \"}\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-center\">\r\n          {isPrint ? (\r\n            <>\r\n              {\" \"}\r\n              <NormalModal\r\n                style={{ minWidth: \"280px\" }}\r\n                modal={isPrint}\r\n                handleModal={this.toggle}\r\n              >\r\n                <div className=\"row new-cart issued-staff p-3\">\r\n                  <div className=\"col-12\">\r\n                    <div>\r\n                      <p>Do you want to print ?</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-3\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <button\r\n                          onClick={() => this.handlePrint()}\r\n                          className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                        >\r\n                          {\" \"}\r\n                          Yes{\" \"}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"col-3\">\r\n                        <button\r\n                          onClick={() => this.setState({ isPrint: false })}\r\n                          className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                        >\r\n                          {\" \"}\r\n                          No{\" \"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </NormalModal>{\" \"}\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n      CreateHoldItem,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Hold = connect(null, mapDispatchToProps)(HoldSectionClass);\r\n"]},"metadata":{},"sourceType":"module"}