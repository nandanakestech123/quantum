{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalButton}from\"component/common\";import{Toast}from\"service/toast\";import{commonCreateApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{withTranslation}from\"react-i18next\";export var AddWalkinCustomerClass=/*#__PURE__*/function(_Component){_inherits(AddWalkinCustomerClass,_Component);var _super=_createSuper(AddWalkinCustomerClass);function AddWalkinCustomerClass(){var _this;_classCallCheck(this,AddWalkinCustomerClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={walkInUser:{newCustname:\"\",newCust_phone:\"\",newCustreference:\"\"}};_this.handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$target,value,name,walkInUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;walkInUser=_this.state.walkInUser;walkInUser[name]=value;_context.next=5;return _this.setState({walkInUser:walkInUser});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleSubmit=function(){var walkInUser=_this.state.walkInUser;console.log(walkInUser,\"walkin users\");if(_this.validator.allValid()){var data={cust_name:walkInUser.newCustname,cust_address:null,cust_dob:null,cust_phone1:null,cust_phone2:walkInUser.newCust_phone,cust_email:null,Cust_sexesid:null,custallowsendsms:null,cust_maillist:null,cust_refer:walkInUser.newCustreference};_this.props.commonCreateApi(\"customer/\",data).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(res.status===201){console.log(res,\"Walkincustomer\");_this.setState({walkInUser:{}});_this.props.handleWalkInCustomer(res.data);}else{Toast({type:\"error\",message:res.message});}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}());}else{_this.validator.showMessages();}};return _this;}_createClass(AddWalkinCustomerClass,[{key:\"componentWillMount\",value:function componentWillMount(){this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});}},{key:\"render\",value:function render(){var _this2=this;var walkInUser=this.state.walkInUser;var t=this.props.t;var newCustname=walkInUser.newCustname,newCust_phone=walkInUser.newCust_phone,newCustreference=walkInUser.newCustreference;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"Name\"),/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:newCustname,name:\"newCustname\",onChange:this.handleChange})),this.validator.message(\"Name\",newCustname,\"required|max:50\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"Phone\"),/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:newCust_phone,name:\"newCust_phone\",onChange:this.handleChange})),this.validator.message(\"Phone\",newCust_phone,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"Reference\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:newCustreference,name:\"newCustreference\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12 d-flex align-self-center\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this2.handleSubmit();},label:\"Save\",className:\" fs-15 confirm\",mainbg:true,buttonClass:\"mx-2 p-0\",outline:false})));}}]);return AddWalkinCustomerClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({commonCreateApi:commonCreateApi},dispatch);};export var AddWalkinCustomer=withTranslation()(connect(null,mapDispatchToProps)(AddWalkinCustomerClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/NewAppointment/NewCreateAppointment/NewWalkinCustomer.js"],"names":["React","Component","SimpleReactValidator","NormalInput","NormalButton","Toast","commonCreateApi","connect","bindActionCreators","withTranslation","AddWalkinCustomerClass","state","walkInUser","newCustname","newCust_phone","newCustreference","handleChange","target","value","name","setState","handleSubmit","console","log","validator","allValid","data","cust_name","cust_address","cust_dob","cust_phone1","cust_phone2","cust_email","Cust_sexesid","custallowsendsms","cust_maillist","cust_refer","props","then","res","status","handleWalkInCustomer","type","message","showMessages","validators","element","autoForceUpdate","t","mapDispatchToProps","dispatch","AddWalkinCustomer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { NormalInput, NormalButton } from \"component/common\";\r\nimport { Toast } from \"service/toast\";\r\nimport { commonCreateApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class AddWalkinCustomerClass extends Component {\r\n  state = {\r\n    walkInUser: { newCustname: \"\", newCust_phone: \"\", newCustreference: \"\" },\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  }\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { walkInUser } = this.state;\r\n    walkInUser[name] = value;\r\n    await this.setState({\r\n      walkInUser,\r\n    });\r\n  };\r\n  handleSubmit = () => {\r\n    let { walkInUser } = this.state;\r\n    console.log(walkInUser, \"walkin users\");\r\n\r\n    if (this.validator.allValid()) {\r\n      let data = {\r\n        cust_name: walkInUser.newCustname,\r\n        cust_address: null,\r\n        cust_dob: null,\r\n        cust_phone1: null,\r\n        cust_phone2: walkInUser.newCust_phone,\r\n        cust_email: null,\r\n        Cust_sexesid: null,\r\n        custallowsendsms: null,\r\n        cust_maillist: null,\r\n        cust_refer: walkInUser.newCustreference,\r\n      };\r\n      this.props.commonCreateApi(`customer/`, data).then(async res => {\r\n        if (res.status === 201) {\r\n          console.log(res, \"Walkincustomer\");\r\n          this.setState({ walkInUser: {} });\r\n          this.props.handleWalkInCustomer(res.data);\r\n        } else {\r\n          Toast({ type: \"error\", message: res.message });\r\n        }\r\n      });\r\n    } else {\r\n      this.validator.showMessages();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { walkInUser } = this.state;\r\n    let { t } = this.props;\r\n\r\n    let { newCustname, newCust_phone, newCustreference } = walkInUser;\r\n    return (\r\n      <>\r\n        <div className=\"col-md-2 col-12 mb-3\">\r\n          <label className=\"text-left text-black common-label-text \">\r\n            {t(\"Name\")}\r\n            <span className=\"error-message text-danger validNo fs-18\">*</span>\r\n          </label>\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              placeholder=\"Enter here\"\r\n              value={newCustname}\r\n              name=\"newCustname\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n          {this.validator.message(\"Name\", newCustname, \"required|max:50\")}\r\n        </div>\r\n        <div className=\"col-md-2 col-12 mb-3\">\r\n          <label className=\"text-left text-black common-label-text \">\r\n            {t(\"Phone\")}\r\n            <span className=\"error-message text-danger validNo fs-18\">*</span>\r\n          </label>\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              placeholder=\"Enter here\"\r\n              value={newCust_phone}\r\n              name=\"newCust_phone\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n          {this.validator.message(\"Phone\", newCust_phone, \"required\")}\r\n        </div>\r\n        <div className=\"col-md-1 col-12 mb-3\">\r\n          <label className=\"text-left text-black common-label-text \">\r\n            {t(\"Reference\")}\r\n          </label>\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              value={newCustreference}\r\n              name=\"newCustreference\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-1 col-12 d-flex align-self-center\">\r\n          <NormalButton\r\n            onClick={() => this.handleSubmit()}\r\n            label=\"Save\"\r\n            className=\" fs-15 confirm\"\r\n            mainbg={true}\r\n            buttonClass={\"mx-2 p-0\"}\r\n            outline={false}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddWalkinCustomer = withTranslation()(\r\n  connect(null, mapDispatchToProps)(AddWalkinCustomerClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}