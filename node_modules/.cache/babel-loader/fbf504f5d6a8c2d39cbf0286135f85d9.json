{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\TransactionHistory\\\\TransactionReceipt.js\";\nimport React, { Component } from \"react\";\nimport { NormalButton, NormalSelect } from \"component/common\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { history } from \"helpers\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\nimport { ChangePayment } from \"./ChangePayment\";\nimport { ChangeStaff } from \"./ChangeStaff\";\nimport { NormalModal } from \"component/common\";\nimport closeIcon from \"assets/images/close.png\";\nimport { ChangeDate } from \"./ChangeDate\";\nimport { SignPanel } from \"component/common/SignPanel\"; // import logo from 'assets/images/logo.png'\n\nexport class TransactionReceiptClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      responseData: {},\n      downloadlLink: \"\",\n      isOpenPayment: false,\n      isOpenstaff: false,\n      settingData: {},\n      isOpenDate: false\n    };\n\n    this.getResponseDate = () => {\n      this.props.getCommonApi(`customerreceiptprint/?sa_transacno=${this.props.match.params.id}`).then(res => {\n        console.log(\"responseofprint:\", res);\n        this.setState({\n          responseData: res\n        });\n      });\n    };\n\n    this.handleItemSettings = () => {\n      let {\n        settingData\n      } = this.state;\n      this.props.getCommonApi(`userlist/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"settingsData changeprice\");\n\n        if (status === 200) {\n          settingData = data;\n          this.setState({\n            settingData\n          });\n        }\n      });\n    };\n\n    this.handlePrint = () => {\n      this.props.getCommonApi(`receiptpdf/?sa_transacno=${this.props.match.params.id}`).then(res => {\n        this.setState({\n          downloadlLink: res.data\n        });\n      });\n    };\n\n    this.handleShare = () => {\n      this.props.commonCreateApi(`receiptpdfsend/?sa_transacno=${this.props.match.params.id}`).then(res => {\n        this.setState({\n          responseData: res\n        });\n      });\n    };\n\n    this.handleSendSMS = () => {\n      this.props.commonCreateApi(`receiptpdfsendsms/?sa_transacno=${this.props.match.params.id}`).then(res => {});\n    };\n\n    this.handleChangePayment = () => {\n      this.setState({\n        isOpenPayment: true\n      });\n    };\n\n    this.handlestaffchange = () => {\n      this.setState({\n        isOpenstaff: true\n      });\n    };\n\n    this.handleDialog = async () => {\n      let {\n        isOpenPayment,\n        isOpenstaff,\n        isOpenDate\n      } = this.state;\n      isOpenPayment = false;\n      isOpenstaff = false;\n      isOpenDate = false;\n      await this.setState({\n        isOpenPayment,\n        isOpenstaff,\n        isOpenDate\n      });\n    };\n\n    this.handleChangeDateDialog = () => {\n      this.handleDialog();\n      this.componentDidMount();\n    };\n\n    this.handleChangeDate = () => {\n      this.setState({\n        isOpenDate: true\n      });\n    };\n\n    this.handleSignSaveClick = imgData => {\n      // var block = imgData.split(\";\");\n      // // Get the content type of the image\n      // var contentType = block[0].split(\":\")[1]; // In this case \"image/gif\"\n      // // get the real base64 content of the file\n      // var realData = block[1].split(\",\")[1]; // In this case \"R0lGODlhPQBEAPeoAJosM....\"\n      // // Convert it to a blob to upload\n      // var blob = this.b64toBlob(realData, contentType);\n      let formData = new FormData();\n      formData.append(\"transaction_no\", this.props.match.params.id);\n      formData.append(\"cust_sig\", this.dataURLtoFile(imgData, `${this.props.match.params.id}.jpeg`));\n      this.props.commonCreateApi(`tempcustsigninvoice/`, formData).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 201) {\n          history.push(`/admin/transactionhistory/print/bill/${this.props.match.params.id}`);\n        }\n      });\n    };\n\n    this.dataURLtoFile = (dataurl, filename, mime) => {\n      var arr = dataurl.split(\",\"),\n          mime = arr[0].match(/:(.*?);/)[1],\n          bstr = atob(arr[1]),\n          n = bstr.length,\n          u8arr = new Uint8Array(n);\n\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n\n      return new File([u8arr], filename, {\n        type: mime\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getResponseDate();\n    this.handlePrint();\n    this.handleItemSettings();\n  }\n\n  render() {\n    let {\n      responseData = {},\n      downloadlLink,\n      isOpenPayment,\n      isOpenstaff,\n      settingData,\n      isOpenDate\n    } = this.state;\n    let {\n      hdr_data = [],\n      dtl_data = [],\n      sub_data = {},\n      taud_data = [],\n      footer = {},\n      company_hdr = {},\n      taud_sub = {}\n    } = responseData;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"print-section container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"print-bill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"receipt card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: company_hdr ? company_hdr.logo : \"\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"bill-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, company_hdr ? company_hdr.name : \"\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"receipt-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, company_hdr ? company_hdr.address : \"\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bill-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }, \"Code\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.sa_custno : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 23\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.sa_custname : \"\")), hdr_data && hdr_data.is_nric ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 25\n      }\n    }, \"NRIC\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }, \": \", hdr_data ? hdr_data.nric : \"\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 23\n      }\n    }, \"Cust Refer\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.cust_refer : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 23\n      }\n    }, \"Cust Phone\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.cust_phone2 : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 23\n      }\n    }, \"Trans\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.trans : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 23\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.sa_date : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 23\n      }\n    }, \"Time\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.sa_time : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, \"Issued\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 23\n      }\n    }, \": \", hdr_data ? hdr_data.issued : \"\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bill-detail mt-4 py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0 table-header  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, \"No.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 19\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 19\n      }\n    }, \"Qty\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 19\n      }\n    }, \"U/P\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 19\n      }\n    }, \"Disc.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }, \"N/P\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 19\n      }\n    }, \"Paid\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 d-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 19\n      }\n    }, \"Sold By\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-left pl-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 19\n      }\n    }, \"Service By\")), dtl_data.length > 0 ? dtl_data.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 mt-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 27\n        }\n      }, index + 1), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 27\n        }\n      }, item.dt_itemdesc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      }, item.dt_qty), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 27\n        }\n      }, item.dt_price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 27\n        }\n      }, item.discount), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 27\n        }\n      }, item.dt_transacamt), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 27\n        }\n      }, item.dt_deposit), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 27\n        }\n      }, item.balance), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 27\n        }\n      }, item.sales_staff), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 27\n        }\n      }, item.work_staff));\n    }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row table-header sub-total m-0 fs-14 f-600 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 19\n      }\n    }, sub_data.tot_qty), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 19\n      }\n    }, sub_data.tot_price), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 19\n      }\n    }, sub_data.tot_disc), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 19\n      }\n    }, sub_data.tot_net), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 19\n      }\n    }, sub_data.tot_paid), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 d-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 19\n      }\n    }, sub_data.tot_bal))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"payment-detail my-4 fs-14 f-600 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row payment-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 23\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 23\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 23\n      }\n    }, \"Amount\")), taud_data.length > 0 ? taud_data.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row payment-header\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 31\n        }\n      }, item.pay_rem1), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 31\n        }\n      }, item.pay_type_name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 31\n        }\n      }, \"$ \", item.pay_amt));\n    }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row payment-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 fs-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 23\n      }\n    }, taud_sub.gst_label), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 23\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 23\n      }\n    }, taud_sub.total))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 23\n      }\n    }, \"Sub Total :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 23\n      }\n    }, sub_data.sub_total)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 23\n      }\n    }, \"GST :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 23\n      }\n    }, taud_sub.gst)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 23\n      }\n    }, \"Rounding :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 23\n      }\n    }, taud_sub.rounding)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 23\n      }\n    }, \"Grand Total :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 23\n      }\n    }, taud_sub.grand_tot)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 23\n      }\n    }, \"Deposit :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 23\n      }\n    }, sub_data.tot_paid)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 23\n      }\n    }, \"Outstanding :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 23\n      }\n    }, sub_data.outstanding))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invoice-footer mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9 fs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 21\n      }\n    }, \"Remark: \", footer.remark), footer.footer1 ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 39\n      }\n    }, \"1. \", footer.footer1) : \"\", footer.footer2 ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 39\n      }\n    }, \"2. \", footer.footer2) : \"\", footer.footer3 ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 39\n      }\n    }, \"3. \", footer.footer3) : \"\", footer.footer4 ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 39\n      }\n    }, \"4. \", footer.footer4) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 text-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 19\n      }\n    }, company_hdr && company_hdr.cust_sig ? /*#__PURE__*/React.createElement(\"img\", {\n      className: `sigImage`,\n      alt: \"\",\n      width: 200,\n      height: 150,\n      src: company_hdr.cust_sig,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(SignPanel, {\n      handleSignSaveClick: imgData => this.handleSignSaveClick(imgData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 23\n      }\n    }), \"Customer Signature\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-5 d-flex text-center action-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 13\n      }\n    }, (Number(this.props.tokenDetails.role_code) == 1 || Number(this.props.tokenDetails.role_code) == 2) && settingData.showChangeStaff ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: this.handlestaffchange,\n      label: \"Change Staff\",\n      mainbg: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 19\n      }\n    })) : \"\", (Number(this.props.tokenDetails.role_code) == 1 || Number(this.props.tokenDetails.role_code) == 2) && settingData.showChangeDate ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: this.handleChangeDate,\n      label: \"Change Date\",\n      mainbg: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 19\n      }\n    })) : \"\", (Number(this.props.tokenDetails.role_code) == 1 || Number(this.props.tokenDetails.role_code) == 2) && settingData.showChangePayMode ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: this.handleChangePayment,\n      label: \"Change Payment\",\n      mainbg: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 19\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: () => window.open(downloadlLink),\n      label: \"Print\",\n      success: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: this.handleShare,\n      label: \"Share\",\n      className: \"share\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: this.handleSendSMS,\n      label: \"Send SMS\",\n      className: \"share\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"payment-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenPayment,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ChangePayment, {\n      TransactionId: this.props.match.params.id,\n      handleModal: this.handleChangeDateDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"payment-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenstaff,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ChangeStaff, {\n      TransactionId: this.props.match.params.id,\n      handleModal: this.handleChangeDateDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"changeDate-modal\",\n      style: {\n        minWidth: \"25%\"\n      },\n      modal: isOpenDate,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ChangeDate, {\n      TransactionId: this.props.match.params.id,\n      TransactionDate: hdr_data.sa_date,\n      handleModal: this.handleChangeDateDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  appointmentDetail: state.appointment.appointmentDetail,\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const TransactionReceipt = connect(mapStateToProps, mapDispatchToProps)(TransactionReceiptClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/TransactionHistory/TransactionReceipt.js"],"names":["React","Component","NormalButton","NormalSelect","connect","bindActionCreators","history","getCommonApi","commonCreateApi","ChangePayment","ChangeStaff","NormalModal","closeIcon","ChangeDate","SignPanel","TransactionReceiptClass","state","responseData","downloadlLink","isOpenPayment","isOpenstaff","settingData","isOpenDate","getResponseDate","props","match","params","id","then","res","console","log","setState","handleItemSettings","key","status","data","handlePrint","handleShare","handleSendSMS","handleChangePayment","handlestaffchange","handleDialog","handleChangeDateDialog","componentDidMount","handleChangeDate","handleSignSaveClick","imgData","formData","FormData","append","dataURLtoFile","push","dataurl","filename","mime","arr","split","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","render","hdr_data","dtl_data","sub_data","taud_data","footer","company_hdr","taud_sub","logo","name","address","sa_custno","sa_custname","is_nric","nric","cust_refer","cust_phone2","trans","sa_date","sa_time","issued","map","item","index","dt_itemdesc","dt_qty","dt_price","discount","dt_transacamt","dt_deposit","balance","sales_staff","work_staff","tot_qty","tot_price","tot_disc","tot_net","tot_paid","tot_bal","pay_rem1","pay_type_name","pay_amt","gst_label","total","sub_total","gst","rounding","grand_tot","outstanding","remark","footer1","footer2","footer3","footer4","cust_sig","Number","tokenDetails","role_code","showChangeStaff","showChangeDate","showChangePayMode","window","open","minWidth","mapStateToProps","appointmentDetail","appointment","authStore","mapDispatchToProps","dispatch","TransactionReceipt"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from \"helpers\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport { ChangePayment } from \"./ChangePayment\";\r\nimport { ChangeStaff } from \"./ChangeStaff\";\r\nimport { NormalModal } from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { ChangeDate } from \"./ChangeDate\";\r\n\r\nimport { SignPanel } from \"component/common/SignPanel\";\r\n// import logo from 'assets/images/logo.png'\r\n\r\nexport class TransactionReceiptClass extends Component {\r\n  state = {\r\n    responseData: {},\r\n    downloadlLink: \"\",\r\n    isOpenPayment: false,\r\n    isOpenstaff: false,\r\n    settingData: {},\r\n    isOpenDate: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getResponseDate();\r\n    this.handlePrint();\r\n    this.handleItemSettings();\r\n  }\r\n\r\n  getResponseDate = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `customerreceiptprint/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"responseofprint:\", res);\r\n        this.setState({ responseData: res });\r\n      });\r\n  };\r\n\r\n  handleItemSettings = () => {\r\n    let { settingData } = this.state;\r\n    this.props.getCommonApi(`userlist/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"settingsData changeprice\");\r\n      if (status === 200) {\r\n        settingData = data;\r\n        this.setState({ settingData });\r\n      }\r\n    });\r\n  };\r\n  // for get Print response\r\n  handlePrint = () => {\r\n    this.props\r\n      .getCommonApi(`receiptpdf/?sa_transacno=${this.props.match.params.id}`)\r\n      .then(res => {\r\n        this.setState({ downloadlLink: res.data });\r\n      });\r\n  };\r\n\r\n  // for share reciept\r\n  handleShare = () => {\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsend/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        this.setState({ responseData: res });\r\n      });\r\n  };\r\n\r\n  // for send sms reciept\r\n  handleSendSMS = () => {\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsendsms/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {});\r\n  };\r\n  handleChangePayment = () => {\r\n    this.setState({ isOpenPayment: true });\r\n  };\r\n\r\n  handlestaffchange = () => {\r\n    this.setState({ isOpenstaff: true });\r\n  };\r\n\r\n  handleDialog = async () => {\r\n    let { isOpenPayment, isOpenstaff, isOpenDate } = this.state;\r\n    isOpenPayment = false;\r\n    isOpenstaff = false;\r\n    isOpenDate = false;\r\n\r\n    await this.setState({\r\n      isOpenPayment,\r\n      isOpenstaff,\r\n      isOpenDate,\r\n    });\r\n  };\r\n  handleChangeDateDialog = () => {\r\n    this.handleDialog();\r\n    this.componentDidMount();\r\n  };\r\n  handleChangeDate = () => {\r\n    this.setState({ isOpenDate: true });\r\n  };\r\n  handleSignSaveClick = imgData => {\r\n    // var block = imgData.split(\";\");\r\n    // // Get the content type of the image\r\n    // var contentType = block[0].split(\":\")[1]; // In this case \"image/gif\"\r\n    // // get the real base64 content of the file\r\n    // var realData = block[1].split(\",\")[1]; // In this case \"R0lGODlhPQBEAPeoAJosM....\"\r\n\r\n    // // Convert it to a blob to upload\r\n    // var blob = this.b64toBlob(realData, contentType);\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"transaction_no\", this.props.match.params.id);\r\n    formData.append(\r\n      \"cust_sig\",\r\n      this.dataURLtoFile(imgData, `${this.props.match.params.id}.jpeg`)\r\n    );\r\n\r\n    this.props.commonCreateApi(`tempcustsigninvoice/`, formData).then(key => {\r\n      let { status, data } = key;\r\n      if (status == 201) {\r\n        history.push(\r\n          `/admin/transactionhistory/print/bill/${this.props.match.params.id}`\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  dataURLtoFile = (dataurl, filename, mime) => {\r\n    var arr = dataurl.split(\",\"),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n\r\n    return new File([u8arr], filename, { type: mime });\r\n  };\r\n  render() {\r\n    let {\r\n      responseData = {},\r\n      downloadlLink,\r\n      isOpenPayment,\r\n      isOpenstaff,\r\n      settingData,\r\n      isOpenDate,\r\n    } = this.state;\r\n    let {\r\n      hdr_data = [],\r\n      dtl_data = [],\r\n      sub_data = {},\r\n      taud_data = [],\r\n      footer = {},\r\n      company_hdr = {},\r\n      taud_sub = {},\r\n    } = responseData;\r\n    return (\r\n      <>\r\n        <div className=\"print-section container\">\r\n          <div className=\"print-bill\">\r\n            <div className=\"receipt card\">\r\n              <div className=\"logo-header\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <div className=\"col-10\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <img\r\n                          src={company_hdr ? company_hdr.logo : \"\"}\r\n                          alt=\"\"\r\n                        ></img>\r\n                      </div>\r\n                      <div className=\"col-9\">\r\n                        <h3 className=\"bill-head\">\r\n                          {company_hdr ? company_hdr.name : \"\"}\r\n                        </h3>\r\n                        <p className=\"receipt-detail\">\r\n                          {company_hdr ? company_hdr.address : \"\"}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-header\">\r\n                <div className=\"row \">\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3 f-600\">Code</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_custno : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Name</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_custname : \"\"}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {hdr_data && hdr_data.is_nric ? (\r\n                      <div className=\"row\">\r\n                        <div className=\"col-3  f-600\">NRIC</div>\r\n                        <div className=\"col-9\">\r\n                          : {hdr_data ? hdr_data.nric : \"\"}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Cust Refer</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.cust_refer : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Cust Phone</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.cust_phone2 : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    {/* <div className=\"row\">\r\n                                        <div className=\"col-3  f-600\">Member:</div>\r\n                                        <div className=\"col-9\">: {hdr_data ? hdr_data.member : \"\"}</div>\r\n                                    </div> */}\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Trans</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.trans : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Date</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_date : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Time</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_time : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Issued</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.issued : \"\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-detail mt-4 py-1\">\r\n                <div className=\"row m-0 table-header  f-600\">\r\n                  <div className=\"col-1\">No.</div>\r\n                  <div className=\"col-3 text-left\">Description</div>\r\n                  <div className=\"col-1 text-right\">Qty</div>\r\n                  <div className=\"col-1 text-right\">U/P</div>\r\n                  <div className=\"col-1 text-right\">Disc.</div>\r\n                  <div className=\"col-1 text-right\">N/P</div>\r\n                  <div className=\"col-1 text-right\">Paid</div>\r\n                  <div className=\"col-2 d-none\">Balance</div>\r\n                  <div className=\"col-1 text-left\">Sold By</div>\r\n                  <div className=\"col-2 text-left pl-1\">Service By</div>\r\n                </div>\r\n                {dtl_data.length > 0\r\n                  ? dtl_data.map((item, index) => {\r\n                      return (\r\n                        <div className=\"row m-0 mt-2\" key={index}>\r\n                          <div className=\"col-1\">{index + 1}</div>\r\n                          <div className=\"col-3 text-left\">\r\n                            {item.dt_itemdesc}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">{item.dt_qty}</div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.dt_price}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.discount}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.dt_transacamt}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.dt_deposit}\r\n                          </div>\r\n                          <div className=\"col-2 d-none\">{item.balance}</div>\r\n                          <div className=\"col-1 text-left\">\r\n                            {item.sales_staff}\r\n                          </div>\r\n                          <div className=\"col-2 text-left\">\r\n                            {item.work_staff}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n\r\n                <div className=\"row table-header sub-total m-0 fs-14 f-600 mt-5\">\r\n                  {/* <div className=\"col-4 text-right\">{sub_data.sub_total}</div> */}\r\n                  <div className=\"col-4 text-right\"></div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_qty}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_price}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_disc}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_net}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_paid}</div>\r\n                  <div className=\"col-2 d-none\">{sub_data.tot_bal}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"payment-detail my-4 fs-14 f-600 mb-5\">\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-7\">\r\n                    <div className=\"row payment-header\">\r\n                      <div className=\"col-4\">No</div>\r\n                      <div className=\"col-4\">Type</div>\r\n                      <div className=\"col-4\">Amount</div>\r\n                    </div>\r\n                    {taud_data.length > 0\r\n                      ? taud_data.map((item, index) => {\r\n                          return (\r\n                            <div className=\"row payment-header\" key={index}>\r\n                              <div className=\"col-4\">{item.pay_rem1}</div>\r\n                              <div className=\"col-4\">{item.pay_type_name}</div>\r\n                              <div className=\"col-4 text-right\">\r\n                                $ {item.pay_amt}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })\r\n                      : \"\"}\r\n                    <div className=\"row payment-footer\">\r\n                      <div className=\"col-4 fs-11\">{taud_sub.gst_label}</div>\r\n                      <div className=\"col-4\">Total</div>\r\n                      <div className=\"col-4 text-right\">{taud_sub.total}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-5 text-right\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Sub Total :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {sub_data.sub_total}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">GST :</div>\r\n                      <div className=\"col-6 text-right\">{taud_sub.gst}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Rounding :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {taud_sub.rounding}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Grand Total :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {taud_sub.grand_tot}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Deposit :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {sub_data.tot_paid}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Outstanding :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {sub_data.outstanding}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* used payment list */}\r\n              </div>\r\n              <div className=\"invoice-footer mt-5\">\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-9 fs-12\">\r\n                    <p className=\"\">Remark: {footer.remark}</p>\r\n\r\n                    {footer.footer1 ? <p>1. {footer.footer1}</p> : \"\"}\r\n                    {footer.footer2 ? <p>2. {footer.footer2}</p> : \"\"}\r\n                    {footer.footer3 ? <p>3. {footer.footer3}</p> : \"\"}\r\n                    {footer.footer4 ? <p>4. {footer.footer4}</p> : \"\"}\r\n                  </div>\r\n                  <div className=\"col-3 text-center p-1\">\r\n                    {company_hdr && company_hdr.cust_sig ? (\r\n                      <img\r\n                        className={`sigImage`}\r\n                        alt=\"\"\r\n                        width={200}\r\n                        height={150}\r\n                        src={company_hdr.cust_sig}\r\n                      />\r\n                    ) : (\r\n                      <SignPanel\r\n                        handleSignSaveClick={imgData =>\r\n                          this.handleSignSaveClick(imgData)\r\n                        }\r\n                      />\r\n                    )}\r\n                    Customer Signature\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-5 d-flex text-center action-buttons\">\r\n              {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                Number(this.props.tokenDetails.role_code) == 2) &&\r\n              settingData.showChangeStaff ? (\r\n                <div className=\"w-100 mr-2\">\r\n                  <NormalButton\r\n                    onClick={this.handlestaffchange}\r\n                    label=\"Change Staff\"\r\n                    mainbg={true}\r\n                    className=\"print\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                Number(this.props.tokenDetails.role_code) == 2) &&\r\n              settingData.showChangeDate ? (\r\n                <div className=\"w-100 mr-2\">\r\n                  <NormalButton\r\n                    onClick={this.handleChangeDate}\r\n                    label=\"Change Date\"\r\n                    mainbg={true}\r\n                    className=\"print\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                Number(this.props.tokenDetails.role_code) == 2) &&\r\n              settingData.showChangePayMode ? (\r\n                <div className=\"w-100 mr-2\">\r\n                  <NormalButton\r\n                    onClick={this.handleChangePayment}\r\n                    label=\"Change Payment\"\r\n                    mainbg={true}\r\n                    className=\"print\"\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              <div className=\"w-100 mr-2\">\r\n                <NormalButton\r\n                  onClick={() => window.open(downloadlLink)}\r\n                  label=\"Print\"\r\n                  success={true}\r\n                  className=\"print\"\r\n                />\r\n              </div>\r\n              <div className=\"w-100 ml-2\">\r\n                <NormalButton\r\n                  onClick={this.handleShare}\r\n                  label=\"Share\"\r\n                  className=\"share\"\r\n                />\r\n              </div>\r\n              <div className=\"w-100 ml-2\">\r\n                <NormalButton\r\n                  onClick={this.handleSendSMS}\r\n                  label=\"Send SMS\"\r\n                  className=\"share\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <NormalModal\r\n          className={\"payment-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenPayment}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <ChangePayment\r\n            TransactionId={this.props.match.params.id}\r\n            handleModal={this.handleChangeDateDialog}\r\n          ></ChangePayment>\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"payment-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenstaff}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <ChangeStaff\r\n            TransactionId={this.props.match.params.id}\r\n            handleModal={this.handleChangeDateDialog}\r\n          ></ChangeStaff>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"changeDate-modal\"}\r\n          style={{ minWidth: \"25%\" }}\r\n          modal={isOpenDate}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <ChangeDate\r\n            TransactionId={this.props.match.params.id}\r\n            TransactionDate={hdr_data.sa_date}\r\n            handleModal={this.handleChangeDateDialog}\r\n          ></ChangeDate>\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  appointmentDetail: state.appointment.appointmentDetail,\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TransactionReceipt = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TransactionReceiptClass);\r\n"]},"metadata":{},"sourceType":"module"}