{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{NormalButton,NormalModal,NormalSelect}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import closeIcon from\"assets/images/close.png\";import _ from\"lodash\";import{AddPhotoPopup}from\"./AddPhotoPopup\";import{Navigation}from\"react-minimal-side-navigation\";import{ComparePhotoPopup}from\"./ComparePhotoPopup\";import{withTranslation}from\"react-i18next\";import{getDiagnosisPhotos,getDiagnosisHistory}from\"redux/actions/customerPlus\";export var DianosisClass=/*#__PURE__*/function(_React$Component){_inherits(DianosisClass,_React$Component);var _super=_createSuper(DianosisClass);function DianosisClass(){var _this;_classCallCheck(this,DianosisClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={photoTableHeader:[{label:\"Date Taken\",sortKey:\"date\"},{label:\"Diagnosis Code\",sortKey:\"code\",enabled:true},{label:\"Remarks\",sortKey:\"remarks\",enabled:true},{label:\"Compare\",sortKey:\"compare\"},{label:\"View\",sortKey:\"view\"}],photoList:[],historyTableHeader:[{label:\"Compare Date\",sortKey:\"date\"},{label:\"Compare Remarks\",sortKey:\"remarks\",enabled:true},{label:\"Diagnosis Reference\",sortKey:\"referance\",enabled:true},{label:\"Date\",sortKey:\"dDate\"},{label:\"View\",sortKey:\"view\"}],historyList:[],visitTableHeader:[{label:\"Date\",sortKey:\"date\"},{label:\"PDPA\",sortKey:\"pdpa\",enabled:true},{label:\"Questionairre / Consultation\",sortKey:\"consultation\",enabled:true},{label:\"Diagnosis\",sortKey:\"diagnosis\"},{label:\"Consent Form\",sortKey:\"consent\"},{label:\"Treatment Done\",sortKey:\"treatments\"},{label:\"Sales\",sortKey:\"sales\"}],visitList:[],photoListMeta:{},historyMeta:{},visitMeta:{},active:false,currentIndex:-1,currentMenu:\"/\",compareList:[],selectedRemark:null,selectedHistoryCode:null,currentData:null,isAddPhotoOpen:false,isCompareOpen:false,isMounted:true,isLoading:true};_this.loadDiagnosisPhotos=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,_data$page,page,_data$search,search,photoList,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=_args.length>0&&_args[0]!==undefined?_args[0]:{};_this.updateState({isLoading:true});_data$page=data.page,page=_data$page===void 0?1:_data$page,_data$search=data.search,search=_data$search===void 0?\"\":_data$search;_context.next=5;return _this.props.getDiagnosisPhotos(_this.props.id,\"?page=\".concat(page,\"&search=\").concat(search));case 5:photoList=_this.props.photoList;_this.state.photoList=photoList.diagnosisList;_this.state.photoListMeta=photoList.pagination;_this.updateState({isLoading:false});case 9:case\"end\":return _context.stop();}}},_callee);}));_this.loadDiagnosisHistory=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,_data$page2,page,_data$search2,search,historyList,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=_args2.length>0&&_args2[0]!==undefined?_args2[0]:{};_this.updateState({isLoading:true});_data$page2=data.page,page=_data$page2===void 0?1:_data$page2,_data$search2=data.search,search=_data$search2===void 0?\"\":_data$search2;_context2.next=5;return _this.props.getDiagnosisHistory(_this.props.id,\"?page=\".concat(page,\"&search=\").concat(search));case 5:historyList=_this.props.historyList;_this.state.historyList=historyList.diagnosisList;_this.state.historyMeta=historyList.pagination;_this.updateState({isLoading:false});case 9:case\"end\":return _context2.stop();}}},_callee2);}));_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleOutsideClick=function(e){if(_this.node!=null){if(_this.node.contains(e.target)){return;}}_this.handleClick();};_this.handlePagination=function(type,page){if(type===\"photo\"){_this.loadDiagnosisPhotos(page);}if(type===\"history\"){}if(type===\"visit\"){}};_this.handlePhotosearch=function(event){_this.loadDiagnosisPhotos({search:event.target.value});};_this.handleHistorySearch=function(event){_this.loadDiagnosisHistory({search:event.target.value});};_this.handleVisitSearch=function(event){};_this.handleMenuSelection=function(value){_this.setState({currentMenu:value,selectedRemark:null,compareList:[]});};return _this;}_createClass(DianosisClass,[{key:\"componentDidMount\",value:function componentDidMount(){var queryParams=new URLSearchParams(window.location.search);var submenu=queryParams.get(\"submenu\");if(submenu)if(submenu==\"history\"||submenu==\"visits\")this.setState({currentMenu:\"/\"+submenu});this.loadDiagnosisPhotos();this.loadDiagnosisHistory();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,photoTableHeader=_this$state.photoTableHeader,photoList=_this$state.photoList,photoListMeta=_this$state.photoListMeta,historyMeta=_this$state.historyMeta,visitMeta=_this$state.visitMeta,currentData=_this$state.currentData,currentMenu=_this$state.currentMenu,isAddPhotoOpen=_this$state.isAddPhotoOpen,isCompareOpen=_this$state.isCompareOpen,compareList=_this$state.compareList,historyList=_this$state.historyList,historyTableHeader=_this$state.historyTableHeader,selectedRemark=_this$state.selectedRemark,visitList=_this$state.visitList,visitTableHeader=_this$state.visitTableHeader,isLoading=_this$state.isLoading;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-2 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"head-label\"},t(\"Dianosis\"))),/*#__PURE__*/React.createElement(Navigation,{activeItemId:currentMenu,onSelect:function onSelect(_ref3){var itemId=_ref3.itemId;return _this2.handleMenuSelection(itemId);},items:[{title:t(\"Photos\"),itemId:\"/\"},{title:t(\"History\"),itemId:\"/history\"}]})),isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")))):currentMenu==\"/\"?/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 mb-4 p-0\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Photo\",onEnter:this.handlePhotosearch})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-md-10 fs-15 float-right\",label:\"Add Photo\",onClick:function onClick(){_this2.state.currentData=null;_this2.setState({isAddPhotoOpen:true});}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:photoTableHeader,queryHandler:function queryHandler(e){return _this2.handlePagination(\"photo\",e);},pageMeta:photoListMeta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.setState(function(){return photoTableHeader=value;});}},photoList?photoList.map(function(item,index){var _photoTableHeader$0$e,_photoTableHeader$1$e,_photoTableHeader$2$e,_photoTableHeader$3$e,_photoTableHeader$4$e;var isCompare=item.isCompare,pic_path=item.pic_path,diagnosis_date=item.diagnosis_date,diagnosis_code=item.diagnosis_code,sys_code=item.sys_code,remarks=item.remarks,pic_data1=item.pic_data1;console.log(photoTableHeader[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$0$e=photoTableHeader[0].enabled)!==null&&_photoTableHeader$0$e!==void 0?_photoTableHeader$0$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},new Date(diagnosis_date).toLocaleDateString(\"en-GB\"))),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$1$e=photoTableHeader[1].enabled)!==null&&_photoTableHeader$1$e!==void 0?_photoTableHeader$1$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},diagnosis_code)),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$2$e=photoTableHeader[2].enabled)!==null&&_photoTableHeader$2$e!==void 0?_photoTableHeader$2$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},remarks)),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$3$e=photoTableHeader[3].enabled)!==null&&_photoTableHeader$3$e!==void 0?_photoTableHeader$3$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",checked:isCompare,onClick:function onClick(){if(isCompare){if(compareList.indexOf(index)!=-1)compareList.pop(index);}else compareList.push(index);photoList[index].isCompare=!isCompare;_this2.setState({compareList:compareList});console.log(_this2.state.compareList);}}))),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$4$e=photoTableHeader[4].enabled)!==null&&_photoTableHeader$4$e!==void 0?_photoTableHeader$4$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-20\",onClick:function onClick(){return _this2.setState({currentData:{image:pic_path,remarks:remarks,pic_data1:pic_data1,diagnosis_code:sys_code},isAddPhotoOpen:true});}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey\"})))));}):\"\"))),compareList.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-4 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 float-right\",label:\"Compare\",onClick:function onClick(){_this2.state.selectedRemark=null;_this2.setState({isCompareOpen:true});}})):null):currentMenu==\"/history\"?/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-0\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search History\",onEnter:this.handleHistorySearch})))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:historyTableHeader,queryHandler:function queryHandler(e){return _this2.handlePagination(\"history\",e);},pageMeta:historyMeta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.setState(function(){return historyTableHeader=value;});}},historyList?historyList.map(function(item,index){var _historyTableHeader$,_historyTableHeader$2,_historyTableHeader$3,_historyTableHeader$4,_historyTableHeader$5;var diagnosis_list=item.diagnosis_list,compare_datetime=item.compare_datetime,compare_remark=item.compare_remark,id=item.id;console.log(historyTableHeader[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$=historyTableHeader[0].enabled)!==null&&_historyTableHeader$!==void 0?_historyTableHeader$:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},new Date(compare_datetime).toLocaleDateString(\"en-GB\"))),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$2=historyTableHeader[1].enabled)!==null&&_historyTableHeader$2!==void 0?_historyTableHeader$2:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},compare_remark)),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$3=historyTableHeader[2].enabled)!==null&&_historyTableHeader$3!==void 0?_historyTableHeader$3:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},diagnosis_list.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.diagnosis_code,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$4=historyTableHeader[3].enabled)!==null&&_historyTableHeader$4!==void 0?_historyTableHeader$4:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},diagnosis_list.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,new Date(image.date_pic_take).toLocaleDateString(\"en-GB\"),/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$5=historyTableHeader[4].enabled)!==null&&_historyTableHeader$5!==void 0?_historyTableHeader$5:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-20\",onClick:function onClick(){return _this2.setState({selectedRemark:compare_remark,selectedHistoryCode:id,compareList:diagnosis_list,isCompareOpen:true});}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey\"})))));}):\"\")))):/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-0\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Visit\",onEnter:this.handleVisitSearch})))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:visitTableHeader,queryHandler:function queryHandler(e){return _this2.handlePagination(\"visit\",e);},pageMeta:visitMeta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.setState(function(){return visitTableHeader=value;});}},visitList?visitList.map(function(item,index){var _visitTableHeader$0$e,_visitTableHeader$1$e,_visitTableHeader$2$e,_visitTableHeader$3$e,_visitTableHeader$4$e;var images=item.images,date=item.date,remarks=item.remarks;console.log(visitTableHeader[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$0$e=visitTableHeader[0].enabled)!==null&&_visitTableHeader$0$e!==void 0?_visitTableHeader$0$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},date)),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$1$e=visitTableHeader[1].enabled)!==null&&_visitTableHeader$1$e!==void 0?_visitTableHeader$1$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},remarks)),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$2$e=visitTableHeader[2].enabled)!==null&&_visitTableHeader$2$e!==void 0?_visitTableHeader$2$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},images.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.id,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$3$e=visitTableHeader[3].enabled)!==null&&_visitTableHeader$3$e!==void 0?_visitTableHeader$3$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},images.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.date,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$4$e=visitTableHeader[4].enabled)!==null&&_visitTableHeader$4$e!==void 0?_visitTableHeader$4$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-20\",onClick:function onClick(){return _this2.setState({selectedRemark:remarks,compareList:images,isCompareOpen:true});}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey\"})))));}):\"\"))))),/*#__PURE__*/React.createElement(NormalModal,{style:{minWidth:\"80%\"},modal:isAddPhotoOpen,handleModal:function handleModal(){return _this2.setState({isAddPhotoOpen:false});}},/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.setState({isAddPhotoOpen:false});},className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(AddPhotoPopup,{image:currentData===null||currentData===void 0?void 0:currentData.image,remarks:currentData===null||currentData===void 0?void 0:currentData.remarks,layoutData:currentData===null||currentData===void 0?void 0:currentData.pic_data1,diagnosis_code:currentData===null||currentData===void 0?void 0:currentData.diagnosis_code,cust_no:this.props.id,onDone:function onDone(){_this2.updateState({isAddPhotoOpen:false});_this2.loadDiagnosisHistory();_this2.loadDiagnosisPhotos();}})),/*#__PURE__*/React.createElement(NormalModal,{style:{minWidth:\"80%\"},modal:isCompareOpen,handleModal:function handleModal(){return _this2.setState({isCompareOpen:false});}},/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.setState({isCompareOpen:false});},className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(ComparePhotoPopup,{dataList:currentMenu==\"/\"?compareList.map(function(id){return photoList[id];}):compareList,remarks:currentMenu==\"/\"?null:selectedRemark,id:this.state.selectedHistoryCode,cust_code:this.props.id,onDone:function onDone(){_this2.updateState({isCompareOpen:false});_this2.loadDiagnosisHistory();_this2.loadDiagnosisPhotos();}}))));}}]);return DianosisClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{photoList:state.customerPlus.customerDiagnosisPhotoList,historyList:state.customerPlus.customerDiagnosisHistory};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getDiagnosisPhotos:getDiagnosisPhotos,getDiagnosisHistory:getDiagnosisHistory},dispatch);};export var Dianosis=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(DianosisClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Details/Dianosis.js"],"names":["React","NormalButton","NormalModal","NormalSelect","InputSearch","TableWrapper","connect","bindActionCreators","closeIcon","_","AddPhotoPopup","Navigation","ComparePhotoPopup","withTranslation","getDiagnosisPhotos","getDiagnosisHistory","DianosisClass","state","photoTableHeader","label","sortKey","enabled","photoList","historyTableHeader","historyList","visitTableHeader","visitList","photoListMeta","historyMeta","visitMeta","active","currentIndex","currentMenu","compareList","selectedRemark","selectedHistoryCode","currentData","isAddPhotoOpen","isCompareOpen","isMounted","isLoading","loadDiagnosisPhotos","data","updateState","page","search","props","id","diagnosisList","pagination","loadDiagnosisHistory","setState","handleOutsideClick","e","node","contains","target","handleClick","handlePagination","type","handlePhotosearch","event","value","handleHistorySearch","handleVisitSearch","handleMenuSelection","queryParams","URLSearchParams","window","location","submenu","get","t","itemId","title","map","item","index","isCompare","pic_path","diagnosis_date","diagnosis_code","sys_code","remarks","pic_data1","console","log","Date","toLocaleDateString","indexOf","pop","push","image","length","diagnosis_list","compare_datetime","compare_remark","date_pic_take","images","date","minWidth","Component","mapStateToProps","customerPlus","customerDiagnosisPhotoList","customerDiagnosisHistory","mapDispatchToProps","dispatch","Dianosis"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton, NormalModal, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport closeIcon from \"assets/images/close.png\";\nimport _ from \"lodash\";\nimport { AddPhotoPopup } from \"./AddPhotoPopup\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { ComparePhotoPopup } from \"./ComparePhotoPopup\";\nimport { withTranslation } from \"react-i18next\";\nimport {\n  getDiagnosisPhotos,\n  getDiagnosisHistory,\n} from \"redux/actions/customerPlus\";\n\nexport class DianosisClass extends React.Component {\n  state = {\n    photoTableHeader: [\n      { label: \"Date Taken\", sortKey: \"date\" },\n      { label: \"Diagnosis Code\", sortKey: \"code\", enabled: true },\n      { label: \"Remarks\", sortKey: \"remarks\", enabled: true },\n      { label: \"Compare\", sortKey: \"compare\" },\n      { label: \"View\", sortKey: \"view\" },\n    ],\n    photoList: [],\n    historyTableHeader: [\n      { label: \"Compare Date\", sortKey: \"date\" },\n      { label: \"Compare Remarks\", sortKey: \"remarks\", enabled: true },\n      { label: \"Diagnosis Reference\", sortKey: \"referance\", enabled: true },\n      { label: \"Date\", sortKey: \"dDate\" },\n      { label: \"View\", sortKey: \"view\" },\n    ],\n    historyList: [],\n    visitTableHeader: [\n      { label: \"Date\", sortKey: \"date\" },\n      { label: \"PDPA\", sortKey: \"pdpa\", enabled: true },\n      {\n        label: \"Questionairre / Consultation\",\n        sortKey: \"consultation\",\n        enabled: true,\n      },\n      { label: \"Diagnosis\", sortKey: \"diagnosis\" },\n      { label: \"Consent Form\", sortKey: \"consent\" },\n      { label: \"Treatment Done\", sortKey: \"treatments\" },\n      { label: \"Sales\", sortKey: \"sales\" },\n    ],\n    visitList: [],\n    photoListMeta: {},\n    historyMeta: {},\n    visitMeta: {},\n    active: false,\n    currentIndex: -1,\n    currentMenu: \"/\",\n    compareList: [],\n    selectedRemark: null,\n    selectedHistoryCode: null,\n    currentData: null,\n    isAddPhotoOpen: false,\n    isCompareOpen: false,\n    isMounted: true,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const submenu = queryParams.get(\"submenu\");\n    if (submenu)\n      if (submenu == \"history\" || submenu == \"visits\")\n        this.setState({ currentMenu: \"/\" + submenu });\n    this.loadDiagnosisPhotos();\n    this.loadDiagnosisHistory();\n  }\n\n  loadDiagnosisPhotos = async (data = {}) => {\n    this.updateState({ isLoading: true });\n    let { page = 1, search = \"\" } = data;\n    await this.props.getDiagnosisPhotos(\n      this.props.id,\n      `?page=${page}&search=${search}`\n    );\n    let { photoList } = this.props;\n    this.state.photoList = photoList.diagnosisList;\n    this.state.photoListMeta = photoList.pagination;\n    this.updateState({ isLoading: false });\n  };\n\n  loadDiagnosisHistory = async (data = {}) => {\n    this.updateState({ isLoading: true });\n    let { page = 1, search = \"\" } = data;\n    await this.props.getDiagnosisHistory(\n      this.props.id,\n      `?page=${page}&search=${search}`\n    );\n    let { historyList } = this.props;\n    this.state.historyList = historyList.diagnosisList;\n    this.state.historyMeta = historyList.pagination;\n    this.updateState({ isLoading: false });\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  handleOutsideClick = (e) => {\n    if (this.node != null) {\n      if (this.node.contains(e.target)) {\n        return;\n      }\n    }\n    this.handleClick();\n  };\n\n  handlePagination = (type, page) => {\n    if (type === \"photo\") {\n      this.loadDiagnosisPhotos(page);\n    }\n    if (type === \"history\") {\n    }\n    if (type === \"visit\") {\n    }\n  };\n\n  handlePhotosearch = (event) => {\n    this.loadDiagnosisPhotos({ search: event.target.value });\n  };\n  handleHistorySearch = (event) => {\n    this.loadDiagnosisHistory({ search: event.target.value });\n  };\n  handleVisitSearch = (event) => {};\n\n  handleMenuSelection = (value) => {\n    this.setState({\n      currentMenu: value,\n      selectedRemark: null,\n      compareList: [],\n    });\n  };\n\n  render() {\n    let {\n      photoTableHeader,\n      photoList,\n      photoListMeta,\n      historyMeta,\n      visitMeta,\n      currentData,\n      currentMenu,\n      isAddPhotoOpen,\n      isCompareOpen,\n      compareList,\n      historyList,\n      historyTableHeader,\n      selectedRemark,\n      visitList,\n      visitTableHeader,\n      isLoading,\n    } = this.state;\n    let { t } = this.props;\n    return (\n      <>\n        <div className=\"container-fluid mt-4\">\n          <div className=\"row\">\n            <div className=\"col-md-12 col-lg-2 mb-4\">\n              <div className=\"col-md-12 mb-4\">\n                <h3 className=\"head-label\">{t(\"Dianosis\")}</h3>\n              </div>\n              <Navigation\n                activeItemId={currentMenu}\n                onSelect={({ itemId }) => this.handleMenuSelection(itemId)}\n                items={[\n                  {\n                    title: t(\"Photos\"),\n                    itemId: \"/\",\n                  },\n                  {\n                    title: t(\"History\"),\n                    itemId: \"/history\",\n                  },\n                ]}\n              />\n            </div>\n            {isLoading ? (\n              <div className=\"col-md-12 col-lg-10\">\n                <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                  <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"sr-only\">Loading...</span>\n                  </div>\n                </div>\n              </div>\n            ) : currentMenu == \"/\" ? (\n              <div className=\"col-md-12 col-lg-10\">\n                <div className=\"col-md-12 mb-4\">\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 col-md-6 mb-4 p-0\">\n                      <InputSearch\n                        className=\"\"\n                        placeholder=\"Search Photo\"\n                        onEnter={this.handlePhotosearch}\n                      />\n                    </div>\n                    <div className=\"col-sm-12 col-md-6 p-0\">\n                      <NormalButton\n                        mainbg={true}\n                        className=\"col-md-10 fs-15 float-right\"\n                        label=\"Add Photo\"\n                        onClick={() => {\n                          this.state.currentData = null;\n                          this.setState({ isAddPhotoOpen: true });\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <div className=\"table-container\">\n                    <TableWrapper\n                      headerDetails={photoTableHeader}\n                      queryHandler={(e) => this.handlePagination(\"photo\", e)}\n                      pageMeta={photoListMeta}\n                      showFilterColumn={true}\n                      parentHeaderChange={(value) =>\n                        this.setState(() => (photoTableHeader = value))\n                      }\n                    >\n                      {photoList\n                        ? photoList.map((item, index) => {\n                            let {\n                              isCompare,\n                              pic_path,\n                              diagnosis_date,\n                              diagnosis_code,\n                              sys_code,\n                              remarks,\n                              pic_data1,\n                            } = item;\n                            console.log(photoTableHeader[0]);\n                            return (\n                              <tr key={index}>\n                                <td\n                                  className={\n                                    photoTableHeader[0].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {new Date(\n                                      diagnosis_date\n                                    ).toLocaleDateString(\"en-GB\")}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[1].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {diagnosis_code}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[2].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {remarks}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[3].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <input\n                                      type=\"checkbox\"\n                                      checked={isCompare}\n                                      onClick={() => {\n                                        if (isCompare) {\n                                          if (compareList.indexOf(index) != -1)\n                                            compareList.pop(index);\n                                        } else compareList.push(index);\n                                        photoList[index].isCompare = !isCompare;\n                                        this.setState({ compareList });\n                                        console.log(this.state.compareList);\n                                      }}\n                                    />\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[4].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-20\"\n                                      onClick={() =>\n                                        this.setState({\n                                          currentData: {\n                                            image: pic_path,\n                                            remarks,\n                                            pic_data1,\n                                            diagnosis_code: sys_code,\n                                          },\n                                          isAddPhotoOpen: true,\n                                        })\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey\"></span>\n                                    </div>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        : \"\"}\n                    </TableWrapper>\n                  </div>\n                </div>\n                {compareList.length > 0 ? (\n                  <div className=\"w-100 col-4 p-0\">\n                    <NormalButton\n                      mainbg={true}\n                      className=\"col-12 fs-15 float-right\"\n                      label=\"Compare\"\n                      onClick={() => {\n                        this.state.selectedRemark = null;\n                        this.setState({ isCompareOpen: true });\n                      }}\n                    />\n                  </div>\n                ) : null}\n              </div>\n            ) : currentMenu == \"/history\" ? (\n              <div className=\"col-md-12 col-lg-10\">\n                <div className=\"col-md-12 mb-4\">\n                  <div className=\"row\">\n                    <div className=\"col-12 p-0\">\n                      <InputSearch\n                        className=\"\"\n                        placeholder=\"Search History\"\n                        onEnter={this.handleHistorySearch}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <div className=\"table-container\">\n                    <TableWrapper\n                      headerDetails={historyTableHeader}\n                      queryHandler={(e) => this.handlePagination(\"history\", e)}\n                      pageMeta={historyMeta}\n                      showFilterColumn={true}\n                      parentHeaderChange={(value) =>\n                        this.setState(() => (historyTableHeader = value))\n                      }\n                    >\n                      {historyList\n                        ? historyList.map((item, index) => {\n                            let {\n                              diagnosis_list,\n                              compare_datetime,\n                              compare_remark,\n                              id,\n                            } = item;\n                            console.log(historyTableHeader[0]);\n                            return (\n                              <tr key={index}>\n                                <td\n                                  className={\n                                    historyTableHeader[0].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {new Date(\n                                      compare_datetime\n                                    ).toLocaleDateString(\"en-GB\")}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[1].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {compare_remark}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[2].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {diagnosis_list.map((image) => (\n                                      <>\n                                        {image.diagnosis_code} <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[3].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {diagnosis_list.map((image) => (\n                                      <>\n                                        {new Date(\n                                          image.date_pic_take\n                                        ).toLocaleDateString(\"en-GB\")}\n                                        <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[4].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-20\"\n                                      onClick={() =>\n                                        this.setState({\n                                          selectedRemark: compare_remark,\n                                          selectedHistoryCode: id,\n                                          compareList: diagnosis_list,\n                                          isCompareOpen: true,\n                                        })\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey\"></span>\n                                    </div>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        : \"\"}\n                    </TableWrapper>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"col-md-12 col-lg-10\">\n                <div className=\"col-md-12 mb-4\">\n                  <div className=\"row\">\n                    <div className=\"col-12 p-0\">\n                      <InputSearch\n                        className=\"\"\n                        placeholder=\"Search Visit\"\n                        onEnter={this.handleVisitSearch}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <div className=\"table-container\">\n                    <TableWrapper\n                      headerDetails={visitTableHeader}\n                      queryHandler={(e) => this.handlePagination(\"visit\", e)}\n                      pageMeta={visitMeta}\n                      showFilterColumn={true}\n                      parentHeaderChange={(value) =>\n                        this.setState(() => (visitTableHeader = value))\n                      }\n                    >\n                      {visitList\n                        ? visitList.map((item, index) => {\n                            let { images, date, remarks } = item;\n                            console.log(visitTableHeader[0]);\n                            return (\n                              <tr key={index}>\n                                <td\n                                  className={\n                                    visitTableHeader[0].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {date}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[1].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {remarks}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[2].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {images.map((image) => (\n                                      <>\n                                        {image.id} <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[3].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {images.map((image) => (\n                                      <>\n                                        {image.date} <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[4].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-20\"\n                                      onClick={() =>\n                                        this.setState({\n                                          selectedRemark: remarks,\n                                          compareList: images,\n                                          isCompareOpen: true,\n                                        })\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey\"></span>\n                                    </div>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        : \"\"}\n                    </TableWrapper>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <NormalModal\n            style={{ minWidth: \"80%\" }}\n            modal={isAddPhotoOpen}\n            handleModal={() => this.setState({ isAddPhotoOpen: false })}\n          >\n            <img\n              onClick={() => this.setState({ isAddPhotoOpen: false })}\n              className=\"close cursor-pointer\"\n              src={closeIcon}\n              alt=\"\"\n            />\n            <AddPhotoPopup\n              image={currentData?.image}\n              remarks={currentData?.remarks}\n              layoutData={currentData?.pic_data1}\n              diagnosis_code={currentData?.diagnosis_code}\n              cust_no={this.props.id}\n              onDone={() => {\n                this.updateState({ isAddPhotoOpen: false });\n                this.loadDiagnosisHistory();\n                this.loadDiagnosisPhotos();\n              }}\n            />\n          </NormalModal>\n          <NormalModal\n            style={{ minWidth: \"80%\" }}\n            modal={isCompareOpen}\n            handleModal={() => this.setState({ isCompareOpen: false })}\n          >\n            <img\n              onClick={() => this.setState({ isCompareOpen: false })}\n              className=\"close cursor-pointer\"\n              src={closeIcon}\n              alt=\"\"\n            />\n            <ComparePhotoPopup\n              dataList={\n                currentMenu == \"/\"\n                  ? compareList.map((id) => photoList[id])\n                  : compareList\n              }\n              remarks={currentMenu == \"/\" ? null : selectedRemark}\n              id={this.state.selectedHistoryCode}\n              cust_code={this.props.id}\n              onDone={() => {\n                this.updateState({ isCompareOpen: false });\n                this.loadDiagnosisHistory();\n                this.loadDiagnosisPhotos();\n              }}\n            />\n          </NormalModal>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  photoList: state.customerPlus.customerDiagnosisPhotoList,\n  historyList: state.customerPlus.customerDiagnosisHistory,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getDiagnosisPhotos,\n      getDiagnosisHistory,\n    },\n    dispatch\n  );\n};\n\nexport const Dianosis = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(DianosisClass)\n);\n"]},"metadata":{},"sourceType":"module"}