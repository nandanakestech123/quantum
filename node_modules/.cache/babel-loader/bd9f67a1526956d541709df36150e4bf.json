{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalSelect}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import{NormalInput,NormalDateTime}from\"component/common\";import\"./style.scss\";import{dateFormat}from\"service/helperFunctions\";import{history}from\"helpers\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi}from\"redux/actions/common\";import{withTranslation}from\"react-i18next\";export var TransactionHistoryClass=/*#__PURE__*/function(_Component){_inherits(TransactionHistoryClass,_Component);var _super=_createSuper(TransactionHistoryClass);function TransactionHistoryClass(){var _this;_classCallCheck(this,TransactionHistoryClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"Cust Code\"},{label:\"Cust Name\"},{label:\"Paid On\"},{label:\"Amount\"},{label:\"Transaction No\"},{label:\"Reference No\"},{label:\"Billed By\"},{label:\"Status\"},{label:\"Type\"},{label:\"Payment Remark\"},{label:\"Action\"}],billingList:[],pageMeta:{chunk:10,page:1,total:10,totalPages:2},formField:{fromDate:new Date(),toDate:new Date(),transCode:\"\",custCode:\"\",custName:\"\",transtype:\"All\"},active:false,currentIndex:-1,page:1,limit:10,isOpenvoidCheckout:false,transtypeOptions:[{label:\"All\",value:\"All\"},{label:\"Sales\",value:\"Sales\"},{label:\"Void\",value:\"Void\"},{label:\"TD\",value:\"TD\"},{label:\"Non-Sales\",value:\"NonSales\"}]};_this.getTransactions=function(){var _this$state=_this.state,billingList=_this$state.billingList,pageMeta=_this$state.pageMeta,formField=_this$state.formField,page=_this$state.page,limit=_this$state.limit;var fromDate=formField.fromDate,toDate=formField.toDate,transCode=formField.transCode,custCode=formField.custCode,custName=formField.custName,transtype=formField.transtype;var From=new Date();if(fromDate&&fromDate!==\"\"){From=fromDate;}else{_this.setState({fromDate:From});}var To=new Date();if(toDate&&toDate!==\"\"){To=toDate;}else{_this.setState({toDate:To});}_this.props.getCommonApi(\"transactionhistory/?from_date=\".concat(dateFormat(From,\"yyyy-mm-dd\"),\"&to_date=\").concat(dateFormat(To,\"yyyy-mm-dd\"),\"&transac_no=\").concat(transCode,\"&cust_code=\").concat(custCode,\"&cust_name=\").concat(custName,\"&page=\").concat(page,\"&limit=\").concat(limit,\"&invoice_type=\").concat(transtype)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(res,\"dsfdfaafg\");_context.next=3;return _this.setState({billingList:[]});case 3:billingList=res.data.dataList;pageMeta=res.data.meta.pagination;_this.setState({billingList:billingList,pageMeta:pageMeta});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handlePrint=function(id){var _this$state2=_this.state,billingList=_this$state2.billingList,pageMeta=_this$state2.pageMeta,formField=_this$state2.formField,page=_this$state2.page,limit=_this$state2.limit;var fromDate=formField.fromDate,toDate=formField.toDate,transCode=formField.transCode,custCode=formField.custCode,custName=formField.custName;_this.props.getCommonApi(\"receiptpdf/?sa_transacno=\".concat(id)).then(function(res){});};_this.handlePagination=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(pageNo){var page;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=_this.state.page;page=pageNo.page;_context2.next=4;return _this.setState({page:page});case 4:_this.getTransactions();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleShare=function(id){_this.props.commonCreateApi(\"receiptpdfsend/?sa_transacno=\".concat(id)).then(function(res){});};_this.handleInvoice=function(id){_this.props.getCommonApi(\"customerreceiptprint/?sa_transacno=\".concat(id)).then(function(res){});};_this.handleClick=function(key){if(!_this.state.active){document.addEventListener(\"click\",_this.handleOutsideClick,false);}else{document.removeEventListener(\"click\",_this.handleOutsideClick,false);}_this.setState(function(prevState){return{active:!prevState.active,currentIndex:key};});};_this.handleOutsideClick=function(e){if(_this.node!=null){if(_this.node.contains(e.target)){return;}}_this.handleClick();};_this.handleChange=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref3){var _ref3$target,value,name,formField;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;formField=_this.state.formField;formField[name]=value;_context3.next=5;return _this.setState({formField:formField});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.handleDatePick=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(name,value){var formField;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:formField=_this.state.formField;formField[name]=value;_context4.next=4;return _this.setState({formField:formField});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4,_x5){return _ref5.apply(this,arguments);};}();_this.handleSearch=function(){_this.getTransactions();};return _this;}_createClass(TransactionHistoryClass,[{key:\"componentDidMount\",value:function componentDidMount(){var From=new Date();var formField=this.state.formField;var firstdayMonth=new Date(From.getFullYear(),From.getMonth(),1);formField[\"fromDate\"]=firstdayMonth;this.setState({formField:formField});this.getTransactions();}},{key:\"render\",value:function render(){var _this$state3=this.state,headerDetails=_this$state3.headerDetails,pageMeta=_this$state3.pageMeta,billingList=_this$state3.billingList,formField=_this$state3.formField,transtypeOptions=_this$state3.transtypeOptions;var fromDate=formField.fromDate,toDate=formField.toDate,transCode=formField.transCode,custCode=formField.custCode,custName=formField.custName,transtype=formField.transtype;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"billing-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"label-head mb-4\"},t(\"Transaction History\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"From Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:fromDate?new Date(fromDate):new Date(),name:\"fromDate\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\",maxDate:new Date(toDate),showDisabledMonthNavigation:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"To Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:toDate?new Date(toDate):new Date(),name:\"toDate\"// className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\",minDate:new Date(fromDate),showDisabledMonthNavigation:true})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Customer Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:custName,name:\"custName\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Customer Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:custCode,name:\"custCode\",onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Transaction Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:transCode,name:\"transCode\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Transaction Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:false,options:transtypeOptions,value:t(transtype),iconname:\"icon-down-key\",name:\"transtype\",onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"confirm\",label:\"Search\",outline:false,onClick:this.handleSearch}))),/*#__PURE__*/React.createElement(\"div\",{className:\"billing-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},billingList?billingList.map(function(item,index){var icon=item.icon,id=item.id,sa_custno=item.sa_custno,sa_custname=item.sa_custname,sa_date=item.sa_date,sa_totamt=item.sa_totamt,sa_transacno_ref=item.sa_transacno_ref,void_refno=item.void_refno,sa_staffname=item.sa_staffname,sa_status=item.sa_status,sa_transacno_type=item.sa_transacno_type,sa_transacno=item.sa_transacno,payment_remarks=item.payment_remarks;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_custno)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_custname)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_totamt)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_transacno_ref)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},void_refno)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_staffname)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sa_transacno_type)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},payment_remarks)),/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-0\",mainbg:true,className:\"confirm\",label:t(\"View\"),outline:false,onClick:function onClick(){return history.push(\"/admin/transactionhistory/print/bill/\".concat(sa_transacno));}})));}):null))))));}}]);return TransactionHistoryClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var TransactionHistory=withTranslation()(connect(null,mapDispatchToProps)(TransactionHistoryClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/TransactionHistory/index.js"],"names":["React","Component","NormalButton","NormalSelect","InputSearch","TableWrapper","NormalInput","NormalDateTime","dateFormat","history","connect","bindActionCreators","getCommonApi","commonCreateApi","withTranslation","TransactionHistoryClass","state","headerDetails","label","billingList","pageMeta","chunk","page","total","totalPages","formField","fromDate","Date","toDate","transCode","custCode","custName","transtype","active","currentIndex","limit","isOpenvoidCheckout","transtypeOptions","value","getTransactions","From","setState","To","props","then","res","console","log","data","dataList","meta","pagination","handlePrint","id","handlePagination","pageNo","handleShare","handleInvoice","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","e","node","contains","target","handleChange","name","handleDatePick","handleSearch","firstdayMonth","getFullYear","getMonth","t","map","item","index","icon","sa_custno","sa_custname","sa_date","sa_totamt","sa_transacno_ref","void_refno","sa_staffname","sa_status","sa_transacno_type","sa_transacno","payment_remarks","push","mapDispatchToProps","dispatch","TransactionHistory"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport { NormalInput, NormalDateTime } from \"component/common\";\r\n\r\nimport \"./style.scss\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class TransactionHistoryClass extends Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Cust Code\" },\r\n      { label: \"Cust Name\" },\r\n      { label: \"Paid On\" },\r\n      { label: \"Amount\" },\r\n      { label: \"Transaction No\" },\r\n      { label: \"Reference No\" },\r\n      { label: \"Billed By\" },\r\n      { label: \"Status\" },\r\n      { label: \"Type\" },\r\n      { label: \"Payment Remark\" },\r\n      { label: \"Action\" },\r\n    ],\r\n    billingList: [],\r\n    pageMeta: {\r\n      chunk: 10,\r\n      page: 1,\r\n      total: 10,\r\n      totalPages: 2,\r\n    },\r\n    formField: {\r\n      fromDate: new Date(),\r\n      toDate: new Date(),\r\n      transCode: \"\",\r\n      custCode: \"\",\r\n      custName: \"\",\r\n      transtype: \"All\",\r\n    },\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    limit: 10,\r\n    isOpenvoidCheckout: false,\r\n    transtypeOptions: [\r\n      { label: \"All\", value: \"All\" },\r\n      { label: \"Sales\", value: \"Sales\" },\r\n      { label: \"Void\", value: \"Void\" },\r\n      { label: \"TD\", value: \"TD\" },\r\n      { label: \"Non-Sales\", value: \"NonSales\" },\r\n    ],\r\n  };\r\n\r\n  componentDidMount() {\r\n    let From = new Date();\r\n    let { formField } = this.state;\r\n    let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\r\n    formField[\"fromDate\"] = firstdayMonth;\r\n    this.setState({\r\n      formField,\r\n    });\r\n\r\n    this.getTransactions();\r\n  }\r\n  getTransactions = () => {\r\n    let { billingList, pageMeta, formField, page, limit } = this.state;\r\n    let { fromDate, toDate, transCode, custCode, custName, transtype } =\r\n      formField;\r\n\r\n    let From = new Date();\r\n    if (fromDate && fromDate !== \"\") {\r\n      From = fromDate;\r\n    } else {\r\n      this.setState({ fromDate: From });\r\n    }\r\n    let To = new Date();\r\n    if (toDate && toDate !== \"\") {\r\n      To = toDate;\r\n    } else {\r\n      this.setState({ toDate: To });\r\n    }\r\n    this.props\r\n      .getCommonApi(\r\n        `transactionhistory/?from_date=${dateFormat(\r\n          From,\r\n          \"yyyy-mm-dd\"\r\n        )}&to_date=${dateFormat(\r\n          To,\r\n          \"yyyy-mm-dd\"\r\n        )}&transac_no=${transCode}&cust_code=${custCode}&cust_name=${custName}&page=${page}&limit=${limit}&invoice_type=${transtype}`\r\n      )\r\n      .then(async res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        await this.setState({ billingList: [] });\r\n        billingList = res.data.dataList;\r\n        pageMeta = res.data.meta.pagination;\r\n        this.setState({ billingList, pageMeta });\r\n      });\r\n  };\r\n  handlePrint = id => {\r\n    let { billingList, pageMeta, formField, page, limit } = this.state;\r\n    let { fromDate, toDate, transCode, custCode, custName } = formField;\r\n    this.props.getCommonApi(`receiptpdf/?sa_transacno=${id}`).then(res => {});\r\n  };\r\n\r\n  handlePagination = async pageNo => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getTransactions();\r\n  };\r\n\r\n  handleShare = id => {\r\n    this.props\r\n      .commonCreateApi(`receiptpdfsend/?sa_transacno=${id}`)\r\n      .then(res => {});\r\n  };\r\n\r\n  handleInvoice = id => {\r\n    this.props\r\n      .getCommonApi(`customerreceiptprint/?sa_transacno=${id}`)\r\n      .then(res => {});\r\n  };\r\n\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { formField } = this.state;\r\n    formField[name] = value;\r\n    await this.setState({\r\n      formField,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    let { formField } = this.state;\r\n    formField[name] = value;\r\n    await this.setState({\r\n      formField,\r\n    });\r\n  };\r\n\r\n  handleSearch = () => {\r\n    this.getTransactions();\r\n  };\r\n\r\n  render() {\r\n    let { headerDetails, pageMeta, billingList, formField, transtypeOptions } =\r\n      this.state;\r\n    let { fromDate, toDate, transCode, custCode, custName, transtype } =\r\n      formField;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"billing-section\">\r\n          <div className=\"col-md-12 d-flex align-items-center\">\r\n            <p className=\"label-head mb-4\">{t(\"Transaction History\")}</p>\r\n          </div>\r\n          <div className=\"row m-0 filter\">\r\n            <div className=\"col-md-3 col-12\">\r\n              <div className=\"d-flex mb-2\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"From Date\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={fromDate ? new Date(fromDate) : new Date()}\r\n                    name=\"fromDate\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex mb-2\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"To Date\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={toDate ? new Date(toDate) : new Date()}\r\n                    name=\"toDate\"\r\n                    // className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    minDate={new Date(fromDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-3 col-12\">\r\n              <div className=\"d-flex mb-2\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"Customer Name\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    value={custName}\r\n                    name=\"custName\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex mb-2\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"Customer Code\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    value={custCode}\r\n                    name=\"custCode\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-3 col-12\">\r\n              <div className=\"d-flex mb-2\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"Transaction Code\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    value={transCode}\r\n                    name=\"transCode\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex mb-2\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"Transaction Type\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalSelect\r\n                    placeholderrequired={false}\r\n                    options={transtypeOptions}\r\n                    value={t(transtype)}\r\n                    iconname=\"icon-down-key\"\r\n                    name=\"transtype\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-3 col-12\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\"confirm\"\r\n                label=\"Search\"\r\n                outline={false}\r\n                onClick={this.handleSearch}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"billing-table\">\r\n            <div className=\"py-4\">\r\n              <div className=\"table-container\">\r\n                <TableWrapper\r\n                  headerDetails={headerDetails}\r\n                  queryHandler={this.handlePagination}\r\n                  pageMeta={pageMeta}\r\n                >\r\n                  {billingList\r\n                    ? billingList.map((item, index) => {\r\n                        let {\r\n                          icon,\r\n                          id,\r\n                          sa_custno,\r\n                          sa_custname,\r\n                          sa_date,\r\n                          sa_totamt,\r\n                          sa_transacno_ref,\r\n                          void_refno,\r\n                          sa_staffname,\r\n                          sa_status,\r\n                          sa_transacno_type,\r\n                          sa_transacno,\r\n                          payment_remarks,\r\n                        } = item;\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_custno}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_custname}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_date}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_totamt}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_transacno_ref}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {void_refno}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_staffname}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_status}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {sa_transacno_type}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {payment_remarks}\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"position-relative\">\r\n                              <NormalButton\r\n                                buttonClass={\"mx-0\"}\r\n                                mainbg={true}\r\n                                className=\"confirm\"\r\n                                label={t(\"View\")}\r\n                                outline={false}\r\n                                onClick={() =>\r\n                                  history.push(\r\n                                    `/admin/transactionhistory/print/bill/${sa_transacno}`\r\n                                  )\r\n                                }\r\n                              />\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    : null}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TransactionHistory = withTranslation()(\r\n  connect(null, mapDispatchToProps)(TransactionHistoryClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}