{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Toast}from\"service/toast\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi}from\"redux/actions/common\";import{NormalButton,NormalDate,TableWrapper,InputSearch}from\"component/common\";import{dateFormat}from\"service/helperFunctions\";import{withTranslation}from\"react-i18next\";import{NormalInput,NormalDateTime}from\"component/common\";import{Link}from\"react-router-dom\";import _ from\"lodash\";import updateBtn from\"assets/images/edit1.png\";import deleteBtn from\"assets/images/delete1.png\";import closeBtn from\"assets/images/close.png\";import saveBtn from\"assets/images/save.png\";import{getTokenDetails}from\"redux/actions/auth\";export var DetailsClass=/*#__PURE__*/function(_React$Component){_inherits(DetailsClass,_React$Component);var _super=_createSuper(DetailsClass);function DetailsClass(){var _this;_classCallCheck(this,DetailsClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"Brand\"},{label:\"Range\"},{label:\"UOM\"},{label:\"On Hand Qty\"},{label:\"Qty\"},{label:\"Cost\"},{label:\"\"}],headerSelectedDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"Brand\"},{label:\"Range\"},{label:\"UOM\"},{label:\"Unit Cost\"},{label:\"Qty\"},{label:\"Amount\"},{label:\"Remarks\"},{label:\"\"},{label:\"\"}],formFields:{DOC_AMT:\"\",DOC_QTY:\"\"},UOM:\"\",detailsList:[],storedItemList:[],pageMeta:{},search:\"\",active:false,currentIndex:-1,page:1,// limit: 10,\nlimit:4,isOpenvoidCheckout:false,isLoading:true,// is_loading: false,\nisMounted:true// salesCollectionHeader: [\n//   { label: \"Sales Collection\" },\n//   { label: \"Before Tax\" },\n//   { label: \"Amount\" },\n//   { label: \"Qty\" },\n// ],\n// nonSalesCollectionHeader: [\n//   { label: \"Non Sales Collection\" },\n//   { label: \"Amount\" },\n//   { label: \"Qty\" },\n// ],\n// deptSalesHeader: [{ label: \"Dept Sales\" }, { label: \"Amount\" }],\n// salesTransactionHeader: [\n//   { label: \"Sales Transaction\" },\n//   { label: \"Amount\" },\n//   { label: \"Paid\" },\n//   { label: \"Outstanding\" },\n// ],\n// ARTransactionHeader: [{ label: \"AR Transaction\" }, { label: \"Amount\" }],\n// TreatmentDoneHeader: [\n//   { label: \"Customer\" },\n//   { label: \"Customer Reference\" },\n//   { label: \"Treatment Done\" },\n//   { label: \"Description\" },\n//   { label: \"Staff\" },\n//   { label: \"Amount\" },\n// DayDate: new Date(),\n// runDayEnd: false,\n// reportDate: \"\",\n// sales_collec: null,\n// sales_trasac: null,\n// ar_trasac: null,\n// treatment_done: null,\n// dept_sales: null,\n};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getDetails=function(){_this.updateState({isLoading:true});var _this$state=_this.state,detailsList=_this$state.detailsList,pageMeta=_this$state.pageMeta,page=_this$state.page,limit=_this$state.limit,search=_this$state.search;// let { item_desc } = formField;\n_this.props.getCommonApi(\"allstocklist/?searchitemdesc=\".concat(search,\"&searchsitecode=\").concat(_this.props.tokenDetail.site_code,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(res,\"dsfdfaafg\");_context.next=3;return _this.setState({detailsList:[]});case 3:detailsList=res.data.dataList;// pageMeta = res.data.meta.pagination;\npageMeta=res.data.pagination;// pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\n// this.setState({ detailsList, pageMeta });\n// this.setState({ detailsList });\nconsole.log(\"res.data\",res.data);console.log(\"detailsList\",detailsList);console.log(\"pageMeta\",pageMeta);_this.updateState({detailsList:detailsList,pageMeta:pageMeta,isLoading:false});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handlePagination=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(pageNo){var page;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=_this.state.page;page=pageNo.page;_context2.next=4;return _this.setState({page:page});case 4:_this.getDetails();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handlesearch=function(event){// event.persist();\nconsole.log(event.target.value);var search=_this.state.search;search=event.target.value;_this.setState({search:search});if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.getDetails({});case 1:case\"end\":return _context3.stop();}}},_callee3);})),500);}_this.debouncedFn();};_this.handleClick=function(key){if(!_this.state.active){document.addEventListener(\"click\",_this.handleOutsideClick,false);}else{document.removeEventListener(\"click\",_this.handleOutsideClick,false);}_this.setState(function(prevState){return{active:!prevState.active,currentIndex:key};});};_this.handleOutsideClick=function(e){if(_this.node!=null){if(_this.node.contains(e.target)){return;}}_this.handleClick();};_this.handleChangeQuantity=function(_ref4){var _ref4$target=_ref4.target,value=_ref4$target.value,name=_ref4$target.name;var _this$state2=_this.state,detailsList=_this$state2.detailsList,UOM=_this$state2.UOM;console.log(\"value\",value);console.log(\"name\",name);for(var list in detailsList){if(detailsList[list].item_code==name&&detailsList[list].UOM_DESC==UOM){detailsList[list].item_quantity=value;}console.log(\"detailsList[list].item_code\",detailsList[list].item_code);}_this.setState({detailsList:detailsList});console.log(\"detailsList in handleChange\",detailsList);// current_item_quantity = value\n// this.setState({ current_item_quantity })\n};_this.handleChangeCost=function(_ref5){var _ref5$target=_ref5.target,value=_ref5$target.value,name=_ref5$target.name;var _this$state3=_this.state,detailsList=_this$state3.detailsList,UOM=_this$state3.UOM;console.log(\"value\",value);console.log(\"name\",name);var r=new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);if(r.test(value)==true||!value){for(var list in detailsList){if(detailsList[list].item_code==name&&detailsList[list].UOM_DESC==UOM){detailsList[list].item_cost=value;}}}_this.setState({detailsList:detailsList});console.log(\"detailsList in handleChange\",detailsList);// current_item_quantity = value\n// this.setState({ current_item_quantity })\n};_this.handleSelect=function(item_code,Item_Desc,brand_itm_desc,range_itm_desc,UOM_DESC,ITEM_UOM,item_quantity,item_cost){var _this$state4=_this.state,storedItemList=_this$state4.storedItemList,detailsList=_this$state4.detailsList,formFields=_this$state4.formFields;// console.log(\"item_code\", item_code)\n// console.log(\"Item_Desc\", Item_Desc)\n// console.log(\"item_price\", item_price)\nvar _iterator=_createForOfIteratorHelper(storedItemList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item.item_code==item_code&&item.UOM_DESC==UOM_DESC){Toast({type:\"error\",message:\"This item already exists!\"});return;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(!item_cost){Toast({type:\"error\",message:\"Cost is empty!\"});return;}// for (let list in detailsList){\n//   if (detailsList[list].item_code == item_code){\n//     let item_quantity = detailsList[list].item_quantity\n//     if (item_quantity){\n//       storedItemList.push({\"item_code\":item_code, \"Item_Desc\":Item_Desc, \"brand_itm_desc\":brand_itm_desc, \"range_itm_desc\":range_itm_desc, \"UOM_DESC\":UOM_DESC, \"item_cost\":item_cost, \"item_quantity\":item_quantity, \"amount\":item_quantiy*item_cost, \"item_remarks\":\"\", \"editing\":false})\n//     }\n//     else{\n//       item_quantity = 1\n//       storedItemList.push({\"item_code\":item_code, \"Item_Desc\":Item_Desc, \"brand_itm_desc\":brand_itm_desc, \"range_itm_desc\":range_itm_desc, \"UOM_DESC\":UOM_DESC, \"item_cost\":item_cost, \"item_quantity\":item_quantity, \"amount\":item_quantiy*item_cost, \"item_remarks\":\"\", \"editing\":false})\n//     }\n//   }\n// }\nif(item_quantity){storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,brand_itm_desc:brand_itm_desc,range_itm_desc:range_itm_desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,item_cost:item_cost,item_quantity:item_quantity,amount:Math.round(item_quantity*item_cost*100)/100,item_remarks:\"\",editing:false});}else{item_quantity=1;storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,brand_itm_desc:brand_itm_desc,range_itm_desc:range_itm_desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,item_cost:item_cost,item_quantity:item_quantity,amount:Math.round(item_quantity*item_cost*100)/100,item_remarks:\"\",editing:false});}console.log(\"storedItemList\",storedItemList);_this.setState({storedItemList:storedItemList});_this.handleUpdateTotal();_this.props.storeItemDetails(storedItemList,formFields);};_this.handleRemoveStoredItem=function(item_code,UOM_DESC){var _this$state5=_this.state,storedItemList=_this$state5.storedItemList,formFields=_this$state5.formFields;for(var i=0;i<storedItemList.length;i++){if(storedItemList[i].item_code==item_code&&storedItemList[i].UOM_DESC==UOM_DESC){storedItemList.splice(i,1);}}console.log(\"storedItemList after remove\",storedItemList);_this.setState({storedItemList:storedItemList});_this.props.storeItemDetails(storedItemList,formFields);_this.handleUpdateTotal();};_this.handleEdit=function(item_code,UOM_DESC){var storedItemList=_this.state.storedItemList;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=true;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});};_this.handleSave=function(item_code,UOM_DESC){var _this$state6=_this.state,storedItemList=_this$state6.storedItemList,formFields=_this$state6.formFields;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=false;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});_this.props.storeItemDetails(storedItemList,formFields);_this.handleUpdateTotal();};_this.handleEditChangeRemarks=function(_ref6){var _ref6$target=_ref6.target,value=_ref6$target.value,name=_ref6$target.name;var _this$state7=_this.state,storedItemList=_this$state7.storedItemList,UOM=_this$state7.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_remarks=value;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangePrice=function(_ref7){var _ref7$target=_ref7.target,value=_ref7$target.value,name=_ref7$target.name;var _this$state8=_this.state,storedItemList=_this$state8.storedItemList,UOM=_this$state8.UOM;var r=new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);if(r.test(value)==true||!value){for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_cost=value;storedItemList[list].amount=Math.round(storedItemList[list].item_quantity*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangeQuantity=function(_ref8){var _ref8$target=_ref8.target,value=_ref8$target.value,name=_ref8$target.name;var _this$state9=_this.state,storedItemList=_this$state9.storedItemList,UOM=_this$state9.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_quantity=value;storedItemList[list].amount=Math.round(storedItemList[list].item_cost*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleUpdateTotal=function(){var _this$state10=_this.state,storedItemList=_this$state10.storedItemList,formFields=_this$state10.formFields;formFields.DOC_AMT=0;formFields.DOC_QTY=0;var _iterator2=_createForOfIteratorHelper(storedItemList),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var item=_step2.value;console.log(\"item.amount\",item.amount,typeof item.amount);formFields.DOC_AMT=item.amount+formFields.DOC_AMT;formFields.DOC_QTY=parseInt(!item.item_quantity?0:item.item_quantity)+formFields.DOC_QTY;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(\"storedItemList in update total\",storedItemList);formFields.DOC_AMT=Math.round(formFields.DOC_AMT*100)/100;console.log(\"formFields.DOC_AMT\",formFields.DOC_AMT,typeof formFields.DOC_AMT);_this.setState({formFields:formFields});};_this.autofillSaved=function(){// let formFields = Object.assign({}, this.state.formFields);\nvar _this$state11=_this.state,storedItemList=_this$state11.storedItemList,formFields=_this$state11.formFields;storedItemList=_this.props.storedItemListStored;console.log(\"this.props.formFieldsDetailsStored in autofill\",_this.props.formFieldsDetailsStored.DOC_AMT);// formFields.DOC_AMT = this.props.formFieldsDetailsStored.DOC_AMT\n// formFields.DOC_QTY = this.props.formFieldsDetailsStored.DOC_QTY\n// formFields = this.props.formFieldsDetailsStored\n_this.setState({storedItemList:storedItemList,formFields:formFields},function(){_this.handleUpdateTotal();});console.log(\"storedItemList in autofillSaved\",storedItemList);console.log(\"formFields in autofillSaved\",formFields);};_this.setUOM=function(UOM_DESC){var UOM=_this.state.UOM;UOM=UOM_DESC;console.log(\"UOM in setUOM\",UOM);_this.setState({UOM:UOM});};return _this;}_createClass(DetailsClass,[{key:\"componentWillMount\",value:function componentWillMount(){}},{key:\"componentDidMount\",value:function componentDidMount(){// let From = new Date();\n// let { formField } = this.state;\n// let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\n// formField[\"fromDate\"] = firstdayMonth;\n// this.setState({\n//   formField,\n// });\nthis.getDetails();this.autofillSaved();// this.state.formFields = this.props.formFieldsDetailsStored\n// this.setState(this.state.formFields)\n// if(this.props.grnId){\n//   this.autofillDetails()\n// }\n// if(this.props.quoId){\n//   this.autofillDetailsFromQuo()\n//   console.log(\"this.props.quoId\",this.props.quoId)\n// }\nconsole.log(\"this.props in comdidmount\",this.props);// this.queryHandler({});\nconsole.log(\"this.props.storedItemListStored loaded\",this.props.storedItemListStored);console.log(\"this.props.formFieldsDetailsStored loaded\",this.props.formFieldsDetailsStored);// this.handleUpdateTotal()\n// console.log(\"prevState.storedItemList\",prevState.storedItemList)\n// console.log(\"this.state.storedItemList\",this.state.storedItemList)\n}},{key:\"render\",value:function render(){var _this2=this;var _this$state12=this.state,headerDetails=_this$state12.headerDetails,headerSelectedDetails=_this$state12.headerSelectedDetails,pageMeta=_this$state12.pageMeta,detailsList=_this$state12.detailsList,storedItemList=_this$state12.storedItemList,isLoading=_this$state12.isLoading,formFields=_this$state12.formFields;var DOC_AMT=formFields.DOC_AMT,DOC_QTY=formFields.DOC_QTY;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(InputSearch,{placeholder:\"Search Item\",onChange:this.handlesearch})))),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},t(\"Loading...\")))))):detailsList?detailsList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,brand_itm_desc=item.brand_itm_desc,range_itm_desc=item.range_itm_desc,UOM_DESC=item.UOM_DESC,ITEM_UOM=item.ITEM_UOM,QTY=item.QTY,item_quantity=item.item_quantity,item_cost=item.item_cost;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:_this2.props.disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleChangeQuantity})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NormalInput,{value:item_cost,disabled:_this2.props.disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)&&!/\\./.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleChangeCost})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:_this2.props.disableEdit,mainbg:true,className:\"warning\",label:\"Select\",onClick:function onClick(){return _this2.handleSelect(item_code,Item_Desc,brand_itm_desc,range_itm_desc,UOM_DESC,ITEM_UOM,item_quantity,item_cost);}}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"}),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerSelectedDetails// queryHandler={this.handlePagination}\n// pageMeta={pageMeta}\n},storedItemList?storedItemList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,brand_itm_desc=item.brand_itm_desc,range_itm_desc=item.range_itm_desc,UOM_DESC=item.UOM_DESC,item_cost=item.item_cost,item_quantity=item.item_quantity,amount=item.amount,item_remarks=item.item_remarks,editing=item.editing;return editing==false?/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_cost)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_quantity)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_remarks)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:updateBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent\",onClick:_this2.props.disableEdit==false?function(){return _this2.handleEdit(item_code,UOM_DESC);}:\"\"}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:deleteBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:_this2.props.disableEdit==false?function(){return _this2.handleRemoveStoredItem(item_code,UOM_DESC);}:\"\"})))):/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_cost,disabled:_this2.props.disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)&&!/\\./.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangePrice}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:_this2.props.disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeQuantity}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_remarks,disabled:_this2.props.disableEdit,name:item_code,onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeRemarks}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:saveBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:_this2.props.disableEdit==false?function(){return _this2.handleSave(item_code,UOM_DESC);}:\"\"}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Cost\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:DOC_AMT,name:\"DOC_AMT\"// onChange={this.handleChangeDetails}\n}))),/*#__PURE__*/React.createElement(\"div\",null,this.props.validator.message(t(\"Total Cost\"),DOC_AMT,t(\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:DOC_QTY,name:\"DOC_QTY\"// onChange={this.handleChangeDetails}\n}))),/*#__PURE__*/React.createElement(\"div\",null,this.props.validator.message(t(\"Total Quantity\"),DOC_QTY,t(\"required\")))))));}}]);return DetailsClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,getTokenDetails:getTokenDetails// deleteProject,\n// getProject\n},dispatch);};export var Details=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(DetailsClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Inventory/StocksRTN/AddStocksRTN/details.js"],"names":["React","Toast","connect","bindActionCreators","getCommonApi","NormalButton","NormalDate","TableWrapper","InputSearch","dateFormat","withTranslation","NormalInput","NormalDateTime","Link","_","updateBtn","deleteBtn","closeBtn","saveBtn","getTokenDetails","DetailsClass","state","headerDetails","label","headerSelectedDetails","formFields","DOC_AMT","DOC_QTY","UOM","detailsList","storedItemList","pageMeta","search","active","currentIndex","page","limit","isOpenvoidCheckout","isLoading","isMounted","updateState","data","setState","getDetails","props","tokenDetail","site_code","then","res","console","log","dataList","pagination","handlePagination","pageNo","handlesearch","event","target","value","debouncedFn","debounce","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","e","node","contains","handleChangeQuantity","name","list","item_code","UOM_DESC","item_quantity","handleChangeCost","r","RegExp","test","item_cost","handleSelect","Item_Desc","brand_itm_desc","range_itm_desc","ITEM_UOM","item","type","message","push","amount","Math","round","item_remarks","editing","handleUpdateTotal","storeItemDetails","handleRemoveStoredItem","i","length","splice","handleEdit","handleSave","handleEditChangeRemarks","handleEditChangePrice","handleEditChangeQuantity","parseInt","autofillSaved","storedItemListStored","formFieldsDetailsStored","setUOM","t","map","index","QTY","disableEdit","preventDefault","validator","Component","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","Details"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Toast } from \"service/toast\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport {\r\n  NormalButton,\r\n  NormalDate,\r\n  TableWrapper,\r\n  InputSearch,\r\n} from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NormalInput, NormalDateTime } from \"component/common\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport updateBtn from \"assets/images/edit1.png\";\r\nimport deleteBtn from \"assets/images/delete1.png\";\r\nimport closeBtn from \"assets/images/close.png\";\r\nimport saveBtn from \"assets/images/save.png\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\n\r\nexport class DetailsClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Brand\" },\r\n      { label: \"Range\" },\r\n      { label: \"UOM\" },\r\n      { label: \"On Hand Qty\" },\r\n      { label: \"Qty\" },\r\n      { label: \"Cost\" },\r\n      { label: \"\" },\r\n    ],\r\n    headerSelectedDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Brand\" },\r\n      { label: \"Range\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Unit Cost\" },\r\n      { label: \"Qty\" },\r\n      { label: \"Amount\" },\r\n      { label: \"Remarks\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n    ],\r\n    formFields: {\r\n      DOC_AMT: \"\",\r\n      DOC_QTY: \"\",\r\n    },\r\n\r\n    UOM: \"\",\r\n\r\n    detailsList: [],\r\n    storedItemList: [],\r\n    pageMeta: {},\r\n\r\n    search: \"\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    // limit: 10,\r\n    limit: 4,\r\n    isOpenvoidCheckout: false,\r\n    isLoading: true,\r\n    // is_loading: false,\r\n    isMounted: true,\r\n\r\n    // salesCollectionHeader: [\r\n    //   { label: \"Sales Collection\" },\r\n    //   { label: \"Before Tax\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Qty\" },\r\n    // ],\r\n    // nonSalesCollectionHeader: [\r\n    //   { label: \"Non Sales Collection\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Qty\" },\r\n    // ],\r\n    // deptSalesHeader: [{ label: \"Dept Sales\" }, { label: \"Amount\" }],\r\n    // salesTransactionHeader: [\r\n    //   { label: \"Sales Transaction\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Paid\" },\r\n    //   { label: \"Outstanding\" },\r\n    // ],\r\n    // ARTransactionHeader: [{ label: \"AR Transaction\" }, { label: \"Amount\" }],\r\n    // TreatmentDoneHeader: [\r\n    //   { label: \"Customer\" },\r\n    //   { label: \"Customer Reference\" },\r\n    //   { label: \"Treatment Done\" },\r\n    //   { label: \"Description\" },\r\n    //   { label: \"Staff\" },\r\n    //   { label: \"Amount\" },\r\n    // DayDate: new Date(),\r\n    // runDayEnd: false,\r\n    // reportDate: \"\",\r\n    // sales_collec: null,\r\n    // sales_trasac: null,\r\n    // ar_trasac: null,\r\n    // treatment_done: null,\r\n    // dept_sales: null,\r\n  };\r\n\r\n  componentWillMount() {}\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentDidMount() {\r\n    // let From = new Date();\r\n    // let { formField } = this.state;\r\n    // let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\r\n    // formField[\"fromDate\"] = firstdayMonth;\r\n    // this.setState({\r\n    //   formField,\r\n    // });\r\n\r\n    this.getDetails();\r\n    this.autofillSaved();\r\n    // this.state.formFields = this.props.formFieldsDetailsStored\r\n    // this.setState(this.state.formFields)\r\n    // if(this.props.grnId){\r\n    //   this.autofillDetails()\r\n    // }\r\n    // if(this.props.quoId){\r\n    //   this.autofillDetailsFromQuo()\r\n    //   console.log(\"this.props.quoId\",this.props.quoId)\r\n    // }\r\n    console.log(\"this.props in comdidmount\", this.props);\r\n    // this.queryHandler({});\r\n    console.log(\r\n      \"this.props.storedItemListStored loaded\",\r\n      this.props.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"this.props.formFieldsDetailsStored loaded\",\r\n      this.props.formFieldsDetailsStored\r\n    );\r\n    // this.handleUpdateTotal()\r\n    // console.log(\"prevState.storedItemList\",prevState.storedItemList)\r\n    // console.log(\"this.state.storedItemList\",this.state.storedItemList)\r\n  }\r\n\r\n  getDetails = () => {\r\n    this.updateState({ isLoading: true });\r\n    let { detailsList, pageMeta, page, limit, search } = this.state;\r\n    // let { item_desc } = formField;\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `allstocklist/?searchitemdesc=${search}&searchsitecode=${this.props.tokenDetail.site_code}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(async res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        await this.setState({ detailsList: [] });\r\n        detailsList = res.data.dataList;\r\n        // pageMeta = res.data.meta.pagination;\r\n        pageMeta = res.data.pagination;\r\n        // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\r\n        // this.setState({ detailsList, pageMeta });\r\n        // this.setState({ detailsList });\r\n\r\n        console.log(\"res.data\", res.data);\r\n        console.log(\"detailsList\", detailsList);\r\n        console.log(\"pageMeta\", pageMeta);\r\n        this.updateState({\r\n          detailsList,\r\n          pageMeta,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handlePagination = async pageNo => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getDetails();\r\n  };\r\n  // pagination\r\n  // handlePagination = page => {\r\n  //   this.queryHandler(page);\r\n  // };\r\n\r\n  handlesearch = event => {\r\n    // event.persist();\r\n    console.log(event.target.value);\r\n    let { search } = this.state;\r\n    search = event.target.value;\r\n    this.setState({ search });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getDetails({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  // handleChangeDetails = ({ target: { value, name } }) => {\r\n  //   let {storedItemList} = this.state\r\n  //   let formFields = Object.assign({}, this.state.formFields);\r\n\r\n  //   formFields[name] = value;\r\n\r\n  //   this.updateState({\r\n  //     formFields,\r\n  //   });\r\n  //   this.props.storeItemDetails(storedItemList, formFields)\r\n  // };\r\n\r\n  handleChangeQuantity = ({ target: { value, name } }) => {\r\n    let { detailsList, UOM } = this.state;\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    for (let list in detailsList) {\r\n      if (\r\n        detailsList[list].item_code == name &&\r\n        detailsList[list].UOM_DESC == UOM\r\n      ) {\r\n        detailsList[list].item_quantity = value;\r\n      }\r\n      console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\r\n    }\r\n\r\n    this.setState({\r\n      detailsList,\r\n    });\r\n    console.log(\"detailsList in handleChange\", detailsList);\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleChangeCost = ({ target: { value, name } }) => {\r\n    let { detailsList, UOM } = this.state;\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    let r = new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);\r\n\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in detailsList) {\r\n        if (\r\n          detailsList[list].item_code == name &&\r\n          detailsList[list].UOM_DESC == UOM\r\n        ) {\r\n          detailsList[list].item_cost = value;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      detailsList,\r\n    });\r\n    console.log(\"detailsList in handleChange\", detailsList);\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleSelect = (\r\n    item_code,\r\n    Item_Desc,\r\n    brand_itm_desc,\r\n    range_itm_desc,\r\n    UOM_DESC,\r\n    ITEM_UOM,\r\n    item_quantity,\r\n    item_cost\r\n  ) => {\r\n    let { storedItemList, detailsList, formFields } = this.state;\r\n    // console.log(\"item_code\", item_code)\r\n    // console.log(\"Item_Desc\", Item_Desc)\r\n    // console.log(\"item_price\", item_price)\r\n\r\n    for (let item of storedItemList) {\r\n      if (item.item_code == item_code && item.UOM_DESC == UOM_DESC) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item already exists!\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!item_cost) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Cost is empty!\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    // for (let list in detailsList){\r\n    //   if (detailsList[list].item_code == item_code){\r\n    //     let item_quantity = detailsList[list].item_quantity\r\n    //     if (item_quantity){\r\n    //       storedItemList.push({\"item_code\":item_code, \"Item_Desc\":Item_Desc, \"brand_itm_desc\":brand_itm_desc, \"range_itm_desc\":range_itm_desc, \"UOM_DESC\":UOM_DESC, \"item_cost\":item_cost, \"item_quantity\":item_quantity, \"amount\":item_quantiy*item_cost, \"item_remarks\":\"\", \"editing\":false})\r\n    //     }\r\n    //     else{\r\n    //       item_quantity = 1\r\n    //       storedItemList.push({\"item_code\":item_code, \"Item_Desc\":Item_Desc, \"brand_itm_desc\":brand_itm_desc, \"range_itm_desc\":range_itm_desc, \"UOM_DESC\":UOM_DESC, \"item_cost\":item_cost, \"item_quantity\":item_quantity, \"amount\":item_quantiy*item_cost, \"item_remarks\":\"\", \"editing\":false})\r\n    //     }\r\n    //   }\r\n    // }\r\n\r\n    if (item_quantity) {\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        Item_Desc: Item_Desc,\r\n        brand_itm_desc: brand_itm_desc,\r\n        range_itm_desc: range_itm_desc,\r\n        UOM_DESC: UOM_DESC,\r\n        ITEM_UOM: ITEM_UOM,\r\n        item_cost: item_cost,\r\n        item_quantity: item_quantity,\r\n        amount: Math.round(item_quantity * item_cost * 100) / 100,\r\n        item_remarks: \"\",\r\n        editing: false,\r\n      });\r\n    } else {\r\n      item_quantity = 1;\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        Item_Desc: Item_Desc,\r\n        brand_itm_desc: brand_itm_desc,\r\n        range_itm_desc: range_itm_desc,\r\n        UOM_DESC: UOM_DESC,\r\n        ITEM_UOM: ITEM_UOM,\r\n        item_cost: item_cost,\r\n        item_quantity: item_quantity,\r\n        amount: Math.round(item_quantity * item_cost * 100) / 100,\r\n        item_remarks: \"\",\r\n        editing: false,\r\n      });\r\n    }\r\n\r\n    console.log(\"storedItemList\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n  };\r\n\r\n  handleRemoveStoredItem = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (var i = 0; i < storedItemList.length; i++) {\r\n      if (\r\n        storedItemList[i].item_code == item_code &&\r\n        storedItemList[i].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(\"storedItemList after remove\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEdit = (item_code, UOM_DESC) => {\r\n    let { storedItemList } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = true;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n  };\r\n\r\n  handleSave = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = false;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEditChangeRemarks = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_remarks = value;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangePrice = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    let r = new RegExp(/^\\d*(\\d+\\.|\\.\\d+)?$/);\r\n    if (r.test(value) == true || !value) {\r\n      for (let list in storedItemList) {\r\n        if (\r\n          storedItemList[list].item_code == name &&\r\n          storedItemList[list].UOM_DESC == UOM\r\n        ) {\r\n          storedItemList[list].item_cost = value;\r\n          storedItemList[list].amount =\r\n            Math.round(storedItemList[list].item_quantity * value * 100) / 100;\r\n        }\r\n        // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangeQuantity = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_quantity = value;\r\n        storedItemList[list].amount =\r\n          Math.round(storedItemList[list].item_cost * value * 100) / 100;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleUpdateTotal = () => {\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    formFields.DOC_AMT = 0;\r\n    formFields.DOC_QTY = 0;\r\n\r\n    for (let item of storedItemList) {\r\n      console.log(\"item.amount\", item.amount, typeof item.amount);\r\n      formFields.DOC_AMT = item.amount + formFields.DOC_AMT;\r\n      formFields.DOC_QTY =\r\n        parseInt(!item.item_quantity ? 0 : item.item_quantity) +\r\n        formFields.DOC_QTY;\r\n    }\r\n    console.log(\"storedItemList in update total\", storedItemList);\r\n    formFields.DOC_AMT = Math.round(formFields.DOC_AMT * 100) / 100;\r\n    console.log(\r\n      \"formFields.DOC_AMT\",\r\n      formFields.DOC_AMT,\r\n      typeof formFields.DOC_AMT\r\n    );\r\n    this.setState({ formFields });\r\n  };\r\n\r\n  autofillSaved = () => {\r\n    // let formFields = Object.assign({}, this.state.formFields);\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    storedItemList = this.props.storedItemListStored;\r\n    console.log(\r\n      \"this.props.formFieldsDetailsStored in autofill\",\r\n      this.props.formFieldsDetailsStored.DOC_AMT\r\n    );\r\n\r\n    // formFields.DOC_AMT = this.props.formFieldsDetailsStored.DOC_AMT\r\n    // formFields.DOC_QTY = this.props.formFieldsDetailsStored.DOC_QTY\r\n    // formFields = this.props.formFieldsDetailsStored\r\n\r\n    this.setState({ storedItemList, formFields }, () => {\r\n      this.handleUpdateTotal();\r\n    });\r\n    console.log(\"storedItemList in autofillSaved\", storedItemList);\r\n    console.log(\"formFields in autofillSaved\", formFields);\r\n  };\r\n\r\n  setUOM = UOM_DESC => {\r\n    let { UOM } = this.state;\r\n    UOM = UOM_DESC;\r\n    console.log(\"UOM in setUOM\", UOM);\r\n    this.setState({ UOM });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      headerSelectedDetails,\r\n      pageMeta,\r\n      detailsList,\r\n      storedItemList,\r\n      isLoading,\r\n      formFields,\r\n    } = this.state;\r\n\r\n    let { DOC_AMT, DOC_QTY } = formFields;\r\n\r\n    let { t } = this.props;\r\n\r\n    return (\r\n      <div className=\"py-4\">\r\n        <div className=\"table-container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-8\"></div>\r\n\r\n            <div className=\"col-4 mb-3\">\r\n              <div className=\"w-100\">\r\n                <InputSearch\r\n                  placeholder=\"Search Item\"\r\n                  onChange={this.handlesearch}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <TableWrapper\r\n            headerDetails={headerDetails}\r\n            queryHandler={this.handlePagination}\r\n            pageMeta={pageMeta}\r\n          >\r\n            {isLoading ? (\r\n              <tr>\r\n                <td colSpan=\"7\">\r\n                  <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                    <div class=\"spinner-border\" role=\"status\">\r\n                      <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ) : detailsList ? (\r\n              detailsList.map((item, index) => {\r\n                let {\r\n                  item_code,\r\n                  Item_Desc,\r\n                  brand_itm_desc,\r\n                  range_itm_desc,\r\n                  UOM_DESC,\r\n                  ITEM_UOM,\r\n                  QTY,\r\n                  item_quantity,\r\n                  item_cost,\r\n                } = item;\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {item_code}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {Item_Desc}\r\n                      </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {brand_itm_desc}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {range_itm_desc}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {UOM_DESC}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {QTY}\r\n                      </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      {/* <div className=\"input-group\"> */}\r\n                      <NormalInput\r\n                        value={item_quantity}\r\n                        disabled={this.props.disableEdit}\r\n                        name={item_code}\r\n                        onKeyPress={event => {\r\n                          if (!/[0-9]/.test(event.key)) {\r\n                            event.preventDefault();\r\n                          }\r\n                        }}\r\n                        onClick={() => this.setUOM(UOM_DESC)}\r\n                        onChange={this.handleChangeQuantity}\r\n                      />\r\n                      {/* </div> */}\r\n                    </td>\r\n\r\n                    <td>\r\n                      {/* <div className=\"input-group\"> */}\r\n                      <NormalInput\r\n                        value={item_cost}\r\n                        disabled={this.props.disableEdit}\r\n                        name={item_code}\r\n                        onKeyPress={event => {\r\n                          if (\r\n                            !/[0-9]/.test(event.key) &&\r\n                            !/\\./.test(event.key)\r\n                          ) {\r\n                            event.preventDefault();\r\n                          }\r\n                        }}\r\n                        onClick={() => this.setUOM(UOM_DESC)}\r\n                        onChange={this.handleChangeCost}\r\n                      />\r\n                      {/* </div> */}\r\n                    </td>\r\n\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        <NormalButton\r\n                          buttonClass={\"mx-2\"}\r\n                          disabled={this.props.disableEdit}\r\n                          mainbg={true}\r\n                          className=\"warning\"\r\n                          label=\"Select\"\r\n                          onClick={() =>\r\n                            this.handleSelect(\r\n                              item_code,\r\n                              Item_Desc,\r\n                              brand_itm_desc,\r\n                              range_itm_desc,\r\n                              UOM_DESC,\r\n                              ITEM_UOM,\r\n                              item_quantity,\r\n                              item_cost\r\n                            )\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : null}\r\n          </TableWrapper>\r\n\r\n          <div className=\"row mt-5\"></div>\r\n          <TableWrapper\r\n            headerDetails={headerSelectedDetails}\r\n            // queryHandler={this.handlePagination}\r\n            // pageMeta={pageMeta}\r\n          >\r\n            {storedItemList\r\n              ? storedItemList.map((item, index) => {\r\n                  let {\r\n                    item_code,\r\n                    Item_Desc,\r\n                    brand_itm_desc,\r\n                    range_itm_desc,\r\n                    UOM_DESC,\r\n                    item_cost,\r\n                    item_quantity,\r\n                    amount,\r\n                    item_remarks,\r\n                    editing,\r\n                  } = item;\r\n                  return editing == false ? (\r\n                    <tr key={index}>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_code}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {Item_Desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {brand_itm_desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {range_itm_desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {UOM_DESC}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_cost}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_quantity}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {amount}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_remarks}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <img\r\n                            src={updateBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent\"\r\n                            onClick={\r\n                              this.props.disableEdit == false\r\n                                ? () => this.handleEdit(item_code, UOM_DESC)\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <img\r\n                            src={deleteBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent \"\r\n                            onClick={\r\n                              this.props.disableEdit == false\r\n                                ? () =>\r\n                                    this.handleRemoveStoredItem(\r\n                                      item_code,\r\n                                      UOM_DESC\r\n                                    )\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    <tr key={index}>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_code}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {Item_Desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {brand_itm_desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {range_itm_desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {UOM_DESC}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            value={item_cost}\r\n                            disabled={this.props.disableEdit}\r\n                            name={item_code}\r\n                            onKeyPress={event => {\r\n                              if (\r\n                                !/[0-9]/.test(event.key) &&\r\n                                !/\\./.test(event.key)\r\n                              ) {\r\n                                event.preventDefault();\r\n                              }\r\n                            }}\r\n                            onClick={() => this.setUOM(UOM_DESC)}\r\n                            onChange={this.handleEditChangePrice}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            value={item_quantity}\r\n                            disabled={this.props.disableEdit}\r\n                            name={item_code}\r\n                            onKeyPress={event => {\r\n                              if (!/[0-9]/.test(event.key)) {\r\n                                event.preventDefault();\r\n                              }\r\n                            }}\r\n                            onClick={() => this.setUOM(UOM_DESC)}\r\n                            onChange={this.handleEditChangeQuantity}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {amount}\r\n                        </div>\r\n                      </td>\r\n\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            value={item_remarks}\r\n                            disabled={this.props.disableEdit}\r\n                            name={item_code}\r\n                            onClick={() => this.setUOM(UOM_DESC)}\r\n                            onChange={this.handleEditChangeRemarks}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n\r\n                      {/* <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={closeBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent\"\r\n                                  onClick={() =>this.handleClose(item_code)}\r\n                                />\r\n                              </div>\r\n                            </td> */}\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <img\r\n                            src={saveBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent \"\r\n                            onClick={\r\n                              this.props.disableEdit == false\r\n                                ? () => this.handleSave(item_code, UOM_DESC)\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              : null}\r\n          </TableWrapper>\r\n\r\n          <div className=\"row justify-content-end mt-5\">\r\n            <div className=\"col-4\">\r\n              {/* <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Shipping Cost\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_shipcost}\r\n                          name=\"po_shipcost\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Discount\")}\r\n                      </label>\r\n                      <div className=\"input-group-discount w-100\">\r\n                        <NormalInput\r\n                          // placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_discount}\r\n                          name=\"po_discount\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                      \r\n                    </div>                   \r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Taxes\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_taxes}\r\n                          name=\"po_taxes\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div> */}\r\n\r\n              <div className=\"d-flex mb-3\">\r\n                <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                  {t(\"Total Cost\")}\r\n                </label>\r\n                <div className=\"input-group-address w-100\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={true}\r\n                    value={DOC_AMT}\r\n                    name=\"DOC_AMT\"\r\n                    // onChange={this.handleChangeDetails}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {this.props.validator.message(\r\n                  t(\"Total Cost\"),\r\n                  DOC_AMT,\r\n                  t(\"required\")\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"d-flex mb-3\">\r\n                <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                  {t(\"Total Quantity\")}\r\n                </label>\r\n                <div className=\"input-group-address w-100\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={true}\r\n                    value={DOC_QTY}\r\n                    name=\"DOC_QTY\"\r\n                    // onChange={this.handleChangeDetails}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {this.props.validator.message(\r\n                  t(\"Total Quantity\"),\r\n                  DOC_QTY,\r\n                  t(\"required\")\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      getTokenDetails,\r\n      // deleteProject,\r\n      // getProject\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Details = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(DetailsClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}