{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{TableWrapper}from\"component/common\";import{getCommonApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";export var TreatmentHistoryClass=/*#__PURE__*/function(_Component){_inherits(TreatmentHistoryClass,_Component);var _super=_createSuper(TreatmentHistoryClass);function TreatmentHistoryClass(){var _this;_classCallCheck(this,TreatmentHistoryClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"S.No\"},{label:\"Date\"},{label:\"From\"},{label:\"To\"},{label:\"Staff Name\"},{label:\"App. Status\"},{label:\"Site\"},{label:\"Sec. Status\"},{label:\"Remarks\"}],upcomingAppointment:[],pageMeta:{},active:false,currentIndex:-1};_this.queryHandler=function(data){var _data$page=data.page,page=_data$page===void 0?1:_data$page,_data$limit=data.limit,limit=_data$limit===void 0?10:_data$limit,_data$search=data.search,search=_data$search===void 0?\"\":_data$search;_this.props.getCommonApi(\"custapptupcoming/?cust_id=\".concat(_this.props.id,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(function(res){console.log(res,\"customerappointmentupdatedupcominglist\");var data=res.data;var _this$state=_this.state,upcomingAppointment=_this$state.upcomingAppointment,pageMeta=_this$state.pageMeta;upcomingAppointment=[];pageMeta={};_this.setState({upcomingAppointment:upcomingAppointment,pageMeta:pageMeta});if(data&&data.dataList){upcomingAppointment=data.dataList;pageMeta=data.meta.pagination;}_this.setState({upcomingAppointment:upcomingAppointment,pageMeta:pageMeta});});};_this.handleClick=function(key){var currentIndex;if(_this.state.active==true){_this.setState({active:false,currentIndex:\"-1\"});}else{_this.setState({active:true,currentIndex:key});}};_this.handlePagination=function(page){_this.queryHandler(page);};return _this;}_createClass(TreatmentHistoryClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({CustomerId:this.props.id});this.queryHandler({});}// api call for list\n},{key:\"render\",value:function render(){var _this$state2=this.state,headerDetails=_this$state2.headerDetails,upcomingAppointment=_this$state2.upcomingAppointment,pageMeta=_this$state2.pageMeta,currentIndex=_this$state2.currentIndex;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},upcomingAppointment&&upcomingAppointment.length>0&&upcomingAppointment.map(function(item,index){var id=item.id,appt_date=item.appt_date,appt_fr_time=item.appt_fr_time,appt_to_time=item.appt_to_time,emp_name=item.emp_name,appt_status=item.appt_status,itemsite_code=item.itemsite_code,sec_status=item.sec_status,appt_remark=item.appt_remark;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},index+1)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},appt_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},appt_fr_time)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},appt_to_time)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},emp_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},appt_status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},itemsite_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},sec_status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},appt_remark)));}))))));}}]);return TreatmentHistoryClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{// filter: state.dashboard\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonDeleteApi:commonDeleteApi},dispatch);};export var TreatmentHistory=connect(mapStateToProps,mapDispatchToProps)(TreatmentHistoryClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Details/TreatmentHistory.js"],"names":["React","Component","TableWrapper","getCommonApi","commonDeleteApi","connect","bindActionCreators","TreatmentHistoryClass","state","headerDetails","label","upcomingAppointment","pageMeta","active","currentIndex","queryHandler","data","page","limit","search","props","id","then","res","console","log","setState","dataList","meta","pagination","handleClick","key","handlePagination","CustomerId","length","map","item","index","appt_date","appt_fr_time","appt_to_time","emp_name","appt_status","itemsite_code","sec_status","appt_remark","mapStateToProps","mapDispatchToProps","dispatch","TreatmentHistory"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,OAASC,YAAT,CAAuBC,eAAvB,KAA8C,sBAA9C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CAEA,UAAaC,CAAAA,qBAAb,uXACEC,KADF,CACU,CACNC,aAAa,CAAE,CACb,CACEC,KAAK,CAAE,MADT,CADa,CAIb,CACEA,KAAK,CAAE,MADT,CAJa,CAOb,CACEA,KAAK,CAAE,MADT,CAPa,CAUb,CACEA,KAAK,CAAE,IADT,CAVa,CAab,CACEA,KAAK,CAAE,YADT,CAba,CAgBb,CACEA,KAAK,CAAE,aADT,CAhBa,CAmBb,CACEA,KAAK,CAAE,MADT,CAnBa,CAsBb,CACEA,KAAK,CAAE,aADT,CAtBa,CAyBb,CACEA,KAAK,CAAE,SADT,CAzBa,CADT,CA8BNC,mBAAmB,CAAE,EA9Bf,CA+BNC,QAAQ,CAAE,EA/BJ,CAgCNC,MAAM,CAAE,KAhCF,CAiCNC,YAAY,CAAE,CAAC,CAjCT,CADV,OA6CEC,YA7CF,CA6CiB,SAAAC,IAAI,CAAI,CACrB,eAA4CA,IAA5C,CAAMC,IAAN,CAAMA,IAAN,qBAAa,CAAb,wBAA4CD,IAA5C,CAAgBE,KAAhB,CAAgBA,KAAhB,sBAAwB,EAAxB,0BAA4CF,IAA5C,CAA4BG,MAA5B,CAA4BA,MAA5B,uBAAqC,EAArC,cACA,MAAKC,KAAL,CACGjB,YADH,qCAEiC,MAAKiB,KAAL,CAAWC,EAF5C,kBAEuDJ,IAFvD,mBAEqEC,KAFrE,GAIGI,IAJH,CAIQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAiB,wCAAjB,EACA,GAAMP,CAAAA,IAAN,CAAeO,GAAf,CAAMP,IAAN,CACA,gBAAwC,MAAKR,KAA7C,CAAMG,mBAAN,aAAMA,mBAAN,CAA2BC,QAA3B,aAA2BA,QAA3B,CACAD,mBAAmB,CAAG,EAAtB,CACAC,QAAQ,CAAG,EAAX,CACA,MAAKc,QAAL,CAAc,CACZf,mBAAmB,CAAnBA,mBADY,CAEZC,QAAQ,CAARA,QAFY,CAAd,EAIA,GAAII,IAAI,EAAIA,IAAI,CAACW,QAAjB,CAA2B,CACzBhB,mBAAmB,CAAGK,IAAI,CAACW,QAA3B,CACAf,QAAQ,CAAGI,IAAI,CAACY,IAAL,CAAUC,UAArB,CACD,CACD,MAAKH,QAAL,CAAc,CACZf,mBAAmB,CAAnBA,mBADY,CAEZC,QAAQ,CAARA,QAFY,CAAd,EAID,CAtBH,EAuBD,CAtEH,OAwEEkB,WAxEF,CAwEgB,SAAAC,GAAG,CAAI,CACnB,GAAIjB,CAAAA,YAAJ,CACA,GAAI,MAAKN,KAAL,CAAWK,MAAX,EAAqB,IAAzB,CAA+B,CAC7B,MAAKa,QAAL,CAAc,CACZb,MAAM,CAAE,KADI,CAEZC,YAAY,CAAE,IAFF,CAAd,EAID,CALD,IAKO,CACL,MAAKY,QAAL,CAAc,CACZb,MAAM,CAAE,IADI,CAEZC,YAAY,CAAEiB,GAFF,CAAd,EAID,CACF,CArFH,OAuFEC,gBAvFF,CAuFqB,SAAAf,IAAI,CAAI,CACzB,MAAKF,YAAL,CAAkBE,IAAlB,EACD,CAzFH,kFAqCE,4BAAoB,CAClB,KAAKS,QAAL,CAAc,CACZO,UAAU,CAAE,KAAKb,KAAL,CAAWC,EADX,CAAd,EAGA,KAAKN,YAAL,CAAkB,EAAlB,EACD,CAED;AA5CF,sBA2FE,iBAAS,CACP,iBACE,KAAKP,KADP,CAAMC,aAAN,cAAMA,aAAN,CAAqBE,mBAArB,cAAqBA,mBAArB,CAA0CC,QAA1C,cAA0CA,QAA1C,CAAoDE,YAApD,cAAoDA,YAApD,CAEA,mBACE,qDACE,2BAAK,SAAS,CAAC,EAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,YAAD,EACE,aAAa,CAAEL,aADjB,CAEE,YAAY,CAAE,KAAKuB,gBAFrB,CAGE,QAAQ,CAAEpB,QAHZ,EAKGD,mBAAmB,EAClBA,mBAAmB,CAACuB,MAApB,CAA6B,CAD9B,EAECvB,mBAAmB,CAACwB,GAApB,CAAwB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACvC,GACEhB,CAAAA,EADF,CAUIe,IAVJ,CACEf,EADF,CAEEiB,SAFF,CAUIF,IAVJ,CAEEE,SAFF,CAGEC,YAHF,CAUIH,IAVJ,CAGEG,YAHF,CAIEC,YAJF,CAUIJ,IAVJ,CAIEI,YAJF,CAKEC,QALF,CAUIL,IAVJ,CAKEK,QALF,CAMEC,WANF,CAUIN,IAVJ,CAMEM,WANF,CAOEC,aAPF,CAUIP,IAVJ,CAOEO,aAPF,CAQEC,UARF,CAUIR,IAVJ,CAQEQ,UARF,CASEC,WATF,CAUIT,IAVJ,CASES,WATF,CAWA,mBACE,0BAAI,GAAG,CAAER,KAAT,eACE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGA,KAAK,CAAG,CADX,CADF,CADF,cAME,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,SADH,CADF,CANF,cAWE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,YADH,CADF,CAXF,cAgBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,YADH,CADF,CAhBF,cAqBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,QADH,CADF,CArBF,cA0BE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,WADH,CADF,CA1BF,cA+BE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,aADH,CADF,CA/BF,cAoCE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,UADH,CADF,CApCF,cAyCE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,WADH,CADF,CAzCF,CADF,CAiDD,CA7DD,CAPJ,CADF,CADF,CADF,CADF,CADF,CAgFD,CA9KH,mCAA2C5C,SAA3C,EAiLA,GAAM6C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAtC,KAAK,QAAK,CAChC;AADgC,CAAL,EAA7B,CAIA,GAAMuC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO1C,CAAAA,kBAAkB,CACvB,CACEH,YAAY,CAAZA,YADF,CAEEC,eAAe,CAAfA,eAFF,CADuB,CAKvB4C,QALuB,CAAzB,CAOD,CARD,CAUA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG5C,OAAO,CACrCyC,eADqC,CAErCC,kBAFqC,CAAP,CAG9BxC,qBAH8B,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { TableWrapper } from \"component/common\";\nimport { getCommonApi, commonDeleteApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nexport class TreatmentHistoryClass extends Component {\n  state = {\n    headerDetails: [\n      {\n        label: \"S.No\",\n      },\n      {\n        label: \"Date\",\n      },\n      {\n        label: \"From\",\n      },\n      {\n        label: \"To\",\n      },\n      {\n        label: \"Staff Name\",\n      },\n      {\n        label: \"App. Status\",\n      },\n      {\n        label: \"Site\",\n      },\n      {\n        label: \"Sec. Status\",\n      },\n      {\n        label: \"Remarks\",\n      },\n    ],\n    upcomingAppointment: [],\n    pageMeta: {},\n    active: false,\n    currentIndex: -1,\n  };\n\n  componentDidMount() {\n    this.setState({\n      CustomerId: this.props.id,\n    });\n    this.queryHandler({});\n  }\n\n  // api call for list\n  queryHandler = data => {\n    let { page = 1, limit = 10, search = \"\" } = data;\n    this.props\n      .getCommonApi(\n        `custapptupcoming/?cust_id=${this.props.id}&page=${page}&limit=${limit}`\n      )\n      .then(res => {\n        console.log(res, \"customerappointmentupdatedupcominglist\");\n        let { data } = res;\n        let { upcomingAppointment, pageMeta } = this.state;\n        upcomingAppointment = [];\n        pageMeta = {};\n        this.setState({\n          upcomingAppointment,\n          pageMeta,\n        });\n        if (data && data.dataList) {\n          upcomingAppointment = data.dataList;\n          pageMeta = data.meta.pagination;\n        }\n        this.setState({\n          upcomingAppointment,\n          pageMeta,\n        });\n      });\n  };\n\n  handleClick = key => {\n    let currentIndex;\n    if (this.state.active == true) {\n      this.setState({\n        active: false,\n        currentIndex: \"-1\",\n      });\n    } else {\n      this.setState({\n        active: true,\n        currentIndex: key,\n      });\n    }\n  };\n\n  handlePagination = page => {\n    this.queryHandler(page);\n  };\n\n  render() {\n    let { headerDetails, upcomingAppointment, pageMeta, currentIndex } =\n      this.state;\n    return (\n      <>\n        <div className=\"\">\n          <div className=\"py-4\">\n            <div className=\"table\">\n              <TableWrapper\n                headerDetails={headerDetails}\n                queryHandler={this.handlePagination}\n                pageMeta={pageMeta}\n              >\n                {upcomingAppointment &&\n                  upcomingAppointment.length > 0 &&\n                  upcomingAppointment.map((item, index) => {\n                    let {\n                      id,\n                      appt_date,\n                      appt_fr_time,\n                      appt_to_time,\n                      emp_name,\n                      appt_status,\n                      itemsite_code,\n                      sec_status,\n                      appt_remark,\n                    } = item;\n                    return (\n                      <tr key={index}>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {index + 1}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {appt_date}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {appt_fr_time}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {appt_to_time}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {emp_name}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {appt_status}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {itemsite_code}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {sec_status}\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            {appt_remark}\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n              </TableWrapper>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  // filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      getCommonApi,\n      commonDeleteApi,\n    },\n    dispatch\n  );\n};\n\nexport const TreatmentHistory = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TreatmentHistoryClass);\n"]},"metadata":{},"sourceType":"module"}