{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDateTime,NormalMultiSelect,NormalTextarea}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{getJobtitle,getCommonApi,commonCreateApi,commonUpdateApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{NavLink}from\"react-router-dom\";import{Address}from\"./address\";import{Details}from\"./details\";import{createPO,updatePO,deletePO}from\"redux/actions/po\";import{getTokenDetails}from\"redux/actions/auth\";import{useLocation}from\"react-router-dom\";export var AddPOClass=/*#__PURE__*/function(_Component){_inherits(AddPOClass,_Component);var _super=_createSuper(AddPOClass);function AddPOClass(){var _this;_classCallCheck(this,AddPOClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{PONumber:\"\",projectTitle:\"\",PODate:new Date(),companyName:\"\",status:\"\",from:\"\",remarks:\"\",quoNumber:\"\"},fkProject:\"\",fkQuotation:\"\",statusOption:[],countryOption:[],stateOption:[],cityOption:[],disableEdit:false,is_loading:true,isMounted:true,siteGstList:[],formFieldsBillingStored:[],formFieldsShippingStored:[],storedItemListStored:[],itemListBeforeEdit:[],formFieldsDetailsStored:{},active:false,currentValue:0,navLinks:[{to:_this.props.location.pathname,label:\"Details\",id:\"Details\"},{to:_this.props.location.pathname,label:\"Address\",id:\"Address\"}],selectedMenu:\"Details\"};_this.componentWillMount=function(){if(_this.props.location.state){if(_this.props.location.state.quoId){_this.state.fkQuotation=_this.props.location.state.quoId;_this.setState({fkQuotation:_this.state.fkQuotation});console.log(\"this.props.location.state.quoId\",_this.props.location.state.quoId);console.log(\"this.state.fkQuotation\",_this.state.fkQuotation);}}_this.getStatus();_this.getCountry();_this.getState();_this.getCity();_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){if(_this.props.location.state){if(_this.props.location.state.projectFk){_this.state.fkProject=_this.props.location.state.projectFk;_this.setState({fkProject:_this.state.fkProject});console.log(\"this.props.location.state.projectFk\",_this.props.location.state.projectFk);console.log(\"this.state.fkProject\",_this.state.fkProject);}// this.state.fkQuotation = this.props.location.state.quoId\n// this.setState({fkQuotation : this.state.fkQuotation})\n// console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n// console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n}console.log(\"this.props\",_this.props);console.log(\"this.state\",_this.state);// console.log(\"useLocation()\",useLocation())\nif(_this.props.match.params.id){_this.getAutofillItemDetails();}};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var _this$state,active,currentValue;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,active=_this$state.active,currentValue=_this$state.currentValue;_context.next=3;return _this.setState({selectedMenu:key.id});case 3:_this.setState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}();_this.getSiteGst=function(){var siteGstList=_this.state.siteGstList;// statusOption = [];\nconsole.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"gstlist/?limit=100&searchsitecode=\".concat(_this.props.tokenDetail.site_code)).then(function(res){console.log(\"res.data getSiteGst\",res.data.dataList);siteGstList=res.data.dataList;_this.setState({siteGstList:siteGstList});});};_this.getStatus=function(){var statusOption=_this.state.statusOption;statusOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"dropdown\").then(function(res){console.log(\"res.data\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;statusOption.push({value:key.id,label:key.dropdown_item,code:key.dropdown_desc,active:key.active});}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(!_this.props.match.params.id){for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Void\"){statusOption.splice(i,1);}}}console.log(\"statusOption\",statusOption);_this.setState({statusOption:statusOption});if(_this.props.match.params.id){_this.autoFillForm();};if(_this.props.tokenDetail){_this.getSiteGst();}});};_this.getCountry=function(){var countryOption=_this.state.countryOption;countryOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"country\").then(function(res){console.log(\"res.data\",res);var _iterator2=_createForOfIteratorHelper(res.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;countryOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_isactive});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(\"countryOption\",countryOption);_this.setState({countryOption:countryOption});});};_this.getState=function(){var stateOption=_this.state.stateOption;stateOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"state\").then(function(res){console.log(\"res.data\",res);var _iterator3=_createForOfIteratorHelper(res.data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;stateOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_isactive});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}console.log(\"stateOption\",stateOption);_this.setState({stateOption:stateOption});});};_this.getCity=function(){var cityOption=_this.state.cityOption;cityOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"city\").then(function(res){console.log(\"res.data\",res);var _iterator4=_createForOfIteratorHelper(res.data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;cityOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_isactive});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}console.log(\"cityOption\",cityOption);_this.setState({cityOption:cityOption});if(_this.props.match.params.id){_this.getAutofillAddress();}if(_this.props.location.state){if(_this.props.location.state.quoId){_this.getAutofillByQuotationNo();console.log(\"this.props.location.state.quoId\",_this.props.location.state.quoId);}}});};_this.getAutofillByQuotationNo=function(){_this.props.getCommonApi(\"quotationlist/?searchid=\".concat(_this.props.location.state.quoId)).then(function(res){console.log(\"res in getAutofillByQuotationNo\",res);if(res.status==200){// this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number\n_this.state.formFields[\"projectTitle\"]=res.data.dataList[0].title;_this.state.formFields[\"PODate\"]=res.data.dataList[0].created_at;_this.state.formFields[\"companyName\"]=res.data.dataList[0].company;if(res.data.dataList[0].status){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"status\"]=_this.state.statusOption.find(function(option){return option.label===\"Open\";}).value;}_this.state.formFields[\"from\"]=res.data.dataList[0].contact_person;_this.state.formFields[\"remarks\"]=res.data.dataList[0].remarks;_this.state.formFields[\"quoNumber\"]=res.data.dataList[0].quotation_number;_this.updateState(_this.state.formFields);}});_this.props.getCommonApi(\"quotationitem/?searchqitemid=\".concat(_this.props.location.state.quoId)).then(function(res){console.log(\"res in getAutofillByQuotationNo\",res);// this.state.storedItemListStored = res.data.dataList\nif(res.status==200){var _iterator5=_createForOfIteratorHelper(res.data.dataList),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var item=_step5.value;_this.state.storedItemListStored.push({\"item_code\":item.quotation_itemcode,\"item_desc\":item.quotation_itemdesc,\"item_remarks\":item.quotation_itemremarks,\"item_price\":item.quotation_unitprice,\"item_quantity\":item.quotation_quantity,\"editing\":false});}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_this.setState(_this.state.storedItemListStored);}});// this.props\n// .getCommonApi(\n//   `quotationdetail/?searchqdetailid=${this.props.location.state.quoId}`\n// )\n// .then(res => {\n//   console.log(\"res in getAutofillByQuotationNo\", res)\n//   if(res.status == 200){       \n//     this.state.formFieldsDetailsStored.po_shipcost = res.data[0].q_shipcost\n//     this.state.formFieldsDetailsStored.po_discount = res.data[0].q_discount\n//     this.state.formFieldsDetailsStored.po_taxes = res.data[0].q_taxes\n//     this.state.formFieldsDetailsStored.po_total = res.data[0].q_total\n//     this.setState(this.state.formFieldsDetailsStored)\n//   }\n// })\n_this.props.getCommonApi(\"quotationaddr/?searchqaddrid=\".concat(_this.props.location.state.quoId)).then(function(res){console.log(\"res in getAutofillByQuotationNo\",res);if(res.status==200){_this.state.formFieldsBillingStored.to=res.data[0].billto;_this.state.formFieldsBillingStored.address1=res.data[0].bill_addr1;_this.state.formFieldsBillingStored.address2=res.data[0].bill_addr2;_this.state.formFieldsBillingStored.address3=res.data[0].bill_addr3;_this.state.formFieldsBillingStored.postalCode=res.data[0].bill_postalcode;if(res.data[0].bill_city){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.city=_this.state.cityOption.find(function(option){return option.label===res.data[0].bill_city;}).value;}if(res.data[0].bill_state){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.state=_this.state.stateOption.find(function(option){return option.label===res.data[0].bill_state;}).value;}if(res.data[0].bill_country){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.country=_this.state.countryOption.find(function(option){return option.label===res.data[0].bill_country;}).value;}_this.state.formFieldsShippingStored.to=res.data[0].shipto;_this.state.formFieldsShippingStored.address1=res.data[0].ship_addr1;_this.state.formFieldsShippingStored.address2=res.data[0].ship_addr2;_this.state.formFieldsShippingStored.address3=res.data[0].ship_addr3;_this.state.formFieldsShippingStored.postalCode=res.data[0].ship_postalcode;if(res.data[0].ship_city){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.city=_this.state.cityOption.find(function(option){return option.label===res.data[0].ship_city;}).value;}if(res.data[0].ship_state){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.state=_this.state.stateOption.find(function(option){return option.label===res.data[0].ship_state;}).value;}if(res.data[0].ship_country){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.country=_this.state.countryOption.find(function(option){return option.label===res.data[0].ship_country;}).value;}console.log(\"this.state.formFieldsBillingStored in getAutofillByQuotationNo\",_this.state.formFieldsBillingStored);console.log(\"this.state.formFieldsShippingStored in getAutofillByQuotationNo\",_this.state.formFieldsShippingStored);_this.setState(_this.state.formFieldsBillingStored);_this.setState(_this.state.formFieldsShippingStored);}});};_this.getAutofillItemDetails=function(){_this.props.getCommonApi(\"podetail/?searchpodetailid=\".concat(_this.props.match.params.id)).then(function(res){console.log(\"res in getAutofillItemDetails\",res);if(res.status==200){_this.state.formFieldsDetailsStored.po_shipcost=res.data[0].po_shipcost;_this.state.formFieldsDetailsStored.po_discount=res.data[0].po_discount;_this.state.formFieldsDetailsStored.po_taxes=res.data[0].po_taxes;_this.state.formFieldsDetailsStored.po_total=res.data[0].po_total;_this.setState(_this.state.formFieldsDetailsStored);}});_this.props.getCommonApi(\"poitem/?searchpoitemid=\".concat(_this.props.match.params.id)).then(function(res){console.log(\"res in getAutofillItemDetails\",res);// this.state.storedItemListStored = res.data.dataList\nif(res.status==200){var _iterator6=_createForOfIteratorHelper(res.data.dataList),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var item=_step6.value;_this.state.storedItemListStored.push({\"item_code\":item.po_itemcode,\"item_desc\":item.po_itemdesc,\"item_remarks\":item.po_itemremarks,\"item_price\":item.po_unitprice,\"item_quantity\":item.po_quantity,\"editing\":false});_this.state.itemListBeforeEdit.push({\"item_id\":item.id,\"item_code\":item.po_itemcode});}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}_this.setState(_this.state.storedItemListStored);_this.setState(_this.state.itemListBeforeEdit);console.log(\"this.state.itemListBeforeEdit\",_this.state.itemListBeforeEdit);}// this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\n// this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\n// this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\n// this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\n// this.setState(this.state.formFieldsDetailsStored)\n});};_this.getAutofillAddress=function(){_this.props.getCommonApi(\"poaddr/?searchpoaddrid=\".concat(_this.props.match.params.id)).then(function(res){console.log(\"res in autofillAddr\",res);if(res.status==200){_this.state.formFieldsBillingStored.to=res.data[0].billto;_this.state.formFieldsBillingStored.address1=res.data[0].bill_addr1;_this.state.formFieldsBillingStored.address2=res.data[0].bill_addr2;_this.state.formFieldsBillingStored.address3=res.data[0].bill_addr3;_this.state.formFieldsBillingStored.postalCode=res.data[0].bill_postalcode;if(res.data[0].bill_city){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.city=_this.state.cityOption.find(function(option){return option.label===res.data[0].bill_city;}).value;}if(res.data[0].bill_state){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.state=_this.state.stateOption.find(function(option){return option.label===res.data[0].bill_state;}).value;}if(res.data[0].bill_country){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsBillingStored.country=_this.state.countryOption.find(function(option){return option.label===res.data[0].bill_country;}).value;}_this.state.formFieldsShippingStored.to=res.data[0].shipto;_this.state.formFieldsShippingStored.address1=res.data[0].ship_addr1;_this.state.formFieldsShippingStored.address2=res.data[0].ship_addr2;_this.state.formFieldsShippingStored.address3=res.data[0].ship_addr3;_this.state.formFieldsShippingStored.postalCode=res.data[0].ship_postalcode;if(res.data[0].ship_city){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.city=_this.state.cityOption.find(function(option){return option.label===res.data[0].ship_city;}).value;}if(res.data[0].ship_state){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.state=_this.state.stateOption.find(function(option){return option.label===res.data[0].ship_state;}).value;}if(res.data[0].ship_country){//matching status name with the id to set prefill status in dropdown\n_this.state.formFieldsShippingStored.country=_this.state.countryOption.find(function(option){return option.label===res.data[0].ship_country;}).value;}console.log(\"this.state.formFieldsBillingStored in autofillAddr\",_this.state.formFieldsBillingStored);console.log(\"this.state.formFieldsShippingStored in autofillAddr\",_this.state.formFieldsShippingStored);_this.setState(_this.state.formFieldsBillingStored);_this.setState(_this.state.formFieldsShippingStored);}});};_this.storeAddressFields=function(formFieldsBilling,formFieldsShipping){_this.state.formFieldsBillingStored=formFieldsBilling;_this.state.formFieldsShippingStored=formFieldsShipping;// this.state.formFieldsShippingStored = formFieldsShipping\n// this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\nconsole.log(\"formFieldsBilling in addquo\",formFieldsBilling);console.log(\"formFieldsShipping in addquo\",formFieldsShipping);console.log(\"formFieldsBillingStored in addpo\",_this.state.formFieldsBillingStored);console.log(\"formFieldsShippingStored in addpo\",_this.state.formFieldsShippingStored);_this.setState(_this.state.formFieldsBillingStored);_this.setState(_this.state.formFieldsShippingStored);};_this.storeItemDetails=function(storedItemList,formFields){_this.state.storedItemListStored=storedItemList;_this.state.formFieldsDetailsStored=formFields;console.log(\"storedItemList in addquo\",storedItemList);console.log(\"formFields in addquo\",formFields);console.log(\"storedItemListStored in addpo\",_this.state.storedItemListStored);console.log(\"formFieldsDetailsStored in addpo\",_this.state.formFieldsDetailsStored);_this.setState(_this.state.storedItemListStored);_this.setState(_this.state.formFieldsDetailsStored);};_this.autoFillForm=function(){var _this$state2=_this.state,disableEdit=_this$state2.disableEdit,statusOption=_this$state2.statusOption;_this.props.getCommonApi(\"polist/?searchid=\".concat(_this.props.match.params.id)).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){var i;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"po dataList\",res.data.dataList);// console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n// custName = res.data.dataList[0].customer_name\n// this.state.projectList = res.data.dataList\n_this.state.formFields[\"PONumber\"]=res.data.dataList[0].po_number;_this.state.formFields[\"projectTitle\"]=res.data.dataList[0].title;_this.state.formFields[\"PODate\"]=res.data.dataList[0].created_at;_this.state.formFields[\"companyName\"]=res.data.dataList[0].company;console.log(\"statusOption in prefill\",_this.state.statusOption);console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status);// if status empty prevent err\nif(res.data.dataList[0].status){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"status\"]=_this.state.statusOption.find(function(option){return option.label===res.data.dataList[0].status;}).value;console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status);if(res.data.dataList[0].status==\"Posted\"){disableEdit=true;for(i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Posted\"){statusOption=statusOption.filter(function(e){return e.label!=='Open';});}}console.log(\"statusOption when status is posted\",statusOption);_this.setState({disableEdit:disableEdit,statusOption:statusOption});console.log(\"this.state.disableEdit\",disableEdit);}}_this.state.formFields[\"from\"]=res.data.dataList[0].contact_person;_this.state.formFields[\"remarks\"]=res.data.dataList[0].remarks;_this.state.formFields[\"quoNumber\"]=res.data.dataList[0].fk_quotation_number;_this.updateState(_this.state.formFields);console.log(\"this.state.formFields\",_this.state.formFields);case 13:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}());};_this.handleItemDetailsSubmit=function(resPO){var _this$state3=_this.state,storedItemListStored=_this$state3.storedItemListStored,formFieldsDetailsStored=_this$state3.formFieldsDetailsStored,itemListBeforeEdit=_this$state3.itemListBeforeEdit;var formDataDetails=new FormData();formDataDetails.append(\"po_shipcost\",formFieldsDetailsStored.po_shipcost?formFieldsDetailsStored.po_shipcost:0);formDataDetails.append(\"po_discount\",formFieldsDetailsStored.po_discount?formFieldsDetailsStored.po_discount:0);formDataDetails.append(\"po_taxes\",formFieldsDetailsStored.po_taxes?formFieldsDetailsStored.po_taxes:0);formDataDetails.append(\"po_total\",formFieldsDetailsStored.po_total?formFieldsDetailsStored.po_total:0);_this.props.getCommonApi(\"podetail/?searchpodetailid=\".concat(resPO.data.id)).then(function(resGetDetails){if(resGetDetails.status==200){console.log(\"resGetDetails\",resGetDetails);_this.props.commonUpdateApi(\"podetail/\".concat(resGetDetails.data[0].id,\"/\"),formDataDetails).then(function(resUpdateDetails){console.log(\"resUpdateDetails\",resUpdateDetails);_this.props.history.push(\"/admin/po\");});}else if(resGetDetails.status==204){formDataDetails.append(\"fk_po\",resPO.data.id);_this.props.commonCreateApi(\"podetail/\",formDataDetails).then(function(resCreateDetails){console.log(\"resCreateDetails\",resCreateDetails);_this.props.history.push(\"/admin/po\");});}});var _iterator7=_createForOfIteratorHelper(itemListBeforeEdit),_step7;try{var _loop=function _loop(){var item=_step7.value;var found=storedItemListStored.some(function(el){return el.item_code===item.item_code;});if(!found){_this.props.commonDeleteApi(\"poitem/\".concat(item.item_id,\"/\")).then(function(res){});}};for(_iterator7.s();!(_step7=_iterator7.n()).done;){_loop();}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}var _iterator8=_createForOfIteratorHelper(storedItemListStored),_step8;try{var _loop2=function _loop2(){var item=_step8.value;var formDataItem=new FormData();formDataItem.append(\"po_itemcode\",item.item_code);formDataItem.append(\"po_itemdesc\",item.item_desc);formDataItem.append(\"po_itemremarks\",item.item_remarks);formDataItem.append(\"po_unitprice\",item.item_price);formDataItem.append(\"po_quantity\",item.item_quantity);_this.props.getCommonApi(\"poitem/?searchpoitemid=\".concat(resPO.data.id,\"&searchpoitemcode=\").concat(item.item_code)).then(function(resGetItem){if(resGetItem.status==200){console.log(\"resGetItem\",resGetItem);_this.props.commonUpdateApi(\"poitem/\".concat(resGetItem.data.dataList[0].id,\"/\"),formDataItem).then(function(resUpdateItem){console.log(\"resUpdateItem\",resUpdateItem);});}else if(resGetItem.status==204){formDataItem.append(\"fk_po\",resPO.data.id);_this.props.commonCreateApi(\"poitem/\",formDataItem).then(function(resCreateItem){console.log(\"resCreateItem\",resCreateItem);});}});};for(_iterator8.s();!(_step8=_iterator8.n()).done;){_loop2();}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}};_this.handleAddressSubmit=function(resPO){var _this$state4=_this.state,cityOption=_this$state4.cityOption,countryOption=_this$state4.countryOption,stateOption=_this$state4.stateOption;//submit address\nvar formDataAddress=new FormData();console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\",_this.state.formFieldsBillingStored);console.log(\"this.state.formFieldsBillingStored.to\",_this.state.formFieldsBillingStored.to);console.log(\"this.state.formFieldsBillingStored.address1\",_this.state.formFieldsBillingStored.address1);formDataAddress.append(\"billto\",_this.state.formFieldsBillingStored.to?_this.state.formFieldsBillingStored.to:\"\");formDataAddress.append(\"bill_addr1\",_this.state.formFieldsBillingStored.address1?_this.state.formFieldsBillingStored.address1:\"\");formDataAddress.append(\"bill_addr2\",_this.state.formFieldsBillingStored.address2?_this.state.formFieldsBillingStored.address2:\"\");formDataAddress.append(\"bill_addr3\",_this.state.formFieldsBillingStored.address3?_this.state.formFieldsBillingStored.address3:\"\");formDataAddress.append(\"bill_postalcode\",_this.state.formFieldsBillingStored.postalCode?_this.state.formFieldsBillingStored.postalCode:\"\");// console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\nformDataAddress.append(\"bill_city\",_this.state.formFieldsBillingStored.city?cityOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.city);}).label:\"\");formDataAddress.append(\"bill_state\",_this.state.formFieldsBillingStored.state?stateOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.state);}).label:\"\");formDataAddress.append(\"bill_country\",_this.state.formFieldsBillingStored.country?countryOption.find(function(option){return option.value===parseInt(_this.state.formFieldsBillingStored.country);}).label:\"\");formDataAddress.append(\"shipto\",_this.state.formFieldsShippingStored.to?_this.state.formFieldsShippingStored.to:\"\");formDataAddress.append(\"ship_addr1\",_this.state.formFieldsShippingStored.address1?_this.state.formFieldsShippingStored.address1:\"\");formDataAddress.append(\"ship_addr2\",_this.state.formFieldsShippingStored.address2?_this.state.formFieldsShippingStored.address2:\"\");formDataAddress.append(\"ship_addr3\",_this.state.formFieldsShippingStored.address3?_this.state.formFieldsShippingStored.address3:\"\");formDataAddress.append(\"ship_postalcode\",_this.state.formFieldsShippingStored.postalCode?_this.state.formFieldsShippingStored.postalCode:\"\");formDataAddress.append(\"ship_city\",_this.state.formFieldsShippingStored.city?cityOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.city);}).label:\"\");formDataAddress.append(\"ship_state\",_this.state.formFieldsShippingStored.state?stateOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.state);}).label:\"\");formDataAddress.append(\"ship_country\",_this.state.formFieldsShippingStored.country?countryOption.find(function(option){return option.value===parseInt(_this.state.formFieldsShippingStored.country);}).label:\"\");_this.props.getCommonApi(\"poaddr/?searchpoaddrid=\".concat(resPO.data.id)).then(function(resGetAddr){if(resGetAddr.status==200){console.log(\"resGetAddr\",resGetAddr);_this.props.commonUpdateApi(\"poaddr/\".concat(resGetAddr.data[0].id,\"/\"),formDataAddress).then(function(resUpdateAddr){console.log(\"resCreateAddr\",resUpdateAddr);});}else if(resGetAddr.status==204){formDataAddress.append(\"fk_po\",resPO.data.id);_this.props.commonCreateApi(\"poaddr/\",formDataAddress).then(function(resCreateAddr){console.log(\"resCreateAddr\",resCreateAddr);});}});};_this.handleSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(status){var _this$state5,formFields,statusOption,statusValue,_iterator9,_step9,key,formData,resPO;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;if(!_this.validator.allValid()){_context4.next=47;break;}_this$state5=_this.state,formFields=_this$state5.formFields,statusOption=_this$state5.statusOption;statusValue=\"\";console.log('formFields.status',formFields.status);_iterator9=_createForOfIteratorHelper(statusOption);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){key=_step9.value;// console.log(key.value)\nif(key.value==formFields.status){statusValue=key.label;}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}console.log(\"statusValue\",statusValue);formData=new FormData();// formData.append(\"po_number\", formFields.PONumber);\n//check save or post\nif(status){formData.append(\"status\",\"Posted\");}else{formData.append(\"status\",statusValue);}formData.append(\"title\",formFields.projectTitle);formData.append(\"company\",formFields.companyName);formData.append(\"contact_person\",formFields.from);formData.append(\"remarks\",formFields.remarks);console.log(\"formFields.PODate\",formFields.PODate);formData.append(\"created_at\",dateFormat(formFields.PODate)+\" 00:00:00\");// formData.append(\"created_at\", dateFormat(formFields.PODate) + \" \"+formFields.PODate.getHours() + \":\" + formFields.PODate.getMinutes() + \":\" + formFields.PODate.getSeconds());\nformData.append(\"fk_quotation_number\",formFields.quoNumber);formData.append(\"username\",_this.props.tokenDetail.username);console.log(\"this.state.fkProject in submit\",_this.state.fkProject);if(_this.state.fkProject){formData.append(\"fk_project\",_this.state.fkProject);}console.log(\"formData\",formData);if(!_this.props.match.params.id){_context4.next=36;break;}console.log(\"in if loop\");console.log(\"this.props.match.params.id\",_this.props.match.params.id);_context4.next=26;return _this.props.updatePO(\"\".concat(_this.props.match.params.id,\"/\"),formData);case 26:resPO=_context4.sent;console.log(resPO);_this.handleAddressSubmit(resPO);_this.handleItemDetailsSubmit(resPO);if(!(statusValue==\"Void\")){_context4.next=34;break;}console.log(\"in void loop\");_context4.next=34;return _this.props.deletePO(\"\".concat(_this.props.match.params.id,\"/\"));case 34:_context4.next=45;break;case 36:console.log(\"this.props before createPO\",_this.props);// if (this.props.location.state){\n//   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n//   formData.append(\"fk_project\", this.props.location.state.projectFk);\n// }\nconsole.log(\"this.state.fkProject before createPO\",_this.state.fkProject);// formData.append(\"fk_project\", this.state.fkProject);\n_context4.next=40;return _this.props.createPO(formData);case 40:resPO=_context4.sent;console.log(\"resPO in createPO\",resPO);console.log(\"resPO.data.id\",resPO.data.id);_this.handleAddressSubmit(resPO);_this.handleItemDetailsSubmit(resPO);// this.props.history.push(\n//   `/admin/po`\n// )\ncase 45:_context4.next=48;break;case 47:_this.validator.showMessages();case 48:_context4.next=53;break;case 50:_context4.prev=50;_context4.t0=_context4[\"catch\"](0);_this.updateState({is_loading:false});case 53:case\"end\":return _context4.stop();}}},_callee4,null,[[0,50]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();return _this;}_createClass(AddPOClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state6=this.state,formFields=_this$state6.formFields,statusOption=_this$state6.statusOption,currentValue=_this$state6.currentValue,navLinks=_this$state6.navLinks,disableEdit=_this$state6.disableEdit,fkQuotation=_this$state6.fkQuotation;var PONumber=formFields.PONumber,projectTitle=formFields.projectTitle,PODate=formFields.PODate,companyName=formFields.companyName,status=formFields.status,from=formFields.from,remarks=formFields.remarks,quoNumber=formFields.quoNumber;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5 container create-PO\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\"},t(\"PO\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" PO\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"PO-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"PO No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:true,placeholder:\"Auto generated\",value:PONumber,name:\"PONumber\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Project\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:projectTitle,name:\"projectTitle\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Project\"),projectTitle,t(\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"PO Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:PODate?new Date(PODate):new Date(),name:\"PODate\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"// maxDate={new Date(toDate)}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"PO Date\"),PODate,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Company Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:companyName,name:\"companyName\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Company Name\"),companyName,t(\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:statusOption,value:status,name:\"status\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Status\"),status,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"From\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:from,name:\"from\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"From\"),from,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-desc\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter here\",disabled:disableEdit,value:remarks,name:\"remarks\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Quotation Number\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:quoNumber,name:\"quoNumber\",onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 PO-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-menus\"},/*#__PURE__*/React.createElement(\"ul\",null,navLinks.map(function(_ref6,index){var to=_ref6.to,label=_ref6.label,id=_ref6.id;return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(NavLink,{to:to,className:\"nav-link\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-menu \".concat(currentValue===index?\"active\":\"\"),onClick:function onClick(){return _this2.handleClick({key:index,id:id});}},/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar-menu-desc\"},t(label)))));}))),this.state.selectedMenu===\"Details\"&&/*#__PURE__*/React.createElement(Details,{disableEdit:disableEdit,poId:this.props.match.params.id,quoId:fkQuotation,siteGstList:this.state.siteGstList,validator:this.validator,storeItemDetails:this.storeItemDetails.bind(this),storedItemListStored:this.state.storedItemListStored,formFieldsDetailsStored:this.state.formFieldsDetailsStored,id:this.state.selectedMenu// search={formFields.search}\n,api:\"details\"}),this.state.selectedMenu===\"Address\"&&/*#__PURE__*/React.createElement(Address,{disableEdit:disableEdit,storeAddressFields:this.storeAddressFields.bind(this),formFieldsBillingStored:this.state.formFieldsBillingStored,formFieldsShippingStored:this.state.formFieldsShippingStored,id:this.state.selectedMenu// search={formFields.search}\n,api:\"address\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mt-3\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:function onClick(){if(window.confirm('Are you sure you want to leave this page and discard changes?'))_this2.props.history.push(\"/admin/po\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"confirm\",label:\"Save\",onClick:function onClick(){return _this2.handleSubmit();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Post\",outline:false,onClick:function onClick(){return _this2.handleSubmit(status);}}))))));}}]);return AddPOClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonUpdateApi:commonUpdateApi,updatePO:updatePO,createPO:createPO,deletePO:deletePO,commonDeleteApi:commonDeleteApi,getTokenDetails:getTokenDetails},dispatch);};export var AddPO=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddPOClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/PO/AddPO/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","Address","Details","createPO","updatePO","deletePO","getTokenDetails","useLocation","AddPOClass","state","formFields","PONumber","projectTitle","PODate","Date","companyName","status","from","remarks","quoNumber","fkProject","fkQuotation","statusOption","countryOption","stateOption","cityOption","disableEdit","is_loading","isMounted","siteGstList","formFieldsBillingStored","formFieldsShippingStored","storedItemListStored","itemListBeforeEdit","formFieldsDetailsStored","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","componentWillMount","quoId","setState","console","log","getStatus","getCountry","getState","getCity","validator","validators","element","message","autoForceUpdate","componentDidMount","projectFk","match","params","getAutofillItemDetails","updateState","data","handleClick","key","selected","handleChange","target","value","name","Object","assign","handleDatePick","getSiteGst","tokenDetail","site_code","then","res","dataList","push","dropdown_item","code","dropdown_desc","i","length","splice","autoFillForm","itm_id","itm_desc","itm_code","itm_isactive","getAutofillAddress","getAutofillByQuotationNo","title","created_at","company","find","option","contact_person","quotation_number","item","quotation_itemcode","quotation_itemdesc","quotation_itemremarks","quotation_unitprice","quotation_quantity","billto","address1","bill_addr1","address2","bill_addr2","address3","bill_addr3","postalCode","bill_postalcode","bill_city","city","bill_state","bill_country","country","shipto","ship_addr1","ship_addr2","ship_addr3","ship_postalcode","ship_city","ship_state","ship_country","po_shipcost","po_discount","po_taxes","po_total","po_itemcode","po_itemdesc","po_itemremarks","po_unitprice","po_quantity","storeAddressFields","formFieldsBilling","formFieldsShipping","storeItemDetails","storedItemList","po_number","filter","e","fk_quotation_number","handleItemDetailsSubmit","resPO","formDataDetails","FormData","append","resGetDetails","resUpdateDetails","history","resCreateDetails","found","some","el","item_code","item_id","formDataItem","item_desc","item_remarks","item_price","item_quantity","resGetItem","resUpdateItem","resCreateItem","handleAddressSubmit","formDataAddress","parseInt","resGetAddr","resUpdateAddr","resCreateAddr","handleSubmit","allValid","statusValue","formData","username","showMessages","t","map","index","bind","window","confirm","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddPO"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport { getJobtitle, getCommonApi, commonCreateApi, commonUpdateApi,commonDeleteApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Address } from \"./address\"\r\nimport { Details } from \"./details\"\r\nimport {\r\n  createPO,\r\n  updatePO,\r\n  deletePO\r\n} from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport class AddPOClass extends Component {\r\n\r\n  state = {\r\n    formFields: {\r\n      PONumber:\"\",\r\n      projectTitle: \"\",\r\n      PODate: new Date(),\r\n      companyName:\"\",\r\n      status:\"\",\r\n      from: \"\",    \r\n      remarks:\"\",\r\n      quoNumber: \"\",\r\n    },\r\n    fkProject: \"\",\r\n    fkQuotation:\"\",\r\n    statusOption: [],\r\n    countryOption:[],\r\n    stateOption:[],\r\n    cityOption:[],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n    siteGstList:[],\r\n\r\n    formFieldsBillingStored: [],\r\n    formFieldsShippingStored: [],\r\n    storedItemListStored: [],\r\n    itemListBeforeEdit: [],\r\n    formFieldsDetailsStored: {},\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n      { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    ],\r\n    selectedMenu: \"Details\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    if (this.props.location.state){\r\n      if(this.props.location.state.quoId){\r\n        this.state.fkQuotation = this.props.location.state.quoId\r\n        this.setState({fkQuotation : this.state.fkQuotation})\r\n        console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n        console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n      }\r\n      \r\n    }\r\n    this.getStatus();\r\n    this.getCountry();\r\n    this.getState();\r\n    this.getCity();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: (message) => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n\r\n    \r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.location.state){\r\n      if(this.props.location.state.projectFk){\r\n        this.state.fkProject = this.props.location.state.projectFk\r\n        this.setState({fkProject : this.state.fkProject})\r\n        console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n        console.log(\"this.state.fkProject\",this.state.fkProject)\r\n      }\r\n\r\n      // this.state.fkQuotation = this.props.location.state.quoId\r\n      // this.setState({fkQuotation : this.state.fkQuotation})\r\n\r\n      \r\n      // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n      // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    }\r\n\r\n    console.log(\"this.props\",this.props)\r\n    \r\n    console.log(\"this.state\",this.state)\r\n    // console.log(\"useLocation()\",useLocation())\r\n    \r\n    if(this.props.match.params.id) {\r\n      this.getAutofillItemDetails()\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n  \r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getSiteGst = () => {\r\n    let { siteGstList } = this.state;\r\n    // statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`)\r\n      .then(res => {\r\n        console.log(\"res.data getSiteGst\", res.data.dataList);\r\n        siteGstList = res.data.dataList\r\n        this.setState({siteGstList})\r\n      });\r\n  }\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`dropdown`)\r\n      .then(res => {\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data) {\r\n          statusOption.push({\r\n            value: key.id,\r\n            label: key.dropdown_item,\r\n            code: key.dropdown_desc,\r\n            active: key.active,\r\n          });\r\n        }\r\n        if(!this.props.match.params.id){\r\n          for (var i = 0; i < statusOption.length; i++){\r\n            if(statusOption[i].label == \"Void\") {\r\n              statusOption.splice(i,1)\r\n            }\r\n          }\r\n        }\r\n        console.log(\"statusOption\", statusOption)\r\n        this.setState({ statusOption });\r\n        if (this.props.match.params.id) {\r\n          this.autoFillForm()\r\n        };\r\n        if(this.props.tokenDetail){\r\n\r\n            this.getSiteGst();\r\n\r\n        }\r\n      });\r\n  };\r\n\r\n  getCountry = () => {\r\n    let { countryOption } = this.state;\r\n    countryOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`country`)\r\n      .then(res => {\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data) {\r\n          countryOption.push({\r\n            value: key.itm_id,\r\n            label: key.itm_desc,\r\n            code: key.itm_code,\r\n            active: key.itm_isactive,\r\n          });\r\n        }\r\n        console.log(\"countryOption\", countryOption)\r\n        this.setState({ countryOption });\r\n      });\r\n  };\r\n\r\n  getState = () => {\r\n    let { stateOption } = this.state;\r\n    stateOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`state`)\r\n      .then(res => {\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data) {\r\n          stateOption.push({\r\n            value: key.itm_id,\r\n            label: key.itm_desc,\r\n            code: key.itm_code,\r\n            active: key.itm_isactive,\r\n          });\r\n        }\r\n        console.log(\"stateOption\", stateOption)\r\n        this.setState({ stateOption });\r\n      });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`city`)\r\n      .then(res => {\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data) {\r\n          cityOption.push({\r\n            value: key.itm_id,\r\n            label: key.itm_desc,\r\n            code: key.itm_code,\r\n            active: key.itm_isactive,\r\n          });\r\n        }\r\n        console.log(\"cityOption\", cityOption)\r\n        this.setState({ cityOption });\r\n        if(this.props.match.params.id){\r\n          this.getAutofillAddress()\r\n          \r\n        }\r\n        if(this.props.location.state){\r\n          if(this.props.location.state.quoId){\r\n            this.getAutofillByQuotationNo()\r\n            console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  getAutofillByQuotationNo = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationlist/?searchid=${this.props.location.state.quoId}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillByQuotationNo\", res)\r\n\r\n        if(res.status == 200){       \r\n          // this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title\r\n        this.state.formFields[\"PODate\"] = res.data.dataList[0].created_at\r\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company\r\n        if (res.data.dataList[0].status) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === \"Open\").value\r\n        }\r\n        this.state.formFields[\"from\"] = res.data.dataList[0].contact_person\r\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks\r\n        this.state.formFields[\"quoNumber\"] = res.data.dataList[0].quotation_number\r\n        \r\n        this.updateState( this.state.formFields )\r\n        }\r\n      })\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `quotationitem/?searchqitemid=${this.props.location.state.quoId}`\r\n        )\r\n        .then(res => {\r\n          console.log(\"res in getAutofillByQuotationNo\", res)\r\n          // this.state.storedItemListStored = res.data.dataList\r\n          if(res.status == 200){ \r\n            for(let item of res.data.dataList){\r\n              this.state.storedItemListStored.push({\"item_code\":item.quotation_itemcode, \"item_desc\":item.quotation_itemdesc, \"item_remarks\":item.quotation_itemremarks, \"item_price\":item.quotation_unitprice, \"item_quantity\":item.quotation_quantity, \"editing\":false})\r\n\r\n            }\r\n            this.setState(this.state.storedItemListStored)\r\n          }\r\n      })\r\n\r\n      // this.props\r\n      // .getCommonApi(\r\n      //   `quotationdetail/?searchqdetailid=${this.props.location.state.quoId}`\r\n      // )\r\n      // .then(res => {\r\n      //   console.log(\"res in getAutofillByQuotationNo\", res)\r\n\r\n      //   if(res.status == 200){       \r\n      //     this.state.formFieldsDetailsStored.po_shipcost = res.data[0].q_shipcost\r\n      //     this.state.formFieldsDetailsStored.po_discount = res.data[0].q_discount\r\n      //     this.state.formFieldsDetailsStored.po_taxes = res.data[0].q_taxes\r\n      //     this.state.formFieldsDetailsStored.po_total = res.data[0].q_total\r\n      //     this.setState(this.state.formFieldsDetailsStored)\r\n      //   }\r\n      // })\r\n\r\n\r\n      this.props\r\n      .getCommonApi(\r\n        `quotationaddr/?searchqaddrid=${this.props.location.state.quoId}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillByQuotationNo\" ,res)\r\n        if(res.status == 200){ \r\n          this.state.formFieldsBillingStored.to = res.data[0].billto\r\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1\r\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2\r\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3\r\n          this.state.formFieldsBillingStored.postalCode = res.data[0].bill_postalcode\r\n          if (res.data[0].bill_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data[0].bill_city).value\r\n          }\r\n          if (res.data[0].bill_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data[0].bill_state).value\r\n          }\r\n          if (res.data[0].bill_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data[0].bill_country).value\r\n          }\r\n\r\n          this.state.formFieldsShippingStored.to = res.data[0].shipto\r\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1\r\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2\r\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3\r\n          this.state.formFieldsShippingStored.postalCode = res.data[0].ship_postalcode\r\n          if (res.data[0].ship_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data[0].ship_city).value\r\n          }\r\n          if (res.data[0].ship_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data[0].ship_state).value\r\n          }\r\n          if (res.data[0].ship_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data[0].ship_country).value\r\n          }\r\n\r\n\r\n          console.log(\"this.state.formFieldsBillingStored in getAutofillByQuotationNo\",this.state.formFieldsBillingStored)\r\n          console.log(\"this.state.formFieldsShippingStored in getAutofillByQuotationNo\",this.state.formFieldsShippingStored)\r\n          this.setState(this.state.formFieldsBillingStored)\r\n          this.setState(this.state.formFieldsShippingStored)\r\n        }\r\n      })\r\n  }\r\n\r\n  getAutofillItemDetails = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `podetail/?searchpodetailid=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res)\r\n\r\n        if(res.status == 200){       \r\n          this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\r\n          this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\r\n          this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\r\n          this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\r\n          this.setState(this.state.formFieldsDetailsStored)\r\n        }\r\n      })\r\n    \r\n    this.props\r\n    .getCommonApi(\r\n      `poitem/?searchpoitemid=${this.props.match.params.id}`\r\n    )\r\n    .then(res => {\r\n      console.log(\"res in getAutofillItemDetails\", res)\r\n      // this.state.storedItemListStored = res.data.dataList\r\n      if(res.status == 200){ \r\n        for(let item of res.data.dataList){\r\n          this.state.storedItemListStored.push({\"item_code\":item.po_itemcode, \"item_desc\":item.po_itemdesc, \"item_remarks\":item.po_itemremarks, \"item_price\":item.po_unitprice, \"item_quantity\":item.po_quantity, \"editing\":false})\r\n          this.state.itemListBeforeEdit.push({\"item_id\":item.id,\"item_code\":item.po_itemcode})\r\n        }\r\n        this.setState(this.state.storedItemListStored)\r\n        this.setState(this.state.itemListBeforeEdit)\r\n        console.log(\"this.state.itemListBeforeEdit\",this.state.itemListBeforeEdit)\r\n      }\r\n      // this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\r\n      // this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\r\n      // this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\r\n      // this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\r\n      // this.setState(this.state.formFieldsDetailsStored)\r\n    })\r\n    \r\n  }\r\n\r\n  getAutofillAddress = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `poaddr/?searchpoaddrid=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in autofillAddr\" ,res)\r\n        if(res.status == 200){ \r\n          this.state.formFieldsBillingStored.to = res.data[0].billto\r\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1\r\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2\r\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3\r\n          this.state.formFieldsBillingStored.postalCode = res.data[0].bill_postalcode\r\n          if (res.data[0].bill_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data[0].bill_city).value\r\n          }\r\n          if (res.data[0].bill_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data[0].bill_state).value\r\n          }\r\n          if (res.data[0].bill_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data[0].bill_country).value\r\n          }\r\n\r\n          this.state.formFieldsShippingStored.to = res.data[0].shipto\r\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1\r\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2\r\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3\r\n          this.state.formFieldsShippingStored.postalCode = res.data[0].ship_postalcode\r\n          if (res.data[0].ship_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data[0].ship_city).value\r\n          }\r\n          if (res.data[0].ship_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data[0].ship_state).value\r\n          }\r\n          if (res.data[0].ship_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data[0].ship_country).value\r\n          }\r\n\r\n\r\n          console.log(\"this.state.formFieldsBillingStored in autofillAddr\",this.state.formFieldsBillingStored)\r\n          console.log(\"this.state.formFieldsShippingStored in autofillAddr\",this.state.formFieldsShippingStored)\r\n          this.setState(this.state.formFieldsBillingStored)\r\n          this.setState(this.state.formFieldsShippingStored)\r\n        }\r\n      })\r\n  }\r\n\r\n  storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\r\n    this.state.formFieldsBillingStored = formFieldsBilling\r\n    this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\r\n    console.log(\"formFieldsBilling in addquo\", formFieldsBilling)\r\n    console.log(\"formFieldsShipping in addquo\", formFieldsShipping)\r\n    console.log(\"formFieldsBillingStored in addpo\", this.state.formFieldsBillingStored)\r\n    console.log(\"formFieldsShippingStored in addpo\", this.state.formFieldsShippingStored)\r\n    this.setState(this.state.formFieldsBillingStored)\r\n    this.setState(this.state.formFieldsShippingStored)\r\n\r\n  };\r\n\r\n  storeItemDetails = (storedItemList, formFields) => {\r\n    this.state.storedItemListStored = storedItemList\r\n    this.state.formFieldsDetailsStored = formFields\r\n\r\n    console.log(\"storedItemList in addquo\", storedItemList)\r\n    console.log(\"formFields in addquo\", formFields)\r\n    console.log(\"storedItemListStored in addpo\", this.state.storedItemListStored)\r\n    console.log(\"formFieldsDetailsStored in addpo\", this.state.formFieldsDetailsStored)\r\n    this.setState(this.state.storedItemListStored)\r\n    this.setState(this.state.formFieldsDetailsStored)\r\n  }\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption } = this.state;\r\n    \r\n    this.props\r\n      .getCommonApi(\r\n        `polist/?searchid=${this.props.match.params.id}`\r\n      )\r\n      .then(async res => {\r\n        console.log(\"po dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title\r\n        this.state.formFields[\"PODate\"] = res.data.dataList[0].created_at\r\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company\r\n\r\n        console.log(\"statusOption in prefill\",this.state.statusOption)\r\n        console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status)\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].status) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value\r\n          console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status)\r\n          if(res.data.dataList[0].status == \"Posted\"){\r\n            disableEdit = true\r\n\r\n            for (var i = 0; i < statusOption.length; i++){\r\n              if(statusOption[i].label == \"Posted\") {\r\n                statusOption = statusOption.filter(e => e.label !== 'Open')\r\n              }\r\n            }\r\n            console.log(\"statusOption when status is posted\",statusOption)\r\n\r\n            this.setState({disableEdit, statusOption})\r\n            console.log(\"this.state.disableEdit\",disableEdit)\r\n          }\r\n        }\r\n        this.state.formFields[\"from\"] = res.data.dataList[0].contact_person\r\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks\r\n        this.state.formFields[\"quoNumber\"] = res.data.dataList[0].fk_quotation_number\r\n        \r\n        this.updateState( this.state.formFields )\r\n        console.log(\"this.state.formFields\", this.state.formFields)\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = (resPO) => {\r\n    let {storedItemListStored, formFieldsDetailsStored, itemListBeforeEdit} = this.state\r\n    const formDataDetails = new FormData();\r\n\r\n    formDataDetails.append(\"po_shipcost\",formFieldsDetailsStored.po_shipcost ? formFieldsDetailsStored.po_shipcost : 0)\r\n    formDataDetails.append(\"po_discount\",formFieldsDetailsStored.po_discount ? formFieldsDetailsStored.po_discount : 0)\r\n    formDataDetails.append(\"po_taxes\",formFieldsDetailsStored.po_taxes ? formFieldsDetailsStored.po_taxes : 0)\r\n    formDataDetails.append(\"po_total\",formFieldsDetailsStored.po_total ? formFieldsDetailsStored.po_total : 0)\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `podetail/?searchpodetailid=${resPO.data.id}`\r\n      )\r\n      .then(resGetDetails => {\r\n        if (resGetDetails.status == 200){\r\n          console.log(\"resGetDetails\",resGetDetails)\r\n          this.props\r\n            .commonUpdateApi(\r\n              `podetail/${resGetDetails.data[0].id}/`,\r\n              formDataDetails\r\n            )\r\n            .then(resUpdateDetails => {\r\n              console.log(\"resUpdateDetails\",resUpdateDetails)\r\n              this.props.history.push(\r\n                `/admin/po`\r\n              )\r\n            })\r\n        }\r\n        else if(resGetDetails.status == 204){\r\n          formDataDetails.append(\"fk_po\", resPO.data.id)\r\n          this.props\r\n            .commonCreateApi(\r\n              `podetail/`,\r\n              formDataDetails\r\n            )\r\n            .then(resCreateDetails => {\r\n              console.log(\"resCreateDetails\",resCreateDetails)\r\n              this.props.history.push(\r\n                `/admin/po`\r\n              )\r\n            })\r\n        }\r\n\r\n      });\r\n\r\n      for(let item of itemListBeforeEdit){\r\n        let found = storedItemListStored.some(el => el.item_code === item.item_code);\r\n        if (!found){\r\n          this.props.commonDeleteApi(`poitem/${item.item_id}/`).then(res => {});\r\n        }\r\n      }\r\n\r\n    for (let item of storedItemListStored){\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"po_itemcode\",item.item_code)\r\n      formDataItem.append(\"po_itemdesc\",item.item_desc)\r\n      formDataItem.append(\"po_itemremarks\",item.item_remarks)\r\n      formDataItem.append(\"po_unitprice\",item.item_price)\r\n      formDataItem.append(\"po_quantity\",item.item_quantity)\r\n\r\n      this.props\r\n      .getCommonApi(\r\n        `poitem/?searchpoitemid=${resPO.data.id}&searchpoitemcode=${item.item_code}`\r\n      )\r\n      .then(resGetItem => {\r\n        if (resGetItem.status == 200){\r\n          console.log(\"resGetItem\",resGetItem)\r\n          this.props\r\n            .commonUpdateApi(\r\n              `poitem/${resGetItem.data.dataList[0].id}/`,\r\n              formDataItem\r\n            )\r\n            .then(resUpdateItem => {\r\n              console.log(\"resUpdateItem\",resUpdateItem)\r\n            })\r\n        }\r\n        else if(resGetItem.status == 204){\r\n          formDataItem.append(\"fk_po\", resPO.data.id)\r\n          this.props\r\n            .commonCreateApi(\r\n              `poitem/`,\r\n              formDataItem\r\n            )\r\n            .then(resCreateItem => {\r\n              console.log(\"resCreateItem\",resCreateItem)\r\n            })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleAddressSubmit = (resPO) => {\r\n    let { cityOption, countryOption, stateOption } = this.state;\r\n    //submit address\r\n    const formDataAddress = new FormData();\r\n    console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\",this.state.formFieldsBillingStored)\r\n    console.log(\"this.state.formFieldsBillingStored.to\",this.state.formFieldsBillingStored.to)\r\n    console.log(\"this.state.formFieldsBillingStored.address1\",this.state.formFieldsBillingStored.address1)\r\n    formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to ? this.state.formFieldsBillingStored.to : \"\");\r\n    formDataAddress.append(\"bill_addr1\", this.state.formFieldsBillingStored.address1 ? this.state.formFieldsBillingStored.address1 : \"\");\r\n    formDataAddress.append(\"bill_addr2\", this.state.formFieldsBillingStored.address2 ? this.state.formFieldsBillingStored.address2 : \"\");\r\n    formDataAddress.append(\"bill_addr3\", this.state.formFieldsBillingStored.address3 ? this.state.formFieldsBillingStored.address3 : \"\");\r\n    formDataAddress.append(\"bill_postalcode\", this.state.formFieldsBillingStored.postalCode ? this.state.formFieldsBillingStored.postalCode : \"\");\r\n\r\n    // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n    \r\n    formDataAddress.append(\"bill_city\",\r\n    this.state.formFieldsBillingStored.city ? \r\n    cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label \r\n    : \"\");\r\n\r\n    formDataAddress.append(\"bill_state\", \r\n    this.state.formFieldsBillingStored.state ?\r\n    stateOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.state)).label \r\n    : \"\");\r\n\r\n    formDataAddress.append(\"bill_country\", \r\n    this.state.formFieldsBillingStored.country ? \r\n    countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label \r\n    : \"\");\r\n\r\n    formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to ? this.state.formFieldsShippingStored.to : \"\");\r\n    formDataAddress.append(\"ship_addr1\", this.state.formFieldsShippingStored.address1 ? this.state.formFieldsShippingStored.address1 : \"\");\r\n    formDataAddress.append(\"ship_addr2\", this.state.formFieldsShippingStored.address2 ? this.state.formFieldsShippingStored.address2 : \"\");\r\n    formDataAddress.append(\"ship_addr3\", this.state.formFieldsShippingStored.address3 ? this.state.formFieldsShippingStored.address3 : \"\");\r\n    formDataAddress.append(\"ship_postalcode\", this.state.formFieldsShippingStored.postalCode ? this.state.formFieldsShippingStored.postalCode : \"\");\r\n\r\n    formDataAddress.append(\"ship_city\", \r\n    this.state.formFieldsShippingStored.city ? \r\n    cityOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.city)).label \r\n    : \"\");\r\n\r\n    formDataAddress.append(\"ship_state\", \r\n    this.state.formFieldsShippingStored.state ? \r\n    stateOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.state)).label \r\n    : \"\");\r\n\r\n    formDataAddress.append(\"ship_country\", \r\n    this.state.formFieldsShippingStored.country ? \r\n    countryOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.country)).label\r\n    : \"\");\r\n    \r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `poaddr/?searchpoaddrid=${resPO.data.id}`\r\n      )\r\n      .then(resGetAddr => {\r\n        if (resGetAddr.status == 200){\r\n          console.log(\"resGetAddr\",resGetAddr)\r\n          this.props\r\n            .commonUpdateApi(\r\n              `poaddr/${resGetAddr.data[0].id}/`,\r\n              formDataAddress\r\n            )\r\n            .then(resUpdateAddr => {\r\n              console.log(\"resCreateAddr\",resUpdateAddr)\r\n            })\r\n        }\r\n        else if(resGetAddr.status == 204){\r\n          formDataAddress.append(\"fk_po\", resPO.data.id)\r\n          this.props\r\n            .commonCreateApi(\r\n              `poaddr/`,\r\n              formDataAddress\r\n            )\r\n            .then( resCreateAddr => {\r\n              console.log(\"resCreateAddr\",resCreateAddr)\r\n            })\r\n        }\r\n\r\n      });\r\n  }\r\n\r\n  handleSubmit = async (status) => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let { formFields, statusOption } = this.state;\r\n        let statusValue =\"\"\r\n        console.log('formFields.status', formFields.status)\r\n\r\n        for (let key of statusOption){\r\n          // console.log(key.value)\r\n          if(key.value == formFields.status){\r\n            statusValue = key.label\r\n          }\r\n        }\r\n        console.log(\"statusValue\", statusValue)\r\n        const formData = new FormData();\r\n        // formData.append(\"po_number\", formFields.PONumber);\r\n        //check save or post\r\n        if(status){\r\n          formData.append(\"status\", \"Posted\");\r\n        }else{\r\n          formData.append(\"status\", statusValue);\r\n        }\r\n        formData.append(\"title\", formFields.projectTitle);\r\n        formData.append(\"company\", formFields.companyName);\r\n        formData.append(\"contact_person\", formFields.from);\r\n        formData.append(\"remarks\", formFields.remarks);\r\n        console.log(\"formFields.PODate\",formFields.PODate)\r\n        formData.append(\"created_at\", dateFormat(formFields.PODate)+\" 00:00:00\");\r\n        // formData.append(\"created_at\", dateFormat(formFields.PODate) + \" \"+formFields.PODate.getHours() + \":\" + formFields.PODate.getMinutes() + \":\" + formFields.PODate.getSeconds());\r\n\r\n        formData.append(\"fk_quotation_number\", formFields.quoNumber);\r\n        formData.append(\"username\", this.props.tokenDetail.username);\r\n        console.log(\"this.state.fkProject in submit\",this.state.fkProject)\r\n        if(this.state.fkProject){\r\n          formData.append(\"fk_project\", this.state.fkProject);\r\n        }\r\n        console.log(\"formData\", formData)\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\")\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id)\r\n          var resPO = await this.props.updatePO(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          console.log(resPO);\r\n          this.handleAddressSubmit(resPO);\r\n          this.handleItemDetailsSubmit(resPO);\r\n          if(statusValue == \"Void\"){\r\n            console.log(\"in void loop\")\r\n            await this.props.deletePO(`${this.props.match.params.id}/`)\r\n          }\r\n\r\n          // this.props.history.push(\r\n          //   `/admin/po`\r\n          // )\r\n        }  \r\n        else{\r\n          console.log(\"this.props before createPO\", this.props)\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\r\n          // formData.append(\"fk_project\", this.state.fkProject);\r\n          var resPO = await this.props.createPO(formData);\r\n\r\n          console.log(\"resPO in createPO\",resPO)\r\n          console.log(\"resPO.data.id\",resPO.data.id)\r\n          \r\n          this.handleAddressSubmit(resPO);\r\n          this.handleItemDetailsSubmit(resPO);\r\n\r\n          // this.props.history.push(\r\n          //   `/admin/po`\r\n          // )\r\n        } \r\n        \r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      currentValue,\r\n      navLinks,\r\n      disableEdit,\r\n      fkQuotation\r\n    } = this.state;\r\n\r\n    let {\r\n      PONumber,\r\n      projectTitle,\r\n      PODate,\r\n      companyName,\r\n      status,\r\n      from,    \r\n      remarks,\r\n      quoNumber,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return ( \r\n      <div className=\"px-5 container create-PO\">\r\n        <div className=\"head-label-nav\">\r\n          <p className=\"category\">{t(\"PO\")}</p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} PO`)}\r\n          </p>\r\n        </div>\r\n          <div className=\"PO-detail\">\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row mt-5\">\r\n\r\n                <div className=\"col-md-4 col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"PO No\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalInput\r\n                      disabled={true}\r\n                      placeholder=\"Auto generated\"\r\n                      value={PONumber}\r\n                      name=\"PONumber\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"PO No\"),\r\n                      PONumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Project\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      disabled={disableEdit}\r\n                      value={projectTitle}\r\n                      name=\"projectTitle\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Project\"),\r\n                      projectTitle,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  \r\n                </div>\r\n\r\n                <div className=\"col-md-4 col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"PO Date\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={PODate ? new Date(PODate) : new Date()}\r\n                    name=\"PODate\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"PO Date\"),\r\n                      PODate,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Company Name\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      disabled={disableEdit}\r\n                      value={companyName}\r\n                      name=\"companyName\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Company Name\"),\r\n                      companyName,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  \r\n                </div>\r\n                \r\n                <div className=\"col-md-4 col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Status\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalSelect\r\n                      options={statusOption}\r\n                      \r\n                      value={status}\r\n                      name=\"status\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Status\"),\r\n                      status,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"From\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      disabled={disableEdit}\r\n                      value={from}\r\n                      name=\"from\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"From\"),\r\n                      from,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  \r\n                  \r\n\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Remarks\")}\r\n                  </label>\r\n                  <div className=\"input-group-desc\">\r\n                    <NormalTextarea\r\n                      placeholder=\"Enter here\"\r\n                      disabled={disableEdit}\r\n                      value={remarks}\r\n                      name=\"remarks\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-2 col-12\"></div>\r\n\r\n                <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Quotation Number\")}\r\n                  </label>\r\n                  <div className=\"input-group-normal\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      disabled={disableEdit}\r\n                      value={quoNumber}\r\n                      name=\"quoNumber\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Quotation Number\"),\r\n                      quoNumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n                </div> \r\n                \r\n\r\n\r\n              </div>  \r\n                \r\n              <div className=\"col-md-12 PO-content\">\r\n                <div className=\"tab-menus\">\r\n                  <ul>\r\n                    {navLinks.map(({ to, label, id }, index) => (\r\n                      <li key={index}>\r\n                        <NavLink to={to} className=\"nav-link\">\r\n                          <div\r\n                            className={`sidebar-menu ${\r\n                              currentValue === index ? \"active\" : \"\"\r\n                            }`}\r\n                            onClick={() => this.handleClick({ key: index, id: id })}\r\n                          >\r\n                            <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                          </div>\r\n                        </NavLink>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n                {this.state.selectedMenu === \"Details\" && (\r\n                  <Details\r\n                    disableEdit = {disableEdit}\r\n                    poId = {this.props.match.params.id}\r\n                    quoId = {fkQuotation}\r\n                    siteGstList = {this.state.siteGstList}\r\n                    validator = {this.validator}\r\n                    storeItemDetails = {this.storeItemDetails.bind(this)}\r\n                    storedItemListStored = {this.state.storedItemListStored}\r\n                    formFieldsDetailsStored = {this.state.formFieldsDetailsStored}\r\n                    id={this.state.selectedMenu}\r\n                    // search={formFields.search}\r\n                    api={\"details\"}\r\n                  />\r\n                )}\r\n                {this.state.selectedMenu === \"Address\" && (\r\n                  <Address\r\n                    disableEdit = {disableEdit}\r\n                    storeAddressFields = {this.storeAddressFields.bind(this)}\r\n                    formFieldsBillingStored = {this.state.formFieldsBillingStored}\r\n                    formFieldsShippingStored = {this.state.formFieldsShippingStored}\r\n                    id={this.state.selectedMenu}\r\n                    // search={formFields.search}\r\n                    api={\"address\"}\r\n                  />\r\n                )}\r\n               \r\n              </div>   \r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 col-12 mt-3\"></div>\r\n                \r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2 mb-3\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Cancel\"\r\n                    outline={false}\r\n                    onClick={() => { \r\n                      if (window.confirm('Are you sure you want to leave this page and discard changes?'))\r\n                      this.props.history.push(\r\n                        `/admin/po`\r\n                      )\r\n                    }\r\n                    }              \r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Save\"\r\n                    onClick={() => this.handleSubmit()}\r\n                  />\r\n                </div>\r\n                  \r\n                 \r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2 mb-3\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Post\"\r\n                    outline={false}\r\n                    onClick={() => this.handleSubmit(status)}              \r\n                  />\r\n                </div>\r\n                \r\n\r\n              </div> \r\n\r\n              \r\n                \r\n              \r\n            </div>\r\n          </div>\r\n        {/* )} */}\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      updatePO,\r\n      createPO,\r\n      deletePO,\r\n      commonDeleteApi,\r\n      getTokenDetails\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddPO = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddPOClass)\r\n);"]},"metadata":{},"sourceType":"module"}