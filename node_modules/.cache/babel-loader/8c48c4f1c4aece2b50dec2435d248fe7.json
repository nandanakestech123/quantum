{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Settings\\\\SmtpSettings\\\\SmtpList\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton, NormalSelect, TableWrapper } from \"component/common\";\nimport { getCommonApi, commonDeleteApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nexport class SmtpListClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Sender Name\"\n      }, {\n        label: \"Sender Address\"\n      }, {\n        label: \"Site Code\"\n      }, {\n        label: \"Port\"\n      }, {\n        label: \"SMTP Server Host\"\n      }, {\n        label: \"User Email\"\n      }, {\n        label: \"\"\n      }],\n      SMTPList: [],\n      pageMeta: {},\n      active: false,\n      currentIndex: -1\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.queryHandler = data => {\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      this.props.getCommonApi(`smtpsettings/?page=${page}&limit=${limit}`).then(res => {\n        console.log(res, \"dsfdfaafg\", res.data.dataList);\n        let {\n          SMTPList,\n          pageMeta\n        } = this.state;\n        SMTPList = res.data.dataList;\n        pageMeta = res.data.meta.pagination;\n        this.setState({\n          SMTPList,\n          pageMeta\n        });\n      });\n    };\n\n    this.handlePagination = page => {\n      this.queryHandler(page);\n    };\n\n    this.handleDeleteSMTPSetting = id => {\n      this.props.commonDeleteApi(`smtpsettings/${id}/`).then(res => {\n        this.queryHandler({});\n        this.handleClick();\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.queryHandler({});\n  } // popup open/close\n\n\n  render() {\n    let {\n      headerDetails,\n      SMTPList,\n      pageMeta,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-3 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-start align-items-center pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"List of SMTP Settings\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-3 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Add New\",\n      onClick: () => history.push(`/admin/settings/smtpsettings/add`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: pageMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, SMTPList.length > 0 ? SMTPList.map(({\n      id,\n      sender_address,\n      sender_name,\n      site_codeid,\n      sitecode,\n      port,\n      smtp_serverhost,\n      user_email,\n      email_content,\n      email_subject,\n      email_use_ssl,\n      sms_content,\n      user_password\n    }, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative status-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 27\n        }\n      }, sender_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 27\n        }\n      }, sender_address)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 27\n        }\n      }, sitecode)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 27\n        }\n      }, port)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 27\n        }\n      }, smtp_serverhost)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 27\n        }\n      }, user_email)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pt-3\",\n        onClick: () => history.push(`/admin/settings/smtpsettings/${id}/details`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 35\n        }\n      }), \"View\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14\",\n        onClick: () => history.push(`/admin/settings/smtpsettings/${id}/edit`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-edit px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 35\n        }\n      }), \" Edit\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pb-3\",\n        onClick: () => this.handleDeleteSMTPSetting(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 35\n        }\n      }), \"Delete\"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more text-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 31\n        }\n      }))));\n    }) : null)));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const SmtpList = connect(mapStateToProps, mapDispatchToProps)(SmtpListClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Settings/SmtpSettings/SmtpList/index.js"],"names":["React","NormalButton","NormalSelect","TableWrapper","getCommonApi","commonDeleteApi","connect","bindActionCreators","_","history","SmtpListClass","Component","state","headerDetails","label","SMTPList","pageMeta","active","currentIndex","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","queryHandler","data","page","limit","search","props","then","res","console","log","dataList","meta","pagination","handlePagination","handleDeleteSMTPSetting","id","componentDidMount","render","push","length","map","sender_address","sender_name","site_codeid","sitecode","port","smtp_serverhost","user_email","email_content","email_subject","email_use_ssl","sms_content","user_password","index","mapStateToProps","mapDispatchToProps","dispatch","SmtpList"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton, NormalSelect, TableWrapper } from \"component/common\";\r\nimport { getCommonApi, commonDeleteApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\n\r\nexport class SmtpListClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Sender Name\" },\r\n      { label: \"Sender Address\" },\r\n      { label: \"Site Code\" },\r\n      { label: \"Port\" },\r\n      { label: \"SMTP Server Host\" },\r\n      { label: \"User Email\" },\r\n      { label: \"\" },\r\n    ],\r\n    SMTPList: [],\r\n    pageMeta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // popup open/close\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  // while clicking popup close at outside click\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  // api call for staff\r\n  queryHandler = data => {\r\n    let { page = 1, limit = 10, search = \"\" } = data;\r\n    this.props\r\n      .getCommonApi(`smtpsettings/?page=${page}&limit=${limit}`)\r\n      .then(res => {\r\n        console.log(res, \"dsfdfaafg\", res.data.dataList);\r\n        let { SMTPList, pageMeta } = this.state;\r\n        SMTPList = res.data.dataList;\r\n        pageMeta = res.data.meta.pagination;\r\n        this.setState({\r\n          SMTPList,\r\n          pageMeta,\r\n        });\r\n      });\r\n  };\r\n\r\n  // pagination\r\n  handlePagination = page => {\r\n    this.queryHandler(page);\r\n  };\r\n\r\n  // delete api call for staff\r\n  handleDeleteSMTPSetting = id => {\r\n    this.props.commonDeleteApi(`smtpsettings/${id}/`).then(res => {\r\n      this.queryHandler({});\r\n      this.handleClick();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let { headerDetails, SMTPList, pageMeta, currentIndex } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"row mb-3 mt-2\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"d-flex justify-content-start align-items-center pt-3\">\r\n              List of SMTP Settings\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <div className=\"d-flex justify-content-end\">\r\n              <div className=\"w-100 col-3 p-0\">\r\n                <NormalButton\r\n                  mainbg={true}\r\n                  className=\"col-12 fs-15 float-right\"\r\n                  label=\"Add New\"\r\n                  onClick={() =>\r\n                    history.push(`/admin/settings/smtpsettings/add`)\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-container table-responsive\">\r\n          <TableWrapper\r\n            headerDetails={headerDetails}\r\n            queryHandler={this.handlePagination}\r\n            pageMeta={pageMeta}\r\n          >\r\n            {SMTPList.length > 0\r\n              ? SMTPList.map(\r\n                  (\r\n                    {\r\n                      id,\r\n                      sender_address,\r\n                      sender_name,\r\n                      site_codeid,\r\n                      sitecode,\r\n                      port,\r\n                      smtp_serverhost,\r\n                      user_email,\r\n                      email_content,\r\n                      email_subject,\r\n                      email_use_ssl,\r\n                      sms_content,\r\n                      user_password,\r\n                    },\r\n                    index\r\n                  ) => {\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td className=\"position-relative status-type\">\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            {sender_name}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            {sender_address}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            {sitecode}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            {port}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            {smtp_serverhost}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            {user_email}\r\n                          </div>\r\n                        </td>\r\n                        <td\r\n                          className=\"position-relative\"\r\n                          ref={node => {\r\n                            this.node = node;\r\n                          }}\r\n                          onClick={() => this.handleClick(index)}\r\n                        >\r\n                          {currentIndex === index ? (\r\n                            <>\r\n                              <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\r\n                                <i className=\"icon-more\"></i>\r\n                              </div>\r\n                              <div className=\"option card\">\r\n                                <div\r\n                                  className=\"d-flex align-items-center fs-14 pt-3\"\r\n                                  onClick={() =>\r\n                                    history.push(\r\n                                      `/admin/settings/smtpsettings/${id}/details`\r\n                                    )\r\n                                  }\r\n                                >\r\n                                  <span className=\"icon-eye-grey px-3\"></span>\r\n                                  View\r\n                                </div>\r\n                                <div\r\n                                  className=\"d-flex align-items-center fs-14\"\r\n                                  onClick={() =>\r\n                                    history.push(\r\n                                      `/admin/settings/smtpsettings/${id}/edit`\r\n                                    )\r\n                                  }\r\n                                >\r\n                                  <span className=\"icon-edit px-3\"></span> Edit\r\n                                </div>\r\n                                <div\r\n                                  className=\"d-flex align-items-center fs-14 pb-3\"\r\n                                  onClick={() =>\r\n                                    this.handleDeleteSMTPSetting(id)\r\n                                  }\r\n                                >\r\n                                  <span className=\"icon-delete px-3\"></span>\r\n                                  Delete\r\n                                </div>\r\n                              </div>\r\n                            </>\r\n                          ) : (\r\n                            <div className=\"d-flex align-items-center justify-content-center horizontal-more\">\r\n                              <i className=\"icon-more text-grey\" />\r\n                            </div>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  }\r\n                )\r\n              : null}\r\n          </TableWrapper>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const SmtpList = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SmtpListClass);\r\n"]},"metadata":{},"sourceType":"module"}