{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointmentsPositioning.strategy.base.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _type = require(\"../../../core/utils/type\");\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar COLLECTOR_DEFAULT_WIDTH = 24;\nvar COLLECTOR_DEFAULT_OFFSET = 3;\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET = 22;\nvar APPOINTMENT_MIN_COUNT = 1;\nvar APPOINTMENT_DEFAULT_WIDTH = 40;\nvar COLLECTOR_WIDTH_IN_PERCENTS = 75;\nvar APPOINTMENT_INCREASED_WIDTH = 50;\n\nvar AppointmentPositioningStrategy = function () {\n  function AppointmentPositioningStrategy(renderingStrategy) {\n    _classCallCheck(this, AppointmentPositioningStrategy);\n\n    this._renderingStrategy = renderingStrategy;\n  }\n\n  _createClass(AppointmentPositioningStrategy, [{\n    key: \"getRenderingStrategy\",\n    value: function value() {\n      return this._renderingStrategy;\n    }\n  }, {\n    key: \"getDropDownAppointmentWidth\",\n    value: function value(intervalCount, isAllDay) {\n      if (isAllDay || !(0, _type.isDefined)(isAllDay)) {\n        return COLLECTOR_WIDTH_IN_PERCENTS * this.getRenderingStrategy().getDefaultCellWidth() / 100;\n      } else {\n        return COLLECTOR_DEFAULT_WIDTH;\n      }\n    }\n  }, {\n    key: \"getCollectorTopOffset\",\n    value: function value() {\n      return COLLECTOR_DEFAULT_OFFSET;\n    }\n  }, {\n    key: \"getCollectorLeftOffset\",\n    value: function value() {\n      return COLLECTOR_DEFAULT_OFFSET;\n    }\n  }, {\n    key: \"getAppointmentDefaultOffset\",\n    value: function value() {\n      if (this.getRenderingStrategy()._isCompactTheme()) {\n        return COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET;\n      }\n\n      return this.getRenderingStrategy().instance.option(\"_appointmentOffset\");\n    }\n  }, {\n    key: \"getDynamicAppointmentCountPerCell\",\n    value: function value() {\n      var renderingStrategy = this.getRenderingStrategy();\n      var cellHeight = renderingStrategy.instance.fire(\"getCellHeight\");\n\n      var allDayCount = Math.floor((cellHeight - renderingStrategy._getAppointmentDefaultOffset()) / renderingStrategy._getAppointmentDefaultHeight()) || this._getAppointmentMinCount();\n\n      if (renderingStrategy.hasAllDayAppointments()) {\n        return {\n          allDay: \"vertical\" === renderingStrategy.instance._groupOrientation ? allDayCount : renderingStrategy.instance.option(\"_appointmentCountPerCell\"),\n          simple: this._calculateDynamicAppointmentCountPerCell() || this._getAppointmentMinCount()\n        };\n      } else {\n        return allDayCount;\n      }\n    }\n  }, {\n    key: \"getDropDownAppointmentHeight\",\n    value: function value() {\n      return;\n    }\n  }, {\n    key: \"_getAppointmentMinCount\",\n    value: function value() {\n      return APPOINTMENT_MIN_COUNT;\n    }\n  }, {\n    key: \"_calculateDynamicAppointmentCountPerCell\",\n    value: function value() {\n      return Math.floor(this.getRenderingStrategy()._getAppointmentMaxWidth() / APPOINTMENT_INCREASED_WIDTH);\n    }\n  }, {\n    key: \"_getAppointmentDefaultWidth\",\n    value: function value() {\n      return APPOINTMENT_DEFAULT_WIDTH;\n    }\n  }]);\n\n  return AppointmentPositioningStrategy;\n}();\n\nvar _default = AppointmentPositioningStrategy;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["F:/webfe/node_modules/devextreme/ui/scheduler/rendering_strategies/ui.scheduler.appointmentsPositioning.strategy.base.js"],"names":["exports","default","_type","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","COLLECTOR_DEFAULT_WIDTH","COLLECTOR_DEFAULT_OFFSET","COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET","APPOINTMENT_MIN_COUNT","APPOINTMENT_DEFAULT_WIDTH","COLLECTOR_WIDTH_IN_PERCENTS","APPOINTMENT_INCREASED_WIDTH","AppointmentPositioningStrategy","renderingStrategy","_renderingStrategy","value","intervalCount","isAllDay","isDefined","getRenderingStrategy","getDefaultCellWidth","_isCompactTheme","option","cellHeight","fire","allDayCount","Math","floor","_getAppointmentDefaultOffset","_getAppointmentDefaultHeight","_getAppointmentMinCount","hasAllDayAppointments","allDay","_groupOrientation","simple","_calculateDynamicAppointmentCountPerCell","_getAppointmentMaxWidth","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointmentsPositioning.strategy.base.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../../core/utils/type\");\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar COLLECTOR_DEFAULT_WIDTH = 24;\r\nvar COLLECTOR_DEFAULT_OFFSET = 3;\r\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET = 22;\r\nvar APPOINTMENT_MIN_COUNT = 1;\r\nvar APPOINTMENT_DEFAULT_WIDTH = 40;\r\nvar COLLECTOR_WIDTH_IN_PERCENTS = 75;\r\nvar APPOINTMENT_INCREASED_WIDTH = 50;\r\nvar AppointmentPositioningStrategy = function() {\r\n    function AppointmentPositioningStrategy(renderingStrategy) {\r\n        _classCallCheck(this, AppointmentPositioningStrategy);\r\n        this._renderingStrategy = renderingStrategy\r\n    }\r\n    _createClass(AppointmentPositioningStrategy, [{\r\n        key: \"getRenderingStrategy\",\r\n        value: function() {\r\n            return this._renderingStrategy\r\n        }\r\n    }, {\r\n        key: \"getDropDownAppointmentWidth\",\r\n        value: function(intervalCount, isAllDay) {\r\n            if (isAllDay || !(0, _type.isDefined)(isAllDay)) {\r\n                return COLLECTOR_WIDTH_IN_PERCENTS * this.getRenderingStrategy().getDefaultCellWidth() / 100\r\n            } else {\r\n                return COLLECTOR_DEFAULT_WIDTH\r\n            }\r\n        }\r\n    }, {\r\n        key: \"getCollectorTopOffset\",\r\n        value: function() {\r\n            return COLLECTOR_DEFAULT_OFFSET\r\n        }\r\n    }, {\r\n        key: \"getCollectorLeftOffset\",\r\n        value: function() {\r\n            return COLLECTOR_DEFAULT_OFFSET\r\n        }\r\n    }, {\r\n        key: \"getAppointmentDefaultOffset\",\r\n        value: function() {\r\n            if (this.getRenderingStrategy()._isCompactTheme()) {\r\n                return COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET\r\n            }\r\n            return this.getRenderingStrategy().instance.option(\"_appointmentOffset\")\r\n        }\r\n    }, {\r\n        key: \"getDynamicAppointmentCountPerCell\",\r\n        value: function() {\r\n            var renderingStrategy = this.getRenderingStrategy();\r\n            var cellHeight = renderingStrategy.instance.fire(\"getCellHeight\");\r\n            var allDayCount = Math.floor((cellHeight - renderingStrategy._getAppointmentDefaultOffset()) / renderingStrategy._getAppointmentDefaultHeight()) || this._getAppointmentMinCount();\r\n            if (renderingStrategy.hasAllDayAppointments()) {\r\n                return {\r\n                    allDay: \"vertical\" === renderingStrategy.instance._groupOrientation ? allDayCount : renderingStrategy.instance.option(\"_appointmentCountPerCell\"),\r\n                    simple: this._calculateDynamicAppointmentCountPerCell() || this._getAppointmentMinCount()\r\n                }\r\n            } else {\r\n                return allDayCount\r\n            }\r\n        }\r\n    }, {\r\n        key: \"getDropDownAppointmentHeight\",\r\n        value: function() {\r\n            return\r\n        }\r\n    }, {\r\n        key: \"_getAppointmentMinCount\",\r\n        value: function() {\r\n            return APPOINTMENT_MIN_COUNT\r\n        }\r\n    }, {\r\n        key: \"_calculateDynamicAppointmentCountPerCell\",\r\n        value: function() {\r\n            return Math.floor(this.getRenderingStrategy()._getAppointmentMaxWidth() / APPOINTMENT_INCREASED_WIDTH)\r\n        }\r\n    }, {\r\n        key: \"_getAppointmentDefaultWidth\",\r\n        value: function() {\r\n            return APPOINTMENT_DEFAULT_WIDTH\r\n        }\r\n    }]);\r\n    return AppointmentPositioningStrategy\r\n}();\r\nvar _default = AppointmentPositioningStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}