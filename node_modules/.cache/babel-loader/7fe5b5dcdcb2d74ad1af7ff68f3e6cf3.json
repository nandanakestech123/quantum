{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\Cart\\\\cart.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper, NormalTextarea, NormalCheckbox, NormalRadio, NormalMultiSelect } from \"component/common\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, updateForm, commonDeleteApi, commonPatchApi, commonCreateApi, commonUpdateApi } from \"redux/actions/common\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { Treatment, Payment, EditCart, TreatmentDone, PackageCart } from \"./cart/index\";\nimport closeIcon from \"assets/images/close.png\";\nimport add from \"assets/images/add.png\";\nimport minus from \"assets/images/minus.png\"; // import Discount from './cart/discount';\n\nimport { EditDiscount } from \"./cart/editDiscount\";\nimport { Topup } from \"./topup/topup\";\nimport { Toast } from \"service/toast\";\nimport { ProductDetailsPopup } from \"./cart/productDetailsPopup\";\nimport { ItemDiscountPopup } from \"./cart/ItemDiscountPopup\";\nimport { ItemStatusPopup } from \"./cart/itemStatusPopup\";\nimport { StaffSelectionPopup } from \"./cart/staffSelectionPopup\";\nimport { CoursePopup } from \"./cart/CoursePopup\";\nimport { PrepaidPopup } from \"./cart/PrepaidPopup\";\nimport packageIcon from \"assets/images/packing-icon.png\";\nimport { withTranslation } from \"react-i18next\";\nimport tdIcon from \"assets/images/tdIcon.png\";\nimport topupIcon from \"assets/images/topupIcon.png\";\nimport billOpsIcon from \"assets/images/billOpsIcon.png\";\nimport profileIcon from \"assets/images/profileIcon.png\";\nimport exchangeIcon from \"assets/images/exchangeIcon.png\";\nimport clearAllIcon from \"assets/images/clearAllIcon.png\";\nimport checkoutIcon from \"assets/images/checkoutIcon.png\";\nimport TransactionIcon from \"assets/images/TransactionIcon.png\";\nimport { StaffList } from \"../Cart/cart/StaffList\";\nimport { CombineTopup } from \"./CombineTopup/index.js\";\nimport { CredentialConfirmation } from \"./credentialConfirmation\";\nexport class CartNewClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: false,\n      currentIndex: -1,\n      cartList: [],\n      cartData: {},\n      formFields: {\n        custId: \"\",\n        custName: \"\"\n      },\n      outletList: [{\n        label: \"name\",\n        value: \"id\"\n      }],\n      isOpenPayment: false,\n      isOpenEditcart: false,\n      isOpenPackage: false,\n      isOpenCustomer: false,\n      isOpenEditDisc: false,\n      isOpenTreatmentDone: false,\n      headerDetails: [{\n        label: \"\",\n        width: \"20px\",\n        selectAll: true,\n        selectAllCheck: false,\n        checkboxChange: e => this.handleSelectAllCheckbox(e)\n      }, {\n        label: \"\",\n        width: \"30px\"\n      }, {\n        label: \"Item\",\n        sortKey: false,\n        width: \"135px\",\n        className: \"cursor-pointer border border-white text-warning \",\n        dblclickFunc: () => this.handleItemHeaderDblClick(true)\n      }, {\n        label: \"Qty\",\n        width: \"32px\",\n        divClass: \"justify-content-center text-center\"\n      }, {\n        label: \"Unit Price\",\n        sortKey: false,\n        width: \"80px\",\n        divClass: \"justify-content-center text-center\"\n      }, {\n        label: \"Disc $\",\n        sortKey: false,\n        width: \"58px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"D/Price\",\n        sortKey: false,\n        width: \"70px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Amt\",\n        sortKey: false,\n        width: \"72px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Deposit\",\n        sortKey: false,\n        width: \"72px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Item Status\",\n        sortKey: false,\n        width: \"90px\",\n        className: \"cursor-pointer border border-white text-warning\",\n        dblclickFunc: () => this.handleItemStatusHeaderDblClick(true)\n      }, {\n        label: \"S.Staff\",\n        sortKey: false,\n        width: \"90px\",\n        className: \"cursor-pointer border border-white text-warning\",\n        dblclickFunc: () => this.handleStaffSelectionHeaderClick(true)\n      }, {\n        label: \"T.Staff\",\n        sortKey: false,\n        width: \"90px\",\n        dblclickFunc: () => {}\n      }],\n      customerOption: [],\n      discountFields: {\n        discount_per: \"\",\n        discount_amt: \"\",\n        reason: \"\"\n      },\n      editCart: {},\n      search: \"\",\n      cartId: \"\",\n      isOpenTopup: false,\n      exchangeBalance: 0,\n      isOpenExchangePayment: false,\n      exchangeRemark: \"\",\n      exchangeBalanceAmount: 0,\n      exchangeType: false,\n      isOpenProductDetail: false,\n      isOpenCourseDetail: false,\n      isOpenPrepaidDetail: false,\n      isOpenDiscountDetail: false,\n      isOpenItemStatusDetail: false,\n      isOpenStaffSelectionDetail: false,\n      visible: false,\n      settingData: [],\n      defaultStaff: [],\n      isOpenCombinedTopup: false,\n      staffCommonListPopup: false,\n      staffList: [],\n      meta: {},\n      limit: 6,\n      selectAll: false,\n      staffDeleteCommonListPopup: false,\n      availableStaffList: [],\n      availstaffmeta: {},\n      availstaffpage: \"\",\n      page: \"\",\n      changedItem: \"\",\n      treatmentCheck: false,\n      salesCheck: false,\n      commonDeposit: \"\",\n      toptoBottom: false,\n      is_selectDeposit: \"\",\n      isHandleConfirmationDialog: false,\n      isLoginConfirmation: false,\n      user: \"\",\n      pass: \"\"\n    };\n\n    this.componentWillMount = () => {\n      // this.getCart();\n      this.validator = new SimpleReactValidator({\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n    };\n\n    this.handleItemSettings = () => {\n      let {\n        settingData\n      } = this.state;\n      this.props.getCommonApi(`userlist/`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"settingsData cartCreate\");\n\n        if (status === 200) {\n          settingData = data;\n          await this.setState({\n            settingData\n          }); //settingData.default_loginid\n        }\n      });\n    };\n\n    this.getdefaultStaffList = async () => {\n      let {\n        defaultStaff\n      } = this.state;\n      this.props.getCommonApi(`empcartlist/?sales_staff=1&page=1&limit=1000`).then(async res => {\n        console.log(res, \"salesdefaultstaff\");\n        let salesdefaultStaff = []; // salesdefaultStaff.push({ value: \"All\", label: \"All\" });\n        // this.setState({ salesdefaultStaff });\n\n        let {\n          data,\n          status\n        } = res;\n\n        if (status == 200) {\n          if (data.dataList) for (let key of data.dataList) {\n            salesdefaultStaff.push({\n              value: key.id,\n              label: key.emp_name\n            });\n\n            if (key.id == Number(this.props.tokenDetails.default_loginid)) {\n              defaultStaff.push({\n                value: key.id,\n                label: key.emp_name\n              });\n              await this.setState({\n                defaultStaff\n              });\n            }\n          }\n          await this.setState({\n            salesdefaultStaff\n          });\n        }\n      });\n    };\n\n    this.getCart = () => {\n      let {\n        productCard,\n        cartList,\n        cartId,\n        cartData,\n        headerDetails,\n        formFields\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props; // this.props.getCommonApi(`itemcart/Check/?sitecodeid=${selected_cstomer.branchId}&cart_date=${\"2020-12-11\"}&cust_noid=${selected_cstomer.cust_noid}`).then((key) => {\n\n      this.props.getCommonApi(`itemcart/Check/?cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${formFields.custId}`).then(key => {\n        let {\n          status,\n          cartList,\n          data,\n          cart_id,\n          commonDeposit\n        } = key;\n        cartId = cart_id;\n        cartList = [];\n        cartData = [];\n        commonDeposit = \"\";\n        this.setState({\n          cartId,\n          cartList,\n          cartData,\n          commonDeposit\n        });\n\n        if (data.length !== 0) {\n          this.props.getCommonApi(`itemcart/?cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${formFields.custId}&cart_id=${cart_id}`).then(async res => {\n            cartData = [];\n            let {\n              status,\n              data\n            } = res;\n            console.log(res, \"returndatacartitemlist\");\n\n            if (status === 200) {\n              if (data.length > 0) {\n                data.forEach(element => {\n                  let itemData = element;\n                  itemData[\"selected\"] = false;\n                  cartData.push({\n                    itemData\n                  });\n                });\n              }\n\n              headerDetails[0][\"selectAllCheck\"] = false;\n              this.setState({\n                cartList: data,\n                cartData: res,\n                cartId,\n                exchangeBalanceAmount: res.balance.slice(1),\n                exchangeType: res.exchange,\n                selectAll: false,\n                headerDetails,\n                commonDeposit: res.deposit_amt,\n                treatmentCheck: false,\n                salesCheck: false\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.handleClick = key => {\n      if (!this.state.visible) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      if (this.state.visible) {\n        let {\n          basicApptDetail\n        } = this.props;\n        this.search(basicApptDetail);\n      }\n\n      this.setState(prevState => ({\n        visible: !prevState.visible\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.getDateTime = data => {\n      let date = new Date(data);\n      date = String(date).split(\" \");\n      let date1 = date[2] + \"th \" + date[1] + \", \" + date[3];\n      let time = date[4].split(\":\");\n      let time1 = String(Number(time[0]) > 12 ? Number(time[0]) - 12 : time[0]) + \":\" + time[1] + (Number(time[0]) > 12 ? \"PM\" : \"AM\");\n      return time1 + \", \" + date1;\n    };\n\n    this.handleSubmit = id => {\n      history.push(`/admin/payment/${id}`);\n    };\n\n    this.handleDialog = async () => {\n      let {\n        isOpenPayment,\n        isOpenEditcart,\n        isOpenPackage,\n        isOpenCustomer,\n        isOpenEditDisc,\n        isOpenTreatmentDone,\n        isOpenTopup,\n        isOpenExchangePayment,\n        isOpenProductDetail,\n        isOpenCourseDetail,\n        isOpenPrepaidDetail,\n        isOpenDiscountDetail,\n        isOpenItemStatusDetail,\n        isOpenStaffSelectionDetail,\n        isOpenCombinedTopup\n      } = this.state;\n      isOpenPayment = false;\n      isOpenEditcart = false;\n      isOpenPackage = false;\n      isOpenCustomer = false;\n      isOpenEditDisc = false;\n      isOpenTreatmentDone = false;\n      isOpenTopup = false;\n      isOpenExchangePayment = false;\n      isOpenProductDetail = false;\n      isOpenCourseDetail = false;\n      isOpenPrepaidDetail = false;\n      isOpenDiscountDetail = false;\n      isOpenItemStatusDetail = false;\n      isOpenStaffSelectionDetail = false;\n      isOpenCombinedTopup = false;\n      await this.setState({\n        isOpenPayment,\n        isOpenEditcart,\n        isOpenPackage,\n        isOpenCustomer,\n        isOpenEditDisc,\n        isOpenTreatmentDone,\n        editCart: {},\n        isOpenTopup,\n        isOpenExchangePayment,\n        isOpenProductDetail,\n        isOpenCourseDetail,\n        isOpenPrepaidDetail,\n        isOpenDiscountDetail,\n        isOpenItemStatusDetail,\n        isOpenStaffSelectionDetail,\n        isOpenCombinedTopup\n      });\n      this.getCart();\n    };\n\n    this.handleSearch = async event => {\n      // event.persist();\n      let {\n        formFields,\n        visible\n      } = this.state;\n      formFields.custName = event.target.value;\n      await this.setState({\n        formFields,\n        visible: true\n      });\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(async () => {\n          this.search();\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.search = searchString => {\n      let {\n        formFields\n      } = this.state;\n      this.props.getCommonApi(`custappt/?search=${formFields.custName}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          // for (let value of data) {\n          //     customerList.push({ value: value.id, label: value.emp_name })\n          // }\n          this.setState({\n            customerOption: data\n          });\n        }\n      });\n    };\n\n    this.handleSelectCustomer = async data => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"custId\"] = data.id;\n      formFields[\"custName\"] = data.cust_name;\n      formFields[\"cust_refer\"] = data.cust_refer;\n      await this.setState({\n        formFields,\n        // isOpenCustomer: false,\n        search: \"\",\n        customerOption: []\n      });\n      await this.props.updateForm(\"basicApptDetail\", formFields);\n      console.log(this.props.basicApptDetail, \"sdfsadfasdf\");\n      this.handleClick();\n      this.getCart();\n    };\n\n    this.handleCartCreated = () => {\n      this.getCart();\n    };\n\n    this.handleCheckout = () => {\n      let {\n        isOpenPayment,\n        cartData,\n        cartList,\n        cartId,\n        exchangeType\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n\n      if (cartList.length > 0) {\n        if (exchangeType && cartData.balance == 0) {\n          if (cartList && cartList.length > 1) {\n            let body = {\n              cust_id: basicApptDetail.custId,\n              cart_id: cartId\n            };\n            this.handleExchangePayment(body);\n          } else {\n            Toast({\n              type: \"error\",\n              message: \"Please Add Product for Exchange!\"\n            });\n          }\n        } else if (exchangeType && cartData.balance < 0) {\n          if (cartList && cartList.length > 1) {\n            this.handleExchangePay();\n          } else {\n            Toast({\n              type: \"error\",\n              message: \"Please Add Product for Exchange!\"\n            });\n          }\n        } else {\n          isOpenPayment = true;\n          this.setState({\n            isOpenPayment\n          });\n        }\n      }\n    };\n\n    this.handleExchangePayment = body => {\n      this.props.commonCreateApi(`exchangeproductconfirm/`, body).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 201) {\n          this.getCart();\n          history.push(`/admin/billing/print/bill/${data.sa_transacno}`);\n        }\n      });\n    };\n\n    this.handleDeleteCart = async data => {\n      this.props.commonDeleteApi(`itemcart/${data.id}/`).then(() => {\n        this.getCart();\n      });\n    };\n\n    this.handleEditCart = async data => {\n      let {\n        isOpenEditcart,\n        editCart\n      } = this.state;\n      isOpenEditcart = true;\n      editCart = data;\n      this.setState({\n        isOpenEditcart,\n        editCart\n      });\n    };\n\n    this.handleTreatmentDone = async item => {\n      if (item.is_tstaff && Number(item.quantity) == 1) {\n        let {\n          isOpenTreatmentDone,\n          editCart\n        } = this.state;\n        editCart = item;\n        await this.setState({\n          editCart\n        });\n        this.setState({\n          isOpenTreatmentDone: true\n        });\n      }\n    };\n\n    this.handleReduceQuantity = data => {\n      let body = {\n        quantity: 1\n      };\n      this.props.commonPatchApi(`itemcart/${data.id}/qtyupdate/?check=0`, body).then(() => {\n        this.getCart();\n      });\n    };\n\n    this.handleAddQuantity = data => {\n      let body = {\n        quantity: 1\n      };\n      this.props.commonPatchApi(`itemcart/${data.id}/qtyupdate/?check=1`, body).then(() => {\n        this.getCart();\n      });\n    };\n\n    this.handleTopup = () => {\n      let {\n        isOpenTopup\n      } = this.state;\n      isOpenTopup = true;\n      this.setState({\n        isOpenTopup\n      });\n    };\n\n    this.handleCombinedTopup = () => {\n      let isOpenCombinedTopup = true;\n      this.setState({\n        isOpenCombinedTopup\n      });\n    };\n\n    this.handleExchangeClick = () => {\n      let {\n        cartList,\n        cartId\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n\n      if (cartList && cartList.length > 0 && basicApptDetail.custId) {\n        let body = {\n          cust_id: basicApptDetail.custId,\n          cart_id: cartId\n        };\n        this.props.commonCreateApi(`exchangeproduct/`, body).then(key => {\n          let {\n            status\n          } = key;\n\n          if (status == 200) {\n            this.getCart();\n          }\n        });\n      }\n    };\n\n    this.handleExchangePay = () => {\n      let {\n        isOpenExchangePayment\n      } = this.state;\n      isOpenExchangePayment = true;\n      this.setState({\n        isOpenExchangePayment\n      });\n    };\n\n    this.exchangeRemarkChange = async event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleExchangeLessthanZero = async data => {\n      let {\n        cartId,\n        exchangeRemark\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n      let body = {\n        cust_id: basicApptDetail.custId,\n        cart_id: cartId,\n        remarks: exchangeRemark,\n        return_type: data\n      };\n      this.handleExchangePayment(body);\n    };\n\n    this.handleItemHeaderDblClick = data => {\n      let {\n        isOpenProductDetail\n      } = this.state;\n      isOpenProductDetail = data;\n      this.setState({\n        isOpenProductDetail\n      });\n    };\n\n    this.handleItemCourseClick = data => {\n      if (data.is_course) {\n        let {\n          isOpenCourseDetail,\n          editCart\n        } = this.state;\n        isOpenCourseDetail = true;\n        editCart = data;\n        this.setState({\n          isOpenCourseDetail,\n          editCart\n        });\n      }\n\n      if (data.is_prepaid) {\n        let {\n          isOpenPrepaidDetail,\n          editCart\n        } = this.state;\n        isOpenPrepaidDetail = true;\n        editCart = data;\n        this.setState({\n          isOpenPrepaidDetail,\n          editCart\n        });\n      }\n    };\n\n    this.handleCardPrepaidClick = data => {\n      let {\n        isOpenPrepaidDetail,\n        editCart\n      } = this.state;\n      isOpenPrepaidDetail = true;\n      editCart = data;\n      this.setState({\n        isOpenPrepaidDetail,\n        editCart\n      });\n    };\n\n    this.handleCardItemCourseClick = data => {\n      let {\n        isOpenCourseDetail,\n        editCart\n      } = this.state;\n      isOpenCourseDetail = true;\n      editCart = data;\n      this.setState({\n        isOpenCourseDetail,\n        editCart\n      });\n    };\n\n    this.handleItemStatusHeaderDblClick = data => {\n      let {\n        isOpenItemStatusDetail\n      } = this.state;\n      isOpenItemStatusDetail = data;\n      this.setState({\n        isOpenItemStatusDetail\n      });\n    };\n\n    this.handleDiscountDetailClick = data => {\n      if (data.is_disc) {\n        if (data.treatment_no == null || Number(data.treatment_no) <= 0) {\n          let {\n            isOpenDiscountDetail,\n            editCart\n          } = this.state;\n          isOpenDiscountDetail = true;\n          editCart = data;\n          this.setState({\n            isOpenDiscountDetail,\n            editCart\n          });\n        }\n      }\n    };\n\n    this.handleStaffSelectionHeaderClick = data => {\n      let {\n        isOpenStaffSelectionDetail\n      } = this.state;\n      isOpenStaffSelectionDetail = data;\n      this.setState({\n        isOpenStaffSelectionDetail\n      });\n    };\n\n    this.handleOpenPackage = async data => {\n      let {\n        isOpenPackage,\n        editCart\n      } = this.state;\n      isOpenPackage = true;\n      editCart = data;\n      this.setState({\n        isOpenPackage,\n        editCart\n      });\n    };\n\n    this.handleClearAllCart = async () => {\n      let {\n        cartList\n      } = this.state;\n\n      if (cartList.length > 0) {\n        const cartId = this.state.cartList[0].cart_id;\n        this.props.commonCreateApi(`cartitemdelete/?cart_id=${cartId}`).then(res => {\n          this.setState({\n            cartList: []\n          });\n          this.getCart();\n          this.handleClearAllConfirmation();\n        });\n      }\n    };\n\n    this.handleDialogCoursepopup = () => {\n      this.getCourseListCheckForReset();\n      this.handleDialog();\n    };\n\n    this.getCourseListCheckForReset = () => {\n      let {\n        editCart\n      } = this.state;\n      this.props.getCommonApi(`cartservicecourse/${editCart.id}/`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(data, \"cartcoursepopupforreset\");\n\n        if (status == \"200\") {\n          if (data) {\n            if (!data.is_service && (Number(data.treatment_no) == 0 || data.treatment_no == null)) {\n              let body = {\n                cart_id: editCart.id\n              };\n              this.props.commonCreateApi(`cartservicecourse/reset/`, body).then(async key => {\n                let {\n                  status,\n                  data\n                } = key;\n                console.log(key, \"resetresponse\");\n              });\n            }\n          }\n        }\n      });\n    };\n\n    this.handleCommonCreateEmployeePopup = () => {\n      this.setState(prevState => ({\n        staffCommonListPopup: !prevState.staffCommonListPopup\n      }));\n    };\n\n    this.getStafflist = data => {\n      let {\n        page,\n        limit,\n        selectedAddStaffType\n      } = this.state;\n      this.props.getCommonApi(`empcartlist/?sales_staff=1&page=${page}&limit=${limit}`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\n        let {\n          staffList\n        } = this.state;\n        let {\n          meta\n        } = this.state;\n        staffList = [];\n        meta = {};\n        staffList = data;\n        meta = data.meta.pagination;\n        console.log(meta, \"metalist\");\n        this.setState({\n          staffList,\n          meta\n        });\n      });\n    };\n\n    this.handleNext = async () => {\n      let {\n        page\n      } = this.state;\n      page = page + 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStafflist();\n      }\n    };\n\n    this.handleBack = async () => {\n      let {\n        page\n      } = this.state;\n      page = page - 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStafflist();\n      }\n    };\n\n    this.handleSelectAllCheckbox = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        cartList,\n        headerDetails\n      } = this.state;\n      headerDetails[0][\"selectAllCheck\"] = value;\n      await this.setState({\n        selectAll: value,\n        headerDetails\n      });\n\n      for (let item of cartList) {\n        item[\"selected\"] = value;\n        await this.setState({ ...this.state.cartList,\n          item\n        });\n      }\n\n      await this.setState({\n        cartList\n      });\n    };\n\n    this.handleCheckbox = async ({\n      target: {\n        value,\n        name\n      }\n    }, item) => {\n      let {\n        cartList\n      } = this.state;\n      let cartListCheckbox = cartList.find(acc => acc.id === item.id);\n\n      if (cartListCheckbox) {\n        cartListCheckbox[\"selected\"] = value;\n        await this.setState({ ...this.state.cartList,\n          cartListCheckbox\n        });\n      }\n    };\n\n    this.getStafflistforMatch = data => {\n      let {\n        availstaffpage,\n        availstaffmeta,\n        availableStaffList,\n        limit,\n        cartId\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n      this.props.getCommonApi(`itemcart/salesstafflist/?cust_noid=${basicApptDetail.custId}&cart_id=${cartId}&page=${availstaffpage}&limit=${limit}`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"deletestafflist\");\n        availableStaffList = [];\n        availstaffmeta = {};\n\n        if (data) {\n          availableStaffList = data;\n          availstaffmeta = data.meta.pagination;\n        }\n\n        console.log(availstaffmeta, \"metalist\");\n        this.setState({\n          availableStaffList,\n          availstaffmeta\n        });\n      });\n    };\n\n    this.handleavailStaffNext = async () => {\n      let {\n        availstaffpage\n      } = this.state;\n      availstaffpage = availstaffpage + 1;\n      await this.setState({\n        availstaffpage\n      });\n\n      if (availstaffpage > 0) {\n        this.getStafflistforMatch();\n      }\n    };\n\n    this.handleavailStaffBack = async () => {\n      let {\n        availstaffpage\n      } = this.state;\n      availstaffpage = availstaffpage - 1;\n      await this.setState({\n        availstaffpage\n      });\n\n      if (availstaffpage > 0) {\n        this.getStafflistforMatch();\n      }\n    };\n\n    this.handleQtyChange = (event, item, index) => {\n      if (Number(event.target.value) > 0) {\n        //event.persist();\n        let {\n          cartList\n        } = this.state;\n        cartList[index][\"quantity\"] = event.target.value;\n        let changedItem = item.id;\n        this.setState({\n          cartList,\n          changedItem\n        });\n\n        if (!this.debouncedQtyFn) {\n          this.debouncedQtyFn = _.debounce(() => {\n            this.handleQtyApiUpdate();\n          }, 1000);\n        }\n\n        this.debouncedQtyFn();\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please enter valid quantity!\"\n        });\n      }\n    };\n\n    this.handleQtyApiUpdate = () => {\n      let {\n        cartList,\n        changedItem\n      } = this.state;\n\n      if (changedItem) {\n        let ChangedList = cartList.filter(item => item.id == changedItem);\n        let qty = ChangedList[0][\"quantity\"];\n        let id = ChangedList[0][\"id\"];\n        let body = {\n          quantity: qty\n        };\n        this.props.commonPatchApi(`itemcart/${id}/qtyupdate/`, body).then(async () => {\n          await this.setState({\n            changedItem: \"\"\n          });\n          this.getCart();\n        });\n      }\n    };\n\n    this.handleUnitPriceChange = (event, item, index) => {\n      //event.persist();\n      let selectedItemPrice = Number(item.price).toFixed(2); // let selectedItemData = item;\n      // let selectedItemIndex = index;\n\n      console.log(item, \"unitpriceitemdata\");\n\n      if (Number(event.target.value) > 0) {\n        let {\n          cartList,\n          changedItem,\n          selectedItemPrice\n        } = this.state;\n        cartList[index][\"price\"] = Number(event.target.value);\n        changedItem = item.id;\n        this.setState({\n          cartList,\n          changedItem\n        });\n\n        if (!this.debouncedPriceFn) {\n          this.debouncedPriceFn = _.debounce(async () => {\n            this.handleUnitPriceApiUpdate();\n          }, 4000);\n        }\n\n        this.debouncedPriceFn();\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please enter valid amount!\"\n        });\n      }\n    };\n\n    this.handleUnitPriceApiUpdate = async () => {\n      let {\n        cartList,\n        changedItem\n      } = this.state;\n\n      if (changedItem) {\n        let ChangedList = cartList.filter(item => item.id == changedItem);\n\n        if (Number(ChangedList[0].item_price_ceiling) > 0 && Number(ChangedList[0].price) > Number(ChangedList[0].item_price_ceiling)) {\n          Toast({\n            type: \"error\",\n            message: `Please enter value between ${ChangedList[0].item_price_floor} (min) and ${ChangedList[0].item_price_ceiling} (max)`\n          });\n          ChangedList[0][\"price\"] = ChangedList[0][\"discount_price\"];\n          this.setState({\n            ChangedList\n          });\n          return false;\n        } else if (Number(ChangedList[0].item_price_floor) > 0 && Number(ChangedList[0].price) < Number(ChangedList[0].item_price_floor)) {\n          Toast({\n            type: \"error\",\n            message: `Please enter value between ${ChangedList[0].item_price_floor} (min) and ${ChangedList[0].item_price_ceiling} (max)`\n          });\n          ChangedList[0][\"price\"] = ChangedList[0][\"discount_price\"];\n          this.setState({\n            ChangedList\n          });\n          return false;\n        } else {\n          let qty = ChangedList[0][\"quantity\"];\n          let id = ChangedList[0][\"id\"];\n          let pricevalue = ChangedList[0][\"price\"];\n          let body = {\n            quantity: Number(qty),\n            price: Number(pricevalue).toFixed(2),\n            sales_staff: [],\n            itemstatus: null,\n            remark: null,\n            focreason: null,\n            holdreason: null,\n            holditemqty: null,\n            ratio: null\n          };\n\n          try {\n            this.props.commonUpdateApi(`itemcart/${id}/`, body).then(async () => {\n              await this.setState({\n                changedItem: \"\"\n              });\n              this.getCart();\n            });\n          } catch (e) {\n            console.log(e);\n          }\n        }\n      }\n    };\n\n    this.handlesingleCheckbox = async e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleRadioCheckbox = async type => {\n      let {\n        is_selectDeposit\n      } = this.state;\n\n      if (type !== is_selectDeposit) {\n        await this.setState({\n          is_selectDeposit: type\n        });\n        this.handleCommonDepositApiUpdate();\n      }\n    };\n\n    this.handleDepositChange = async event => {\n      let {\n        cartList\n      } = this.state;\n\n      if (Number(event.target.value) > 0 && cartList.length > 0) {\n        //event.persist();\n        let {\n          commonDeposit\n        } = this.state;\n        commonDeposit = event.target.value;\n        await this.setState({\n          commonDeposit\n        });\n\n        if (!this.debouncedDepositAmountFn) {\n          this.debouncedDepositAmountFn = _.debounce(() => {\n            this.handleCommonDepositApiUpdate();\n          }, 1000);\n        }\n\n        this.debouncedDepositAmountFn();\n      }\n    };\n\n    this.handleCommonDepositApiUpdate = () => {\n      let {\n        cartList,\n        is_selectDeposit,\n        commonDeposit,\n        cartId\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n\n      if (is_selectDeposit) {\n        let body = {\n          cust_noid: basicApptDetail.custId,\n          cart_id: cartId,\n          is_select: is_selectDeposit,\n          enter_deposit: Number(commonDeposit)\n        };\n\n        try {\n          this.props.commonCreateApi(`itemcart/SetAutoDeposit/`, body).then(async () => {\n            this.getCart();\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please select calculation type!\"\n        });\n      }\n    };\n\n    this.handleMultiSelectDefaultStaff = (data = []) => {\n      let {\n        defaultStaff\n      } = this.state;\n      defaultStaff = data;\n      this.setState({\n        defaultStaff\n      });\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleCommonApplyStaff = async () => {\n      let {\n        cartList,\n        treatmentCheck,\n        salesCheck,\n        defaultStaff\n      } = this.state;\n\n      if (defaultStaff.length > 0) {\n        if (salesCheck == true || treatmentCheck == true) {\n          let cartListCheckbox = cartList.find(acc => acc.selected === true);\n\n          if (cartListCheckbox) {\n            let {\n              cartList\n            } = this.state;\n            let cartIds = \"\";\n\n            for (let item of cartList) {\n              if (item.selected) {\n                if (cartIds !== \"\") {\n                  cartIds += \",\" + item.id;\n                } else {\n                  cartIds += item.id;\n                }\n              }\n            }\n\n            let body = {\n              cart_id: cartIds,\n              staff_id: defaultStaff.map(e => e.value).reduce((a, e) => a === \"\" ? e : a + \",\" + e, \"\"),\n              is_sales: salesCheck,\n              is_work: treatmentCheck\n            };\n\n            try {\n              this.props.commonCreateApi(`addremovestaff/`, body).then(key => {\n                let {\n                  status,\n                  data\n                } = key;\n\n                if (status == 200) {\n                  while (defaultStaff.length > 0) {\n                    document.querySelector(\".select__multi-value__remove\").click();\n                    defaultStaff.pop();\n                  }\n\n                  this.setState({\n                    defaultStaff: []\n                  });\n                  this.getCart();\n                }\n              });\n            } catch (e) {\n              console.log(e);\n            }\n          } else {\n            Toast({\n              type: \"error\",\n              message: \"Please Select Item for update!\"\n            });\n          }\n        } else {\n          Toast({\n            type: \"error\",\n            message: \"Please Select Sales or Work!\"\n          });\n        }\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please Select Staff!\"\n        });\n      }\n    };\n\n    this.handleClearAllConfirmation = () => {\n      this.setState(prevState => ({\n        isHandleConfirmationDialog: !prevState.isHandleConfirmationDialog\n      }));\n    };\n\n    this.handleLoginConfirmationDialog = async () => {\n      let {\n        cartList\n      } = this.state;\n\n      if (cartList.length > 0) {\n        let {\n          settingData\n        } = this.state;\n\n        if (settingData.transacdisc) {\n          await this.setState(prevState => ({\n            isLoginConfirmation: !prevState.isLoginConfirmation\n          }));\n        } else {\n          this.handleOpenTrac();\n        }\n      }\n    };\n\n    this.handleauthentication = async (user, pass) => {\n      let Body = {\n        username: user,\n        password: pass\n      };\n      this.props.commonCreateApi(`itemcart/TransacDiscLogin/`, Body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 200) {\n          await this.setState(prevState => ({\n            isLoginConfirmation: !prevState.isLoginConfirmation\n          }));\n          this.handleOpenTrac();\n        }\n      });\n    };\n\n    this.handleOpenTrac = async () => {\n      await this.setState(prevState => ({\n        isOpenEditDisc: !prevState.isOpenEditDisc\n      }));\n    };\n  }\n\n  componentDidMount() {\n    this.handleItemSettings();\n    this.getdefaultStaffList();\n    let {\n      basicApptDetail,\n      selectedCart\n    } = this.props;\n\n    if (basicApptDetail.custId) {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"custId\"] = basicApptDetail.custId;\n      formFields[\"custName\"] = basicApptDetail.custName;\n      formFields[\"cust_refer\"] = basicApptDetail.cust_refer;\n      this.setState({\n        formFields\n      });\n      this.getCart();\n    }\n\n    if (selectedCart) {}\n  }\n\n  render() {\n    let {\n      cartList,\n      customerOption,\n      cartData = {},\n      editCart = {},\n      isOpenTreatmentDone,\n      formFields,\n      isOpenPayment,\n      isOpenEditDisc,\n      isOpenEditcart,\n      headerDetails,\n      isOpenCustomer,\n      cartId,\n      isOpenTopup,\n      search,\n      exchangeBalance,\n      isOpenExchangePayment,\n      exchangeRemark,\n      exchangeBalanceAmount,\n      isOpenProductDetail,\n      isOpenCourseDetail,\n      isOpenPrepaidDetail,\n      isOpenDiscountDetail,\n      isOpenItemStatusDetail,\n      isOpenStaffSelectionDetail,\n      visible,\n      isOpenPackage,\n      defaultStaff,\n      salesdefaultStaff,\n      isOpenCombinedTopup,\n      settingData,\n      staffCommonListPopup,\n      staffList,\n      meta,\n      selectAll,\n      staffDeleteCommonListPopup,\n      availableStaffList,\n      availstaffmeta,\n      salesCheck,\n      treatmentCheck,\n      commonDeposit,\n      isHandleConfirmationDialog,\n      isLoginConfirmation\n    } = this.state;\n    let {\n      basicApptDetail,\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1419,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `col-md-7 col-sm-7 col-12 cart-item`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1420,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `item-list`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1422,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group col-md-3 col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1423,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Search Customer..\",\n      value: formFields.custName,\n      name: \"custName\",\n      onChange: this.handleSearch,\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1433,\n        columnNumber: 17\n      }\n    }), this.validator.message(\"customerName\", formFields.custName, \"required\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1446,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1447,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1448,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      onChange: e => this.handlesingleCheckbox(e),\n      name: \"salesCheck\",\n      checked: salesCheck,\n      type: \"checkbox\",\n      inputClass: `m-1 p-1 col-12`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1449,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"h6 mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1456,\n        columnNumber: 23\n      }\n    }, \"Sales\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1459,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1460,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      onChange: e => this.handlesingleCheckbox(e),\n      name: \"treatmentCheck\",\n      checked: treatmentCheck,\n      type: \"checkbox\",\n      inputClass: `m-1 p-1 col-12`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1461,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"h6 mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1468,\n        columnNumber: 23\n      }\n    }, \"Work\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1473,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1474,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1475,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      mainbgrev: true,\n      className: \"col-12\",\n      label: \"TD\",\n      onClick: () => history.push(`/admin/cart/treatment-done/${basicApptDetail.custId}`),\n      disabled: !basicApptDetail.custId,\n      leftIcon: tdIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1476,\n        columnNumber: 21\n      }\n    })), settingData.topupScreenOption1or2 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1491,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      styleTwo: true,\n      className: \"col-12\",\n      label: \"AR\",\n      onClick: () => this.handleTopup(),\n      disabled: !basicApptDetail.custId,\n      leftIcon: topupIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1492,\n        columnNumber: 23\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1503,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      styleTwo: true,\n      className: \"col-12\",\n      label: \"AR\",\n      onClick: () => this.handleCombinedTopup(),\n      disabled: !basicApptDetail.custId,\n      leftIcon: topupIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1504,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1515,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      styleThree: true,\n      className: \"col-12\",\n      label: \"Void\",\n      onClick: () => history.push(\"/admin/cart/bill-ops\"),\n      disabled: !basicApptDetail.custId,\n      leftIcon: billOpsIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1516,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1526,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      styleFour: true,\n      className: \"col-12\",\n      label: \"Profile\",\n      onClick: () => history.push(\"/admin/customerplus/\" + basicApptDetail.custId + \"/details\"),\n      disabled: !basicApptDetail.custId,\n      leftIcon: profileIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1527,\n        columnNumber: 21\n      }\n    })), cartList && cartList.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-right col-md-3 col-12 my-2 p-0 mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1544,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      styleFive: true,\n      className: \"col-12\",\n      label: \"Exchange\",\n      onClick: this.handleExchangeClick,\n      disabled: !basicApptDetail.custId,\n      leftIcon: exchangeIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1545,\n        columnNumber: 23\n      }\n    })) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1557,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group text-left col-md-9 col-12 my-2 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1558,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalMultiSelect, {\n      handleMultiSelect: this.handleMultiSelectDefaultStaff,\n      options: salesdefaultStaff,\n      value: this.state.defaultStaff,\n      name: \"defaultStaff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1559,\n        columnNumber: 21\n      }\n    })), cartList && cartList.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group col-md-3 col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1567,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"share w-100\",\n      applybg: true,\n      className: \"col-12\",\n      label: \"Apply\",\n      onClick: this.handleCommonApplyStaff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1568,\n        columnNumber: 23\n      }\n    })) : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1603,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination // pageMeta={pageMeta}\n      // isEmpty={cartList.length === 0 ? true:false}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1604,\n        columnNumber: 15\n      }\n    }, cartList.length > 0 ? cartList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1613,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1614,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `d-flex align-items-center justify-content-center`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1615,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n        onChange: e => this.handleCheckbox(e, item),\n        name: \"selected\",\n        checked: item.selected,\n        type: \"checkbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1618,\n          columnNumber: 31\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1626,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `d-flex align-items-center justify-content-center ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1627,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col p-0 pr-1 fs-18 cursor-pointer\",\n        onClick: () => this.handleDeleteCart(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1638,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1642,\n          columnNumber: 33\n        }\n      })), item.itemtype == \"PACKAGE\" ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col p-0 fs-18 cursor-pointer\",\n        onClick: () => this.handleOpenPackage(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1645,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: packageIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1649,\n          columnNumber: 35\n        }\n      })) : null)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative status-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1654,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: ``,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1655,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.handleItemCourseClick(item),\n        className: `d-flex cursor-pointer text-left ${item.is_course || item.is_prepaid ? \"text-primary\" : \"\"} ${item.deposit < 0 ? \"text-danger\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1656,\n          columnNumber: 29\n        }\n      }, item.itemdesc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1667,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-right`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1668,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1669,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          width: \"45px\",\n          textAlign: \"right\"\n        },\n        value: item.quantity,\n        name: \"quantity\",\n        onChange: event => this.handleQtyChange(event, item, index),\n        type: `number`,\n        min: 1,\n        maxLength: 5,\n        className: `customer-name text-right`,\n        disabled: item.is_tcm || item.is_td ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1670,\n          columnNumber: 33\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1691,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-right`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1692,\n          columnNumber: 29\n        }\n      }, item.is_unitprice ? /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        value: item.price,\n        name: \"price\",\n        onChange: e => this.handleUnitPriceChange(e, item, index),\n        className: \"col-12 p-1 text-right\",\n        disabled: item.is_tcm || item.is_td ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1694,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        value: item.price,\n        name: \"price\",\n        onChange: e => this.handleUnitPriceChange(e, item, index),\n        className: \"col-12 p-1 text-right\",\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1707,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1720,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.handleDiscountDetailClick(item),\n        className: `cursor-pointer text-right\n                              ${item.is_disc && (item.treatment_no === null || Number(item.treatment_no) <= 0) ? \"text-primary\" : \"\"}\n                              ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1721,\n          columnNumber: 29\n        }\n      }, item.discount)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1738,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-right ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1739,\n          columnNumber: 29\n        }\n      }, item.discount_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1747,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-right ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1748,\n          columnNumber: 29\n        }\n      }, item.trans_amt)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1756,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-right ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1757,\n          columnNumber: 29\n        }\n      }, item.deposit)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1765,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1766,\n          columnNumber: 29\n        }\n      }, item.itemstatus_name ? item.itemstatus_name : \"\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1774,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1775,\n          columnNumber: 29\n        }\n      }, item.sales_staff)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1783,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left\n                              ${item.is_tstaff && Number(item.quantity) == 1 ? \"\" : \"\"} \n                              ${item.deposit < 0 ? \"text-danger\" : \"\"} `,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1787,\n          columnNumber: 29\n        }\n      }, item.service_staff)));\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row payment-section py-2 fs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1805,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1806,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1807,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1808,\n        columnNumber: 19\n      }\n    }, t(\"Subtotal\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1809,\n        columnNumber: 19\n      }\n    }, \"$ \", cartData.subtotal ? cartData.subtotal : \"0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1812,\n        columnNumber: 19\n      }\n    }, t(\"Discount ($)\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1813,\n        columnNumber: 19\n      }\n    }, \"$ \", cartData.discount ? cartData.discount : \"0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1816,\n        columnNumber: 19\n      }\n    }, t(\"Transac amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1817,\n        columnNumber: 19\n      }\n    }, \"$ \", cartData.trans_amt ? cartData.trans_amt : \"0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1820,\n        columnNumber: 19\n      }\n    }, t(\"Deposit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1821,\n        columnNumber: 19\n      }\n    }, \"$ \", cartData.deposit_amt ? cartData.deposit_amt : \"0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1824,\n        columnNumber: 19\n      }\n    }, t(\"Balance\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1825,\n        columnNumber: 19\n      }\n    }, \"$ \", cartData.balance ? cartData.balance : \"0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1828,\n        columnNumber: 19\n      }\n    }, t(\"Outstanding\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1829,\n        columnNumber: 19\n      }\n    }, \"$ \", cartData.outstanding ? cartData.outstanding : \"0\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1834,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1835,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-12 text-right h6 fw-700\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1836,\n        columnNumber: 19\n      }\n    }, t(\"Total Billing Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-7 col-12 text-left text-orenge h5 fw-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1839,\n        columnNumber: 19\n      }\n    }, \"$\", cartData.billable_amount ? cartData.billable_amount : \"0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1843,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-12 text-right h6 font-700\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1844,\n        columnNumber: 19\n      }\n    }, t(\"Deposit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-12 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1847,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"number\",\n      value: this.state.commonDeposit,\n      name: \"commonDeposit\",\n      onChange: this.handleDepositChange,\n      className: \"col-12 p-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1848,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 text-left p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1856,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap p-0 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1857,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1858,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      checked: this.state.is_selectDeposit == \"amount\" ? true : false,\n      onChange: () => this.handleRadioCheckbox(`amount`),\n      className: \"fs-12 m-1\",\n      icon: false,\n      name: `toptoBottom`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1859,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1870,\n        columnNumber: 25\n      }\n    }, t(\"Top to bottom by Amount\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1872,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      checked: this.state.is_selectDeposit == \"auto\" ? true : false,\n      onChange: () => this.handleRadioCheckbox(`auto`),\n      className: \"fs-12 m-1\",\n      name: `toptoBottom`,\n      icon: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1873,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1882,\n        columnNumber: 25\n      }\n    }, t(\"Auto proportion for all lines\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row col-12 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1888,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1889,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1890,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1891,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1892,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      resetbg: true,\n      className: \"col-12\",\n      label: \"Clear All\",\n      onClick: () => this.handleClearAllConfirmation(),\n      leftIcon: clearAllIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1893,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1901,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: false,\n      className: \"col-12 submit-btn\",\n      label: \"Checkout\",\n      onClick: () => this.handleCheckout(),\n      leftIcon: checkoutIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1902,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1910,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbgrev: true,\n      className: \"col-12\",\n      label: \"Trac/Disc\",\n      onClick: this.handleLoginConfirmationDialog,\n      leftIcon: TransactionIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1911,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1921,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-sm-5 col-12 pl-2 pr-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1926,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Treatment, {\n      handleCartCreated: this.handleCartCreated,\n      handleCardItemCourseClick: editCart => this.handleCardItemCourseClick(editCart),\n      handleCardPrepaidClick: editCart => this.handleCardPrepaidClick(editCart),\n      custId: formFields && formFields.custId ? formFields.custId : basicApptDetail.custId,\n      defaultStaffId: defaultStaff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1927,\n        columnNumber: 11\n      }\n    })), visible ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customerSearch-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1944,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-4 table table-header w-100 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1945,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1946,\n        columnNumber: 15\n      }\n    }, t(\"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1947,\n        columnNumber: 15\n      }\n    }, t(\"Phone\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1948,\n        columnNumber: 15\n      }\n    }, t(\"Cust Code\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1949,\n        columnNumber: 15\n      }\n    }, t(\"Reference\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1950,\n        columnNumber: 15\n      }\n    }, t(\"Email\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1951,\n        columnNumber: 15\n      }\n    }, t(\"NRIC\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-table w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1953,\n        columnNumber: 13\n      }\n    }, customerOption.length > 0 ? customerOption.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 table-body w-100 border\",\n        onClick: () => this.handleSelectCustomer(item),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1957,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1962,\n          columnNumber: 23\n        }\n      }, item.cust_name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1963,\n          columnNumber: 23\n        }\n      }, item.cust_phone1), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1964,\n          columnNumber: 23\n        }\n      }, item.cust_code), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1965,\n          columnNumber: 23\n        }\n      }, item.cust_refer), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1966,\n          columnNumber: 23\n        }\n      }, item.cust_email), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1967,\n          columnNumber: 23\n        }\n      }, item.cust_nric));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1972,\n        columnNumber: 17\n      }\n    }, t(\"No Data are available\")))) : null, /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"payment-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenPayment,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1979,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1985,\n        columnNumber: 11\n      }\n    }), console.log(\"sfgdfjhfghjfjgkjk\", cartData), /*#__PURE__*/React.createElement(Payment, {\n      cartData: cartData,\n      id: basicApptDetail.custId,\n      cartId: cartList.length > 0 ? cartList[0].cart_id : \"\",\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1992,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"edit-cart-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenEditcart,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2000,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2006,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(EditCart, {\n      id: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2012,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"package-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenPackage,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2014,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2020,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(PackageCart, {\n      id: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2026,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-discount-update\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenEditDisc,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2031,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2037,\n        columnNumber: 11\n      }\n    }), isOpenEditDisc ? /*#__PURE__*/React.createElement(EditDiscount, {\n      id: cartId,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2045,\n        columnNumber: 13\n      }\n    }) : \"\"), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal\",\n      style: {\n        minWidth: \"55%\"\n      },\n      modal: isOpenTreatmentDone,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2053,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2059,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TreatmentDone, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2065,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenTopup,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2133,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2139,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Topup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2145,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"85%\"\n      },\n      modal: isOpenCombinedTopup,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2157,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CombineTopup, {\n      id: basicApptDetail.custId,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2163,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"payment-modal\",\n      style: {\n        minWidth: \"40%\"\n      },\n      modal: isOpenExchangePayment,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2168,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2174,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fs-18 fw-700 mb-3 title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2181,\n        columnNumber: 11\n      }\n    }, t(\"Exchange Payment\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pl-0 mb-2 fs-15 fw-500 py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2182,\n        columnNumber: 11\n      }\n    }, t(\"Extra Amount\"), \" \\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-center text-orenge fs-18 font-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2184,\n        columnNumber: 13\n      }\n    }, \"$ \", exchangeBalanceAmount), \"\\xA0\", t(\"Need to Return to Customer\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2190,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2192,\n        columnNumber: 15\n      }\n    }, t(\"Remark\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group myp-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      value: exchangeRemark,\n      name: \"exchangeRemark\",\n      onChange: this.exchangeRemarkChange,\n      className: \"custome-name px-3 p-0 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2196,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-around pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2205,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-13  \",\n      label: \"Return Cash\",\n      onClick: () => {\n        this.handleExchangeLessthanZero(\"Cash\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2206,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-13 \",\n      label: \"Issue Credit Notes\",\n      onClick: () => {\n        this.handleExchangeLessthanZero(\"Credit\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2215,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-13 \",\n      label: \"Forfeit [Cash = 0]\",\n      onClick: () => {\n        this.handleExchangeLessthanZero(\"Forfeit\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2224,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenProductDetail,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2240,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ProductDetailsPopup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2246,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenCourseDetail,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2252,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialogCoursepopup,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2258,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CoursePopup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      itemData: editCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2264,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"60%\"\n      },\n      modal: isOpenPrepaidDetail,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2271,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2277,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(PrepaidPopup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2283,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"50%\"\n      },\n      modal: isOpenDiscountDetail,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2290,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2296,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ItemDiscountPopup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2302,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenItemStatusDetail,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2308,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2314,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ItemStatusPopup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2320,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenStaffSelectionDetail,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2326,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2332,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(StaffSelectionPopup, {\n      id: cartId,\n      cartId: editCart.id,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2338,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-reversal\",\n      style: {\n        minWidth: \"30%\"\n      },\n      modal: isHandleConfirmationDialog,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2344,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleClearAllConfirmation,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2350,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2356,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2357,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2358,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2359,\n        columnNumber: 17\n      }\n    }, t(\"Confirmation\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2361,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2362,\n        columnNumber: 17\n      }\n    }, t(\"Are you sure want to continue\"), \" ?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2364,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2365,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Confirm\",\n      mainbg: true,\n      name: \"clearallconfirm\",\n      className: `w-100 col-12`,\n      onClick: this.handleClearAllCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2366,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2374,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Cancel\",\n      resetbg: true,\n      name: \"clearallCancel\",\n      className: `w-100 col-12`,\n      onClick: this.handleClearAllConfirmation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2375,\n        columnNumber: 19\n      }\n    })))))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"d-flex justify-content-center\",\n      style: {\n        minWidth: \"20%\"\n      },\n      modal: isLoginConfirmation,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2387,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleLoginConfirmationDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2393,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CredentialConfirmation, {\n      handleLoginSubmit: (user, pass) => this.handleauthentication(user, pass),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2399,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  selected_cstomer: state.common.selected_cstomer,\n  basicApptDetail: state.appointment.basicApptDetail,\n  selectedCart: state.common.selectedCart,\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    // getCustomer,\n    getCommonApi,\n    updateForm,\n    commonDeleteApi,\n    commonPatchApi,\n    commonCreateApi,\n    commonUpdateApi\n  }, dispatch);\n};\n\nexport const CartNew = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(CartNewClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Cart/cart.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","NormalTextarea","NormalCheckbox","NormalRadio","NormalMultiSelect","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonDeleteApi","commonPatchApi","commonCreateApi","commonUpdateApi","SimpleReactValidator","Treatment","Payment","EditCart","TreatmentDone","PackageCart","closeIcon","add","minus","EditDiscount","Topup","Toast","ProductDetailsPopup","ItemDiscountPopup","ItemStatusPopup","StaffSelectionPopup","CoursePopup","PrepaidPopup","packageIcon","withTranslation","tdIcon","topupIcon","billOpsIcon","profileIcon","exchangeIcon","clearAllIcon","checkoutIcon","TransactionIcon","StaffList","CombineTopup","CredentialConfirmation","CartNewClass","state","isOpen","currentIndex","cartList","cartData","formFields","custId","custName","outletList","label","value","isOpenPayment","isOpenEditcart","isOpenPackage","isOpenCustomer","isOpenEditDisc","isOpenTreatmentDone","headerDetails","width","selectAll","selectAllCheck","checkboxChange","e","handleSelectAllCheckbox","sortKey","className","dblclickFunc","handleItemHeaderDblClick","divClass","handleItemStatusHeaderDblClick","handleStaffSelectionHeaderClick","customerOption","discountFields","discount_per","discount_amt","reason","editCart","search","cartId","isOpenTopup","exchangeBalance","isOpenExchangePayment","exchangeRemark","exchangeBalanceAmount","exchangeType","isOpenProductDetail","isOpenCourseDetail","isOpenPrepaidDetail","isOpenDiscountDetail","isOpenItemStatusDetail","isOpenStaffSelectionDetail","visible","settingData","defaultStaff","isOpenCombinedTopup","staffCommonListPopup","staffList","meta","limit","staffDeleteCommonListPopup","availableStaffList","availstaffmeta","availstaffpage","page","changedItem","treatmentCheck","salesCheck","commonDeposit","toptoBottom","is_selectDeposit","isHandleConfirmationDialog","isLoginConfirmation","user","pass","componentWillMount","validator","element","message","autoForceUpdate","handleItemSettings","props","then","key","status","data","console","log","setState","getdefaultStaffList","res","salesdefaultStaff","dataList","push","id","emp_name","Number","tokenDetails","default_loginid","getCart","productCard","basicApptDetail","Date","cart_id","length","forEach","itemData","balance","slice","exchange","deposit_amt","handleClick","document","addEventListener","handleOutsideClick","removeEventListener","prevState","node","contains","target","getDateTime","date","String","split","date1","time","time1","handleSubmit","handleDialog","handleSearch","event","debouncedFn","debounce","searchString","handleSelectCustomer","cust_name","cust_refer","handleCartCreated","handleCheckout","body","cust_id","handleExchangePayment","type","handleExchangePay","sa_transacno","handleDeleteCart","handleEditCart","handleTreatmentDone","item","is_tstaff","quantity","handleReduceQuantity","handleAddQuantity","handleTopup","handleCombinedTopup","handleExchangeClick","exchangeRemarkChange","name","handleExchangeLessthanZero","remarks","return_type","handleItemCourseClick","is_course","is_prepaid","handleCardPrepaidClick","handleCardItemCourseClick","handleDiscountDetailClick","is_disc","treatment_no","handleOpenPackage","handleClearAllCart","handleClearAllConfirmation","handleDialogCoursepopup","getCourseListCheckForReset","is_service","handleCommonCreateEmployeePopup","getStafflist","selectedAddStaffType","pagination","handleNext","handleBack","handleCheckbox","cartListCheckbox","find","acc","getStafflistforMatch","handleavailStaffNext","handleavailStaffBack","handleQtyChange","index","debouncedQtyFn","handleQtyApiUpdate","ChangedList","filter","qty","handleUnitPriceChange","selectedItemPrice","price","toFixed","debouncedPriceFn","handleUnitPriceApiUpdate","item_price_ceiling","item_price_floor","pricevalue","sales_staff","itemstatus","remark","focreason","holdreason","holditemqty","ratio","handlesingleCheckbox","handleRadioCheckbox","handleCommonDepositApiUpdate","handleDepositChange","debouncedDepositAmountFn","cust_noid","is_select","enter_deposit","handleMultiSelectDefaultStaff","updateState","isMounted","handleCommonApplyStaff","selected","cartIds","staff_id","map","reduce","a","is_sales","is_work","querySelector","click","pop","handleLoginConfirmationDialog","transacdisc","handleOpenTrac","handleauthentication","Body","username","password","componentDidMount","selectedCart","render","t","topupScreenOption1or2","handlePagination","deposit","itemtype","itemdesc","textAlign","is_tcm","is_td","is_unitprice","discount","discount_price","trans_amt","itemstatus_name","service_staff","subtotal","outstanding","billable_amount","cust_phone1","cust_code","cust_email","cust_nric","minWidth","mapStateToProps","selected_cstomer","common","appointment","authStore","mapDispatchToProps","dispatch","CartNew"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport {\r\n  NormalButton,\r\n  NormalInput,\r\n  NormalSelect,\r\n  InputSearch,\r\n  NormalModal,\r\n  TableWrapper,\r\n  NormalTextarea,\r\n  NormalCheckbox,\r\n  NormalRadio,\r\n  NormalMultiSelect,\r\n} from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n} from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  Treatment,\r\n  Payment,\r\n  EditCart,\r\n  TreatmentDone,\r\n  PackageCart,\r\n} from \"./cart/index\";\r\nimport closeIcon from \"assets/images/close.png\";\r\n\r\nimport add from \"assets/images/add.png\";\r\nimport minus from \"assets/images/minus.png\";\r\n// import Discount from './cart/discount';\r\nimport { EditDiscount } from \"./cart/editDiscount\";\r\nimport { Topup } from \"./topup/topup\";\r\nimport { Toast } from \"service/toast\";\r\nimport { ProductDetailsPopup } from \"./cart/productDetailsPopup\";\r\nimport { ItemDiscountPopup } from \"./cart/ItemDiscountPopup\";\r\nimport { ItemStatusPopup } from \"./cart/itemStatusPopup\";\r\nimport { StaffSelectionPopup } from \"./cart/staffSelectionPopup\";\r\nimport { CoursePopup } from \"./cart/CoursePopup\";\r\nimport { PrepaidPopup } from \"./cart/PrepaidPopup\";\r\nimport packageIcon from \"assets/images/packing-icon.png\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nimport tdIcon from \"assets/images/tdIcon.png\";\r\nimport topupIcon from \"assets/images/topupIcon.png\";\r\nimport billOpsIcon from \"assets/images/billOpsIcon.png\";\r\nimport profileIcon from \"assets/images/profileIcon.png\";\r\nimport exchangeIcon from \"assets/images/exchangeIcon.png\";\r\nimport clearAllIcon from \"assets/images/clearAllIcon.png\";\r\nimport checkoutIcon from \"assets/images/checkoutIcon.png\";\r\nimport TransactionIcon from \"assets/images/TransactionIcon.png\";\r\nimport { StaffList } from \"../Cart/cart/StaffList\";\r\nimport { CombineTopup } from \"./CombineTopup/index.js\";\r\nimport { CredentialConfirmation } from \"./credentialConfirmation\";\r\n\r\nexport class CartNewClass extends Component {\r\n  state = {\r\n    isOpen: false,\r\n    currentIndex: -1,\r\n    cartList: [],\r\n    cartData: {},\r\n    formFields: {\r\n      custId: \"\",\r\n      custName: \"\",\r\n    },\r\n\r\n    outletList: [{ label: \"name\", value: \"id\" }],\r\n    isOpenPayment: false,\r\n    isOpenEditcart: false,\r\n    isOpenPackage: false,\r\n    isOpenCustomer: false,\r\n    isOpenEditDisc: false,\r\n    isOpenTreatmentDone: false,\r\n    headerDetails: [\r\n      {\r\n        label: \"\",\r\n        width: \"20px\",\r\n        selectAll: true,\r\n        selectAllCheck: false,\r\n        checkboxChange: e => this.handleSelectAllCheckbox(e),\r\n      },\r\n      { label: \"\", width: \"30px\" },\r\n      {\r\n        label: \"Item\",\r\n        sortKey: false,\r\n        width: \"135px\",\r\n        className: \"cursor-pointer border border-white text-warning \",\r\n        dblclickFunc: () => this.handleItemHeaderDblClick(true),\r\n      },\r\n      {\r\n        label: \"Qty\",\r\n        width: \"32px\",\r\n        divClass: \"justify-content-center text-center\",\r\n      },\r\n      {\r\n        label: \"Unit Price\",\r\n        sortKey: false,\r\n        width: \"80px\",\r\n        divClass: \"justify-content-center text-center\",\r\n      },\r\n      {\r\n        label: \"Disc $\",\r\n        sortKey: false,\r\n        width: \"58px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"D/Price\",\r\n        sortKey: false,\r\n        width: \"70px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Amt\",\r\n        sortKey: false,\r\n        width: \"72px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Deposit\",\r\n        sortKey: false,\r\n        width: \"72px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Item Status\",\r\n        sortKey: false,\r\n        width: \"90px\",\r\n        className: \"cursor-pointer border border-white text-warning\",\r\n        dblclickFunc: () => this.handleItemStatusHeaderDblClick(true),\r\n      },\r\n      {\r\n        label: \"S.Staff\",\r\n        sortKey: false,\r\n        width: \"90px\",\r\n        className: \"cursor-pointer border border-white text-warning\",\r\n        dblclickFunc: () => this.handleStaffSelectionHeaderClick(true),\r\n      },\r\n      {\r\n        label: \"T.Staff\",\r\n        sortKey: false,\r\n        width: \"90px\",\r\n        dblclickFunc: () => {},\r\n      },\r\n    ],\r\n    customerOption: [],\r\n    discountFields: {\r\n      discount_per: \"\",\r\n      discount_amt: \"\",\r\n      reason: \"\",\r\n    },\r\n    editCart: {},\r\n    search: \"\",\r\n    cartId: \"\",\r\n    isOpenTopup: false,\r\n    exchangeBalance: 0,\r\n    isOpenExchangePayment: false,\r\n    exchangeRemark: \"\",\r\n    exchangeBalanceAmount: 0,\r\n    exchangeType: false,\r\n    isOpenProductDetail: false,\r\n    isOpenCourseDetail: false,\r\n    isOpenPrepaidDetail: false,\r\n    isOpenDiscountDetail: false,\r\n    isOpenItemStatusDetail: false,\r\n    isOpenStaffSelectionDetail: false,\r\n    visible: false,\r\n    settingData: [],\r\n    defaultStaff: [],\r\n    isOpenCombinedTopup: false,\r\n    staffCommonListPopup: false,\r\n    staffList: [],\r\n    meta: {},\r\n    limit: 6,\r\n    selectAll: false,\r\n    staffDeleteCommonListPopup: false,\r\n    availableStaffList: [],\r\n    availstaffmeta: {},\r\n    availstaffpage: \"\",\r\n    page: \"\",\r\n    changedItem: \"\",\r\n    treatmentCheck: false,\r\n    salesCheck: false,\r\n    commonDeposit: \"\",\r\n    toptoBottom: false,\r\n    is_selectDeposit: \"\",\r\n    isHandleConfirmationDialog: false,\r\n    isLoginConfirmation: false,\r\n    user: \"\",\r\n    pass: \"\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // this.getCart();\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    this.handleItemSettings();\r\n    this.getdefaultStaffList();\r\n    let { basicApptDetail, selectedCart } = this.props;\r\n    if (basicApptDetail.custId) {\r\n      let { formFields } = this.state;\r\n      formFields[\"custId\"] = basicApptDetail.custId;\r\n      formFields[\"custName\"] = basicApptDetail.custName;\r\n      formFields[\"cust_refer\"] = basicApptDetail.cust_refer;\r\n      this.setState({ formFields });\r\n      this.getCart();\r\n    }\r\n    if (selectedCart) {\r\n    }\r\n  }\r\n\r\n  handleItemSettings = () => {\r\n    let { settingData } = this.state;\r\n    this.props.getCommonApi(`userlist/`).then(async key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"settingsData cartCreate\");\r\n      if (status === 200) {\r\n        settingData = data;\r\n        await this.setState({\r\n          settingData,\r\n        }); //settingData.default_loginid\r\n      }\r\n    });\r\n  };\r\n\r\n  getdefaultStaffList = async () => {\r\n    let { defaultStaff } = this.state;\r\n    this.props\r\n      .getCommonApi(`empcartlist/?sales_staff=1&page=1&limit=1000`)\r\n      .then(async res => {\r\n        console.log(res, \"salesdefaultstaff\");\r\n        let salesdefaultStaff = [];\r\n        // salesdefaultStaff.push({ value: \"All\", label: \"All\" });\r\n        // this.setState({ salesdefaultStaff });\r\n        let { data, status } = res;\r\n        if (status == 200) {\r\n          if (data.dataList)\r\n            for (let key of data.dataList) {\r\n              salesdefaultStaff.push({ value: key.id, label: key.emp_name });\r\n              if (key.id == Number(this.props.tokenDetails.default_loginid)) {\r\n                defaultStaff.push({\r\n                  value: key.id,\r\n                  label: key.emp_name,\r\n                });\r\n                await this.setState({\r\n                  defaultStaff,\r\n                });\r\n              }\r\n            }\r\n          await this.setState({ salesdefaultStaff });\r\n        }\r\n      });\r\n  };\r\n\r\n  getCart = () => {\r\n    let { productCard, cartList, cartId, cartData, headerDetails, formFields } =\r\n      this.state;\r\n    let { basicApptDetail } = this.props;\r\n    // this.props.getCommonApi(`itemcart/Check/?sitecodeid=${selected_cstomer.branchId}&cart_date=${\"2020-12-11\"}&cust_noid=${selected_cstomer.cust_noid}`).then((key) => {\r\n    this.props\r\n      .getCommonApi(\r\n        `itemcart/Check/?cart_date=${dateFormat(\r\n          new Date(),\r\n          \"yyyy-mm-dd\"\r\n        )}&cust_noid=${formFields.custId}`\r\n      )\r\n      .then(key => {\r\n        let { status, cartList, data, cart_id, commonDeposit } = key;\r\n        cartId = cart_id;\r\n        cartList = [];\r\n        cartData = [];\r\n        commonDeposit = \"\";\r\n        this.setState({ cartId, cartList, cartData, commonDeposit });\r\n        if (data.length !== 0) {\r\n          this.props\r\n            .getCommonApi(\r\n              `itemcart/?cart_date=${dateFormat(\r\n                new Date(),\r\n                \"yyyy-mm-dd\"\r\n              )}&cust_noid=${formFields.custId}&cart_id=${cart_id}`\r\n            )\r\n            .then(async res => {\r\n              cartData = [];\r\n              let { status, data } = res;\r\n              console.log(res, \"returndatacartitemlist\");\r\n              if (status === 200) {\r\n                if (data.length > 0) {\r\n                  data.forEach(element => {\r\n                    let itemData = element;\r\n                    itemData[\"selected\"] = false;\r\n                    cartData.push({\r\n                      itemData,\r\n                    });\r\n                  });\r\n                }\r\n                headerDetails[0][\"selectAllCheck\"] = false;\r\n                this.setState({\r\n                  cartList: data,\r\n                  cartData: res,\r\n                  cartId,\r\n                  exchangeBalanceAmount: res.balance.slice(1),\r\n                  exchangeType: res.exchange,\r\n                  selectAll: false,\r\n                  headerDetails,\r\n                  commonDeposit: res.deposit_amt,\r\n                  treatmentCheck: false,\r\n                  salesCheck: false,\r\n                });\r\n              }\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleClick = key => {\r\n    if (!this.state.visible) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    if (this.state.visible) {\r\n      let { basicApptDetail } = this.props;\r\n      this.search(basicApptDetail);\r\n    }\r\n    this.setState(prevState => ({\r\n      visible: !prevState.visible,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  getDateTime = data => {\r\n    let date = new Date(data);\r\n    date = String(date).split(\" \");\r\n    let date1 = date[2] + \"th \" + date[1] + \", \" + date[3];\r\n    let time = date[4].split(\":\");\r\n    let time1 =\r\n      String(Number(time[0]) > 12 ? Number(time[0]) - 12 : time[0]) +\r\n      \":\" +\r\n      time[1] +\r\n      (Number(time[0]) > 12 ? \"PM\" : \"AM\");\r\n    return time1 + \", \" + date1;\r\n  };\r\n\r\n  handleSubmit = id => {\r\n    history.push(`/admin/payment/${id}`);\r\n  };\r\n\r\n  handleDialog = async () => {\r\n    let {\r\n      isOpenPayment,\r\n      isOpenEditcart,\r\n      isOpenPackage,\r\n      isOpenCustomer,\r\n      isOpenEditDisc,\r\n      isOpenTreatmentDone,\r\n      isOpenTopup,\r\n      isOpenExchangePayment,\r\n      isOpenProductDetail,\r\n      isOpenCourseDetail,\r\n      isOpenPrepaidDetail,\r\n      isOpenDiscountDetail,\r\n      isOpenItemStatusDetail,\r\n      isOpenStaffSelectionDetail,\r\n      isOpenCombinedTopup,\r\n    } = this.state;\r\n    isOpenPayment = false;\r\n    isOpenEditcart = false;\r\n    isOpenPackage = false;\r\n    isOpenCustomer = false;\r\n    isOpenEditDisc = false;\r\n    isOpenTreatmentDone = false;\r\n    isOpenTopup = false;\r\n    isOpenExchangePayment = false;\r\n    isOpenProductDetail = false;\r\n    isOpenCourseDetail = false;\r\n    isOpenPrepaidDetail = false;\r\n    isOpenDiscountDetail = false;\r\n    isOpenItemStatusDetail = false;\r\n    isOpenStaffSelectionDetail = false;\r\n    isOpenCombinedTopup = false;\r\n    await this.setState({\r\n      isOpenPayment,\r\n      isOpenEditcart,\r\n      isOpenPackage,\r\n      isOpenCustomer,\r\n      isOpenEditDisc,\r\n      isOpenTreatmentDone,\r\n      editCart: {},\r\n      isOpenTopup,\r\n      isOpenExchangePayment,\r\n      isOpenProductDetail,\r\n      isOpenCourseDetail,\r\n      isOpenPrepaidDetail,\r\n      isOpenDiscountDetail,\r\n      isOpenItemStatusDetail,\r\n      isOpenStaffSelectionDetail,\r\n      isOpenCombinedTopup,\r\n    });\r\n    this.getCart();\r\n  };\r\n\r\n  handleSearch = async event => {\r\n    // event.persist();\r\n    let { formFields, visible } = this.state;\r\n    formFields.custName = event.target.value;\r\n    await this.setState({ formFields, visible: true });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.search();\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  search = searchString => {\r\n    let { formFields } = this.state;\r\n    this.props\r\n      .getCommonApi(`custappt/?search=${formFields.custName}`)\r\n      .then(key => {\r\n        let { status, data } = key;\r\n\r\n        if (status === 200) {\r\n          // for (let value of data) {\r\n          //     customerList.push({ value: value.id, label: value.emp_name })\r\n          // }\r\n          this.setState({ customerOption: data });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSelectCustomer = async data => {\r\n    let { formFields } = this.state;\r\n    formFields[\"custId\"] = data.id;\r\n    formFields[\"custName\"] = data.cust_name;\r\n    formFields[\"cust_refer\"] = data.cust_refer;\r\n    await this.setState({\r\n      formFields,\r\n      // isOpenCustomer: false,\r\n      search: \"\",\r\n      customerOption: [],\r\n    });\r\n    await this.props.updateForm(\"basicApptDetail\", formFields);\r\n    console.log(this.props.basicApptDetail, \"sdfsadfasdf\");\r\n    this.handleClick();\r\n    this.getCart();\r\n  };\r\n\r\n  handleCartCreated = () => {\r\n    this.getCart();\r\n  };\r\n\r\n  // handleCheckout = () => {\r\n  //   let { isOpenPayment, cartData, cartList, cartId, exchangeType } =\r\n  //     this.state;\r\n  //   let { basicApptDetail } = this.props;\r\n  //   if (exchangeType && cartData.balance == 0) {\r\n  //     if (cartList && cartList.length > 1) {\r\n  //       let body = {\r\n  //         cust_id: basicApptDetail.custId,\r\n  //         cart_id: cartId,\r\n  //       };\r\n  //       this.handleExchangePayment(body);\r\n  //     } else {\r\n  //       Toast({\r\n  //         type: \"error\",\r\n  //         message: \"Please Add Product for Exchange!\",\r\n  //       });\r\n  //     }\r\n  //   } else if (exchangeType && cartData.balance < 0) {\r\n  //     if (cartList && cartList.length > 1) {\r\n  //       this.handleExchangePay();\r\n  //     } else {\r\n  //       Toast({\r\n  //         type: \"error\",\r\n  //         message: \"Please Add Product for Exchange!\",\r\n  //       });\r\n  //     }\r\n  //   } else {\r\n  //     isOpenPayment = true;\r\n  //     this.setState({ isOpenPayment });\r\n  //   }\r\n  // };\r\n  handleCheckout = () => {\r\n    let { isOpenPayment, cartData, cartList, cartId, exchangeType } =\r\n      this.state;\r\n    let { basicApptDetail } = this.props;\r\n\r\n    if (cartList.length > 0) {\r\n      if (exchangeType && cartData.balance == 0) {\r\n        if (cartList && cartList.length > 1) {\r\n          let body = {\r\n            cust_id: basicApptDetail.custId,\r\n            cart_id: cartId,\r\n          };\r\n          this.handleExchangePayment(body);\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please Add Product for Exchange!\",\r\n          });\r\n        }\r\n      } else if (exchangeType && cartData.balance < 0) {\r\n        if (cartList && cartList.length > 1) {\r\n          this.handleExchangePay();\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please Add Product for Exchange!\",\r\n          });\r\n        }\r\n      } else {\r\n        isOpenPayment = true;\r\n        this.setState({ isOpenPayment });\r\n      }\r\n    }\r\n  };\r\n  handleExchangePayment = body => {\r\n    this.props.commonCreateApi(`exchangeproductconfirm/`, body).then(key => {\r\n      let { status, data } = key;\r\n      if (status == 201) {\r\n        this.getCart();\r\n        history.push(`/admin/billing/print/bill/${data.sa_transacno}`);\r\n      }\r\n    });\r\n  };\r\n\r\n  handleDeleteCart = async data => {\r\n    this.props.commonDeleteApi(`itemcart/${data.id}/`).then(() => {\r\n      this.getCart();\r\n    });\r\n  };\r\n\r\n  handleEditCart = async data => {\r\n    let { isOpenEditcart, editCart } = this.state;\r\n    isOpenEditcart = true;\r\n    editCart = data;\r\n    this.setState({\r\n      isOpenEditcart,\r\n      editCart,\r\n    });\r\n  };\r\n\r\n  handleTreatmentDone = async item => {\r\n    if (item.is_tstaff && Number(item.quantity) == 1) {\r\n      let { isOpenTreatmentDone, editCart } = this.state;\r\n      editCart = item;\r\n      await this.setState({ editCart });\r\n      this.setState({ isOpenTreatmentDone: true });\r\n    }\r\n  };\r\n\r\n  handleReduceQuantity = data => {\r\n    let body = { quantity: 1 };\r\n    this.props\r\n      .commonPatchApi(`itemcart/${data.id}/qtyupdate/?check=0`, body)\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n  };\r\n\r\n  handleAddQuantity = data => {\r\n    let body = { quantity: 1 };\r\n    this.props\r\n      .commonPatchApi(`itemcart/${data.id}/qtyupdate/?check=1`, body)\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n  };\r\n\r\n  // topup flow\r\n  handleTopup = () => {\r\n    let { isOpenTopup } = this.state;\r\n    isOpenTopup = true;\r\n    this.setState({\r\n      isOpenTopup,\r\n    });\r\n  };\r\n  handleCombinedTopup = () => {\r\n    let isOpenCombinedTopup = true;\r\n    this.setState({\r\n      isOpenCombinedTopup,\r\n    });\r\n  };\r\n\r\n  handleExchangeClick = () => {\r\n    let { cartList, cartId } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    if (cartList && cartList.length > 0 && basicApptDetail.custId) {\r\n      let body = {\r\n        cust_id: basicApptDetail.custId,\r\n        cart_id: cartId,\r\n      };\r\n      this.props.commonCreateApi(`exchangeproduct/`, body).then(key => {\r\n        let { status } = key;\r\n        if (status == 200) {\r\n          this.getCart();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleExchangePay = () => {\r\n    let { isOpenExchangePayment } = this.state;\r\n    isOpenExchangePayment = true;\r\n    this.setState({ isOpenExchangePayment });\r\n  };\r\n  exchangeRemarkChange = async event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  handleExchangeLessthanZero = async data => {\r\n    let { cartId, exchangeRemark } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    let body = {\r\n      cust_id: basicApptDetail.custId,\r\n      cart_id: cartId,\r\n      remarks: exchangeRemark,\r\n      return_type: data,\r\n    };\r\n    this.handleExchangePayment(body);\r\n  };\r\n\r\n  handleItemHeaderDblClick = data => {\r\n    let { isOpenProductDetail } = this.state;\r\n    isOpenProductDetail = data;\r\n    this.setState({\r\n      isOpenProductDetail,\r\n    });\r\n  };\r\n  handleItemCourseClick = data => {\r\n    if (data.is_course) {\r\n      let { isOpenCourseDetail, editCart } = this.state;\r\n      isOpenCourseDetail = true;\r\n      editCart = data;\r\n      this.setState({\r\n        isOpenCourseDetail,\r\n        editCart,\r\n      });\r\n    }\r\n    if (data.is_prepaid) {\r\n      let { isOpenPrepaidDetail, editCart } = this.state;\r\n      isOpenPrepaidDetail = true;\r\n      editCart = data;\r\n      this.setState({\r\n        isOpenPrepaidDetail,\r\n        editCart,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleCardPrepaidClick = data => {\r\n    let { isOpenPrepaidDetail, editCart } = this.state;\r\n    isOpenPrepaidDetail = true;\r\n    editCart = data;\r\n    this.setState({\r\n      isOpenPrepaidDetail,\r\n      editCart,\r\n    });\r\n  };\r\n  handleCardItemCourseClick = data => {\r\n    let { isOpenCourseDetail, editCart } = this.state;\r\n    isOpenCourseDetail = true;\r\n    editCart = data;\r\n    this.setState({\r\n      isOpenCourseDetail,\r\n      editCart,\r\n    });\r\n  };\r\n  handleItemStatusHeaderDblClick = data => {\r\n    let { isOpenItemStatusDetail } = this.state;\r\n    isOpenItemStatusDetail = data;\r\n    this.setState({\r\n      isOpenItemStatusDetail,\r\n    });\r\n  };\r\n\r\n  handleDiscountDetailClick = data => {\r\n    if (data.is_disc) {\r\n      if (data.treatment_no == null || Number(data.treatment_no) <= 0) {\r\n        let { isOpenDiscountDetail, editCart } = this.state;\r\n        isOpenDiscountDetail = true;\r\n        editCart = data;\r\n        this.setState({\r\n          isOpenDiscountDetail,\r\n          editCart,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  handleStaffSelectionHeaderClick = data => {\r\n    let { isOpenStaffSelectionDetail } = this.state;\r\n    isOpenStaffSelectionDetail = data;\r\n    this.setState({\r\n      isOpenStaffSelectionDetail,\r\n    });\r\n  };\r\n  handleOpenPackage = async data => {\r\n    let { isOpenPackage, editCart } = this.state;\r\n    isOpenPackage = true;\r\n    editCart = data;\r\n    this.setState({\r\n      isOpenPackage,\r\n      editCart,\r\n    });\r\n  };\r\n  handleClearAllCart = async () => {\r\n    let { cartList } = this.state;\r\n    if (cartList.length > 0) {\r\n      const cartId = this.state.cartList[0].cart_id;\r\n\r\n      this.props\r\n        .commonCreateApi(`cartitemdelete/?cart_id=${cartId}`)\r\n        .then(res => {\r\n          this.setState({\r\n            cartList: [],\r\n          });\r\n          this.getCart();\r\n          this.handleClearAllConfirmation();\r\n        });\r\n    }\r\n  };\r\n  handleDialogCoursepopup = () => {\r\n    this.getCourseListCheckForReset();\r\n    this.handleDialog();\r\n  };\r\n\r\n  getCourseListCheckForReset = () => {\r\n    let { editCart } = this.state;\r\n    this.props\r\n      .getCommonApi(`cartservicecourse/${editCart.id}/`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(data, \"cartcoursepopupforreset\");\r\n        if (status == \"200\") {\r\n          if (data) {\r\n            if (\r\n              !data.is_service &&\r\n              (Number(data.treatment_no) == 0 || data.treatment_no == null)\r\n            ) {\r\n              let body = {\r\n                cart_id: editCart.id,\r\n              };\r\n              this.props\r\n                .commonCreateApi(`cartservicecourse/reset/`, body)\r\n                .then(async key => {\r\n                  let { status, data } = key;\r\n                  console.log(key, \"resetresponse\");\r\n                });\r\n            }\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  // handleChangeDefaultstaff = e => {\r\n  //   this.setState({\r\n  //     [e.target.name]: e.target.value,\r\n  //   });\r\n  //   let { cartList } = this.state;\r\n  //   let cartListCheckbox = cartList.find(acc => acc.selected === true);\r\n  //   if (cartListCheckbox) {\r\n  //     let { cartList } = this.state;\r\n  //     let cartIds = \"\";\r\n  //     for (let item of cartList) {\r\n  //       if (item.selected) {\r\n  //         if (cartIds !== \"\") {\r\n  //           cartIds += \",\" + item.id;\r\n  //         } else {\r\n  //           cartIds += item.id;\r\n  //         }\r\n  //       }\r\n  //     }\r\n\r\n  //     let body = {\r\n  //       cart_id: cartIds,\r\n  //       staff_id: e.target.value,\r\n  //       is_sales: true,\r\n  //       is_work: false,\r\n  //     };\r\n  //     try {\r\n  //       this.props.commonCreateApi(`addremovestaff/`, body).then(key => {\r\n  //         let { status, data } = key;\r\n  //         if (status == 200) {\r\n  //           this.getCart();\r\n  //         }\r\n  //       });\r\n  //     } catch (e) {\r\n  //       console.log(e);\r\n  //     }\r\n  //   }\r\n  // };\r\n\r\n  // handleCommonAddNewStaff = async () => {\r\n  //   let { cartList, treatmentCheck, salesCheck } = this.state;\r\n  //   if (salesCheck == true || treatmentCheck == true) {\r\n  //     let cartListCheckbox = cartList.find(acc => acc.selected === true);\r\n  //     if (cartListCheckbox) {\r\n  //       await this.setState({\r\n  //         staffList: [],\r\n  //         meta: {},\r\n  //         page: 1,\r\n  //       });\r\n  //       this.getStafflist();\r\n  //       this.setState({\r\n  //         staffCommonListPopup: true,\r\n  //       });\r\n  //     } else {\r\n  //       Toast({\r\n  //         type: \"error\",\r\n  //         message: \"Please Select Item for update!\",\r\n  //       });\r\n  //     }\r\n  //   } else {\r\n  //     Toast({\r\n  //       type: \"error\",\r\n  //       message: \"Please Select Sales or Work!\",\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  handleCommonCreateEmployeePopup = () => {\r\n    this.setState(prevState => ({\r\n      staffCommonListPopup: !prevState.staffCommonListPopup,\r\n    }));\r\n  };\r\n\r\n  getStafflist = data => {\r\n    let { page, limit, selectedAddStaffType } = this.state;\r\n    this.props\r\n      .getCommonApi(`empcartlist/?sales_staff=1&page=${page}&limit=${limit}`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\r\n        let { staffList } = this.state;\r\n        let { meta } = this.state;\r\n        staffList = [];\r\n        meta = {};\r\n        staffList = data;\r\n        meta = data.meta.pagination;\r\n        console.log(meta, \"metalist\");\r\n        this.setState({\r\n          staffList,\r\n          meta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  // handleCommonSelectedStaff = async selectedItem => {\r\n  //   let { cartList, treatmentCheck, salesCheck } = this.state;\r\n  //   let cartIds = \"\";\r\n  //   for (let item of cartList) {\r\n  //     if (item.selected) {\r\n  //       if (cartIds !== \"\") {\r\n  //         cartIds += \",\" + item.id;\r\n  //       } else {\r\n  //         cartIds += item.id;\r\n  //       }\r\n  //     }\r\n  //   }\r\n\r\n  //   let body = {\r\n  //     cart_id: cartIds,\r\n  //     staff_id: selectedItem.id,\r\n  //     is_sales: salesCheck,\r\n  //     is_work: treatmentCheck,\r\n  //   };\r\n\r\n  //   this.handleCommonAddNewStaffAPI(body);\r\n  // };\r\n\r\n  // handleCommonDeleteSelectedStaff = async selectedItem => {\r\n  //   let { cartList, treatmentCheck, salesCheck } = this.state;\r\n  //   let cartIds = \"\";\r\n  //   for (let item of cartList) {\r\n  //     if (item.selected) {\r\n  //       if (cartIds !== \"\") {\r\n  //         cartIds += \",\" + item.id;\r\n  //       } else {\r\n  //         cartIds += item.id;\r\n  //       }\r\n  //     }\r\n  //   }\r\n\r\n  //   let body = {\r\n  //     cart_id: cartIds,\r\n  //     staff_id: selectedItem.id,\r\n  //     is_sales: salesCheck,\r\n  //     is_work: treatmentCheck,\r\n  //   };\r\n\r\n  //   this.handleCommonDeleteNewStaffAPI(body);\r\n  // };\r\n\r\n  handleSelectAllCheckbox = async ({ target: { value, name } }) => {\r\n    let { cartList, headerDetails } = this.state;\r\n    headerDetails[0][\"selectAllCheck\"] = value;\r\n    await this.setState({ selectAll: value, headerDetails });\r\n    for (let item of cartList) {\r\n      item[\"selected\"] = value;\r\n      await this.setState({ ...this.state.cartList, item });\r\n    }\r\n    await this.setState({ cartList });\r\n  };\r\n  handleCheckbox = async ({ target: { value, name } }, item) => {\r\n    let { cartList } = this.state;\r\n    let cartListCheckbox = cartList.find(acc => acc.id === item.id);\r\n    if (cartListCheckbox) {\r\n      cartListCheckbox[\"selected\"] = value;\r\n      await this.setState({ ...this.state.cartList, cartListCheckbox });\r\n    }\r\n  };\r\n\r\n  // handleCommonDeleteNewStaffAPI = body => {\r\n  //   try {\r\n  //     this.props.commonCreateApi(`addremovestaff/remove/`, body).then(key => {\r\n  //       let { status, data } = key;\r\n  //       if (status == 200) {\r\n  //         this.getCart();\r\n  //         this.handleCommonDeleteEmployeePopup();\r\n  //       }\r\n  //     });\r\n  //   } catch (e) {\r\n  //     console.log(e);\r\n  //   }\r\n  // };\r\n\r\n  // handleCommonAddNewStaffAPI = body => {\r\n  //   try {\r\n  //     this.props.commonCreateApi(`addremovestaff/`, body).then(key => {\r\n  //       let { status, data } = key;\r\n  //       if (status == 200) {\r\n  //         this.getCart();\r\n  //         this.handleCommonCreateEmployeePopup();\r\n  //       }\r\n  //     });\r\n  //   } catch (e) {\r\n  //     console.log(e);\r\n  //   }\r\n  // };\r\n\r\n  // handleCommonDeleteEmployeePopup = () => {\r\n  //   this.setState(prevState => ({\r\n  //     staffDeleteCommonListPopup: !prevState.staffDeleteCommonListPopup,\r\n  //   }));\r\n  // };\r\n\r\n  // handleCommonDeleteStaffClick = async () => {\r\n  //   let { cartList, treatmentCheck, salesCheck } = this.state;\r\n  //   if (salesCheck == true || treatmentCheck == true) {\r\n  //     let cartListCheckbox = cartList.find(acc => acc.selected === true);\r\n  //     if (cartListCheckbox) {\r\n  //       await this.setState({\r\n  //         availableStaffList: [],\r\n  //         availstaffmeta: {},\r\n  //         availstaffpage: 1,\r\n  //       });\r\n  //       this.getStafflistforMatch();\r\n  //       this.setState({\r\n  //         staffDeleteCommonListPopup: true,\r\n  //       });\r\n  //     } else {\r\n  //       Toast({\r\n  //         type: \"error\",\r\n  //         message: \"Please Select Item for update!\",\r\n  //       });\r\n  //     }\r\n  //   } else {\r\n  //     Toast({\r\n  //       type: \"error\",\r\n  //       message: \"Please Select Sales or Work!\",\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  getStafflistforMatch = data => {\r\n    let { availstaffpage, availstaffmeta, availableStaffList, limit, cartId } =\r\n      this.state;\r\n    let { basicApptDetail } = this.props;\r\n    this.props\r\n      .getCommonApi(\r\n        `itemcart/salesstafflist/?cust_noid=${basicApptDetail.custId}&cart_id=${cartId}&page=${availstaffpage}&limit=${limit}`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"deletestafflist\");\r\n        availableStaffList = [];\r\n        availstaffmeta = {};\r\n        if (data) {\r\n          availableStaffList = data;\r\n          availstaffmeta = data.meta.pagination;\r\n        }\r\n        console.log(availstaffmeta, \"metalist\");\r\n        this.setState({\r\n          availableStaffList,\r\n          availstaffmeta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleavailStaffNext = async () => {\r\n    let { availstaffpage } = this.state;\r\n    availstaffpage = availstaffpage + 1;\r\n    await this.setState({\r\n      availstaffpage,\r\n    });\r\n    if (availstaffpage > 0) {\r\n      this.getStafflistforMatch();\r\n    }\r\n  };\r\n\r\n  handleavailStaffBack = async () => {\r\n    let { availstaffpage } = this.state;\r\n    availstaffpage = availstaffpage - 1;\r\n    await this.setState({\r\n      availstaffpage,\r\n    });\r\n    if (availstaffpage > 0) {\r\n      this.getStafflistforMatch();\r\n    }\r\n  };\r\n\r\n  handleQtyChange = (event, item, index) => {\r\n    if (Number(event.target.value) > 0) {\r\n      //event.persist();\r\n      let { cartList } = this.state;\r\n      cartList[index][\"quantity\"] = event.target.value;\r\n      let changedItem = item.id;\r\n      this.setState({ cartList, changedItem });\r\n      if (!this.debouncedQtyFn) {\r\n        this.debouncedQtyFn = _.debounce(() => {\r\n          this.handleQtyApiUpdate();\r\n        }, 1000);\r\n      }\r\n      this.debouncedQtyFn();\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please enter valid quantity!\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleQtyApiUpdate = () => {\r\n    let { cartList, changedItem } = this.state;\r\n    if (changedItem) {\r\n      let ChangedList = cartList.filter(item => item.id == changedItem);\r\n      let qty = ChangedList[0][\"quantity\"];\r\n      let id = ChangedList[0][\"id\"];\r\n      let body = { quantity: qty };\r\n\r\n      this.props\r\n        .commonPatchApi(`itemcart/${id}/qtyupdate/`, body)\r\n        .then(async () => {\r\n          await this.setState({\r\n            changedItem: \"\",\r\n          });\r\n          this.getCart();\r\n        });\r\n    }\r\n  };\r\n\r\n  handleUnitPriceChange = (event, item, index) => {\r\n    //event.persist();\r\n    let selectedItemPrice = Number(item.price).toFixed(2);\r\n    // let selectedItemData = item;\r\n    // let selectedItemIndex = index;\r\n    console.log(item, \"unitpriceitemdata\");\r\n    if (Number(event.target.value) > 0) {\r\n      let { cartList, changedItem, selectedItemPrice } = this.state;\r\n      cartList[index][\"price\"] = Number(event.target.value);\r\n      changedItem = item.id;\r\n      this.setState({\r\n        cartList,\r\n        changedItem,\r\n      });\r\n      if (!this.debouncedPriceFn) {\r\n        this.debouncedPriceFn = _.debounce(async () => {\r\n          this.handleUnitPriceApiUpdate();\r\n        }, 4000);\r\n      }\r\n      this.debouncedPriceFn();\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please enter valid amount!\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleUnitPriceApiUpdate = async () => {\r\n    let { cartList, changedItem } = this.state;\r\n    if (changedItem) {\r\n      let ChangedList = cartList.filter(item => item.id == changedItem);\r\n      if (\r\n        Number(ChangedList[0].item_price_ceiling) > 0 &&\r\n        Number(ChangedList[0].price) > Number(ChangedList[0].item_price_ceiling)\r\n      ) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: `Please enter value between ${ChangedList[0].item_price_floor} (min) and ${ChangedList[0].item_price_ceiling} (max)`,\r\n        });\r\n        ChangedList[0][\"price\"] = ChangedList[0][\"discount_price\"];\r\n        this.setState({\r\n          ChangedList,\r\n        });\r\n        return false;\r\n      } else if (\r\n        Number(ChangedList[0].item_price_floor) > 0 &&\r\n        Number(ChangedList[0].price) < Number(ChangedList[0].item_price_floor)\r\n      ) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: `Please enter value between ${ChangedList[0].item_price_floor} (min) and ${ChangedList[0].item_price_ceiling} (max)`,\r\n        });\r\n        ChangedList[0][\"price\"] = ChangedList[0][\"discount_price\"];\r\n        this.setState({\r\n          ChangedList,\r\n        });\r\n\r\n        return false;\r\n      } else {\r\n        let qty = ChangedList[0][\"quantity\"];\r\n        let id = ChangedList[0][\"id\"];\r\n        let pricevalue = ChangedList[0][\"price\"];\r\n\r\n        let body = {\r\n          quantity: Number(qty),\r\n          price: Number(pricevalue).toFixed(2),\r\n          sales_staff: [],\r\n          itemstatus: null,\r\n          remark: null,\r\n          focreason: null,\r\n          holdreason: null,\r\n          holditemqty: null,\r\n          ratio: null,\r\n        };\r\n        try {\r\n          this.props.commonUpdateApi(`itemcart/${id}/`, body).then(async () => {\r\n            await this.setState({\r\n              changedItem: \"\",\r\n            });\r\n            this.getCart();\r\n          });\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handlesingleCheckbox = async e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleRadioCheckbox = async type => {\r\n    let { is_selectDeposit } = this.state;\r\n    if (type !== is_selectDeposit) {\r\n      await this.setState({\r\n        is_selectDeposit: type,\r\n      });\r\n      this.handleCommonDepositApiUpdate();\r\n    }\r\n  };\r\n\r\n  handleDepositChange = async event => {\r\n    let { cartList } = this.state;\r\n    if (Number(event.target.value) > 0 && cartList.length > 0) {\r\n      //event.persist();\r\n      let { commonDeposit } = this.state;\r\n      commonDeposit = event.target.value;\r\n      await this.setState({ commonDeposit });\r\n      if (!this.debouncedDepositAmountFn) {\r\n        this.debouncedDepositAmountFn = _.debounce(() => {\r\n          this.handleCommonDepositApiUpdate();\r\n        }, 1000);\r\n      }\r\n      this.debouncedDepositAmountFn();\r\n    }\r\n  };\r\n\r\n  handleCommonDepositApiUpdate = () => {\r\n    let { cartList, is_selectDeposit, commonDeposit, cartId } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    if (is_selectDeposit) {\r\n      let body = {\r\n        cust_noid: basicApptDetail.custId,\r\n        cart_id: cartId,\r\n        is_select: is_selectDeposit,\r\n        enter_deposit: Number(commonDeposit),\r\n      };\r\n      try {\r\n        this.props\r\n          .commonCreateApi(`itemcart/SetAutoDeposit/`, body)\r\n          .then(async () => {\r\n            this.getCart();\r\n          });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please select calculation type!\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleMultiSelectDefaultStaff = (data = []) => {\r\n    let { defaultStaff } = this.state;\r\n    defaultStaff = data;\r\n    this.setState({ defaultStaff });\r\n  };\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleCommonApplyStaff = async () => {\r\n    let { cartList, treatmentCheck, salesCheck, defaultStaff } = this.state;\r\n    if (defaultStaff.length > 0) {\r\n      if (salesCheck == true || treatmentCheck == true) {\r\n        let cartListCheckbox = cartList.find(acc => acc.selected === true);\r\n        if (cartListCheckbox) {\r\n          let { cartList } = this.state;\r\n          let cartIds = \"\";\r\n          for (let item of cartList) {\r\n            if (item.selected) {\r\n              if (cartIds !== \"\") {\r\n                cartIds += \",\" + item.id;\r\n              } else {\r\n                cartIds += item.id;\r\n              }\r\n            }\r\n          }\r\n\r\n          let body = {\r\n            cart_id: cartIds,\r\n            staff_id: defaultStaff\r\n              .map(e => e.value)\r\n              .reduce((a, e) => (a === \"\" ? e : a + \",\" + e), \"\"),\r\n            is_sales: salesCheck,\r\n            is_work: treatmentCheck,\r\n          };\r\n          try {\r\n            this.props.commonCreateApi(`addremovestaff/`, body).then(key => {\r\n              let { status, data } = key;\r\n              if (status == 200) {\r\n                while (defaultStaff.length > 0) {\r\n                  document\r\n                    .querySelector(\".select__multi-value__remove\")\r\n                    .click();\r\n                  defaultStaff.pop();\r\n                }\r\n                this.setState({ defaultStaff: [] });\r\n                this.getCart();\r\n              }\r\n            });\r\n          } catch (e) {\r\n            console.log(e);\r\n          }\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please Select Item for update!\",\r\n          });\r\n        }\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Please Select Sales or Work!\",\r\n        });\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please Select Staff!\",\r\n      });\r\n    }\r\n  };\r\n  handleClearAllConfirmation = () => {\r\n    this.setState(prevState => ({\r\n      isHandleConfirmationDialog: !prevState.isHandleConfirmationDialog,\r\n    }));\r\n  };\r\n\r\n  handleLoginConfirmationDialog = async () => {\r\n    let { cartList } = this.state;\r\n    if (cartList.length > 0) {\r\n      let { settingData } = this.state;\r\n      if (settingData.transacdisc) {\r\n        await this.setState(prevState => ({\r\n          isLoginConfirmation: !prevState.isLoginConfirmation,\r\n        }));\r\n      } else {\r\n        this.handleOpenTrac();\r\n      }\r\n    }\r\n  };\r\n\r\n  handleauthentication = async (user, pass) => {\r\n    let Body = {\r\n      username: user,\r\n      password: pass,\r\n    };\r\n    this.props\r\n      .commonCreateApi(`itemcart/TransacDiscLogin/`, Body)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          await this.setState(prevState => ({\r\n            isLoginConfirmation: !prevState.isLoginConfirmation,\r\n          }));\r\n          this.handleOpenTrac();\r\n        }\r\n      });\r\n  };\r\n\r\n  handleOpenTrac = async () => {\r\n    await this.setState(prevState => ({\r\n      isOpenEditDisc: !prevState.isOpenEditDisc,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      cartList,\r\n      customerOption,\r\n      cartData = {},\r\n      editCart = {},\r\n      isOpenTreatmentDone,\r\n      formFields,\r\n      isOpenPayment,\r\n      isOpenEditDisc,\r\n      isOpenEditcart,\r\n      headerDetails,\r\n      isOpenCustomer,\r\n      cartId,\r\n      isOpenTopup,\r\n      search,\r\n      exchangeBalance,\r\n      isOpenExchangePayment,\r\n      exchangeRemark,\r\n      exchangeBalanceAmount,\r\n      isOpenProductDetail,\r\n      isOpenCourseDetail,\r\n      isOpenPrepaidDetail,\r\n      isOpenDiscountDetail,\r\n      isOpenItemStatusDetail,\r\n      isOpenStaffSelectionDetail,\r\n      visible,\r\n      isOpenPackage,\r\n      defaultStaff,\r\n      salesdefaultStaff,\r\n      isOpenCombinedTopup,\r\n      settingData,\r\n      staffCommonListPopup,\r\n      staffList,\r\n      meta,\r\n      selectAll,\r\n      staffDeleteCommonListPopup,\r\n      availableStaffList,\r\n      availstaffmeta,\r\n      salesCheck,\r\n      treatmentCheck,\r\n      commonDeposit,\r\n      isHandleConfirmationDialog,\r\n      isLoginConfirmation,\r\n    } = this.state;\r\n    let { basicApptDetail, t } = this.props;\r\n    return (\r\n      <div className=\"row new-cart\">\r\n        <div className={`col-md-7 col-sm-7 col-12 cart-item`}>\r\n          <div className={`item-list`}>\r\n            <div className=\"row\">\r\n              <div className=\"input-group col-md-3 col-12 my-2\">\r\n                {/* <NormalSelect\r\n                  buttonClass={`mt-2`}\r\n                  placeholder=\"Select Staff\"\r\n                  options={salesdefaultStaff}\r\n                  value={defaultStaff} //\r\n                  name=\"defaultStaff\"\r\n                  onChange={this.handleChangeDefaultstaff}\r\n                  className=\"customer-name status\"\r\n                /> */}\r\n                <NormalInput\r\n                  placeholder=\"Search Customer..\"\r\n                  value={formFields.custName}\r\n                  name=\"custName\"\r\n                  onChange={this.handleSearch}\r\n                  onClick={this.handleClick}\r\n                />\r\n                {this.validator.message(\r\n                  \"customerName\",\r\n                  formFields.custName,\r\n                  \"required\"\r\n                )}\r\n\r\n                <div className=\"d-flex\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"d-flex mt-2\">\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handlesingleCheckbox(e)}\r\n                        name=\"salesCheck\"\r\n                        checked={salesCheck}\r\n                        type=\"checkbox\"\r\n                        inputClass={`m-1 p-1 col-12`}\r\n                      />\r\n                      <span className=\"h6 mt-1\">Sales</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"d-flex mt-2\">\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handlesingleCheckbox(e)}\r\n                        name=\"treatmentCheck\"\r\n                        checked={treatmentCheck}\r\n                        type=\"checkbox\"\r\n                        inputClass={`m-1 p-1 col-12`}\r\n                      />\r\n                      <span className=\"h6 mt-1\">Work</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-9\">\r\n                <div className=\"d-flex flex-wrap justify-content-start\">\r\n                  <div className=\"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\">\r\n                    <NormalButton\r\n                      buttonClass={\"share w-100\"}\r\n                      mainbgrev={true}\r\n                      className=\"col-12\"\r\n                      label=\"TD\"\r\n                      onClick={() =>\r\n                        history.push(\r\n                          `/admin/cart/treatment-done/${basicApptDetail.custId}`\r\n                        )\r\n                      }\r\n                      disabled={!basicApptDetail.custId}\r\n                      leftIcon={tdIcon}\r\n                    />\r\n                  </div>\r\n                  {settingData.topupScreenOption1or2 ? (\r\n                    <div className=\"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\">\r\n                      <NormalButton\r\n                        buttonClass={\"share w-100\"}\r\n                        styleTwo={true}\r\n                        className=\"col-12\"\r\n                        label=\"AR\"\r\n                        onClick={() => this.handleTopup()}\r\n                        disabled={!basicApptDetail.custId}\r\n                        leftIcon={topupIcon}\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\">\r\n                      <NormalButton\r\n                        buttonClass={\"share w-100\"}\r\n                        styleTwo={true}\r\n                        className=\"col-12\"\r\n                        label=\"AR\"\r\n                        onClick={() => this.handleCombinedTopup()}\r\n                        disabled={!basicApptDetail.custId}\r\n                        leftIcon={topupIcon}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  <div className=\"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\">\r\n                    <NormalButton\r\n                      buttonClass={\"share w-100\"}\r\n                      styleThree={true}\r\n                      className=\"col-12\"\r\n                      label=\"Void\"\r\n                      onClick={() => history.push(\"/admin/cart/bill-ops\")}\r\n                      disabled={!basicApptDetail.custId}\r\n                      leftIcon={billOpsIcon}\r\n                    />\r\n                  </div>\r\n                  <div className=\"input-group text-right col-md-2 col-12 my-2 p-0 mx-1\">\r\n                    <NormalButton\r\n                      buttonClass={\"share w-100\"}\r\n                      styleFour={true}\r\n                      className=\"col-12\"\r\n                      label=\"Profile\"\r\n                      onClick={() =>\r\n                        history.push(\r\n                          \"/admin/customerplus/\" +\r\n                            basicApptDetail.custId +\r\n                            \"/details\"\r\n                        )\r\n                      }\r\n                      disabled={!basicApptDetail.custId}\r\n                      leftIcon={profileIcon}\r\n                    />\r\n                  </div>\r\n                  {cartList && cartList.length > 0 ? (\r\n                    <div className=\"input-group text-right col-md-3 col-12 my-2 p-0 mx-1\">\r\n                      <NormalButton\r\n                        buttonClass={\"share w-100\"}\r\n                        styleFive={true}\r\n                        className=\"col-12\"\r\n                        label=\"Exchange\"\r\n                        onClick={this.handleExchangeClick}\r\n                        disabled={!basicApptDetail.custId}\r\n                        leftIcon={exchangeIcon}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n                <div className=\"d-flex flex-wrap justify-content-start\">\r\n                  <div className=\"input-group text-left col-md-9 col-12 my-2 p-0\">\r\n                    <NormalMultiSelect\r\n                      handleMultiSelect={this.handleMultiSelectDefaultStaff}\r\n                      options={salesdefaultStaff}\r\n                      value={this.state.defaultStaff}\r\n                      name=\"defaultStaff\"\r\n                    />\r\n                  </div>\r\n                  {cartList && cartList.length > 0 ? (\r\n                    <div className=\"input-group col-md-3 col-12 my-2\">\r\n                      <NormalButton\r\n                        buttonClass={\"share w-100\"}\r\n                        applybg={true}\r\n                        className=\"col-12\"\r\n                        label=\"Apply\"\r\n                        onClick={this.handleCommonApplyStaff}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                  {/* {cartList && cartList.length > 0 ? (\r\n                    <div className=\"input-group text-right col-md-3 col-12 my-2\">\r\n                      <NormalButton\r\n                        buttonClass={\"share w-100\"}\r\n                        applybg={true}\r\n                        className=\"col-12\"\r\n                        label=\"Add Staff\"\r\n                        onClick={this.handleCommonAddNewStaff}\r\n                      />\r\n                    </div>\r\n                  ) : null} \r\n                  {cartList && cartList.length > 0 ? (\r\n                    <div className=\"input-group text-right col-md-3 col-12 my-2\">\r\n                      <NormalButton\r\n                        buttonClass={\"share w-100\"}\r\n                        resetbg={true}\r\n                        className=\"col-12\"\r\n                        label=\"Delete Staff\"\r\n                        onClick={this.handleCommonDeleteStaffClick}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                  */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mb-5\">\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n                // pageMeta={pageMeta}\r\n                // isEmpty={cartList.length === 0 ? true:false}\r\n              >\r\n                {cartList.length > 0\r\n                  ? cartList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div\r\n                              className={`d-flex align-items-center justify-content-center`}\r\n                            >\r\n                              <NormalCheckbox\r\n                                onChange={e => this.handleCheckbox(e, item)}\r\n                                name=\"selected\"\r\n                                checked={item.selected}\r\n                                type=\"checkbox\"\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`d-flex align-items-center justify-content-center ${\r\n                                item.deposit < 0 ? \"text-danger\" : \"\"\r\n                              } `}\r\n                            >\r\n                              {/* <div\r\n                                className=\"col p-0 fs-19 cursor-pointer d-none\"\r\n                                onClick={() => this.handleEditCart(item)}\r\n                              >\r\n                                <span className=\"icon-edit\"></span>\r\n                              </div> */}\r\n                              <div\r\n                                className=\"col p-0 pr-1 fs-18 cursor-pointer\"\r\n                                onClick={() => this.handleDeleteCart(item)}\r\n                              >\r\n                                <span className=\"icon-delete\"></span>\r\n                              </div>\r\n                              {item.itemtype == \"PACKAGE\" ? (\r\n                                <div\r\n                                  className=\"col p-0 fs-18 cursor-pointer\"\r\n                                  onClick={() => this.handleOpenPackage(item)}\r\n                                >\r\n                                  <img src={packageIcon} />\r\n                                </div>\r\n                              ) : null}\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"position-relative status-type\">\r\n                            <span className={``}></span>\r\n                            <div\r\n                              onClick={() => this.handleItemCourseClick(item)}\r\n                              className={`d-flex cursor-pointer text-left ${\r\n                                item.is_course || item.is_prepaid\r\n                                  ? \"text-primary\"\r\n                                  : \"\"\r\n                              } ${item.deposit < 0 ? \"text-danger\" : \"\"}`}\r\n                            >\r\n                              {item.itemdesc}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-right`}>\r\n                              <div className=\"input-group\">\r\n                                <input\r\n                                  style={{\r\n                                    width: \"45px\",\r\n                                    textAlign: \"right\",\r\n                                  }}\r\n                                  value={item.quantity}\r\n                                  name=\"quantity\"\r\n                                  onChange={event =>\r\n                                    this.handleQtyChange(event, item, index)\r\n                                  }\r\n                                  type={`number`}\r\n                                  min={1}\r\n                                  maxLength={5}\r\n                                  className={`customer-name text-right`}\r\n                                  disabled={\r\n                                    item.is_tcm || item.is_td ? true : false\r\n                                  }\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-right`}>\r\n                              {item.is_unitprice ? (\r\n                                <NormalInput\r\n                                  type=\"number\"\r\n                                  value={item.price}\r\n                                  name=\"price\"\r\n                                  onChange={e =>\r\n                                    this.handleUnitPriceChange(e, item, index)\r\n                                  }\r\n                                  className=\"col-12 p-1 text-right\"\r\n                                  disabled={\r\n                                    item.is_tcm || item.is_td ? true : false\r\n                                  }\r\n                                />\r\n                              ) : (\r\n                                <NormalInput\r\n                                  type=\"number\"\r\n                                  value={item.price}\r\n                                  name=\"price\"\r\n                                  onChange={e =>\r\n                                    this.handleUnitPriceChange(e, item, index)\r\n                                  }\r\n                                  className=\"col-12 p-1 text-right\"\r\n                                  disabled={true}\r\n                                />\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              onClick={() =>\r\n                                this.handleDiscountDetailClick(item)\r\n                              }\r\n                              className={`cursor-pointer text-right\r\n                              ${\r\n                                item.is_disc &&\r\n                                (item.treatment_no === null ||\r\n                                  Number(item.treatment_no) <= 0)\r\n                                  ? \"text-primary\"\r\n                                  : \"\"\r\n                              }\r\n                              ${item.deposit < 0 ? \"text-danger\" : \"\"} `}\r\n                            >\r\n                              {item.discount}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`text-right ${\r\n                                item.deposit < 0 ? \"text-danger\" : \"\"\r\n                              } `}\r\n                            >\r\n                              {item.discount_price}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`text-right ${\r\n                                item.deposit < 0 ? \"text-danger\" : \"\"\r\n                              } `}\r\n                            >\r\n                              {item.trans_amt}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`text-right ${\r\n                                item.deposit < 0 ? \"text-danger\" : \"\"\r\n                              } `}\r\n                            >\r\n                              {item.deposit}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`text-left ${\r\n                                item.deposit < 0 ? \"text-danger\" : \"\"\r\n                              } `}\r\n                            >\r\n                              {item.itemstatus_name ? item.itemstatus_name : \"\"}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`text-left ${\r\n                                item.deposit < 0 ? \"text-danger\" : \"\"\r\n                              } `}\r\n                            >\r\n                              {item.sales_staff}\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                          //className={`cursor-pointer`}\r\n                          // onClick={() => this.handleTreatmentDone(item)}\r\n                          >\r\n                            <div\r\n                              className={`text-left\r\n                              ${\r\n                                item.is_tstaff && Number(item.quantity) == 1\r\n                                  ? \"\"\r\n                                  : \"\"\r\n                              } \r\n                              ${item.deposit < 0 ? \"text-danger\" : \"\"} `}\r\n                            >\r\n                              {item.service_staff}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            </div>\r\n            <div className=\"row payment-section py-2 fs-12\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <div className=\"d-flex flex-wrap\">\r\n                  <div className=\"col-6\">{t(\"Subtotal\")}</div>\r\n                  <div className=\"col-6\">\r\n                    $ {cartData.subtotal ? cartData.subtotal : \"0\"}\r\n                  </div>\r\n                  <div className=\"col-6\">{t(\"Discount ($)\")}</div>\r\n                  <div className=\"col-6\">\r\n                    $ {cartData.discount ? cartData.discount : \"0\"}\r\n                  </div>\r\n                  <div className=\"col-6\">{t(\"Transac amount\")}</div>\r\n                  <div className=\"col-6\">\r\n                    $ {cartData.trans_amt ? cartData.trans_amt : \"0\"}\r\n                  </div>\r\n                  <div className=\"col-6\">{t(\"Deposit\")}</div>\r\n                  <div className=\"col-6\">\r\n                    $ {cartData.deposit_amt ? cartData.deposit_amt : \"0\"}\r\n                  </div>\r\n                  <div className=\"col-6\">{t(\"Balance\")}</div>\r\n                  <div className=\"col-6\">\r\n                    $ {cartData.balance ? cartData.balance : \"0\"}\r\n                  </div>\r\n                  <div className=\"col-6\">{t(\"Outstanding\")}</div>\r\n                  <div className=\"col-6\">\r\n                    $ {cartData.outstanding ? cartData.outstanding : \"0\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <div className=\"d-flex flex-wrap mb-1\">\r\n                  <div className=\"col-md-5 col-12 text-right h6 fw-700\">\r\n                    {t(\"Total Billing Amount\")}\r\n                  </div>\r\n                  <div className=\"col-md-7 col-12 text-left text-orenge h5 fw-600\">\r\n                    ${cartData.billable_amount ? cartData.billable_amount : \"0\"}\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex flex-wrap\">\r\n                  <div className=\"col-md-5 col-12 text-right h6 font-700\">\r\n                    {t(\"Deposit\")}\r\n                  </div>\r\n                  <div className=\"col-md-3 col-12 text-left\">\r\n                    <NormalInput\r\n                      type=\"number\"\r\n                      value={this.state.commonDeposit}\r\n                      name=\"commonDeposit\"\r\n                      onChange={this.handleDepositChange}\r\n                      className=\"col-12 p-1 text-right\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-4 col-12 text-left p-0\">\r\n                    <div className=\"d-flex flex-wrap p-0 m-0\">\r\n                      <div className=\"\">\r\n                        <NormalCheckbox\r\n                          checked={\r\n                            this.state.is_selectDeposit == \"amount\"\r\n                              ? true\r\n                              : false\r\n                          }\r\n                          onChange={() => this.handleRadioCheckbox(`amount`)}\r\n                          className=\"fs-12 m-1\"\r\n                          icon={false}\r\n                          name={`toptoBottom`}\r\n                        />\r\n                        <span>{t(\"Top to bottom by Amount\")}</span>\r\n                      </div>\r\n                      <div className=\"\">\r\n                        <NormalCheckbox\r\n                          checked={\r\n                            this.state.is_selectDeposit == \"auto\" ? true : false\r\n                          }\r\n                          onChange={() => this.handleRadioCheckbox(`auto`)}\r\n                          className=\"fs-12 m-1\"\r\n                          name={`toptoBottom`}\r\n                          icon={false}\r\n                        />\r\n                        <span>{t(\"Auto proportion for all lines\")}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row col-12 mt-2\">\r\n                <div className=\"col-md-2\"></div>\r\n                <div className=\"col-md-8 col-12\">\r\n                  <div className=\"d-flex flex-wrap justify-content-start\">\r\n                    <div className=\"col-md-4 col-12 p-1\">\r\n                      <NormalButton\r\n                        resetbg={true}\r\n                        className=\"col-12\"\r\n                        label=\"Clear All\"\r\n                        onClick={() => this.handleClearAllConfirmation()}\r\n                        leftIcon={clearAllIcon}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12 p-1\">\r\n                      <NormalButton\r\n                        mainbg={false}\r\n                        className=\"col-12 submit-btn\"\r\n                        label=\"Checkout\"\r\n                        onClick={() => this.handleCheckout()}\r\n                        leftIcon={checkoutIcon}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12 p-1\">\r\n                      <NormalButton\r\n                        mainbgrev={true}\r\n                        className=\"col-12\"\r\n                        label=\"Trac/Disc\"\r\n                        onClick={this.handleLoginConfirmationDialog}\r\n                        leftIcon={TransactionIcon}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-2\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-5 col-sm-5 col-12 pl-2 pr-0\">\r\n          <Treatment\r\n            handleCartCreated={this.handleCartCreated}\r\n            handleCardItemCourseClick={editCart =>\r\n              this.handleCardItemCourseClick(editCart)\r\n            }\r\n            handleCardPrepaidClick={editCart =>\r\n              this.handleCardPrepaidClick(editCart)\r\n            }\r\n            custId={\r\n              formFields && formFields.custId\r\n                ? formFields.custId\r\n                : basicApptDetail.custId\r\n            }\r\n            defaultStaffId={defaultStaff}\r\n          ></Treatment>\r\n        </div>\r\n        {visible ? (\r\n          <div className=\"customerSearch-block\">\r\n            <div className=\"d-flex mt-4 table table-header w-100 m-0\">\r\n              <div className=\"col-2\">{t(\"Name\")}</div>\r\n              <div className=\"col-2\">{t(\"Phone\")}</div>\r\n              <div className=\"col-2\">{t(\"Cust Code\")}</div>\r\n              <div className=\"col-2\">{t(\"Reference\")}</div>\r\n              <div className=\"col-3\">{t(\"Email\")}</div>\r\n              <div className=\"col-1\">{t(\"NRIC\")}</div>\r\n            </div>\r\n            <div className=\"response-table w-100\">\r\n              {customerOption.length > 0 ? (\r\n                customerOption.map((item, index) => {\r\n                  return (\r\n                    <div\r\n                      className=\"row m-0 table-body w-100 border\"\r\n                      onClick={() => this.handleSelectCustomer(item)}\r\n                      key={index}\r\n                    >\r\n                      <div className=\"col-2\">{item.cust_name}</div>\r\n                      <div className=\"col-2\">{item.cust_phone1}</div>\r\n                      <div className=\"col-2\">{item.cust_code}</div>\r\n                      <div className=\"col-2\">{item.cust_refer}</div>\r\n                      <div className=\"col-3\">{item.cust_email}</div>\r\n                      <div className=\"col-1\">{item.cust_nric}</div>\r\n                    </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <div className=\"text-center w-100\">\r\n                  {t(\"No Data are available\")}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <NormalModal\r\n          className={\"payment-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenPayment}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          {console.log(\"sfgdfjhfghjfjgkjk\", cartData)}\r\n          <Payment\r\n            cartData={cartData}\r\n            id={basicApptDetail.custId}\r\n            cartId={cartList.length > 0 ? cartList[0].cart_id : \"\"}\r\n            handleModal={this.handleDialog}\r\n          ></Payment>\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"edit-cart-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenEditcart}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <EditCart id={editCart.id} handleModal={this.handleDialog}></EditCart>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"package-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenPackage}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <PackageCart\r\n            id={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></PackageCart>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-discount-update\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenEditDisc}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          {/* <Discount discountFields={()=>{}} handleChange={()=>{}} handleSubmit={()=>{}}></Discount> */}\r\n          {isOpenEditDisc ? (\r\n            <EditDiscount\r\n              id={cartId}\r\n              handleModal={this.handleDialog}\r\n            ></EditDiscount>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal\"}\r\n          style={{ minWidth: \"55%\" }}\r\n          modal={isOpenTreatmentDone}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <TreatmentDone\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></TreatmentDone>\r\n        </NormalModal>\r\n        {/* <NormalModal\r\n          className={\"select-category customer-select\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenCustomer}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <div className=\"row mt-2 mb-5 mx-3\">\r\n            <div className=\"col-12 pl-0 mb-3 fs-18 py-2\">Select Customer</div>\r\n            <div className=\"col-2 pl-0\">Search</div>\r\n            <div className=\"col-5\">\r\n              <input\r\n                name=\"treatment\"\r\n                value={search}\r\n                onChange={this.handleSearch}\r\n                className=\"search m-0 p-0 px-3\"\r\n              />\r\n            </div>\r\n            <div className=\"col-3\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2 p-0\"}\r\n                mainbg={true}\r\n                className=\"confirm\"\r\n                label=\"Search\"\r\n                outline={false}\r\n                onClick={() => this.search(this.state.search)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"row mt-4 table-header w-100 m-0\">\r\n              <div className=\"col-3\">Name</div>\r\n              <div className=\"col-2\">Phone</div>\r\n              <div className=\"col-3\">Cust Code</div>\r\n              <div className=\"col-4\">Email</div>\r\n            </div>\r\n            <div className=\"response-table w-100\">\r\n              {customerOption && customerOption.length > 0 ? (\r\n                customerOption.map((item, index) => {\r\n                  return (\r\n                    <div\r\n                      className=\"row m-0 table-body w-100\"\r\n                      onClick={() => this.handleSelectCustomer(item)}\r\n                      key={index}\r\n                    >\r\n                      <div className=\"col-3\">{item.cust_name}</div>\r\n                      <div className=\"col-2\">{item.cust_phone1}</div>\r\n                      <div className=\"col-3\">{item.cust_code}</div>\r\n                      <div className=\"col-4\">{item.cust_email}</div>\r\n                    </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <div className=\"text-center w-100\">No Data are available</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </NormalModal> */}\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenTopup}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <Topup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></Topup>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"85%\" }}\r\n          modal={isOpenCombinedTopup}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <CombineTopup\r\n            id={basicApptDetail.custId}\r\n            handleModal={this.handleDialog}\r\n          />\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"payment-modal\"}\r\n          style={{ minWidth: \"40%\" }}\r\n          modal={isOpenExchangePayment}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <div className=\"fs-18 fw-700 mb-3 title\">{t(\"Exchange Payment\")}</div>\r\n          <div className=\"col-12 pl-0 mb-2 fs-15 fw-500 py-1\">\r\n            {t(\"Extra Amount\")} &nbsp;\r\n            <span className=\"text-center text-orenge fs-18 font-500\">\r\n              $ {exchangeBalanceAmount}\r\n            </span>\r\n            &nbsp;{t(\"Need to Return to Customer\")}\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <label className=\"text-left text-black common-label-text \">\r\n                {t(\"Remark\")}\r\n              </label>\r\n              <div className=\"input-group myp-0\">\r\n                <NormalTextarea\r\n                  value={exchangeRemark}\r\n                  name=\"exchangeRemark\"\r\n                  onChange={this.exchangeRemarkChange}\r\n                  className=\"custome-name px-3 p-0 col-12\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-around pt-3\">\r\n            <NormalButton\r\n              mainbg={true}\r\n              className=\"col-12 fs-13  \"\r\n              label=\"Return Cash\"\r\n              onClick={() => {\r\n                this.handleExchangeLessthanZero(\"Cash\");\r\n              }}\r\n            />\r\n\r\n            <NormalButton\r\n              mainbg={true}\r\n              className=\"col-12 fs-13 \"\r\n              label=\"Issue Credit Notes\"\r\n              onClick={() => {\r\n                this.handleExchangeLessthanZero(\"Credit\");\r\n              }}\r\n            />\r\n\r\n            <NormalButton\r\n              mainbg={true}\r\n              className=\"col-12 fs-13 \"\r\n              label=\"Forfeit [Cash = 0]\"\r\n              onClick={() => {\r\n                this.handleExchangeLessthanZero(\"Forfeit\");\r\n              }}\r\n            />\r\n          </div>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenProductDetail}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <ProductDetailsPopup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></ProductDetailsPopup>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenCourseDetail}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialogCoursepopup}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <CoursePopup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n            itemData={editCart}\r\n          ></CoursePopup>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"60%\" }}\r\n          modal={isOpenPrepaidDetail}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <PrepaidPopup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></PrepaidPopup>\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"50%\" }}\r\n          modal={isOpenDiscountDetail}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <ItemDiscountPopup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></ItemDiscountPopup>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenItemStatusDetail}\r\n          handleModal={this.handleDialog}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <ItemStatusPopup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></ItemStatusPopup>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenStaffSelectionDetail}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <StaffSelectionPopup\r\n            id={cartId}\r\n            cartId={editCart.id}\r\n            handleModal={this.handleDialog}\r\n          ></StaffSelectionPopup>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-reversal\"}\r\n          style={{ minWidth: \"30%\" }}\r\n          modal={isHandleConfirmationDialog}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleClearAllConfirmation}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <div className=\"row\">\r\n            <div className=\"d-flex flex-wrap\">\r\n              <div className=\"col-12\">\r\n                <h4>{t(\"Confirmation\")}</h4>\r\n              </div>\r\n              <div className=\"col-12 mb-2\">\r\n                <p>{t(\"Are you sure want to continue\")} ?</p>\r\n              </div>\r\n              <div className=\"row p-3\">\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    label=\"Confirm\"\r\n                    mainbg={true}\r\n                    name=\"clearallconfirm\"\r\n                    className={`w-100 col-12`}\r\n                    onClick={this.handleClearAllCart}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    label=\"Cancel\"\r\n                    resetbg={true}\r\n                    name=\"clearallCancel\"\r\n                    className={`w-100 col-12`}\r\n                    onClick={this.handleClearAllConfirmation}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"d-flex justify-content-center\"}\r\n          style={{ minWidth: \"20%\" }}\r\n          modal={isLoginConfirmation}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleLoginConfirmationDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <CredentialConfirmation\r\n            handleLoginSubmit={(user, pass) =>\r\n              this.handleauthentication(user, pass)\r\n            }\r\n          />\r\n        </NormalModal>\r\n\r\n        {/* <NormalModal\r\n          className={\"stock-memo-staff-listing\"}\r\n          style={{ minWidth: \"60%\" }}\r\n          modal={staffCommonListPopup}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleCommonCreateEmployeePopup}\r\n            className=\"close\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <StaffList\r\n            staffList={staffList}\r\n            meta={meta}\r\n            handleNext={() => this.handleNext()}\r\n            handleBack={() => this.handleBack()}\r\n            handleSelectedStaff={item => this.handleCommonSelectedStaff(item)}\r\n          />\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"stock-memo-staff-listing\"}\r\n          style={{ minWidth: \"60%\" }}\r\n          modal={staffDeleteCommonListPopup}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleCommonDeleteEmployeePopup}\r\n            className=\"close\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <StaffList\r\n            staffList={availableStaffList}\r\n            meta={availstaffmeta}\r\n            handleNext={() => this.handleavailStaffNext()}\r\n            handleBack={() => this.handleavailStaffBack()}\r\n            handleSelectedStaff={item =>\r\n              this.handleCommonDeleteSelectedStaff(item)\r\n            }\r\n          />\r\n        </NormalModal> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selected_cstomer: state.common.selected_cstomer,\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n  selectedCart: state.common.selectedCart,\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n      updateForm,\r\n      commonDeleteApi,\r\n      commonPatchApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const CartNew = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(CartNewClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}