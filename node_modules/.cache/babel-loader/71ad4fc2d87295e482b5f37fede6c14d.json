{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Navigation}from\"react-minimal-side-navigation\";import{getJobtitle,getCommonApi}from\"redux/actions/common\";import{getStaffPlus,getStaffSchedule,getAllEmpSchedule,updateStaffPlusSchedule}from\"redux/actions/staffPlus\";import{NormalSelect,NormalInput,Pagination,NormalButton}from\"component/common\";import{ScheduleTable}from\"./SheduleTable\";import{CalenderTable}from\"./CalenderTable\";import{BigCalander}from\"./BigCalander\";import{withTranslation}from\"react-i18next\";var StaffScheduleClass=/*#__PURE__*/function(_React$Component){_inherits(StaffScheduleClass,_React$Component);var _super=_createSuper(StaffScheduleClass);function StaffScheduleClass(){var _this;_classCallCheck(this,StaffScheduleClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_defineProperty({currentMenu:\"/indi\",startMonth:new Date(),endMonth:new Date(),selectedMonth:new Date(),fullScheduleMonth:new Date(),formFields:{ws:[],ws_id:\"\",altws:[],altws_id:\"\",cal_data:[],status:\"All\",staff_data:[]},pageMeta:{},jobOption_selected:\"\",jobOption:[],staffList_selected:\"\",staffList:[],siteOptions:[],filteredSiteOptions:[],selected_site:\"\",fullSchedule_selected_site:\"\",isLoading:true,isMounted:true,scheduleOptions:[]},\"isMounted\",true);_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getDatafromStore=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var scheduleRes,siteRes,jobtitleList,_this$state2,jobOption,jobOption_selected,siteOptions,filteredSiteOptions,scheduleOptions,_iterator,_step,key,_iterator2,_step2,_key2,_iterator3,_step3,_key3;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.getJobtitle();case 2:_context.next=4;return _this.props.getCommonApi(\"WorkScheduleHours/\");case 4:scheduleRes=_context.sent;_context.next=7;return _this.props.getCommonApi(\"branchlist/\");case 7:siteRes=_context.sent;jobtitleList=_this.props.jobtitleList;_this$state2=_this.state,jobOption=_this$state2.jobOption,jobOption_selected=_this$state2.jobOption_selected,siteOptions=_this$state2.siteOptions,filteredSiteOptions=_this$state2.filteredSiteOptions,scheduleOptions=_this$state2.scheduleOptions;_iterator=_createForOfIteratorHelper(jobtitleList);try{for(_iterator.s();!(_step=_iterator.n()).done;){key=_step.value;jobOption.push({label:key.level_desc,value:key.id});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_iterator2=_createForOfIteratorHelper(siteRes.data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_key2=_step2.value;siteOptions.push({value:_key2.id,label:_key2.itemsite_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_iterator3=_createForOfIteratorHelper(scheduleRes.schedules);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_key3=_step3.value;scheduleOptions.push({id:_key3.id,value:_key3.itm_code,label:_key3.itm_desc,color:_key3.itm_color,shortDesc:_key3.shortDesc});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.updateState({jobOption:jobOption,jobOption_selected:jobOption_selected,siteOptions:siteOptions,filteredSiteOptions:filteredSiteOptions,scheduleOptions:scheduleOptions,isLoading:false});case 17:case\"end\":return _context.stop();}}},_callee);}));_this.updateStaffList=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state3,staffList,staffList_selected,formFields,selected_site,staffPlusDetail;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.updateState({isLoading:true});_this$state3=_this.state,staffList=_this$state3.staffList,staffList_selected=_this$state3.staffList_selected,formFields=_this$state3.formFields,selected_site=_this$state3.selected_site;formFields.ws=[];formFields.altws=[];formFields.cal_data=[];formFields.staff_data=[];staffList_selected=\"\";selected_site=\"\";if(!(_this.state.jobOption_selected==\"\")){_context2.next=12;break;}staffList=[];_context2.next=16;break;case 12:_context2.next=14;return _this.props.getStaffPlus(\"?limit=100&EMP_TYPEid=\".concat(_this.state.jobOption_selected));case 14:staffPlusDetail=_this.props.staffPlusDetail;staffPlusDetail.dataList.forEach(function(key){staffList.push({label:key.emp_name,value:key.emp_code,sites:key.Site_Codeid});});case 16:_this.updateState({staffList:staffList,formFields:formFields,staffList_selected:staffList_selected,selected_site:selected_site,isLoading:false});case 17:case\"end\":return _context2.stop();}}},_callee2);}));_this.updateSiteList=function(){var _this$state4=_this.state,staffList_selected=_this$state4.staffList_selected,staffList=_this$state4.staffList,filteredSiteOptions=_this$state4.filteredSiteOptions,siteOptions=_this$state4.siteOptions,selected_site=_this$state4.selected_site,formFields=_this$state4.formFields;selected_site=\"\";formFields.ws=[];formFields.altws=[];formFields.cal_data=[];filteredSiteOptions=[];var selected=staffList.find(function(e){return e.value==staffList_selected;});filteredSiteOptions=siteOptions.filter(function(e){return e.value==selected.sites;});_this.updateState({filteredSiteOptions:filteredSiteOptions,formFields:formFields,selected_site:selected_site});};_this.getScheduleData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$state5,startMonth,endMonth,jobOption_selected,selected_site,staffList_selected,formFields,startDate,d,day,a,month,year,endDate,_this$props$staffSche,weekSchedule,altWeekSchedule,monthlySchedule;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$state5=_this.state,startMonth=_this$state5.startMonth,endMonth=_this$state5.endMonth,jobOption_selected=_this$state5.jobOption_selected,selected_site=_this$state5.selected_site,staffList_selected=_this$state5.staffList_selected,formFields=_this$state5.formFields;if(!(selected_site==\"\"||staffList_selected==\"\"||jobOption_selected==\"\")){_context3.next=3;break;}return _context3.abrupt(\"return\");case 3:startDate=new Date(startMonth);d=startDate.getDate();day=d<10?\"0\"+d:d;a=startDate.getMonth()+1;month=a<10?\"0\"+a:a;year=startDate.getFullYear();startDate=\"\".concat(year,\"-\").concat(month,\"-\",1);endDate=new Date(endMonth);endDate=new Date(endDate.getFullYear(),endDate.getMonth()+1,0);d=endDate.getDate();day=d<10?\"0\"+d:d;a=endDate.getMonth()+1;month=a<10?\"0\"+a:a;year=endDate.getFullYear();endDate=\"\".concat(year,\"-\").concat(month,\"-\").concat(day);_this.updateState({isLoading:true});_context3.next=21;return _this.props.getStaffSchedule(\"?emp_code=\".concat(staffList_selected,\"&site_code=\").concat(selected_site,\"&start=\").concat(startDate,\"&end=\").concat(endDate));case 21:_this$props$staffSche=_this.props.staffSchedule,weekSchedule=_this$props$staffSche.weekSchedule,altWeekSchedule=_this$props$staffSche.altWeekSchedule,monthlySchedule=_this$props$staffSche.monthlySchedule;formFields.ws_id=weekSchedule.id;formFields.ws.monday=weekSchedule.monday;formFields.ws.tuesday=weekSchedule.tuesday;formFields.ws.wednesday=weekSchedule.wednesday;formFields.ws.thursday=weekSchedule.thursday;formFields.ws.friday=weekSchedule.friday;formFields.ws.saturday=weekSchedule.saturday;formFields.ws.sunday=weekSchedule.sunday;formFields.altws_id=altWeekSchedule.id;formFields.altws.monday=altWeekSchedule.monday;formFields.altws.tuesday=altWeekSchedule.tuesday;formFields.altws.wednesday=altWeekSchedule.wednesday;formFields.altws.thursday=altWeekSchedule.thursday;formFields.altws.friday=altWeekSchedule.friday;formFields.altws.saturday=altWeekSchedule.saturday;formFields.altws.sunday=altWeekSchedule.sunday;formFields.cal_data=monthlySchedule;_this.updateState({formFields:formFields,isLoading:false});case 40:case\"end\":return _context3.stop();}}},_callee3);}));_this.getFullScheduleData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var page,_this$state6,selected_site,fullScheduleMonth,formFields,pageMeta,date,month,year,staffAllEmpSchedule,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:page=_args4.length>0&&_args4[0]!==undefined?_args4[0]:1;_this$state6=_this.state,selected_site=_this$state6.selected_site,fullScheduleMonth=_this$state6.fullScheduleMonth,formFields=_this$state6.formFields,pageMeta=_this$state6.pageMeta;formFields.staff_data=[];if(!(selected_site==\"\")){_context4.next=5;break;}return _context4.abrupt(\"return\",_this.updateState({formFields:formFields}));case 5:_this.updateState({isLoading:true});date=new Date(fullScheduleMonth);month=date.getMonth()+1;year=date.getFullYear();_context4.next=11;return _this.props.getAllEmpSchedule(\"?site_id=\".concat(selected_site,\"&limit=10&year=\").concat(year,\"&month=\").concat(month,\"&page=\").concat(page));case 11:staffAllEmpSchedule=_this.props.staffAllEmpSchedule;pageMeta=staffAllEmpSchedule.pagination;formFields.staff_data=staffAllEmpSchedule.fullSchedule;_this.updateState({formFields:formFields,pageMeta:pageMeta,isLoading:false});case 15:case\"end\":return _context4.stop();}}},_callee4);}));_this.onJobChanged=function(e){_this.state.jobOption_selected=e.target.value;_this.updateState({});_this.updateStaffList();};_this.onStaffChanged=function(e){_this.state.staffList_selected=e.target.value;_this.updateState({});_this.updateSiteList();};_this.onSiteChange=function(e){_this.state.selected_site=e.target.value;_this.updateState({});_this.getScheduleData();};_this.onSiteOptionChange=function(e){_this.state.selected_site=e.target.value;_this.updateState({});_this.getFullScheduleData({});};_this.onFullScheduleMonthChange=function(e){_this.state.fullScheduleMonth=e.target.value;_this.updateState({});_this.getFullScheduleData({});};_this.onFullScheduleSiteChange=function(e){_this.state.fullSchedule_selected_site=e.target.value;_this.updateState({});_this.getFullScheduleData({});};_this.onApplyToMonthlySchedule=function(){var _this$state$formField=_this.state.formFields,ws=_this$state$formField.ws,cal_data=_this$state$formField.cal_data;var _iterator4=_createForOfIteratorHelper(cal_data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;var date=new Date(key.itm_date);var day=date.getDay();switch(day){case 0:key.itm_type=ws.sunday;break;case 1:key.itm_type=ws.monday;break;case 2:key.itm_type=ws.tuesday;break;case 3:key.itm_type=ws.wednesday;break;case 4:key.itm_type=ws.thursday;break;case 5:key.itm_type=ws.friday;break;case 6:key.itm_type=ws.saturday;break;default:break;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.updateState({});};_this.onSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var formFields,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:formFields=_this.state.formFields;if(!(formFields.cal_data.length==0)){_context5.next=3;break;}return _context5.abrupt(\"return\");case 3:_this.updateState({isLoading:true});data={monthlySchedule:{},weekSchedule:{},altWeekSchedule:{}};data.monthlySchedule=formFields.cal_data;data.weekSchedule.id=formFields.ws_id;data.weekSchedule.monday=formFields.ws.monday;data.weekSchedule.tuesday=formFields.ws.tuesday;data.weekSchedule.wednesday=formFields.ws.wednesday;data.weekSchedule.thursday=formFields.ws.thursday;data.weekSchedule.friday=formFields.ws.friday;data.weekSchedule.saturday=formFields.ws.saturday;data.weekSchedule.sunday=formFields.ws.sunday;data.altWeekSchedule.id=formFields.altws_id;data.altWeekSchedule.monday=formFields.altws.monday;data.altWeekSchedule.tuesday=formFields.altws.tuesday;data.altWeekSchedule.wednesday=formFields.altws.wednesday;data.altWeekSchedule.thursday=formFields.altws.thursday;data.altWeekSchedule.friday=formFields.altws.friday;data.altWeekSchedule.saturday=formFields.altws.saturday;data.altWeekSchedule.sunday=formFields.altws.sunday;_context5.prev=22;_context5.next=25;return _this.props.updateStaffPlusSchedule(JSON.stringify(data));case 25:_context5.next=31;break;case 27:_context5.prev=27;_context5.t0=_context5[\"catch\"](22);console.log(_context5.t0);_this.updateState({isLoading:false});case 31:_this.updateState({isLoading:false});case 32:case\"end\":return _context5.stop();}}},_callee5,null,[[22,27]]);}));return _this;}_createClass(StaffScheduleClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentWillMount\",value:function componentWillMount(){var queryParams=new URLSearchParams(window.location.search);var menu=queryParams.get(\"menu\");if(menu)if(menu==\"full\"||menu==\"indi\")this.updateState({currentMenu:\"/\"+menu});var date=new Date();var month=(\"0\"+(date.getMonth()+1)).slice(-2);var year=date.getFullYear();this.updateState({selectedMonth:\"\".concat(year,\"-\").concat(month),startMonth:\"\".concat(year,\"-\").concat(month),endMonth:\"\".concat(year,\"-\").concat(month),fullScheduleMonth:\"\".concat(year,\"-\").concat(month)});this.getDatafromStore();}},{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,currentMenu=_this$state7.currentMenu,formFields=_this$state7.formFields,startMonth=_this$state7.startMonth,endMonth=_this$state7.endMonth,jobOption=_this$state7.jobOption,jobOption_selected=_this$state7.jobOption_selected,staffList_selected=_this$state7.staffList_selected,staffList=_this$state7.staffList,filteredSiteOptions=_this$state7.filteredSiteOptions,isLoading=_this$state7.isLoading,selected_site=_this$state7.selected_site,siteOptions=_this$state7.siteOptions,selectedMonth=_this$state7.selectedMonth,scheduleOptions=_this$state7.scheduleOptions,fullScheduleMonth=_this$state7.fullScheduleMonth,pageMeta=_this$state7.pageMeta;var t=this.props.t;var ws=formFields.ws,altws=formFields.altws,cal_data=formFields.cal_data,staff_data=formFields.staff_data;var handleMenuSelection=function handleMenuSelection(value){_this2.updateState({currentMenu:value});};var handleMonthChange=function handleMonthChange(e){_this2.state[e.target.name]=e.target.value;if(e.target.name==\"startMonth\"){_this2.state.endMonth=_this2.state.startMonth;_this2.state.selectedMonth=_this2.state.startMonth;}else if(e.target.name==\"endMonth\")_this2.state.selectedMonth=_this2.state.startMonth;if(e.target.name!=\"selectedMonth\")_this2.getScheduleData();_this2.updateState({});};return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-2 mb-4\"},/*#__PURE__*/React.createElement(Navigation,{activeItemId:currentMenu,onSelect:function onSelect(_ref6){var itemId=_ref6.itemId;return handleMenuSelection(itemId);},items:[{title:\"Individual Schedule\",itemId:\"/indi\"},{title:\"Full Schedule\",itemId:\"/full\"}]})),isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},t(\"Loading...\"))))):/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-10 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 mb-4\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return _this2.props.history.push(\"/admin/staffplus\");}},t(\"Staff\"),\" >\"),\" \",currentMenu==\"/indi\"?\"Individual\":\"Full\",\" \",t(\"Staff Schedule\")))),currentMenu==\"/indi\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Employee Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:jobOption,value:jobOption_selected,onChange:this.onJobChanged}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Staff\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:staffList,value:staffList_selected,onChange:this.onStaffChanged}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Site List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:filteredSiteOptions,value:selected_site,onChange:this.onSiteChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Work Schedule\")),/*#__PURE__*/React.createElement(ScheduleTable,{data:ws,altws_data:altws,optionList:scheduleOptions,onChange:function onChange(data){var formFields=_this2.state.formFields;formFields[\"ws\"]=data;_this2.updateState({formFields:formFields});},onAltChange:function onAltChange(data){var formFields=_this2.state.formFields;formFields[\"altws\"]=data;_this2.updateState({formFields:formFields});}})))),cal_data.length==0?null:/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Apply to Monthly Schedule\",applybg:true,onClick:this.onApplyToMonthlySchedule})))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Start Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:startMonth,name:\"startMonth\",onChange:handleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"End Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:endMonth,min:startMonth,name:\"endMonth\",onChange:handleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Selected Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:selectedMonth,min:startMonth,max:endMonth,name:\"selectedMonth\",onChange:handleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(CalenderTable,{data:cal_data,date:selectedMonth,optionList:scheduleOptions,onChange:function onChange(data){var formFields=_this2.state.formFields;formFields[\"cal_data\"]=data;_this2.updateState({formFields:formFields});}}))))),cal_data.length==0?null:/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Save\",success:true,onClick:this.onSubmit}))))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Site\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:siteOptions,value:selected_site,name:\"selected_site\",onChange:this.onSiteOptionChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Year and Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{type:\"month\",value:fullScheduleMonth,onChange:this.onFullScheduleMonthChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(BigCalander,{date:startMonth,data:staff_data,options:scheduleOptions,disabled:true,onChange:this.onFullScheduleSiteChange})),pageMeta&&/*#__PURE__*/React.createElement(Pagination,{handlePagination:this.getFullScheduleData,pageMeta:pageMeta}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row m-2\"},scheduleOptions.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-4 col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row w-100\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"20px\",height:\"20px\",marginRight:\"5px\",backgroundColor:\"\".concat(e.color)}}),e.shortDesc,\" - \",e.label));})))));}}]);return StaffScheduleClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{jobtitleList:state.common.jobtitleList,staffPlusDetail:state.staffPlus.staffPlusDetail,staffSchedule:state.staffPlus.staffPlusSchedule,staffAllEmpSchedule:state.staffPlus.staffPlusAllEmpSchedule};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getJobtitle:getJobtitle,getStaffPlus:getStaffPlus,getCommonApi:getCommonApi,getStaffSchedule:getStaffSchedule,getAllEmpSchedule:getAllEmpSchedule,updateStaffPlusSchedule:updateStaffPlusSchedule},dispatch);};export var StaffSchedule=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(StaffScheduleClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/StaffSchedule/index.js"],"names":["React","connect","bindActionCreators","Navigation","getJobtitle","getCommonApi","getStaffPlus","getStaffSchedule","getAllEmpSchedule","updateStaffPlusSchedule","NormalSelect","NormalInput","Pagination","NormalButton","ScheduleTable","CalenderTable","BigCalander","withTranslation","StaffScheduleClass","state","currentMenu","startMonth","Date","endMonth","selectedMonth","fullScheduleMonth","formFields","ws","ws_id","altws","altws_id","cal_data","status","staff_data","pageMeta","jobOption_selected","jobOption","staffList_selected","staffList","siteOptions","filteredSiteOptions","selected_site","fullSchedule_selected_site","isLoading","isMounted","scheduleOptions","updateState","data","setState","getDatafromStore","props","scheduleRes","siteRes","jobtitleList","key","push","label","level_desc","value","id","itemsite_desc","schedules","itm_code","itm_desc","color","itm_color","shortDesc","updateStaffList","staffPlusDetail","dataList","forEach","emp_name","emp_code","sites","Site_Codeid","updateSiteList","selected","find","e","filter","getScheduleData","startDate","d","getDate","day","a","getMonth","month","year","getFullYear","endDate","staffSchedule","weekSchedule","altWeekSchedule","monthlySchedule","monday","tuesday","wednesday","thursday","friday","saturday","sunday","getFullScheduleData","page","date","staffAllEmpSchedule","pagination","fullSchedule","onJobChanged","target","onStaffChanged","onSiteChange","onSiteOptionChange","onFullScheduleMonthChange","onFullScheduleSiteChange","onApplyToMonthlySchedule","itm_date","getDay","itm_type","onSubmit","length","JSON","stringify","console","log","queryParams","URLSearchParams","window","location","search","menu","get","slice","t","handleMenuSelection","handleMonthChange","name","itemId","title","history","map","width","height","marginRight","backgroundColor","Component","mapStateToProps","common","staffPlus","staffPlusSchedule","staffPlusAllEmpSchedule","mapDispatchToProps","dispatch","StaffSchedule"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Navigation } from \"react-minimal-side-navigation\";\r\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\r\nimport {\r\n  getStaffPlus,\r\n  getStaffSchedule,\r\n  getAllEmpSchedule,\r\n  updateStaffPlusSchedule,\r\n} from \"redux/actions/staffPlus\";\r\nimport {\r\n  NormalSelect,\r\n  NormalInput,\r\n  Pagination,\r\n  NormalButton,\r\n} from \"component/common\";\r\nimport { ScheduleTable } from \"./SheduleTable\";\r\nimport { CalenderTable } from \"./CalenderTable\";\r\nimport { BigCalander } from \"./BigCalander\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nclass StaffScheduleClass extends React.Component {\r\n  state = {\r\n    currentMenu: \"/indi\",\r\n    startMonth: new Date(),\r\n    endMonth: new Date(),\r\n    selectedMonth: new Date(),\r\n    fullScheduleMonth: new Date(),\r\n    formFields: {\r\n      ws: [],\r\n      ws_id: \"\",\r\n      altws: [],\r\n      altws_id: \"\",\r\n      cal_data: [],\r\n      status: \"All\",\r\n      staff_data: [],\r\n    },\r\n    pageMeta: {},\r\n    jobOption_selected: \"\",\r\n    jobOption: [],\r\n    staffList_selected: \"\",\r\n    staffList: [],\r\n    siteOptions: [],\r\n    filteredSiteOptions: [],\r\n    selected_site: \"\",\r\n    fullSchedule_selected_site: \"\",\r\n    isLoading: true,\r\n    isMounted: true,\r\n    scheduleOptions: [],\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentWillMount() {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const menu = queryParams.get(\"menu\");\r\n    if (menu)\r\n      if (menu == \"full\" || menu == \"indi\")\r\n        this.updateState({ currentMenu: \"/\" + menu });\r\n    const date = new Date();\r\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\r\n    const year = date.getFullYear();\r\n\r\n    this.updateState({\r\n      selectedMonth: `${year}-${month}`,\r\n      startMonth: `${year}-${month}`,\r\n      endMonth: `${year}-${month}`,\r\n      fullScheduleMonth: `${year}-${month}`,\r\n    });\r\n    this.getDatafromStore();\r\n  }\r\n\r\n  getDatafromStore = async () => {\r\n    await this.props.getJobtitle();\r\n    let scheduleRes = await this.props.getCommonApi(\"WorkScheduleHours/\");\r\n    let siteRes = await this.props.getCommonApi(\"branchlist/\");\r\n    let { jobtitleList } = this.props;\r\n    let {\r\n      jobOption,\r\n      jobOption_selected,\r\n      siteOptions,\r\n      filteredSiteOptions,\r\n      scheduleOptions,\r\n    } = this.state;\r\n    for (let key of jobtitleList) {\r\n      jobOption.push({ label: key.level_desc, value: key.id });\r\n    }\r\n    for (let key of siteRes.data) {\r\n      siteOptions.push({ value: key.id, label: key.itemsite_desc });\r\n    }\r\n    for (let key of scheduleRes.schedules) {\r\n      scheduleOptions.push({\r\n        id: key.id,\r\n        value: key.itm_code,\r\n        label: key.itm_desc,\r\n        color: key.itm_color,\r\n        shortDesc: key.shortDesc,\r\n      });\r\n    }\r\n\r\n    this.updateState({\r\n      jobOption,\r\n      jobOption_selected,\r\n      siteOptions,\r\n      filteredSiteOptions,\r\n      scheduleOptions,\r\n      isLoading: false,\r\n    });\r\n  };\r\n\r\n  updateStaffList = async () => {\r\n    this.updateState({ isLoading: true });\r\n    let { staffList, staffList_selected, formFields, selected_site } =\r\n      this.state;\r\n    formFields.ws = [];\r\n    formFields.altws = [];\r\n    formFields.cal_data = [];\r\n    formFields.staff_data = [];\r\n    staffList_selected = \"\";\r\n    selected_site = \"\";\r\n    if (this.state.jobOption_selected == \"\") {\r\n      staffList = [];\r\n    } else {\r\n      await this.props.getStaffPlus(\r\n        `?limit=100&EMP_TYPEid=${this.state.jobOption_selected}`\r\n      );\r\n\r\n      let { staffPlusDetail } = this.props;\r\n\r\n      staffPlusDetail.dataList.forEach(key => {\r\n        staffList.push({\r\n          label: key.emp_name,\r\n          value: key.emp_code,\r\n          sites: key.Site_Codeid,\r\n        });\r\n      });\r\n    }\r\n    this.updateState({\r\n      staffList,\r\n      formFields,\r\n      staffList_selected,\r\n      selected_site,\r\n      isLoading: false,\r\n    });\r\n  };\r\n\r\n  updateSiteList = () => {\r\n    let {\r\n      staffList_selected,\r\n      staffList,\r\n      filteredSiteOptions,\r\n      siteOptions,\r\n      selected_site,\r\n      formFields,\r\n    } = this.state;\r\n    selected_site = \"\";\r\n    formFields.ws = [];\r\n    formFields.altws = [];\r\n    formFields.cal_data = [];\r\n    filteredSiteOptions = [];\r\n    let selected = staffList.find(e => e.value == staffList_selected);\r\n    filteredSiteOptions = siteOptions.filter(e => e.value == selected.sites);\r\n    this.updateState({ filteredSiteOptions, formFields, selected_site });\r\n  };\r\n\r\n  getScheduleData = async () => {\r\n    let {\r\n      startMonth,\r\n      endMonth,\r\n      jobOption_selected,\r\n      selected_site,\r\n      staffList_selected,\r\n      formFields,\r\n    } = this.state;\r\n    if (\r\n      selected_site == \"\" ||\r\n      staffList_selected == \"\" ||\r\n      jobOption_selected == \"\"\r\n    )\r\n      return;\r\n    let startDate = new Date(startMonth);\r\n    let d = startDate.getDate();\r\n    let day = d < 10 ? \"0\" + d : d;\r\n    let a = startDate.getMonth() + 1;\r\n    let month = a < 10 ? \"0\" + a : a;\r\n    let year = startDate.getFullYear();\r\n    startDate = `${year}-${month}-${1}`;\r\n\r\n    let endDate = new Date(endMonth);\r\n    endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\r\n    d = endDate.getDate();\r\n    day = d < 10 ? \"0\" + d : d;\r\n    a = endDate.getMonth() + 1;\r\n    month = a < 10 ? \"0\" + a : a;\r\n    year = endDate.getFullYear();\r\n    endDate = `${year}-${month}-${day}`;\r\n    this.updateState({ isLoading: true });\r\n    await this.props.getStaffSchedule(\r\n      `?emp_code=${staffList_selected}&site_code=${selected_site}&start=${startDate}&end=${endDate}`\r\n    );\r\n    let { weekSchedule, altWeekSchedule, monthlySchedule } =\r\n      this.props.staffSchedule;\r\n    formFields.ws_id = weekSchedule.id;\r\n    formFields.ws.monday = weekSchedule.monday;\r\n    formFields.ws.tuesday = weekSchedule.tuesday;\r\n    formFields.ws.wednesday = weekSchedule.wednesday;\r\n    formFields.ws.thursday = weekSchedule.thursday;\r\n    formFields.ws.friday = weekSchedule.friday;\r\n    formFields.ws.saturday = weekSchedule.saturday;\r\n    formFields.ws.sunday = weekSchedule.sunday;\r\n    formFields.altws_id = altWeekSchedule.id;\r\n    formFields.altws.monday = altWeekSchedule.monday;\r\n    formFields.altws.tuesday = altWeekSchedule.tuesday;\r\n    formFields.altws.wednesday = altWeekSchedule.wednesday;\r\n    formFields.altws.thursday = altWeekSchedule.thursday;\r\n    formFields.altws.friday = altWeekSchedule.friday;\r\n    formFields.altws.saturday = altWeekSchedule.saturday;\r\n    formFields.altws.sunday = altWeekSchedule.sunday;\r\n    formFields.cal_data = monthlySchedule;\r\n    this.updateState({ formFields, isLoading: false });\r\n  };\r\n\r\n  getFullScheduleData = async (page = 1) => {\r\n    let { selected_site, fullScheduleMonth, formFields, pageMeta } = this.state;\r\n    formFields.staff_data = [];\r\n    if (selected_site == \"\") {\r\n      return this.updateState({ formFields });\r\n    }\r\n    this.updateState({ isLoading: true });\r\n    let date = new Date(fullScheduleMonth);\r\n    let month = date.getMonth() + 1;\r\n    let year = date.getFullYear();\r\n    await this.props.getAllEmpSchedule(\r\n      `?site_id=${selected_site}&limit=10&year=${year}&month=${month}&page=${page}`\r\n    );\r\n    let { staffAllEmpSchedule } = this.props;\r\n    pageMeta = staffAllEmpSchedule.pagination;\r\n    formFields.staff_data = staffAllEmpSchedule.fullSchedule;\r\n    this.updateState({ formFields, pageMeta, isLoading: false });\r\n  };\r\n\r\n  onJobChanged = e => {\r\n    this.state.jobOption_selected = e.target.value;\r\n    this.updateState({});\r\n    this.updateStaffList();\r\n  };\r\n\r\n  onStaffChanged = e => {\r\n    this.state.staffList_selected = e.target.value;\r\n    this.updateState({});\r\n    this.updateSiteList();\r\n  };\r\n\r\n  onSiteChange = e => {\r\n    this.state.selected_site = e.target.value;\r\n    this.updateState({});\r\n    this.getScheduleData();\r\n  };\r\n\r\n  onSiteOptionChange = e => {\r\n    this.state.selected_site = e.target.value;\r\n    this.updateState({});\r\n    this.getFullScheduleData({});\r\n  };\r\n\r\n  onFullScheduleMonthChange = e => {\r\n    this.state.fullScheduleMonth = e.target.value;\r\n    this.updateState({});\r\n    this.getFullScheduleData({});\r\n  };\r\n\r\n  onFullScheduleSiteChange = e => {\r\n    this.state.fullSchedule_selected_site = e.target.value;\r\n    this.updateState({});\r\n    this.getFullScheduleData({});\r\n  };\r\n\r\n  onApplyToMonthlySchedule = () => {\r\n    let { ws, cal_data } = this.state.formFields;\r\n    for (let key of cal_data) {\r\n      var date = new Date(key.itm_date);\r\n      var day = date.getDay();\r\n      switch (day) {\r\n        case 0:\r\n          key.itm_type = ws.sunday;\r\n          break;\r\n        case 1:\r\n          key.itm_type = ws.monday;\r\n          break;\r\n        case 2:\r\n          key.itm_type = ws.tuesday;\r\n          break;\r\n        case 3:\r\n          key.itm_type = ws.wednesday;\r\n          break;\r\n        case 4:\r\n          key.itm_type = ws.thursday;\r\n          break;\r\n        case 5:\r\n          key.itm_type = ws.friday;\r\n          break;\r\n        case 6:\r\n          key.itm_type = ws.saturday;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    this.updateState({});\r\n  };\r\n\r\n  onSubmit = async () => {\r\n    let { formFields } = this.state;\r\n    if (formFields.cal_data.length == 0) return;\r\n    this.updateState({ isLoading: true });\r\n    var data = { monthlySchedule: {}, weekSchedule: {}, altWeekSchedule: {} };\r\n    data.monthlySchedule = formFields.cal_data;\r\n    data.weekSchedule.id = formFields.ws_id;\r\n    data.weekSchedule.monday = formFields.ws.monday;\r\n    data.weekSchedule.tuesday = formFields.ws.tuesday;\r\n    data.weekSchedule.wednesday = formFields.ws.wednesday;\r\n    data.weekSchedule.thursday = formFields.ws.thursday;\r\n    data.weekSchedule.friday = formFields.ws.friday;\r\n    data.weekSchedule.saturday = formFields.ws.saturday;\r\n    data.weekSchedule.sunday = formFields.ws.sunday;\r\n    data.altWeekSchedule.id = formFields.altws_id;\r\n    data.altWeekSchedule.monday = formFields.altws.monday;\r\n    data.altWeekSchedule.tuesday = formFields.altws.tuesday;\r\n    data.altWeekSchedule.wednesday = formFields.altws.wednesday;\r\n    data.altWeekSchedule.thursday = formFields.altws.thursday;\r\n    data.altWeekSchedule.friday = formFields.altws.friday;\r\n    data.altWeekSchedule.saturday = formFields.altws.saturday;\r\n    data.altWeekSchedule.sunday = formFields.altws.sunday;\r\n    try {\r\n      await this.props.updateStaffPlusSchedule(JSON.stringify(data));\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.updateState({ isLoading: false });\r\n    }\r\n    this.updateState({ isLoading: false });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      currentMenu,\r\n      formFields,\r\n      startMonth,\r\n      endMonth,\r\n      jobOption,\r\n      jobOption_selected,\r\n      staffList_selected,\r\n      staffList,\r\n      filteredSiteOptions,\r\n      isLoading,\r\n      selected_site,\r\n      siteOptions,\r\n      selectedMonth,\r\n      scheduleOptions,\r\n      fullScheduleMonth,\r\n      pageMeta,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    let { ws, altws, cal_data, staff_data } = formFields;\r\n\r\n    const handleMenuSelection = value => {\r\n      this.updateState({ currentMenu: value });\r\n    };\r\n\r\n    const handleMonthChange = e => {\r\n      this.state[e.target.name] = e.target.value;\r\n      if (e.target.name == \"startMonth\") {\r\n        this.state.endMonth = this.state.startMonth;\r\n        this.state.selectedMonth = this.state.startMonth;\r\n      } else if (e.target.name == \"endMonth\")\r\n        this.state.selectedMonth = this.state.startMonth;\r\n      if (e.target.name != \"selectedMonth\") this.getScheduleData();\r\n      this.updateState({});\r\n    };\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 col-lg-2 mb-4\">\r\n            <Navigation\r\n              activeItemId={currentMenu}\r\n              onSelect={({ itemId }) => handleMenuSelection(itemId)}\r\n              items={[\r\n                {\r\n                  title: \"Individual Schedule\",\r\n                  itemId: \"/indi\",\r\n                },\r\n                {\r\n                  title: \"Full Schedule\",\r\n                  itemId: \"/full\",\r\n                },\r\n              ]}\r\n            />\r\n          </div>\r\n          {isLoading ? (\r\n            <div className=\"col\">\r\n              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                  <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"col-lg-10 col-md-12\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md-8 mb-4\">\r\n                  <h3>\r\n                    <span\r\n                      onClick={() =>\r\n                        this.props.history.push(\"/admin/staffplus\")\r\n                      }\r\n                    >\r\n                      {t(\"Staff\")} &gt;\r\n                    </span>{\" \"}\r\n                    {currentMenu == \"/indi\" ? \"Individual\" : \"Full\"}{\" \"}\r\n                    {t(\"Staff Schedule\")}\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n              {currentMenu == \"/indi\" ? (\r\n                <>\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Employee Type\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            options={jobOption}\r\n                            value={jobOption_selected}\r\n                            onChange={this.onJobChanged}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Staff\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            options={staffList}\r\n                            value={staffList_selected}\r\n                            onChange={this.onStaffChanged}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Site List\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            options={filteredSiteOptions}\r\n                            value={selected_site}\r\n                            onChange={this.onSiteChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Work Schedule\")}\r\n                        </label>\r\n                        <ScheduleTable\r\n                          data={ws}\r\n                          altws_data={altws}\r\n                          optionList={scheduleOptions}\r\n                          onChange={data => {\r\n                            let { formFields } = this.state;\r\n                            formFields[\"ws\"] = data;\r\n                            this.updateState({\r\n                              formFields,\r\n                            });\r\n                          }}\r\n                          onAltChange={data => {\r\n                            let { formFields } = this.state;\r\n                            formFields[\"altws\"] = data;\r\n                            this.updateState({\r\n                              formFields,\r\n                            });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {cal_data.length == 0 ? null : (\r\n                    <div className=\"form-group mb-4 pb-2\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-6 col-sm-12\">\r\n                          <NormalButton\r\n                            label=\"Apply to Monthly Schedule\"\r\n                            applybg={true}\r\n                            onClick={this.onApplyToMonthlySchedule}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4 mb-4\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Start Year and Month\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            type=\"month\"\r\n                            value={startMonth}\r\n                            name=\"startMonth\"\r\n                            onChange={handleMonthChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4 mb-4\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"End Year and Month\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            type=\"month\"\r\n                            value={endMonth}\r\n                            min={startMonth}\r\n                            name=\"endMonth\"\r\n                            onChange={handleMonthChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6 mb-4\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Selected Year and Month\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            type=\"month\"\r\n                            value={selectedMonth}\r\n                            min={startMonth}\r\n                            max={endMonth}\r\n                            name=\"selectedMonth\"\r\n                            onChange={handleMonthChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12\">\r\n                        <div className=\"input-group\">\r\n                          <CalenderTable\r\n                            data={cal_data}\r\n                            date={selectedMonth}\r\n                            optionList={scheduleOptions}\r\n                            onChange={data => {\r\n                              let { formFields } = this.state;\r\n                              formFields[\"cal_data\"] = data;\r\n                              this.updateState({\r\n                                formFields,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  {cal_data.length == 0 ? null : (\r\n                    <div className=\"form-group mb-4 pb-2\">\r\n                      <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"col-md-6 col-sm-12 p-0\">\r\n                          <NormalButton\r\n                            label=\"Save\"\r\n                            success={true}\r\n                            onClick={this.onSubmit}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12 mb-4\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Site\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            options={siteOptions}\r\n                            value={selected_site}\r\n                            name=\"selected_site\"\r\n                            onChange={this.onSiteOptionChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group mb-4 pb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-4 mb-4\">\r\n                        <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                          {t(\"Year and Month\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            type=\"month\"\r\n                            value={fullScheduleMonth}\r\n                            onChange={this.onFullScheduleMonthChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12\">\r\n                        <div className=\"input-group\">\r\n                          <BigCalander\r\n                            date={startMonth}\r\n                            data={staff_data}\r\n                            options={scheduleOptions}\r\n                            disabled={true}\r\n                            onChange={this.onFullScheduleSiteChange}\r\n                          />\r\n                        </div>\r\n                        {pageMeta && (\r\n                          <Pagination\r\n                            handlePagination={this.getFullScheduleData}\r\n                            pageMeta={pageMeta}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n              <div className=\"row m-2\">\r\n                {scheduleOptions.map(e => {\r\n                  return (\r\n                    <div className=\"col-md-6 col-lg-4 col-sm-12\">\r\n                      <div className=\"row w-100\">\r\n                        <div\r\n                          style={{\r\n                            width: \"20px\",\r\n                            height: \"20px\",\r\n                            marginRight: \"5px\",\r\n                            backgroundColor: `${e.color}`,\r\n                          }}\r\n                        />\r\n                        {e.shortDesc} - {e.label}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  jobtitleList: state.common.jobtitleList,\r\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\r\n  staffSchedule: state.staffPlus.staffPlusSchedule,\r\n  staffAllEmpSchedule: state.staffPlus.staffPlusAllEmpSchedule,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getJobtitle,\r\n      getStaffPlus,\r\n      getCommonApi,\r\n      getStaffSchedule,\r\n      getAllEmpSchedule,\r\n      updateStaffPlusSchedule,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const StaffSchedule = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(StaffScheduleClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}