{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.item_list.details.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _uiFile_manager = require(\"./ui.file_manager.common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nvar _ui = _interopRequireDefault(require(\"../data_grid/ui.data_grid\"));\n\nvar _uiFile_manager2 = _interopRequireDefault(require(\"./ui.file_manager.item_list\"));\n\nvar _uiFile_manager3 = _interopRequireDefault(require(\"./ui.file_manager.file_actions_button\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function (target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar FILE_MANAGER_DETAILS_ITEM_LIST_CLASS = \"dx-filemanager-details\";\nvar FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS = \"dx-filemanager-details-item-thumbnail\";\nvar FILE_MANAGER_DETAILS_ITEM_NAME_CLASS = \"dx-filemanager-details-item-name\";\nvar FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS = \"dx-filemanager-details-item-name-wrapper\";\nvar FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS = \"dx-filemanager-details-item-is-directory\";\nvar FILE_MANAGER_PARENT_DIRECTORY_ITEM = \"dx-filemanager-parent-directory-item\";\nvar DATA_GRID_DATA_ROW_CLASS = \"dx-data-row\";\nvar DEFAULT_COLUMN_CONFIGS = {\n  thumbnail: {\n    caption: \"\",\n    calculateSortValue: \"isDirectory\",\n    width: 36,\n    alignment: \"center\",\n    cssClass: FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS\n  },\n  name: {\n    caption: _message.default.format(\"dxFileManager-listDetailsColumnCaptionName\")\n  },\n  dateModified: {\n    caption: _message.default.format(\"dxFileManager-listDetailsColumnCaptionDateModified\"),\n    width: 110,\n    hidingPriority: 1\n  },\n  size: {\n    caption: _message.default.format(\"dxFileManager-listDetailsColumnCaptionFileSize\"),\n    width: 90,\n    alignment: \"right\",\n    hidingPriority: 0\n  },\n  isParentFolder: {\n    caption: \"isParentFolder\",\n    visible: false,\n    sortIndex: 0,\n    sortOrder: \"asc\"\n  }\n};\n\nvar FileManagerDetailsItemList = function (_FileManagerItemListB) {\n  _inherits(FileManagerDetailsItemList, _FileManagerItemListB);\n\n  var _super = _createSuper(FileManagerDetailsItemList);\n\n  function FileManagerDetailsItemList() {\n    _classCallCheck(this, FileManagerDetailsItemList);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FileManagerDetailsItemList, [{\n    key: \"_initMarkup\",\n    value: function () {\n      var _this = this;\n\n      this._itemCount = 0;\n      this._focusedItem = null;\n      this._hasParentDirectoryItem = false;\n      this._parentDirectoryItemKey = null;\n      this._selectAllCheckBox = null;\n      this._selectAllCheckBoxUpdating = false;\n      this.$element().addClass(FILE_MANAGER_DETAILS_ITEM_LIST_CLASS);\n\n      this._createFilesView();\n\n      this._contextMenu.option(\"onContextMenuHidden\", function () {\n        return _this._onContextMenuHidden();\n      });\n\n      _get(_getPrototypeOf(FileManagerDetailsItemList.prototype), \"_initMarkup\", this).call(this);\n    }\n  }, {\n    key: \"_createFilesView\",\n    value: function () {\n      var $filesView = (0, _renderer.default)(\"<div>\").appendTo(this.$element());\n      var selectionMode = this._isMultipleSelectionMode() ? \"multiple\" : \"none\";\n      this._filesView = this._createComponent($filesView, _ui.default, {\n        dataSource: this._createDataSource(),\n        hoverStateEnabled: true,\n        selection: {\n          mode: selectionMode,\n          showCheckBoxesMode: this._isDesktop() ? \"onClick\" : \"none\"\n        },\n        selectedRowKeys: this.option(\"selectedItemKeys\"),\n        focusedRowKey: this.option(\"focusedItemKey\"),\n        focusedRowEnabled: true,\n        allowColumnResizing: true,\n        scrolling: {\n          mode: \"virtual\"\n        },\n        sorting: {\n          mode: \"single\",\n          showSortIndexes: false\n        },\n        showColumnLines: false,\n        showRowLines: false,\n        columnHidingEnabled: true,\n        columns: this._createColumns(),\n        onEditorPreparing: this._onEditorPreparing.bind(this),\n        onRowPrepared: this._onRowPrepared.bind(this),\n        onContextMenuPreparing: this._onContextMenuPreparing.bind(this),\n        onSelectionChanged: this._onFilesViewSelectionChanged.bind(this),\n        onFocusedRowChanged: this._onFilesViewFocusedRowChanged.bind(this),\n        onOptionChanged: this._onFilesViewOptionChanged.bind(this)\n      });\n    }\n  }, {\n    key: \"_createColumns\",\n    value: function () {\n      var _this2 = this;\n\n      var columns = this.option(\"detailColumns\");\n      columns = columns.slice(0);\n      columns = columns.map(function (column) {\n        var extendedItem = column;\n\n        if ((0, _type.isString)(column)) {\n          extendedItem = {\n            dataField: column\n          };\n        }\n\n        return _this2._getPreparedColumn(extendedItem);\n      });\n      var customizeDetailColumns = this.option(\"customizeDetailColumns\");\n\n      if ((0, _type.isFunction)(customizeDetailColumns)) {\n        columns = customizeDetailColumns(columns);\n      }\n\n      columns.push(this._getPreparedColumn({\n        dataField: \"isParentFolder\"\n      }));\n      columns.forEach(function (column) {\n        return _this2._updateColumnDataField(column);\n      });\n      return columns;\n    }\n  }, {\n    key: \"_getPreparedColumn\",\n    value: function (columnOptions) {\n      var result = {};\n      var resultCssClass = \"\";\n\n      if (this._isDefaultColumn(columnOptions.dataField)) {\n        var defaultConfig = (0, _extend.extend)(true, {}, DEFAULT_COLUMN_CONFIGS[columnOptions.dataField]);\n        resultCssClass = defaultConfig.cssClass || \"\";\n\n        if (\"thumbnail\" === columnOptions.dataField) {\n          defaultConfig.cellTemplate = this._createThumbnailColumnCell.bind(this);\n          defaultConfig.calculateSortValue = \"fileItem.\".concat(defaultConfig.calculateSortValue);\n        }\n\n        if (\"name\" === columnOptions.dataField) {\n          defaultConfig.cellTemplate = this._createNameColumnCell.bind(this);\n        }\n\n        if (\"size\" === columnOptions.dataField) {\n          defaultConfig.calculateCellValue = this._calculateSizeColumnCellValue.bind(this);\n        }\n\n        (0, _extend.extend)(true, result, defaultConfig);\n      }\n\n      (0, _uiFile_manager.extendAttributes)(result, columnOptions, [\"alignment\", \"caption\", \"dataField\", \"dataType\", \"hidingPriority\", \"sortIndex\", \"sortOrder\", \"visible\", \"visibleIndex\", \"width\"]);\n\n      if (columnOptions.cssClass) {\n        resultCssClass = resultCssClass ? \"\".concat(resultCssClass, \" \").concat(columnOptions.cssClass) : columnOptions.cssClass;\n      }\n\n      if (resultCssClass) {\n        result.cssClass = resultCssClass;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_updateColumnDataField\",\n    value: function (column) {\n      var dataItemSuffix = this._isDefaultColumn(column.dataField) ? \"\" : \"dataItem.\";\n      column.dataField = \"fileItem.\" + dataItemSuffix + column.dataField;\n      return column;\n    }\n  }, {\n    key: \"_isDefaultColumn\",\n    value: function (columnDataField) {\n      return !!DEFAULT_COLUMN_CONFIGS[columnDataField];\n    }\n  }, {\n    key: \"_onFileItemActionButtonClick\",\n    value: function (_ref) {\n      var component = _ref.component,\n          element = _ref.element,\n          event = _ref.event;\n      event.stopPropagation();\n      var $row = component.$element().closest(this._getItemSelector());\n      var fileItemInfo = $row.data(\"item\");\n\n      this._selectItem(fileItemInfo);\n\n      this._showContextMenu(this._getFileItemsForContextMenu(fileItemInfo), element, fileItemInfo);\n\n      this._activeFileActionsButton = component;\n\n      this._activeFileActionsButton.setActive(true);\n    }\n  }, {\n    key: \"_onContextMenuHidden\",\n    value: function () {\n      if (this._activeFileActionsButton) {\n        this._activeFileActionsButton.setActive(false);\n      }\n    }\n  }, {\n    key: \"_getItemThumbnailCssClass\",\n    value: function () {\n      return FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS;\n    }\n  }, {\n    key: \"_getItemSelector\",\n    value: function () {\n      return \".\".concat(DATA_GRID_DATA_ROW_CLASS);\n    }\n  }, {\n    key: \"_onItemDblClick\",\n    value: function (e) {\n      var $row = (0, _renderer.default)(e.currentTarget);\n      var fileItemInfo = $row.data(\"item\");\n\n      this._raiseSelectedItemOpened(fileItemInfo);\n    }\n  }, {\n    key: \"_isAllItemsSelected\",\n    value: function () {\n      var selectableItemsCount = this._hasParentDirectoryItem ? this._itemCount - 1 : this._itemCount;\n\n      var selectedRowKeys = this._filesView.option(\"selectedRowKeys\");\n\n      if (!selectedRowKeys.length) {\n        return false;\n      }\n\n      return selectedRowKeys.length >= selectableItemsCount ? true : void 0;\n    }\n  }, {\n    key: \"_onEditorPreparing\",\n    value: function (_ref2) {\n      var _this3 = this;\n\n      var component = _ref2.component,\n          command = _ref2.command,\n          row = _ref2.row,\n          parentType = _ref2.parentType,\n          editorOptions = _ref2.editorOptions;\n\n      if (!this._filesView) {\n        this._filesView = component;\n      }\n\n      if (\"select\" === command && row) {\n        if (this._isParentDirectoryItem(row.data)) {\n          editorOptions.disabled = true;\n        }\n      } else {\n        if (\"headerRow\" === parentType) {\n          editorOptions.onInitialized = function (_ref3) {\n            var component = _ref3.component;\n            _this3._selectAllCheckBox = component;\n          };\n\n          editorOptions.value = this._isAllItemsSelected();\n\n          editorOptions.onValueChanged = function (args) {\n            return _this3._onSelectAllCheckBoxValueChanged(args);\n          };\n        }\n      }\n    }\n  }, {\n    key: \"_onSelectAllCheckBoxValueChanged\",\n    value: function (_ref4) {\n      var event = _ref4.event,\n          previousValue = _ref4.previousValue,\n          value = _ref4.value;\n\n      if (!event) {\n        if (previousValue && !this._selectAllCheckBoxUpdating && this._selectAllCheckBox) {\n          this._selectAllCheckBox.option(\"value\", previousValue);\n        }\n\n        return;\n      }\n\n      if (this._isAllItemsSelected() === value) {\n        return;\n      }\n\n      if (value) {\n        this._filesView.selectAll();\n      } else {\n        this._filesView.deselectAll();\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"_onRowPrepared\",\n    value: function (_ref5) {\n      var rowType = _ref5.rowType,\n          rowElement = _ref5.rowElement,\n          data = _ref5.data;\n\n      if (\"data\" === rowType) {\n        var $row = (0, _renderer.default)(rowElement);\n        $row.data(\"item\", data);\n\n        if (this._isParentDirectoryItem(data)) {\n          $row.addClass(FILE_MANAGER_PARENT_DIRECTORY_ITEM);\n        }\n      }\n    }\n  }, {\n    key: \"_onContextMenuPreparing\",\n    value: function (e) {\n      if (!this._isDesktop()) {\n        return;\n      }\n\n      var fileItems = null;\n      var item = null;\n\n      if (e.row && \"data\" === e.row.rowType) {\n        item = e.row.data;\n\n        this._selectItem(item);\n\n        fileItems = this._getFileItemsForContextMenu(item);\n      }\n\n      e.items = this._contextMenu.createContextMenuItems(fileItems, null, item);\n\n      this._raiseContextMenuShowing();\n    }\n  }, {\n    key: \"_onFilesViewSelectionChanged\",\n    value: function (_ref6) {\n      var component = _ref6.component,\n          selectedRowsData = _ref6.selectedRowsData,\n          selectedRowKeys = _ref6.selectedRowKeys,\n          currentSelectedRowKeys = _ref6.currentSelectedRowKeys,\n          currentDeselectedRowKeys = _ref6.currentDeselectedRowKeys;\n      this._filesView = this._filesView || component;\n\n      if (this._selectAllCheckBox) {\n        this._selectAllCheckBoxUpdating = true;\n\n        this._selectAllCheckBox.option(\"value\", this._isAllItemsSelected());\n\n        this._selectAllCheckBoxUpdating = false;\n      }\n\n      var selectedItems = selectedRowsData.map(function (itemInfo) {\n        return itemInfo.fileItem;\n      });\n\n      this._tryRaiseSelectionChanged({\n        selectedItemInfos: selectedRowsData,\n        selectedItems: selectedItems,\n        selectedItemKeys: selectedRowKeys,\n        currentSelectedItemKeys: currentSelectedRowKeys,\n        currentDeselectedItemKeys: currentDeselectedRowKeys\n      });\n    }\n  }, {\n    key: \"_onFilesViewFocusedRowChanged\",\n    value: function (e) {\n      var _e$row2;\n\n      if (!this._isMultipleSelectionMode()) {\n        var _e$row;\n\n        this._selectItemSingleSelection(null === (_e$row = e.row) || void 0 === _e$row ? void 0 : _e$row.data);\n      }\n\n      var fileSystemItem = (null === (_e$row2 = e.row) || void 0 === _e$row2 ? void 0 : _e$row2.data.fileItem) || null;\n\n      this._onFocusedItemChanged({\n        item: fileSystemItem,\n        itemKey: null === fileSystemItem || void 0 === fileSystemItem ? void 0 : fileSystemItem.key,\n        itemElement: e.rowElement\n      });\n    }\n  }, {\n    key: \"_onFilesViewOptionChanged\",\n    value: function (_ref7) {\n      var fullName = _ref7.fullName;\n\n      if (fullName.indexOf(\"sortOrder\") > -1) {\n        this._filesView.columnOption(\"isParentFolder\", {\n          sortOrder: \"asc\",\n          sortIndex: 0\n        });\n      }\n    }\n  }, {\n    key: \"_createThumbnailColumnCell\",\n    value: function (container, cellInfo) {\n      this._getItemThumbnailContainer(cellInfo.data).appendTo(container);\n    }\n  }, {\n    key: \"_createNameColumnCell\",\n    value: function (container, cellInfo) {\n      var _this4 = this;\n\n      var $button = (0, _renderer.default)(\"<div>\");\n      var $name = (0, _renderer.default)(\"<span>\").text(cellInfo.data.fileItem.name).addClass(FILE_MANAGER_DETAILS_ITEM_NAME_CLASS);\n      var $wrapper = (0, _renderer.default)(\"<div>\").append($name, $button).addClass(FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS);\n      (0, _renderer.default)(container).append($wrapper);\n\n      this._createComponent($button, _uiFile_manager3.default, {\n        onClick: function (e) {\n          return _this4._onFileItemActionButtonClick(e);\n        }\n      });\n    }\n  }, {\n    key: \"_calculateSizeColumnCellValue\",\n    value: function (rowData) {\n      return rowData.fileItem.isDirectory ? \"\" : (0, _uiFile_manager.getDisplayFileSize)(rowData.fileItem.size);\n    }\n  }, {\n    key: \"_selectItem\",\n    value: function (fileItemInfo) {\n      var selectItemFunc = this._isMultipleSelectionMode() ? this._selectItemMultipleSelection : this._selectItemSingleSelection;\n      selectItemFunc.call(this, fileItemInfo);\n    }\n  }, {\n    key: \"_deselectItem\",\n    value: function (item) {\n      this._filesView.deselectRows([item.fileItem.key]);\n    }\n  }, {\n    key: \"_selectItemSingleSelection\",\n    value: function (fileItemInfo) {\n      if (!this._focusedItem || !fileItemInfo || this._focusedItem.fileItem.key !== fileItemInfo.fileItem.key) {\n        var oldFocusedItem = this._focusedItem;\n        this._focusedItem = fileItemInfo;\n        var deselectedKeys = [];\n\n        if (oldFocusedItem) {\n          deselectedKeys.push(oldFocusedItem.fileItem.key);\n        }\n\n        var selectedItems = [];\n        var selectedKeys = [];\n\n        if (fileItemInfo) {\n          selectedItems.push(fileItemInfo.fileItem);\n          selectedKeys.push(fileItemInfo.fileItem.key);\n        }\n\n        this._raiseSelectionChanged({\n          selectedItems: selectedItems,\n          selectedItemKeys: selectedKeys,\n          currentSelectedItemKeys: [].concat(selectedKeys),\n          currentDeselectedItemKeys: deselectedKeys\n        });\n      }\n    }\n  }, {\n    key: \"_selectItemMultipleSelection\",\n    value: function (_ref8) {\n      var fileItem = _ref8.fileItem;\n\n      if (!this._filesView.isRowSelected(fileItem.key)) {\n        var selectionController = this._filesView.getController(\"selection\");\n\n        var preserve = selectionController.isSelectionWithCheckboxes();\n\n        this._filesView.selectRows([fileItem.key], preserve);\n      }\n    }\n  }, {\n    key: \"_setSelectedItemKeys\",\n    value: function (itemKeys) {\n      this._filesView.option(\"selectedRowKeys\", itemKeys);\n    }\n  }, {\n    key: \"_setFocusedItemKey\",\n    value: function (itemKey) {\n      this._filesView.option(\"focusedRowKey\", itemKey);\n    }\n  }, {\n    key: \"clearSelection\",\n    value: function () {\n      if (this._isMultipleSelectionMode()) {\n        this._filesView.clearSelection();\n      } else {\n        this._filesView.option(\"focusedRowIndex\", -1);\n      }\n    }\n  }, {\n    key: \"refresh\",\n    value: function (options) {\n      var actualOptions = {\n        dataSource: this._createDataSource()\n      };\n\n      if (options && Object.prototype.hasOwnProperty.call(options, \"focusedItemKey\")) {\n        if ((0, _type.isDefined)(options.focusedItemKey)) {\n          actualOptions.focusedRowKey = options.focusedItemKey;\n        } else {\n          actualOptions.focusedRowIndex = -1;\n        }\n      }\n\n      this._filesView.option(actualOptions);\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function () {\n      if (this._isMultipleSelectionMode()) {\n        return this._filesView.getSelectedRowsData();\n      }\n\n      return this._focusedItem && !this._isParentDirectoryItem(this._focusedItem) ? [this._focusedItem] : [];\n    }\n  }]);\n\n  return FileManagerDetailsItemList;\n}(_uiFile_manager2.default);\n\nvar _default = FileManagerDetailsItemList;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/file_manager/ui.file_manager.item_list.details.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_renderer","_interopRequireDefault","require","_extend","_uiFile_manager","_type","_message","_ui","_uiFile_manager2","_uiFile_manager3","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","FILE_MANAGER_DETAILS_ITEM_LIST_CLASS","FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS","FILE_MANAGER_DETAILS_ITEM_NAME_CLASS","FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS","FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS","FILE_MANAGER_PARENT_DIRECTORY_ITEM","DATA_GRID_DATA_ROW_CLASS","DEFAULT_COLUMN_CONFIGS","thumbnail","caption","calculateSortValue","width","alignment","cssClass","name","format","dateModified","hidingPriority","size","isParentFolder","visible","sortIndex","sortOrder","FileManagerDetailsItemList","_FileManagerItemListB","_super","_this","_itemCount","_focusedItem","_hasParentDirectoryItem","_parentDirectoryItemKey","_selectAllCheckBox","_selectAllCheckBoxUpdating","$element","addClass","_createFilesView","_contextMenu","option","_onContextMenuHidden","$filesView","appendTo","selectionMode","_isMultipleSelectionMode","_filesView","_createComponent","dataSource","_createDataSource","hoverStateEnabled","selection","mode","showCheckBoxesMode","_isDesktop","selectedRowKeys","focusedRowKey","focusedRowEnabled","allowColumnResizing","scrolling","sorting","showSortIndexes","showColumnLines","showRowLines","columnHidingEnabled","columns","_createColumns","onEditorPreparing","_onEditorPreparing","bind","onRowPrepared","_onRowPrepared","onContextMenuPreparing","_onContextMenuPreparing","onSelectionChanged","_onFilesViewSelectionChanged","onFocusedRowChanged","_onFilesViewFocusedRowChanged","onOptionChanged","_onFilesViewOptionChanged","_this2","slice","map","column","extendedItem","isString","dataField","_getPreparedColumn","customizeDetailColumns","isFunction","push","forEach","_updateColumnDataField","columnOptions","resultCssClass","_isDefaultColumn","defaultConfig","extend","cellTemplate","_createThumbnailColumnCell","concat","_createNameColumnCell","calculateCellValue","_calculateSizeColumnCellValue","extendAttributes","dataItemSuffix","columnDataField","_ref","component","element","event","stopPropagation","$row","closest","_getItemSelector","fileItemInfo","data","_selectItem","_showContextMenu","_getFileItemsForContextMenu","_activeFileActionsButton","setActive","currentTarget","_raiseSelectedItemOpened","selectableItemsCount","_ref2","_this3","command","row","parentType","editorOptions","_isParentDirectoryItem","disabled","onInitialized","_ref3","_isAllItemsSelected","onValueChanged","args","_onSelectAllCheckBoxValueChanged","_ref4","previousValue","selectAll","deselectAll","preventDefault","_ref5","rowType","rowElement","fileItems","item","items","createContextMenuItems","_raiseContextMenuShowing","_ref6","selectedRowsData","currentSelectedRowKeys","currentDeselectedRowKeys","selectedItems","itemInfo","fileItem","_tryRaiseSelectionChanged","selectedItemInfos","selectedItemKeys","currentSelectedItemKeys","currentDeselectedItemKeys","_e$row2","_e$row","_selectItemSingleSelection","fileSystemItem","_onFocusedItemChanged","itemKey","itemElement","_ref7","fullName","indexOf","columnOption","container","cellInfo","_getItemThumbnailContainer","_this4","$button","$name","text","$wrapper","append","onClick","_onFileItemActionButtonClick","rowData","isDirectory","getDisplayFileSize","selectItemFunc","_selectItemMultipleSelection","deselectRows","oldFocusedItem","deselectedKeys","selectedKeys","_raiseSelectionChanged","_ref8","isRowSelected","selectionController","getController","preserve","isSelectionWithCheckboxes","selectRows","itemKeys","clearSelection","options","actualOptions","isDefined","focusedItemKey","focusedRowIndex","getSelectedRowsData","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.item_list.details.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiFile_manager = require(\"./ui.file_manager.common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _ui = _interopRequireDefault(require(\"../data_grid/ui.data_grid\"));\r\nvar _uiFile_manager2 = _interopRequireDefault(require(\"./ui.file_manager.item_list\"));\r\nvar _uiFile_manager3 = _interopRequireDefault(require(\"./ui.file_manager.file_actions_button\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar FILE_MANAGER_DETAILS_ITEM_LIST_CLASS = \"dx-filemanager-details\";\r\nvar FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS = \"dx-filemanager-details-item-thumbnail\";\r\nvar FILE_MANAGER_DETAILS_ITEM_NAME_CLASS = \"dx-filemanager-details-item-name\";\r\nvar FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS = \"dx-filemanager-details-item-name-wrapper\";\r\nvar FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS = \"dx-filemanager-details-item-is-directory\";\r\nvar FILE_MANAGER_PARENT_DIRECTORY_ITEM = \"dx-filemanager-parent-directory-item\";\r\nvar DATA_GRID_DATA_ROW_CLASS = \"dx-data-row\";\r\nvar DEFAULT_COLUMN_CONFIGS = {\r\n    thumbnail: {\r\n        caption: \"\",\r\n        calculateSortValue: \"isDirectory\",\r\n        width: 36,\r\n        alignment: \"center\",\r\n        cssClass: FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS\r\n    },\r\n    name: {\r\n        caption: _message.default.format(\"dxFileManager-listDetailsColumnCaptionName\")\r\n    },\r\n    dateModified: {\r\n        caption: _message.default.format(\"dxFileManager-listDetailsColumnCaptionDateModified\"),\r\n        width: 110,\r\n        hidingPriority: 1\r\n    },\r\n    size: {\r\n        caption: _message.default.format(\"dxFileManager-listDetailsColumnCaptionFileSize\"),\r\n        width: 90,\r\n        alignment: \"right\",\r\n        hidingPriority: 0\r\n    },\r\n    isParentFolder: {\r\n        caption: \"isParentFolder\",\r\n        visible: false,\r\n        sortIndex: 0,\r\n        sortOrder: \"asc\"\r\n    }\r\n};\r\nvar FileManagerDetailsItemList = function(_FileManagerItemListB) {\r\n    _inherits(FileManagerDetailsItemList, _FileManagerItemListB);\r\n    var _super = _createSuper(FileManagerDetailsItemList);\r\n\r\n    function FileManagerDetailsItemList() {\r\n        _classCallCheck(this, FileManagerDetailsItemList);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(FileManagerDetailsItemList, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            var _this = this;\r\n            this._itemCount = 0;\r\n            this._focusedItem = null;\r\n            this._hasParentDirectoryItem = false;\r\n            this._parentDirectoryItemKey = null;\r\n            this._selectAllCheckBox = null;\r\n            this._selectAllCheckBoxUpdating = false;\r\n            this.$element().addClass(FILE_MANAGER_DETAILS_ITEM_LIST_CLASS);\r\n            this._createFilesView();\r\n            this._contextMenu.option(\"onContextMenuHidden\", function() {\r\n                return _this._onContextMenuHidden()\r\n            });\r\n            _get(_getPrototypeOf(FileManagerDetailsItemList.prototype), \"_initMarkup\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_createFilesView\",\r\n        value: function() {\r\n            var $filesView = (0, _renderer.default)(\"<div>\").appendTo(this.$element());\r\n            var selectionMode = this._isMultipleSelectionMode() ? \"multiple\" : \"none\";\r\n            this._filesView = this._createComponent($filesView, _ui.default, {\r\n                dataSource: this._createDataSource(),\r\n                hoverStateEnabled: true,\r\n                selection: {\r\n                    mode: selectionMode,\r\n                    showCheckBoxesMode: this._isDesktop() ? \"onClick\" : \"none\"\r\n                },\r\n                selectedRowKeys: this.option(\"selectedItemKeys\"),\r\n                focusedRowKey: this.option(\"focusedItemKey\"),\r\n                focusedRowEnabled: true,\r\n                allowColumnResizing: true,\r\n                scrolling: {\r\n                    mode: \"virtual\"\r\n                },\r\n                sorting: {\r\n                    mode: \"single\",\r\n                    showSortIndexes: false\r\n                },\r\n                showColumnLines: false,\r\n                showRowLines: false,\r\n                columnHidingEnabled: true,\r\n                columns: this._createColumns(),\r\n                onEditorPreparing: this._onEditorPreparing.bind(this),\r\n                onRowPrepared: this._onRowPrepared.bind(this),\r\n                onContextMenuPreparing: this._onContextMenuPreparing.bind(this),\r\n                onSelectionChanged: this._onFilesViewSelectionChanged.bind(this),\r\n                onFocusedRowChanged: this._onFilesViewFocusedRowChanged.bind(this),\r\n                onOptionChanged: this._onFilesViewOptionChanged.bind(this)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createColumns\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var columns = this.option(\"detailColumns\");\r\n            columns = columns.slice(0);\r\n            columns = columns.map(function(column) {\r\n                var extendedItem = column;\r\n                if ((0, _type.isString)(column)) {\r\n                    extendedItem = {\r\n                        dataField: column\r\n                    }\r\n                }\r\n                return _this2._getPreparedColumn(extendedItem)\r\n            });\r\n            var customizeDetailColumns = this.option(\"customizeDetailColumns\");\r\n            if ((0, _type.isFunction)(customizeDetailColumns)) {\r\n                columns = customizeDetailColumns(columns)\r\n            }\r\n            columns.push(this._getPreparedColumn({\r\n                dataField: \"isParentFolder\"\r\n            }));\r\n            columns.forEach(function(column) {\r\n                return _this2._updateColumnDataField(column)\r\n            });\r\n            return columns\r\n        }\r\n    }, {\r\n        key: \"_getPreparedColumn\",\r\n        value: function(columnOptions) {\r\n            var result = {};\r\n            var resultCssClass = \"\";\r\n            if (this._isDefaultColumn(columnOptions.dataField)) {\r\n                var defaultConfig = (0, _extend.extend)(true, {}, DEFAULT_COLUMN_CONFIGS[columnOptions.dataField]);\r\n                resultCssClass = defaultConfig.cssClass || \"\";\r\n                if (\"thumbnail\" === columnOptions.dataField) {\r\n                    defaultConfig.cellTemplate = this._createThumbnailColumnCell.bind(this);\r\n                    defaultConfig.calculateSortValue = \"fileItem.\".concat(defaultConfig.calculateSortValue)\r\n                }\r\n                if (\"name\" === columnOptions.dataField) {\r\n                    defaultConfig.cellTemplate = this._createNameColumnCell.bind(this)\r\n                }\r\n                if (\"size\" === columnOptions.dataField) {\r\n                    defaultConfig.calculateCellValue = this._calculateSizeColumnCellValue.bind(this)\r\n                }(0, _extend.extend)(true, result, defaultConfig)\r\n            }(0, _uiFile_manager.extendAttributes)(result, columnOptions, [\"alignment\", \"caption\", \"dataField\", \"dataType\", \"hidingPriority\", \"sortIndex\", \"sortOrder\", \"visible\", \"visibleIndex\", \"width\"]);\r\n            if (columnOptions.cssClass) {\r\n                resultCssClass = resultCssClass ? \"\".concat(resultCssClass, \" \").concat(columnOptions.cssClass) : columnOptions.cssClass\r\n            }\r\n            if (resultCssClass) {\r\n                result.cssClass = resultCssClass\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_updateColumnDataField\",\r\n        value: function(column) {\r\n            var dataItemSuffix = this._isDefaultColumn(column.dataField) ? \"\" : \"dataItem.\";\r\n            column.dataField = \"fileItem.\" + dataItemSuffix + column.dataField;\r\n            return column\r\n        }\r\n    }, {\r\n        key: \"_isDefaultColumn\",\r\n        value: function(columnDataField) {\r\n            return !!DEFAULT_COLUMN_CONFIGS[columnDataField]\r\n        }\r\n    }, {\r\n        key: \"_onFileItemActionButtonClick\",\r\n        value: function(_ref) {\r\n            var component = _ref.component,\r\n                element = _ref.element,\r\n                event = _ref.event;\r\n            event.stopPropagation();\r\n            var $row = component.$element().closest(this._getItemSelector());\r\n            var fileItemInfo = $row.data(\"item\");\r\n            this._selectItem(fileItemInfo);\r\n            this._showContextMenu(this._getFileItemsForContextMenu(fileItemInfo), element, fileItemInfo);\r\n            this._activeFileActionsButton = component;\r\n            this._activeFileActionsButton.setActive(true)\r\n        }\r\n    }, {\r\n        key: \"_onContextMenuHidden\",\r\n        value: function() {\r\n            if (this._activeFileActionsButton) {\r\n                this._activeFileActionsButton.setActive(false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemThumbnailCssClass\",\r\n        value: function() {\r\n            return FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS\r\n        }\r\n    }, {\r\n        key: \"_getItemSelector\",\r\n        value: function() {\r\n            return \".\".concat(DATA_GRID_DATA_ROW_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_onItemDblClick\",\r\n        value: function(e) {\r\n            var $row = (0, _renderer.default)(e.currentTarget);\r\n            var fileItemInfo = $row.data(\"item\");\r\n            this._raiseSelectedItemOpened(fileItemInfo)\r\n        }\r\n    }, {\r\n        key: \"_isAllItemsSelected\",\r\n        value: function() {\r\n            var selectableItemsCount = this._hasParentDirectoryItem ? this._itemCount - 1 : this._itemCount;\r\n            var selectedRowKeys = this._filesView.option(\"selectedRowKeys\");\r\n            if (!selectedRowKeys.length) {\r\n                return false\r\n            }\r\n            return selectedRowKeys.length >= selectableItemsCount ? true : void 0\r\n        }\r\n    }, {\r\n        key: \"_onEditorPreparing\",\r\n        value: function(_ref2) {\r\n            var _this3 = this;\r\n            var component = _ref2.component,\r\n                command = _ref2.command,\r\n                row = _ref2.row,\r\n                parentType = _ref2.parentType,\r\n                editorOptions = _ref2.editorOptions;\r\n            if (!this._filesView) {\r\n                this._filesView = component\r\n            }\r\n            if (\"select\" === command && row) {\r\n                if (this._isParentDirectoryItem(row.data)) {\r\n                    editorOptions.disabled = true\r\n                }\r\n            } else {\r\n                if (\"headerRow\" === parentType) {\r\n                    editorOptions.onInitialized = function(_ref3) {\r\n                        var component = _ref3.component;\r\n                        _this3._selectAllCheckBox = component\r\n                    };\r\n                    editorOptions.value = this._isAllItemsSelected();\r\n                    editorOptions.onValueChanged = function(args) {\r\n                        return _this3._onSelectAllCheckBoxValueChanged(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onSelectAllCheckBoxValueChanged\",\r\n        value: function(_ref4) {\r\n            var event = _ref4.event,\r\n                previousValue = _ref4.previousValue,\r\n                value = _ref4.value;\r\n            if (!event) {\r\n                if (previousValue && !this._selectAllCheckBoxUpdating && this._selectAllCheckBox) {\r\n                    this._selectAllCheckBox.option(\"value\", previousValue)\r\n                }\r\n                return\r\n            }\r\n            if (this._isAllItemsSelected() === value) {\r\n                return\r\n            }\r\n            if (value) {\r\n                this._filesView.selectAll()\r\n            } else {\r\n                this._filesView.deselectAll()\r\n            }\r\n            event.preventDefault()\r\n        }\r\n    }, {\r\n        key: \"_onRowPrepared\",\r\n        value: function(_ref5) {\r\n            var rowType = _ref5.rowType,\r\n                rowElement = _ref5.rowElement,\r\n                data = _ref5.data;\r\n            if (\"data\" === rowType) {\r\n                var $row = (0, _renderer.default)(rowElement);\r\n                $row.data(\"item\", data);\r\n                if (this._isParentDirectoryItem(data)) {\r\n                    $row.addClass(FILE_MANAGER_PARENT_DIRECTORY_ITEM)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onContextMenuPreparing\",\r\n        value: function(e) {\r\n            if (!this._isDesktop()) {\r\n                return\r\n            }\r\n            var fileItems = null;\r\n            var item = null;\r\n            if (e.row && \"data\" === e.row.rowType) {\r\n                item = e.row.data;\r\n                this._selectItem(item);\r\n                fileItems = this._getFileItemsForContextMenu(item)\r\n            }\r\n            e.items = this._contextMenu.createContextMenuItems(fileItems, null, item);\r\n            this._raiseContextMenuShowing()\r\n        }\r\n    }, {\r\n        key: \"_onFilesViewSelectionChanged\",\r\n        value: function(_ref6) {\r\n            var component = _ref6.component,\r\n                selectedRowsData = _ref6.selectedRowsData,\r\n                selectedRowKeys = _ref6.selectedRowKeys,\r\n                currentSelectedRowKeys = _ref6.currentSelectedRowKeys,\r\n                currentDeselectedRowKeys = _ref6.currentDeselectedRowKeys;\r\n            this._filesView = this._filesView || component;\r\n            if (this._selectAllCheckBox) {\r\n                this._selectAllCheckBoxUpdating = true;\r\n                this._selectAllCheckBox.option(\"value\", this._isAllItemsSelected());\r\n                this._selectAllCheckBoxUpdating = false\r\n            }\r\n            var selectedItems = selectedRowsData.map(function(itemInfo) {\r\n                return itemInfo.fileItem\r\n            });\r\n            this._tryRaiseSelectionChanged({\r\n                selectedItemInfos: selectedRowsData,\r\n                selectedItems: selectedItems,\r\n                selectedItemKeys: selectedRowKeys,\r\n                currentSelectedItemKeys: currentSelectedRowKeys,\r\n                currentDeselectedItemKeys: currentDeselectedRowKeys\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onFilesViewFocusedRowChanged\",\r\n        value: function(e) {\r\n            var _e$row2;\r\n            if (!this._isMultipleSelectionMode()) {\r\n                var _e$row;\r\n                this._selectItemSingleSelection(null === (_e$row = e.row) || void 0 === _e$row ? void 0 : _e$row.data)\r\n            }\r\n            var fileSystemItem = (null === (_e$row2 = e.row) || void 0 === _e$row2 ? void 0 : _e$row2.data.fileItem) || null;\r\n            this._onFocusedItemChanged({\r\n                item: fileSystemItem,\r\n                itemKey: null === fileSystemItem || void 0 === fileSystemItem ? void 0 : fileSystemItem.key,\r\n                itemElement: e.rowElement\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onFilesViewOptionChanged\",\r\n        value: function(_ref7) {\r\n            var fullName = _ref7.fullName;\r\n            if (fullName.indexOf(\"sortOrder\") > -1) {\r\n                this._filesView.columnOption(\"isParentFolder\", {\r\n                    sortOrder: \"asc\",\r\n                    sortIndex: 0\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createThumbnailColumnCell\",\r\n        value: function(container, cellInfo) {\r\n            this._getItemThumbnailContainer(cellInfo.data).appendTo(container)\r\n        }\r\n    }, {\r\n        key: \"_createNameColumnCell\",\r\n        value: function(container, cellInfo) {\r\n            var _this4 = this;\r\n            var $button = (0, _renderer.default)(\"<div>\");\r\n            var $name = (0, _renderer.default)(\"<span>\").text(cellInfo.data.fileItem.name).addClass(FILE_MANAGER_DETAILS_ITEM_NAME_CLASS);\r\n            var $wrapper = (0, _renderer.default)(\"<div>\").append($name, $button).addClass(FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS);\r\n            (0, _renderer.default)(container).append($wrapper);\r\n            this._createComponent($button, _uiFile_manager3.default, {\r\n                onClick: function(e) {\r\n                    return _this4._onFileItemActionButtonClick(e)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_calculateSizeColumnCellValue\",\r\n        value: function(rowData) {\r\n            return rowData.fileItem.isDirectory ? \"\" : (0, _uiFile_manager.getDisplayFileSize)(rowData.fileItem.size)\r\n        }\r\n    }, {\r\n        key: \"_selectItem\",\r\n        value: function(fileItemInfo) {\r\n            var selectItemFunc = this._isMultipleSelectionMode() ? this._selectItemMultipleSelection : this._selectItemSingleSelection;\r\n            selectItemFunc.call(this, fileItemInfo)\r\n        }\r\n    }, {\r\n        key: \"_deselectItem\",\r\n        value: function(item) {\r\n            this._filesView.deselectRows([item.fileItem.key])\r\n        }\r\n    }, {\r\n        key: \"_selectItemSingleSelection\",\r\n        value: function(fileItemInfo) {\r\n            if (!this._focusedItem || !fileItemInfo || this._focusedItem.fileItem.key !== fileItemInfo.fileItem.key) {\r\n                var oldFocusedItem = this._focusedItem;\r\n                this._focusedItem = fileItemInfo;\r\n                var deselectedKeys = [];\r\n                if (oldFocusedItem) {\r\n                    deselectedKeys.push(oldFocusedItem.fileItem.key)\r\n                }\r\n                var selectedItems = [];\r\n                var selectedKeys = [];\r\n                if (fileItemInfo) {\r\n                    selectedItems.push(fileItemInfo.fileItem);\r\n                    selectedKeys.push(fileItemInfo.fileItem.key)\r\n                }\r\n                this._raiseSelectionChanged({\r\n                    selectedItems: selectedItems,\r\n                    selectedItemKeys: selectedKeys,\r\n                    currentSelectedItemKeys: [].concat(selectedKeys),\r\n                    currentDeselectedItemKeys: deselectedKeys\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_selectItemMultipleSelection\",\r\n        value: function(_ref8) {\r\n            var fileItem = _ref8.fileItem;\r\n            if (!this._filesView.isRowSelected(fileItem.key)) {\r\n                var selectionController = this._filesView.getController(\"selection\");\r\n                var preserve = selectionController.isSelectionWithCheckboxes();\r\n                this._filesView.selectRows([fileItem.key], preserve)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setSelectedItemKeys\",\r\n        value: function(itemKeys) {\r\n            this._filesView.option(\"selectedRowKeys\", itemKeys)\r\n        }\r\n    }, {\r\n        key: \"_setFocusedItemKey\",\r\n        value: function(itemKey) {\r\n            this._filesView.option(\"focusedRowKey\", itemKey)\r\n        }\r\n    }, {\r\n        key: \"clearSelection\",\r\n        value: function() {\r\n            if (this._isMultipleSelectionMode()) {\r\n                this._filesView.clearSelection()\r\n            } else {\r\n                this._filesView.option(\"focusedRowIndex\", -1)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"refresh\",\r\n        value: function(options) {\r\n            var actualOptions = {\r\n                dataSource: this._createDataSource()\r\n            };\r\n            if (options && Object.prototype.hasOwnProperty.call(options, \"focusedItemKey\")) {\r\n                if ((0, _type.isDefined)(options.focusedItemKey)) {\r\n                    actualOptions.focusedRowKey = options.focusedItemKey\r\n                } else {\r\n                    actualOptions.focusedRowIndex = -1\r\n                }\r\n            }\r\n            this._filesView.option(actualOptions)\r\n        }\r\n    }, {\r\n        key: \"getSelectedItems\",\r\n        value: function() {\r\n            if (this._isMultipleSelectionMode()) {\r\n                return this._filesView.getSelectedRowsData()\r\n            }\r\n            return this._focusedItem && !this._isParentDirectoryItem(this._focusedItem) ? [this._focusedItem] : []\r\n        }\r\n    }]);\r\n    return FileManagerDetailsItemList\r\n}(_uiFile_manager2.default);\r\nvar _default = FileManagerDetailsItemList;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}