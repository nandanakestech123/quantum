{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import\"./style.scss\";import{Link}from'react-router-dom';import SimpleReactValidator from'simple-react-validator';import{NormalInput,NormalSelect,NormalButton,NormalDate}from'component/common';import{displayImg}from'service/helperFunctions';import{DragFileUpload}from'../../../common';import{CreateCustomer,getCustomer,updateCustomer}from'redux/actions/customer';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import{AddCustomerForm}from'./addCustomer';import{dateFormat}from'service/helperFunctions';import{getLoginSaloon}from'redux/actions/auth';import{updateForm,getCommonApi}from'redux/actions/common';export var AddCustomerClass=/*#__PURE__*/function(_Component){_inherits(AddCustomerClass,_Component);var _super=_createSuper(AddCustomerClass);function AddCustomerClass(){var _this;_classCallCheck(this,AddCustomerClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{cust_name:'',cust_address:'',cust_dob:new Date(),cust_phone2:'',cust_email:'',Cust_sexesid:'',Site_Codeid:'',custallowsendsms:false,cust_maillist:false,cust_state:'',cust_country:'',cust_postcode:'',cust_nric:'',cust_language:'',cust_source:'',emergencycontact:'',cardno1:'',cardno2:'',cardno3:'',cardno4:'',cardno5:''},sexOption:[{value:1,label:\"Male\"},{value:2,label:\"Female\"}],salonList:[],sourceList:[],stateList:[],countryList:[],languageList:[]};_this.getCustomer=function(){_this.props.getCustomer(_this.props.match.params.id).then(function(res){_this.getDataFromStore();});};_this.getDataFromStore=function(){var formFields=_this.state.formFields;var customerDetail=_this.props.customerDetail;console.log(\"customerDetail\",customerDetail);formFields['cust_name']=customerDetail.cust_name;formFields['cust_address']=customerDetail.cust_address;formFields['cust_dob']=new Date(customerDetail.cust_dob);formFields['cust_phone2']=customerDetail.cust_phone2;formFields['cust_email']=customerDetail.cust_email;formFields['Cust_sexesid']=customerDetail.Cust_sexesid;formFields['Site_Codeid']=customerDetail.Site_Codeid;formFields['custallowsendsms']=customerDetail.custallowsendsms;formFields['cust_maillist']=customerDetail.cust_maillist;formFields['cust_state']=customerDetail.cust_state;formFields['cust_country']=customerDetail.cust_country;formFields['cust_postcode']=customerDetail.cust_postcode;formFields['cust_nric']=customerDetail.cust_nric;formFields['cust_language']=customerDetail.cust_language;formFields['cust_source']=customerDetail.cust_source;formFields['emergencycontact']=customerDetail.emergencycontact;formFields['cardno1']=customerDetail.cardno1;formFields['cardno2']=customerDetail.cardno2;formFields['cardno3']=customerDetail.cardno3;formFields['cardno4']=customerDetail.cardno4;formFields['cardno5']=customerDetail.cardno5;_this.setState({formFields:formFields});console.log(formFields,customerDetail,\"sfsdfhsdfsdfg\");};_this.handleChange=function(_ref){var _ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.setState({formFields:formFields});};_this.handleChangeBox=function(event){var formFields=Object.assign({},_this.state.formFields);formFields[event.target.name]=event.target.checked;_this.setState({formFields:formFields});};_this.handleInput=function(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value===true?1:value;_this.setState({formFields:formFields});};_this.handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var formFields,type,date,d,day,a,month,year;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formFields=_this.state.formFields;type=data;console.log(type,\"====\",data,\"sdfasdfasdf\");date=new Date(formFields.cust_dob);d=date.getDate();day=d<10?\"0\"+d:d;a=date.getMonth()+1;month=a<10?\"0\"+a:a;year=date.getFullYear();formFields[\"cust_dob\"]=\"\".concat(year,\"-\").concat(month,\"-\").concat(day);if(!_this.props.match.params.id){_context2.next=15;break;}_context2.next=13;return _this.props.updateCustomer(\"\".concat(_this.props.match.params.id,\"/\"),formFields).then(function(data){if(data.status===200){_this.resetData();if(_this.props.match.params.id){_this.props.history.push(\"/admin/customer/\".concat(_this.props.match.params.id,\"/details\"));}}});case 13:_context2.next=18;break;case 15:console.log(\"formFields\",formFields);_context2.next=18;return _this.props.CreateCustomer(formFields).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var _formFields;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(data.status===201)){_context.next=12;break;}_this.resetData();if(!_this.props.match.params.id){_context.next=6;break;}_this.props.history.push(\"/admin/cart/\".concat(_this.props.match.params.id,\"/details\"));_context.next=12;break;case 6:_formFields={};_formFields[\"custId\"]=data.data.id;_formFields[\"custName\"]=data.data.cust_name;_context.next=11;return _this.props.updateForm('basicApptDetail',_formFields);case 11:if(type===\"catalog\"){_this.props.history.push(\"/admin/cart\");}else if(data){_this.props.history.push(\"/admin/customer\");}else{_this.props.history.push(\"/admin/cart\");}case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref4.apply(this,arguments);};}());case 18:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.handleCancel=function(){if(_this.props.match.params.id){_this.props.history.push(\"/admin/customer/\".concat(_this.props.match.params.id,\"/details\"));}else{_this.props.history.push(\"/admin/customer\");}};_this.handleDatePick=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(name,value,\"date\",dateFormat(new Date()));// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context3.next=5;return _this.setState({formFields:formFields});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3,_x4){return _ref5.apply(this,arguments);};}();_this.resetData=function(){var formFields=_this.state.formFields;formFields['cust_name']=\"\";formFields['cust_address']=\"\";formFields['cust_dob']=\"\";formFields['cust_phone2']=\"\";formFields['cust_email']=\"\";formFields['Cust_sexesid']=\"\";formFields['Site_Codeid']=\"\";formFields['cust_state      ']=\"\";formFields['cust_country    ']=\"\";formFields['cust_postcode   ']=\"\";formFields['cust_nric       ']=\"\";formFields['cust_language   ']=\"\";formFields['cust_source     ']=\"\";formFields['emergencycontact']=\"\";formFields['cardno1']=\"\";formFields['cardno2']=\"\";formFields['cardno3']=\"\";formFields['cardno4']=\"\";formFields['cardno5']=\"\";_this.setState(formFields);};return _this;}_createClass(AddCustomerClass,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;if(this.props.match.params.id){this.getCustomer();}var _this$state=this.state,salonList=_this$state.salonList,sourceList=_this$state.sourceList,stateList=_this$state.stateList,countryList=_this$state.countryList,languageList=_this$state.languageList;this.props.getLoginSaloon().then(function(res){var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;salonList.push({value:key.id,label:key.itemsite_desc});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this2.setState({salonList:salonList});console.log(\"salonList\",salonList);});this.props.getCommonApi(\"source/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator2=_createForOfIteratorHelper(data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;sourceList.push({value:value.source_code,label:value.source_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this2.setState({sourceList:sourceList});}});this.props.getCommonApi(\"state/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator3=_createForOfIteratorHelper(data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var value=_step3.value;stateList.push({value:value.itm_code,label:value.itm_desc});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this2.setState({stateList:stateList});}});this.props.getCommonApi(\"country/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator4=_createForOfIteratorHelper(data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var value=_step4.value;countryList.push({value:value.itm_code,label:value.itm_desc});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this2.setState({countryList:countryList});}});this.props.getCommonApi(\"language/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator5=_createForOfIteratorHelper(data),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var value=_step5.value;languageList.push({value:value.itm_code,label:value.itm_desc});}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_this2.setState({languageList:languageList});}});}},{key:\"render\",value:function render(){var _this$state2=this.state,formFields=_this$state2.formFields,sexOption=_this$state2.sexOption,salonList=_this$state2.salonList,sourceList=_this$state2.sourceList,stateList=_this$state2.stateList,countryList=_this$state2.countryList,languageList=_this$state2.languageList;var cust_name=formFields.cust_name;return/*#__PURE__*/React.createElement(\"div\",{className:\"create-customer-section container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"create-customer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\"},\"Customer \"),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},this.props.match.params.id?\"Edit\":\"Add\",\" New Customer\")),/*#__PURE__*/React.createElement(\"div\",{className:\"customer-detail\"},/*#__PURE__*/React.createElement(AddCustomerForm,{formFields:formFields,salonList:salonList,sourceList:sourceList,stateList:stateList,countryList:countryList,languageList:languageList,handleDatePick:this.handleDatePick,sexOption:sexOption,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleCancel:this.handleCancel,handleChangeBox:this.handleChangeBox}))));}}]);return AddCustomerClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{customerDetail:state.customer.customerDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({CreateCustomer:CreateCustomer,getCustomer:getCustomer,updateCustomer:updateCustomer,getLoginSaloon:getLoginSaloon,updateForm:updateForm,getCommonApi:getCommonApi},dispatch);};export var AddCustomer=connect(mapStateToProps,mapDispatchToProps)(AddCustomerClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Customer/AddCustomer/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDate","displayImg","DragFileUpload","CreateCustomer","getCustomer","updateCustomer","connect","bindActionCreators","AddCustomerForm","dateFormat","getLoginSaloon","updateForm","getCommonApi","AddCustomerClass","state","formFields","cust_name","cust_address","cust_dob","Date","cust_phone2","cust_email","Cust_sexesid","Site_Codeid","custallowsendsms","cust_maillist","cust_state","cust_country","cust_postcode","cust_nric","cust_language","cust_source","emergencycontact","cardno1","cardno2","cardno3","cardno4","cardno5","sexOption","value","label","salonList","sourceList","stateList","countryList","languageList","props","match","params","id","then","res","getDataFromStore","customerDetail","console","log","setState","handleChange","target","name","Object","assign","handleChangeBox","event","checked","handleInput","handleSubmit","data","type","date","d","getDate","day","a","getMonth","month","year","getFullYear","status","resetData","history","push","handleCancel","handleDatePick","key","itemsite_desc","source_code","source_desc","itm_code","itm_desc","mapStateToProps","customer","mapDispatchToProps","dispatch","AddCustomer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./style.scss\";\r\nimport { Link } from 'react-router-dom';\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport { NormalInput, NormalSelect, NormalButton, NormalDate } from 'component/common';\r\nimport { displayImg } from 'service/helperFunctions';\r\nimport { DragFileUpload } from '../../../common';\r\nimport { CreateCustomer, getCustomer, updateCustomer } from 'redux/actions/customer'\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { AddCustomerForm } from './addCustomer';\r\nimport { dateFormat } from 'service/helperFunctions';\r\nimport { getLoginSaloon } from 'redux/actions/auth';\r\nimport { updateForm,getCommonApi } from 'redux/actions/common';\r\n\r\nexport class AddCustomerClass extends Component {\r\n    state = {\r\n        formFields: {\r\n            cust_name: '',\r\n            cust_address: '',\r\n            cust_dob:new Date(),\r\n            cust_phone2: '',\r\n            cust_email: '',\r\n            Cust_sexesid: '',\r\n            Site_Codeid: '',\r\n            custallowsendsms: false,\r\n            cust_maillist: false,\r\n            cust_state      : '',\r\n            cust_country    : '',\r\n            cust_postcode   : '',\r\n            cust_nric       : '',\r\n            cust_language   : '',\r\n            cust_source     : '',\r\n            emergencycontact: '',\r\n            cardno1:'',\r\n            cardno2:'',\r\n            cardno3:'',\r\n            cardno4:'',\r\n            cardno5:''\r\n        },\r\n        sexOption: [\r\n            { value: 1, label: \"Male\" },\r\n            { value: 2, label: \"Female\" }\r\n        ],\r\n        salonList: [],\r\n        sourceList:[],\r\n        stateList :[],\r\n        countryList :[],\r\n        languageList:[],\r\n    };\r\n\r\n    componentWillMount() {\r\n        if (this.props.match.params.id) {\r\n            this.getCustomer();\r\n        }\r\n        let { salonList,sourceList,stateList,countryList,languageList } = this.state;\r\n        this.props.getLoginSaloon().then((res) => {\r\n            for (let key of res.data) {\r\n                salonList.push({ value: key.id, label: key.itemsite_desc })\r\n            }\r\n            this.setState({ salonList })\r\n            console.log(\"salonList\",salonList);\r\n        })\r\n        this.props.getCommonApi(`source/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    sourceList.push({ value: value.source_code, label: value.source_desc })\r\n                }\r\n                this.setState({ sourceList })\r\n            }\r\n        })\r\n        this.props.getCommonApi(`state/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    stateList.push({ value: value.itm_code, label: value.itm_desc })\r\n                }\r\n                this.setState({ stateList })\r\n            }\r\n        })\r\n        this.props.getCommonApi(`country/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    countryList.push({ value: value.itm_code, label: value.itm_desc })\r\n                }\r\n                this.setState({ countryList })\r\n            }\r\n        })\r\n        this.props.getCommonApi(`language/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    languageList.push({ value: value.itm_code, label: value.itm_desc })\r\n                }\r\n                this.setState({ languageList })\r\n            }\r\n        })\r\n    }\r\n\r\n    getCustomer = () => {\r\n        this.props.getCustomer(this.props.match.params.id).then((res) => {\r\n            this.getDataFromStore();\r\n        })\r\n    }\r\n\r\n    getDataFromStore = () => {\r\n        let { formFields } = this.state;\r\n        let { customerDetail } = this.props\r\n        console.log(\"customerDetail\",customerDetail);\r\n        formFields['cust_name'] = customerDetail.cust_name;\r\n        formFields['cust_address'] = customerDetail.cust_address;\r\n        formFields['cust_dob'] = new Date(customerDetail.cust_dob);\r\n        formFields['cust_phone2'] = customerDetail.cust_phone2;\r\n        formFields['cust_email'] = customerDetail.cust_email;\r\n        formFields['Cust_sexesid'] = customerDetail.Cust_sexesid;\r\n        formFields['Site_Codeid'] = customerDetail.Site_Codeid;\r\n        formFields['custallowsendsms'] = customerDetail.custallowsendsms;\r\n        formFields['cust_maillist'] = customerDetail.cust_maillist;\r\n        formFields['cust_state'] = customerDetail.cust_state;\r\n        formFields['cust_country'] = customerDetail.cust_country;\r\n        formFields['cust_postcode'] = customerDetail.cust_postcode;\r\n        formFields['cust_nric'] = customerDetail.cust_nric;\r\n        formFields['cust_language'] = customerDetail.cust_language;\r\n        formFields['cust_source'] = customerDetail.cust_source;\r\n        formFields['emergencycontact'] = customerDetail.emergencycontact;\r\n        formFields['cardno1'] = customerDetail.cardno1;\r\n        formFields['cardno2'] = customerDetail.cardno2;\r\n        formFields['cardno3'] = customerDetail.cardno3;\r\n        formFields['cardno4'] = customerDetail.cardno4;\r\n        formFields['cardno5'] = customerDetail.cardno5;\r\n        this.setState({ formFields })\r\n        console.log(formFields, customerDetail, \"sfsdfhsdfsdfg\")\r\n    }\r\n\r\n    handleChange = ({ target: { value, name } }) => {\r\n        let formFields = Object.assign({}, this.state.formFields);\r\n\r\n        formFields[name] = value;\r\n\r\n\r\n        this.setState({\r\n            formFields,\r\n        });\r\n    };\r\n\r\n    handleChangeBox = (event) => {\r\n        let formFields = Object.assign({}, this.state.formFields);\r\n\r\n        formFields[event.target.name] = event.target.checked;\r\n\r\n\r\n        this.setState({\r\n            formFields,\r\n        });\r\n    };\r\n\r\n\r\n    handleInput = ({ target: { name, value } }) => {\r\n\r\n        let formFields = Object.assign({}, this.state.formFields)\r\n        formFields[name] = (value === true ? 1 : value);\r\n        this.setState({\r\n            formFields\r\n        })\r\n\r\n    }\r\n\r\n    handleSubmit = async (data) => {\r\n        let { formFields } = this.state;\r\n        let type = data;\r\n        console.log(type, \"====\", data, \"sdfasdfasdf\")\r\n       \r\n        let date = new Date(formFields.cust_dob)\r\n        let d = date.getDate();\r\n        let day = (d < 10 ? (\"0\" + d) : (d));\r\n        let a = date.getMonth() + 1;\r\n        let month = (a < 10 ? (\"0\" + a) : (a));\r\n        let year = date.getFullYear();\r\n        formFields[\"cust_dob\"] =`${year}-${month}-${day}`;\r\n\r\n        if (this.props.match.params.id) {\r\n            await this.props.updateCustomer(`${this.props.match.params.id}/`, formFields).then((data) => {\r\n                if (data.status === 200) {\r\n                    this.resetData();\r\n                    if (this.props.match.params.id) {\r\n                        this.props.history.push(`/admin/customer/${this.props.match.params.id}/details`)\r\n                    }\r\n                }\r\n               \r\n            })\r\n            \r\n        } else {\r\n            console.log(\"formFields\",formFields);\r\n            await this.props.CreateCustomer(formFields).then(async (data) => {\r\n                if (data.status === 201) {\r\n                    this.resetData();\r\n                    if (this.props.match.params.id) {\r\n                        this.props.history.push(`/admin/cart/${this.props.match.params.id}/details`)\r\n                    } else {\r\n                        let formFields = {};\r\n                        formFields[\"custId\"] = data.data.id;\r\n                        formFields[\"custName\"] = data.data.cust_name;\r\n                        await this.props.updateForm('basicApptDetail', formFields)\r\n                        if (type === \"catalog\") {\r\n                            this.props.history.push(`/admin/cart`);\r\n                        } else if (data) {\r\n                            this.props.history.push(`/admin/customer`);\r\n                        } else {\r\n                            this.props.history.push(`/admin/cart`);\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            \r\n        }\r\n    };\r\n\r\n    handleCancel = () => {\r\n        if (this.props.match.params.id) {\r\n            this.props.history.push(`/admin/customer/${this.props.match.params.id}/details`)\r\n        } else {\r\n            this.props.history.push(`/admin/customer`);\r\n        }\r\n    }\r\n\r\n    handleDatePick = async (name, value) => {\r\n        console.log(name, value, \"date\", dateFormat(new Date()))\r\n        // dateFormat(new Date())\r\n        let { formFields } = this.state;\r\n        formFields[name] = value;\r\n        // formFields[name] = value;\r\n        await this.setState({\r\n            formFields,\r\n        });\r\n    };\r\n\r\n    resetData = () => {\r\n        let { formFields } = this.state;\r\n        formFields['cust_name'] = \"\";\r\n        formFields['cust_address'] = \"\";\r\n        formFields['cust_dob'] = \"\";\r\n        formFields['cust_phone2'] = \"\";\r\n        formFields['cust_email'] = \"\";\r\n        formFields['Cust_sexesid'] = \"\";\r\n        formFields['Site_Codeid'] = \"\";\r\n        formFields['cust_state      '] = \"\";\r\n        formFields['cust_country    '] = \"\";\r\n        formFields['cust_postcode   '] = \"\";\r\n        formFields['cust_nric       '] = \"\";\r\n        formFields['cust_language   '] = \"\";\r\n        formFields['cust_source     '] = \"\";\r\n        formFields['emergencycontact'] = \"\";\r\n        formFields['cardno1'] = \"\";\r\n        formFields['cardno2'] = \"\";\r\n        formFields['cardno3'] = \"\";\r\n        formFields['cardno4'] = \"\";\r\n        formFields['cardno5'] = \"\";\r\n        this.setState(formFields)  \r\n    }\r\n\r\n    render() {\r\n        let { formFields, sexOption, salonList,sourceList,stateList,countryList,languageList } = this.state;\r\n        let { cust_name } = formFields;\r\n        return (\r\n            <div className=\"create-customer-section container\">\r\n                {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Customer</p> */}\r\n                <div className=\"create-customer\">\r\n                    <div className=\"head-label-nav\">\r\n                        <p className=\"category\">Customer </p>\r\n                        <i className=\"icon-right mx-md-3\"></i>\r\n                        <p className=\"sub-category\">{this.props.match.params.id ? \"Edit\" : \"Add\"} New Customer</p>\r\n                    </div>\r\n                    <div className=\"customer-detail\">\r\n                        <AddCustomerForm formFields={formFields} \r\n                        salonList={salonList}\r\n                        sourceList={sourceList}\r\n                        stateList={stateList} \r\n                        countryList ={countryList} \r\n                        languageList={languageList}\r\n                        handleDatePick={this.handleDatePick} sexOption={sexOption} handleChange={this.handleChange} handleSubmit={this.handleSubmit} handleCancel={this.handleCancel} handleChangeBox={this.handleChangeBox}></AddCustomerForm>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    customerDetail: state.customer.customerDetail\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        CreateCustomer,\r\n        getCustomer,\r\n        updateCustomer,\r\n        getLoginSaloon,\r\n        updateForm,\r\n        getCommonApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const AddCustomer = connect(mapStateToProps, mapDispatchToProps)(AddCustomerClass)"]},"metadata":{},"sourceType":"module"}