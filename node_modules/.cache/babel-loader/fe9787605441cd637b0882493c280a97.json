{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";export var CalenderTable=/*#__PURE__*/function(_Component){_inherits(CalenderTable,_Component);var _super=_createSuper(CalenderTable);function CalenderTable(){var _this;_classCallCheck(this,CalenderTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedMonth:\"\"};return _this;}_createClass(CalenderTable,[{key:\"componentWillMount\",value:function componentWillMount(){var date=new Date();var month=(\"0\"+(date.getMonth()+1)).slice(-2);var year=date.getFullYear();this.setState({selectedMonth:\"\".concat(year,\"-\").concat(month)});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _loop=function _loop(index){var _document$getElementB;var anchor=(_document$getElementB=document.getElementById(index))===null||_document$getElementB===void 0?void 0:_document$getElementB.parentElement;if(anchor){anchor.onclick=function(){var _this2$props$disabled;if((_this2$props$disabled=_this2.props.disabled)!==null&&_this2$props$disabled!==void 0?_this2$props$disabled:false)return;document.getElementById(index).classList.toggle(\"show\");};}};for(var index=1;index<=31;index++){_loop(index);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this3=this;var tableData=document.getElementsByTagName(\"TD\");for(var i=0;i<tableData.length;i++){var td=tableData[i];td.onclick=null;}var _loop2=function _loop2(index){var _document$getElementB2;var anchor=(_document$getElementB2=document.getElementById(index))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.parentElement;if(anchor){anchor.onclick=function(){var _this3$props$disabled;if((_this3$props$disabled=_this3.props.disabled)!==null&&_this3$props$disabled!==void 0?_this3$props$disabled:false)return;document.getElementById(index).classList.toggle(\"show\");};}};for(var index=1;index<=31;index++){_loop2(index);}}},{key:\"render\",value:function render(){var _this$props=this.props,_this$props$date=_this$props.date,date=_this$props$date===void 0?this.state.selectedMonth:_this$props$date,_this$props$data=_this$props.data,data=_this$props$data===void 0?[]:_this$props$data,onChange=_this$props.onChange,optionList=_this$props.optionList,_this$props$disabled=_this$props.disabled,disabled=_this$props$disabled===void 0?false:_this$props$disabled;var handOnOptionClick=function handOnOptionClick(index,value){if(disabled)return;var d=new Date(date);var newDate=new Date(d.getFullYear(),d.getMonth(),index);var obj=data.find(function(e){return newDate.getTime()===new Date(e.itm_date).getTime();});data[data.indexOf(obj)].itm_type=value;onChange(data);};var getDate=function getDate(index){var _data$find;var d=new Date(date);var firstDayDate=new Date(d.getFullYear(),d.getMonth(),1);var lastDayDate=new Date(d.getFullYear(),d.getMonth()+1,0).getDate();var startIndex=firstDayDate.getDay()==0?7:firstDayDate.getDay();var currentDate=index-startIndex+1;if(currentDate<=0)return;if(currentDate>lastDayDate)return;var newDate=new Date(d.getFullYear(),d.getMonth(),currentDate);var itm_type=(_data$find=data.find(function(e){return newDate.getTime()===new Date(e.itm_date).getTime();}))===null||_data$find===void 0?void 0:_data$find.itm_type;return/*#__PURE__*/React.createElement(React.Fragment,null,currentDate,/*#__PURE__*/React.createElement(\"br\",null),\"(\",optionList.find(function(val){return val.value==itm_type;})!=null?optionList.find(function(val){return val.value==itm_type;}).shortDesc:\"N/A\",\")\",/*#__PURE__*/React.createElement(\"div\",{id:currentDate,class:\"dropdown-content\"},optionList.map(function(val){return/*#__PURE__*/React.createElement(\"label\",{style:{cursor:\"pointer\"},key:\"ws\"+val.id,onClick:function onClick(){return handOnOptionClick(currentDate,val.value);}},val.label);})));};var getStyle=function getStyle(index){var _data$find2;var d=new Date(date);var firstDayDate=new Date(d.getFullYear(),d.getMonth(),1);var lastDayDate=new Date(d.getFullYear(),d.getMonth()+1,0).getDate();var startIndex=firstDayDate.getDay()==0?7:firstDayDate.getDay();var currentDate=index-startIndex+1;if(currentDate<=0)return;if(currentDate>lastDayDate)return;var newDate=new Date(d.getFullYear(),d.getMonth(),currentDate);var itm_type=(_data$find2=data.find(function(e){return newDate.getTime()===new Date(e.itm_date).getTime();}))===null||_data$find2===void 0?void 0:_data$find2.itm_type;return{backgroundColor:optionList.find(function(val){return val.value==itm_type;})!=null?optionList.find(function(val){return val.value==itm_type;}).color:\"white\",cursor:\"pointer\"};};return/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"table-header-color\"},/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},\"Mon\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},\"Tue\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},\"Wed\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},\"Thu\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},\"Fri\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-danger\"},\"Sat\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-danger\"},\"Sun\"))),data.length==0?null:/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:getStyle(1)},getDate(1)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(2)},getDate(2)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(3)},getDate(3)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(4)},getDate(4)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(5)},getDate(5)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(6)},getDate(6)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(7)},getDate(7))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:getStyle(8)},getDate(8)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(9)},getDate(9)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(10)},getDate(10)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(11)},getDate(11)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(12)},getDate(12)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(13)},getDate(13)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(14)},getDate(14))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:getStyle(15)},getDate(15)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(16)},getDate(16)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(17)},getDate(17)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(18)},getDate(18)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(19)},getDate(19)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(20)},getDate(20)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(21)},getDate(21))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:getStyle(22)},getDate(22)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(23)},getDate(23)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(24)},getDate(24)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(25)},getDate(25)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(26)},getDate(26)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(27)},getDate(27)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(28)},getDate(28))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:getStyle(29)},getDate(29)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(30)},getDate(30)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(31)},getDate(31)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(32)},getDate(32)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(33)},getDate(33)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(34)},getDate(34)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(35)},getDate(35))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:getStyle(36)},getDate(36)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(37)},getDate(37)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(38)},getDate(38)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(39)},getDate(39)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(40)},getDate(40)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(41)},getDate(41)),/*#__PURE__*/React.createElement(\"td\",{style:getStyle(42)},getDate(42))))));}}]);return CalenderTable;}(Component);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/StaffSchedule/CalenderTable/index.js"],"names":["React","Component","CalenderTable","state","selectedMonth","date","Date","month","getMonth","slice","year","getFullYear","setState","index","anchor","document","getElementById","parentElement","onclick","props","disabled","classList","toggle","tableData","getElementsByTagName","i","length","td","data","onChange","optionList","handOnOptionClick","value","d","newDate","obj","find","e","getTime","itm_date","indexOf","itm_type","getDate","firstDayDate","lastDayDate","startIndex","getDay","currentDate","val","shortDesc","map","cursor","id","label","getStyle","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport class CalenderTable extends Component {\r\n  state = {\r\n    selectedMonth: \"\",\r\n  };\r\n  componentWillMount() {\r\n    const date = new Date();\r\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\r\n    const year = date.getFullYear();\r\n\r\n    this.setState({ selectedMonth: `${year}-${month}` });\r\n  }\r\n  componentDidMount() {\r\n    for (let index = 1; index <= 31; index++) {\r\n      let anchor = document.getElementById(index)?.parentElement;\r\n      if (anchor) {\r\n        anchor.onclick = () => {\r\n          if (this.props.disabled ?? false) return;\r\n          document.getElementById(index).classList.toggle(\"show\");\r\n        };\r\n      }\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    var tableData = document.getElementsByTagName(\"TD\");\r\n    for (var i = 0; i < tableData.length; i++) {\r\n      var td = tableData[i];\r\n      td.onclick = null;\r\n    }\r\n\r\n    for (let index = 1; index <= 31; index++) {\r\n      let anchor = document.getElementById(index)?.parentElement;\r\n      if (anchor) {\r\n        anchor.onclick = () => {\r\n          if (this.props.disabled ?? false) return;\r\n          document.getElementById(index).classList.toggle(\"show\");\r\n        };\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let {\r\n      date = this.state.selectedMonth,\r\n      data = [],\r\n      onChange,\r\n      optionList,\r\n      disabled = false,\r\n    } = this.props;\r\n\r\n    const handOnOptionClick = (index, value) => {\r\n      if (disabled) return;\r\n      var d = new Date(date);\r\n      var newDate = new Date(d.getFullYear(), d.getMonth(), index);\r\n      var obj = data.find(\r\n        (e) => newDate.getTime() === new Date(e.itm_date).getTime()\r\n      );\r\n      data[data.indexOf(obj)].itm_type = value;\r\n      onChange(data);\r\n    };\r\n    const getDate = (index) => {\r\n      var d = new Date(date);\r\n      var firstDayDate = new Date(d.getFullYear(), d.getMonth(), 1);\r\n      var lastDayDate = new Date(\r\n        d.getFullYear(),\r\n        d.getMonth() + 1,\r\n        0\r\n      ).getDate();\r\n      var startIndex = firstDayDate.getDay() == 0 ? 7 : firstDayDate.getDay();\r\n      var currentDate = index - startIndex + 1;\r\n      if (currentDate <= 0) return;\r\n      if (currentDate > lastDayDate) return;\r\n      var newDate = new Date(d.getFullYear(), d.getMonth(), currentDate);\r\n      var itm_type = data.find(\r\n        (e) => newDate.getTime() === new Date(e.itm_date).getTime()\r\n      )?.itm_type;\r\n      return (\r\n        <>\r\n          {currentDate}\r\n          <br />(\r\n          {optionList.find((val) => val.value == itm_type) != null\r\n            ? optionList.find((val) => val.value == itm_type).shortDesc\r\n            : \"N/A\"}\r\n          )\r\n          <div id={currentDate} class=\"dropdown-content\">\r\n            {optionList.map((val) => {\r\n              return (\r\n                <label\r\n                  style={{ cursor: \"pointer\" }}\r\n                  key={\"ws\" + val.id}\r\n                  onClick={() => handOnOptionClick(currentDate, val.value)}\r\n                >\r\n                  {val.label}\r\n                </label>\r\n              );\r\n            })}\r\n          </div>\r\n        </>\r\n      );\r\n    };\r\n\r\n    const getStyle = (index) => {\r\n      var d = new Date(date);\r\n      var firstDayDate = new Date(d.getFullYear(), d.getMonth(), 1);\r\n      var lastDayDate = new Date(\r\n        d.getFullYear(),\r\n        d.getMonth() + 1,\r\n        0\r\n      ).getDate();\r\n      var startIndex = firstDayDate.getDay() == 0 ? 7 : firstDayDate.getDay();\r\n      var currentDate = index - startIndex + 1;\r\n      if (currentDate <= 0) return;\r\n      if (currentDate > lastDayDate) return;\r\n      var newDate = new Date(d.getFullYear(), d.getMonth(), currentDate);\r\n      var itm_type = data.find(\r\n        (e) => newDate.getTime() === new Date(e.itm_date).getTime()\r\n      )?.itm_type;\r\n      return {\r\n        backgroundColor:\r\n          optionList.find((val) => val.value == itm_type) != null\r\n            ? optionList.find((val) => val.value == itm_type).color\r\n            : \"white\",\r\n        cursor: \"pointer\",\r\n      };\r\n    };\r\n    return (\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr className=\"table-header-color\">\r\n              <th className=\"text-dark\">Mon</th>\r\n              <th className=\"text-dark\">Tue</th>\r\n              <th className=\"text-dark\">Wed</th>\r\n              <th className=\"text-dark\">Thu</th>\r\n              <th className=\"text-dark\">Fri</th>\r\n              <th className=\"text-danger\">Sat</th>\r\n              <th className=\"text-danger\">Sun</th>\r\n            </tr>\r\n          </thead>\r\n          {data.length == 0 ? null : (\r\n            <tbody>\r\n              <tr>\r\n                <td style={getStyle(1)}>{getDate(1)}</td>\r\n                <td style={getStyle(2)}>{getDate(2)}</td>\r\n                <td style={getStyle(3)}>{getDate(3)}</td>\r\n                <td style={getStyle(4)}>{getDate(4)}</td>\r\n                <td style={getStyle(5)}>{getDate(5)}</td>\r\n                <td style={getStyle(6)}>{getDate(6)}</td>\r\n                <td style={getStyle(7)}>{getDate(7)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(8)}>{getDate(8)}</td>\r\n                <td style={getStyle(9)}>{getDate(9)}</td>\r\n                <td style={getStyle(10)}>{getDate(10)}</td>\r\n                <td style={getStyle(11)}>{getDate(11)}</td>\r\n                <td style={getStyle(12)}>{getDate(12)}</td>\r\n                <td style={getStyle(13)}>{getDate(13)}</td>\r\n                <td style={getStyle(14)}>{getDate(14)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(15)}>{getDate(15)}</td>\r\n                <td style={getStyle(16)}>{getDate(16)}</td>\r\n                <td style={getStyle(17)}>{getDate(17)}</td>\r\n                <td style={getStyle(18)}>{getDate(18)}</td>\r\n                <td style={getStyle(19)}>{getDate(19)}</td>\r\n                <td style={getStyle(20)}>{getDate(20)}</td>\r\n                <td style={getStyle(21)}>{getDate(21)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(22)}>{getDate(22)}</td>\r\n                <td style={getStyle(23)}>{getDate(23)}</td>\r\n                <td style={getStyle(24)}>{getDate(24)}</td>\r\n                <td style={getStyle(25)}>{getDate(25)}</td>\r\n                <td style={getStyle(26)}>{getDate(26)}</td>\r\n                <td style={getStyle(27)}>{getDate(27)}</td>\r\n                <td style={getStyle(28)}>{getDate(28)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(29)}>{getDate(29)}</td>\r\n                <td style={getStyle(30)}>{getDate(30)}</td>\r\n                <td style={getStyle(31)}>{getDate(31)}</td>\r\n                <td style={getStyle(32)}>{getDate(32)}</td>\r\n                <td style={getStyle(33)}>{getDate(33)}</td>\r\n                <td style={getStyle(34)}>{getDate(34)}</td>\r\n                <td style={getStyle(35)}>{getDate(35)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(36)}>{getDate(36)}</td>\r\n                <td style={getStyle(37)}>{getDate(37)}</td>\r\n                <td style={getStyle(38)}>{getDate(38)}</td>\r\n                <td style={getStyle(39)}>{getDate(39)}</td>\r\n                <td style={getStyle(40)}>{getDate(40)}</td>\r\n                <td style={getStyle(41)}>{getDate(41)}</td>\r\n                <td style={getStyle(42)}>{getDate(42)}</td>\r\n              </tr>\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}