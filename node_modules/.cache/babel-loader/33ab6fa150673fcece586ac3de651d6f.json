{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalInput,NormalSelect}from\"component/common\";import{withTranslation}from\"react-i18next\";import{ItemUom,NewItemUomprices}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Toast}from\"service/toast\";export var NewuompopupClass=/*#__PURE__*/function(_Component){_inherits(NewuompopupClass,_Component);var _super=_createSuper(NewuompopupClass);function NewuompopupClass(){var _this;_classCallCheck(this,NewuompopupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={UOMC:[],UOM:[],count:null,uom_res:null,uomc_res:null};_this.componentDidMount=function(){_this.listuoms({});};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.listuoms=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,UOMC,UOM;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,UOMC=_this$state.UOMC,UOM=_this$state.UOM;UOMC=[];UOM=[];_context.next=5;return _this.props.ItemUom().then(function(res){var _iterator=_createForOfIteratorHelper(res),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;UOMC.push({value:key.uomCode,label:key.uomDesc});UOM.push({value:key.uomCode,label:key.uomDesc});}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(UOMC);_this.setState({UOMC:UOMC,UOM:UOM});console.log(UOMC.length);});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.handleinput=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;console.log(value,name);var _this$state2=_this.state,count=_this$state2.count,uom_res=_this$state2.uom_res,uomc_res=_this$state2.uomc_res;if(name==\"UOMC\"){uomc_res=value;_this.setState({uomc_res:uomc_res});}if(name==\"UOM\"){uom_res=value;_this.setState({uom_res:uom_res});}if(name==\"unit\"){count=value;_this.setState({count:count});}};_this.handlesubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state3,count,uom_res,uomc_res,newlist;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state3=_this.state,count=_this$state3.count,uom_res=_this$state3.uom_res,uomc_res=_this$state3.uomc_res;if(!(count==null)){_context2.next=5;break;}Toast({type:\"error\",message:\"Please check required field\"});_context2.next=10;break;case 5:newlist={itemCode:\"\",itemUom:uomc_res,uomDesc:uomc_res,uomUnit:count,itemUom2:uom_res,uom2Desc:uom_res,itemPrice:0,itemCost:0,minMargin:0,isactive:true,itemUompriceSeq:0,deleteUser:\"\",deleteDate:new Date()};_context2.next=8;return _this.props.NewItemUomprices(newlist).then(function(data){}).catch(function(e){return console.log(e);});case 8:_this.props.handleModal();_this.props.listofuom();case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(NewuompopupClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state4=this.state,UOMC=_this$state4.UOMC,count=_this$state4.count,UOM=_this$state4.UOM,uom_res=_this$state4.uom_res,uomc_res=_this$state4.uomc_res;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"Add UOM\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mt-3\"},/*#__PURE__*/React.createElement(\"p\",null,\"UOMC Description\"),/*#__PURE__*/React.createElement(NormalSelect,{options:UOMC,value:uomc_res,name:\"UOMC\",onChange:this.handleinput})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,\"UOM Unit\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(NormalInput,{onChange:this.handleinput,value:count,type:\"number\",name:\"unit\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mt-3\"},/*#__PURE__*/React.createElement(\"p\",null,\"UOM Description\"),/*#__PURE__*/React.createElement(NormalSelect,{options:UOM,value:uom_res,name:\"UOM\",onChange:this.handleinput}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-3 justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pl-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Cancel\",onClick:function onClick(){return _this2.props.handleModal();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"pr-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Submit\",onClick:function onClick(){return _this2.handlesubmit();}}))));}}]);return NewuompopupClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({ItemUom:ItemUom,NewItemUomprices:NewItemUomprices},dispatch);};export var Newuompopup=withTranslation()(connect(null,mapDispatchToProps)(NewuompopupClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Itemdataentry/popup/adduom.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","withTranslation","ItemUom","NewItemUomprices","connect","bindActionCreators","Toast","NewuompopupClass","state","UOMC","UOM","count","uom_res","uomc_res","componentDidMount","listuoms","updateState","data","isMounted","setState","props","then","res","key","push","value","uomCode","label","uomDesc","console","log","length","handleinput","target","name","handlesubmit","type","message","newlist","itemCode","itemUom","uomUnit","itemUom2","uom2Desc","itemPrice","itemCost","minMargin","isactive","itemUompriceSeq","deleteUser","deleteDate","Date","catch","e","handleModal","listofuom","color","mapDispatchToProps","dispatch","Newuompopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalInput, NormalSelect } from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { ItemUom, NewItemUomprices } from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport class NewuompopupClass extends Component {\r\n  state = {\r\n    UOMC: [],\r\n    UOM: [],\r\n    count: null,\r\n    uom_res: null,\r\n    uomc_res: null,\r\n  };\r\n  componentDidMount = () => {\r\n    this.listuoms({});\r\n  };\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  listuoms = async () => {\r\n    let { UOMC, UOM } = this.state;\r\n    UOMC = [];\r\n    UOM = [];\r\n    await this.props.ItemUom().then((res) => {\r\n      for (let key of res) {\r\n        UOMC.push({ value: key.uomCode, label: key.uomDesc });\r\n        UOM.push({ value: key.uomCode, label: key.uomDesc });\r\n      }\r\n      console.log(UOMC);\r\n      this.setState({\r\n        UOMC,\r\n        UOM,\r\n      });\r\n      console.log(UOMC.length);\r\n    });\r\n  };\r\n\r\n  handleinput = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { count, uom_res, uomc_res } = this.state;\r\n    if (name == \"UOMC\") {\r\n      uomc_res = value;\r\n      this.setState({ uomc_res });\r\n    }\r\n    if (name == \"UOM\") {\r\n      uom_res = value;\r\n      this.setState({ uom_res });\r\n    }\r\n    if (name == \"unit\") {\r\n      count = value;\r\n      this.setState({ count });\r\n    }\r\n  };\r\n\r\n  handlesubmit = async () => {\r\n    let { count, uom_res, uomc_res } = this.state;\r\n    if (count == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please check required field\",\r\n      });\r\n    } else {\r\n      let newlist = {\r\n        itemCode: \"\",\r\n        itemUom: uomc_res,\r\n        uomDesc: uomc_res,\r\n        uomUnit: count,\r\n        itemUom2: uom_res,\r\n        uom2Desc: uom_res,\r\n        itemPrice: 0,\r\n        itemCost: 0,\r\n        minMargin: 0,\r\n        isactive: true,\r\n        itemUompriceSeq: 0,\r\n        deleteUser: \"\",\r\n        deleteDate: new Date(),\r\n      };\r\n      await this.props\r\n        .NewItemUomprices(newlist)\r\n        .then((data) => {})\r\n\r\n        .catch((e) => console.log(e));\r\n\r\n      this.props.handleModal();\r\n      this.props.listofuom();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { UOMC, count, UOM, uom_res, uomc_res } = this.state;\r\n    return (\r\n      <div>\r\n        <h6>Add UOM</h6>\r\n        <div className=\"d-flex mt-3\">\r\n          <div className=\"col-4 mt-3\">\r\n            <p>UOMC Description</p>\r\n            <NormalSelect\r\n              options={UOMC}\r\n              value={uomc_res}\r\n              name=\"UOMC\"\r\n              onChange={this.handleinput}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-4 mt-3\">\r\n            <span>UOM Unit</span>\r\n            <span style={{ color: \"red\" }}>*</span>\r\n            <NormalInput\r\n              onChange={this.handleinput}\r\n              value={count}\r\n              type=\"number\"\r\n              name=\"unit\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4 mt-3\">\r\n            <p>UOM Description</p>\r\n            <NormalSelect\r\n              options={UOM}\r\n              value={uom_res}\r\n              name=\"UOM\"\r\n              onChange={this.handleinput}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex mt-3 justify-content-between\">\r\n          <div className=\"pl-2\">\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"Cancel\"}\r\n              onClick={() => this.props.handleModal()}\r\n            />\r\n          </div>\r\n          <div className=\"pr-2\">\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"Submit\"}\r\n              onClick={() => this.handlesubmit()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      ItemUom,\r\n      NewItemUomprices,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const Newuompopup = withTranslation()(\r\n  connect(null, mapDispatchToProps)(NewuompopupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}