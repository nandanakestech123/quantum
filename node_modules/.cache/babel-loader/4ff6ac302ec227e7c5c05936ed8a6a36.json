{"ast":null,"code":"/**\r\n * DevExtreme (viz/tree_map/tooltip.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _helpers = require(\"../core/helpers\");\n\nvar _tree_map = _interopRequireDefault(require(\"./tree_map.base\"));\n\nrequire(\"./api\");\n\nvar _tooltip = require(\"../core/tooltip\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar proto = _tree_map.default.prototype;\n(0, _helpers.expand)(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.showTooltip = function (coords) {\n    that._showTooltip(this._id, coords);\n  };\n});\n(0, _helpers.expand)(proto, \"_onNodesCreated\", function () {\n  if (this._tooltipIndex >= 0) {\n    this._tooltip.hide();\n  }\n\n  this._tooltipIndex = -1;\n});\n(0, _helpers.expand)(proto, \"_onTilingPerformed\", function () {\n  if (this._tooltipIndex >= 0) {\n    this._moveTooltip(this._nodes[this._tooltipIndex]);\n  }\n});\n\nfunction getCoords(rect, renderer) {\n  var offset = renderer.getRootOffset();\n  return [(rect[0] + rect[2]) / 2 + offset.left, (rect[1] + rect[3]) / 2 + offset.top];\n}\n\nproto._showTooltip = function (index, coords) {\n  var that = this;\n  var tooltip = that._tooltip;\n  var node = that._nodes[index];\n\n  if (that._tooltipIndex === index) {\n    that._moveTooltip(node, coords);\n\n    return;\n  }\n\n  var callback = function (result) {\n    if (void 0 === result) {\n      return;\n    }\n\n    if (result) {\n      that._moveTooltip(node, coords);\n    } else {\n      tooltip.hide();\n    }\n\n    that._tooltipIndex = result ? index : -1;\n  };\n\n  callback(tooltip.show({\n    value: node.value,\n    valueText: tooltip.formatValue(node.value),\n    node: node.proxy\n  }, {\n    x: 0,\n    y: 0,\n    offset: 0\n  }, {\n    node: node.proxy\n  }, void 0, callback));\n};\n\nproto._moveTooltip = function (node, coords) {\n  var xy = coords || node.rect && getCoords(node.rect, this._renderer) || [-1e3, -1e3];\n\n  this._tooltip.move(xy[0], xy[1], 0);\n};\n\nproto.hideTooltip = function () {\n  if (this._tooltipIndex >= 0) {\n    this._tooltipIndex = -1;\n\n    this._tooltip.hide();\n  }\n};\n\n_tree_map.default.addPlugin(_tooltip.plugin);","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/tree_map/tooltip.js"],"names":["_helpers","require","_tree_map","_interopRequireDefault","_tooltip","obj","__esModule","proto","default","prototype","expand","that","showTooltip","coords","_showTooltip","_id","_tooltipIndex","hide","_moveTooltip","_nodes","getCoords","rect","renderer","offset","getRootOffset","left","top","index","tooltip","node","callback","result","show","value","valueText","formatValue","proxy","x","y","xy","_renderer","move","hideTooltip","addPlugin","plugin"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/tree_map/tooltip.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _helpers = require(\"../core/helpers\");\r\nvar _tree_map = _interopRequireDefault(require(\"./tree_map.base\"));\r\nrequire(\"./api\");\r\nvar _tooltip = require(\"../core/tooltip\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar proto = _tree_map.default.prototype;\r\n(0, _helpers.expand)(proto, \"_extendProxyType\", function(proto) {\r\n    var that = this;\r\n    proto.showTooltip = function(coords) {\r\n        that._showTooltip(this._id, coords)\r\n    }\r\n});\r\n(0, _helpers.expand)(proto, \"_onNodesCreated\", function() {\r\n    if (this._tooltipIndex >= 0) {\r\n        this._tooltip.hide()\r\n    }\r\n    this._tooltipIndex = -1\r\n});\r\n(0, _helpers.expand)(proto, \"_onTilingPerformed\", function() {\r\n    if (this._tooltipIndex >= 0) {\r\n        this._moveTooltip(this._nodes[this._tooltipIndex])\r\n    }\r\n});\r\n\r\nfunction getCoords(rect, renderer) {\r\n    var offset = renderer.getRootOffset();\r\n    return [(rect[0] + rect[2]) / 2 + offset.left, (rect[1] + rect[3]) / 2 + offset.top]\r\n}\r\nproto._showTooltip = function(index, coords) {\r\n    var that = this;\r\n    var tooltip = that._tooltip;\r\n    var node = that._nodes[index];\r\n    if (that._tooltipIndex === index) {\r\n        that._moveTooltip(node, coords);\r\n        return\r\n    }\r\n    var callback = function(result) {\r\n        if (void 0 === result) {\r\n            return\r\n        }\r\n        if (result) {\r\n            that._moveTooltip(node, coords)\r\n        } else {\r\n            tooltip.hide()\r\n        }\r\n        that._tooltipIndex = result ? index : -1\r\n    };\r\n    callback(tooltip.show({\r\n        value: node.value,\r\n        valueText: tooltip.formatValue(node.value),\r\n        node: node.proxy\r\n    }, {\r\n        x: 0,\r\n        y: 0,\r\n        offset: 0\r\n    }, {\r\n        node: node.proxy\r\n    }, void 0, callback))\r\n};\r\nproto._moveTooltip = function(node, coords) {\r\n    var xy = coords || node.rect && getCoords(node.rect, this._renderer) || [-1e3, -1e3];\r\n    this._tooltip.move(xy[0], xy[1], 0)\r\n};\r\nproto.hideTooltip = function() {\r\n    if (this._tooltipIndex >= 0) {\r\n        this._tooltipIndex = -1;\r\n        this._tooltip.hide()\r\n    }\r\n};\r\n_tree_map.default.addPlugin(_tooltip.plugin);\r\n"]},"metadata":{},"sourceType":"script"}