{"ast":null,"code":"/**\r\n * DevExtreme (ui/slider/ui.slider_handle.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\n\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\n\nvar _translator = require(\"../../animation/translator\");\n\nvar _position = _interopRequireDefault(require(\"../../animation/position\"));\n\nvar _math = require(\"../../core/utils/math\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _position2 = require(\"../../core/utils/position\");\n\nvar _number = _interopRequireDefault(require(\"../../localization/number\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar SLIDER_CLASS = \"dx-slider\";\nvar SLIDER_HANDLE_CLASS = \"dx-slider-handle\";\nvar POSITION_ALIASES = {\n  top: {\n    my: \"bottom center\",\n    at: \"top center\",\n    collision: \"none\"\n  },\n  bottom: {\n    my: \"top center\",\n    at: \"bottom center\",\n    collision: \"none\"\n  },\n  right: {\n    my: \"left center\",\n    at: \"right center\",\n    collision: \"none\"\n  },\n  left: {\n    my: \"right center\",\n    at: \"left center\",\n    collision: \"none\"\n  }\n};\n\nvar SliderHandle = _ui.default.inherit({\n  _getDefaultOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      hoverStateEnabled: false,\n      value: 0,\n      tooltipEnabled: false,\n      tooltipFormat: function (v) {\n        return v;\n      },\n      tooltipPosition: \"top\",\n      tooltipShowMode: \"onHover\",\n      tooltipFitIn: null\n    });\n  },\n  _initMarkup: function () {\n    this.callBase();\n    this.$element().addClass(SLIDER_HANDLE_CLASS);\n    this.setAria({\n      role: \"slider\",\n      valuenow: this.option(\"value\")\n    });\n  },\n  _render: function () {\n    this._renderTooltip();\n\n    this.callBase();\n  },\n  _renderTooltip: function () {\n    if (this.option(\"tooltipEnabled\")) {\n      if (!this._$tooltip) {\n        this._$tooltip = (0, _renderer.default)(\"<div>\").appendTo(this.$element());\n      }\n\n      this._$slider = this.$element().closest(\".\" + SLIDER_CLASS);\n\n      this._updateTooltip();\n    } else {\n      this._removeTooltip();\n    }\n  },\n  _createTooltip: function () {\n    if (this._tooltip) {\n      return false;\n    }\n\n    this._tooltip = this._createComponent(this._$tooltip, _tooltip.default, {\n      visible: true,\n      target: this.$element(),\n      closeOnOutsideClick: false,\n      container: this.$element(),\n      hideTopOverlayHandler: null,\n      closeOnTargetScroll: false,\n      onPositioned: function (args) {\n        this._saveTooltipElements(args.component);\n\n        this._saveTooltipLocation();\n\n        this._centeredTooltipPosition();\n      }.bind(this),\n      animation: null,\n      arrowPosition: null,\n      templatesRenderAsynchronously: false,\n      _fixedPosition: false\n    });\n    return true;\n  },\n  _removeTooltip: function () {\n    if (!this._$tooltip) {\n      return;\n    }\n\n    this._$tooltip.remove();\n\n    delete this._$tooltip;\n    delete this._tooltip;\n  },\n  _renderTooltipPosition: function () {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var position = this.option(\"tooltipPosition\");\n\n    this._saveTooltipElements();\n\n    this._resetTooltipPosition();\n\n    if (\"string\" === (0, _type.type)(position)) {\n      position = (0, _extend.extend)({\n        boundary: this._$slider,\n        boundaryOffset: {\n          h: 1,\n          v: 1\n        }\n      }, POSITION_ALIASES[position]);\n    }\n\n    this._tooltip.option(\"position\", position);\n\n    this._saveTooltipLocation();\n  },\n  _saveTooltipElements: function (tooltip) {\n    tooltip = this._tooltip || tooltip;\n    this._$tooltipContent = tooltip.$content().parent();\n    this._$tooltipArrow = this._$tooltipContent.find(\".dx-popover-arrow\");\n  },\n  _resetTooltipPosition: function () {\n    (0, _translator.resetPosition)(this._$tooltipContent);\n    (0, _translator.resetPosition)(this._$tooltipArrow);\n  },\n  _saveTooltipLocation: function () {\n    this._contentLocate = (0, _translator.locate)(this._$tooltipContent);\n  },\n  _centeredTooltipPosition: function () {\n    if (!this._tooltip) {\n      return;\n    }\n\n    this._$tooltipContent.outerWidth(\"auto\");\n\n    var outerWidthWithoutRounding = (0, _position2.getBoundingRect)(this._$tooltipContent.get(0)).width;\n    var tooltipOuterWidth = Math.ceil(outerWidthWithoutRounding);\n    var roundedTooltipOuterWidth = tooltipOuterWidth % 2 + tooltipOuterWidth;\n\n    this._$tooltipContent.outerWidth(roundedTooltipOuterWidth);\n\n    var tooltipCenter = (roundedTooltipOuterWidth - this.$element().width()) / 2;\n    this._contentLocate.left = -tooltipCenter;\n\n    this._$tooltipArrow.css({\n      marginLeft: -this._$tooltipArrow.outerWidth() / 2,\n      left: \"50%\"\n    });\n\n    this._fitTooltip();\n  },\n  _fitTooltip: function () {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var position = this.option(\"tooltipPosition\");\n\n    if (\"string\" === (0, _type.type)(position)) {\n      position = (0, _extend.extend)({\n        of: this.$element(),\n        boundary: this._$slider,\n        boundaryOffset: {\n          h: 2,\n          v: 1\n        }\n      }, POSITION_ALIASES[position], {\n        collision: \"fit none\"\n      });\n    }\n\n    var calculatePosition = _position.default.calculate(this._$tooltipContent, position);\n\n    var isLeftSide = \"left\" === calculatePosition.h.collisionSide;\n    var arrowLeft = (isLeftSide ? -1 : 1) * calculatePosition.h.oversize;\n    var arrowMinLeft = this._contentLocate.left;\n\n    var arrowMaxRight = this._contentLocate.left + this._$tooltipContent.outerWidth() - this._$tooltipArrow.outerWidth();\n\n    (0, _translator.move)(this._$tooltipContent, {\n      left: this._contentLocate.left + (isLeftSide ? 1 : -1) * calculatePosition.h.oversize\n    });\n    (0, _translator.move)(this._$tooltipArrow, {\n      left: (0, _math.fitIntoRange)(arrowLeft, arrowMinLeft, arrowMaxRight)\n    });\n  },\n  _getFormattedValue: function (value) {\n    return _number.default.format(value, this.option(\"tooltipFormat\"));\n  },\n  _renderValue: function () {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var value = this.option(\"value\");\n\n    this._tooltip.$content().html(this._getFormattedValue(value));\n\n    this._fitTooltip();\n  },\n  _updateTooltip: function () {\n    var hoverMode = /^onhover$/i.test(this.option(\"tooltipShowMode\"));\n\n    if (!hoverMode) {\n      this._createTooltip();\n    }\n\n    this.$element().toggleClass(\"dx-slider-tooltip-on-hover\", hoverMode);\n\n    this._renderTooltipPosition();\n\n    this._renderValue();\n\n    this._centeredTooltipPosition();\n  },\n  _clean: function () {\n    this.callBase();\n    delete this._$tooltip;\n    delete this._tooltip;\n  },\n  _ensureTooltipIsCentered: function (value, previousValue) {\n    if ((0, _type.isDefined)(value) && (0, _type.isDefined)(previousValue) && value.toString().length !== previousValue.toString().length) {\n      this._centeredTooltipPosition();\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"tooltipFormat\":\n        this._renderValue();\n\n        break;\n\n      case \"value\":\n        this._renderValue();\n\n        var value = this._getFormattedValue(args.value);\n\n        var previousValue = this._getFormattedValue(args.previousValue);\n\n        this._ensureTooltipIsCentered(value, previousValue);\n\n        this.setAria(\"valuenow\", args.value);\n        break;\n\n      case \"tooltipEnabled\":\n        this._renderTooltip();\n\n        break;\n\n      case \"tooltipPosition\":\n        this._renderTooltipPosition();\n\n        this._centeredTooltipPosition();\n\n        break;\n\n      case \"tooltipShowMode\":\n        this._updateTooltip();\n\n        break;\n\n      case \"tooltipFitIn\":\n        this._fitTooltip();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  fitTooltipPosition: function () {\n    this._fitTooltip();\n  },\n  updateTooltip: function () {\n    if (!this._createTooltip()) {\n      return;\n    }\n\n    this._renderTooltipPosition();\n\n    this._renderValue();\n\n    this._centeredTooltipPosition();\n  },\n  repaint: function () {\n    this._renderTooltipPosition();\n\n    this._centeredTooltipPosition();\n\n    if (this._tooltip) {\n      this._tooltip._visibilityChanged(true);\n    }\n  }\n});\n\nvar _default = SliderHandle;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/slider/ui.slider_handle.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_ui","_tooltip","_translator","_position","_math","_type","_extend","_position2","_number","obj","__esModule","SLIDER_CLASS","SLIDER_HANDLE_CLASS","POSITION_ALIASES","top","my","at","collision","bottom","right","left","SliderHandle","inherit","_getDefaultOptions","extend","callBase","hoverStateEnabled","value","tooltipEnabled","tooltipFormat","v","tooltipPosition","tooltipShowMode","tooltipFitIn","_initMarkup","$element","addClass","setAria","role","valuenow","option","_render","_renderTooltip","_$tooltip","appendTo","_$slider","closest","_updateTooltip","_removeTooltip","_createTooltip","_createComponent","visible","target","closeOnOutsideClick","container","hideTopOverlayHandler","closeOnTargetScroll","onPositioned","args","_saveTooltipElements","component","_saveTooltipLocation","_centeredTooltipPosition","bind","animation","arrowPosition","templatesRenderAsynchronously","_fixedPosition","remove","_renderTooltipPosition","position","_resetTooltipPosition","type","boundary","boundaryOffset","h","tooltip","_$tooltipContent","$content","parent","_$tooltipArrow","find","resetPosition","_contentLocate","locate","outerWidth","outerWidthWithoutRounding","getBoundingRect","get","width","tooltipOuterWidth","Math","ceil","roundedTooltipOuterWidth","tooltipCenter","css","marginLeft","_fitTooltip","of","calculatePosition","calculate","isLeftSide","collisionSide","arrowLeft","oversize","arrowMinLeft","arrowMaxRight","move","fitIntoRange","_getFormattedValue","format","_renderValue","html","hoverMode","test","toggleClass","_clean","_ensureTooltipIsCentered","previousValue","isDefined","toString","length","_optionChanged","name","fitTooltipPosition","updateTooltip","repaint","_visibilityChanged","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/slider/ui.slider_handle.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _position = _interopRequireDefault(require(\"../../animation/position\"));\r\nvar _math = require(\"../../core/utils/math\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position2 = require(\"../../core/utils/position\");\r\nvar _number = _interopRequireDefault(require(\"../../localization/number\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SLIDER_CLASS = \"dx-slider\";\r\nvar SLIDER_HANDLE_CLASS = \"dx-slider-handle\";\r\nvar POSITION_ALIASES = {\r\n    top: {\r\n        my: \"bottom center\",\r\n        at: \"top center\",\r\n        collision: \"none\"\r\n    },\r\n    bottom: {\r\n        my: \"top center\",\r\n        at: \"bottom center\",\r\n        collision: \"none\"\r\n    },\r\n    right: {\r\n        my: \"left center\",\r\n        at: \"right center\",\r\n        collision: \"none\"\r\n    },\r\n    left: {\r\n        my: \"right center\",\r\n        at: \"left center\",\r\n        collision: \"none\"\r\n    }\r\n};\r\nvar SliderHandle = _ui.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            hoverStateEnabled: false,\r\n            value: 0,\r\n            tooltipEnabled: false,\r\n            tooltipFormat: function(v) {\r\n                return v\r\n            },\r\n            tooltipPosition: \"top\",\r\n            tooltipShowMode: \"onHover\",\r\n            tooltipFitIn: null\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SLIDER_HANDLE_CLASS);\r\n        this.setAria({\r\n            role: \"slider\",\r\n            valuenow: this.option(\"value\")\r\n        })\r\n    },\r\n    _render: function() {\r\n        this._renderTooltip();\r\n        this.callBase()\r\n    },\r\n    _renderTooltip: function() {\r\n        if (this.option(\"tooltipEnabled\")) {\r\n            if (!this._$tooltip) {\r\n                this._$tooltip = (0, _renderer.default)(\"<div>\").appendTo(this.$element())\r\n            }\r\n            this._$slider = this.$element().closest(\".\" + SLIDER_CLASS);\r\n            this._updateTooltip()\r\n        } else {\r\n            this._removeTooltip()\r\n        }\r\n    },\r\n    _createTooltip: function() {\r\n        if (this._tooltip) {\r\n            return false\r\n        }\r\n        this._tooltip = this._createComponent(this._$tooltip, _tooltip.default, {\r\n            visible: true,\r\n            target: this.$element(),\r\n            closeOnOutsideClick: false,\r\n            container: this.$element(),\r\n            hideTopOverlayHandler: null,\r\n            closeOnTargetScroll: false,\r\n            onPositioned: function(args) {\r\n                this._saveTooltipElements(args.component);\r\n                this._saveTooltipLocation();\r\n                this._centeredTooltipPosition()\r\n            }.bind(this),\r\n            animation: null,\r\n            arrowPosition: null,\r\n            templatesRenderAsynchronously: false,\r\n            _fixedPosition: false\r\n        });\r\n        return true\r\n    },\r\n    _removeTooltip: function() {\r\n        if (!this._$tooltip) {\r\n            return\r\n        }\r\n        this._$tooltip.remove();\r\n        delete this._$tooltip;\r\n        delete this._tooltip\r\n    },\r\n    _renderTooltipPosition: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var position = this.option(\"tooltipPosition\");\r\n        this._saveTooltipElements();\r\n        this._resetTooltipPosition();\r\n        if (\"string\" === (0, _type.type)(position)) {\r\n            position = (0, _extend.extend)({\r\n                boundary: this._$slider,\r\n                boundaryOffset: {\r\n                    h: 1,\r\n                    v: 1\r\n                }\r\n            }, POSITION_ALIASES[position])\r\n        }\r\n        this._tooltip.option(\"position\", position);\r\n        this._saveTooltipLocation()\r\n    },\r\n    _saveTooltipElements: function(tooltip) {\r\n        tooltip = this._tooltip || tooltip;\r\n        this._$tooltipContent = tooltip.$content().parent();\r\n        this._$tooltipArrow = this._$tooltipContent.find(\".dx-popover-arrow\")\r\n    },\r\n    _resetTooltipPosition: function() {\r\n        (0, _translator.resetPosition)(this._$tooltipContent);\r\n        (0, _translator.resetPosition)(this._$tooltipArrow)\r\n    },\r\n    _saveTooltipLocation: function() {\r\n        this._contentLocate = (0, _translator.locate)(this._$tooltipContent)\r\n    },\r\n    _centeredTooltipPosition: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        this._$tooltipContent.outerWidth(\"auto\");\r\n        var outerWidthWithoutRounding = (0, _position2.getBoundingRect)(this._$tooltipContent.get(0)).width;\r\n        var tooltipOuterWidth = Math.ceil(outerWidthWithoutRounding);\r\n        var roundedTooltipOuterWidth = tooltipOuterWidth % 2 + tooltipOuterWidth;\r\n        this._$tooltipContent.outerWidth(roundedTooltipOuterWidth);\r\n        var tooltipCenter = (roundedTooltipOuterWidth - this.$element().width()) / 2;\r\n        this._contentLocate.left = -tooltipCenter;\r\n        this._$tooltipArrow.css({\r\n            marginLeft: -this._$tooltipArrow.outerWidth() / 2,\r\n            left: \"50%\"\r\n        });\r\n        this._fitTooltip()\r\n    },\r\n    _fitTooltip: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var position = this.option(\"tooltipPosition\");\r\n        if (\"string\" === (0, _type.type)(position)) {\r\n            position = (0, _extend.extend)({\r\n                of: this.$element(),\r\n                boundary: this._$slider,\r\n                boundaryOffset: {\r\n                    h: 2,\r\n                    v: 1\r\n                }\r\n            }, POSITION_ALIASES[position], {\r\n                collision: \"fit none\"\r\n            })\r\n        }\r\n        var calculatePosition = _position.default.calculate(this._$tooltipContent, position);\r\n        var isLeftSide = \"left\" === calculatePosition.h.collisionSide;\r\n        var arrowLeft = (isLeftSide ? -1 : 1) * calculatePosition.h.oversize;\r\n        var arrowMinLeft = this._contentLocate.left;\r\n        var arrowMaxRight = this._contentLocate.left + this._$tooltipContent.outerWidth() - this._$tooltipArrow.outerWidth();\r\n        (0, _translator.move)(this._$tooltipContent, {\r\n            left: this._contentLocate.left + (isLeftSide ? 1 : -1) * calculatePosition.h.oversize\r\n        });\r\n        (0, _translator.move)(this._$tooltipArrow, {\r\n            left: (0, _math.fitIntoRange)(arrowLeft, arrowMinLeft, arrowMaxRight)\r\n        })\r\n    },\r\n    _getFormattedValue: function(value) {\r\n        return _number.default.format(value, this.option(\"tooltipFormat\"))\r\n    },\r\n    _renderValue: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var value = this.option(\"value\");\r\n        this._tooltip.$content().html(this._getFormattedValue(value));\r\n        this._fitTooltip()\r\n    },\r\n    _updateTooltip: function() {\r\n        var hoverMode = /^onhover$/i.test(this.option(\"tooltipShowMode\"));\r\n        if (!hoverMode) {\r\n            this._createTooltip()\r\n        }\r\n        this.$element().toggleClass(\"dx-slider-tooltip-on-hover\", hoverMode);\r\n        this._renderTooltipPosition();\r\n        this._renderValue();\r\n        this._centeredTooltipPosition()\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        delete this._$tooltip;\r\n        delete this._tooltip\r\n    },\r\n    _ensureTooltipIsCentered: function(value, previousValue) {\r\n        if ((0, _type.isDefined)(value) && (0, _type.isDefined)(previousValue) && value.toString().length !== previousValue.toString().length) {\r\n            this._centeredTooltipPosition()\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"tooltipFormat\":\r\n                this._renderValue();\r\n                break;\r\n            case \"value\":\r\n                this._renderValue();\r\n                var value = this._getFormattedValue(args.value);\r\n                var previousValue = this._getFormattedValue(args.previousValue);\r\n                this._ensureTooltipIsCentered(value, previousValue);\r\n                this.setAria(\"valuenow\", args.value);\r\n                break;\r\n            case \"tooltipEnabled\":\r\n                this._renderTooltip();\r\n                break;\r\n            case \"tooltipPosition\":\r\n                this._renderTooltipPosition();\r\n                this._centeredTooltipPosition();\r\n                break;\r\n            case \"tooltipShowMode\":\r\n                this._updateTooltip();\r\n                break;\r\n            case \"tooltipFitIn\":\r\n                this._fitTooltip();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    fitTooltipPosition: function() {\r\n        this._fitTooltip()\r\n    },\r\n    updateTooltip: function() {\r\n        if (!this._createTooltip()) {\r\n            return\r\n        }\r\n        this._renderTooltipPosition();\r\n        this._renderValue();\r\n        this._centeredTooltipPosition()\r\n    },\r\n    repaint: function() {\r\n        this._renderTooltipPosition();\r\n        this._centeredTooltipPosition();\r\n        if (this._tooltip) {\r\n            this._tooltip._visibilityChanged(true)\r\n        }\r\n    }\r\n});\r\nvar _default = SliderHandle;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}