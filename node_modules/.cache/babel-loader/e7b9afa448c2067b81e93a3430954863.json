{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Cart\\\\BillOps\\\\voidPaidTrans.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { NormalButton, NormalInput, NormalSelect, NormalDateTime, TableWrapper, NormalModal } from \"component/common\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\";\nimport SimpleReactValidator from \"simple-react-validator\"; // import { Treatment, Payment, EditCart } from './cart/index';\n\nimport service from \"assets/images/make-up-brush.png\"; // import Discount from './cart/discount';\n\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport closeIcon from \"assets/images/close.png\";\nimport { withTranslation } from \"react-i18next\";\nimport { Toast } from \"service/toast\";\nimport { CredentialConfirmation } from \"../credentialConfirmation\";\nexport class VoidPaidTransClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tstaffList: [],\n      cartData: {},\n      formFields: {\n        custName: \"\",\n        fromDate: new Date(),\n        toDate: new Date(),\n        transCode: \"\",\n        custCode: \"\"\n      },\n      headerDetails: [{\n        label: \"Branch\"\n      }, {\n        label: \"Transaction #\",\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: \"Customer Code\",\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: \"Customer Name\",\n        width: \"120px\"\n      }, {\n        label: \"Date\",\n        sortKey: false,\n        width: \"100px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Status\",\n        sortKey: false,\n        width: \"100px\"\n      }, {\n        label: \"Reference No\",\n        width: \"180px\"\n      }, {\n        label: \"Payment Remark\",\n        width: \"220px\"\n      }],\n      detailHeaderDetails: [{\n        label: \"S.No\",\n        sortKey: false,\n        width: \"\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Name\",\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: \"Qty\",\n        sortKey: false,\n        width: \"80px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Price\",\n        width: \"120px\",\n        divClass: \"justify-content-end text-right\"\n      }],\n      isShowBalance: false,\n      transactioRecord: [],\n      reasonOption: [],\n      page: 1,\n      limit: 10,\n      detailDataList: [],\n      isOpenvoidCheckout: false,\n      reason: \"\",\n      cartList: [],\n      isvoidCompleted: false,\n      completedData: {},\n      isVoidCreateLoading: false,\n      isVoidConfirmLoading: false,\n      isVoidCancelLoading: false,\n      isHandleConfirmationDialog: false,\n      isLoginConfirmation: false,\n      user: \"\",\n      pass: \"\"\n    };\n\n    this.componentWillMount = () => {\n      // this.getCart();\n      this.validator = new SimpleReactValidator({\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      }); // this.props.getCommonApi('reversereason/').then((key) => {\n      //     let { data } = key;\n      //     let { reasonOption } = this.state;\n      //     for (let value of data) {\n      //         reasonOption.push({ value: value.id, label: value.rev_desc })\n      //     }\n      //     this.setState({ reasonOption })\n      // })\n\n      this.handleCheckCart();\n      this.getCart();\n    };\n\n    this.getCart = data => {\n      let {\n        page,\n        limit,\n        formFields,\n        cartData,\n        tstaffList\n      } = this.state;\n      let {\n        custName,\n        fromDate,\n        toDate,\n        transCode,\n        custCode\n      } = formFields;\n      let {\n        basicApptDetail\n      } = this.props;\n      this.props.getCommonApi(`void/?from_date=${dateFormat(fromDate, \"yyyy-mm-dd\")}&to_date=${dateFormat(toDate, \"yyyy-mm-dd\")}&transac_no=${transCode}&cust_code=${basicApptDetail.custId}&cust_name=${custName}&page=${page}&limit=${limit}`).then(res => {\n        console.log(res, \"voidpaiddsfdfaafg\");\n        cartData = res;\n        tstaffList = res.data;\n        this.setState({\n          cartData,\n          tstaffList\n        });\n      });\n    };\n\n    this.handleCheckCart = async () => {\n      let {\n        basicApptDetail\n      } = this.props;\n      await this.props.getCommonApi(`voidcheck/?cust_id=${basicApptDetail.custId}`).then(res => {\n        if (res.status === 200) {\n          if (res.data.length > 0) {\n            this.setState({\n              isOpenvoidCheckout: true,\n              cartList: res.data\n            });\n            this.getvoidReason();\n          }\n        }\n      });\n    };\n\n    this.getvoidReason = () => {\n      this.props.getCommonApi(\"voidreason/\").then(key => {\n        let {\n          data\n        } = key;\n        let {\n          reasonOption\n        } = this.state;\n        reasonOption = [];\n\n        for (let value of data) {\n          reasonOption.push({\n            value: value.id,\n            label: value.reason_desc\n          });\n        }\n\n        this.setState({\n          reasonOption\n        });\n      });\n    };\n\n    this.getVoidDetail = () => {\n      let {\n        selectedData,\n        cartData,\n        tstaffList\n      } = this.state;\n      this.props.getCommonApi(`void/Details/?poshdr_id=${selectedData.id}`).then(res => {\n        this.setState({\n          detailDataList: res.data\n        });\n      });\n    };\n\n    this.handlePagination = async page => {\n      console.log(page, \"dsfsdfsdfsdf\");\n      await this.setState({\n        page: page.page\n      });\n      this.getCart(page);\n    };\n\n    this.handleVoidCreate = () => {\n      this.setState({\n        isVoidCreateLoading: true\n      });\n      let {\n        selectedData\n      } = this.state;\n      this.props.commonCreateApi(`void/?poshdr_id=${selectedData.id}`).then(key => {\n        this.setState({\n          isVoidCreateLoading: false\n        });\n        this.handleCheckCart();\n      });\n    };\n\n    this.handleVoidCartSubmit = async id => {\n      let {\n        selectedData,\n        reason,\n        cartList\n      } = this.state;\n\n      if (this.validator.allValid()) {\n        await this.setState({\n          isVoidConfirmLoading: true\n        });\n        this.props.commonCreateApi(`void/VoidReturn/?cart_id=${cartList[0].cart_id}&voidreason_id=${reason}`).then(async key => {\n          await this.setState({\n            isVoidConfirmLoading: false\n          });\n          await this.setState({\n            completedData: key.data\n          });\n          this.setState({\n            isvoidCompleted: true\n          });\n        });\n        this.setState({\n          isVoidConfirmLoading: false\n        });\n      } else {\n        this.validator.showMessages();\n      }\n    };\n\n    this.handleDialog = async () => {\n      let {\n        isOpenvoidDetail,\n        isOpenvoidCheckout,\n        isvoidCompleted\n      } = this.state;\n      isOpenvoidDetail = false;\n      isOpenvoidCheckout = false;\n      isvoidCompleted = false;\n      await this.setState({\n        isOpenvoidDetail,\n        isOpenvoidCheckout,\n        isvoidCompleted\n      });\n      this.handleCheckCart();\n      this.getCart();\n    };\n\n    this.handleChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value;\n      await this.setState({\n        formFields\n      });\n    };\n\n    this.handleSelectVoid = async (data, index) => {\n      if (data.is_allow) {\n        let {\n          selectedData,\n          selectedIndex\n        } = this.state;\n        selectedData = data;\n        selectedIndex = index;\n        await this.setState({\n          selectedData,\n          selectedIndex\n        });\n        this.setState({\n          isOpenvoidDetail: true\n        });\n        this.getVoidDetail();\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Void is not allowed in other outlets\"\n        });\n      }\n    };\n\n    this.handleSearch = () => {\n      this.getCart();\n    };\n\n    this.handleDatePick = async (name, value) => {\n      console.log(name, value, \"sdfgdfhfshg\", dateFormat(value)); // dateFormat(new Date())\n\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.setState({\n        formFields\n      }); // this.getCart()\n    };\n\n    this.handleReasonChange = ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      let {\n        reason\n      } = this.state;\n      reason = value;\n      this.setState({\n        reason\n      });\n    };\n\n    this.handlePrint = () => {\n      let {\n        completedData\n      } = this.state;\n      history.push(`/admin/billing/print/bill/${completedData.sa_transacno}`);\n    };\n\n    this.handleShare = id => {\n      let {\n        completedData\n      } = this.state;\n      this.props.commonCreateApi(`receiptpdfsend/?sa_transacno=${completedData.sa_transacno}`).then(res => {});\n    };\n\n    this.handleVoidCancelCart = id => {\n      this.setState({\n        isVoidCancelLoading: true\n      });\n      let {\n        completedData,\n        isOpenvoidCheckout,\n        cartList\n      } = this.state;\n      let payload = {\n        cart_id: cartList[0].cart_id\n      };\n      this.props.commonCreateApi(`voidcancel/`, payload).then(res => {\n        this.setState({\n          isVoidCancelLoading: false\n        });\n\n        if (res.status === 200) {\n          this.setState({\n            isOpenvoidCheckout: false\n          });\n        }\n      });\n    };\n\n    this.handleauthentication = async (user, pass) => {\n      let Body = {\n        username: user,\n        password: pass,\n        type: \"Void\"\n      };\n      this.props.commonCreateApi(`userauthorizationpopup/`, Body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 200) {\n          await this.setState(prevState => ({\n            isLoginConfirmation: !prevState.isLoginConfirmation\n          }));\n          this.handleVoidCreate();\n        }\n      });\n    };\n\n    this.handleLoginConfirmationDialog = async () => {\n      await this.setState(prevState => ({\n        isLoginConfirmation: !prevState.isLoginConfirmation\n      }));\n    };\n  }\n\n  render() {\n    let {\n      tstaffList = [],\n      headerDetails,\n      formFields,\n      isOpenvoidDetail,\n      detailDataList,\n      detailHeaderDetails,\n      isOpenvoidCheckout,\n      reason,\n      reasonOption,\n      isvoidCompleted,\n      isVoidCreateLoading,\n      isVoidConfirmLoading,\n      isVoidCancelLoading,\n      isLoginConfirmation\n    } = this.state;\n    let {\n      custName,\n      fromDate,\n      toDate,\n      transCode,\n      custCode\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart treatment-done top-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 13\n      }\n    }, t(\"From Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: new Date(fromDate),\n      name: \"fromDate\",\n      className: \"dob-pick\",\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 13\n      }\n    }, t(\"To Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: toDate,\n      name: \"toDate\",\n      className: \"dob-pick\",\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 13\n      }\n    }, t(\"Transaction Code\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: transCode,\n      name: \"transCode\",\n      onChange: this.handleChange,\n      className: `customer-name`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \" fs-15 confirm\",\n      label: \"Search\",\n      outline: false,\n      onClick: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `col-12 cart-item mt-2`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `item-list`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 15\n      }\n    }, tstaffList.dataList && tstaffList.dataList.length > 0 ? tstaffList.dataList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        onClick: () => this.handleSelectVoid(item, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left ${!item.is_current ? \"other-branch\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 29\n        }\n      }, item.itemsite_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 29\n        }\n      }, item.sa_transacno_ref)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 29\n        }\n      }, item.sa_custno)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 29\n        }\n      }, item.sa_custname)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-right`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 29\n        }\n      }, item.sa_date)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 29\n        }\n      }, item.sa_status)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 29\n        }\n      }, item.sa_transacno_ref)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `text-left`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 29\n        }\n      }, item.payment_remarks)));\n    }) : null)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pt-4 action-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"40%\"\n      },\n      modal: isOpenvoidDetail,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"fs-18 f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 11\n      }\n    }, \"Detail\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: detailHeaderDetails,\n      queryHandler: this.handlePagination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 13\n      }\n    }, detailDataList && detailDataList.length > 0 ? detailDataList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        onClick: () => this.handleSelectVoid(item, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 27\n        }\n      }, index + 1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 27\n        }\n      }, item.desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 27\n        }\n      }, item.dt_qty)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 27\n        }\n      }, item.dt_amt)));\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      resetbg: true,\n      className: \"fs-15\",\n      label: \"Cancel\",\n      onClick: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 15\n      }\n    }), isVoidCreateLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 23\n      }\n    }, t(\"Loading...\"))))) : /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Void\",\n      outline: false,\n      onClick: () => {\n        this.props.tokenDetails.voidbill_setup ? this.setState({\n          isLoginConfirmation: true\n        }) : this.handleVoidCreate();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"40%\"\n      },\n      modal: isOpenvoidCheckout,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"fs-18 f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 11\n      }\n    }, t(\"Void Checkout\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 13\n      }\n    }, t(\"Reason\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect // placeholder=\"Enter here\"\n    , {\n      options: reasonOption,\n      value: reason,\n      name: \"reason\",\n      onChange: this.handleReasonChange,\n      className: \"py-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 15\n      }\n    }), this.validator.message(\"Reason\", reason, \"required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 d-flex mt-5 justify-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 13\n      }\n    }, isVoidCancelLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 23\n      }\n    }, t(\"Loading...\"))))) : /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \" fs-15 confirm\",\n      label: \"Void Cancel\",\n      outline: false,\n      onClick: this.handleVoidCancelCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 d-flex mt-5 justify-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 13\n      }\n    }, isVoidConfirmLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 21\n      }\n    }, t(\"Loading...\")))) : /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \" fs-15 confirm\",\n      label: \"Confirm\",\n      outline: false,\n      onClick: this.handleVoidCartSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"void-checkout-complete top-up-modal\",\n      style: {\n        minWidth: \"40%\"\n      },\n      modal: isvoidCompleted,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"fs-18 f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 11\n      }\n    }, t(\"Void Checkout\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row my-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-flex mt-5 justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"print\",\n      label: \"Print\",\n      outline: false,\n      onClick: this.handlePrint,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-flex mt-5 justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"share\",\n      label: \"Share\",\n      outline: false,\n      onClick: this.handleShare,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-flex mt-5 justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      resetbg: true,\n      className: \"cancel\",\n      label: \"Close\",\n      outline: false,\n      onClick: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"d-flex justify-content-center\",\n      style: {\n        minWidth: \"20%\"\n      },\n      modal: isLoginConfirmation,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleLoginConfirmationDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CredentialConfirmation, {\n      handleLoginSubmit: (user, pass) => this.handleauthentication(user, pass),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  selected_cstomer: state.common.selected_cstomer,\n  basicApptDetail: state.appointment.basicApptDetail,\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    // getCustomer,\n    getCommonApi,\n    updateForm,\n    commonCreateApi,\n    commonPatchApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const VoidPaidTrans = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(VoidPaidTransClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Cart/BillOps/voidPaidTrans.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","NormalDateTime","TableWrapper","NormalModal","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","SimpleReactValidator","service","FormGroup","Label","Input","closeIcon","withTranslation","Toast","CredentialConfirmation","VoidPaidTransClass","state","tstaffList","cartData","formFields","custName","fromDate","Date","toDate","transCode","custCode","headerDetails","label","sortKey","width","divClass","detailHeaderDetails","isShowBalance","transactioRecord","reasonOption","page","limit","detailDataList","isOpenvoidCheckout","reason","cartList","isvoidCompleted","completedData","isVoidCreateLoading","isVoidConfirmLoading","isVoidCancelLoading","isHandleConfirmationDialog","isLoginConfirmation","user","pass","componentWillMount","validator","element","message","autoForceUpdate","handleCheckCart","getCart","data","basicApptDetail","props","custId","then","res","console","log","setState","status","length","getvoidReason","key","value","push","id","reason_desc","getVoidDetail","selectedData","handlePagination","handleVoidCreate","handleVoidCartSubmit","allValid","cart_id","showMessages","handleDialog","isOpenvoidDetail","handleChange","target","name","handleSelectVoid","index","is_allow","selectedIndex","type","handleSearch","handleDatePick","handleReasonChange","handlePrint","sa_transacno","handleShare","handleVoidCancelCart","payload","handleauthentication","Body","username","password","prevState","handleLoginConfirmationDialog","render","t","dataList","map","item","is_current","itemsite_code","sa_transacno_ref","sa_custno","sa_custname","sa_date","sa_status","payment_remarks","minWidth","desc","dt_qty","dt_amt","tokenDetails","voidbill_setup","mapStateToProps","selected_cstomer","common","appointment","authStore","mapDispatchToProps","dispatch","VoidPaidTrans"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport {\r\n  NormalButton,\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalDateTime,\r\n  TableWrapper,\r\n  NormalModal,\r\n} from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\n// import { Treatment, Payment, EditCart } from './cart/index';\r\nimport service from \"assets/images/make-up-brush.png\";\r\n// import Discount from './cart/discount';\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Toast } from \"service/toast\";\r\nimport { CredentialConfirmation } from \"../credentialConfirmation\";\r\n\r\nexport class VoidPaidTransClass extends Component {\r\n  state = {\r\n    tstaffList: [],\r\n    cartData: {},\r\n    formFields: {\r\n      custName: \"\",\r\n      fromDate: new Date(),\r\n      toDate: new Date(),\r\n      transCode: \"\",\r\n      custCode: \"\",\r\n    },\r\n    headerDetails: [\r\n      { label: \"Branch\" },\r\n      { label: \"Transaction #\", sortKey: false, width: \"120px\" },\r\n      { label: \"Customer Code\", sortKey: false, width: \"120px\" },\r\n      { label: \"Customer Name\", width: \"120px\" },\r\n      {\r\n        label: \"Date\",\r\n        sortKey: false,\r\n        width: \"100px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Status\", sortKey: false, width: \"100px\" },\r\n      { label: \"Reference No\", width: \"180px\" },\r\n      { label: \"Payment Remark\", width: \"220px\" },\r\n    ],\r\n    detailHeaderDetails: [\r\n      {\r\n        label: \"S.No\",\r\n        sortKey: false,\r\n        width: \"\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Name\", sortKey: false, width: \"120px\" },\r\n      {\r\n        label: \"Qty\",\r\n        sortKey: false,\r\n        width: \"80px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Price\",\r\n        width: \"120px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n    ],\r\n    isShowBalance: false,\r\n    transactioRecord: [],\r\n    reasonOption: [],\r\n    page: 1,\r\n    limit: 10,\r\n    detailDataList: [],\r\n    isOpenvoidCheckout: false,\r\n    reason: \"\",\r\n    cartList: [],\r\n    isvoidCompleted: false,\r\n    completedData: {},\r\n    isVoidCreateLoading: false,\r\n    isVoidConfirmLoading: false,\r\n    isVoidCancelLoading: false,\r\n    isHandleConfirmationDialog: false,\r\n    isLoginConfirmation: false,\r\n    user: \"\",\r\n    pass: \"\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // this.getCart();\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n    // this.props.getCommonApi('reversereason/').then((key) => {\r\n    //     let { data } = key;\r\n    //     let { reasonOption } = this.state;\r\n    //     for (let value of data) {\r\n    //         reasonOption.push({ value: value.id, label: value.rev_desc })\r\n    //     }\r\n    //     this.setState({ reasonOption })\r\n    // })\r\n    this.handleCheckCart();\r\n    this.getCart();\r\n  };\r\n\r\n  getCart = data => {\r\n    let { page, limit, formFields, cartData, tstaffList } = this.state;\r\n    let { custName, fromDate, toDate, transCode, custCode } = formFields;\r\n    let { basicApptDetail } = this.props;\r\n    this.props\r\n      .getCommonApi(\r\n        `void/?from_date=${dateFormat(\r\n          fromDate,\r\n          \"yyyy-mm-dd\"\r\n        )}&to_date=${dateFormat(\r\n          toDate,\r\n          \"yyyy-mm-dd\"\r\n        )}&transac_no=${transCode}&cust_code=${\r\n          basicApptDetail.custId\r\n        }&cust_name=${custName}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"voidpaiddsfdfaafg\");\r\n        cartData = res;\r\n        tstaffList = res.data;\r\n        this.setState({ cartData, tstaffList });\r\n      });\r\n  };\r\n\r\n  handleCheckCart = async () => {\r\n    let { basicApptDetail } = this.props;\r\n    await this.props\r\n      .getCommonApi(`voidcheck/?cust_id=${basicApptDetail.custId}`)\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          if (res.data.length > 0) {\r\n            this.setState({\r\n              isOpenvoidCheckout: true,\r\n              cartList: res.data,\r\n            });\r\n            this.getvoidReason();\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  getvoidReason = () => {\r\n    this.props.getCommonApi(\"voidreason/\").then(key => {\r\n      let { data } = key;\r\n      let { reasonOption } = this.state;\r\n      reasonOption = [];\r\n      for (let value of data) {\r\n        reasonOption.push({ value: value.id, label: value.reason_desc });\r\n      }\r\n      this.setState({ reasonOption });\r\n    });\r\n  };\r\n\r\n  getVoidDetail = () => {\r\n    let { selectedData, cartData, tstaffList } = this.state;\r\n    this.props\r\n      .getCommonApi(`void/Details/?poshdr_id=${selectedData.id}`)\r\n      .then(res => {\r\n        this.setState({ detailDataList: res.data });\r\n      });\r\n  };\r\n\r\n  handlePagination = async page => {\r\n    console.log(page, \"dsfsdfsdfsdf\");\r\n    await this.setState({ page: page.page });\r\n    this.getCart(page);\r\n  };\r\n\r\n  handleVoidCreate = () => {\r\n    this.setState({\r\n      isVoidCreateLoading: true,\r\n    });\r\n    let { selectedData } = this.state;\r\n    this.props\r\n      .commonCreateApi(`void/?poshdr_id=${selectedData.id}`)\r\n      .then(key => {\r\n        this.setState({\r\n          isVoidCreateLoading: false,\r\n        });\r\n        this.handleCheckCart();\r\n      });\r\n  };\r\n\r\n  handleVoidCartSubmit = async id => {\r\n    let { selectedData, reason, cartList } = this.state;\r\n    if (this.validator.allValid()) {\r\n      await this.setState({\r\n        isVoidConfirmLoading: true,\r\n      });\r\n      this.props\r\n        .commonCreateApi(\r\n          `void/VoidReturn/?cart_id=${cartList[0].cart_id}&voidreason_id=${reason}`\r\n        )\r\n        .then(async key => {\r\n          await this.setState({\r\n            isVoidConfirmLoading: false,\r\n          });\r\n          await this.setState({\r\n            completedData: key.data,\r\n          });\r\n          this.setState({\r\n            isvoidCompleted: true,\r\n          });\r\n        });\r\n      this.setState({\r\n        isVoidConfirmLoading: false,\r\n      });\r\n    } else {\r\n      this.validator.showMessages();\r\n    }\r\n  };\r\n\r\n  handleDialog = async () => {\r\n    let { isOpenvoidDetail, isOpenvoidCheckout, isvoidCompleted } = this.state;\r\n    isOpenvoidDetail = false;\r\n    isOpenvoidCheckout = false;\r\n    isvoidCompleted = false;\r\n    await this.setState({\r\n      isOpenvoidDetail,\r\n      isOpenvoidCheckout,\r\n      isvoidCompleted,\r\n    });\r\n    this.handleCheckCart();\r\n    this.getCart();\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    await this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleSelectVoid = async (data, index) => {\r\n    if (data.is_allow) {\r\n      let { selectedData, selectedIndex } = this.state;\r\n      selectedData = data;\r\n      selectedIndex = index;\r\n      await this.setState({\r\n        selectedData,\r\n        selectedIndex,\r\n      });\r\n      this.setState({\r\n        isOpenvoidDetail: true,\r\n      });\r\n      this.getVoidDetail();\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Void is not allowed in other outlets\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSearch = () => {\r\n    this.getCart();\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    console.log(name, value, \"sdfgdfhfshg\", dateFormat(value));\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.setState({\r\n      formFields,\r\n    });\r\n    // this.getCart()\r\n  };\r\n\r\n  handleReasonChange = ({ target: { name, value } }) => {\r\n    let { reason } = this.state;\r\n    reason = value;\r\n    this.setState({\r\n      reason,\r\n    });\r\n  };\r\n\r\n  // for get Print response\r\n  handlePrint = () => {\r\n    let { completedData } = this.state;\r\n    history.push(`/admin/billing/print/bill/${completedData.sa_transacno}`);\r\n  };\r\n\r\n  // for share reciept\r\n  handleShare = id => {\r\n    let { completedData } = this.state;\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsend/?sa_transacno=${completedData.sa_transacno}`\r\n      )\r\n      .then(res => {});\r\n  };\r\n\r\n  handleVoidCancelCart = id => {\r\n    this.setState({\r\n      isVoidCancelLoading: true,\r\n    });\r\n    let { completedData, isOpenvoidCheckout, cartList } = this.state;\r\n    let payload = {\r\n      cart_id: cartList[0].cart_id,\r\n    };\r\n    this.props.commonCreateApi(`voidcancel/`, payload).then(res => {\r\n      this.setState({\r\n        isVoidCancelLoading: false,\r\n      });\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          isOpenvoidCheckout: false,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleauthentication = async (user, pass) => {\r\n    let Body = {\r\n      username: user,\r\n      password: pass,\r\n      type: \"Void\",\r\n    };\r\n    this.props\r\n      .commonCreateApi(`userauthorizationpopup/`, Body)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          await this.setState(prevState => ({\r\n            isLoginConfirmation: !prevState.isLoginConfirmation,\r\n          }));\r\n          this.handleVoidCreate();\r\n        }\r\n      });\r\n  };\r\n\r\n  handleLoginConfirmationDialog = async () => {\r\n    await this.setState(prevState => ({\r\n      isLoginConfirmation: !prevState.isLoginConfirmation,\r\n    }));\r\n  };\r\n  render() {\r\n    let {\r\n      tstaffList = [],\r\n      headerDetails,\r\n      formFields,\r\n      isOpenvoidDetail,\r\n      detailDataList,\r\n      detailHeaderDetails,\r\n      isOpenvoidCheckout,\r\n      reason,\r\n      reasonOption,\r\n      isvoidCompleted,\r\n      isVoidCreateLoading,\r\n      isVoidConfirmLoading,\r\n      isVoidCancelLoading,\r\n      isLoginConfirmation,\r\n    } = this.state;\r\n    let { custName, fromDate, toDate, transCode, custCode } = formFields;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"row new-cart treatment-done top-up\">\r\n        <div className=\"col-3\">\r\n          <div className=\"d-flex\">\r\n            <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n              {t(\"From Date\")}\r\n            </label>\r\n            <div className=\"input-group\">\r\n              <NormalDateTime\r\n                onChange={this.handleDatePick}\r\n                inputcol=\"p-0 inTime\"\r\n                value={new Date(fromDate)}\r\n                name=\"fromDate\"\r\n                className=\"dob-pick\"\r\n                showYearDropdown={true}\r\n                dateFormat=\"dd/MM/yyyy\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex\">\r\n            <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n              {t(\"To Date\")}\r\n            </label>\r\n            <div className=\"input-group\">\r\n              <NormalDateTime\r\n                onChange={this.handleDatePick}\r\n                inputcol=\"p-0 inTime\"\r\n                value={toDate}\r\n                name=\"toDate\"\r\n                className=\"dob-pick\"\r\n                showYearDropdown={true}\r\n                dateFormat=\"dd/MM/yyyy\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"col-3\">\r\n                    <div className=\"d-flex\">\r\n                        <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                            Customer Name\r\n                    </label>\r\n                        <div className=\"input-group\">\r\n                            <NormalInput\r\n                                value={custName}\r\n                                name=\"custName\"\r\n                                onChange={this.handleChange}\r\n                                className={`customer-name`}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex\">\r\n                        <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                            Customer Code\r\n                    </label>\r\n                        <div className=\"input-group\">\r\n                            <NormalInput\r\n                                value={custCode}\r\n                                name=\"custCode\"\r\n                                onChange={this.handleChange}\r\n                                className={`customer-name`}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div> */}\r\n\r\n        <div className=\"col-3\">\r\n          <div className=\"d-flex\">\r\n            <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n              {t(\"Transaction Code\")}\r\n            </label>\r\n            <div className=\"input-group\">\r\n              <NormalInput\r\n                value={transCode}\r\n                name=\"transCode\"\r\n                onChange={this.handleChange}\r\n                className={`customer-name`}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-3\">\r\n          <NormalButton\r\n            buttonClass={\"mx-2\"}\r\n            mainbg={true}\r\n            className=\" fs-15 confirm\"\r\n            label=\"Search\"\r\n            outline={false}\r\n            onClick={this.handleSearch}\r\n          />\r\n        </div>\r\n\r\n        <div className={`col-12 cart-item mt-2`}>\r\n          <div className={`item-list`}>\r\n            <div className=\"table\">\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n              >\r\n                {tstaffList.dataList && tstaffList.dataList.length > 0\r\n                  ? tstaffList.dataList.map((item, index) => {\r\n                      return (\r\n                        <tr\r\n                          key={index}\r\n                          onClick={() => this.handleSelectVoid(item, index)}\r\n                        >\r\n                          <td>\r\n                            <div\r\n                              className={`text-left ${\r\n                                !item.is_current ? \"other-branch\" : \"\"\r\n                              }`}\r\n                            >\r\n                              {item.itemsite_code}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-left`}>\r\n                              {item.sa_transacno_ref}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-left`}>{item.sa_custno}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-left`}>\r\n                              {item.sa_custname}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-right`}>{item.sa_date}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-left`}>{item.sa_status}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-left`}>\r\n                              {item.sa_transacno_ref}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className={`text-left`}>\r\n                              {item.payment_remarks}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 pt-4 action-bar\">\r\n          <div className=\"row\">\r\n            {/* <div className=\"col-12 d-flex justify-right\">\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\"fs-15 clear-all\"\r\n                                label=\"Cancel\"\r\n                                outline={false}\r\n                                onClick={this.handleClearAll}\r\n                            />\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\" fs-15 confirm\"\r\n                                label=\"Confirm\"\r\n                                outline={false}\r\n                                onClick={this.handleCreateCart}\r\n                            />\r\n                        </div> */}\r\n          </div>\r\n        </div>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"40%\" }}\r\n          modal={isOpenvoidDetail}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <p className=\"fs-18 f-600\">Detail</p>\r\n          <div className=\"mt-3\">\r\n            <TableWrapper\r\n              headerDetails={detailHeaderDetails}\r\n              queryHandler={this.handlePagination}\r\n            >\r\n              {detailDataList && detailDataList.length > 0\r\n                ? detailDataList.map((item, index) => {\r\n                    return (\r\n                      <tr\r\n                        key={index}\r\n                        onClick={() => this.handleSelectVoid(item, index)}\r\n                      >\r\n                        <td>\r\n                          <div className=\"text-right\">{index + 1}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{item.desc}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{item.dt_qty}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{item.dt_amt}</div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                : null}\r\n            </TableWrapper>\r\n          </div>\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col-12 d-flex justify-right\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                resetbg={true}\r\n                className=\"fs-15\"\r\n                label=\"Cancel\"\r\n                onClick={this.handleDialog}\r\n              />\r\n              {isVoidCreateLoading ? (\r\n                <div class=\"d-flex align-items-center justify-content-center\">\r\n                  <div className=\"col-12\">\r\n                    <div class=\"spinner-border\" role=\"status\">\r\n                      <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Void\"\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    this.props.tokenDetails.voidbill_setup\r\n                      ? this.setState({ isLoginConfirmation: true })\r\n                      : this.handleVoidCreate();\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"transaction-done-modal top-up-modal\"}\r\n          style={{ minWidth: \"40%\" }}\r\n          modal={isOpenvoidCheckout}\r\n          handleModal={() => {}}\r\n        >\r\n          {/* <img onClick={this.handleDialog} className=\"close cursor-pointer\" src={closeIcon} alt=\"\" /> */}\r\n          <p className=\"fs-18 f-600\">{t(\"Void Checkout\")}</p>\r\n          <div className=\"mt-3\">\r\n            <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n              {t(\"Reason\")}\r\n            </label>\r\n            <div className=\"input-group\">\r\n              <NormalSelect\r\n                // placeholder=\"Enter here\"\r\n                options={reasonOption}\r\n                value={reason}\r\n                name={\"reason\"}\r\n                onChange={this.handleReasonChange}\r\n                className=\"py-0\"\r\n              />\r\n              {this.validator.message(\"Reason\", reason, \"required\")}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-6 d-flex mt-5 justify-left\">\r\n              {isVoidCancelLoading ? (\r\n                <div class=\"d-flex align-items-center justify-content-center\">\r\n                  <div className=\"col-12\">\r\n                    <div class=\"spinner-border\" role=\"status\">\r\n                      <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\" fs-15 confirm\"\r\n                  label=\"Void Cancel\"\r\n                  outline={false}\r\n                  onClick={this.handleVoidCancelCart}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"col-6 d-flex mt-5 justify-right\">\r\n              {isVoidConfirmLoading ? (\r\n                <div class=\"d-flex align-items-center justify-content-center\">\r\n                  <div class=\"spinner-border\" role=\"status\">\r\n                    <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\" fs-15 confirm\"\r\n                  label=\"Confirm\"\r\n                  outline={false}\r\n                  onClick={this.handleVoidCartSubmit}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"void-checkout-complete top-up-modal\"}\r\n          style={{ minWidth: \"40%\" }}\r\n          modal={isvoidCompleted}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <p className=\"fs-18 f-600\">{t(\"Void Checkout\")}</p>\r\n\r\n          <div className=\"row my-5\">\r\n            <div className=\"col-4 d-flex mt-5 justify-center\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\"print\"\r\n                label=\"Print\"\r\n                outline={false}\r\n                onClick={this.handlePrint}\r\n              />\r\n            </div>\r\n            <div className=\"col-4 d-flex mt-5 justify-center\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\"share\"\r\n                label=\"Share\"\r\n                outline={false}\r\n                onClick={this.handleShare}\r\n              />\r\n            </div>\r\n            <div className=\"col-4 d-flex mt-5 justify-center\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                resetbg={true}\r\n                className=\"cancel\"\r\n                label=\"Close\"\r\n                outline={false}\r\n                onClick={this.handleDialog}\r\n              />\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"d-flex justify-content-center\"}\r\n          style={{ minWidth: \"20%\" }}\r\n          modal={isLoginConfirmation}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleLoginConfirmationDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <CredentialConfirmation\r\n            handleLoginSubmit={(user, pass) =>\r\n              this.handleauthentication(user, pass)\r\n            }\r\n          />\r\n        </NormalModal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selected_cstomer: state.common.selected_cstomer,\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const VoidPaidTrans = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(VoidPaidTransClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}