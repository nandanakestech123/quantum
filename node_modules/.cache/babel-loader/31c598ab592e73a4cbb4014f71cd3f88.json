{"ast":null,"code":"/**\r\n * DevExtreme (viz/sankey/tracker.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.plugin = void 0;\n\nvar _sankey = _interopRequireDefault(require(\"./sankey\"));\n\nvar _tracker = require(\"../components/tracker\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar proto = _sankey.default.prototype;\nvar DATA_KEY_BASE = \"__sankey_data_\";\nvar dataKeyModifier = 0;\nproto._eventsMap.onNodeClick = {\n  name: \"nodeClick\"\n};\nproto._eventsMap.onLinkClick = {\n  name: \"linkClick\"\n};\n\nvar getDataKey = function () {\n  return DATA_KEY_BASE + dataKeyModifier++;\n};\n\nvar plugin = {\n  name: \"tracker\",\n  init: function () {\n    var that = this;\n    var dataKey = getDataKey();\n    that._tracker = new _tracker.Tracker({\n      widget: that,\n      root: that._renderer.root,\n      getData: function (e) {\n        var target = e.target;\n        return target[dataKey];\n      },\n      getNode: function (index) {\n        if (index < that._nodes.length) {\n          return that._nodes[index];\n        } else {\n          return that._links[index - that._nodes.length];\n        }\n      },\n      click: function (e) {\n        var eventName = this.getData(e.event) < that._nodes.length ? \"nodeClick\" : \"linkClick\";\n\n        that._eventTrigger(eventName, {\n          target: e.node,\n          event: e.event\n        });\n      }\n    });\n    this._dataKey = dataKey;\n  },\n  dispose: function () {\n    this._tracker.dispose();\n  },\n  extenders: {\n    _change_LINKS_DRAW: function () {\n      var dataKey = this._dataKey;\n\n      this._nodes.concat(this._links).forEach(function (item, index) {\n        item.element.data(dataKey, index);\n      });\n    }\n  }\n};\nexports.plugin = plugin;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/sankey/tracker.js"],"names":["exports","plugin","_sankey","_interopRequireDefault","require","_tracker","obj","__esModule","proto","default","prototype","DATA_KEY_BASE","dataKeyModifier","_eventsMap","onNodeClick","name","onLinkClick","getDataKey","init","that","dataKey","Tracker","widget","root","_renderer","getData","e","target","getNode","index","_nodes","length","_links","click","eventName","event","_eventTrigger","node","_dataKey","dispose","extenders","_change_LINKS_DRAW","concat","forEach","item","element","data"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sankey/tracker.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.plugin = void 0;\r\nvar _sankey = _interopRequireDefault(require(\"./sankey\"));\r\nvar _tracker = require(\"../components/tracker\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar proto = _sankey.default.prototype;\r\nvar DATA_KEY_BASE = \"__sankey_data_\";\r\nvar dataKeyModifier = 0;\r\nproto._eventsMap.onNodeClick = {\r\n    name: \"nodeClick\"\r\n};\r\nproto._eventsMap.onLinkClick = {\r\n    name: \"linkClick\"\r\n};\r\nvar getDataKey = function() {\r\n    return DATA_KEY_BASE + dataKeyModifier++\r\n};\r\nvar plugin = {\r\n    name: \"tracker\",\r\n    init: function() {\r\n        var that = this;\r\n        var dataKey = getDataKey();\r\n        that._tracker = new _tracker.Tracker({\r\n            widget: that,\r\n            root: that._renderer.root,\r\n            getData: function(e) {\r\n                var target = e.target;\r\n                return target[dataKey]\r\n            },\r\n            getNode: function(index) {\r\n                if (index < that._nodes.length) {\r\n                    return that._nodes[index]\r\n                } else {\r\n                    return that._links[index - that._nodes.length]\r\n                }\r\n            },\r\n            click: function(e) {\r\n                var eventName = this.getData(e.event) < that._nodes.length ? \"nodeClick\" : \"linkClick\";\r\n                that._eventTrigger(eventName, {\r\n                    target: e.node,\r\n                    event: e.event\r\n                })\r\n            }\r\n        });\r\n        this._dataKey = dataKey\r\n    },\r\n    dispose: function() {\r\n        this._tracker.dispose()\r\n    },\r\n    extenders: {\r\n        _change_LINKS_DRAW: function() {\r\n            var dataKey = this._dataKey;\r\n            this._nodes.concat(this._links).forEach(function(item, index) {\r\n                item.element.data(dataKey, index)\r\n            })\r\n        }\r\n    }\r\n};\r\nexports.plugin = plugin;\r\n"]},"metadata":{},"sourceType":"script"}