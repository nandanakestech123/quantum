{"ast":null,"code":"/**\r\n * DevExtreme (viz/sankey/node_item.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _utils = require(\"../core/utils\");\n\nvar states = [\"normal\", \"hover\"];\n\nfunction _compileAttrs(color, itemOptions, itemBaseOptions) {\n  var border = itemOptions.border;\n  var baseBorder = itemBaseOptions.border;\n  var borderVisible = (0, _type.isDefined)(border.visible) ? border.visible : baseBorder.visible;\n  var borderWidth = (0, _type.isDefined)(border.width) ? border.width : baseBorder.width;\n  var borderOpacity = (0, _type.isDefined)(border.opacity) ? border.opacity : (0, _type.isDefined)(baseBorder.opacity) ? baseBorder.opacity : 1;\n  var opacity = (0, _type.isDefined)(itemOptions.opacity) ? itemOptions.opacity : (0, _type.isDefined)(itemBaseOptions.opacity) ? itemBaseOptions.opacity : 1;\n  return {\n    fill: itemOptions.color || color,\n    \"stroke-width\": borderVisible ? borderWidth : 0,\n    stroke: itemOptions.border.color || itemBaseOptions.border.color,\n    \"stroke-opacity\": borderOpacity,\n    opacity: opacity,\n    hatching: itemOptions.hatching\n  };\n}\n\nfunction compileLabelAttrs(labelOptions, filter, node) {\n  var _patchFontOptions = _utils.patchFontOptions;\n\n  if (labelOptions.useNodeColors) {\n    labelOptions.font.color = node.color;\n  }\n\n  var borderVisible = (0, _type.isDefined)(labelOptions.border.visible) ? labelOptions.border.visible : false;\n  var borderWidth = (0, _type.isDefined)(labelOptions.border.width) ? labelOptions.border.width : 0;\n  var borderColor = (0, _type.isDefined)(labelOptions.border.color) ? labelOptions.border.color : labelOptions.font.color;\n  var borderOpacity = (0, _type.isDefined)(labelOptions.border.opacity) ? labelOptions.border.opacity : 1;\n  var attr = {\n    filter: filter\n  };\n\n  if (borderVisible && borderWidth) {\n    attr.stroke = borderColor;\n    attr[\"stroke-width\"] = borderVisible ? borderWidth : 0;\n    attr[\"stroke-opacity\"] = borderOpacity;\n  }\n\n  return {\n    attr: attr,\n    css: _patchFontOptions(labelOptions.font)\n  };\n}\n\nfunction Node(widget, params) {\n  var that = this;\n\n  var widgetOffset = widget._renderer.getRootOffset();\n\n  that.code = 0;\n  that.widget = widget;\n  that.color = params.color;\n  that.options = params.options;\n  that.rect = params.rect;\n  that.label = that.title = params.rect._name;\n  that.coords = {\n    x: params.rect.x + params.rect.width / 2 + widgetOffset.left,\n    y: params.rect.y + params.rect.height / 2 + widgetOffset.top\n  };\n  that.id = params.id;\n  that.linksIn = params.linksIn;\n  that.linksOut = params.linksOut;\n  this.states = {\n    normal: _compileAttrs(this.color, that.options, that.options),\n    hover: _compileAttrs(this.color, that.options.hoverStyle, that.options)\n  };\n}\n\nNode.prototype = {\n  compileAttrs: function () {\n    return _compileAttrs(this.color, this.options);\n  },\n  getState: function () {\n    return states[this.code];\n  },\n  isHovered: function () {\n    return !!(1 & this.code);\n  },\n  setState: function (code, state) {\n    var _this = this;\n\n    if (state) {\n      this.code |= code;\n    } else {\n      this.code &= ~code;\n    }\n\n    if (state) {\n      this.linksIn.concat(this.linksOut).forEach(function (adjacentLink) {\n        _this.widget._links[adjacentLink.index].setAdjacentNodeHover(true);\n      });\n    } else {\n      this.widget._links.forEach(function (link) {\n        link.isAdjacentNodeHovered() && link.adjacentNodeHover(false);\n      });\n\n      this.hideTooltip();\n    }\n\n    this.widget._applyNodesAppearance();\n\n    this.widget._applyLinksAppearance();\n  },\n  hover: function (state) {\n    if (!this.widget._getOption(\"hoverEnabled\", true) || state === this.isHovered()) {\n      return;\n    }\n\n    this.widget._suspend();\n\n    state && this.widget.clearHover();\n    this.setState(1, state);\n\n    this.widget._eventTrigger(\"nodeHoverChanged\", {\n      target: this\n    });\n\n    this.widget._resume();\n  },\n  setHover: function () {\n    this.hover(true);\n  },\n  showTooltip: function (coords) {\n    this.widget._getOption(\"hoverEnabled\", true) && this.widget._tooltip && this.widget._tooltip.show({\n      type: \"node\",\n      info: {\n        label: this.label,\n        title: this.label,\n        weightIn: this.linksIn.reduce(function (previousValue, currentValue) {\n          return previousValue + currentValue.weight;\n        }, 0),\n        weightOut: this.linksOut.reduce(function (previousValue, currentValue) {\n          return previousValue + currentValue.weight;\n        }, 0)\n      }\n    }, \"undefined\" !== typeof coords ? {\n      x: coords[0],\n      y: coords[1]\n    } : this.coords);\n  },\n  hideTooltip: function () {\n    this.widget._tooltip && this.widget._tooltip.hide();\n  },\n  getLabelAttributes: function (labelSettings, filter) {\n    return compileLabelAttrs(labelSettings, filter, this);\n  }\n};\nvar _default = Node;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/sankey/node_item.js"],"names":["exports","default","_type","require","_utils","states","_compileAttrs","color","itemOptions","itemBaseOptions","border","baseBorder","borderVisible","isDefined","visible","borderWidth","width","borderOpacity","opacity","fill","stroke","hatching","compileLabelAttrs","labelOptions","filter","node","_patchFontOptions","patchFontOptions","useNodeColors","font","borderColor","attr","css","Node","widget","params","that","widgetOffset","_renderer","getRootOffset","code","options","rect","label","title","_name","coords","x","left","y","height","top","id","linksIn","linksOut","normal","hover","hoverStyle","prototype","compileAttrs","getState","isHovered","setState","state","_this","concat","forEach","adjacentLink","_links","index","setAdjacentNodeHover","link","isAdjacentNodeHovered","adjacentNodeHover","hideTooltip","_applyNodesAppearance","_applyLinksAppearance","_getOption","_suspend","clearHover","_eventTrigger","target","_resume","setHover","showTooltip","_tooltip","show","type","info","weightIn","reduce","previousValue","currentValue","weight","weightOut","hide","getLabelAttributes","labelSettings","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sankey/node_item.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _utils = require(\"../core/utils\");\r\nvar states = [\"normal\", \"hover\"];\r\n\r\nfunction _compileAttrs(color, itemOptions, itemBaseOptions) {\r\n    var border = itemOptions.border;\r\n    var baseBorder = itemBaseOptions.border;\r\n    var borderVisible = (0, _type.isDefined)(border.visible) ? border.visible : baseBorder.visible;\r\n    var borderWidth = (0, _type.isDefined)(border.width) ? border.width : baseBorder.width;\r\n    var borderOpacity = (0, _type.isDefined)(border.opacity) ? border.opacity : (0, _type.isDefined)(baseBorder.opacity) ? baseBorder.opacity : 1;\r\n    var opacity = (0, _type.isDefined)(itemOptions.opacity) ? itemOptions.opacity : (0, _type.isDefined)(itemBaseOptions.opacity) ? itemBaseOptions.opacity : 1;\r\n    return {\r\n        fill: itemOptions.color || color,\r\n        \"stroke-width\": borderVisible ? borderWidth : 0,\r\n        stroke: itemOptions.border.color || itemBaseOptions.border.color,\r\n        \"stroke-opacity\": borderOpacity,\r\n        opacity: opacity,\r\n        hatching: itemOptions.hatching\r\n    }\r\n}\r\n\r\nfunction compileLabelAttrs(labelOptions, filter, node) {\r\n    var _patchFontOptions = _utils.patchFontOptions;\r\n    if (labelOptions.useNodeColors) {\r\n        labelOptions.font.color = node.color\r\n    }\r\n    var borderVisible = (0, _type.isDefined)(labelOptions.border.visible) ? labelOptions.border.visible : false;\r\n    var borderWidth = (0, _type.isDefined)(labelOptions.border.width) ? labelOptions.border.width : 0;\r\n    var borderColor = (0, _type.isDefined)(labelOptions.border.color) ? labelOptions.border.color : labelOptions.font.color;\r\n    var borderOpacity = (0, _type.isDefined)(labelOptions.border.opacity) ? labelOptions.border.opacity : 1;\r\n    var attr = {\r\n        filter: filter\r\n    };\r\n    if (borderVisible && borderWidth) {\r\n        attr.stroke = borderColor;\r\n        attr[\"stroke-width\"] = borderVisible ? borderWidth : 0;\r\n        attr[\"stroke-opacity\"] = borderOpacity\r\n    }\r\n    return {\r\n        attr: attr,\r\n        css: _patchFontOptions(labelOptions.font)\r\n    }\r\n}\r\n\r\nfunction Node(widget, params) {\r\n    var that = this;\r\n    var widgetOffset = widget._renderer.getRootOffset();\r\n    that.code = 0;\r\n    that.widget = widget;\r\n    that.color = params.color;\r\n    that.options = params.options;\r\n    that.rect = params.rect;\r\n    that.label = that.title = params.rect._name;\r\n    that.coords = {\r\n        x: params.rect.x + params.rect.width / 2 + widgetOffset.left,\r\n        y: params.rect.y + params.rect.height / 2 + widgetOffset.top\r\n    };\r\n    that.id = params.id;\r\n    that.linksIn = params.linksIn;\r\n    that.linksOut = params.linksOut;\r\n    this.states = {\r\n        normal: _compileAttrs(this.color, that.options, that.options),\r\n        hover: _compileAttrs(this.color, that.options.hoverStyle, that.options)\r\n    }\r\n}\r\nNode.prototype = {\r\n    compileAttrs: function() {\r\n        return _compileAttrs(this.color, this.options)\r\n    },\r\n    getState: function() {\r\n        return states[this.code]\r\n    },\r\n    isHovered: function() {\r\n        return !!(1 & this.code)\r\n    },\r\n    setState: function(code, state) {\r\n        var _this = this;\r\n        if (state) {\r\n            this.code |= code\r\n        } else {\r\n            this.code &= ~code\r\n        }\r\n        if (state) {\r\n            this.linksIn.concat(this.linksOut).forEach(function(adjacentLink) {\r\n                _this.widget._links[adjacentLink.index].setAdjacentNodeHover(true)\r\n            })\r\n        } else {\r\n            this.widget._links.forEach(function(link) {\r\n                link.isAdjacentNodeHovered() && link.adjacentNodeHover(false)\r\n            });\r\n            this.hideTooltip()\r\n        }\r\n        this.widget._applyNodesAppearance();\r\n        this.widget._applyLinksAppearance()\r\n    },\r\n    hover: function(state) {\r\n        if (!this.widget._getOption(\"hoverEnabled\", true) || state === this.isHovered()) {\r\n            return\r\n        }\r\n        this.widget._suspend();\r\n        state && this.widget.clearHover();\r\n        this.setState(1, state);\r\n        this.widget._eventTrigger(\"nodeHoverChanged\", {\r\n            target: this\r\n        });\r\n        this.widget._resume()\r\n    },\r\n    setHover: function() {\r\n        this.hover(true)\r\n    },\r\n    showTooltip: function(coords) {\r\n        this.widget._getOption(\"hoverEnabled\", true) && this.widget._tooltip && this.widget._tooltip.show({\r\n            type: \"node\",\r\n            info: {\r\n                label: this.label,\r\n                title: this.label,\r\n                weightIn: this.linksIn.reduce(function(previousValue, currentValue) {\r\n                    return previousValue + currentValue.weight\r\n                }, 0),\r\n                weightOut: this.linksOut.reduce(function(previousValue, currentValue) {\r\n                    return previousValue + currentValue.weight\r\n                }, 0)\r\n            }\r\n        }, \"undefined\" !== typeof coords ? {\r\n            x: coords[0],\r\n            y: coords[1]\r\n        } : this.coords)\r\n    },\r\n    hideTooltip: function() {\r\n        this.widget._tooltip && this.widget._tooltip.hide()\r\n    },\r\n    getLabelAttributes: function(labelSettings, filter) {\r\n        return compileLabelAttrs(labelSettings, filter, this)\r\n    }\r\n};\r\nvar _default = Node;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}