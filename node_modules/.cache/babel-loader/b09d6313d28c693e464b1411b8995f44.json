{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalInput,NormalButton,NormalModal,NormalCheckbox}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi,commonDeleteApi}from\"redux/actions/common\";import closeIcon from\"assets/images/close.png\";import\"./style.scss\";import{Toast}from\"service/toast\";import{StaffList}from\"./StaffList\";export var StaffSelectionPopupClass=/*#__PURE__*/function(_Component){_inherits(StaffSelectionPopupClass,_Component);var _super=_createSuper(StaffSelectionPopupClass);function StaffSelectionPopupClass(){var _this;_classCallCheck(this,StaffSelectionPopupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data_list:[// {\n//   id: 4397,\n//   type: \"Deposit\",\n//   div: \"3\",\n//   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\n//   quantity: 5,\n//   price: \"200.00\",\n//   totl_disc: \"0.00\",\n//   discount_price: \"200.00\",\n//   trans_amt: \"1000.00\",\n//   deposit: \"1000.00\",\n//   is_foc: false,\n//   work_amount: \"200.00\",\n//   work_point: 0,\n//   sales_point: 0,\n//   sales_staffs: \"JACKIE,JANICE,Manager\",\n//   service_staff: \"JANICE,ARIEL\",\n//   data: [\n//     {\n//       work: true,\n//       sales: false,\n//       staff: \"ARIEL\",\n//       emp_id: 259,\n//       sales_percentage: null,\n//       sales_amount: null,\n//       sp: null,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128962,\n//       tmp_saleid: null,\n//     },\n//     {\n//       work: true,\n//       sales: true,\n//       staff: \"JANICE\",\n//       emp_id: 173,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128965,\n//       tmp_saleid: 3789,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"Manager\",\n//       emp_id: 284,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3786,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"JACKIE\",\n//       emp_id: 81,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3787,\n//     },\n//   ],\n// },\n// {\n//   id: 4398,\n//   type: \"Deposit\",\n//   div: \"3\",\n//   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\n//   quantity: 5,\n//   price: \"200.00\",\n//   totl_disc: \"0.00\",\n//   discount_price: \"200.00\",\n//   trans_amt: \"1000.00\",\n//   deposit: \"1000.00\",\n//   is_foc: false,\n//   work_amount: \"200.00\",\n//   work_point: 0,\n//   sales_point: 0,\n//   sales_staffs: \"JACKIE,JANICE,Manager\",\n//   service_staff: \"JANICE,ARIEL\",\n//   data: [\n//     {\n//       work: true,\n//       sales: false,\n//       staff: \"ARIEL\",\n//       emp_id: 259,\n//       sales_percentage: null,\n//       sales_amount: null,\n//       sp: null,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128962,\n//       tmp_saleid: null,\n//     },\n//     {\n//       work: true,\n//       sales: true,\n//       staff: \"JANICE\",\n//       emp_id: 173,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128965,\n//       tmp_saleid: 3789,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"Manager\",\n//       emp_id: 284,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3786,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"JACKIE\",\n//       emp_id: 81,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3787,\n//     },\n//  ],\n//},\n],item_status_options:[],staffListPopup:false,selectedAddStaffIndex:null,staffList:[],limit:6,page:1,meta:{},sourceList:[],selectedAddStaffType:1,activeRow:0};_this.getStafflist=function(data){var _this$state=_this.state,page=_this$state.page,limit=_this$state.limit,selectedAddStaffType=_this$state.selectedAddStaffType;_this.props.getCommonApi(\"empcartlist/?sales_staff=\".concat(selectedAddStaffType,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var status,data,staffList,meta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=key.status,data=key.data;console.log(key,\"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");staffList=_this.state.staffList;meta=_this.state.meta;staffList=[];meta={};staffList=data;meta=data.meta.pagination;console.log(meta,\"metalist\");_this.setState({staffList:staffList,meta:meta});case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var page;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=_this.state.page;page=page+1;_context2.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var page;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:page=_this.state.page;page=page-1;_context3.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context3.stop();}}},_callee3);}));_this.getStaffSelectionList=function(){var data_list=_this.state.data_list;var basicApptDetail=_this.props.basicApptDetail;_this.props.getCommonApi(\"cartpopup/?cust_noid=\".concat(basicApptDetail.custId,\"&cart_id=\").concat(_this.props.id,\"&is_staffs=1\")).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(key){var status,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:status=key.status,data=key.data;if(!(status==\"200\")){_context4.next=7;break;}console.log(key,\"cartstaffselectionpopuplist\");data_list=data;_context4.next=6;return _this.setState({data_list:data_list});case 6:if(_this.state.data_list.length>0){_this.setState({activeRow:_this.state.data_list[0].id});document.getElementById(_this.state.data_list[0].id).classList.toggle(\"d-none\");}case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref4.apply(this,arguments);};}());};_this.handleStaffChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e,index1,index2){var data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:data=_this.state.data_list[index1].data[index2];if(!([e.target.name]==\"work\")){_context5.next=11;break;}if(!(_this.state.data_list[index1][\"type\"].toUpperCase()==\"SALES\"&&_this.state.data_list[index1][\"div\"]==\"3\"||_this.state.data_list[index1][\"type\"].toUpperCase()==\"DEPOSIT\"&&_this.state.data_list[index1][\"div\"]==\"3\")){_context5.next=8;break;}data[[e.target.name]]=e.target.value;_context5.next=6;return _this.setState({data:data});case 6:_context5.next=9;break;case 8:Toast({type:\"error\",message:\"Work staff not allowed for Product\"});case 9:_context5.next=14;break;case 11:data[[e.target.name]]=e.target.value;_context5.next=14;return _this.setState({data:data});case 14:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3,_x4,_x5){return _ref5.apply(this,arguments);};}();_this.handleAccordion=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var elements,i;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _this.setState({activeRow:id});case 2:elements=document.getElementsByClassName(\"accordion\");for(i=0;i<elements.length;i++){elements[i].classList.add(\"d-none\");}document.getElementById(id).classList.toggle(\"d-none\");console.log(elements);case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}();_this.handleSelectedStaff=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(item){var _this$state2,selectedAddStaffIndex,selectedAddStaffType,data_list,data,filter;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this.handleEmployeePopup();_this$state2=_this.state,selectedAddStaffIndex=_this$state2.selectedAddStaffIndex,selectedAddStaffType=_this$state2.selectedAddStaffType,data_list=_this$state2.data_list;data=_this.state.data_list[selectedAddStaffIndex].data;filter=data.find(function(acc){return acc.emp_id===item.id;});if(!filter){_context7.next=8;break;}if(filter.work&&filter.sales){Toast({type:\"error\",message:\"This staff already found in this list\"});}else if(filter.work){filter.sales=true;_this.handleSalesStaffCalc(0);}else{filter.work=true;_this.handleWorkStaffCalc(0);}_context7.next=13;break;case 8:data.push({work:selectedAddStaffType==0?true:false,sales:selectedAddStaffType==1?true:false,staff:item.emp_name,emp_id:item.id,sales_percentage:0,sales_amount:0,sp:0,work_percentage:0,work_amount:0,wp:0,tmp_workid:null,tmp_saleid:null});_context7.next=11;return _this.setState({data:data});case 11:_this.setState({selectedAddStaffIndex:null,selectedAddStaffType:null});selectedAddStaffType==0?_this.handleWorkStaffCalc(0):_this.handleSalesStaffCalc(0);case 13:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x7){return _ref7.apply(this,arguments);};}();_this.handleEmployeePopup=function(){_this.setState(function(prevState){return{staffListPopup:!prevState.staffListPopup};});};_this.handleAddNewStaff=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(index,type,item){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!(type==0)){_context8.next=11;break;}if(!(item[\"type\"].toUpperCase()==\"SALES\"&&item[\"div\"]==\"3\"||item[\"type\"].toUpperCase()==\"DEPOSIT\"&&item[\"div\"]==\"3\")){_context8.next=8;break;}_context8.next=4;return _this.setState({selectedAddStaffIndex:index,selectedAddStaffType:type,staffList:[],meta:{},page:1});case 4:_this.getStafflist();_this.setState({staffListPopup:true});_context8.next=9;break;case 8:Toast({type:\"error\",message:\"Work Staff not allowed for Product\"});case 9:_context8.next=15;break;case 11:_context8.next=13;return _this.setState({selectedAddStaffIndex:index,selectedAddStaffType:type,staffList:[],meta:{},page:1});case 13:_this.getStafflist();_this.setState({staffListPopup:true});case 15:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x8,_x9,_x10){return _ref8.apply(this,arguments);};}();_this.handlePostAction=function(){var data_list=_this.state.data_list;var _iterator=_createForOfIteratorHelper(data_list),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;var type=value.type;var div=value.div;var transamt=Number(value.trans_amt).toFixed(2);var work_amount=Number(value.work_amount).toFixed(2);var sales_point=Number(value.sales_point);var work_point=Number(value.work_point);var salesPercent=0;var salesAmount=Number(0);var salesPoint=Number(0);var workPercent=Number(0);var workAmount=Number(0);var workPoint=Number(0);var _iterator2=_createForOfIteratorHelper(value.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var line=_step2.value;salesPercent+=Number(line.sales_percentage);salesAmount+=Number(line.sales_amount);salesPoint+=Number(line.sp);workPercent+=Number(line.work_percentage);workAmount+=Number(line.work_amount);workPoint+=Number(line.wp);// if (line.work) {\n//   if (\n//     Number(line.work_amount) <= 0 ||\n//     line.work_amount == null ||\n//     line.work_percentage == null ||\n//     Number(line.work_percentage) <= 0\n//   ) {\n//     Toast({\n//       type: \"error\",\n//       message:\n//         \"Please check Work Staff Amount or Percentage should not be empty or Zero\",\n//     });\n//     return false;\n//   }\n// }\n// if (line.sales) {\n//   if (\n//     Number(line.sales_amount) <= 0 ||\n//     line.sales_amount == null ||\n//     line.sales_percentage == null ||\n//     Number(line.sales_percentage) <= 0\n//   ) {\n//     Toast({\n//       type: \"error\",\n//       message:\n//         \"Please check Sales Staff Amount or Percentage should not be empty or Zero\",\n//     });\n//     return false;\n//   }\n// }\n}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(workPercent>100||workAmount>transamt){Toast({type:\"error\",message:\"Please check Work Staff Amount or Percentage should be less than Maximum\"});return false;}else if(div==\"3\"&&type.toUpperCase()==\"DEPOSIT\"&&workAmount>work_amount){Toast({type:\"error\",message:\"Please check Work amount is should be equal to Max Work Amount\"});return false;}else if(salesPercent>100||salesAmount>transamt){Toast({type:\"error\",message:\"Please check Sales Amount or percentage should be less than max Amount\"});return false;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return true;};_this.handleSubmit=function(){var data_list=_this.state.data_list;var result=_this.handlePostAction();if(result){console.log(data_list,\"savedataforstaffselection\");_this.props.commonCreateApi(\"cartpopup/staffs/\",data_list).then(function(key){console.log(key,\"resultset of staffselection\");var status=key.status,data=key.data;if(status==200){_this.props.handleModal();}});}};_this.handleSalesStaffCalc=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(index){var data_list,salesStaffCount,_iterator3,_step3,line,sales_percent,totalsale,diff_sales_percent,sales_amount,diff_sales_amount,data,salesLength,i,j,_iterator4,_step4,dataLine,percent,amt;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:data_list=_this.state.data_list;salesStaffCount=0;_iterator3=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){line=_step3.value;if(line.sales){salesStaffCount+=1;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}sales_percent=Number(100/salesStaffCount).toFixed(2);totalsale=sales_percent*salesStaffCount;diff_sales_percent=Number(100-totalsale).toFixed(2);sales_amount=Number(data_list[index][\"trans_amt\"]/salesStaffCount).toFixed(2);diff_sales_amount=Number(data_list[index][\"trans_amt\"]-sales_amount*salesStaffCount).toFixed(2);// let salespoints = Number(\n//   data_list[index][\"sales_point\"] / salesStaffCount\n// ).toFixed(2);\ndata=data_list[index].data;salesLength=data.filter(function(acc){return acc.sales===true;}).length;i=0;j=1;_iterator4=_createForOfIteratorHelper(data_list[index].data);_context9.prev=14;_iterator4.s();case 16:if((_step4=_iterator4.n()).done){_context9.next=36;break;}dataLine=_step4.value;if(!dataLine.sales){_context9.next=33;break;}if(!(j==salesLength)){_context9.next=28;break;}percent=Number(sales_percent)+Number(diff_sales_percent);amt=Number(sales_amount)+Number(diff_sales_amount);data[i][\"sales_percentage\"]=Number(percent).toFixed(2);data[i][\"sales_amount\"]=Number(amt).toFixed(2);//data[i][\"sp\"] = salespoints;\n_context9.next=26;return _this.setState({data:data});case 26:_context9.next=32;break;case 28:data[i][\"sales_percentage\"]=sales_percent;data[i][\"sales_amount\"]=sales_amount;//data[i][\"sp\"] = salespoints;\n_context9.next=32;return _this.setState({data:data});case 32:j++;case 33:i++;case 34:_context9.next=16;break;case 36:_context9.next=41;break;case 38:_context9.prev=38;_context9.t0=_context9[\"catch\"](14);_iterator4.e(_context9.t0);case 41:_context9.prev=41;_iterator4.f();return _context9.finish(41);case 44:case\"end\":return _context9.stop();}}},_callee9,null,[[14,38,41,44]]);}));return function(_x11){return _ref9.apply(this,arguments);};}();_this.handleWorkStaffCalc=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(index){var data_list,workStaffCount,_iterator5,_step5,line,work_percent,totalwork,diff_work_percent,work_amount,diff_work_amount,data,i,j,workLength,_iterator6,_step6,_line,percent,amt;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:data_list=_this.state.data_list;workStaffCount=0;_iterator5=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){line=_step5.value;if(line.work){workStaffCount+=1;}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}work_percent=Number(100/workStaffCount).toFixed(2);totalwork=work_percent*workStaffCount;diff_work_percent=Number(100-totalwork).toFixed(2);work_amount=\"\";diff_work_amount=\"\";if(data_list[index].div==\"3\"&&data_list[index].type.toUpperCase()==\"DEPOSIT\"){work_amount=Number(data_list[index][\"work_amount\"]/workStaffCount).toFixed(2);diff_work_amount=Number(data_list[index][\"work_amount\"]-work_amount*workStaffCount).toFixed(2);}else{work_amount=Number(data_list[index][\"trans_amt\"]/workStaffCount).toFixed(2);diff_work_amount=Number(data_list[index][\"trans_amt\"]-work_amount*workStaffCount).toFixed(2);}// let workpoints = Number(\n//   data_list[index][\"sales_point\"] / workStaffCount\n// ).toFixed(2);\ndata=data_list[index].data;i=0;j=1;workLength=data.filter(function(acc){return acc.work===true;}).length;_iterator6=_createForOfIteratorHelper(data_list[index].data);_context10.prev=15;_iterator6.s();case 17:if((_step6=_iterator6.n()).done){_context10.next=37;break;}_line=_step6.value;if(!_line.work){_context10.next=34;break;}if(!(j==workLength)){_context10.next=29;break;}percent=Number(work_percent)+Number(diff_work_percent);amt=Number(work_amount)+Number(diff_work_amount);data[i][\"work_percentage\"]=Number(percent).toFixed(2);data[i][\"work_amount\"]=Number(amt).toFixed(2);//data[i][\"sp\"] = salespoints;\n_context10.next=27;return _this.setState({data:data});case 27:_context10.next=33;break;case 29:data[i][\"work_percentage\"]=work_percent;data[i][\"work_amount\"]=work_amount;//data[i][\"sp\"] = salespoints;\n_context10.next=33;return _this.setState({data:data});case 33:j++;case 34:i++;case 35:_context10.next=17;break;case 37:_context10.next=42;break;case 39:_context10.prev=39;_context10.t0=_context10[\"catch\"](15);_iterator6.e(_context10.t0);case 42:_context10.prev=42;_iterator6.f();return _context10.finish(42);case 45:case\"end\":return _context10.stop();}}},_callee10,null,[[15,39,42,45]]);}));return function(_x12){return _ref10.apply(this,arguments);};}();_this.handleDeleteStaff=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(e,index1,index2){var data,cartId,Workid,Saleid,body,data_list;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:data=_this.state.data_list[index1].data[index2];cartId=_this.state.data_list[index1].id;Workid=0;Saleid=0;if(data.tmp_workid==null){Workid=0;}else{Workid=data.tmp_workid;}if(data.tmp_saleid==null){Saleid=0;}else{Saleid=data.tmp_saleid;}body={sales:data.sales,work:data.work,cart_id:Number(cartId),tmp_workid:Number(Workid),tmp_saleid:Number(Saleid)};console.log(body,\"selected row Item for delete\");if(!(Number(Saleid)>0||Number(Workid)>0)){_context11.next=13;break;}_context11.next=11;return _this.props.commonCreateApi(\"cartpopup/staffsdelete/\",body).then(function(res){var status=res.status;if(status==\"200\"){console.log(res,\"staffselectionpoppupdeleteresponse\");var data_list=_this.state.data_list;data_list[index1].data.splice(index2,1);_this.setState({data_list:data_list});_this.getStaffSelectionList();}});case 11:_context11.next=16;break;case 13:data_list=_this.state.data_list;data_list[index1].data.splice(index2,1);_this.setState({data_list:data_list});case 16:_this.handleWorkStaffCalc(0);_this.handleSalesStaffCalc(0);case 18:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x13,_x14,_x15){return _ref11.apply(this,arguments);};}();return _this;}_createClass(StaffSelectionPopupClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getStaffSelectionList();}},{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,data_list=_this$state3.data_list,staffListPopup=_this$state3.staffListPopup,staffList=_this$state3.staffList,meta=_this$state3.meta,activeRow=_this$state3.activeRow;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mb-4 mt-2 product-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Staff Selection\")),data_list&&data_list.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:false,className:\"col-12 fs-15 submit-btn\",label:\"Done\",onClick:function onClick(){return _this2.handleSubmit();}})):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-3 pr-5 mt-2 fw-500 h6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Item\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Unit Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Disc $\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"D/Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Amount\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Deposit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-5 pr-5 mt-4\"},data_list&&data_list.length>0&&data_list.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row  mb-2\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"row rounded p-2 accordion-menu border staff \".concat(activeRow==item.id?\"border-primary\":\"\"),onClick:function onClick(){return _this2.handleAccordion(item.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.itemdesc),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.quantity),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.price),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.totl_disc),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.discount_price),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.trans_amt),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.deposit)),/*#__PURE__*/React.createElement(\"div\",{className:\"row  rounded bg-light p-1 d-none accordion\",id:item.id},/*#__PURE__*/React.createElement(\"div\",{className:\"row  pl-3 mb-3\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\",style:{marginRight:10}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"border-top-0 border-bottom-0\",colSpan:\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 fw-500\",label:\"Sales +\",onClick:function onClick(){return _this2.handleAddNewStaff(index,1,item);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-left border-top-0 border-bottom-0\",colSpan:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Sales staff\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 top-0 fs-15\",label:\"Auto Calc\",onClick:function onClick(){return _this2.handleSalesStaffCalc(index);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"border-top-0 border-bottom-0\",colSpan:\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 fw-500\",label:\"Work +\",onClick:function onClick(){return _this2.handleAddNewStaff(index,0,item);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-top-0 border-bottom-0\",colSpan:\"4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"Work staff\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15\",label:\"Auto Calc\",onClick:function onClick(){return _this2.handleWorkStaffCalc(index);}}))))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"Staff\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"% (\",\"100\",\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"$ (\",item.trans_amt,\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"SP (\",item.sales_point,\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"Staff\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"% (\",\"100\",\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0\"},\"$ (\",item.type.toUpperCase()==\"DEPOSIT\"&&item.div==\"3\"?item.work_amount:item.trans_amt,\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-top-0 border-bottom-0\"},\"WP (\",item.work_point,\")\"),/*#__PURE__*/React.createElement(\"th\",null,\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,data_list[index].data.length<=0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},\"No record found\")):null,data_list[index].data.map(function(data,index2){return/*#__PURE__*/React.createElement(\"tr\",{key:index2},/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center d-none\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:data.sales,name:\"sales\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);}})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center d-none\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:data.work,name:\"work\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);}})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},data.staff)),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"sales_percentage\",type:\"number\",value:data.sales&&data.sales_percentage?data.sales_percentage:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.sales?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"sales_amount\",type:\"number\",value:data.sales&&data.sales_amount?data.sales_amount:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.sales?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"sp\",type:\"number\",value:data.sp,onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.sales?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},data.staff)),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"work_percentage\",type:\"number\",value:data.work&&data.work_percentage?data.work_percentage:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.work?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"work_amount\",type:\"number\",value:data.work&&data.work_amount?data.work_amount:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.work?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"wp\",type:\"number\",value:data.wp,onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.work?false:true})),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-0 fs-18 text-center cursor-pointer\",onClick:function onClick(e){return _this2.handleDeleteStaff(e,index,index2);}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-delete\"}))));}))))));})),data_list&&data_list.length<=0?/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-5 pr-5 mt-4\"},\"No Record Found\"):null,/*#__PURE__*/React.createElement(NormalModal,{className:\"stock-memo-staff-listing\",style:{minWidth:\"820px\"},modal:staffListPopup,handleModal:this.handleEmployeePopup},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleEmployeePopup,className:\"close\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(StaffList,{staffList:staffList,meta:meta,handleNext:function handleNext(){return _this2.handleNext();},handleBack:function handleBack(){return _this2.handleBack();},handleSelectedStaff:function handleSelectedStaff(item){return _this2.handleSelectedStaff(item);}}))));}}]);return StaffSelectionPopupClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonDeleteApi:commonDeleteApi},dispatch);};export var StaffSelectionPopup=connect(mapStateToProps,mapDispatchToProps)(StaffSelectionPopupClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/staffSelectionPopup.js"],"names":["React","Component","NormalInput","NormalButton","NormalModal","NormalCheckbox","connect","bindActionCreators","getCommonApi","commonCreateApi","commonDeleteApi","closeIcon","Toast","StaffList","StaffSelectionPopupClass","state","data_list","item_status_options","staffListPopup","selectedAddStaffIndex","staffList","limit","page","meta","sourceList","selectedAddStaffType","activeRow","getStafflist","data","props","then","key","status","console","log","pagination","setState","handleNext","handleBack","getStaffSelectionList","basicApptDetail","custId","id","length","document","getElementById","classList","toggle","handleStaffChange","e","index1","index2","target","name","toUpperCase","value","type","message","handleAccordion","elements","getElementsByClassName","i","add","handleSelectedStaff","item","handleEmployeePopup","filter","find","acc","emp_id","work","sales","handleSalesStaffCalc","handleWorkStaffCalc","push","staff","emp_name","sales_percentage","sales_amount","sp","work_percentage","work_amount","wp","tmp_workid","tmp_saleid","prevState","handleAddNewStaff","index","handlePostAction","div","transamt","Number","trans_amt","toFixed","sales_point","work_point","salesPercent","salesAmount","salesPoint","workPercent","workAmount","workPoint","line","handleSubmit","result","handleModal","salesStaffCount","sales_percent","totalsale","diff_sales_percent","diff_sales_amount","salesLength","j","dataLine","percent","amt","workStaffCount","work_percent","totalwork","diff_work_percent","diff_work_amount","workLength","handleDeleteStaff","cartId","Workid","Saleid","body","cart_id","res","splice","map","itemdesc","quantity","price","totl_disc","discount_price","deposit","marginRight","minWidth","mapStateToProps","appointment","mapDispatchToProps","dispatch","StaffSelectionPopup"],"mappings":"mgCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OACEC,WADF,CAEEC,YAFF,CAGEC,WAHF,CAIEC,cAJF,KAKO,kBALP,CAMA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OACEC,YADF,CAEEC,eAFF,CAGEC,eAHF,KAIO,sBAJP,CAKA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,cAAP,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,SAAT,KAA0B,aAA1B,CAEA,UAAaC,CAAAA,wBAAb,mYACEC,KADF,CACU,CACNC,SAAS,CAAE,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxJS,CADL,CA2JNC,mBAAmB,CAAE,EA3Jf,CA4JNC,cAAc,CAAE,KA5JV,CA6J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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalCheckbox,\r\n} from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport \"./style.scss\";\r\nimport { Toast } from \"service/toast\";\r\nimport { StaffList } from \"./StaffList\";\r\n\r\nexport class StaffSelectionPopupClass extends Component {\r\n  state = {\r\n    data_list: [\r\n      // {\r\n      //   id: 4397,\r\n      //   type: \"Deposit\",\r\n      //   div: \"3\",\r\n      //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\r\n      //   quantity: 5,\r\n      //   price: \"200.00\",\r\n      //   totl_disc: \"0.00\",\r\n      //   discount_price: \"200.00\",\r\n      //   trans_amt: \"1000.00\",\r\n      //   deposit: \"1000.00\",\r\n      //   is_foc: false,\r\n      //   work_amount: \"200.00\",\r\n      //   work_point: 0,\r\n      //   sales_point: 0,\r\n      //   sales_staffs: \"JACKIE,JANICE,Manager\",\r\n      //   service_staff: \"JANICE,ARIEL\",\r\n      //   data: [\r\n      //     {\r\n      //       work: true,\r\n      //       sales: false,\r\n      //       staff: \"ARIEL\",\r\n      //       emp_id: 259,\r\n      //       sales_percentage: null,\r\n      //       sales_amount: null,\r\n      //       sp: null,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128962,\r\n      //       tmp_saleid: null,\r\n      //     },\r\n      //     {\r\n      //       work: true,\r\n      //       sales: true,\r\n      //       staff: \"JANICE\",\r\n      //       emp_id: 173,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128965,\r\n      //       tmp_saleid: 3789,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"Manager\",\r\n      //       emp_id: 284,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3786,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"JACKIE\",\r\n      //       emp_id: 81,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3787,\r\n      //     },\r\n      //   ],\r\n      // },\r\n      // {\r\n      //   id: 4398,\r\n      //   type: \"Deposit\",\r\n      //   div: \"3\",\r\n      //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\r\n      //   quantity: 5,\r\n      //   price: \"200.00\",\r\n      //   totl_disc: \"0.00\",\r\n      //   discount_price: \"200.00\",\r\n      //   trans_amt: \"1000.00\",\r\n      //   deposit: \"1000.00\",\r\n      //   is_foc: false,\r\n      //   work_amount: \"200.00\",\r\n      //   work_point: 0,\r\n      //   sales_point: 0,\r\n      //   sales_staffs: \"JACKIE,JANICE,Manager\",\r\n      //   service_staff: \"JANICE,ARIEL\",\r\n      //   data: [\r\n      //     {\r\n      //       work: true,\r\n      //       sales: false,\r\n      //       staff: \"ARIEL\",\r\n      //       emp_id: 259,\r\n      //       sales_percentage: null,\r\n      //       sales_amount: null,\r\n      //       sp: null,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128962,\r\n      //       tmp_saleid: null,\r\n      //     },\r\n      //     {\r\n      //       work: true,\r\n      //       sales: true,\r\n      //       staff: \"JANICE\",\r\n      //       emp_id: 173,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128965,\r\n      //       tmp_saleid: 3789,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"Manager\",\r\n      //       emp_id: 284,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3786,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"JACKIE\",\r\n      //       emp_id: 81,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3787,\r\n      //     },\r\n      //  ],\r\n      //},\r\n    ],\r\n    item_status_options: [],\r\n    staffListPopup: false,\r\n    selectedAddStaffIndex: null,\r\n    staffList: [],\r\n    limit: 6,\r\n    page: 1,\r\n    meta: {},\r\n    sourceList: [],\r\n    selectedAddStaffType: 1,\r\n    activeRow: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getStaffSelectionList();\r\n  }\r\n  getStafflist = data => {\r\n    let { page, limit, selectedAddStaffType } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `empcartlist/?sales_staff=${selectedAddStaffType}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\r\n        let { staffList } = this.state;\r\n        let { meta } = this.state;\r\n        staffList = [];\r\n        meta = {};\r\n        staffList = data;\r\n        meta = data.meta.pagination;\r\n        console.log(meta, \"metalist\");\r\n        this.setState({\r\n          staffList,\r\n          meta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  getStaffSelectionList = () => {\r\n    let { data_list } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    this.props\r\n      .getCommonApi(\r\n        `cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_staffs=1`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == \"200\") {\r\n          console.log(key, \"cartstaffselectionpopuplist\");\r\n          data_list = data;\r\n          await this.setState({\r\n            data_list,\r\n          });\r\n\r\n          if (this.state.data_list.length > 0) {\r\n            this.setState({\r\n              activeRow: this.state.data_list[0].id,\r\n            });\r\n            document\r\n              .getElementById(this.state.data_list[0].id)\r\n              .classList.toggle(\"d-none\");\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleStaffChange = async (e, index1, index2) => {\r\n    let data = this.state.data_list[index1].data[index2];\r\n    if ([e.target.name] == \"work\") {\r\n      if (\r\n        (this.state.data_list[index1][\"type\"].toUpperCase() == \"SALES\" &&\r\n          this.state.data_list[index1][\"div\"] == \"3\") ||\r\n        (this.state.data_list[index1][\"type\"].toUpperCase() == \"DEPOSIT\" &&\r\n          this.state.data_list[index1][\"div\"] == \"3\")\r\n      ) {\r\n        data[[e.target.name]] = e.target.value;\r\n        await this.setState({ data });\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Work staff not allowed for Product\",\r\n        });\r\n      }\r\n    } else {\r\n      data[[e.target.name]] = e.target.value;\r\n      await this.setState({ data });\r\n    }\r\n  };\r\n  handleAccordion = async id => {\r\n    await this.setState({\r\n      activeRow: id,\r\n    });\r\n    let elements = document.getElementsByClassName(\"accordion\");\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].classList.add(\"d-none\");\r\n    }\r\n    document.getElementById(id).classList.toggle(\"d-none\");\r\n    console.log(elements);\r\n  };\r\n\r\n  handleSelectedStaff = async item => {\r\n    this.handleEmployeePopup();\r\n    let { selectedAddStaffIndex, selectedAddStaffType, data_list } = this.state;\r\n    let data = this.state.data_list[selectedAddStaffIndex].data;\r\n\r\n    let filter = data.find(acc => acc.emp_id === item.id);\r\n    if (filter) {\r\n      if (filter.work && filter.sales) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This staff already found in this list\",\r\n        });\r\n      } else if (filter.work) {\r\n        filter.sales = true;\r\n        this.handleSalesStaffCalc(0);\r\n      } else {\r\n        filter.work = true;\r\n        this.handleWorkStaffCalc(0);\r\n      }\r\n    } else {\r\n      data.push({\r\n        work: selectedAddStaffType == 0 ? true : false,\r\n        sales: selectedAddStaffType == 1 ? true : false,\r\n        staff: item.emp_name,\r\n        emp_id: item.id,\r\n        sales_percentage: 0,\r\n        sales_amount: 0,\r\n        sp: 0,\r\n        work_percentage: 0,\r\n        work_amount: 0,\r\n        wp: 0,\r\n        tmp_workid: null,\r\n        tmp_saleid: null,\r\n      });\r\n      await this.setState({ data });\r\n      this.setState({\r\n        selectedAddStaffIndex: null,\r\n        selectedAddStaffType: null,\r\n      });\r\n      selectedAddStaffType == 0\r\n        ? this.handleWorkStaffCalc(0)\r\n        : this.handleSalesStaffCalc(0);\r\n    }\r\n  };\r\n  handleEmployeePopup = () => {\r\n    this.setState(prevState => ({\r\n      staffListPopup: !prevState.staffListPopup,\r\n    }));\r\n  };\r\n  handleAddNewStaff = async (index, type, item) => {\r\n    if (type == 0) {\r\n      if (\r\n        (item[\"type\"].toUpperCase() == \"SALES\" && item[\"div\"] == \"3\") ||\r\n        (item[\"type\"].toUpperCase() == \"DEPOSIT\" && item[\"div\"] == \"3\")\r\n      ) {\r\n        await this.setState({\r\n          selectedAddStaffIndex: index,\r\n          selectedAddStaffType: type,\r\n          staffList: [],\r\n          meta: {},\r\n          page: 1,\r\n        });\r\n        this.getStafflist();\r\n        this.setState({\r\n          staffListPopup: true,\r\n        });\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Work Staff not allowed for Product\",\r\n        });\r\n      }\r\n    } else {\r\n      await this.setState({\r\n        selectedAddStaffIndex: index,\r\n        selectedAddStaffType: type,\r\n        staffList: [],\r\n        meta: {},\r\n        page: 1,\r\n      });\r\n      this.getStafflist();\r\n      this.setState({\r\n        staffListPopup: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  handlePostAction = () => {\r\n    let { data_list } = this.state;\r\n\r\n    for (let value of data_list) {\r\n      let type = value.type;\r\n      let div = value.div;\r\n      let transamt = Number(value.trans_amt).toFixed(2);\r\n      let work_amount = Number(value.work_amount).toFixed(2);\r\n      let sales_point = Number(value.sales_point);\r\n      let work_point = Number(value.work_point);\r\n      let salesPercent = 0;\r\n      let salesAmount = Number(0);\r\n      let salesPoint = Number(0);\r\n      let workPercent = Number(0);\r\n      let workAmount = Number(0);\r\n      let workPoint = Number(0);\r\n      for (let line of value.data) {\r\n        salesPercent += Number(line.sales_percentage);\r\n        salesAmount += Number(line.sales_amount);\r\n        salesPoint += Number(line.sp);\r\n        workPercent += Number(line.work_percentage);\r\n        workAmount += Number(line.work_amount);\r\n        workPoint += Number(line.wp);\r\n\r\n        // if (line.work) {\r\n        //   if (\r\n        //     Number(line.work_amount) <= 0 ||\r\n        //     line.work_amount == null ||\r\n        //     line.work_percentage == null ||\r\n        //     Number(line.work_percentage) <= 0\r\n        //   ) {\r\n        //     Toast({\r\n        //       type: \"error\",\r\n        //       message:\r\n        //         \"Please check Work Staff Amount or Percentage should not be empty or Zero\",\r\n        //     });\r\n        //     return false;\r\n        //   }\r\n        // }\r\n        // if (line.sales) {\r\n        //   if (\r\n        //     Number(line.sales_amount) <= 0 ||\r\n        //     line.sales_amount == null ||\r\n        //     line.sales_percentage == null ||\r\n        //     Number(line.sales_percentage) <= 0\r\n        //   ) {\r\n        //     Toast({\r\n        //       type: \"error\",\r\n        //       message:\r\n        //         \"Please check Sales Staff Amount or Percentage should not be empty or Zero\",\r\n        //     });\r\n        //     return false;\r\n        //   }\r\n        // }\r\n      }\r\n      if (workPercent > 100 || workAmount > transamt) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Work Staff Amount or Percentage should be less than Maximum\",\r\n        });\r\n        return false;\r\n      } else if (\r\n        div == \"3\" &&\r\n        type.toUpperCase() == \"DEPOSIT\" &&\r\n        workAmount > work_amount\r\n      ) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Work amount is should be equal to Max Work Amount\",\r\n        });\r\n        return false;\r\n      } else if (salesPercent > 100 || salesAmount > transamt) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Sales Amount or percentage should be less than max Amount\",\r\n        });\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { data_list } = this.state;\r\n    let result = this.handlePostAction();\r\n    if (result) {\r\n      console.log(data_list, \"savedataforstaffselection\");\r\n      this.props.commonCreateApi(`cartpopup/staffs/`, data_list).then(key => {\r\n        console.log(key, \"resultset of staffselection\");\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSalesStaffCalc = async index => {\r\n    let { data_list } = this.state;\r\n    let salesStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.sales) {\r\n        salesStaffCount += 1;\r\n      }\r\n    }\r\n    let sales_percent = Number(100 / salesStaffCount).toFixed(2);\r\n    let totalsale = sales_percent * salesStaffCount;\r\n    let diff_sales_percent = Number(100 - totalsale).toFixed(2);\r\n    let sales_amount = Number(\r\n      data_list[index][\"trans_amt\"] / salesStaffCount\r\n    ).toFixed(2);\r\n    let diff_sales_amount = Number(\r\n      data_list[index][\"trans_amt\"] - sales_amount * salesStaffCount\r\n    ).toFixed(2);\r\n    // let salespoints = Number(\r\n    //   data_list[index][\"sales_point\"] / salesStaffCount\r\n    // ).toFixed(2);\r\n\r\n    let data = data_list[index].data;\r\n    let salesLength = data.filter(acc => acc.sales === true).length;\r\n    let i = 0;\r\n    let j = 1;\r\n    for (let dataLine of data_list[index].data) {\r\n      if (dataLine.sales) {\r\n        if (j == salesLength) {\r\n          let percent = Number(sales_percent) + Number(diff_sales_percent);\r\n          let amt = Number(sales_amount) + Number(diff_sales_amount);\r\n          data[i][\"sales_percentage\"] = Number(percent).toFixed(2);\r\n\r\n          data[i][\"sales_amount\"] = Number(amt).toFixed(2);\r\n\r\n          //data[i][\"sp\"] = salespoints;\r\n          await this.setState({ data });\r\n        } else {\r\n          data[i][\"sales_percentage\"] = sales_percent;\r\n          data[i][\"sales_amount\"] = sales_amount;\r\n          //data[i][\"sp\"] = salespoints;\r\n          await this.setState({ data });\r\n        }\r\n        j++;\r\n      }\r\n      i++;\r\n    }\r\n  };\r\n  handleWorkStaffCalc = async index => {\r\n    let { data_list } = this.state;\r\n\r\n    let workStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        workStaffCount += 1;\r\n      }\r\n    }\r\n    let work_percent = Number(100 / workStaffCount).toFixed(2);\r\n    let totalwork = work_percent * workStaffCount;\r\n    let diff_work_percent = Number(100 - totalwork).toFixed(2);\r\n    let work_amount = \"\";\r\n    let diff_work_amount = \"\";\r\n    if (\r\n      data_list[index].div == \"3\" &&\r\n      data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n    ) {\r\n      work_amount = Number(\r\n        data_list[index][\"work_amount\"] / workStaffCount\r\n      ).toFixed(2);\r\n      diff_work_amount = Number(\r\n        data_list[index][\"work_amount\"] - work_amount * workStaffCount\r\n      ).toFixed(2);\r\n    } else {\r\n      work_amount = Number(\r\n        data_list[index][\"trans_amt\"] / workStaffCount\r\n      ).toFixed(2);\r\n      diff_work_amount = Number(\r\n        data_list[index][\"trans_amt\"] - work_amount * workStaffCount\r\n      ).toFixed(2);\r\n    }\r\n    // let workpoints = Number(\r\n    //   data_list[index][\"sales_point\"] / workStaffCount\r\n    // ).toFixed(2);\r\n    let data = data_list[index].data;\r\n    let i = 0;\r\n    let j = 1;\r\n    let workLength = data.filter(acc => acc.work === true).length;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        if (j == workLength) {\r\n          let percent = Number(work_percent) + Number(diff_work_percent);\r\n          let amt = Number(work_amount) + Number(diff_work_amount);\r\n          data[i][\"work_percentage\"] = Number(percent).toFixed(2);\r\n\r\n          data[i][\"work_amount\"] = Number(amt).toFixed(2);\r\n\r\n          //data[i][\"sp\"] = salespoints;\r\n          await this.setState({ data });\r\n        } else {\r\n          data[i][\"work_percentage\"] = work_percent;\r\n          data[i][\"work_amount\"] = work_amount;\r\n          //data[i][\"sp\"] = salespoints;\r\n          await this.setState({ data });\r\n        }\r\n        j++;\r\n      }\r\n      i++;\r\n    }\r\n  };\r\n\r\n  handleDeleteStaff = async (e, index1, index2) => {\r\n    let data = this.state.data_list[index1].data[index2];\r\n    let cartId = this.state.data_list[index1].id;\r\n    let Workid = 0;\r\n    let Saleid = 0;\r\n    if (data.tmp_workid == null) {\r\n      Workid = 0;\r\n    } else {\r\n      Workid = data.tmp_workid;\r\n    }\r\n    if (data.tmp_saleid == null) {\r\n      Saleid = 0;\r\n    } else {\r\n      Saleid = data.tmp_saleid;\r\n    }\r\n\r\n    let body = {\r\n      sales: data.sales,\r\n      work: data.work,\r\n      cart_id: Number(cartId),\r\n      tmp_workid: Number(Workid),\r\n      tmp_saleid: Number(Saleid),\r\n    };\r\n    console.log(body, \"selected row Item for delete\");\r\n    if (Number(Saleid) > 0 || Number(Workid) > 0) {\r\n      await this.props\r\n        .commonCreateApi(`cartpopup/staffsdelete/`, body)\r\n        .then(res => {\r\n          let { status } = res;\r\n          if (status == \"200\") {\r\n            console.log(res, \"staffselectionpoppupdeleteresponse\");\r\n            let { data_list } = this.state;\r\n            data_list[index1].data.splice(index2, 1);\r\n            this.setState({ data_list });\r\n            this.getStaffSelectionList();\r\n          }\r\n        });\r\n      // this.props\r\n      //   .commonDeleteApi(`cartpopup/staffsdelete/`, body)\r\n      //   .then(async key => {\r\n      //     let { status, data } = key;\r\n      //     console.log(key, \"staffselectionpoppupdeleteresponse\");\r\n      //     if (status == \"200\" || status == \"201\") {\r\n      //       let { data_list } = this.state;\r\n      //       data_list[index1].data.splice(index2, 1);\r\n      //       this.setState({ data_list });\r\n      //       this.getStaffSelectionList();\r\n      //     }\r\n      //   });\r\n    } else {\r\n      let { data_list } = this.state;\r\n      data_list[index1].data.splice(index2, 1);\r\n      this.setState({ data_list });\r\n    }\r\n    this.handleWorkStaffCalc(0);\r\n    this.handleSalesStaffCalc(0);\r\n  };\r\n  render() {\r\n    let { data_list, staffListPopup, staffList, meta, activeRow } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4 mt-2 product-details\">\r\n          <div className=\"row\">\r\n            <div className=\"col-10\">\r\n              <h4>Staff Selection</h4>\r\n            </div>\r\n            {data_list && data_list.length > 0 ? (\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  mainbg={false}\r\n                  className=\"col-12 fs-15 submit-btn\"\r\n                  label=\"Done\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"row pl-3 pr-5 mt-2 fw-500 h6\">\r\n            <div className=\"col\">{`Item`}</div>\r\n            <div className=\"col\">{`Qty`}</div>\r\n            <div className=\"col\">{`Unit Price`}</div>\r\n            <div className=\"col\">{`Disc $`}</div>\r\n            <div className=\"col\">{`D/Price`}</div>\r\n            <div className=\"col\">{`Amount`}</div>\r\n            <div className=\"col\">{`Deposit`}</div>\r\n          </div>\r\n          <div className=\"row pl-5 pr-5 mt-4\">\r\n            {data_list &&\r\n              data_list.length > 0 &&\r\n              data_list.map((item, index) => {\r\n                return (\r\n                  <div className=\"row  mb-2\" key={index}>\r\n                    <div\r\n                      className={`row rounded p-2 accordion-menu border staff ${\r\n                        activeRow == item.id ? \"border-primary\" : \"\"\r\n                      }`}\r\n                      onClick={() => this.handleAccordion(item.id)}\r\n                    >\r\n                      <div className=\"col\">{item.itemdesc}</div>\r\n                      <div className=\"col\">\r\n                        {item.quantity}\r\n                        {/* <NormalInput\r\n                          name=\"quantity\"\r\n                          type=\"number\"\r\n                          value={item.quantity}\r\n                          onChange={e => this.handleChange(e, index)}\r\n                        /> */}\r\n                      </div>\r\n                      <div className=\"col\">{item.price}</div>\r\n                      <div className=\"col\">{item.totl_disc}</div>\r\n                      <div className=\"col\">{item.discount_price}</div>\r\n                      <div className=\"col\">{item.trans_amt}</div>\r\n                      <div className=\"col\">{item.deposit}</div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row  rounded bg-light p-1 d-none accordion\"\r\n                      id={item.id}\r\n                    >\r\n                      <div className=\"row  pl-3 mb-3\">\r\n                        <table className=\"table\" style={{ marginRight: 10 }}>\r\n                          <thead>\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"border-top-0 border-bottom-0\"\r\n                                colSpan=\"1\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15 fw-500\"\r\n                                      label=\"Sales +\"\r\n                                      onClick={() =>\r\n                                        this.handleAddNewStaff(index, 1, item)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-left border-top-0 border-bottom-0\"\r\n                                colSpan=\"3\"\r\n                              >\r\n                                <div className=\"d-flex\">\r\n                                  <div className=\"col\">Sales staff</div>\r\n\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 top-0 fs-15\"\r\n                                      label=\"Auto Calc\"\r\n                                      onClick={() =>\r\n                                        this.handleSalesStaffCalc(index)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"border-top-0 border-bottom-0\"\r\n                                colSpan=\"1\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15 fw-500\"\r\n                                      label=\"Work +\"\r\n                                      onClick={() =>\r\n                                        this.handleAddNewStaff(index, 0, item)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-top-0 border-bottom-0\"\r\n                                colSpan=\"4\"\r\n                              >\r\n                                <div className=\"d-flex\">\r\n                                  <div className=\"col\">Work staff</div>\r\n\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15\"\r\n                                      label=\"Auto Calc\"\r\n                                      onClick={() =>\r\n                                        this.handleWorkStaffCalc(index)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                            </tr>\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                Staff\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                % ({`100`})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                $ ({item.trans_amt})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                SP ({item.sales_point})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                Staff\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                % ({`100`})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                $ (\r\n                                {item.type.toUpperCase() == \"DEPOSIT\" &&\r\n                                item.div == \"3\"\r\n                                  ? item.work_amount\r\n                                  : item.trans_amt}\r\n                                )\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-top-0 border-bottom-0\"\r\n                              >\r\n                                WP ({item.work_point})\r\n                              </th>\r\n                              <th>Action</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {data_list[index].data.length <= 0 ? (\r\n                              <tr>\r\n                                <div className=\"d-flex justify-content-center\">\r\n                                  No record found\r\n                                </div>\r\n                              </tr>\r\n                            ) : null}\r\n                            {data_list[index].data.map((data, index2) => {\r\n                              return (\r\n                                <tr key={index2}>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center d-none\"\r\n                                  >\r\n                                    <NormalCheckbox\r\n                                      type=\"checkbox\"\r\n                                      checked={data.sales}\r\n                                      name=\"sales\"\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center d-none\"\r\n                                  >\r\n                                    <NormalCheckbox\r\n                                      type=\"checkbox\"\r\n                                      checked={data.work}\r\n                                      name=\"work\"\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                                      {data.staff}\r\n                                    </label>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sales_percentage\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.sales && data.sales_percentage\r\n                                          ? data.sales_percentage\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sales_amount\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.sales && data.sales_amount\r\n                                          ? data.sales_amount\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sp\"\r\n                                      type=\"number\"\r\n                                      value={data.sp}\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                                      {data.staff}\r\n                                    </label>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"work_percentage\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.work && data.work_percentage\r\n                                          ? data.work_percentage\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"work_amount\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.work && data.work_amount\r\n                                          ? data.work_amount\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th scope=\"col\" className=\"text-center\">\r\n                                    <NormalInput\r\n                                      name=\"wp\"\r\n                                      type=\"number\"\r\n                                      value={data.wp}\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th>\r\n                                    <div\r\n                                      className=\"col-12 p-0 fs-18 text-center cursor-pointer\"\r\n                                      onClick={e =>\r\n                                        this.handleDeleteStaff(e, index, index2)\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-delete\"></span>\r\n                                    </div>\r\n                                  </th>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n          {data_list && data_list.length <= 0 ? (\r\n            <div className=\"row pl-5 pr-5 mt-4\">No Record Found</div>\r\n          ) : null}\r\n          <NormalModal\r\n            className={\"stock-memo-staff-listing\"}\r\n            style={{ minWidth: \"820px\" }}\r\n            modal={staffListPopup}\r\n            handleModal={this.handleEmployeePopup}\r\n          >\r\n            <img\r\n              onClick={this.handleEmployeePopup}\r\n              className=\"close\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <StaffList\r\n              staffList={staffList}\r\n              meta={meta}\r\n              handleNext={() => this.handleNext()}\r\n              handleBack={() => this.handleBack()}\r\n              handleSelectedStaff={item => this.handleSelectedStaff(item)}\r\n            />\r\n          </NormalModal>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const StaffSelectionPopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(StaffSelectionPopupClass);\r\n"]},"metadata":{},"sourceType":"module"}