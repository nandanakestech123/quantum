{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Route,Router,Redirect}from\"react-router-dom\";import{history}from\"../helpers\";import Routers from\"./routes\";import*as Layout from\"../layout\";import*as Pages from\"../pages\";// import { getTokenDetails } from 'redux/actions/auth'\nimport{NotificationContainer}from\"react-notifications\";var Routes=/*#__PURE__*/function(_Component){_inherits(Routes,_Component);var _super=_createSuper(Routes);function Routes(props){var _this;_classCallCheck(this,Routes);_this=_super.call(this,props);_this.routerGuard=function(){// let currentPath = history.location.pathname.split(\"/\")[1];\n// if (currentPath === \"auth\") {\n// history.push(\"/admin/dashboard\");\n// console.log(\"asdfgadffgdfgdfgdfgdfg\")\n// getTokenDetails()\n};_this.state={renderRoute:false,pathname:null,loading:true};return _this;}_createClass(Routes,[{key:\"componentDidMount\",value:function componentDidMount(){// if (\n//   history.location.pathname == \"/auth\" ||\n//   history.location.pathname == \"/auth/\"\n// ) {\n//   history.push(\"/auth/login\");\n// }\n}// componentDidMount() { }\n// componentWillReceiveProps({ userPermissionDetails }) { }\n},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Router,{history:history},Routers.map(function(_ref){var component=_ref.component,redirect=_ref.redirect,path=_ref.path,_ref$exact=_ref.exact,exact=_ref$exact===void 0?false:_ref$exact,_ref$childrens=_ref.childrens,childrens=_ref$childrens===void 0?[]:_ref$childrens;if(childrens.length>0){return/*#__PURE__*/React.createElement(Route,{path:path,exact:exact,key:path,render:function render(props){if(redirect){if(props.location.pathname===path){props.history.push(redirect);}}var LayoutComponent=Layout[component];return/*#__PURE__*/React.createElement(LayoutComponent,props,childrens.map(function(_ref2){var ChildrenComponent=_ref2.component,childrenPath=_ref2.path,_ref2$exact=_ref2.exact,exact=_ref2$exact===void 0?false:_ref2$exact,_ref2$auth=_ref2.auth,auth=_ref2$auth===void 0?true:_ref2$auth;_this2.routerGuard();return/*#__PURE__*/React.createElement(Route,{path:path+childrenPath,exact:exact,key:path+childrenPath,render:function render(props){var PageComponent=Pages[ChildrenComponent];return/*#__PURE__*/React.createElement(PageComponent,props);}});}));}});}return/*#__PURE__*/React.createElement(Route,{path:path,exact:exact,key:component,render:function render(props){if(component){var PageComponent=Pages[component];return/*#__PURE__*/React.createElement(PageComponent,props);}if(redirect){return/*#__PURE__*/React.createElement(Redirect,{to:redirect});}return/*#__PURE__*/React.createElement(\"div\",null);}});}),/*#__PURE__*/React.createElement(NotificationContainer,null));}}]);return Routes;}(Component);export default Routes;","map":{"version":3,"sources":["E:/newfrontend/webfe/src/routes/index.js"],"names":["React","Component","Route","Router","Redirect","history","Routers","Layout","Pages","NotificationContainer","Routes","props","routerGuard","state","renderRoute","pathname","loading","map","component","redirect","path","exact","childrens","length","location","push","LayoutComponent","ChildrenComponent","childrenPath","auth","PageComponent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, Router, Redirect } from \"react-router-dom\";\r\nimport { history } from \"../helpers\";\r\n\r\nimport Routers from \"./routes\";\r\n\r\nimport * as Layout from \"../layout\";\r\nimport * as Pages from \"../pages\";\r\n\r\n// import { getTokenDetails } from 'redux/actions/auth'\r\n\r\nimport { NotificationContainer } from \"react-notifications\";\r\n\r\nclass Routes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      renderRoute: false,\r\n      pathname: null,\r\n      loading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // if (\r\n    //   history.location.pathname == \"/auth\" ||\r\n    //   history.location.pathname == \"/auth/\"\r\n    // ) {\r\n    //   history.push(\"/auth/login\");\r\n    // }\r\n  }\r\n\r\n  // componentDidMount() { }\r\n\r\n  // componentWillReceiveProps({ userPermissionDetails }) { }\r\n\r\n  routerGuard = () => {\r\n    // let currentPath = history.location.pathname.split(\"/\")[1];\r\n    // if (currentPath === \"auth\") {\r\n    // history.push(\"/admin/dashboard\");\r\n    // console.log(\"asdfgadffgdfgdfgdfgdfg\")\r\n    // getTokenDetails()\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Router history={history}>\r\n        {Routers.map(\r\n          ({\r\n            component,\r\n            redirect,\r\n            path,\r\n            exact = false,\r\n            // auth = true,\r\n            childrens = [],\r\n          }) => {\r\n            if (childrens.length > 0) {\r\n              return (\r\n                <Route\r\n                  path={path}\r\n                  exact={exact}\r\n                  key={path}\r\n                  render={props => {\r\n                    if (redirect) {\r\n                      if (props.location.pathname === path) {\r\n                        props.history.push(redirect);\r\n                      }\r\n                    }\r\n\r\n                    const LayoutComponent = Layout[component];\r\n\r\n                    return (\r\n                      <LayoutComponent {...props}>\r\n                        {childrens.map(\r\n                          ({\r\n                            component: ChildrenComponent,\r\n                            path: childrenPath,\r\n                            exact = false,\r\n                            auth = true,\r\n                          }) => {\r\n                            this.routerGuard();\r\n                            return (\r\n                              <Route\r\n                                path={path + childrenPath}\r\n                                exact={exact}\r\n                                key={path + childrenPath}\r\n                                render={props => {\r\n                                  let PageComponent = Pages[ChildrenComponent];\r\n\r\n                                  return <PageComponent {...props} />;\r\n                                }}\r\n                              />\r\n                            );\r\n                          }\r\n                        )}\r\n                      </LayoutComponent>\r\n                    );\r\n                  }}\r\n                />\r\n              );\r\n            }\r\n\r\n            return (\r\n              <Route\r\n                path={path}\r\n                exact={exact}\r\n                key={component}\r\n                render={props => {\r\n                  if (component) {\r\n                    let PageComponent = Pages[component];\r\n                    return <PageComponent {...props} />;\r\n                  }\r\n                  if (redirect) {\r\n                    return <Redirect to={redirect} />;\r\n                  }\r\n                  return <div></div>;\r\n                }}\r\n              />\r\n            );\r\n          }\r\n        )}\r\n\r\n        <NotificationContainer />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Routes;\r\n"]},"metadata":{},"sourceType":"module"}