{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\LoyaltyPointsSettings\\\\AddRewardPolicy\\\\index.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { NormalInput, NormalSelect, NormalButton } from \"component/common\";\nimport { bindActionCreators } from \"redux\";\nimport { addRewardPlolicySettings, updateRewardPlolicySettings, getRewardPlolicySettings } from \"redux/actions/customerPlus\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\n\nclass AddRewardPolicyClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      itemTypeOptions: [],\n      customerClassOptions: [],\n      cust_type: \"\",\n      cur_value: 0,\n      point_value: 0,\n      isactive: true,\n      reward_item_type: \"\",\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.onChange = e => {\n      this.updateState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = async () => {\n      let {\n        cur_value,\n        cust_type,\n        isactive,\n        reward_item_type,\n        point_value\n      } = this.state;\n      let data = {\n        cur_value,\n        cust_type,\n        isactive,\n        reward_item_type,\n        point_value\n      };\n\n      if (this.props.match.params.id) {\n        await this.props.updateRewardPlolicySettings(this.props.match.params.id + \"/\", data);\n      } else {\n        await this.props.addRewardPlolicySettings(data);\n      }\n\n      this.props.history.goBack();\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    this.props.getCommonApi(\"RewardItemList\").then(e => {\n      this.updateState({\n        itemTypeOptions: e.RewardItems.map(e => {\n          return {\n            label: e.itemtype_desc,\n            value: e.itemtype_code\n          };\n        })\n      });\n    });\n    this.props.getCommonApi(\"CustomerClassList/\").then(e => {\n      this.updateState({\n        customerClassOptions: e.CustomerClasses.map(e => {\n          return {\n            label: e.class_desc,\n            value: e.class_code\n          };\n        })\n      });\n    });\n\n    if (this.props.match.params.id) {\n      this.props.getRewardPlolicySettings(`/${this.props.match.params.id}`).then(e => {\n        this.updateState({ ...e.data\n        });\n      });\n    }\n  }\n\n  render() {\n    let {\n      cur_value,\n      cust_type,\n      customerClassOptions,\n      isactive,\n      itemTypeOptions,\n      point_value,\n      reward_item_type\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fuild\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, t(\"CustomerPlus\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, t(\"Loyalty Points Management\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, t((this.props.match.params.id ? \"Edit\" : \"New\") + \" Reward Policy\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-lg mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, t((this.props.match.params.id ? \"Edit\" : \"New\") + \" Reward Policy\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group pb-2 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, t(\"Currency Value\")), /*#__PURE__*/React.createElement(NormalInput, {\n      name: \"cur_value\",\n      value: cur_value,\n      type: \"number\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, t(\"Customer Class\")), /*#__PURE__*/React.createElement(NormalSelect, {\n      name: \"cust_type\",\n      options: customerClassOptions,\n      value: cust_type,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, t(\"Point Value\")), /*#__PURE__*/React.createElement(NormalInput, {\n      name: \"point_value\",\n      value: point_value,\n      type: \"number\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, t(\"Item Type\")), /*#__PURE__*/React.createElement(NormalSelect, {\n      name: \"reward_item_type\",\n      value: reward_item_type,\n      onChange: this.onChange,\n      options: itemTypeOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 pt-md-5 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"isactive\",\n      checked: isactive,\n      onClick: () => this.updateState({\n        isactive: !isactive\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"name\",\n      className: \"text-left text-black common-label-text fs-17 pb-3 ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, t(\"Is Currently Active\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pt-5 d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/customerplus/lpmanagement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Cancel\",\n      className: \"mr-2 bg-danger text-light col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Save\",\n      success: true,\n      className: \"mr-2 col-12\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  rewardPolicyList: state.customerPlus.rewardPolicyList\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    addRewardPlolicySettings,\n    updateRewardPlolicySettings,\n    getCommonApi,\n    getRewardPlolicySettings\n  }, dispatch);\n};\n\nexport const AddRewardPolicy = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddRewardPolicyClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/LoyaltyPointsSettings/AddRewardPolicy/index.js"],"names":["React","Link","NormalInput","NormalSelect","NormalButton","bindActionCreators","addRewardPlolicySettings","updateRewardPlolicySettings","getRewardPlolicySettings","getCommonApi","connect","withTranslation","AddRewardPolicyClass","Component","state","itemTypeOptions","customerClassOptions","cust_type","cur_value","point_value","isactive","reward_item_type","isMounted","updateState","data","setState","onChange","e","target","name","value","onSubmit","props","match","params","id","history","goBack","componentWillUnmount","componentDidMount","then","RewardItems","map","label","itemtype_desc","itemtype_code","CustomerClasses","class_desc","class_code","render","t","mapStateToProps","rewardPolicyList","customerPlus","mapDispatchToProps","dispatch","AddRewardPolicy"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { NormalInput, NormalSelect, NormalButton } from \"component/common\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  addRewardPlolicySettings,\n  updateRewardPlolicySettings,\n  getRewardPlolicySettings,\n} from \"redux/actions/customerPlus\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\n\nclass AddRewardPolicyClass extends React.Component {\n  state = {\n    itemTypeOptions: [],\n    customerClassOptions: [],\n    cust_type: \"\",\n    cur_value: 0,\n    point_value: 0,\n    isactive: true,\n    reward_item_type: \"\",\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    this.props.getCommonApi(\"RewardItemList\").then((e) => {\n      this.updateState({\n        itemTypeOptions: e.RewardItems.map((e) => {\n          return { label: e.itemtype_desc, value: e.itemtype_code };\n        }),\n      });\n    });\n    this.props.getCommonApi(\"CustomerClassList/\").then((e) => {\n      this.updateState({\n        customerClassOptions: e.CustomerClasses.map((e) => {\n          return { label: e.class_desc, value: e.class_code };\n        }),\n      });\n    });\n    if (this.props.match.params.id) {\n      this.props\n        .getRewardPlolicySettings(`/${this.props.match.params.id}`)\n        .then((e) => {\n          this.updateState({ ...e.data });\n        });\n    }\n  }\n\n  onChange = (e) => {\n    this.updateState({ [e.target.name]: e.target.value });\n  };\n\n  onSubmit = async () => {\n    let { cur_value, cust_type, isactive, reward_item_type, point_value } =\n      this.state;\n    let data = {\n      cur_value,\n      cust_type,\n      isactive,\n      reward_item_type,\n      point_value,\n    };\n    if (this.props.match.params.id) {\n      await this.props.updateRewardPlolicySettings(\n        this.props.match.params.id + \"/\",\n        data\n      );\n    } else {\n      await this.props.addRewardPlolicySettings(data);\n    }\n    this.props.history.goBack();\n  };\n\n  render() {\n    let {\n      cur_value,\n      cust_type,\n      customerClassOptions,\n      isactive,\n      itemTypeOptions,\n      point_value,\n      reward_item_type,\n    } = this.state;\n    let { t } = this.props;\n    return (\n      <div className=\"container-fuild\">\n        <div className=\"head-label-nav\">\n          <p className=\"category\">{t(\"CustomerPlus\")}</p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">{t(\"Loyalty Points Management\")}</p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">\n            {t(\n              (this.props.match.params.id ? \"Edit\" : \"New\") + \" Reward Policy\"\n            )}\n          </p>\n        </div>\n        <div className=\"container-lg mt-5\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 mb-4\">\n              <h3>\n                {t(\n                  (this.props.match.params.id ? \"Edit\" : \"New\") +\n                    \" Reward Policy\"\n                )}\n              </h3>\n            </div>\n          </div>\n          <div className=\"form-group pb-2 mb-4\">\n            <div className=\"row\">\n              <div className=\"col-md-6 \">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Currency Value\")}\n                </label>\n                <NormalInput\n                  name=\"cur_value\"\n                  value={cur_value}\n                  type=\"number\"\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"col-md-6 mb-4\">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Customer Class\")}\n                </label>\n                <NormalSelect\n                  name=\"cust_type\"\n                  options={customerClassOptions}\n                  value={cust_type}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"col-md-6 mb-4\">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Point Value\")}\n                </label>\n                <NormalInput\n                  name=\"point_value\"\n                  value={point_value}\n                  type=\"number\"\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"col-md-6 mb-4\">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Item Type\")}\n                </label>\n                <NormalSelect\n                  name=\"reward_item_type\"\n                  value={reward_item_type}\n                  onChange={this.onChange}\n                  options={itemTypeOptions}\n                />\n              </div>\n              <div className=\"col-md-6 pt-md-5 mb-4\">\n                <input\n                  type=\"checkbox\"\n                  name=\"isactive\"\n                  checked={isactive}\n                  onClick={() => this.updateState({ isactive: !isactive })}\n                />\n                <label\n                  for=\"name\"\n                  className=\"text-left text-black common-label-text fs-17 pb-3 ml-2\"\n                >\n                  {t(\"Is Currently Active\")}\n                </label>\n              </div>\n            </div>\n            <div className=\"row pt-5 d-flex justify-content-center\">\n              <div className=\"col-md-3 mb-4\">\n                <Link to=\"/admin/customerplus/lpmanagement\">\n                  <NormalButton\n                    label=\"Cancel\"\n                    className=\"mr-2 bg-danger text-light col-12\"\n                  />\n                </Link>\n              </div>\n              <div className=\"col-md-3\">\n                <NormalButton\n                  label=\"Save\"\n                  success={true}\n                  className=\"mr-2 col-12\"\n                  onClick={this.onSubmit}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  rewardPolicyList: state.customerPlus.rewardPolicyList,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      addRewardPlolicySettings,\n      updateRewardPlolicySettings,\n      getCommonApi,\n      getRewardPlolicySettings,\n    },\n    dispatch\n  );\n};\n\nexport const AddRewardPolicy = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(AddRewardPolicyClass)\n);\n"]},"metadata":{},"sourceType":"module"}