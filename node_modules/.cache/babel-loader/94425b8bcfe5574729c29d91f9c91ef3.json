{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalInput,NormalButton,NormalModal,NormalCheckbox}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi,commonDeleteApi}from\"redux/actions/common\";import closeIcon from\"assets/images/close.png\";import\"./style.scss\";import{Toast}from\"service/toast\";import{StaffList}from\"./StaffList\";import{withTranslation}from\"react-i18next\";export var StaffSelectionPopupClass=/*#__PURE__*/function(_Component){_inherits(StaffSelectionPopupClass,_Component);var _super=_createSuper(StaffSelectionPopupClass);function StaffSelectionPopupClass(){var _this;_classCallCheck(this,StaffSelectionPopupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data_list:[// {\n//   id: 4397,\n//   type: \"Deposit\",\n//   div: \"3\",\n//   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\n//   quantity: 5,\n//   price: \"200.00\",\n//   totl_disc: \"0.00\",\n//   discount_price: \"200.00\",\n//   trans_amt: \"1000.00\",\n//   deposit: \"1000.00\",\n//   is_foc: false,\n//   work_amount: \"200.00\",\n//   work_point: 0,\n//   sales_point: 0,\n//   sales_staffs: \"JACKIE,JANICE,Manager\",\n//   service_staff: \"JANICE,ARIEL\",\n//   data: [\n//     {\n//       work: true,\n//       sales: false,\n//       staff: \"ARIEL\",\n//       emp_id: 259,\n//       sales_percentage: null,\n//       sales_amount: null,\n//       sp: null,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128962,\n//       tmp_saleid: null,\n//     },\n//     {\n//       work: true,\n//       sales: true,\n//       staff: \"JANICE\",\n//       emp_id: 173,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128965,\n//       tmp_saleid: 3789,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"Manager\",\n//       emp_id: 284,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3786,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"JACKIE\",\n//       emp_id: 81,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3787,\n//     },\n//   ],\n// },\n// {\n//   id: 4398,\n//   type: \"Deposit\",\n//   div: \"3\",\n//   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\n//   quantity: 5,\n//   price: \"200.00\",\n//   totl_disc: \"0.00\",\n//   discount_price: \"200.00\",\n//   trans_amt: \"1000.00\",\n//   deposit: \"1000.00\",\n//   is_foc: false,\n//   work_amount: \"200.00\",\n//   work_point: 0,\n//   sales_point: 0,\n//   sales_staffs: \"JACKIE,JANICE,Manager\",\n//   service_staff: \"JANICE,ARIEL\",\n//   data: [\n//     {\n//       work: true,\n//       sales: false,\n//       staff: \"ARIEL\",\n//       emp_id: 259,\n//       sales_percentage: null,\n//       sales_amount: null,\n//       sp: null,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128962,\n//       tmp_saleid: null,\n//     },\n//     {\n//       work: true,\n//       sales: true,\n//       staff: \"JANICE\",\n//       emp_id: 173,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: 50,\n//       work_amount: \"100.00\",\n//       wp: 50,\n//       tmp_workid: 128965,\n//       tmp_saleid: 3789,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"Manager\",\n//       emp_id: 284,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3786,\n//     },\n//     {\n//       work: false,\n//       sales: true,\n//       staff: \"JACKIE\",\n//       emp_id: 81,\n//       sales_percentage: 33,\n//       sales_amount: \"333.00\",\n//       sp: 33,\n//       work_percentage: null,\n//       work_amount: null,\n//       wp: null,\n//       tmp_workid: null,\n//       tmp_saleid: 3787,\n//     },\n//  ],\n//},\n],item_status_options:[],staffListPopup:false,selectedAddStaffIndex:null,staffList:[],limit:6,page:1,meta:{},sourceList:[],selectedAddStaffType:1,activeRow:0};_this.getStafflist=function(data){var _this$state=_this.state,page=_this$state.page,limit=_this$state.limit,selectedAddStaffType=_this$state.selectedAddStaffType;_this.props.getCommonApi(\"empcartlist/?sales_staff=\".concat(selectedAddStaffType,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var status,data,staffList,meta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=key.status,data=key.data;console.log(key,\"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");staffList=_this.state.staffList;meta=_this.state.meta;staffList=[];meta={};staffList=data;meta=data.meta.pagination;console.log(meta,\"metalist\");_this.setState({staffList:staffList,meta:meta});case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var page;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=_this.state.page;page=page+1;_context2.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var page;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:page=_this.state.page;page=page-1;_context3.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context3.stop();}}},_callee3);}));_this.getStaffSelectionList=function(){var data_list=_this.state.data_list;var basicApptDetail=_this.props.basicApptDetail;_this.props.getCommonApi(\"cartpopup/?cust_noid=\".concat(basicApptDetail.custId,\"&cart_id=\").concat(_this.props.id,\"&is_staffs=1\")).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(key){var status,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:status=key.status,data=key.data;if(!(status==\"200\")){_context4.next=7;break;}console.log(key,\"cartstaffselectionpopuplist\");data_list=data;_context4.next=6;return _this.setState({data_list:data_list});case 6:if(_this.state.data_list.length>0){_this.setState({activeRow:_this.state.data_list[0].id});document.getElementById(_this.state.data_list[0].id).classList.toggle(\"d-none\");}case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref4.apply(this,arguments);};}());};_this.handleStaffChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e,index1,index2){var data_list,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:data_list=_this.state.data_list;data=_this.state.data_list[index1].data[index2];if(!([e.target.name]==\"work\")){_context5.next=12;break;}if(!(_this.state.data_list[index1][\"type\"].toUpperCase()==\"SALES\"&&_this.state.data_list[index1][\"div\"]==\"3\"||_this.state.data_list[index1][\"type\"].toUpperCase()==\"DEPOSIT\"&&_this.state.data_list[index1][\"div\"]==\"3\")){_context5.next=9;break;}data[[e.target.name]]=e.target.value;_context5.next=7;return _this.setState({data:data});case 7:_context5.next=10;break;case 9:Toast({type:\"error\",message:\"Work staff not allowed for Product\"});case 10:_context5.next=35;break;case 12:if(!([e.target.name]==\"sales_percentage\")){_context5.next=22;break;}data[[e.target.name]]=e.target.value;data[[\"priceSalesFlag\"]]=true;_context5.next=17;return _this.setState({data:data});case 17:data_list[index1][\"updateSalesCalcFlag\"]=true;_context5.next=20;return _this.setState({data_list:data_list});case 20:_context5.next=35;break;case 22:if(!([e.target.name]==\"work_percentage\")){_context5.next=32;break;}data[[e.target.name]]=e.target.value;data[[\"priceWorkFlag\"]]=true;_context5.next=27;return _this.setState({data:data});case 27:data_list[index1][\"updateWorkCalcFlag\"]=true;_context5.next=30;return _this.setState({data_list:data_list});case 30:_context5.next=35;break;case 32:data[[e.target.name]]=e.target.value;_context5.next=35;return _this.setState({data:data});case 35:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3,_x4,_x5){return _ref5.apply(this,arguments);};}();_this.handleAccordion=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id,index){var data_list,elements,i,data,salesPercentCount,workPercentCount;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:data_list=_this.state.data_list;_context6.next=3;return _this.setState({activeRow:id});case 3:elements=document.getElementsByClassName(\"accordion\");for(i=0;i<elements.length;i++){elements[i].classList.add(\"d-none\");}document.getElementById(id).classList.toggle(\"d-none\");console.log(elements);data=data_list[index].data;salesPercentCount=data.filter(function(acc){return acc.sales===true&&acc.priceSalesFlag==true;}).length;if(!(salesPercentCount>0)){_context6.next=15;break;}data_list[index][\"updateSalesCalcFlag\"]=true;_context6.next=13;return _this.setState({data:data});case 13:_context6.next=18;break;case 15:data_list[index][\"updateSalesCalcFlag\"]=false;_context6.next=18;return _this.setState({data_list:data_list});case 18:workPercentCount=data.filter(function(acc){return acc.work===true&&acc.priceWorkFlag==true;}).length;if(!(workPercentCount>0)){_context6.next=25;break;}data_list[index][\"updateWorkCalcFlag\"]=true;_context6.next=23;return _this.setState({data:data});case 23:_context6.next=28;break;case 25:data_list[index][\"updateWorkCalcFlag\"]=false;_context6.next=28;return _this.setState({data_list:data_list});case 28:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6,_x7){return _ref6.apply(this,arguments);};}();_this.handleSelectedStaff=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(item){var _this$state2,selectedAddStaffIndex,selectedAddStaffType,data_list,data,filter;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this.handleEmployeePopup();_this$state2=_this.state,selectedAddStaffIndex=_this$state2.selectedAddStaffIndex,selectedAddStaffType=_this$state2.selectedAddStaffType,data_list=_this$state2.data_list;data=_this.state.data_list[selectedAddStaffIndex].data;filter=data.find(function(acc){return acc.emp_id===item.id;});if(!filter){_context7.next=9;break;}if(filter.work&&selectedAddStaffType==0){Toast({type:\"error\",message:\"This staff already found in work staff list\"});}if(filter.sales&&selectedAddStaffType==1){Toast({type:\"error\",message:\"This staff already found in sales staff list\"});}else if(!filter.sales&&selectedAddStaffType==1){filter.sales=true;_this.handleSalesStaffCalc(selectedAddStaffIndex);}else{filter.work=true;_this.handleWorkStaffCalc(selectedAddStaffIndex);}_context7.next=14;break;case 9:data.push({work:selectedAddStaffType==0?true:false,sales:selectedAddStaffType==1?true:false,staff:item.emp_name,emp_id:item.id,sales_percentage:0,sales_amount:0,sp:0,work_percentage:0,work_amount:0,wp:0,tmp_workid:null,tmp_saleid:null});_context7.next=12;return _this.setState({data:data});case 12:selectedAddStaffType==0?_this.handleWorkStaffCalc(selectedAddStaffIndex):_this.handleSalesStaffCalc(selectedAddStaffIndex);_this.setState({selectedAddStaffIndex:null,selectedAddStaffType:null});case 14:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x8){return _ref7.apply(this,arguments);};}();_this.handleEmployeePopup=function(){_this.setState(function(prevState){return{staffListPopup:!prevState.staffListPopup};});};_this.handleAddNewStaff=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(index,type,item){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!(type==0)){_context8.next=11;break;}if(!(item[\"type\"].toUpperCase()==\"SALES\"&&item[\"div\"]==\"3\"||item[\"type\"].toUpperCase()==\"DEPOSIT\"&&item[\"div\"]==\"3\")){_context8.next=8;break;}_context8.next=4;return _this.setState({selectedAddStaffIndex:index,selectedAddStaffType:type,staffList:[],meta:{},page:1});case 4:_this.getStafflist();_this.setState({staffListPopup:true});_context8.next=9;break;case 8:Toast({type:\"error\",message:\"Work Staff not allowed for Product\"});case 9:_context8.next=15;break;case 11:_context8.next=13;return _this.setState({selectedAddStaffIndex:index,selectedAddStaffType:type,staffList:[],meta:{},page:1});case 13:_this.getStafflist();_this.setState({staffListPopup:true});case 15:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x9,_x10,_x11){return _ref8.apply(this,arguments);};}();_this.handlePostAction=function(){var data_list=_this.state.data_list;var _iterator=_createForOfIteratorHelper(data_list),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;var type=value.type;var div=value.div;var transamt=Number(value.trans_amt).toFixed(2);var work_amount=Number(value.work_amount).toFixed(2);var sales_point=Number(value.sales_point);var work_point=Number(value.work_point);var salesPercent=0;var salesAmount=Number(0);var salesPoint=Number(0);var workPercent=Number(0);var workAmount=Number(0);var workPoint=Number(0);var _iterator2=_createForOfIteratorHelper(value.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var line=_step2.value;salesPercent+=Number(line.sales_percentage);salesAmount+=Number(line.sales_amount);salesPoint+=Number(line.sp);workPercent+=Number(line.work_percentage);workAmount+=Number(line.work_amount);workPoint+=Number(line.wp);// if (line.work) {\n//   if (\n//     Number(line.work_amount) <= 0 ||\n//     line.work_amount == null ||\n//     line.work_percentage == null ||\n//     Number(line.work_percentage) <= 0\n//   ) {\n//     Toast({\n//       type: \"error\",\n//       message:\n//         \"Please check Work Staff Amount or Percentage should not be empty or Zero\",\n//     });\n//     return false;\n//   }\n// }\n// if (line.sales) {\n//   if (\n//     Number(line.sales_amount) <= 0 ||\n//     line.sales_amount == null ||\n//     line.sales_percentage == null ||\n//     Number(line.sales_percentage) <= 0\n//   ) {\n//     Toast({\n//       type: \"error\",\n//       message:\n//         \"Please check Sales Staff Amount or Percentage should not be empty or Zero\",\n//     });\n//     return false;\n//   }\n// }\n}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(workPercent>100||workAmount>transamt){Toast({type:\"error\",message:\"Please check Work Staff Amount or Percentage should be less than Maximum\"});return false;}else if(div==\"3\"&&type.toUpperCase()==\"DEPOSIT\"&&workAmount>work_amount){Toast({type:\"error\",message:\"Please check Work amount is should be equal to Max Work Amount\"});return false;}else if(salesPercent>100||salesAmount>transamt){Toast({type:\"error\",message:\"Please check Sales Amount or percentage should be less than max Amount\"});return false;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return true;};_this.handleSubmit=function(){var data_list=_this.state.data_list;var result=_this.handlePostAction();if(result){console.log(data_list,\"savedataforstaffselection\");_this.props.commonCreateApi(\"cartpopup/staffs/\",data_list).then(function(key){console.log(key,\"resultset of staffselection\");var status=key.status,data=key.data;if(status==200){_this.props.handleModal();}});}};_this.handleSalesStaffCalc=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(index){var data_list,salesStaffCount,_iterator3,_step3,line,sales_percent,totalsale,diff_sales_percent,sales_amount,diff_sales_amount,salespoints,diff_salespoints,data,salesLength,i,j,_iterator4,_step4,dataLine,percent,amt,sp;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:data_list=_this.state.data_list;salesStaffCount=0;_iterator3=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){line=_step3.value;if(line.sales){salesStaffCount+=1;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}sales_percent=Number(100/salesStaffCount).toFixed(2);totalsale=sales_percent*salesStaffCount;diff_sales_percent=Number(100-totalsale).toFixed(2);sales_amount=Number(data_list[index][\"trans_amt\"]/salesStaffCount).toFixed(2);diff_sales_amount=Number(data_list[index][\"trans_amt\"]-sales_amount*salesStaffCount).toFixed(2);salespoints=Number(data_list[index][\"sales_point\"]/salesStaffCount).toFixed(2);diff_salespoints=Number(data_list[index][\"sales_point\"]-salespoints*salesStaffCount).toFixed(2);data=data_list[index].data;salesLength=data.filter(function(acc){return acc.sales===true;}).length;i=0;j=1;_iterator4=_createForOfIteratorHelper(data_list[index].data);_context9.prev=16;_iterator4.s();case 18:if((_step4=_iterator4.n()).done){_context9.next=43;break;}dataLine=_step4.value;if(!dataLine.sales){_context9.next=40;break;}if(!(j==salesLength)){_context9.next=33;break;}percent=Number(sales_percent)+Number(diff_sales_percent);amt=Number(sales_amount)+Number(diff_sales_amount);sp=Number(salespoints)+Number(diff_salespoints);data[i][\"sales_percentage\"]=Number(percent).toFixed(2);data[i][\"sales_amount\"]=Number(amt).toFixed(2);data[i][\"sp\"]=Number(sp).toFixed(2);data[i][\"priceSalesFlag\"]=false;_context9.next=31;return _this.setState({data:data});case 31:_context9.next=39;break;case 33:data[i][\"sales_percentage\"]=sales_percent;data[i][\"sales_amount\"]=sales_amount;data[i][\"sp\"]=salespoints;data[i][\"priceSalesFlag\"]=false;_context9.next=39;return _this.setState({data:data});case 39:j++;case 40:i++;case 41:_context9.next=18;break;case 43:_context9.next=48;break;case 45:_context9.prev=45;_context9.t0=_context9[\"catch\"](16);_iterator4.e(_context9.t0);case 48:_context9.prev=48;_iterator4.f();return _context9.finish(48);case 51:data_list[index][\"updateSalesCalcFlag\"]=false;_context9.next=54;return _this.setState({data_list:data_list});case 54:case\"end\":return _context9.stop();}}},_callee9,null,[[16,45,48,51]]);}));return function(_x12){return _ref9.apply(this,arguments);};}();_this.handleWorkStaffCalc=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(index){var data_list,workStaffCount,_iterator5,_step5,line,work_percent,totalwork,diff_work_percent,work_amount,diff_work_amount,workpoints,diff_workpoints,data,i,j,workLength,_iterator6,_step6,_line,percent,amt,wp;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:data_list=_this.state.data_list;workStaffCount=0;_iterator5=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){line=_step5.value;if(line.work){workStaffCount+=1;}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}work_percent=Number(100/workStaffCount).toFixed(2);totalwork=work_percent*workStaffCount;diff_work_percent=Number(100-totalwork).toFixed(2);work_amount=\"\";diff_work_amount=\"\";if(data_list[index].div==\"3\"&&data_list[index].type.toUpperCase()==\"DEPOSIT\"){work_amount=Number(data_list[index][\"work_amount\"]/workStaffCount).toFixed(2);diff_work_amount=Number(data_list[index][\"work_amount\"]-work_amount*workStaffCount).toFixed(2);}else{work_amount=Number(data_list[index][\"trans_amt\"]/workStaffCount).toFixed(2);diff_work_amount=Number(data_list[index][\"trans_amt\"]-work_amount*workStaffCount).toFixed(2);}workpoints=Number(data_list[index][\"work_point\"]/workStaffCount).toFixed(2);diff_workpoints=Number(data_list[index][\"work_point\"]-workpoints*workStaffCount).toFixed(2);data=data_list[index].data;i=0;j=1;workLength=data.filter(function(acc){return acc.work===true;}).length;_iterator6=_createForOfIteratorHelper(data_list[index].data);_context10.prev=17;_iterator6.s();case 19:if((_step6=_iterator6.n()).done){_context10.next=44;break;}_line=_step6.value;if(!_line.work){_context10.next=41;break;}if(!(j==workLength)){_context10.next=34;break;}percent=Number(work_percent)+Number(diff_work_percent);amt=Number(work_amount)+Number(diff_work_amount);wp=Number(workpoints)+Number(diff_workpoints);data[i][\"work_percentage\"]=Number(percent).toFixed(2);data[i][\"work_amount\"]=Number(amt).toFixed(2);data[i][\"priceWorkFlag\"]=false;data[i][\"wp\"]=Number(wp).toFixed(2);_context10.next=32;return _this.setState({data:data});case 32:_context10.next=40;break;case 34:data[i][\"work_percentage\"]=work_percent;data[i][\"work_amount\"]=work_amount;data[i][\"priceWorkFlag\"]=false;data[i][\"wp\"]=workpoints;_context10.next=40;return _this.setState({data:data});case 40:j++;case 41:i++;case 42:_context10.next=19;break;case 44:_context10.next=49;break;case 46:_context10.prev=46;_context10.t0=_context10[\"catch\"](17);_iterator6.e(_context10.t0);case 49:_context10.prev=49;_iterator6.f();return _context10.finish(49);case 52:data_list[index][\"updateWorkCalcFlag\"]=false;_context10.next=55;return _this.setState({data_list:data_list});case 55:case\"end\":return _context10.stop();}}},_callee10,null,[[17,46,49,52]]);}));return function(_x13){return _ref10.apply(this,arguments);};}();_this.handleDeleteStaff=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(e,index1,index2){var data,cartId,Workid,Saleid,body,data_list;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:data=_this.state.data_list[index1].data[index2];cartId=_this.state.data_list[index1].id;Workid=0;Saleid=0;if(data.tmp_workid==null){Workid=0;}else{Workid=data.tmp_workid;}if(data.tmp_saleid==null){Saleid=0;}else{Saleid=data.tmp_saleid;}body={sales:data.sales,work:data.work,cart_id:Number(cartId),tmp_workid:Number(Workid),tmp_saleid:Number(Saleid)};console.log(body,\"selected row Item for delete\");if(!(Number(Saleid)>0||Number(Workid)>0)){_context11.next=13;break;}_context11.next=11;return _this.props.commonCreateApi(\"cartpopup/staffsdelete/\",body).then(function(res){var status=res.status;if(status==\"200\"){console.log(res,\"staffselectionpoppupdeleteresponse\");var data_list=_this.state.data_list;data_list[index1].data.splice(index2,1);_this.setState({data_list:data_list});if(data.sales&&data.work){_this.handleWorkStaffCalc(index1);_this.handleSalesStaffCalc(index1);}else if(data.sales&&!data.work){_this.handleSalesStaffCalc(index1);}else if(!data.sales&&data.work){_this.handleWorkStaffCalc(index1);}//this.getStaffSelectionList();\n}});case 11:_context11.next=17;break;case 13:data_list=_this.state.data_list;data_list[index1].data.splice(index2,1);_this.setState({data_list:data_list});if(data.sales&&data.work){_this.handleWorkStaffCalc(index1);_this.handleSalesStaffCalc(index1);}else if(data.sales&&!data.work){_this.handleSalesStaffCalc(index1);}else if(!data.sales&&data.work){_this.handleWorkStaffCalc(index1);}case 17:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x14,_x15,_x16){return _ref11.apply(this,arguments);};}();_this.handleWorkPercentFocusOut=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(index,index2){var data_list,workStaffCount,_iterator7,_step7,_line2,ModifiedWork_percent,ModifiedWork_amount,ModifiedWorkpoints,totalwork,work_percent,diff_work_percent,work_amount,diff_work_amount,totalWorkAmount,totalWorkPoint,workpoints,diff_workpoints,data,workLength,workData,i,j,_iterator8,_step8,line,percent,amt,wp;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:data_list=_this.state.data_list;workStaffCount=0;_iterator7=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){_line2=_step7.value;if(_line2.work){workStaffCount+=1;}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}if(!(Number(data_list[index].data[index2][\"work_percentage\"])<=100)){_context12.next=73;break;}ModifiedWork_percent=Number(data_list[index].data[index2][\"work_percentage\"]).toFixed(2);ModifiedWork_amount=0;ModifiedWorkpoints=Number(ModifiedWork_percent/100*data_list[index][\"work_point\"]).toFixed(2);totalwork=Number(Number(100).toFixed(2)-Number(ModifiedWork_percent).toFixed(2)).toFixed(2);work_percent=Number(totalwork/(workStaffCount-1)).toFixed(2);diff_work_percent=Number(totalwork-work_percent*(workStaffCount-1)).toFixed(2);work_amount=0;diff_work_amount=0;totalWorkAmount=0;totalWorkPoint=Number(Number(data_list[index][\"work_point\"]).toFixed(2)-Number(ModifiedWorkpoints).toFixed(2)).toFixed(2);workpoints=Number(totalWorkPoint/(workStaffCount-1)).toFixed(2);diff_workpoints=Number(totalWorkPoint-workpoints*(workStaffCount-1)).toFixed(2);if(data_list[index].div==\"3\"&&data_list[index].type.toUpperCase()==\"DEPOSIT\"){ModifiedWork_amount=Number(ModifiedWork_percent/100*data_list[index][\"work_amount\"]).toFixed(2);totalWorkAmount=Number(Number(data_list[index][\"work_amount\"]).toFixed(2)-Number(ModifiedWork_amount).toFixed(2)).toFixed(2);work_amount=Number(totalWorkAmount/(workStaffCount-1)).toFixed(2);diff_work_amount=Number(totalWorkAmount-work_amount*(workStaffCount-1)).toFixed(2);}else{ModifiedWork_amount=Number(ModifiedWork_percent/100*data_list[index][\"trans_amt\"]).toFixed(2);totalWorkAmount=Number(Number(data_list[index][\"trans_amt\"]).toFixed(2)-Number(ModifiedWork_amount).toFixed(2)).toFixed(2);work_amount=Number(totalWorkAmount/(workStaffCount-1)).toFixed(2);diff_work_amount=Number(totalWorkAmount-work_amount*(workStaffCount-1)).toFixed(2);}data=data_list[index].data;data_list[index].data[index2][\"work_percentage\"]=Number(ModifiedWork_percent).toFixed(2);data_list[index].data[index2][\"work_amount\"]=Number(ModifiedWork_amount).toFixed(2);data_list[index].data[index2][\"wp\"]=Number(ModifiedWorkpoints).toFixed(2);_context12.next=24;return _this.setState({data:data});case 24:workLength=data.filter(function(acc){return acc.work===true&&acc.staff!==data_list[index].data[index2][\"staff\"];}).length;workData=data.filter(function(acc){return acc.work===true&&acc.staff!==data_list[index].data[index2][\"staff\"];});if(!workData){_context12.next=71;break;}i=0;j=1;_iterator8=_createForOfIteratorHelper(data_list[index].data);_context12.prev=30;_iterator8.s();case 32:if((_step8=_iterator8.n()).done){_context12.next=63;break;}line=_step8.value;if(!line.work){_context12.next=60;break;}if(!(data_list[index].data[index2][\"staff\"]===line.staff)){_context12.next=43;break;}data[i][\"work_percentage\"]=ModifiedWork_percent;data[i][\"work_amount\"]=ModifiedWork_amount;data[i][\"wp\"]=ModifiedWorkpoints;_context12.next=41;return _this.setState({data:data});case 41:_context12.next=60;break;case 43:if(!(j==workLength)){_context12.next=54;break;}percent=Number(work_percent)+Number(diff_work_percent);amt=Number(work_amount)+Number(diff_work_amount);wp=Number(workpoints)+Number(diff_workpoints);data[i][\"work_percentage\"]=Number(percent).toFixed(2);data[i][\"work_amount\"]=Number(amt).toFixed(2);data[i][\"wp\"]=Number(wp).toFixed(2);_context12.next=52;return _this.setState({data:data});case 52:_context12.next=59;break;case 54:data[i][\"work_percentage\"]=work_percent;data[i][\"work_amount\"]=work_amount;data[i][\"wp\"]=workpoints;_context12.next=59;return _this.setState({data:data});case 59:j++;case 60:i++;case 61:_context12.next=32;break;case 63:_context12.next=68;break;case 65:_context12.prev=65;_context12.t0=_context12[\"catch\"](30);_iterator8.e(_context12.t0);case 68:_context12.prev=68;_iterator8.f();return _context12.finish(68);case 71:_context12.next=74;break;case 73:Toast({type:\"error\",message:\"Please enter valid percentage\"});case 74:case\"end\":return _context12.stop();}}},_callee12,null,[[30,65,68,71]]);}));return function(_x17,_x18){return _ref12.apply(this,arguments);};}();_this.handleSalesStaffPriceChange=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(e,index,index1){var data_list,data,salesPercentCount;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:data_list=_this.state.data_list;data=data_list[index].data[index1];data[\"priceSalesFlag\"]=e.target.value;_context13.next=5;return _this.setState({data:data});case 5:salesPercentCount=data_list[index].data.filter(function(acc){return acc.sales===true&&acc.priceSalesFlag==true;}).length;if(!(salesPercentCount>0)){_context13.next=12;break;}data_list[index][\"updateSalesCalcFlag\"]=true;_context13.next=10;return _this.setState({data_list:data_list});case 10:_context13.next=15;break;case 12:data_list[index][\"updateSalesCalcFlag\"]=false;_context13.next=15;return _this.setState({data_list:data_list});case 15:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x19,_x20,_x21){return _ref13.apply(this,arguments);};}();_this.handleWorkStaffPriceChange=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(e,index,index1){var data_list,data,workPercentCount;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:data_list=_this.state.data_list;data=data_list[index].data[index1];data[\"priceWorkFlag\"]=e.target.value;_context14.next=5;return _this.setState({data:data});case 5:workPercentCount=data_list[index].data.filter(function(acc){return acc.work===true&&acc.priceWorkFlag==true;}).length;if(!(workPercentCount>0)){_context14.next=12;break;}data_list[index][\"updateWorkCalcFlag\"]=true;_context14.next=10;return _this.setState({data_list:data_list});case 10:_context14.next=15;break;case 12:data_list[index][\"updateWorkCalcFlag\"]=false;_context14.next=15;return _this.setState({data_list:data_list});case 15:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x22,_x23,_x24){return _ref14.apply(this,arguments);};}();_this.handleSalesPercentCalcUpdate=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(index){var data_list,salesStaffCount,_iterator9,_step9,line,data,salesPercentChange,salesStaffBalancePercent,_iterator10,_step10,percentLine,salesPercentCount,ModifiedSales_percent,Modifiedsales_amount,Modifiedsalespoints,sales_percent,diff_sales_percent,sales_amount,diff_sales_amount,salespoints,diff_salespoints,i,j,_iterator11,_step11,dataLine,LineSales_percent,Linesales_amount,Linesalespoints,percent,amt,sp;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:data_list=_this.state.data_list;salesStaffCount=0;_iterator9=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){line=_step9.value;if(line.sales){salesStaffCount+=1;}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}data=data_list[index].data;salesPercentChange=data.filter(function(acc){return acc.sales===true&&acc.priceSalesFlag==true;});salesStaffBalancePercent=0;if(salesPercentChange){_iterator10=_createForOfIteratorHelper(salesPercentChange);try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){percentLine=_step10.value;if(percentLine.sales){salesStaffBalancePercent+=Number(percentLine.sales_percentage);}}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}}if(!(salesPercentChange&&salesStaffBalancePercent>100)){_context15.next=12;break;}Toast({type:\"error\",message:\"Percentage should be less than 100\"});_context15.next=75;break;case 12:salesPercentCount=data.filter(function(acc){return acc.sales===true&&acc.priceSalesFlag==true;}).length;ModifiedSales_percent=Number(100-salesStaffBalancePercent).toFixed(2);Modifiedsales_amount=Number(ModifiedSales_percent/100*data_list[index][\"trans_amt\"]).toFixed(2);Modifiedsalespoints=Number(ModifiedSales_percent/100*data_list[index][\"sales_point\"]).toFixed(2);sales_percent=Number(ModifiedSales_percent/(salesStaffCount-salesPercentCount)).toFixed(2);diff_sales_percent=Number(ModifiedSales_percent-sales_percent*(salesStaffCount-salesPercentCount)).toFixed(2);sales_amount=Number(Modifiedsales_amount/(salesStaffCount-salesPercentCount)).toFixed(2);diff_sales_amount=Number(Modifiedsales_amount-sales_amount*(salesStaffCount-salesPercentCount)).toFixed(2);salespoints=Number(Modifiedsalespoints/(salesStaffCount-salesPercentCount)).toFixed(2);diff_salespoints=Number(Modifiedsalespoints-salespoints*(salesStaffCount-salesPercentCount)).toFixed(2);i=0;j=1;_iterator11=_createForOfIteratorHelper(data_list[index].data);_context15.prev=25;_iterator11.s();case 27:if((_step11=_iterator11.n()).done){_context15.next=64;break;}dataLine=_step11.value;if(!dataLine.sales){_context15.next=61;break;}if(!dataLine.priceSalesFlag){_context15.next=42;break;}LineSales_percent=Number(dataLine.sales_percentage).toFixed(2);Linesales_amount=Number(LineSales_percent/100*data_list[index][\"trans_amt\"]).toFixed(2);Linesalespoints=Number(LineSales_percent/100*data_list[index][\"sales_point\"]).toFixed(2);data[i][\"sales_percentage\"]=LineSales_percent;data[i][\"sales_amount\"]=Linesales_amount;data[i][\"sp\"]=Linesalespoints;data[i][\"priceSalesFlag\"]=false;_context15.next=40;return _this.setState({data:data});case 40:_context15.next=61;break;case 42:if(!(j==salesPercentCount)){_context15.next=54;break;}percent=Number(sales_percent)+Number(diff_sales_percent);amt=Number(sales_amount)+Number(diff_sales_amount);sp=Number(salespoints)+Number(diff_salespoints);data[i][\"sales_percentage\"]=Number(percent).toFixed(2);data[i][\"sales_amount\"]=Number(amt).toFixed(2);data[i][\"sp\"]=Number(sp).toFixed(2);data[i][\"priceSalesFlag\"]=false;_context15.next=52;return _this.setState({data:data});case 52:_context15.next=60;break;case 54:data[i][\"sales_percentage\"]=sales_percent;data[i][\"sales_amount\"]=sales_amount;data[i][\"sp\"]=salespoints;data[i][\"priceSalesFlag\"]=false;_context15.next=60;return _this.setState({data:data});case 60:j++;case 61:i++;case 62:_context15.next=27;break;case 64:_context15.next=69;break;case 66:_context15.prev=66;_context15.t0=_context15[\"catch\"](25);_iterator11.e(_context15.t0);case 69:_context15.prev=69;_iterator11.f();return _context15.finish(69);case 72:data_list[index][\"updateSalesCalcFlag\"]=false;_context15.next=75;return _this.setState({data_list:data_list});case 75:case\"end\":return _context15.stop();}}},_callee15,null,[[25,66,69,72]]);}));return function(_x25){return _ref15.apply(this,arguments);};}();_this.handleWorkPercentCalcUpdate=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(index){var data_list,WorkStaffCount,_iterator12,_step12,line,data,workPercentChange,workStaffBalancePercent,_iterator13,_step13,percentLine,workPercentCount,ModifiedWork_percent,ModifiedWork_amount,ModifiedWorkpoints,work_percent,diff_work_percent,work_amount,diff_work_amount,workpoints,diff_workpoints,i,j,_iterator14,_step14,dataLine,LineWork_percent,LineWork_amount,Lineworkspoints,percent,amt,wp;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:debugger;data_list=_this.state.data_list;WorkStaffCount=0;_iterator12=_createForOfIteratorHelper(data_list[index].data);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){line=_step12.value;if(line.work){WorkStaffCount+=1;}}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}data=data_list[index].data;workPercentChange=data.filter(function(acc){return acc.work===true&&acc.priceWorkFlag==true;});workStaffBalancePercent=0;if(workPercentChange){_iterator13=_createForOfIteratorHelper(workPercentChange);try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){percentLine=_step13.value;if(percentLine.work){workStaffBalancePercent+=Number(percentLine.work_percentage);}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}}if(!(workPercentChange&&workStaffBalancePercent>100)){_context16.next=13;break;}Toast({type:\"error\",message:\"Percentage should be less than 100\"});_context16.next=78;break;case 13:workPercentCount=data.filter(function(acc){return acc.work===true&&acc.priceWorkFlag==true;}).length;ModifiedWork_percent=Number(100-workStaffBalancePercent).toFixed(2);ModifiedWork_amount=0;if(data_list[index].div==\"3\"&&data_list[index].type.toUpperCase()==\"DEPOSIT\"){ModifiedWork_amount=Number(ModifiedWork_percent/100*data_list[index][\"work_amount\"]).toFixed(2);}else{ModifiedWork_amount=Number(ModifiedWork_percent/100*data_list[index][\"trans_amt\"]).toFixed(2);}ModifiedWorkpoints=Number(ModifiedWork_percent/100*data_list[index][\"work_point\"]).toFixed(2);work_percent=Number(ModifiedWork_percent/(WorkStaffCount-workPercentCount)).toFixed(2);diff_work_percent=Number(ModifiedWork_percent-work_percent*(WorkStaffCount-workPercentCount)).toFixed(2);work_amount=Number(ModifiedWork_amount/(WorkStaffCount-workPercentCount)).toFixed(2);diff_work_amount=Number(ModifiedWork_amount-work_amount*(WorkStaffCount-workPercentCount)).toFixed(2);workpoints=Number(ModifiedWorkpoints/(WorkStaffCount-workPercentCount)).toFixed(2);diff_workpoints=Number(ModifiedWorkpoints-workpoints*(WorkStaffCount-workPercentCount)).toFixed(2);i=0;j=1;_iterator14=_createForOfIteratorHelper(data_list[index].data);_context16.prev=27;_iterator14.s();case 29:if((_step14=_iterator14.n()).done){_context16.next=67;break;}dataLine=_step14.value;if(!dataLine.work){_context16.next=64;break;}if(!dataLine.priceWorkFlag){_context16.next=45;break;}LineWork_percent=Number(dataLine.work_percentage).toFixed(2);LineWork_amount=0;if(data_list[index].div==\"3\"&&data_list[index].type.toUpperCase()==\"DEPOSIT\"){LineWork_amount=Number(LineWork_percent/100*data_list[index][\"work_amount\"]).toFixed(2);}else{LineWork_amount=Number(LineWork_percent/100*data_list[index][\"trans_amt\"]).toFixed(2);}Lineworkspoints=Number(LineWork_percent/100*data_list[index][\"work_point\"]).toFixed(2);data[i][\"work_percentage\"]=LineWork_percent;data[i][\"work_amount\"]=LineWork_amount;data[i][\"wp\"]=Lineworkspoints;data[i][\"priceWorkFlag\"]=false;_context16.next=43;return _this.setState({data:data});case 43:_context16.next=64;break;case 45:if(!(j==workPercentCount)){_context16.next=57;break;}percent=Number(work_percent)+Number(diff_work_percent);amt=Number(work_amount)+Number(diff_work_amount);wp=Number(workpoints)+Number(diff_workpoints);data[i][\"work_percentage\"]=Number(percent).toFixed(2);data[i][\"work_amount\"]=Number(amt).toFixed(2);data[i][\"wp\"]=Number(wp).toFixed(2);data[i][\"priceWorkFlag\"]=false;_context16.next=55;return _this.setState({data:data});case 55:_context16.next=63;break;case 57:data[i][\"work_percentage\"]=work_percent;data[i][\"work_amount\"]=work_amount;data[i][\"wp\"]=workpoints;data[i][\"priceWorkFlag\"]=false;_context16.next=63;return _this.setState({data:data});case 63:j++;case 64:i++;case 65:_context16.next=29;break;case 67:_context16.next=72;break;case 69:_context16.prev=69;_context16.t0=_context16[\"catch\"](27);_iterator14.e(_context16.t0);case 72:_context16.prev=72;_iterator14.f();return _context16.finish(72);case 75:data_list[index][\"updateWorkCalcFlag\"]=false;_context16.next=78;return _this.setState({data_list:data_list});case 78:case\"end\":return _context16.stop();}}},_callee16,null,[[27,69,72,75]]);}));return function(_x26){return _ref16.apply(this,arguments);};}();return _this;}_createClass(StaffSelectionPopupClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getStaffSelectionList();}},{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,data_list=_this$state3.data_list,staffListPopup=_this$state3.staffListPopup,staffList=_this$state3.staffList,meta=_this$state3.meta,activeRow=_this$state3.activeRow;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mb-4 mt-2 product-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"h4\",null,t(\"Staff Selection\"))),data_list&&data_list.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:false,className:\"col-12 fs-15 submit-btn\",label:\"Done\",onClick:function onClick(){return _this2.handleSubmit();}})):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-3 pr-5 mt-2 fw-500 h6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},\"Item\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},\"Unit Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},\"Disc $\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},\"D/Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},\"Amount\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},\"Deposit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-5 pr-5 mt-4 overflow-auto\"},data_list&&data_list.length>0&&data_list.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row  mb-2\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"row rounded p-2 accordion-menu border staff \".concat(activeRow==item.id?\"border-primary\":\"\"),onClick:function onClick(){return _this2.handleAccordion(item.id,index);}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},item.itemdesc),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center\"},item.quantity),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},item.price),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},item.totl_disc),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},item.discount_price),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},item.trans_amt),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},item.deposit)),/*#__PURE__*/React.createElement(\"div\",{className:\"row  rounded bg-light p-1 d-none accordion\",id:item.id},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\",style:{marginRight:10}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"border-top-0 border-bottom-0 salesstaff-background\",colSpan:\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 fw-500\",label:\"Add\",onClick:function onClick(){return _this2.handleAddNewStaff(index,1,item);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-left border-top-0 border-bottom-0 salesstaff-background\",colSpan:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},t(\"Sales staff\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.updateSalesCalcFlag?/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 top-0\",label:\"Calc\",onClick:function onClick(){return _this2.handleSalesPercentCalcUpdate(index);}}):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 top-0\",label:\"Auto\",onClick:function onClick(){return _this2.handleSalesStaffCalc(index);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"border-top-0 border-bottom-0 workstaff-background\",colSpan:\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 fw-500\",label:\"Add\",onClick:function onClick(){return _this2.handleAddNewStaff(index,0,item);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-top-0 border-bottom-0 workstaff-background\",colSpan:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},t(\"Work staff\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},item.updateWorkCalcFlag?/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 top-0\",label:\"Calc\",onClick:function onClick(){return _this2.handleWorkPercentCalcUpdate(index);}}):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12\",label:\"Auto\",onClick:function onClick(){return _this2.handleWorkStaffCalc(index);}})))),/*#__PURE__*/React.createElement(\"th\",{rowSpan:\"2\"},t(\"Action\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"},t(\"Staff\")),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"},\"% (\",\"100\",\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"},\"$ (\",item.trans_amt,\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"},\"SP (\",item.sales_point,\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 workstaff-background\"},t(\"Staff\")),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 workstaff-background\"},\"% (\",\"100\",\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right border-top-0 border-bottom-0 workstaff-background\"},\"$ (\",item.type.toUpperCase()==\"DEPOSIT\"&&item.div==\"3\"?item.work_amount:item.trans_amt,\")\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-top-0 border-bottom-0 workstaff-background\"},t(\"WP\"),\" (\",item.work_point,\")\"))),/*#__PURE__*/React.createElement(\"tbody\",null,data_list[index].data.length<=0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},t(\"No record found\"))):null,data_list[index].data.map(function(data,index2){return/*#__PURE__*/React.createElement(\"tr\",{key:index2},/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center d-none workstaff-background\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:data.sales,name:\"sales\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);}})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center d-none\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:data.work,name:\"work\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);}})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right salesstaff-background\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text pb-2\"},data.staff)),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right salesstaff-background\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-nowrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"sales_percentage\",type:\"number\",value:data.sales&&data.sales_percentage?data.sales_percentage:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.sales?false:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:data.priceSalesFlag?true:false,name:\"priceSalesFlag\",onChange:function onChange(e){return _this2.handleSalesStaffPriceChange(e,index,index2);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right salesstaff-background\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"sales_amount\",type:\"number\",value:data.sales&&data.sales_amount?data.sales_amount:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.sales?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right salesstaff-background\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"sp\",type:\"number\",value:data.sp,onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.sales?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right workstaff-background\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text pb-2\"},data.staff)),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right workstaff-background\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-nowrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"work_percentage\",type:\"number\",value:data.work&&data.work_percentage?data.work_percentage:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.work?false:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:data.priceWorkFlag?true:false,name:\"priceWorkFlag\",onChange:function onChange(e){return _this2.handleWorkStaffPriceChange(e,index,index2);}})))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center border-right workstaff-background\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"work_amount\",type:\"number\",value:data.work&&data.work_amount?data.work_amount:\"\",onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.work?false:true})),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center workstaff-background\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"wp\",type:\"number\",value:data.wp,onChange:function onChange(e){return _this2.handleStaffChange(e,index,index2);},disabled:data.work?false:true})),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-0 fs-18 text-center cursor-pointer\",onClick:function onClick(e){return _this2.handleDeleteStaff(e,index,index2);}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-delete\"}))));}))))));})),data_list&&data_list.length<=0?/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-5 pr-5 mt-4\"},t(\"No Record Found\")):null,/*#__PURE__*/React.createElement(NormalModal,{className:\"stock-memo-staff-listing\",style:{minWidth:\"75%\"},modal:staffListPopup,handleModal:this.handleEmployeePopup},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleEmployeePopup,className:\"close\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(StaffList,{staffList:staffList,meta:meta,handleNext:function handleNext(){return _this2.handleNext();},handleBack:function handleBack(){return _this2.handleBack();},handleSelectedStaff:function handleSelectedStaff(item){return _this2.handleSelectedStaff(item);}}))));}}]);return StaffSelectionPopupClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonDeleteApi:commonDeleteApi},dispatch);};export var StaffSelectionPopup=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(StaffSelectionPopupClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/staffSelectionPopup.js"],"names":["React","Component","NormalInput","NormalButton","NormalModal","NormalCheckbox","connect","bindActionCreators","getCommonApi","commonCreateApi","commonDeleteApi","closeIcon","Toast","StaffList","withTranslation","StaffSelectionPopupClass","state","data_list","item_status_options","staffListPopup","selectedAddStaffIndex","staffList","limit","page","meta","sourceList","selectedAddStaffType","activeRow","getStafflist","data","props","then","key","status","console","log","pagination","setState","handleNext","handleBack","getStaffSelectionList","basicApptDetail","custId","id","length","document","getElementById","classList","toggle","handleStaffChange","e","index1","index2","target","name","toUpperCase","value","type","message","handleAccordion","index","elements","getElementsByClassName","i","add","salesPercentCount","filter","acc","sales","priceSalesFlag","workPercentCount","work","priceWorkFlag","handleSelectedStaff","item","handleEmployeePopup","find","emp_id","handleSalesStaffCalc","handleWorkStaffCalc","push","staff","emp_name","sales_percentage","sales_amount","sp","work_percentage","work_amount","wp","tmp_workid","tmp_saleid","prevState","handleAddNewStaff","handlePostAction","div","transamt","Number","trans_amt","toFixed","sales_point","work_point","salesPercent","salesAmount","salesPoint","workPercent","workAmount","workPoint","line","handleSubmit","result","handleModal","salesStaffCount","sales_percent","totalsale","diff_sales_percent","diff_sales_amount","salespoints","diff_salespoints","salesLength","j","dataLine","percent","amt","workStaffCount","work_percent","totalwork","diff_work_percent","diff_work_amount","workpoints","diff_workpoints","workLength","handleDeleteStaff","cartId","Workid","Saleid","body","cart_id","res","splice","handleWorkPercentFocusOut","ModifiedWork_percent","ModifiedWork_amount","ModifiedWorkpoints","totalWorkAmount","totalWorkPoint","workData","handleSalesStaffPriceChange","handleWorkStaffPriceChange","handleSalesPercentCalcUpdate","salesPercentChange","salesStaffBalancePercent","percentLine","ModifiedSales_percent","Modifiedsales_amount","Modifiedsalespoints","LineSales_percent","Linesales_amount","Linesalespoints","handleWorkPercentCalcUpdate","WorkStaffCount","workPercentChange","workStaffBalancePercent","LineWork_percent","LineWork_amount","Lineworkspoints","t","map","itemdesc","quantity","price","totl_disc","discount_price","deposit","marginRight","updateSalesCalcFlag","updateWorkCalcFlag","minWidth","mapStateToProps","appointment","mapDispatchToProps","dispatch","StaffSelectionPopup"],"mappings":"mgCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OACEC,WADF,CAEEC,YAFF,CAGEC,WAHF,CAIEC,cAJF,KAKO,kBALP,CAMA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OACEC,YADF,CAEEC,eAFF,CAGEC,eAHF,KAIO,sBAJP,CAKA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,cAAP,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,eAAT,KAAgC,eAAhC,CAEA,UAAaC,CAAAA,wBAAb,mYACEC,KADF,CACU,CACNC,SAAS,CAAE,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxJS,CADL,CA2JNC,mBAAmB,CAAE,EA3Jf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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalCheckbox,\r\n} from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport \"./style.scss\";\r\nimport { Toast } from \"service/toast\";\r\nimport { StaffList } from \"./StaffList\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class StaffSelectionPopupClass extends Component {\r\n  state = {\r\n    data_list: [\r\n      // {\r\n      //   id: 4397,\r\n      //   type: \"Deposit\",\r\n      //   div: \"3\",\r\n      //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\r\n      //   quantity: 5,\r\n      //   price: \"200.00\",\r\n      //   totl_disc: \"0.00\",\r\n      //   discount_price: \"200.00\",\r\n      //   trans_amt: \"1000.00\",\r\n      //   deposit: \"1000.00\",\r\n      //   is_foc: false,\r\n      //   work_amount: \"200.00\",\r\n      //   work_point: 0,\r\n      //   sales_point: 0,\r\n      //   sales_staffs: \"JACKIE,JANICE,Manager\",\r\n      //   service_staff: \"JANICE,ARIEL\",\r\n      //   data: [\r\n      //     {\r\n      //       work: true,\r\n      //       sales: false,\r\n      //       staff: \"ARIEL\",\r\n      //       emp_id: 259,\r\n      //       sales_percentage: null,\r\n      //       sales_amount: null,\r\n      //       sp: null,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128962,\r\n      //       tmp_saleid: null,\r\n      //     },\r\n      //     {\r\n      //       work: true,\r\n      //       sales: true,\r\n      //       staff: \"JANICE\",\r\n      //       emp_id: 173,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128965,\r\n      //       tmp_saleid: 3789,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"Manager\",\r\n      //       emp_id: 284,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3786,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"JACKIE\",\r\n      //       emp_id: 81,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3787,\r\n      //     },\r\n      //   ],\r\n      // },\r\n      // {\r\n      //   id: 4398,\r\n      //   type: \"Deposit\",\r\n      //   div: \"3\",\r\n      //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\r\n      //   quantity: 5,\r\n      //   price: \"200.00\",\r\n      //   totl_disc: \"0.00\",\r\n      //   discount_price: \"200.00\",\r\n      //   trans_amt: \"1000.00\",\r\n      //   deposit: \"1000.00\",\r\n      //   is_foc: false,\r\n      //   work_amount: \"200.00\",\r\n      //   work_point: 0,\r\n      //   sales_point: 0,\r\n      //   sales_staffs: \"JACKIE,JANICE,Manager\",\r\n      //   service_staff: \"JANICE,ARIEL\",\r\n      //   data: [\r\n      //     {\r\n      //       work: true,\r\n      //       sales: false,\r\n      //       staff: \"ARIEL\",\r\n      //       emp_id: 259,\r\n      //       sales_percentage: null,\r\n      //       sales_amount: null,\r\n      //       sp: null,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128962,\r\n      //       tmp_saleid: null,\r\n      //     },\r\n      //     {\r\n      //       work: true,\r\n      //       sales: true,\r\n      //       staff: \"JANICE\",\r\n      //       emp_id: 173,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128965,\r\n      //       tmp_saleid: 3789,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"Manager\",\r\n      //       emp_id: 284,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3786,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"JACKIE\",\r\n      //       emp_id: 81,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3787,\r\n      //     },\r\n      //  ],\r\n      //},\r\n    ],\r\n    item_status_options: [],\r\n    staffListPopup: false,\r\n    selectedAddStaffIndex: null,\r\n    staffList: [],\r\n    limit: 6,\r\n    page: 1,\r\n    meta: {},\r\n    sourceList: [],\r\n    selectedAddStaffType: 1,\r\n    activeRow: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getStaffSelectionList();\r\n  }\r\n  getStafflist = data => {\r\n    let { page, limit, selectedAddStaffType } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `empcartlist/?sales_staff=${selectedAddStaffType}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\r\n        let { staffList } = this.state;\r\n        let { meta } = this.state;\r\n        staffList = [];\r\n        meta = {};\r\n        staffList = data;\r\n        meta = data.meta.pagination;\r\n        console.log(meta, \"metalist\");\r\n        this.setState({\r\n          staffList,\r\n          meta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  getStaffSelectionList = () => {\r\n    let { data_list } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    this.props\r\n      .getCommonApi(\r\n        `cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_staffs=1`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == \"200\") {\r\n          console.log(key, \"cartstaffselectionpopuplist\");\r\n          data_list = data;\r\n          await this.setState({\r\n            data_list,\r\n          });\r\n\r\n          if (this.state.data_list.length > 0) {\r\n            this.setState({\r\n              activeRow: this.state.data_list[0].id,\r\n            });\r\n            document\r\n              .getElementById(this.state.data_list[0].id)\r\n              .classList.toggle(\"d-none\");\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleStaffChange = async (e, index1, index2) => {\r\n    let { data_list } = this.state;\r\n    let data = this.state.data_list[index1].data[index2];\r\n    if ([e.target.name] == \"work\") {\r\n      if (\r\n        (this.state.data_list[index1][\"type\"].toUpperCase() == \"SALES\" &&\r\n          this.state.data_list[index1][\"div\"] == \"3\") ||\r\n        (this.state.data_list[index1][\"type\"].toUpperCase() == \"DEPOSIT\" &&\r\n          this.state.data_list[index1][\"div\"] == \"3\")\r\n      ) {\r\n        data[[e.target.name]] = e.target.value;\r\n        await this.setState({ data });\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Work staff not allowed for Product\",\r\n        });\r\n      }\r\n    } else if ([e.target.name] == \"sales_percentage\") {\r\n      data[[e.target.name]] = e.target.value;\r\n      data[[\"priceSalesFlag\"]] = true;\r\n      await this.setState({ data });\r\n\r\n      data_list[index1][\"updateSalesCalcFlag\"] = true;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    } else if ([e.target.name] == \"work_percentage\") {\r\n      data[[e.target.name]] = e.target.value;\r\n      data[[\"priceWorkFlag\"]] = true;\r\n      await this.setState({ data });\r\n\r\n      data_list[index1][\"updateWorkCalcFlag\"] = true;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    } else {\r\n      data[[e.target.name]] = e.target.value;\r\n      await this.setState({ data });\r\n    }\r\n  };\r\n\r\n  handleAccordion = async (id, index) => {\r\n    let { data_list } = this.state;\r\n    await this.setState({\r\n      activeRow: id,\r\n    });\r\n    let elements = document.getElementsByClassName(\"accordion\");\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].classList.add(\"d-none\");\r\n    }\r\n    document.getElementById(id).classList.toggle(\"d-none\");\r\n    console.log(elements);\r\n    let data = data_list[index].data;\r\n    let salesPercentCount = data.filter(\r\n      acc => acc.sales === true && acc.priceSalesFlag == true\r\n    ).length;\r\n    if (salesPercentCount > 0) {\r\n      data_list[index][\"updateSalesCalcFlag\"] = true;\r\n      await this.setState({\r\n        data,\r\n      });\r\n    } else {\r\n      data_list[index][\"updateSalesCalcFlag\"] = false;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    }\r\n\r\n    let workPercentCount = data.filter(\r\n      acc => acc.work === true && acc.priceWorkFlag == true\r\n    ).length;\r\n    if (workPercentCount > 0) {\r\n      data_list[index][\"updateWorkCalcFlag\"] = true;\r\n      await this.setState({\r\n        data,\r\n      });\r\n    } else {\r\n      data_list[index][\"updateWorkCalcFlag\"] = false;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSelectedStaff = async item => {\r\n    this.handleEmployeePopup();\r\n    let { selectedAddStaffIndex, selectedAddStaffType, data_list } = this.state;\r\n    let data = this.state.data_list[selectedAddStaffIndex].data;\r\n\r\n    let filter = data.find(acc => acc.emp_id === item.id);\r\n    if (filter) {\r\n      if (filter.work && selectedAddStaffType == 0) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This staff already found in work staff list\",\r\n        });\r\n      }\r\n      if (filter.sales && selectedAddStaffType == 1) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This staff already found in sales staff list\",\r\n        });\r\n      } else if (!filter.sales && selectedAddStaffType == 1) {\r\n        filter.sales = true;\r\n        this.handleSalesStaffCalc(selectedAddStaffIndex);\r\n      } else {\r\n        filter.work = true;\r\n        this.handleWorkStaffCalc(selectedAddStaffIndex);\r\n      }\r\n    } else {\r\n      data.push({\r\n        work: selectedAddStaffType == 0 ? true : false,\r\n        sales: selectedAddStaffType == 1 ? true : false,\r\n        staff: item.emp_name,\r\n        emp_id: item.id,\r\n        sales_percentage: 0,\r\n        sales_amount: 0,\r\n        sp: 0,\r\n        work_percentage: 0,\r\n        work_amount: 0,\r\n        wp: 0,\r\n        tmp_workid: null,\r\n        tmp_saleid: null,\r\n      });\r\n      await this.setState({ data });\r\n\r\n      selectedAddStaffType == 0\r\n        ? this.handleWorkStaffCalc(selectedAddStaffIndex)\r\n        : this.handleSalesStaffCalc(selectedAddStaffIndex);\r\n\r\n      this.setState({\r\n        selectedAddStaffIndex: null,\r\n        selectedAddStaffType: null,\r\n      });\r\n    }\r\n  };\r\n  handleEmployeePopup = () => {\r\n    this.setState(prevState => ({\r\n      staffListPopup: !prevState.staffListPopup,\r\n    }));\r\n  };\r\n  handleAddNewStaff = async (index, type, item) => {\r\n    if (type == 0) {\r\n      if (\r\n        (item[\"type\"].toUpperCase() == \"SALES\" && item[\"div\"] == \"3\") ||\r\n        (item[\"type\"].toUpperCase() == \"DEPOSIT\" && item[\"div\"] == \"3\")\r\n      ) {\r\n        await this.setState({\r\n          selectedAddStaffIndex: index,\r\n          selectedAddStaffType: type,\r\n          staffList: [],\r\n          meta: {},\r\n          page: 1,\r\n        });\r\n        this.getStafflist();\r\n        this.setState({\r\n          staffListPopup: true,\r\n        });\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Work Staff not allowed for Product\",\r\n        });\r\n      }\r\n    } else {\r\n      await this.setState({\r\n        selectedAddStaffIndex: index,\r\n        selectedAddStaffType: type,\r\n        staffList: [],\r\n        meta: {},\r\n        page: 1,\r\n      });\r\n      this.getStafflist();\r\n      this.setState({\r\n        staffListPopup: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  handlePostAction = () => {\r\n    let { data_list } = this.state;\r\n\r\n    for (let value of data_list) {\r\n      let type = value.type;\r\n      let div = value.div;\r\n      let transamt = Number(value.trans_amt).toFixed(2);\r\n      let work_amount = Number(value.work_amount).toFixed(2);\r\n      let sales_point = Number(value.sales_point);\r\n      let work_point = Number(value.work_point);\r\n      let salesPercent = 0;\r\n      let salesAmount = Number(0);\r\n      let salesPoint = Number(0);\r\n      let workPercent = Number(0);\r\n      let workAmount = Number(0);\r\n      let workPoint = Number(0);\r\n      for (let line of value.data) {\r\n        salesPercent += Number(line.sales_percentage);\r\n        salesAmount += Number(line.sales_amount);\r\n        salesPoint += Number(line.sp);\r\n        workPercent += Number(line.work_percentage);\r\n        workAmount += Number(line.work_amount);\r\n        workPoint += Number(line.wp);\r\n\r\n        // if (line.work) {\r\n        //   if (\r\n        //     Number(line.work_amount) <= 0 ||\r\n        //     line.work_amount == null ||\r\n        //     line.work_percentage == null ||\r\n        //     Number(line.work_percentage) <= 0\r\n        //   ) {\r\n        //     Toast({\r\n        //       type: \"error\",\r\n        //       message:\r\n        //         \"Please check Work Staff Amount or Percentage should not be empty or Zero\",\r\n        //     });\r\n        //     return false;\r\n        //   }\r\n        // }\r\n        // if (line.sales) {\r\n        //   if (\r\n        //     Number(line.sales_amount) <= 0 ||\r\n        //     line.sales_amount == null ||\r\n        //     line.sales_percentage == null ||\r\n        //     Number(line.sales_percentage) <= 0\r\n        //   ) {\r\n        //     Toast({\r\n        //       type: \"error\",\r\n        //       message:\r\n        //         \"Please check Sales Staff Amount or Percentage should not be empty or Zero\",\r\n        //     });\r\n        //     return false;\r\n        //   }\r\n        // }\r\n      }\r\n      if (workPercent > 100 || workAmount > transamt) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Work Staff Amount or Percentage should be less than Maximum\",\r\n        });\r\n        return false;\r\n      } else if (\r\n        div == \"3\" &&\r\n        type.toUpperCase() == \"DEPOSIT\" &&\r\n        workAmount > work_amount\r\n      ) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Work amount is should be equal to Max Work Amount\",\r\n        });\r\n        return false;\r\n      } else if (salesPercent > 100 || salesAmount > transamt) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Sales Amount or percentage should be less than max Amount\",\r\n        });\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { data_list } = this.state;\r\n    let result = this.handlePostAction();\r\n    if (result) {\r\n      console.log(data_list, \"savedataforstaffselection\");\r\n      this.props.commonCreateApi(`cartpopup/staffs/`, data_list).then(key => {\r\n        console.log(key, \"resultset of staffselection\");\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSalesStaffCalc = async index => {\r\n    let { data_list } = this.state;\r\n    let salesStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.sales) {\r\n        salesStaffCount += 1;\r\n      }\r\n    }\r\n    let sales_percent = Number(100 / salesStaffCount).toFixed(2);\r\n    let totalsale = sales_percent * salesStaffCount;\r\n    let diff_sales_percent = Number(100 - totalsale).toFixed(2);\r\n    let sales_amount = Number(\r\n      data_list[index][\"trans_amt\"] / salesStaffCount\r\n    ).toFixed(2);\r\n    let diff_sales_amount = Number(\r\n      data_list[index][\"trans_amt\"] - sales_amount * salesStaffCount\r\n    ).toFixed(2);\r\n    let salespoints = Number(\r\n      data_list[index][\"sales_point\"] / salesStaffCount\r\n    ).toFixed(2);\r\n    let diff_salespoints = Number(\r\n      data_list[index][\"sales_point\"] - salespoints * salesStaffCount\r\n    ).toFixed(2);\r\n    let data = data_list[index].data;\r\n    let salesLength = data.filter(acc => acc.sales === true).length;\r\n    let i = 0;\r\n    let j = 1;\r\n    for (let dataLine of data_list[index].data) {\r\n      if (dataLine.sales) {\r\n        if (j == salesLength) {\r\n          let percent = Number(sales_percent) + Number(diff_sales_percent);\r\n          let amt = Number(sales_amount) + Number(diff_sales_amount);\r\n          let sp = Number(salespoints) + Number(diff_salespoints);\r\n          data[i][\"sales_percentage\"] = Number(percent).toFixed(2);\r\n          data[i][\"sales_amount\"] = Number(amt).toFixed(2);\r\n          data[i][\"sp\"] = Number(sp).toFixed(2);\r\n          data[i][\"priceSalesFlag\"] = false;\r\n          await this.setState({ data });\r\n        } else {\r\n          data[i][\"sales_percentage\"] = sales_percent;\r\n          data[i][\"sales_amount\"] = sales_amount;\r\n          data[i][\"sp\"] = salespoints;\r\n          data[i][\"priceSalesFlag\"] = false;\r\n          await this.setState({ data });\r\n        }\r\n        j++;\r\n      }\r\n      i++;\r\n    }\r\n    data_list[index][\"updateSalesCalcFlag\"] = false;\r\n    await this.setState({\r\n      data_list,\r\n    });\r\n  };\r\n  handleWorkStaffCalc = async index => {\r\n    let { data_list } = this.state;\r\n\r\n    let workStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        workStaffCount += 1;\r\n      }\r\n    }\r\n\r\n    let work_percent = Number(100 / workStaffCount).toFixed(2);\r\n    let totalwork = work_percent * workStaffCount;\r\n    let diff_work_percent = Number(100 - totalwork).toFixed(2);\r\n    let work_amount = \"\";\r\n    let diff_work_amount = \"\";\r\n    if (\r\n      data_list[index].div == \"3\" &&\r\n      data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n    ) {\r\n      work_amount = Number(\r\n        data_list[index][\"work_amount\"] / workStaffCount\r\n      ).toFixed(2);\r\n      diff_work_amount = Number(\r\n        data_list[index][\"work_amount\"] - work_amount * workStaffCount\r\n      ).toFixed(2);\r\n    } else {\r\n      work_amount = Number(\r\n        data_list[index][\"trans_amt\"] / workStaffCount\r\n      ).toFixed(2);\r\n      diff_work_amount = Number(\r\n        data_list[index][\"trans_amt\"] - work_amount * workStaffCount\r\n      ).toFixed(2);\r\n    }\r\n    let workpoints = Number(\r\n      data_list[index][\"work_point\"] / workStaffCount\r\n    ).toFixed(2);\r\n    let diff_workpoints = Number(\r\n      data_list[index][\"work_point\"] - workpoints * workStaffCount\r\n    ).toFixed(2);\r\n    let data = data_list[index].data;\r\n    let i = 0;\r\n    let j = 1;\r\n    let workLength = data.filter(acc => acc.work === true).length;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        if (j == workLength) {\r\n          let percent = Number(work_percent) + Number(diff_work_percent);\r\n          let amt = Number(work_amount) + Number(diff_work_amount);\r\n          let wp = Number(workpoints) + Number(diff_workpoints);\r\n\r\n          data[i][\"work_percentage\"] = Number(percent).toFixed(2);\r\n\r\n          data[i][\"work_amount\"] = Number(amt).toFixed(2);\r\n          data[i][\"priceWorkFlag\"] = false;\r\n          data[i][\"wp\"] = Number(wp).toFixed(2);\r\n          await this.setState({ data });\r\n        } else {\r\n          data[i][\"work_percentage\"] = work_percent;\r\n          data[i][\"work_amount\"] = work_amount;\r\n          data[i][\"priceWorkFlag\"] = false;\r\n          data[i][\"wp\"] = workpoints;\r\n          await this.setState({ data });\r\n        }\r\n        j++;\r\n      }\r\n      i++;\r\n    }\r\n    data_list[index][\"updateWorkCalcFlag\"] = false;\r\n    await this.setState({\r\n      data_list,\r\n    });\r\n  };\r\n\r\n  handleDeleteStaff = async (e, index1, index2) => {\r\n    let data = this.state.data_list[index1].data[index2];\r\n    let cartId = this.state.data_list[index1].id;\r\n    let Workid = 0;\r\n    let Saleid = 0;\r\n    if (data.tmp_workid == null) {\r\n      Workid = 0;\r\n    } else {\r\n      Workid = data.tmp_workid;\r\n    }\r\n    if (data.tmp_saleid == null) {\r\n      Saleid = 0;\r\n    } else {\r\n      Saleid = data.tmp_saleid;\r\n    }\r\n\r\n    let body = {\r\n      sales: data.sales,\r\n      work: data.work,\r\n      cart_id: Number(cartId),\r\n      tmp_workid: Number(Workid),\r\n      tmp_saleid: Number(Saleid),\r\n    };\r\n    console.log(body, \"selected row Item for delete\");\r\n    if (Number(Saleid) > 0 || Number(Workid) > 0) {\r\n      await this.props\r\n        .commonCreateApi(`cartpopup/staffsdelete/`, body)\r\n        .then(res => {\r\n          let { status } = res;\r\n          if (status == \"200\") {\r\n            console.log(res, \"staffselectionpoppupdeleteresponse\");\r\n            let { data_list } = this.state;\r\n            data_list[index1].data.splice(index2, 1);\r\n            this.setState({ data_list });\r\n            if (data.sales && data.work) {\r\n              this.handleWorkStaffCalc(index1);\r\n              this.handleSalesStaffCalc(index1);\r\n            } else if (data.sales && !data.work) {\r\n              this.handleSalesStaffCalc(index1);\r\n            } else if (!data.sales && data.work) {\r\n              this.handleWorkStaffCalc(index1);\r\n            }\r\n            //this.getStaffSelectionList();\r\n          }\r\n        });\r\n    } else {\r\n      let { data_list } = this.state;\r\n      data_list[index1].data.splice(index2, 1);\r\n      this.setState({ data_list });\r\n      if (data.sales && data.work) {\r\n        this.handleWorkStaffCalc(index1);\r\n        this.handleSalesStaffCalc(index1);\r\n      } else if (data.sales && !data.work) {\r\n        this.handleSalesStaffCalc(index1);\r\n      } else if (!data.sales && data.work) {\r\n        this.handleWorkStaffCalc(index1);\r\n      }\r\n    }\r\n  };\r\n\r\n  handleWorkPercentFocusOut = async (index, index2) => {\r\n    let { data_list } = this.state;\r\n\r\n    let workStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        workStaffCount += 1;\r\n      }\r\n    }\r\n    if (Number(data_list[index].data[index2][\"work_percentage\"]) <= 100) {\r\n      let ModifiedWork_percent = Number(\r\n        data_list[index].data[index2][\"work_percentage\"]\r\n      ).toFixed(2);\r\n      let ModifiedWork_amount = 0;\r\n      let ModifiedWorkpoints = Number(\r\n        (ModifiedWork_percent / 100) * data_list[index][\"work_point\"]\r\n      ).toFixed(2);\r\n\r\n      let totalwork = Number(\r\n        Number(100).toFixed(2) - Number(ModifiedWork_percent).toFixed(2)\r\n      ).toFixed(2);\r\n      let work_percent = Number(totalwork / (workStaffCount - 1)).toFixed(2);\r\n\r\n      let diff_work_percent = Number(\r\n        totalwork - work_percent * (workStaffCount - 1)\r\n      ).toFixed(2);\r\n\r\n      let work_amount = 0;\r\n      let diff_work_amount = 0;\r\n      let totalWorkAmount = 0;\r\n      let totalWorkPoint = Number(\r\n        Number(data_list[index][\"work_point\"]).toFixed(2) -\r\n          Number(ModifiedWorkpoints).toFixed(2)\r\n      ).toFixed(2);\r\n      let workpoints = Number(totalWorkPoint / (workStaffCount - 1)).toFixed(2);\r\n      let diff_workpoints = Number(\r\n        totalWorkPoint - workpoints * (workStaffCount - 1)\r\n      ).toFixed(2);\r\n\r\n      if (\r\n        data_list[index].div == \"3\" &&\r\n        data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n      ) {\r\n        ModifiedWork_amount = Number(\r\n          (ModifiedWork_percent / 100) * data_list[index][\"work_amount\"]\r\n        ).toFixed(2);\r\n\r\n        totalWorkAmount = Number(\r\n          Number(data_list[index][\"work_amount\"]).toFixed(2) -\r\n            Number(ModifiedWork_amount).toFixed(2)\r\n        ).toFixed(2);\r\n        work_amount = Number(totalWorkAmount / (workStaffCount - 1)).toFixed(2);\r\n        diff_work_amount = Number(\r\n          totalWorkAmount - work_amount * (workStaffCount - 1)\r\n        ).toFixed(2);\r\n      } else {\r\n        ModifiedWork_amount = Number(\r\n          (ModifiedWork_percent / 100) * data_list[index][\"trans_amt\"]\r\n        ).toFixed(2);\r\n\r\n        totalWorkAmount = Number(\r\n          Number(data_list[index][\"trans_amt\"]).toFixed(2) -\r\n            Number(ModifiedWork_amount).toFixed(2)\r\n        ).toFixed(2);\r\n        work_amount = Number(totalWorkAmount / (workStaffCount - 1)).toFixed(2);\r\n        diff_work_amount = Number(\r\n          totalWorkAmount - work_amount * (workStaffCount - 1)\r\n        ).toFixed(2);\r\n      }\r\n\r\n      let data = data_list[index].data;\r\n\r\n      data_list[index].data[index2][\"work_percentage\"] =\r\n        Number(ModifiedWork_percent).toFixed(2);\r\n      data_list[index].data[index2][\"work_amount\"] =\r\n        Number(ModifiedWork_amount).toFixed(2);\r\n      data_list[index].data[index2][\"wp\"] =\r\n        Number(ModifiedWorkpoints).toFixed(2);\r\n      await this.setState({ data });\r\n\r\n      let workLength = data.filter(\r\n        acc =>\r\n          acc.work === true &&\r\n          acc.staff !== data_list[index].data[index2][\"staff\"]\r\n      ).length;\r\n      let workData = data.filter(\r\n        acc =>\r\n          acc.work === true &&\r\n          acc.staff !== data_list[index].data[index2][\"staff\"]\r\n      );\r\n      if (workData) {\r\n        let i = 0;\r\n        let j = 1;\r\n\r\n        for (let line of data_list[index].data) {\r\n          if (line.work) {\r\n            if (data_list[index].data[index2][\"staff\"] === line.staff) {\r\n              data[i][\"work_percentage\"] = ModifiedWork_percent;\r\n              data[i][\"work_amount\"] = ModifiedWork_amount;\r\n              data[i][\"wp\"] = ModifiedWorkpoints;\r\n              await this.setState({ data });\r\n            } else {\r\n              if (j == workLength) {\r\n                let percent = Number(work_percent) + Number(diff_work_percent);\r\n                let amt = Number(work_amount) + Number(diff_work_amount);\r\n                let wp = Number(workpoints) + Number(diff_workpoints);\r\n\r\n                data[i][\"work_percentage\"] = Number(percent).toFixed(2);\r\n\r\n                data[i][\"work_amount\"] = Number(amt).toFixed(2);\r\n\r\n                data[i][\"wp\"] = Number(wp).toFixed(2);\r\n                await this.setState({ data });\r\n              } else {\r\n                data[i][\"work_percentage\"] = work_percent;\r\n                data[i][\"work_amount\"] = work_amount;\r\n                data[i][\"wp\"] = workpoints;\r\n                await this.setState({ data });\r\n              }\r\n              j++;\r\n            }\r\n          }\r\n          i++;\r\n        }\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please enter valid percentage\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSalesStaffPriceChange = async (e, index, index1) => {\r\n    let { data_list } = this.state;\r\n    let data = data_list[index].data[index1];\r\n\r\n    data[\"priceSalesFlag\"] = e.target.value;\r\n    await this.setState({\r\n      data,\r\n    });\r\n    let salesPercentCount = data_list[index].data.filter(\r\n      acc => acc.sales === true && acc.priceSalesFlag == true\r\n    ).length;\r\n    if (salesPercentCount > 0) {\r\n      data_list[index][\"updateSalesCalcFlag\"] = true;\r\n      await this.setState({ data_list });\r\n    } else {\r\n      data_list[index][\"updateSalesCalcFlag\"] = false;\r\n      await this.setState({ data_list });\r\n    }\r\n  };\r\n\r\n  handleWorkStaffPriceChange = async (e, index, index1) => {\r\n    let { data_list } = this.state;\r\n    let data = data_list[index].data[index1];\r\n\r\n    data[\"priceWorkFlag\"] = e.target.value;\r\n    await this.setState({\r\n      data,\r\n    });\r\n    let workPercentCount = data_list[index].data.filter(\r\n      acc => acc.work === true && acc.priceWorkFlag == true\r\n    ).length;\r\n    if (workPercentCount > 0) {\r\n      data_list[index][\"updateWorkCalcFlag\"] = true;\r\n      await this.setState({ data_list });\r\n    } else {\r\n      data_list[index][\"updateWorkCalcFlag\"] = false;\r\n      await this.setState({ data_list });\r\n    }\r\n  };\r\n  handleSalesPercentCalcUpdate = async index => {\r\n    let { data_list } = this.state;\r\n\r\n    let salesStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.sales) {\r\n        salesStaffCount += 1;\r\n      }\r\n    }\r\n    let data = data_list[index].data;\r\n    let salesPercentChange = data.filter(\r\n      acc => acc.sales === true && acc.priceSalesFlag == true\r\n    );\r\n    let salesStaffBalancePercent = 0;\r\n    if (salesPercentChange) {\r\n      for (let percentLine of salesPercentChange) {\r\n        if (percentLine.sales) {\r\n          salesStaffBalancePercent += Number(percentLine.sales_percentage);\r\n        }\r\n      }\r\n    }\r\n    if (salesPercentChange && salesStaffBalancePercent > 100) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Percentage should be less than 100\",\r\n      });\r\n    } else {\r\n      let salesPercentCount = data.filter(\r\n        acc => acc.sales === true && acc.priceSalesFlag == true\r\n      ).length;\r\n      let ModifiedSales_percent = Number(\r\n        100 - salesStaffBalancePercent\r\n      ).toFixed(2);\r\n      let Modifiedsales_amount = Number(\r\n        (ModifiedSales_percent / 100) * data_list[index][\"trans_amt\"]\r\n      ).toFixed(2);\r\n      let Modifiedsalespoints = Number(\r\n        (ModifiedSales_percent / 100) * data_list[index][\"sales_point\"]\r\n      ).toFixed(2);\r\n\r\n      let sales_percent = Number(\r\n        ModifiedSales_percent / (salesStaffCount - salesPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let diff_sales_percent = Number(\r\n        ModifiedSales_percent -\r\n          sales_percent * (salesStaffCount - salesPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let sales_amount = Number(\r\n        Modifiedsales_amount / (salesStaffCount - salesPercentCount)\r\n      ).toFixed(2);\r\n      let diff_sales_amount = Number(\r\n        Modifiedsales_amount -\r\n          sales_amount * (salesStaffCount - salesPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let salespoints = Number(\r\n        Modifiedsalespoints / (salesStaffCount - salesPercentCount)\r\n      ).toFixed(2);\r\n      let diff_salespoints = Number(\r\n        Modifiedsalespoints -\r\n          salespoints * (salesStaffCount - salesPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let i = 0;\r\n      let j = 1;\r\n      for (let dataLine of data_list[index].data) {\r\n        if (dataLine.sales) {\r\n          if (dataLine.priceSalesFlag) {\r\n            let LineSales_percent = Number(dataLine.sales_percentage).toFixed(\r\n              2\r\n            );\r\n            let Linesales_amount = Number(\r\n              (LineSales_percent / 100) * data_list[index][\"trans_amt\"]\r\n            ).toFixed(2);\r\n            let Linesalespoints = Number(\r\n              (LineSales_percent / 100) * data_list[index][\"sales_point\"]\r\n            ).toFixed(2);\r\n\r\n            data[i][\"sales_percentage\"] = LineSales_percent;\r\n            data[i][\"sales_amount\"] = Linesales_amount;\r\n            data[i][\"sp\"] = Linesalespoints;\r\n            data[i][\"priceSalesFlag\"] = false;\r\n            await this.setState({ data });\r\n          } else {\r\n            if (j == salesPercentCount) {\r\n              let percent = Number(sales_percent) + Number(diff_sales_percent);\r\n              let amt = Number(sales_amount) + Number(diff_sales_amount);\r\n              let sp = Number(salespoints) + Number(diff_salespoints);\r\n              data[i][\"sales_percentage\"] = Number(percent).toFixed(2);\r\n              data[i][\"sales_amount\"] = Number(amt).toFixed(2);\r\n              data[i][\"sp\"] = Number(sp).toFixed(2);\r\n              data[i][\"priceSalesFlag\"] = false;\r\n              await this.setState({ data });\r\n            } else {\r\n              data[i][\"sales_percentage\"] = sales_percent;\r\n              data[i][\"sales_amount\"] = sales_amount;\r\n              data[i][\"sp\"] = salespoints;\r\n              data[i][\"priceSalesFlag\"] = false;\r\n              await this.setState({ data });\r\n            }\r\n            j++;\r\n          }\r\n        }\r\n        i++;\r\n      }\r\n      data_list[index][\"updateSalesCalcFlag\"] = false;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleWorkPercentCalcUpdate = async index => {\r\n    debugger;\r\n    let { data_list } = this.state;\r\n\r\n    let WorkStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        WorkStaffCount += 1;\r\n      }\r\n    }\r\n    let data = data_list[index].data;\r\n    let workPercentChange = data.filter(\r\n      acc => acc.work === true && acc.priceWorkFlag == true\r\n    );\r\n    let workStaffBalancePercent = 0;\r\n    if (workPercentChange) {\r\n      for (let percentLine of workPercentChange) {\r\n        if (percentLine.work) {\r\n          workStaffBalancePercent += Number(percentLine.work_percentage);\r\n        }\r\n      }\r\n    }\r\n    if (workPercentChange && workStaffBalancePercent > 100) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Percentage should be less than 100\",\r\n      });\r\n    } else {\r\n      let workPercentCount = data.filter(\r\n        acc => acc.work === true && acc.priceWorkFlag == true\r\n      ).length;\r\n      let ModifiedWork_percent = Number(100 - workStaffBalancePercent).toFixed(\r\n        2\r\n      );\r\n      let ModifiedWork_amount = 0;\r\n      if (\r\n        data_list[index].div == \"3\" &&\r\n        data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n      ) {\r\n        ModifiedWork_amount = Number(\r\n          (ModifiedWork_percent / 100) * data_list[index][\"work_amount\"]\r\n        ).toFixed(2);\r\n      } else {\r\n        ModifiedWork_amount = Number(\r\n          (ModifiedWork_percent / 100) * data_list[index][\"trans_amt\"]\r\n        ).toFixed(2);\r\n      }\r\n      let ModifiedWorkpoints = Number(\r\n        (ModifiedWork_percent / 100) * data_list[index][\"work_point\"]\r\n      ).toFixed(2);\r\n\r\n      let work_percent = Number(\r\n        ModifiedWork_percent / (WorkStaffCount - workPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let diff_work_percent = Number(\r\n        ModifiedWork_percent -\r\n          work_percent * (WorkStaffCount - workPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let work_amount = Number(\r\n        ModifiedWork_amount / (WorkStaffCount - workPercentCount)\r\n      ).toFixed(2);\r\n      let diff_work_amount = Number(\r\n        ModifiedWork_amount - work_amount * (WorkStaffCount - workPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let workpoints = Number(\r\n        ModifiedWorkpoints / (WorkStaffCount - workPercentCount)\r\n      ).toFixed(2);\r\n      let diff_workpoints = Number(\r\n        ModifiedWorkpoints - workpoints * (WorkStaffCount - workPercentCount)\r\n      ).toFixed(2);\r\n\r\n      let i = 0;\r\n      let j = 1;\r\n      for (let dataLine of data_list[index].data) {\r\n        if (dataLine.work) {\r\n          if (dataLine.priceWorkFlag) {\r\n            let LineWork_percent = Number(dataLine.work_percentage).toFixed(2);\r\n            let LineWork_amount = 0;\r\n            if (\r\n              data_list[index].div == \"3\" &&\r\n              data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n            ) {\r\n              LineWork_amount = Number(\r\n                (LineWork_percent / 100) * data_list[index][\"work_amount\"]\r\n              ).toFixed(2);\r\n            } else {\r\n              LineWork_amount = Number(\r\n                (LineWork_percent / 100) * data_list[index][\"trans_amt\"]\r\n              ).toFixed(2);\r\n            }\r\n\r\n            let Lineworkspoints = Number(\r\n              (LineWork_percent / 100) * data_list[index][\"work_point\"]\r\n            ).toFixed(2);\r\n\r\n            data[i][\"work_percentage\"] = LineWork_percent;\r\n            data[i][\"work_amount\"] = LineWork_amount;\r\n            data[i][\"wp\"] = Lineworkspoints;\r\n            data[i][\"priceWorkFlag\"] = false;\r\n            await this.setState({ data });\r\n          } else {\r\n            if (j == workPercentCount) {\r\n              let percent = Number(work_percent) + Number(diff_work_percent);\r\n              let amt = Number(work_amount) + Number(diff_work_amount);\r\n              let wp = Number(workpoints) + Number(diff_workpoints);\r\n              data[i][\"work_percentage\"] = Number(percent).toFixed(2);\r\n              data[i][\"work_amount\"] = Number(amt).toFixed(2);\r\n              data[i][\"wp\"] = Number(wp).toFixed(2);\r\n              data[i][\"priceWorkFlag\"] = false;\r\n              await this.setState({ data });\r\n            } else {\r\n              data[i][\"work_percentage\"] = work_percent;\r\n              data[i][\"work_amount\"] = work_amount;\r\n              data[i][\"wp\"] = workpoints;\r\n              data[i][\"priceWorkFlag\"] = false;\r\n              await this.setState({ data });\r\n            }\r\n            j++;\r\n          }\r\n        }\r\n        i++;\r\n      }\r\n      data_list[index][\"updateWorkCalcFlag\"] = false;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { data_list, staffListPopup, staffList, meta, activeRow } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4 mt-2 product-details\">\r\n          <div className=\"row\">\r\n            <div className=\"col-10\">\r\n              <h4>{t(\"Staff Selection\")}</h4>\r\n            </div>\r\n            {data_list && data_list.length > 0 ? (\r\n              <div className=\"col-md-2\">\r\n                <NormalButton\r\n                  mainbg={false}\r\n                  className=\"col-12 fs-15 submit-btn\"\r\n                  label=\"Done\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div className=\"row pl-3 pr-5 mt-2 fw-500 h6\">\r\n            <div className=\"col-3\">{`Item`}</div>\r\n            <div className=\"col-1 text-center\">{`Qty`}</div>\r\n            <div className=\"col text-right\">{`Unit Price`}</div>\r\n            <div className=\"col text-right\">{`Disc $`}</div>\r\n            <div className=\"col text-right\">{`D/Price`}</div>\r\n            <div className=\"col text-right\">{`Amount`}</div>\r\n            <div className=\"col text-right\">{`Deposit`}</div>\r\n          </div>\r\n          <div className=\"row pl-5 pr-5 mt-4 overflow-auto\">\r\n            {data_list &&\r\n              data_list.length > 0 &&\r\n              data_list.map((item, index) => {\r\n                return (\r\n                  <div className=\"row  mb-2\" key={index}>\r\n                    <div\r\n                      className={`row rounded p-2 accordion-menu border staff ${\r\n                        activeRow == item.id ? \"border-primary\" : \"\"\r\n                      }`}\r\n                      onClick={() => this.handleAccordion(item.id, index)}\r\n                    >\r\n                      <div className=\"col-3\">{item.itemdesc}</div>\r\n                      <div className=\"col-1 text-center\">\r\n                        {item.quantity}\r\n                        {/* <NormalInput\r\n                          name=\"quantity\"\r\n                          type=\"number\"\r\n                          value={item.quantity}\r\n                          onChange={e => this.handleChange(e, index)}\r\n                        /> */}\r\n                      </div>\r\n                      <div className=\"col text-right\">{item.price}</div>\r\n                      <div className=\"col text-right\">{item.totl_disc}</div>\r\n                      <div className=\"col text-right\">\r\n                        {item.discount_price}\r\n                      </div>\r\n                      <div className=\"col text-right\">{item.trans_amt}</div>\r\n                      <div className=\"col text-right\">{item.deposit}</div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row  rounded bg-light p-1 d-none accordion\"\r\n                      id={item.id}\r\n                    >\r\n                      <div className=\"mb-3\">\r\n                        <table className=\"table\" style={{ marginRight: 10 }}>\r\n                          <thead>\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"border-top-0 border-bottom-0 salesstaff-background\"\r\n                                colSpan=\"1\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15 fw-500\"\r\n                                      label=\"Add\"\r\n                                      onClick={() =>\r\n                                        this.handleAddNewStaff(index, 1, item)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-left border-top-0 border-bottom-0 salesstaff-background\"\r\n                                colSpan=\"3\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-6\">\r\n                                    {t(\"Sales staff\")}\r\n                                  </div>\r\n\r\n                                  <div className=\"col\">\r\n                                    {item.updateSalesCalcFlag ? (\r\n                                      <NormalButton\r\n                                        mainbg={true}\r\n                                        className=\"col-12 top-0\"\r\n                                        label=\"Calc\"\r\n                                        onClick={() =>\r\n                                          this.handleSalesPercentCalcUpdate(\r\n                                            index\r\n                                          )\r\n                                        }\r\n                                      />\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )}\r\n                                  </div>\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 top-0\"\r\n                                      label=\"Auto\"\r\n                                      onClick={() =>\r\n                                        this.handleSalesStaffCalc(index)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"border-top-0 border-bottom-0 workstaff-background\"\r\n                                colSpan=\"1\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15 fw-500\"\r\n                                      label=\"Add\"\r\n                                      onClick={() =>\r\n                                        this.handleAddNewStaff(index, 0, item)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-top-0 border-bottom-0 workstaff-background\"\r\n                                colSpan=\"3\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-5\">{t(\"Work staff\")}</div>\r\n                                  <div className=\"col\">\r\n                                    {item.updateWorkCalcFlag ? (\r\n                                      <NormalButton\r\n                                        mainbg={true}\r\n                                        className=\"col-12 top-0\"\r\n                                        label=\"Calc\"\r\n                                        onClick={() =>\r\n                                          this.handleWorkPercentCalcUpdate(\r\n                                            index\r\n                                          )\r\n                                        }\r\n                                      />\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )}\r\n                                  </div>\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12\"\r\n                                      label=\"Auto\"\r\n                                      onClick={() =>\r\n                                        this.handleWorkStaffCalc(index)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th rowSpan=\"2\">{t(\"Action\")}</th>\r\n                            </tr>\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"\r\n                              >\r\n                                {t(\"Staff\")}\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"\r\n                              >\r\n                                % ({`100`})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"\r\n                              >\r\n                                $ ({item.trans_amt})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 salesstaff-background\"\r\n                              >\r\n                                SP ({item.sales_point})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 workstaff-background\"\r\n                              >\r\n                                {t(\"Staff\")}\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 workstaff-background\"\r\n                              >\r\n                                % ({`100`})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0 workstaff-background\"\r\n                              >\r\n                                $ (\r\n                                {item.type.toUpperCase() == \"DEPOSIT\" &&\r\n                                item.div == \"3\"\r\n                                  ? item.work_amount\r\n                                  : item.trans_amt}\r\n                                )\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-top-0 border-bottom-0 workstaff-background\"\r\n                              >\r\n                                {t(\"WP\")} ({item.work_point})\r\n                              </th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {data_list[index].data.length <= 0 ? (\r\n                              <tr>\r\n                                <div className=\"d-flex justify-content-center\">\r\n                                  {t(\"No record found\")}\r\n                                </div>\r\n                              </tr>\r\n                            ) : null}\r\n                            {data_list[index].data.map((data, index2) => {\r\n                              return (\r\n                                <tr key={index2}>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center d-none workstaff-background\"\r\n                                  >\r\n                                    <NormalCheckbox\r\n                                      type=\"checkbox\"\r\n                                      checked={data.sales}\r\n                                      name=\"sales\"\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center d-none\"\r\n                                  >\r\n                                    <NormalCheckbox\r\n                                      type=\"checkbox\"\r\n                                      checked={data.work}\r\n                                      name=\"work\"\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right salesstaff-background\"\r\n                                  >\r\n                                    <label className=\"text-left text-black common-label-text pb-2\">\r\n                                      {data.staff}\r\n                                    </label>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right salesstaff-background\"\r\n                                  >\r\n                                    <div className=\"d-flex flex-nowrap\">\r\n                                      <div className=\"col-9\">\r\n                                        <NormalInput\r\n                                          name=\"sales_percentage\"\r\n                                          type=\"number\"\r\n                                          value={\r\n                                            data.sales && data.sales_percentage\r\n                                              ? data.sales_percentage\r\n                                              : \"\"\r\n                                          }\r\n                                          onChange={e =>\r\n                                            this.handleStaffChange(\r\n                                              e,\r\n                                              index,\r\n                                              index2\r\n                                            )\r\n                                          }\r\n                                          disabled={data.sales ? false : true}\r\n                                        />\r\n                                      </div>\r\n                                      <div className=\"col-3\">\r\n                                        <NormalCheckbox\r\n                                          type=\"checkbox\"\r\n                                          checked={\r\n                                            data.priceSalesFlag ? true : false\r\n                                          }\r\n                                          name=\"priceSalesFlag\"\r\n                                          onChange={e =>\r\n                                            this.handleSalesStaffPriceChange(\r\n                                              e,\r\n                                              index,\r\n                                              index2\r\n                                            )\r\n                                          }\r\n                                        />\r\n                                      </div>\r\n                                    </div>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right salesstaff-background\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sales_amount\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.sales && data.sales_amount\r\n                                          ? data.sales_amount\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right salesstaff-background\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sp\"\r\n                                      type=\"number\"\r\n                                      value={data.sp}\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right workstaff-background\"\r\n                                  >\r\n                                    <label className=\"text-left text-black common-label-text pb-2\">\r\n                                      {data.staff}\r\n                                    </label>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right workstaff-background\"\r\n                                  >\r\n                                    <div className=\"d-flex flex-nowrap\">\r\n                                      <div className=\"col-9\">\r\n                                        <NormalInput\r\n                                          name=\"work_percentage\"\r\n                                          type=\"number\"\r\n                                          value={\r\n                                            data.work && data.work_percentage\r\n                                              ? data.work_percentage\r\n                                              : \"\"\r\n                                          }\r\n                                          onChange={e =>\r\n                                            this.handleStaffChange(\r\n                                              e,\r\n                                              index,\r\n                                              index2\r\n                                            )\r\n                                          }\r\n                                          disabled={data.work ? false : true}\r\n                                        />\r\n                                      </div>\r\n                                      <div className=\"col-3\">\r\n                                        <NormalCheckbox\r\n                                          type=\"checkbox\"\r\n                                          checked={\r\n                                            data.priceWorkFlag ? true : false\r\n                                          }\r\n                                          name=\"priceWorkFlag\"\r\n                                          onChange={e =>\r\n                                            this.handleWorkStaffPriceChange(\r\n                                              e,\r\n                                              index,\r\n                                              index2\r\n                                            )\r\n                                          }\r\n                                        />\r\n                                      </div>\r\n                                    </div>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right workstaff-background\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"work_amount\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.work && data.work_amount\r\n                                          ? data.work_amount\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center workstaff-background\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"wp\"\r\n                                      type=\"number\"\r\n                                      value={data.wp}\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th>\r\n                                    <div\r\n                                      className=\"col-12 p-0 fs-18 text-center cursor-pointer\"\r\n                                      onClick={e =>\r\n                                        this.handleDeleteStaff(e, index, index2)\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-delete\"></span>\r\n                                    </div>\r\n                                  </th>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n          {data_list && data_list.length <= 0 ? (\r\n            <div className=\"row pl-5 pr-5 mt-4\">{t(\"No Record Found\")}</div>\r\n          ) : null}\r\n          <NormalModal\r\n            className={\"stock-memo-staff-listing\"}\r\n            style={{ minWidth: \"75%\" }}\r\n            modal={staffListPopup}\r\n            handleModal={this.handleEmployeePopup}\r\n          >\r\n            <img\r\n              onClick={this.handleEmployeePopup}\r\n              className=\"close\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <StaffList\r\n              staffList={staffList}\r\n              meta={meta}\r\n              handleNext={() => this.handleNext()}\r\n              handleBack={() => this.handleBack()}\r\n              handleSelectedStaff={item => this.handleSelectedStaff(item)}\r\n            />\r\n          </NormalModal>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const StaffSelectionPopup = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(StaffSelectionPopupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}