{"ast":null,"code":"import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,TableWrapper,NormalCheckbox,NormalInput,NormalModal,InputSearch}from\"component/common\";import{withTranslation}from\"react-i18next\";import{AppointmentGroups,NewAppointmentGroups,updateCommon}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Toast}from\"service/toast\";import{BsPencilSquare}from\"react-icons/bs\";import closeIcon from\"assets/images/close.png\";export var AppointmentgroupClass=/*#__PURE__*/function(_Component){_inherits(AppointmentgroupClass,_Component);var _super=_createSuper(AppointmentgroupClass);function AppointmentgroupClass(){var _this;_classCallCheck(this,AppointmentgroupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={AppointDetails:[{label:\"Code\",sortKey:\"apptGroupCode\",enabled:true,id:\"apptGroupCode\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"apptGroupCode\");}},{label:\"Description\",sortKey:\"apptGroupDesc\",enabled:true,id:\"apptGroupDesc\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"apptGroupDesc\");}},{label:\"Active\",sortKey:\"apptGroupIsactive\",enabled:true,id:\"apptGroupIsactive\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"apptGroupIsactive\");}},{label:\"Action\",divClass:\"justify-content-center\"}],List:[],is_loading:false,isAboutPopModal:false,isNewdescPopModal:false,newid:null,newval:null,editid:null,editval:null,search:\"\",filterdata:[],activeitem:true};_this.componentDidMount=function(){_this.Listofappointgroup({});};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleSort=function(sortkey,order){var _this$state=_this.state,List=_this$state.List,headerDetails=_this$state.headerDetails,orderBy=_this$state.orderBy;_this.setState({orderBy:_this.state.orderBy==\"asc\"?\"desc\":\"asc\"});console.log(\"che\");if(orderBy===\"asc\"){List.sort(function(a,b){return a[sortkey]>b[sortkey]?1:b[sortkey]>a[sortkey]?-1:0;});}else{List.sort(function(a,b){return a[sortkey]<b[sortkey]?1:b[sortkey]<a[sortkey]?-1:0;});}_this.setState({List:List});};_this.handledesc=function(_ref){var _ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;console.log(name);var _this$state2=_this.state,editval=_this$state2.editval,newid=_this$state2.newid;if(name=\"desc\"){editval=value;_this.setState({editval:editval});}if(name=\"newid\"){newid=value;_this.setState({newid:newid});}};_this.handledescription=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var newval=_this.state.newval;if(name=\"newdescval\"){newval=value;_this.setState({newval:newval});}};_this.Listofappointgroup=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.updateState({is_loading:true});_context.next=3;return _this.props.AppointmentGroups().then(function(res){console.log(res);var List=_this.state.List;List=res;console.log(List);_this.setState({List:List,is_loading:false});console.log(List.length);});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.createdesc=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,val){var newval,newreason;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(val==null)){_context2.next=4;break;}Toast({type:\"error\",message:\"Description required\"});_context2.next=11;break;case 4:newval=_this.state.newval;newreason={apptGroupCode:id,apptGroupDesc:val,apptGroupIsactive:true};_context2.next=8;return _this.props.NewAppointmentGroups(newreason).then(function(data){_this.Listofappointgroup({});Toast({type:\"success\",message:\"Successfully Added\"});}).catch(function(e){return console.log(e);});case 8:_this.newdescpopup();newval=\"\";_this.setState({newval:newval});case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}();_this.finaldesc=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,desc){var _this$state3,editval,newval,newid,activeitem,descJson;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$state3=_this.state,editval=_this$state3.editval,newval=_this$state3.newval,newid=_this$state3.newid,activeitem=_this$state3.activeitem;descJson={apptGroupCode:id,apptGroupDesc:desc,apptGroupSequence:0,apptGroupIsactive:activeitem};_context3.next=4;return _this.props.updateCommon(\"AppointmentGroups/update?where=%7B%22apptGroupCode%22%3A%20%22\".concat(id,\"%22%7D\\n\\n    \"),descJson).then(function(data){_this.Listofappointgroup({});Toast({type:\"success\",message:\"Updated Successfully\"});});case 4:_this.aboutpopup();editval=\"\";newval=\"\";newid=\"\";_this.setState({editval:editval,newval:newval,newid:newid});case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3,_x4){return _ref5.apply(this,arguments);};}();_this.handlecheckbox=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){var List,i,descJson;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:List=_this.state.List;i=0;case 2:if(!(i<=List.length-1)){_context4.next=11;break;}if(!(List[i].apptGroupCode==item)){_context4.next=8;break;}List[i].apptGroupIsactive=!List[i].apptGroupIsactive;descJson={apptGroupCode:List[i].apptGroupCode,apptGroupDesc:List[i].apptGroupDesc,apptGroupSequence:0,apptGroupIsactive:List[i].apptGroupIsactive};_context4.next=8;return _this.props.updateCommon(\"AppointmentGroups/update?where=%7B%22apptGroupCode%22%3A%20%22\".concat(item,\"%22%7D\\n\\n    \"),descJson).then(function(data){_this.Listofappointgroup({});Toast({type:\"success\",message:\"Updated Successfully\"});});case 8:i++;_context4.next=2;break;case 11:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref6.apply(this,arguments);};}();_this.filterByName=function(_ref7){var _ref7$target=_ref7.target,value=_ref7$target.value,name=_ref7$target.name;console.log(value,name);var _this$state4=_this.state,List=_this$state4.List,filterdata=_this$state4.filterdata,search=_this$state4.search;if(name==\"search\"){search=value;_this.setState({search:search});}if(search!==\"\"){filterdata=List.filter(function(item){return Object.values(item).join(\"\").toLowerCase().includes(search.toLowerCase());});}_this.setState({filterdata:filterdata});console.log(filterdata);};return _this;}_createClass(AppointmentgroupClass,[{key:\"aboutpopup\",value:function aboutpopup(){this.setState({isAboutPopModal:!this.state.isAboutPopModal});}//Sorting\n},{key:\"newdescpopup\",value:function newdescpopup(){var _this$state5=this.state,List=_this$state5.List,newid=_this$state5.newid,te=_this$state5.te;if(List.length>0){te=List[List.length-1].apptGroupCode;te=te.slice(te.length-6);newid=Number(te)+1;newid=\"AG\"+newid;}else{newid=100001;}this.setState({isNewdescPopModal:!this.state.isNewdescPopModal,newid:newid});}},{key:\"handleEdit\",value:function handleEdit(id,desc,check){var _this$state6=this.state,editid=_this$state6.editid,editval=_this$state6.editval,activeitem=_this$state6.activeitem;editid=id;editval=desc;activeitem=check;console.log(editid,editval);this.setState({editid:editid,editval:editval,activeitem:activeitem});this.aboutpopup();}},{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,AppointDetails=_this$state7.AppointDetails,List=_this$state7.List,is_loading=_this$state7.is_loading,isAboutPopModal=_this$state7.isAboutPopModal,editid=_this$state7.editid,editval=_this$state7.editval,newid=_this$state7.newid,newval=_this$state7.newval,isNewdescPopModal=_this$state7.isNewdescPopModal,search=_this$state7.search,filterdata=_this$state7.filterdata;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid department-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"itemmaster-container col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"head-label\"},t(\"Appointment Group\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mt-3\"},t(\"List of Appointment Group\")),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-7 mt-3\"},/*#__PURE__*/React.createElement(InputSearch,_defineProperty({placeholder:t(\"Search\"),onChange:this.filterByName},\"placeholder\",\"Search by  Code / Description\")))),search.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:AppointDetails},is_loading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):filterdata.length>0?filterdata.map(function(_ref8,index){var apptGroupCode=_ref8.apptGroupCode,apptGroupDesc=_ref8.apptGroupDesc,apptGroupIsactive=_ref8.apptGroupIsactive;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},apptGroupCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},apptGroupDesc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},/*#__PURE__*/React.createElement(NormalCheckbox,{checked:apptGroupIsactive,name:\"checked\",onChange:function onChange(){return _this2.handlecheckbox(apptGroupCode);}}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-center cursor-pointer\"},/*#__PURE__*/React.createElement(BsPencilSquare,{size:20,onClick:function onClick(){return _this2.handleEdit(apptGroupCode,apptGroupDesc,apptGroupIsactive);}}))));}):null)))):/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:AppointDetails},is_loading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):List.length>0?List.map(function(_ref9,index){var apptGroupCode=_ref9.apptGroupCode,apptGroupDesc=_ref9.apptGroupDesc,apptGroupIsactive=_ref9.apptGroupIsactive;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},apptGroupCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},apptGroupDesc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},/*#__PURE__*/React.createElement(NormalCheckbox,{checked:apptGroupIsactive,name:\"checked\",onChange:function onChange(){return _this2.handlecheckbox(apptGroupCode);}}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-center cursor-pointer\"},/*#__PURE__*/React.createElement(BsPencilSquare,{size:20,onClick:function onClick(){return _this2.handleEdit(apptGroupCode,apptGroupDesc,apptGroupIsactive);}}))));}):null)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\",style:{width:100}},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Add Row\",onClick:function onClick(){return _this2.newdescpopup();}}))),/*#__PURE__*/React.createElement(NormalModal,{className:\"retail-price-modal\",style:{minWidth:\"500px\"},modal:isAboutPopModal,handleModal:function handleModal(){return _this2.aboutpopup();}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"heading\"},/*#__PURE__*/React.createElement(\"h5\",null,\" EDIT DESCRIPTION \")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.aboutpopup();},className:\"close\",src:closeIcon,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Code\"),/*#__PURE__*/React.createElement(NormalInput,{value:editid,disabled:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(\"p\",null,\"Description\"),/*#__PURE__*/React.createElement(NormalInput,{value:editval,name:\"desc\",onChange:this.handledesc})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Cancel\",onClick:function onClick(){return _this2.aboutpopup();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Done\",onClick:function onClick(){return _this2.finaldesc(editid,editval);}})))))),/*#__PURE__*/React.createElement(NormalModal,{className:\"retail-price-modal\",style:{minWidth:\"500px\"},modal:isNewdescPopModal,handleModal:function handleModal(){return _this2.newdescpopup();}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"heading\"},/*#__PURE__*/React.createElement(\"h5\",null,\" ADD Appointment Group \")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.newdescpopup();},className:\"close\",src:closeIcon,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Code\"),/*#__PURE__*/React.createElement(NormalInput,{value:newid,name:\"newid\",onChange:this.handledesc,disabled:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(\"p\",null,\"Description\"),/*#__PURE__*/React.createElement(NormalInput,{value:newval,name:\"newdescval\",onChange:this.handledescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Cancel\",onClick:function onClick(){return _this2.newdescpopup();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(NormalButton,{normal:true,label:\"Done\",onClick:function onClick(){return _this2.createdesc(newid,newval);}})))))));}}]);return AppointmentgroupClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({AppointmentGroups:AppointmentGroups,NewAppointmentGroups:NewAppointmentGroups,updateCommon:updateCommon},dispatch);};export var Appointmentgroup=withTranslation()(connect(null,mapDispatchToProps)(AppointmentgroupClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Appointment Config/Appointmentgroup/index.js"],"names":["React","Component","NormalButton","TableWrapper","NormalCheckbox","NormalInput","NormalModal","InputSearch","withTranslation","AppointmentGroups","NewAppointmentGroups","updateCommon","connect","bindActionCreators","Toast","BsPencilSquare","closeIcon","AppointmentgroupClass","state","AppointDetails","label","sortKey","enabled","id","singleClickFunc","handleSort","divClass","List","is_loading","isAboutPopModal","isNewdescPopModal","newid","newval","editid","editval","search","filterdata","activeitem","componentDidMount","Listofappointgroup","updateState","data","isMounted","setState","sortkey","order","headerDetails","orderBy","console","log","sort","a","b","handledesc","target","value","name","handledescription","props","then","res","length","createdesc","val","type","message","newreason","apptGroupCode","apptGroupDesc","apptGroupIsactive","catch","e","newdescpopup","finaldesc","desc","descJson","apptGroupSequence","aboutpopup","handlecheckbox","item","i","filterByName","filter","Object","values","join","toLowerCase","includes","te","slice","Number","check","t","map","index","handleEdit","width","minWidth","mapDispatchToProps","dispatch","Appointmentgroup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  TableWrapper,\r\n  NormalCheckbox,\r\n  NormalInput,\r\n  NormalModal,\r\n  InputSearch,\r\n} from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  AppointmentGroups,\r\n  NewAppointmentGroups,\r\n  updateCommon,\r\n} from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Toast } from \"service/toast\";\r\nimport { BsPencilSquare } from \"react-icons/bs\";\r\nimport closeIcon from \"assets/images/close.png\";\r\n\r\nexport class AppointmentgroupClass extends Component {\r\n  state = {\r\n    AppointDetails: [\r\n      {\r\n        label: \"Code\",\r\n        sortKey: \"apptGroupCode\",\r\n        enabled: true,\r\n        id: \"apptGroupCode\",\r\n        singleClickFunc: () => this.handleSort(\"apptGroupCode\"),\r\n      },\r\n      {\r\n        label: \"Description\",\r\n        sortKey: \"apptGroupDesc\",\r\n        enabled: true,\r\n        id: \"apptGroupDesc\",\r\n        singleClickFunc: () => this.handleSort(\"apptGroupDesc\"),\r\n      },\r\n      {\r\n        label: \"Active\",\r\n        sortKey: \"apptGroupIsactive\",\r\n        enabled: true,\r\n        id: \"apptGroupIsactive\",\r\n        singleClickFunc: () => this.handleSort(\"apptGroupIsactive\"),\r\n      },\r\n      { label: \"Action\", divClass: \"justify-content-center\" },\r\n    ],\r\n    List: [],\r\n    is_loading: false,\r\n    isAboutPopModal: false,\r\n    isNewdescPopModal: false,\r\n    newid: null,\r\n    newval: null,\r\n    editid: null,\r\n    editval: null,\r\n    search: \"\",\r\n    filterdata: [],\r\n    activeitem: true,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.Listofappointgroup({});\r\n  };\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  aboutpopup() {\r\n    this.setState({\r\n      isAboutPopModal: !this.state.isAboutPopModal,\r\n    });\r\n  }\r\n\r\n  //Sorting\r\n\r\n  handleSort = (sortkey, order) => {\r\n    let { List, headerDetails, orderBy } = this.state;\r\n    this.setState({\r\n      orderBy: this.state.orderBy == \"asc\" ? \"desc\" : \"asc\",\r\n    });\r\n    console.log(\"che\");\r\n    if (orderBy === \"asc\") {\r\n      List.sort((a, b) =>\r\n        a[sortkey] > b[sortkey] ? 1 : b[sortkey] > a[sortkey] ? -1 : 0\r\n      );\r\n    } else {\r\n      List.sort((a, b) =>\r\n        a[sortkey] < b[sortkey] ? 1 : b[sortkey] < a[sortkey] ? -1 : 0\r\n      );\r\n    }\r\n    this.setState({\r\n      List,\r\n    });\r\n  };\r\n\r\n  newdescpopup() {\r\n    let { List, newid, te } = this.state;\r\n    if (List.length > 0) {\r\n      te = List[List.length - 1].apptGroupCode;\r\n      te = te.slice(te.length - 6);\r\n      newid = Number(te) + 1;\r\n      newid = \"AG\" + newid;\r\n    } else {\r\n      newid = 100001;\r\n    }\r\n\r\n    this.setState({\r\n      isNewdescPopModal: !this.state.isNewdescPopModal,\r\n      newid,\r\n    });\r\n  }\r\n\r\n  handledesc = ({ target: { value, name } }) => {\r\n    console.log(name);\r\n    let { editval, newid } = this.state;\r\n\r\n    if ((name = \"desc\")) {\r\n      editval = value;\r\n      this.setState({ editval });\r\n    }\r\n    if ((name = \"newid\")) {\r\n      newid = value;\r\n      this.setState({ newid });\r\n    }\r\n  };\r\n\r\n  handledescription = ({ target: { value, name } }) => {\r\n    let { newval } = this.state;\r\n\r\n    if ((name = \"newdescval\")) {\r\n      newval = value;\r\n      this.setState({ newval });\r\n    }\r\n  };\r\n\r\n  handleEdit(id, desc, check) {\r\n    let { editid, editval, activeitem } = this.state;\r\n    editid = id;\r\n    editval = desc;\r\n    activeitem = check;\r\n    console.log(editid, editval);\r\n    this.setState({\r\n      editid,\r\n      editval,\r\n      activeitem,\r\n    });\r\n    this.aboutpopup();\r\n  }\r\n\r\n  Listofappointgroup = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props.AppointmentGroups().then((res) => {\r\n      console.log(res);\r\n      let { List } = this.state;\r\n\r\n      List = res;\r\n      console.log(List);\r\n      this.setState({\r\n        List,\r\n        is_loading: false,\r\n      });\r\n      console.log(List.length);\r\n    });\r\n  };\r\n\r\n  createdesc = async (id, val) => {\r\n    if (val == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Description required\",\r\n      });\r\n    } else {\r\n      let { newval } = this.state;\r\n      let newreason = {\r\n        apptGroupCode: id,\r\n        apptGroupDesc: val,\r\n        apptGroupIsactive: true,\r\n      };\r\n      await this.props\r\n        .NewAppointmentGroups(newreason)\r\n        .then((data) => {\r\n          this.Listofappointgroup({});\r\n          Toast({\r\n            type: \"success\",\r\n            message: \"Successfully Added\",\r\n          });\r\n        })\r\n        .catch((e) => console.log(e));\r\n      this.newdescpopup();\r\n      newval = \"\";\r\n      this.setState({ newval });\r\n    }\r\n  };\r\n\r\n  finaldesc = async (id, desc) => {\r\n    let { editval, newval, newid, activeitem } = this.state;\r\n    let descJson = {\r\n      apptGroupCode: id,\r\n      apptGroupDesc: desc,\r\n      apptGroupSequence: 0,\r\n      apptGroupIsactive: activeitem,\r\n    };\r\n    await this.props\r\n      .updateCommon(\r\n        `AppointmentGroups/update?where=%7B%22apptGroupCode%22%3A%20%22${id}%22%7D\r\n\r\n    `,\r\n        descJson\r\n      )\r\n      .then((data) => {\r\n        this.Listofappointgroup({});\r\n        Toast({\r\n          type: \"success\",\r\n          message: \"Updated Successfully\",\r\n        });\r\n      });\r\n    this.aboutpopup();\r\n    editval = \"\";\r\n    newval = \"\";\r\n    newid = \"\";\r\n    this.setState({ editval, newval, newid });\r\n  };\r\n\r\n  handlecheckbox = async (item) => {\r\n    let { List } = this.state;\r\n    for (let i = 0; i <= List.length - 1; i++) {\r\n      if (List[i].apptGroupCode == item) {\r\n        List[i].apptGroupIsactive = !List[i].apptGroupIsactive;\r\n        let descJson = {\r\n          apptGroupCode: List[i].apptGroupCode,\r\n          apptGroupDesc: List[i].apptGroupDesc,\r\n          apptGroupSequence: 0,\r\n          apptGroupIsactive: List[i].apptGroupIsactive,\r\n        };\r\n        await this.props\r\n          .updateCommon(\r\n            `AppointmentGroups/update?where=%7B%22apptGroupCode%22%3A%20%22${item}%22%7D\r\n\r\n    `,\r\n            descJson\r\n          )\r\n          .then((data) => {\r\n            this.Listofappointgroup({});\r\n            Toast({\r\n              type: \"success\",\r\n              message: \"Updated Successfully\",\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  //************Searching option **********//\r\n  filterByName = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { List, filterdata, search } = this.state;\r\n    if (name == \"search\") {\r\n      search = value;\r\n      this.setState({ search });\r\n    }\r\n    if (search !== \"\") {\r\n      filterdata = List.filter((item) => {\r\n        return Object.values(item)\r\n          .join(\"\")\r\n          .toLowerCase()\r\n          .includes(search.toLowerCase());\r\n      });\r\n    }\r\n    this.setState({ filterdata });\r\n    console.log(filterdata);\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      AppointDetails,\r\n      List,\r\n      is_loading,\r\n      isAboutPopModal,\r\n      editid,\r\n      editval,\r\n      newid,\r\n      newval,\r\n      isNewdescPopModal,\r\n      search,\r\n      filterdata,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid department-container\">\r\n          <div className=\"row\">\r\n            <div className={\"itemmaster-container col-12\"}>\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md\">\r\n                  <h4 className=\"head-label\">{t(\"Appointment Group\")}</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"tab-table-content\">\r\n                <div className=\"d-flex\">\r\n                  <p className=\"mt-3\">{t(\"List of Appointment Group\")}</p>\r\n                  <div className=\"w-100 col-7 mt-3\">\r\n                    <InputSearch\r\n                      placeholder={t(\"Search\")}\r\n                      onChange={this.filterByName}\r\n                      placeholder=\"Search by  Code / Description\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {search.length > 0 ? (\r\n                  <div className=\"tab-table-content\">\r\n                    <div className=\"py-4\">\r\n                      <div className=\"table-container\">\r\n                        <TableWrapper headerDetails={AppointDetails}>\r\n                          {is_loading ? (\r\n                            <tr>\r\n                              <td colSpan=\"7\">\r\n                                <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                                  <div class=\"spinner-border\" role=\"status\">\r\n                                    <span class=\"sr-only\">Loading...</span>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ) : filterdata.length > 0 ? (\r\n                            filterdata.map(\r\n                              (\r\n                                {\r\n                                  apptGroupCode,\r\n                                  apptGroupDesc,\r\n                                  apptGroupIsactive,\r\n                                },\r\n                                index\r\n                              ) => {\r\n                                return (\r\n                                  <tr key={index}>\r\n                                    <td>\r\n                                      <div className=\"text-left\">\r\n                                        {apptGroupCode}\r\n                                      </div>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div className=\"text-left\">\r\n                                        {apptGroupDesc}\r\n                                      </div>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div className=\"text-left\">\r\n                                        <NormalCheckbox\r\n                                          checked={apptGroupIsactive}\r\n                                          name=\"checked\"\r\n                                          onChange={() =>\r\n                                            this.handlecheckbox(apptGroupCode)\r\n                                          }\r\n                                        />\r\n                                      </div>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div className=\"text-center cursor-pointer\">\r\n                                        <BsPencilSquare\r\n                                          size={20}\r\n                                          onClick={() =>\r\n                                            this.handleEdit(\r\n                                              apptGroupCode,\r\n                                              apptGroupDesc,\r\n                                              apptGroupIsactive\r\n                                            )\r\n                                          }\r\n                                        />\r\n                                      </div>\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              }\r\n                            )\r\n                          ) : null}\r\n                        </TableWrapper>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"py-4\">\r\n                    <div className=\"table-container\">\r\n                      <TableWrapper headerDetails={AppointDetails}>\r\n                        {is_loading ? (\r\n                          <tr>\r\n                            <td colSpan=\"7\">\r\n                              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                                <div class=\"spinner-border\" role=\"status\">\r\n                                  <span class=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ) : List.length > 0 ? (\r\n                          List.map(\r\n                            (\r\n                              {\r\n                                apptGroupCode,\r\n                                apptGroupDesc,\r\n                                apptGroupIsactive,\r\n                              },\r\n                              index\r\n                            ) => {\r\n                              return (\r\n                                <tr key={index}>\r\n                                  <td>\r\n                                    <div className=\"text-left\">\r\n                                      {apptGroupCode}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"text-left\">\r\n                                      {apptGroupDesc}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"text-left\">\r\n                                      <NormalCheckbox\r\n                                        checked={apptGroupIsactive}\r\n                                        name=\"checked\"\r\n                                        onChange={() =>\r\n                                          this.handlecheckbox(apptGroupCode)\r\n                                        }\r\n                                      />\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"text-center cursor-pointer\">\r\n                                      <BsPencilSquare\r\n                                        size={20}\r\n                                        onClick={() =>\r\n                                          this.handleEdit(\r\n                                            apptGroupCode,\r\n                                            apptGroupDesc,\r\n                                            apptGroupIsactive\r\n                                          )\r\n                                        }\r\n                                      />\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }\r\n                          )\r\n                        ) : null}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-3\" style={{ width: 100 }}>\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"Add Row\"}\r\n              onClick={() => this.newdescpopup()}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <NormalModal\r\n          className={\"retail-price-modal\"}\r\n          style={{ minWidth: \"500px\" }}\r\n          modal={isAboutPopModal}\r\n          handleModal={() => this.aboutpopup()}\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"heading\">\r\n              <h5> EDIT DESCRIPTION </h5>\r\n            </div>\r\n\r\n            <div>\r\n              <img\r\n                onClick={() => this.aboutpopup()}\r\n                className=\"close\"\r\n                src={closeIcon}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"content\">\r\n              <div>\r\n                <p>Code</p>\r\n                <NormalInput value={editid} disabled={true} />\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <p>Description</p>\r\n                <NormalInput\r\n                  value={editval}\r\n                  name=\"desc\"\r\n                  onChange={this.handledesc}\r\n                />\r\n              </div>\r\n              <div className=\"d-flex mt-4\">\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Cancel\"\r\n                    onClick={() => this.aboutpopup()}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Done\"\r\n                    onClick={() => this.finaldesc(editid, editval)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"retail-price-modal\"}\r\n          style={{ minWidth: \"500px\" }}\r\n          modal={isNewdescPopModal}\r\n          handleModal={() => this.newdescpopup()}\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"heading\">\r\n              <h5> ADD Appointment Group </h5>\r\n            </div>\r\n\r\n            <div>\r\n              <img\r\n                onClick={() => this.newdescpopup()}\r\n                className=\"close\"\r\n                src={closeIcon}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"content\">\r\n              <div>\r\n                <p>Code</p>\r\n                <NormalInput\r\n                  value={newid}\r\n                  name=\"newid\"\r\n                  onChange={this.handledesc}\r\n                  disabled={true}\r\n                />\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <p>Description</p>\r\n                <NormalInput\r\n                  value={newval}\r\n                  name=\"newdescval\"\r\n                  onChange={this.handledescription}\r\n                />\r\n              </div>\r\n              <div className=\"d-flex mt-4\">\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Cancel\"\r\n                    onClick={() => this.newdescpopup()}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <NormalButton\r\n                    normal={true}\r\n                    label=\"Done\"\r\n                    onClick={() => this.createdesc(newid, newval)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      AppointmentGroups,\r\n      NewAppointmentGroups,\r\n      updateCommon,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Appointmentgroup = withTranslation()(\r\n  connect(null, mapDispatchToProps)(AppointmentgroupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}