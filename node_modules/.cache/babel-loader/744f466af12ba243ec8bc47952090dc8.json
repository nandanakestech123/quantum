{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalTextarea}from\"component/common\";import{updateEmpInfo,getStaffPlus}from\"redux/actions/staffPlus\";import{getCommonApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{withTranslation}from\"react-i18next\";export var EmployeeInfoClass=/*#__PURE__*/function(_Component){_inherits(EmployeeInfoClass,_Component);var _super=_createSuper(EmployeeInfoClass);function EmployeeInfoClass(){var _this;_classCallCheck(this,EmployeeInfoClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{display_name:\"\",emp_name:\"\",emp_phone1:\"\",emp_address:\"\",Emp_sexesid:\"\",emp_nric:\"\",emp_race:\"\",Emp_nationalityid:\"\",emp_country:\"\",Emp_maritalid:\"\",Emp_religionid:\"\",emp_emer:\"\",emp_emerno:\"\",emp_remarks:\"\"},sexOption:[{value:1,label:\"Male\"},{value:2,label:\"Female\"}],raceList:[],nationalityList:[],maritialStatusList:[{value:1,label:\"Single\"},{value:2,label:\"Married\"}],religionList:[],countryList:[],is_loading:false,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getDetails=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.updateState({is_loading:true});_context.next=3;return _this.props.getStaffPlus(\"\".concat(_this.props.match.params.id,\"/\")).then(function(res){_this.setDataFromStore();});case 3:_context.next=5;return _this.props.getCommonApi(\"meta/religion/\").then(function(res){var religionList=_this.state.religionList;var _iterator=_createForOfIteratorHelper(res.religions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;religionList.push({value:key.itm_id,label:key.itm_name});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.updateState({religionList:religionList});});case 5:_context.next=7;return _this.props.getCommonApi(\"meta/nationality/\").then(function(res){var nationalityList=_this.state.nationalityList;var _iterator2=_createForOfIteratorHelper(res.nationalities),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;nationalityList.push({value:key.itm_id,label:key.itm_name});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.updateState({nationalityList:nationalityList});});case 7:_context.next=9;return _this.props.getCommonApi(\"meta/race/\").then(function(res){var raceList=_this.state.raceList;var _iterator3=_createForOfIteratorHelper(res.races),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;raceList.push({value:key.itm_id,label:key.itm_name});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.updateState({raceList:raceList});});case 9:_context.next=11;return _this.props.getCommonApi(\"meta/country/\").then(function(res){var countryList=_this.state.countryList;var _iterator4=_createForOfIteratorHelper(res.countries),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;countryList.push({value:key.itm_id,label:key.itm_desc});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.updateState({countryList:countryList});});case 11:_this.updateState({is_loading:false});case 12:case\"end\":return _context.stop();}}},_callee);}));_this.setDataFromStore=function(){var staffPlusDetail=_this.props.staffPlusDetail;var formFields=_this.state.formFields;formFields[\"emp_name\"]=staffPlusDetail.emp_name;formFields[\"display_name\"]=staffPlusDetail.display_name;formFields[\"emp_nric\"]=staffPlusDetail.emp_nric;formFields[\"emp_phone1\"]=staffPlusDetail.emp_phone1;formFields[\"emp_address\"]=staffPlusDetail.emp_address;formFields[\"Emp_sexesid\"]=staffPlusDetail.Emp_sexesid;formFields[\"emp_race\"]=staffPlusDetail.emp_race;formFields[\"Emp_maritalid\"]=staffPlusDetail.Emp_maritalid;formFields[\"Emp_nationalityid\"]=staffPlusDetail.Emp_nationalityid;formFields[\"Emp_religionid\"]=staffPlusDetail.Emp_religionid;formFields[\"emp_country\"]=staffPlusDetail.emp_country;formFields[\"emp_emer\"]=staffPlusDetail.emp_emer;formFields[\"emp_emerno\"]=staffPlusDetail.emp_emerno;formFields[\"emp_remarks\"]=staffPlusDetail.emp_remarks;_this.updateState({formFields:formFields});};_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formFields=_this.state.formFields;formFields[name]=value;_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}();_this.handleInput=function(_ref4){var _ref4$target=_ref4.target,name=_ref4$target.name,value=_ref4$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value===true?1:value;_this.updateState({formFields:formFields});};_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var formFields,formData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!_this.validator.allValid()){_context3.next=26;break;}_context3.prev=1;_this.updateState({is_loading:true});formFields=_this.state.formFields;formData=new FormData();formData.append(\"emp_phone1\",formFields.emp_phone1);formData.append(\"emp_address\",formFields.emp_address);formData.append(\"Emp_sexesid\",formFields.Emp_sexesid);formData.append(\"emp_race\",formFields.emp_race);formData.append(\"Emp_maritalid\",formFields.Emp_maritalid);formData.append(\"Emp_nationalityid\",formFields.Emp_nationalityid);formData.append(\"Emp_religionid\",formFields.Emp_religionid);formData.append(\"emp_country\",formFields.emp_country);formData.append(\"emp_emer\",formFields.emp_emer);formData.append(\"emp_emerno\",formFields.emp_emerno);formData.append(\"emp_remarks\",formFields.emp_remarks);_context3.next=18;return _this.props.updateEmpInfo(_this.props.match.params.id,formData).then(function(res){console.log(res);if(res.status===200){window.location.reload();}});case 18:_context3.next=23;break;case 20:_context3.prev=20;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 23:_this.updateState({is_loading:true});_context3.next=27;break;case 26:_this.validator.showMessages();case 27:case\"end\":return _context3.stop();}}},_callee3,null,[[1,20]]);}));_this.handleChangeBox=function(event){var formFields=Object.assign({},_this.state.formFields);console.log(formFields,\"oyokkjk\",event.target.name,event.target);formFields[event.target.name]=event.target.checked;_this.updateState({formFields:formFields});};return _this;}_createClass(EmployeeInfoClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.validator=new SimpleReactValidator({validators:{contactNumber:{message:\"The :attribute must be a valid format.\",rule:function rule(val,params,validator){return validator.helpers.testRegex(val,/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&params.indexOf(val)===-1;},messageReplace:function messageReplace(message,params){return message.replace(\"\",_this2.helpers.toSentence(params));},required:true}},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});this.getDetails();}// get data from apis\n},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,formFields=_this$state.formFields,sexOption=_this$state.sexOption,raceList=_this$state.raceList,nationalityList=_this$state.nationalityList,maritialStatusList=_this$state.maritialStatusList,religionList=_this$state.religionList,countryList=_this$state.countryList,is_loading=_this$state.is_loading;var emp_name=formFields.emp_name,emp_nric=formFields.emp_nric,display_name=formFields.display_name,emp_phone1=formFields.emp_phone1,emp_address=formFields.emp_address,Emp_sexesid=formFields.Emp_sexesid,emp_race=formFields.emp_race,Emp_nationalityid=formFields.Emp_nationalityid,emp_country=formFields.emp_country,Emp_maritalid=formFields.Emp_maritalid,Emp_religionid=formFields.Emp_religionid,emp_emer=formFields.emp_emer,emp_emerno=formFields.emp_emerno,emp_remarks=formFields.emp_remarks;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5 container create-staff\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category fw-500\",onClick:this.props.history.push(\"/admin/staffplus\")},t(\"Staff\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"Edit Employee Information\"))),is_loading?/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},t(\"Loading...\")))):/*#__PURE__*/React.createElement(\"div\",{className:\"staff-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Name\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\":\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},emp_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"NRIC\"),\" / \",t(\"WP\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\":\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},emp_nric)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"User name\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\":\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},display_name)))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Phone\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_phone1,name:\"emp_phone1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Address\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_address,name:\"emp_address\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Gender\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:sexOption,value:Emp_sexesid,name:\"Emp_sexesid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Race\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:raceList,value:emp_race,name:\"emp_race\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Nationality\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:nationalityList,value:Emp_nationalityid,name:\"Emp_nationalityid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Marital Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:maritialStatusList,value:Emp_maritalid,name:\"Emp_maritalid\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Religion\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:religionList,value:Emp_religionid,name:\"Emp_religionid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Country\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:countryList,value:emp_country,name:\"emp_country\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Emergency Person\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_emer,name:\"emp_emer\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Emergency Phone\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_emerno,name:\"emp_emerno\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},t(\"Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalTextarea,{value:emp_remarks,name:\"emp_remarks\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"border-bottom-line\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/staffplus\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Cancel\",danger:true,className:\"mr-2 col-12\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this3.handleSubmit();},label:\"Save\",success:true,className:\"mr-2 col-12\"})))));}}]);return EmployeeInfoClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{staffPlusDetail:state.staffPlus.staffPlusDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getStaffPlus:getStaffPlus,updateEmpInfo:updateEmpInfo,getCommonApi:getCommonApi},dispatch);};export var EmployeeInfo=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(EmployeeInfoClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/StaffPlus/EmployeeInfo/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalTextarea","updateEmpInfo","getStaffPlus","getCommonApi","connect","bindActionCreators","withTranslation","EmployeeInfoClass","state","formFields","display_name","emp_name","emp_phone1","emp_address","Emp_sexesid","emp_nric","emp_race","Emp_nationalityid","emp_country","Emp_maritalid","Emp_religionid","emp_emer","emp_emerno","emp_remarks","sexOption","value","label","raceList","nationalityList","maritialStatusList","religionList","countryList","is_loading","isMounted","updateState","data","setState","getDetails","props","match","params","id","then","res","setDataFromStore","religions","key","push","itm_id","itm_name","nationalities","races","countries","itm_desc","staffPlusDetail","handleChange","target","name","Object","assign","handleDatePick","handleInput","handleSubmit","validator","allValid","formData","FormData","append","console","log","status","window","location","reload","showMessages","handleChangeBox","event","checked","validators","contactNumber","message","rule","val","helpers","testRegex","indexOf","messageReplace","replace","toSentence","required","element","autoForceUpdate","t","history","mapStateToProps","staffPlus","mapDispatchToProps","dispatch","EmployeeInfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { updateEmpInfo, getStaffPlus } from \"redux/actions/staffPlus\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class EmployeeInfoClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      display_name: \"\",\r\n      emp_name: \"\",\r\n      emp_phone1: \"\",\r\n      emp_address: \"\",\r\n      Emp_sexesid: \"\",\r\n      emp_nric: \"\",\r\n      emp_race: \"\",\r\n      Emp_nationalityid: \"\",\r\n      emp_country: \"\",\r\n      Emp_maritalid: \"\",\r\n      Emp_religionid: \"\",\r\n      emp_emer: \"\",\r\n      emp_emerno: \"\",\r\n      emp_remarks: \"\",\r\n    },\r\n    sexOption: [\r\n      { value: 1, label: \"Male\" },\r\n      { value: 2, label: \"Female\" },\r\n    ],\r\n    raceList: [],\r\n    nationalityList: [],\r\n    maritialStatusList: [\r\n      { value: 1, label: \"Single\" },\r\n      { value: 2, label: \"Married\" },\r\n    ],\r\n    religionList: [],\r\n    countryList: [],\r\n    is_loading: false,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {\r\n        contactNumber: {\r\n          message: \"The :attribute must be a valid format.\",\r\n          rule: (val, params, validator) => {\r\n            return (\r\n              validator.helpers.testRegex(\r\n                val,\r\n                /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/\r\n              ) && params.indexOf(val) === -1\r\n            );\r\n          },\r\n          messageReplace: (message, params) =>\r\n            message.replace(\"\", this.helpers.toSentence(params)),\r\n          required: true,\r\n        },\r\n      },\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n\r\n    this.getDetails();\r\n  }\r\n\r\n  // get data from apis\r\n  getDetails = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props\r\n      .getStaffPlus(`${this.props.match.params.id}/`)\r\n      .then(res => {\r\n        this.setDataFromStore();\r\n      });\r\n    await this.props.getCommonApi(\"meta/religion/\").then(res => {\r\n      let { religionList } = this.state;\r\n      for (let key of res.religions) {\r\n        religionList.push({ value: key.itm_id, label: key.itm_name });\r\n      }\r\n      this.updateState({ religionList });\r\n    });\r\n    await this.props.getCommonApi(\"meta/nationality/\").then(res => {\r\n      let { nationalityList } = this.state;\r\n      for (let key of res.nationalities) {\r\n        nationalityList.push({ value: key.itm_id, label: key.itm_name });\r\n      }\r\n      this.updateState({ nationalityList });\r\n    });\r\n    await this.props.getCommonApi(\"meta/race/\").then(res => {\r\n      let { raceList } = this.state;\r\n      for (let key of res.races) {\r\n        raceList.push({ value: key.itm_id, label: key.itm_name });\r\n      }\r\n      this.updateState({ raceList });\r\n    });\r\n    await this.props.getCommonApi(\"meta/country/\").then(res => {\r\n      let { countryList } = this.state;\r\n      for (let key of res.countries) {\r\n        countryList.push({ value: key.itm_id, label: key.itm_desc });\r\n      }\r\n      this.updateState({ countryList });\r\n    });\r\n    this.updateState({ is_loading: false });\r\n  };\r\n\r\n  // set data to formfield from response while edit\r\n  setDataFromStore = () => {\r\n    let { staffPlusDetail } = this.props;\r\n    let { formFields } = this.state;\r\n    formFields[\"emp_name\"] = staffPlusDetail.emp_name;\r\n    formFields[\"display_name\"] = staffPlusDetail.display_name;\r\n    formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\r\n    formFields[\"emp_phone1\"] = staffPlusDetail.emp_phone1;\r\n    formFields[\"emp_address\"] = staffPlusDetail.emp_address;\r\n    formFields[\"Emp_sexesid\"] = staffPlusDetail.Emp_sexesid;\r\n    formFields[\"emp_race\"] = staffPlusDetail.emp_race;\r\n    formFields[\"Emp_maritalid\"] = staffPlusDetail.Emp_maritalid;\r\n    formFields[\"Emp_nationalityid\"] = staffPlusDetail.Emp_nationalityid;\r\n    formFields[\"Emp_religionid\"] = staffPlusDetail.Emp_religionid;\r\n    formFields[\"emp_country\"] = staffPlusDetail.emp_country;\r\n    formFields[\"emp_emer\"] = staffPlusDetail.emp_emer;\r\n    formFields[\"emp_emerno\"] = staffPlusDetail.emp_emerno;\r\n    formFields[\"emp_remarks\"] = staffPlusDetail.emp_remarks;\r\n    this.updateState({ formFields });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleInput = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[name] = value === true ? 1 : value;\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // submit to create/update staff\r\n  handleSubmit = async () => {\r\n    if (this.validator.allValid()) {\r\n      try {\r\n        this.updateState({ is_loading: true });\r\n        let { formFields } = this.state;\r\n        const formData = new FormData();\r\n        formData.append(\"emp_phone1\", formFields.emp_phone1);\r\n        formData.append(\"emp_address\", formFields.emp_address);\r\n        formData.append(\"Emp_sexesid\", formFields.Emp_sexesid);\r\n        formData.append(\"emp_race\", formFields.emp_race);\r\n        formData.append(\"Emp_maritalid\", formFields.Emp_maritalid);\r\n        formData.append(\"Emp_nationalityid\", formFields.Emp_nationalityid);\r\n        formData.append(\"Emp_religionid\", formFields.Emp_religionid);\r\n        formData.append(\"emp_country\", formFields.emp_country);\r\n        formData.append(\"emp_emer\", formFields.emp_emer);\r\n        formData.append(\"emp_emerno\", formFields.emp_emerno);\r\n        formData.append(\"emp_remarks\", formFields.emp_remarks);\r\n        await this.props\r\n          .updateEmpInfo(this.props.match.params.id, formData)\r\n          .then(res => {\r\n            console.log(res);\r\n            if (res.status === 200) {\r\n              window.location.reload();\r\n            }\r\n          });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      this.updateState({ is_loading: true });\r\n    } else {\r\n      this.validator.showMessages();\r\n    }\r\n  };\r\n\r\n  handleChangeBox = event => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    console.log(formFields, \"oyokkjk\", event.target.name, event.target);\r\n    formFields[event.target.name] = event.target.checked;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      sexOption,\r\n      raceList,\r\n      nationalityList,\r\n      maritialStatusList,\r\n      religionList,\r\n      countryList,\r\n      is_loading,\r\n    } = this.state;\r\n\r\n    let {\r\n      emp_name,\r\n      emp_nric,\r\n      display_name,\r\n      emp_phone1,\r\n      emp_address,\r\n      Emp_sexesid,\r\n      emp_race,\r\n      Emp_nationalityid,\r\n      emp_country,\r\n      Emp_maritalid,\r\n      Emp_religionid,\r\n      emp_emer,\r\n      emp_emerno,\r\n      emp_remarks,\r\n    } = formFields;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5 container create-staff\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category fw-500\"\r\n            onClick={this.props.history.push(\"/admin/staffplus\")}\r\n          >\r\n            {t(\"Staff\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">{t(\"Edit Employee Information\")}</p>\r\n        </div>\r\n        {is_loading ? (\r\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n            <div class=\"spinner-border\" role=\"status\">\r\n              <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"staff-detail\">\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Name\")}\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    :\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {emp_name}\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"NRIC\")} / {t(\"WP\")}\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    :\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {emp_nric}\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"User name\")}\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    :\r\n                  </label>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {display_name}\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Phone\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={emp_phone1}\r\n                      name=\"emp_phone1\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Address\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={emp_address}\r\n                      name=\"emp_address\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Gender\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      // placeholder=\"Enter here\"\r\n                      options={sexOption}\r\n                      value={Emp_sexesid}\r\n                      name=\"Emp_sexesid\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Race\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      // placeholder=\"Enter here\"\r\n                      options={raceList}\r\n                      value={emp_race}\r\n                      name=\"emp_race\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Nationality\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      // placeholder=\"Enter here\"\r\n                      options={nationalityList}\r\n                      value={Emp_nationalityid}\r\n                      name=\"Emp_nationalityid\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Marital Status\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      // placeholder=\"Enter here\"\r\n                      options={maritialStatusList}\r\n                      value={Emp_maritalid}\r\n                      name=\"Emp_maritalid\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Religion\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      // placeholder=\"Enter here\"\r\n                      options={religionList}\r\n                      value={Emp_religionid}\r\n                      name=\"Emp_religionid\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Country\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      // placeholder=\"Enter here\"\r\n                      options={countryList}\r\n                      value={emp_country}\r\n                      name=\"emp_country\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Emergency Person\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={emp_emer}\r\n                      name=\"emp_emer\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Emergency Phone\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={emp_emerno}\r\n                      name=\"emp_emerno\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                    {t(\"Remarks\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalTextarea\r\n                      value={emp_remarks}\r\n                      name=\"emp_remarks\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-bottom-line\"></div>\r\n            <div className=\"pt-5 d-flex justify-content-center\">\r\n              <div className=\"col-2\">\r\n                <Link to=\"/admin/staffplus\">\r\n                  <NormalButton\r\n                    label=\"Cancel\"\r\n                    danger={true}\r\n                    className=\"mr-2 col-12\"\r\n                  />\r\n                </Link>\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  onClick={() => this.handleSubmit()}\r\n                  label=\"Save\"\r\n                  success={true}\r\n                  className=\"mr-2 col-12\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getStaffPlus,\r\n      updateEmpInfo,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const EmployeeInfo = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(EmployeeInfoClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}