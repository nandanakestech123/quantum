{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\StaffPlus\\\\ListStaffPlus\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport \"./style.scss\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { getStaffPlus, deleteStaffPlus } from \"redux/actions/staffPlus\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { withTranslation } from \"react-i18next\";\nexport class ListStaffPlusClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Status\",\n        sortKey: \"status\"\n      }, {\n        label: \"Staff Name\",\n        sortKey: \"emp_name\"\n      }, {\n        label: \"Phone\",\n        sortKey: \"emp_phone1\"\n      }, {\n        label: \"Staff ID\",\n        sortKey: \"emp_code\"\n      }, {\n        label: \"Specialist\",\n        sortKey: \"services\"\n      }, {\n        label: \"Home site\",\n        sortKey: \"site_code\"\n      }, {\n        label: \"Current site\",\n        sortKey: \"defaultsitecode\"\n      }, {\n        label: \"\"\n      }],\n      originalStaffList: [],\n      staffList: [],\n      filter: \"all\",\n      locationOption: [],\n      levelList: [],\n      jobOption: [],\n      pageMeta: {},\n      selectedMenu: \"/all\",\n      active: false,\n      currentIndex: -1,\n      isLoading: false,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.updateState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleFilterChange = (filterOption = \"\") => {\n      this.state.selectedMenu = filterOption;\n      var splitted = filterOption.split(\"/\");\n      var filter = this.state.filter;\n      console.log(filterOption);\n\n      if (splitted.length == 2) {\n        switch (splitted[1]) {\n          case \"all\":\n            filter = \"all\";\n            break;\n\n          case \"withSecurityAccount\":\n            filter = \"is_login=True\";\n            break;\n\n          case \"withoutSecurityAccount\":\n            filter = \"is_login=False\";\n            break;\n\n          case \"active\":\n            filter = \"emp_isactive=True\";\n            break;\n\n          case \"inactive\":\n            filter = \"emp_isactive=False\";\n            break;\n\n          default:\n            filter = \"\";\n        }\n      } else if (splitted.length == 3) {\n        switch (splitted[1]) {\n          case \"emp_lvl\":\n            filter = `LEVEL_ItmIDid=${splitted[2]}`;\n            break;\n\n          case \"sitelist\":\n            filter = `Site_Codeid=${splitted[2]}`;\n            break;\n\n          case \"operation\":\n            filter = `EMP_TYPEid=${splitted[2]}`;\n            break;\n\n          default:\n            filter = \"\";\n        }\n      }\n\n      if (this.state.filter != filter && filter !== \"\") {\n        this.state.filter = filter;\n        this.queryHandler({});\n      }\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.queryHandler = async data => {\n      var _staffDetails$meta;\n\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      await this.props.getStaffPlus(`?page=${page}&limit=${limit}${this.state.filter === \"all\" ? \"\" : `&${this.state.filter}`}${search == \"\" ? \"\" : `&search=${search}`}`);\n      let {\n        staffDetails\n      } = this.props;\n      let {\n        staffList,\n        pageMeta\n      } = this.state;\n      staffList = staffDetails.dataList;\n      pageMeta = (_staffDetails$meta = staffDetails.meta) === null || _staffDetails$meta === void 0 ? void 0 : _staffDetails$meta.pagination;\n      this.updateState({\n        staffList,\n        originalStaffList: staffList,\n        pageMeta,\n        isLoading: false\n      });\n    };\n\n    this.handlePagination = page => {\n      this.queryHandler(page);\n    };\n\n    this.handlesearch = event => {\n      let searchString = event.target.value;\n      let data = {\n        search: searchString\n      };\n      this.queryHandler(data);\n    };\n\n    this.getDatafromStore = async type => {\n      let {\n        jobtitleList\n      } = this.props;\n      let {\n        jobOption\n      } = this.state;\n\n      if (type === \"jobtitle\") {\n        for (let key of jobtitleList) {\n          jobOption.push({\n            title: key.level_desc,\n            itemId: \"/operation/\" + key.id\n          });\n        }\n      }\n\n      await this.updateState({\n        jobOption\n      });\n    };\n\n    this.handleDeleteStaff = id => {\n      this.props.deleteStaffPlus(`${id}/`).then(res => this.queryHandler({}));\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const filter = queryParams.get(\"filter\");\n\n    if (filter) {\n      this.state.selectedMenu = \"/\" + filter;\n      this.handleFilterChange(this.state.selectedMenu);\n      this.updateState({});\n    } else this.queryHandler({});\n  }\n\n  componentWillMount() {\n    this.props.getCommonApi(\"branchlist/\").then(res => {\n      let {\n        locationOption\n      } = this.state;\n\n      for (let key of res.data) {\n        locationOption.push({\n          title: key.itemsite_desc,\n          itemId: \"/sitelist/\" + key.id\n        });\n      }\n\n      this.updateState({\n        locationOption\n      });\n    }); // level option api\n\n    this.props.getCommonApi(\"securities/\").then(res => {\n      let {\n        levelList\n      } = this.state;\n\n      for (let key of res.data) {\n        levelList.push({\n          itemId: \"/emp_lvl/\" + key.id,\n          title: key.level_name\n        });\n      }\n\n      this.updateState({\n        levelList\n      });\n    }); // jobtitle option api\n\n    this.props.getJobtitle().then(() => {\n      this.getDatafromStore(\"jobtitle\");\n    });\n  } // popup open/close\n\n\n  render() {\n    let {\n      headerDetails,\n      pageMeta,\n      currentIndex,\n      locationOption,\n      levelList,\n      jobOption,\n      staffList,\n      originalStaffList,\n      isLoading,\n      selectedMenu\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/schedule\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Schedule\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/authorization\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Authorization\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/skills\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Skill Listing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-lg-3 mb-4\",\n      style: this.state.isLoading ? {\n        pointerEvents: \"none\",\n        opacity: 0.2\n      } : {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 15\n      }\n    }, t(\"Filters\"))), /*#__PURE__*/React.createElement(Navigation, {\n      activeItemId: selectedMenu,\n      onSelect: ({\n        itemId\n      }) => this.handleFilterChange(itemId),\n      items: [{\n        title: t(\"Show All\"),\n        itemId: \"/all\"\n      }, {\n        title: t(\"Show Active\"),\n        itemId: \"/active\"\n      }, {\n        title: t(\"Show Inactive\"),\n        itemId: \"/inactive\"\n      }, {\n        title: t(\"By Emp Level\"),\n        itemId: \"/emplvl\",\n        subNav: levelList.map(e => {\n          return { ...e,\n            title: t(e.title)\n          };\n        })\n      }, {\n        title: t(\"With Security Account\"),\n        itemId: \"/withSecurityAccount\"\n      }, {\n        title: t(\"Without Security Account\"),\n        itemId: \"/withoutSecurityAccount\"\n      }, {\n        title: t(\"By Site List\"),\n        itemId: \"/sitelist\",\n        subNav: locationOption.map(e => {\n          return { ...e,\n            title: t(e.title)\n          };\n        })\n      }, {\n        title: t(\"By Operation\"),\n        itemId: \"/operation\",\n        subNav: jobOption.map(e => {\n          return { ...e,\n            title: t(e.title)\n          };\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"staffList-container col-xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }, t(\"List of Staffs\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Staff\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 ml-1 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Add Staff\",\n      onClick: () => this.props.history.push(\"/admin/staffplus/add\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: pageMeta,\n      sortData: originalStaffList,\n      onSort: staffList => this.updateState({\n        staffList\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 19\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 31\n      }\n    }, \"Loading...\"))))) : staffList.length > 0 ? staffList.map(({\n      id,\n      emp_name,\n      emp_phone1,\n      emp_code,\n      services,\n      site_code,\n      defaultsitecode,\n      status\n    }, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative status-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: `${status === \"available\" ? \"available\" : \"not-available\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 33\n        }\n      }, emp_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 33\n        }\n      }, emp_phone1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 33\n        }\n      }, emp_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 33\n        }\n      }, services ? services[0] : \"\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 33\n        }\n      }, defaultsitecode)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 33\n        }\n      }, site_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 31\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 39\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pt-3\",\n        onClick: () => this.props.history.push(`/admin/staffPlus/${id}/staffDetails`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 41\n        }\n      }), t(\"View\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14\",\n        onClick: () => this.props.history.push(`/admin/staffPlus/${id}/editStaff`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-edit px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 41\n        }\n      }), t(\"Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pb-3\",\n        onClick: () => this.handleDeleteStaff(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 41\n        }\n      }), t(\"Delete\")))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more text-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 37\n        }\n      }))));\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"palette\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 23\n      }\n    }, t(\"Available today\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color not-available\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 23\n      }\n    }, t(\"Unavailable today\"))))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  jobtitleList: state.common.jobtitleList,\n  staffDetails: state.staffPlus.staffPlusDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getStaffPlus,\n    deleteStaffPlus,\n    getJobtitle,\n    getCommonApi\n  }, dispatch);\n};\n\nexport const ListStaffPlus = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(ListStaffPlusClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/ListStaffPlus/index.js"],"names":["React","NormalButton","InputSearch","TableWrapper","getJobtitle","getCommonApi","getStaffPlus","deleteStaffPlus","connect","bindActionCreators","_","Link","Navigation","withTranslation","ListStaffPlusClass","Component","state","headerDetails","label","sortKey","originalStaffList","staffList","filter","locationOption","levelList","jobOption","pageMeta","selectedMenu","active","currentIndex","isLoading","isMounted","updateState","data","setState","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","handleFilterChange","filterOption","splitted","split","console","log","length","queryHandler","e","node","contains","target","page","limit","search","props","staffDetails","dataList","meta","pagination","handlePagination","handlesearch","event","searchString","value","getDatafromStore","type","jobtitleList","push","title","level_desc","itemId","id","handleDeleteStaff","then","res","componentWillUnmount","componentDidMount","queryParams","URLSearchParams","window","location","get","componentWillMount","itemsite_desc","level_name","render","t","pointerEvents","opacity","subNav","map","history","emp_name","emp_phone1","emp_code","services","site_code","defaultsitecode","status","index","mapStateToProps","common","staffPlus","staffPlusDetail","mapDispatchToProps","dispatch","ListStaffPlus"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport \"./style.scss\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { getStaffPlus, deleteStaffPlus } from \"redux/actions/staffPlus\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { withTranslation } from \"react-i18next\";\n\nexport class ListStaffPlusClass extends React.Component {\n  state = {\n    headerDetails: [\n      { label: \"Status\", sortKey: \"status\" },\n      { label: \"Staff Name\", sortKey: \"emp_name\" },\n      { label: \"Phone\", sortKey: \"emp_phone1\" },\n      { label: \"Staff ID\", sortKey: \"emp_code\" },\n      { label: \"Specialist\", sortKey: \"services\" },\n      { label: \"Home site\", sortKey: \"site_code\" },\n      { label: \"Current site\", sortKey: \"defaultsitecode\" },\n      { label: \"\" },\n    ],\n    originalStaffList: [],\n    staffList: [],\n    filter: \"all\",\n    locationOption: [],\n    levelList: [],\n    jobOption: [],\n    pageMeta: {},\n    selectedMenu: \"/all\",\n    active: false,\n    currentIndex: -1,\n    isLoading: false,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const filter = queryParams.get(\"filter\");\n    if (filter) {\n      this.state.selectedMenu = \"/\" + filter;\n      this.handleFilterChange(this.state.selectedMenu);\n      this.updateState({});\n    } else this.queryHandler({});\n  }\n\n  componentWillMount() {\n    this.props.getCommonApi(\"branchlist/\").then((res) => {\n      let { locationOption } = this.state;\n      for (let key of res.data) {\n        locationOption.push({\n          title: key.itemsite_desc,\n          itemId: \"/sitelist/\" + key.id,\n        });\n      }\n      this.updateState({ locationOption });\n    });\n\n    // level option api\n    this.props.getCommonApi(\"securities/\").then((res) => {\n      let { levelList } = this.state;\n      for (let key of res.data) {\n        levelList.push({ itemId: \"/emp_lvl/\" + key.id, title: key.level_name });\n      }\n      this.updateState({ levelList });\n    });\n\n    // jobtitle option api\n    this.props.getJobtitle().then(() => {\n      this.getDatafromStore(\"jobtitle\");\n    });\n  }\n\n  // popup open/close\n  handleClick = (key) => {\n    if (!this.state.active) {\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\n    } else {\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\n    }\n\n    this.updateState((prevState) => ({\n      active: !prevState.active,\n      currentIndex: key,\n    }));\n  };\n\n  handleFilterChange = (filterOption = \"\") => {\n    this.state.selectedMenu = filterOption;\n    var splitted = filterOption.split(\"/\");\n    var filter = this.state.filter;\n    console.log(filterOption);\n    if (splitted.length == 2) {\n      switch (splitted[1]) {\n        case \"all\":\n          filter = \"all\";\n          break;\n        case \"withSecurityAccount\":\n          filter = \"is_login=True\";\n          break;\n        case \"withoutSecurityAccount\":\n          filter = \"is_login=False\";\n          break;\n        case \"active\":\n          filter = \"emp_isactive=True\";\n          break;\n        case \"inactive\":\n          filter = \"emp_isactive=False\";\n          break;\n        default:\n          filter = \"\";\n      }\n    } else if (splitted.length == 3) {\n      switch (splitted[1]) {\n        case \"emp_lvl\":\n          filter = `LEVEL_ItmIDid=${splitted[2]}`;\n          break;\n        case \"sitelist\":\n          filter = `Site_Codeid=${splitted[2]}`;\n          break;\n        case \"operation\":\n          filter = `EMP_TYPEid=${splitted[2]}`;\n          break;\n        default:\n          filter = \"\";\n      }\n    }\n    if (this.state.filter != filter && filter !== \"\") {\n      this.state.filter = filter;\n      this.queryHandler({});\n    }\n  };\n\n  // while clicking popup close at outside click\n  handleOutsideClick = (e) => {\n    if (this.node != null) {\n      if (this.node.contains(e.target)) {\n        return;\n      }\n    }\n    this.handleClick();\n  };\n\n  // api call for staff\n  queryHandler = async (data) => {\n    this.updateState({ isLoading: true });\n    let { page = 1, limit = 10, search = \"\" } = data;\n    await this.props.getStaffPlus(\n      `?page=${page}&limit=${limit}${\n        this.state.filter === \"all\" ? \"\" : `&${this.state.filter}`\n      }${search == \"\" ? \"\" : `&search=${search}`}`\n    );\n    let { staffDetails } = this.props;\n    let { staffList, pageMeta } = this.state;\n    staffList = staffDetails.dataList;\n    pageMeta = staffDetails.meta?.pagination;\n    this.updateState({\n      staffList,\n      originalStaffList: staffList,\n      pageMeta,\n      isLoading: false,\n    });\n  };\n\n  // pagination\n  handlePagination = (page) => {\n    this.queryHandler(page);\n  };\n\n  // seach change with api call\n  handlesearch = (event) => {\n    let searchString = event.target.value;\n    let data = { search: searchString };\n    this.queryHandler(data);\n  };\n\n  getDatafromStore = async (type) => {\n    let { jobtitleList } = this.props;\n    let { jobOption } = this.state;\n    if (type === \"jobtitle\") {\n      for (let key of jobtitleList) {\n        jobOption.push({\n          title: key.level_desc,\n          itemId: \"/operation/\" + key.id,\n        });\n      }\n    }\n    await this.updateState({\n      jobOption,\n    });\n  };\n\n  // delete api call for staff\n  handleDeleteStaff = (id) => {\n    this.props.deleteStaffPlus(`${id}/`).then((res) => this.queryHandler({}));\n  };\n\n  render() {\n    let {\n      headerDetails,\n      pageMeta,\n      currentIndex,\n      locationOption,\n      levelList,\n      jobOption,\n      staffList,\n      originalStaffList,\n      isLoading,\n      selectedMenu,\n    } = this.state;\n    let { t } = this.props;\n\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row mb-4\">\n          <div className=\"col-md-4 col-lg-2 mb-2\">\n            <Link to=\"/admin/staffplus/schedule\">\n              <NormalButton\n                normal={true}\n                className=\"col-12 fs-15 float-right\"\n                label=\"Schedule\"\n              />\n            </Link>\n          </div>\n          <div className=\"col-md-4 col-lg-2 mb-2\">\n            <Link to=\"/admin/staffplus/authorization\">\n              <NormalButton\n                normal={true}\n                className=\"col-12 fs-15 float-right\"\n                label=\"Authorization\"\n              />\n            </Link>\n          </div>\n          <div className=\"col-md-4 col-lg-2 mb-2\">\n            <Link to=\"/admin/staffplus/skills\">\n              <NormalButton\n                normal={true}\n                className=\"col-12 fs-15 float-right\"\n                label=\"Skill Listing\"\n              />\n            </Link>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div\n            className=\"col-sm-12 col-lg-3 mb-4\"\n            style={\n              this.state.isLoading\n                ? { pointerEvents: \"none\", opacity: 0.2 }\n                : {}\n            }\n          >\n            <div className=\"col-md-4 p-0\">\n              <h4>{t(\"Filters\")}</h4>\n            </div>\n            <Navigation\n              activeItemId={selectedMenu}\n              onSelect={({ itemId }) => this.handleFilterChange(itemId)}\n              items={[\n                {\n                  title: t(\"Show All\"),\n                  itemId: \"/all\",\n                },\n                {\n                  title: t(\"Show Active\"),\n                  itemId: \"/active\",\n                },\n                {\n                  title: t(\"Show Inactive\"),\n                  itemId: \"/inactive\",\n                },\n                {\n                  title: t(\"By Emp Level\"),\n                  itemId: \"/emplvl\",\n                  subNav: levelList.map((e) => {\n                    return { ...e, title: t(e.title) };\n                  }),\n                },\n                {\n                  title: t(\"With Security Account\"),\n                  itemId: \"/withSecurityAccount\",\n                },\n                {\n                  title: t(\"Without Security Account\"),\n                  itemId: \"/withoutSecurityAccount\",\n                },\n                {\n                  title: t(\"By Site List\"),\n                  itemId: \"/sitelist\",\n                  subNav: locationOption.map((e) => {\n                    return { ...e, title: t(e.title) };\n                  }),\n                },\n                {\n                  title: t(\"By Operation\"),\n                  itemId: \"/operation\",\n                  subNav: jobOption.map((e) => {\n                    return { ...e, title: t(e.title) };\n                  }),\n                },\n              ]}\n            />\n          </div>\n          <div className=\"staffList-container col-xl\">\n            <div className=\"row align-items-center\">\n              <div className=\"col-md-4\">\n                <h3>{t(\"List of Staffs\")}</h3>\n              </div>\n              <div className=\"col-md-8\">\n                <div className=\"d-flex justify-content-between\">\n                  <div className=\"w-100 col-8\">\n                    <InputSearch\n                      className=\"\"\n                      placeholder=\"Search Staff\"\n                      onChange={this.handlesearch}\n                    />\n                  </div>\n                  <div className=\"w-100 col-4 ml-1 p-0\">\n                    <NormalButton\n                      mainbg={true}\n                      className=\"col-12 fs-15 float-right\"\n                      label=\"Add Staff\"\n                      onClick={() =>\n                        this.props.history.push(\"/admin/staffplus/add\")\n                      }\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"tab-table-content\">\n              <div className=\"py-4\">\n                <div className=\"table-container\">\n                  <TableWrapper\n                    headerDetails={headerDetails}\n                    queryHandler={this.handlePagination}\n                    pageMeta={pageMeta}\n                    sortData={originalStaffList}\n                    onSort={(staffList) => this.updateState({ staffList })}\n                  >\n                    {isLoading ? (\n                      <tr>\n                        <td colSpan=\"7\">\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                            <div class=\"spinner-border\" role=\"status\">\n                              <span class=\"sr-only\">Loading...</span>\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                    ) : staffList.length > 0 ? (\n                      staffList.map(\n                        (\n                          {\n                            id,\n                            emp_name,\n                            emp_phone1,\n                            emp_code,\n                            services,\n                            site_code,\n                            defaultsitecode,\n                            status,\n                          },\n                          index\n                        ) => {\n                          return (\n                            <tr key={index}>\n                              <td className=\"position-relative status-type\">\n                                <span\n                                  className={`${\n                                    status === \"available\"\n                                      ? \"available\"\n                                      : \"not-available\"\n                                  }`}\n                                ></span>\n                              </td>\n                              <td>\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {emp_name}\n                                </div>\n                              </td>\n                              <td>\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {emp_phone1}\n                                </div>\n                              </td>\n                              <td>\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {emp_code}\n                                </div>\n                              </td>\n                              {/* <td><div className=\"d-flex align-items-center justify-content-center\"></div></td> */}\n                              <td>\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {services ? services[0] : \"\"}\n                                </div>\n                              </td>\n                              <td>\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {defaultsitecode}\n                                </div>\n                              </td>\n                              <td>\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {site_code}\n                                </div>\n                              </td>\n                              <td\n                                className=\"position-relative\"\n                                ref={(node) => {\n                                  this.node = node;\n                                }}\n                                onClick={() => this.handleClick(index)}\n                              >\n                                {currentIndex === index ? (\n                                  <>\n                                    <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\n                                      <i className=\"icon-more\"></i>\n                                    </div>\n                                    <div className=\"option card\">\n                                      <div\n                                        className=\"d-flex align-items-center fs-14 pt-3\"\n                                        onClick={() =>\n                                          this.props.history.push(\n                                            `/admin/staffPlus/${id}/staffDetails`\n                                          )\n                                        }\n                                      >\n                                        <span className=\"icon-eye-grey px-3\"></span>\n                                        {t(\"View\")}\n                                      </div>\n                                      <div\n                                        className=\"d-flex align-items-center fs-14\"\n                                        onClick={() =>\n                                          this.props.history.push(\n                                            `/admin/staffPlus/${id}/editStaff`\n                                          )\n                                        }\n                                      >\n                                        <span className=\"icon-edit px-3\"></span>\n                                        {t(\"Edit\")}\n                                      </div>\n                                      <div\n                                        className=\"d-flex align-items-center fs-14 pb-3\"\n                                        onClick={() =>\n                                          this.handleDeleteStaff(id)\n                                        }\n                                      >\n                                        <span className=\"icon-delete px-3\"></span>\n                                        {t(\"Delete\")}\n                                      </div>\n                                    </div>\n                                  </>\n                                ) : (\n                                  <div className=\"d-flex align-items-center justify-content-center horizontal-more\">\n                                    <i className=\"icon-more text-grey\"></i>\n                                  </div>\n                                )}\n                              </td>\n                            </tr>\n                          );\n                        }\n                      )\n                    ) : (\n                      \"\"\n                    )}\n                  </TableWrapper>\n                  <div className=\"palette\">\n                    <div className=\"color-detail\">\n                      <div className=\"color\"></div>\n                      <div className=\"detail\">{t(\"Available today\")}</div>\n                    </div>\n                    <div className=\"color-detail\">\n                      <div className=\"color not-available\"></div>\n                      <div className=\"detail\">{t(\"Unavailable today\")}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  jobtitleList: state.common.jobtitleList,\n  staffDetails: state.staffPlus.staffPlusDetail,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getStaffPlus,\n      deleteStaffPlus,\n      getJobtitle,\n      getCommonApi,\n    },\n    dispatch\n  );\n};\n\nexport const ListStaffPlus = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(ListStaffPlusClass)\n);\n"]},"metadata":{},"sourceType":"module"}