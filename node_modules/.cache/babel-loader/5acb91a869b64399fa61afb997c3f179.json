{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _defineProperty from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalInput,NormalButton}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonUpdateApi,commonPatchApi}from\"redux/actions/common\";import SimpleReactValidator from\"simple-react-validator\";import{Toast}from\"service/toast\";import\"./style.scss\";export var PrepaidPopupClass=/*#__PURE__*/function(_Component){_inherits(PrepaidPopupClass,_Component);var _super=_createSuper(PrepaidPopupClass);function PrepaidPopupClass(){var _this;_classCallCheck(this,PrepaidPopupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:null,itemdesc:\"\",quantity:1,price:\"\",trans_amt:\"\",deposit:\"\",prepaid_value:\"\",isopen_prepaid:false,bonus:\"\"};_this.componentWillMount=function(){_this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){_this.getPrepaidInfo();};_this.handleClear=function(){_this.setState({id:null,itemdesc:\"\",quantity:1,price:\"\",trans_amt:\"\",deposit:\"\",prepaid_value:\"\",isopen_prepaid:false,bonus:\"\"});};_this.getPrepaidInfo=function(){var _this$state=_this.state,id=_this$state.id,itemdesc=_this$state.itemdesc,quantity=_this$state.quantity,price=_this$state.price,trans_amt=_this$state.trans_amt,deposit=_this$state.deposit,prepaid_value=_this$state.prepaid_value,isopen_prepaid=_this$state.isopen_prepaid,bonus=_this$state.bonus;_this.props.getCommonApi(\"cartprepaid/\".concat(_this.props.cartId,\"/\")).then(function(key){var status=key.status,data=key.data;console.log(data,\"cartprepaidgetdata\");if(status==\"200\"){if(data){id=data.id;itemdesc=data.itemdesc;quantity=data.quantity;price=data.price;trans_amt=Number(data.price-data.deposit);deposit=data.deposit;prepaid_value=data.prepaid_value;isopen_prepaid=data.isopen_prepaid;bonus=Number(data.prepaid_value-data.price);_this.setState({id:id,itemdesc:itemdesc,quantity:quantity,price:price,trans_amt:trans_amt,deposit:deposit,prepaid_value:prepaid_value,isopen_prepaid:isopen_prepaid,bonus:bonus});}}});};_this.handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$target,value,name;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;_this.setState(_defineProperty({},name,value));case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleApply=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state2,discountFields,unit_price_after_discount,discount_price_txt,is_percentage,body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state2=_this.state,discountFields=_this$state2.discountFields,unit_price_after_discount=_this$state2.unit_price_after_discount,discount_price_txt=_this$state2.discount_price_txt,is_percentage=_this$state2.is_percentage;if(!(Number(discount_price_txt)>0)){_context2.next=42;break;}if(!(Number(is_percentage)==1)){_context2.next=19;break;}if(!(discountFields.disc_reason&&discountFields.disc_reason!=\"\")){_context2.next=15;break;}if(!(Number(discountFields.disc_reason)!=182||Number(discountFields.disc_reason)==182&&discountFields.discreason_txt!=\"\")){_context2.next=11;break;}discountFields[\"discount_amt\"]=Number(Number(unit_price_after_discount).toFixed(2)/100*Number(discount_price_txt)).toFixed(2);discountFields[\"discount\"]=Number(Number(discountFields[\"discount_amt\"]).toFixed(2)/Number(unit_price_after_discount).toFixed(2)*100).toFixed(2);_context2.next=9;return _this.setState({discountFields:discountFields});case 9:_context2.next=13;break;case 11:Toast({type:\"error\",message:\"Please Enter Discount Reason Text\"});return _context2.abrupt(\"return\",false);case 13:_context2.next=17;break;case 15:Toast({type:\"error\",message:\"Please select Discount Reason\"});return _context2.abrupt(\"return\",false);case 17:_context2.next=38;break;case 19:if(!(Number(is_percentage)==2)){_context2.next=36;break;}if(!(discountFields.disc_reason&&discountFields.disc_reason!=\"\")){_context2.next=32;break;}if(!(Number(discountFields.disc_reason)!=182||Number(discountFields.disc_reason)==182&&discountFields.discreason_txt!=\"\")){_context2.next=28;break;}discountFields[\"discount_amt\"]=Number(discount_price_txt).toFixed(2);discountFields[\"discount\"]=null;_context2.next=26;return _this.setState({discountFields:discountFields});case 26:_context2.next=30;break;case 28:Toast({type:\"error\",message:\"Please Enter Discount Reason Text\"});return _context2.abrupt(\"return\",false);case 30:_context2.next=34;break;case 32:Toast({type:\"error\",message:\"Please select Discount Reason\"});return _context2.abrupt(\"return\",false);case 34:_context2.next=38;break;case 36:Toast({type:\"error\",message:\"Please select Discount Type\"});return _context2.abrupt(\"return\",false);case 38:body={discount:Number(discountFields.discount),discount_amt:Number(discountFields.discount_amt),disc_reason:Number(discountFields.disc_reason),discreason_txt:discountFields.discreason_txt};_this.props.commonUpdateApi(\"itemcart/\".concat(_this.props.cartId,\"/?disc_add=1&disc_reset=0\"),body).then(function(key){_this.handleClear();_this.getDiscountInfo();_this.getDiscountReasons();});_context2.next=44;break;case 42:Toast({type:\"error\",message:\"Discount should be greater than zero\"});return _context2.abrupt(\"return\",false);case 44:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleSubmit=function(){var _this$state3=_this.state,id=_this$state3.id,price=_this$state3.price,prepaid_value=_this$state3.prepaid_value,deposit=_this$state3.deposit;if(Number(deposit)>Number(price)){Toast({type:\"error\",message:\"Deposit amount should be less than or equal to price\"});return;}else{var body={};if(_this.validator.allValid()){body={id:id,price:price,prepaid_value:prepaid_value,deposit:deposit};_this.props.commonPatchApi(\"cartprepaid/\".concat(_this.props.cartId,\"/\"),body).then(function(key){var status=key.status;console.log(key,\"response for submit\");if(status==\"200\"){_this.props.handleModal();}});}else{_this.validator.showMessages();}}};_this.handleDepositAmountChange=function(){var _this$state4=_this.state,price=_this$state4.price,deposit=_this$state4.deposit,trans_amt=_this$state4.trans_amt;trans_amt=Number(price)-Number(deposit);_this.setState({trans_amt:trans_amt});};_this.handleAmountChange=function(){var _this$state5=_this.state,price=_this$state5.price,bonus=_this$state5.bonus,prepaid_value=_this$state5.prepaid_value,deposit=_this$state5.deposit,trans_amt=_this$state5.trans_amt;prepaid_value=Number(price)+Number(bonus);deposit=price;trans_amt=Number(price)-Number(deposit);_this.setState({prepaid_value:prepaid_value,deposit:deposit,trans_amt:trans_amt});};_this.handlePrepaidValueChange=function(){var _this$state6=_this.state,price=_this$state6.price,bonus=_this$state6.bonus,prepaid_value=_this$state6.prepaid_value,deposit=_this$state6.deposit,trans_amt=_this$state6.trans_amt;price=Number(prepaid_value)-Number(bonus);deposit=price;trans_amt=Number(price)-Number(deposit);_this.setState({price:price,deposit:deposit,trans_amt:trans_amt});};return _this;}_createClass(PrepaidPopupClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,id=_this$state7.id,itemdesc=_this$state7.itemdesc,quantity=_this$state7.quantity,price=_this$state7.price,trans_amt=_this$state7.trans_amt,deposit=_this$state7.deposit,prepaid_value=_this$state7.prepaid_value,isopen_prepaid=_this$state7.isopen_prepaid,bonus=_this$state7.bonus;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9 col-12\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-secondary fs-19 fw-500\"},\"Open Prepaid\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:false,className:\"col-12 fs-15 submit-btn\",label:\"Submit\",onClick:function onClick(){return _this2.handleSubmit();}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-5 pr-5 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:itemdesc,name:\"itemdesc\",onChange:this.handleChange,disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:quantity,name:\"quantity\",onChange:function onChange(){},disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Amount\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:price,type:\"number\",name:\"price\",onChange:this.handleChange,onBlur:this.handleAmountChange})),this.validator.message(\"price\",price,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Bonus\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:bonus,type:\"number\",name:\"bonus\",onChange:this.handleChange,onBlur:this.handleAmountChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Value\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:prepaid_value,type:\"number\",name:\"prepaid_value\",onChange:this.handleChange,onBlur:this.handlePrepaidValueChange})),this.validator.message(\"prepaid value\",prepaid_value,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Deposit\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:deposit,type:\"number\",name:\"deposit\",onChange:this.handleChange,onBlur:this.handleDepositAmountChange})),this.validator.message(\"deposit\",deposit,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Outstanding\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_amt,type:\"number\",name:\"trans_amt\",onChange:function onChange(){},disabled:true})))))));}}]);return PrepaidPopupClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonUpdateApi:commonUpdateApi,commonPatchApi:commonPatchApi},dispatch);};export var PrepaidPopup=connect(mapStateToProps,mapDispatchToProps)(PrepaidPopupClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/PrepaidPopup.js"],"names":["React","Component","NormalInput","NormalButton","connect","bindActionCreators","getCommonApi","commonUpdateApi","commonPatchApi","SimpleReactValidator","Toast","PrepaidPopupClass","state","id","itemdesc","quantity","price","trans_amt","deposit","prepaid_value","isopen_prepaid","bonus","componentWillMount","validator","element","message","autoForceUpdate","componentDidMount","getPrepaidInfo","handleClear","setState","props","cartId","then","key","status","data","console","log","Number","handleChange","target","value","name","handleApply","discountFields","unit_price_after_discount","discount_price_txt","is_percentage","disc_reason","discreason_txt","toFixed","type","body","discount","discount_amt","getDiscountInfo","getDiscountReasons","handleSubmit","allValid","handleModal","showMessages","handleDepositAmountChange","handleAmountChange","handlePrepaidValueChange","mapStateToProps","basicApptDetail","appointment","mapDispatchToProps","dispatch","PrepaidPopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalInput, NormalButton } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonUpdateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { Toast } from \"service/toast\";\r\nimport \"./style.scss\";\r\n\r\nexport class PrepaidPopupClass extends Component {\r\n  state = {\r\n    id: null,\r\n    itemdesc: \"\",\r\n    quantity: 1,\r\n    price: \"\",\r\n    trans_amt: \"\",\r\n    deposit: \"\",\r\n    prepaid_value: \"\",\r\n    isopen_prepaid: false,\r\n    bonus: \"\",\r\n  };\r\n  componentWillMount = () => {\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n  componentDidMount = () => {\r\n    this.getPrepaidInfo();\r\n  };\r\n  handleClear = () => {\r\n    this.setState({\r\n      id: null,\r\n      itemdesc: \"\",\r\n      quantity: 1,\r\n      price: \"\",\r\n      trans_amt: \"\",\r\n      deposit: \"\",\r\n      prepaid_value: \"\",\r\n      isopen_prepaid: false,\r\n      bonus: \"\",\r\n    });\r\n  };\r\n\r\n  getPrepaidInfo = () => {\r\n    let {\r\n      id,\r\n      itemdesc,\r\n      quantity,\r\n      price,\r\n      trans_amt,\r\n      deposit,\r\n      prepaid_value,\r\n      isopen_prepaid,\r\n      bonus,\r\n    } = this.state;\r\n    this.props.getCommonApi(`cartprepaid/${this.props.cartId}/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(data, \"cartprepaidgetdata\");\r\n      if (status == \"200\") {\r\n        if (data) {\r\n          id = data.id;\r\n          itemdesc = data.itemdesc;\r\n          quantity = data.quantity;\r\n          price = data.price;\r\n          trans_amt = Number(data.price - data.deposit);\r\n          deposit = data.deposit;\r\n          prepaid_value = data.prepaid_value;\r\n          isopen_prepaid = data.isopen_prepaid;\r\n          bonus = Number(data.prepaid_value - data.price);\r\n          this.setState({\r\n            id,\r\n            itemdesc,\r\n            quantity,\r\n            price,\r\n            trans_amt,\r\n            deposit,\r\n            prepaid_value,\r\n            isopen_prepaid,\r\n            bonus,\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleApply = async () => {\r\n    let {\r\n      discountFields,\r\n      unit_price_after_discount,\r\n      discount_price_txt,\r\n      is_percentage,\r\n    } = this.state;\r\n    if (Number(discount_price_txt) > 0) {\r\n      if (Number(is_percentage) == 1) {\r\n        if (discountFields.disc_reason && discountFields.disc_reason != \"\") {\r\n          if (\r\n            Number(discountFields.disc_reason) != 182 ||\r\n            (Number(discountFields.disc_reason) == 182 &&\r\n              discountFields.discreason_txt != \"\")\r\n          ) {\r\n            discountFields[\"discount_amt\"] = Number(\r\n              (Number(unit_price_after_discount).toFixed(2) / 100) *\r\n                Number(discount_price_txt)\r\n            ).toFixed(2);\r\n\r\n            discountFields[\"discount\"] = Number(\r\n              (Number(discountFields[\"discount_amt\"]).toFixed(2) /\r\n                Number(unit_price_after_discount).toFixed(2)) *\r\n                100\r\n            ).toFixed(2);\r\n            await this.setState({ discountFields });\r\n          } else {\r\n            Toast({\r\n              type: \"error\",\r\n              message: \"Please Enter Discount Reason Text\",\r\n            });\r\n            return false;\r\n          }\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please select Discount Reason\",\r\n          });\r\n          return false;\r\n        }\r\n      } else if (Number(is_percentage) == 2) {\r\n        if (discountFields.disc_reason && discountFields.disc_reason != \"\") {\r\n          if (\r\n            Number(discountFields.disc_reason) != 182 ||\r\n            (Number(discountFields.disc_reason) == 182 &&\r\n              discountFields.discreason_txt != \"\")\r\n          ) {\r\n            discountFields[\"discount_amt\"] =\r\n              Number(discount_price_txt).toFixed(2);\r\n            discountFields[\"discount\"] = null;\r\n            await this.setState({ discountFields });\r\n          } else {\r\n            Toast({\r\n              type: \"error\",\r\n              message: \"Please Enter Discount Reason Text\",\r\n            });\r\n            return false;\r\n          }\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please select Discount Reason\",\r\n          });\r\n          return false;\r\n        }\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Please select Discount Type\",\r\n        });\r\n        return false;\r\n      }\r\n      let body = {\r\n        discount: Number(discountFields.discount),\r\n        discount_amt: Number(discountFields.discount_amt),\r\n        disc_reason: Number(discountFields.disc_reason),\r\n        discreason_txt: discountFields.discreason_txt,\r\n      };\r\n      this.props\r\n        .commonUpdateApi(\r\n          `itemcart/${this.props.cartId}/?disc_add=1&disc_reset=0`,\r\n          body\r\n        )\r\n        .then(key => {\r\n          this.handleClear();\r\n          this.getDiscountInfo();\r\n          this.getDiscountReasons();\r\n        });\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Discount should be greater than zero\",\r\n      });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { id, price, prepaid_value, deposit } = this.state;\r\n    if (Number(deposit) > Number(price)) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Deposit amount should be less than or equal to price\",\r\n      });\r\n      return;\r\n    } else {\r\n      let body = {};\r\n      if (this.validator.allValid()) {\r\n        body = {\r\n          id: id,\r\n          price: price,\r\n          prepaid_value: prepaid_value,\r\n          deposit: deposit,\r\n        };\r\n        this.props\r\n          .commonPatchApi(\r\n            `cartprepaid/${this.props.cartId}/`,\r\n\r\n            body\r\n          )\r\n          .then(key => {\r\n            let { status } = key;\r\n            console.log(key, \"response for submit\");\r\n            if (status == \"200\") {\r\n              this.props.handleModal();\r\n            }\r\n          });\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n    }\r\n  };\r\n\r\n  handleDepositAmountChange = () => {\r\n    let { price, deposit, trans_amt } = this.state;\r\n    trans_amt = Number(price) - Number(deposit);\r\n    this.setState({\r\n      trans_amt,\r\n    });\r\n  };\r\n\r\n  handleAmountChange = () => {\r\n    let { price, bonus, prepaid_value, deposit, trans_amt } = this.state;\r\n    prepaid_value = Number(price) + Number(bonus);\r\n    deposit = price;\r\n    trans_amt = Number(price) - Number(deposit);\r\n    this.setState({\r\n      prepaid_value,\r\n      deposit,\r\n      trans_amt,\r\n    });\r\n  };\r\n  handlePrepaidValueChange = () => {\r\n    let { price, bonus, prepaid_value, deposit, trans_amt } = this.state;\r\n    price = Number(prepaid_value) - Number(bonus);\r\n    deposit = price;\r\n    trans_amt = Number(price) - Number(deposit);\r\n    this.setState({\r\n      price,\r\n      deposit,\r\n      trans_amt,\r\n    });\r\n  };\r\n  render() {\r\n    let {\r\n      id,\r\n      itemdesc,\r\n      quantity,\r\n      price,\r\n      trans_amt,\r\n      deposit,\r\n      prepaid_value,\r\n      isopen_prepaid,\r\n      bonus,\r\n    } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4\">\r\n          <div className=\"row pl-3\">\r\n            <div className=\"col-md-9 col-12\">\r\n              <h6 className=\"text-secondary fs-19 fw-500\">Open Prepaid</h6>\r\n            </div>\r\n            <div className=\"col-md-2 col-12\">\r\n              <NormalButton\r\n                mainbg={false}  \r\n                className=\"col-12 fs-15 submit-btn\"\r\n                label=\"Submit\"\r\n                onClick={() => this.handleSubmit()}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row pl-5 pr-5 mt-4\">\r\n            <div className=\"row mb-3\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Name\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={itemdesc}\r\n                    name=\"itemdesc\"\r\n                    onChange={this.handleChange}\r\n                    disabled\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-1 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Qty\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={quantity}\r\n                    name=\"quantity\"\r\n                    onChange={() => {}}\r\n                    disabled\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Amount\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={price}\r\n                    type=\"number\"\r\n                    name=\"price\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handleAmountChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"price\", price, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-2 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Bonus\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={bonus}\r\n                    type=\"number\"\r\n                    name=\"bonus\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handleAmountChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Value\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={prepaid_value}\r\n                    type=\"number\"\r\n                    name=\"prepaid_value\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handlePrepaidValueChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"prepaid value\",\r\n                  prepaid_value,\r\n                  \"required\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-2 col-12 mt-2\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Deposit\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={deposit}\r\n                    type=\"number\"\r\n                    name=\"deposit\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handleDepositAmountChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"deposit\", deposit, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-2 col-12 mt-2\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Outstanding\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_amt}\r\n                    type=\"number\"\r\n                    name=\"trans_amt\"\r\n                    onChange={() => {}}\r\n                    disabled\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonUpdateApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const PrepaidPopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PrepaidPopupClass);\r\n"]},"metadata":{},"sourceType":"module"}