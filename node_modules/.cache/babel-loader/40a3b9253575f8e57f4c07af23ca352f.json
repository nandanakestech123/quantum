{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Quantum\\\\ManualInvoice\\\\ManualAddQuotation\\\\PrintInvoiceModule.js\";\nimport React, { Component } from \"react\";\nimport { NormalButton, NormalSelect } from \"component/common\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { history } from \"helpers\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\"; // import { ChangePayment } from \"./ChangePayment\";\n// import { ChangeStaff } from \"./ChangeStaff\";\n\nimport { NormalModal } from \"component/common\";\nimport closeIcon from \"assets/images/close.png\"; // import { ChangeDate } from \"./ChangeDate\";\n\nimport { SignPanel } from \"component/common/SignPanel\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\nimport { withTranslation } from \"react-i18next\"; // import logo from 'assets/images/logo.png'\n\nexport class PrintInvoiceModuleClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      responseData: [],\n      downloadlLink: \"\",\n      isOpenPayment: false,\n      isOpenstaff: false,\n      settingData: {},\n      isOpenDate: false,\n      signPhoto: \"\",\n      isPrintPdfClick: false,\n      selectTemplate: \"\",\n      templates: [],\n      isModalVisibleTemplate: false\n    };\n\n    this.signFunc = () => {\n      this.props.getCommonApi(`quotationsign/?quo_id=${this.props.match.params.id}`).then(res => {\n        console.log(\"responseofprint:\", res);\n\n        if (res.status != 204) {\n          this.setState({\n            signPhoto: res.data[0].quo_sig\n          });\n        }\n      });\n    };\n\n    this.getResponseDate = () => {\n      this.props.getCommonApi(`manualinvoicepdf/?searchid=${this.props.match.params.id}`).then(res => {\n        console.log(\"responseofprint:\", res);\n        this.setState({\n          responseData: res.data\n        });\n      });\n    };\n\n    this.handleSignSaveClick = imgData => {\n      let formData = new FormData();\n      formData.append(\"fk_quotation\", this.props.match.params.id);\n      formData.append(\"quo_sig\", this.dataURLtoFile(imgData, `${this.props.match.params.id}.jpeg`));\n      this.props.commonCreateApi(`quotationsign/`, formData).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 201) {\n          this.signFunc();\n        }\n      });\n    };\n\n    this.dataURLtoFile = (dataurl, filename, mime) => {\n      var arr = dataurl.split(\",\"),\n          mime = arr[0].match(/:(.*?);/)[1],\n          bstr = atob(arr[1]),\n          n = bstr.length,\n          u8arr = new Uint8Array(n);\n\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n\n      return new File([u8arr], filename, {\n        type: mime\n      });\n    };\n\n    this.handlePrintPdfFormat = url => {\n      this.setState({\n        isPrintPdfClick: false\n      }); //var a = document.createElement(\"a\");\n      //a.setAttribute(\"download\", `${new Date()}.pdf`);\n      //a.setAttribute(\"href\", url);\n      //a.click();\n\n      window.open(url);\n    };\n  }\n\n  componentDidMount() {\n    this.getResponseDate();\n    this.signFunc();\n  }\n\n  render() {\n    var _this$state$responseD, _this$state$responseD2, _this$state$responseD3, _this$state$responseD4, _this$state$responseD5, _this$state$responseD6, _this$state$responseD7, _this$state$responseD8, _this$state$responseD9, _this$state$responseD10, _this$state$responseD11, _this$state$responseD12, _this$state$responseD13, _this$state$responseD14, _this$state$responseD15, _this$state$responseD16, _this$state$responseD17;\n\n    let {\n      responseData = []\n    } = this.state;\n    let {\n      sub_data = {},\n      footer = {}\n    } = responseData;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"print-section container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"print-bill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"receipt card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: (_this$state$responseD = this.state.responseData[0]) === null || _this$state$responseD === void 0 ? void 0 : _this$state$responseD.company_header.logo,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"bill-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, (_this$state$responseD2 = this.state.responseData[0]) === null || _this$state$responseD2 === void 0 ? void 0 : _this$state$responseD2.company_header.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"receipt-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, (_this$state$responseD3 = this.state.responseData[0]) === null || _this$state$responseD3 === void 0 ? void 0 : _this$state$responseD3.company_header.address)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bill-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }, \"Invoice No.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD4 = this.state.responseData[0]) === null || _this$state$responseD4 === void 0 ? void 0 : _this$state$responseD4.manualinvoice.manualinv_number)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 23\n      }\n    }, \"Invoice Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD5 = this.state.responseData[0]) === null || _this$state$responseD5 === void 0 ? void 0 : _this$state$responseD5.manualinvoice.created_at)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 23\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD6 = this.state.responseData[0]) === null || _this$state$responseD6 === void 0 ? void 0 : _this$state$responseD6.manualinvoice.status)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }, \"Project\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD7 = this.state.responseData[0]) === null || _this$state$responseD7 === void 0 ? void 0 : _this$state$responseD7.manualinvoice.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 23\n      }\n    }, \"Validity\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD8 = this.state.responseData[0]) === null || _this$state$responseD8 === void 0 ? void 0 : _this$state$responseD8.manualinvoice.validity))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }, \"Terms\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD9 = this.state.responseData[0]) === null || _this$state$responseD9 === void 0 ? void 0 : _this$state$responseD9.manualinvoice.terms)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 23\n      }\n    }, \"Company Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD10 = this.state.responseData[0]) === null || _this$state$responseD10 === void 0 ? void 0 : _this$state$responseD10.manualinvoice.company)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 23\n      }\n    }, \"Attn To\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD11 = this.state.responseData[0]) === null || _this$state$responseD11 === void 0 ? void 0 : _this$state$responseD11.manualinvoice.contact_person)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, \"Prepared By\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 23\n      }\n    }, \": \", (_this$state$responseD12 = this.state.responseData[0]) === null || _this$state$responseD12 === void 0 ? void 0 : _this$state$responseD12.manualinvoice.in_charge)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    }, \"Printed On\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 23\n      }\n    }, new Date().toISOString().slice(0, 10)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bill-detail mt-4 py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0 table-header  f-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }, \"Code\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, \"Unit Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, \"Amount.\")), (_this$state$responseD13 = this.state.responseData[0]) === null || _this$state$responseD13 === void 0 ? void 0 : _this$state$responseD13.manualinvitem.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 mt-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 23\n        }\n      }, item.quotation_itemcode), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 23\n        }\n      }, item.quotation_itemdesc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 23\n        }\n      }, item.quotation_quantity), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 23\n        }\n      }, item.quotation_unitprice), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 23\n        }\n      }, item.quotation_unitprice * item.quotation_quantity));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"payment-detail my-4 fs-14 f-600 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 23\n      }\n    }, \"Shipping Cost :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 23\n      }\n    }, (_this$state$responseD14 = this.state.responseData[0]) === null || _this$state$responseD14 === void 0 ? void 0 : _this$state$responseD14.manualinvdtl.q_shipcost)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, \"Discount :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 23\n      }\n    }, \" \", (_this$state$responseD15 = this.state.responseData[0]) === null || _this$state$responseD15 === void 0 ? void 0 : _this$state$responseD15.manualinvdtl.q_discount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 23\n      }\n    }, \"Taxes :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 23\n      }\n    }, (_this$state$responseD16 = this.state.responseData[0]) === null || _this$state$responseD16 === void 0 ? void 0 : _this$state$responseD16.manualinvdtl.q_taxes)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 23\n      }\n    }, \" Total :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 23\n      }\n    }, (_this$state$responseD17 = this.state.responseData[0]) === null || _this$state$responseD17 === void 0 ? void 0 : _this$state$responseD17.manualinvdtl.q_total))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invoice-footer mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 text-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }\n    }, this.state.signPhoto ? /*#__PURE__*/React.createElement(\"img\", {\n      className: `sigImage`,\n      alt: \"\",\n      src: this.state.signPhoto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(SignPanel, {\n      handleSignSaveClick: imgData => this.handleSignSaveClick(imgData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }), \"Customer Signature\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9 text-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-5 d-flex text-center action-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: () => {\n        this.setState({\n          isPrintPdfClick: true\n        });\n      },\n      label: \"Print\",\n      success: true,\n      className: \"print\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }), this.state.isPrintPdfClick ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n      document: /*#__PURE__*/React.createElement(Invoice, {\n        TableList: this.state.responseData[0],\n        accountHeader: this.state.responseData[0][\"company_header\"],\n        signPhoto: this.state.signPhoto,\n        Flag: 7,\n        landscape: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 23\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 19\n      }\n    }, ({\n      blob,\n      url,\n      loading,\n      error\n    }) => !loading && url ? this.handlePrintPdfFormat(url) : null) : null)))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  appointmentDetail: state.appointment.appointmentDetail,\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const PrintInvoiceModule = connect(mapStateToProps, mapDispatchToProps)(PrintInvoiceModuleClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Quantum/ManualInvoice/ManualAddQuotation/PrintInvoiceModule.js"],"names":["React","Component","NormalButton","NormalSelect","connect","bindActionCreators","history","getCommonApi","commonCreateApi","NormalModal","closeIcon","SignPanel","PDFDownloadLink","Invoice","withTranslation","PrintInvoiceModuleClass","state","responseData","downloadlLink","isOpenPayment","isOpenstaff","settingData","isOpenDate","signPhoto","isPrintPdfClick","selectTemplate","templates","isModalVisibleTemplate","signFunc","props","match","params","id","then","res","console","log","status","setState","data","quo_sig","getResponseDate","handleSignSaveClick","imgData","formData","FormData","append","dataURLtoFile","key","dataurl","filename","mime","arr","split","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","handlePrintPdfFormat","url","window","open","componentDidMount","render","sub_data","footer","t","company_header","logo","name","address","manualinvoice","manualinv_number","created_at","title","validity","terms","company","contact_person","in_charge","Date","toISOString","slice","manualinvitem","map","item","index","quotation_itemcode","quotation_itemdesc","quotation_quantity","quotation_unitprice","manualinvdtl","q_shipcost","q_discount","q_taxes","q_total","blob","loading","error","mapStateToProps","appointmentDetail","appointment","tokenDetails","authStore","mapDispatchToProps","dispatch","PrintInvoiceModule"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from \"helpers\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\n// import { ChangePayment } from \"./ChangePayment\";\r\n// import { ChangeStaff } from \"./ChangeStaff\";\r\nimport { NormalModal } from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\n// import { ChangeDate } from \"./ChangeDate\";\r\n\r\nimport { SignPanel } from \"component/common/SignPanel\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\n// import logo from 'assets/images/logo.png'\r\n\r\nexport class PrintInvoiceModuleClass extends Component {\r\n  state = {\r\n    responseData: [],\r\n    downloadlLink: \"\",\r\n    isOpenPayment: false,\r\n    isOpenstaff: false,\r\n    settingData: {},\r\n    isOpenDate: false,\r\n    signPhoto: \"\",\r\n    isPrintPdfClick: false,\r\n    selectTemplate:\"\",\r\n    templates:[],\r\n    isModalVisibleTemplate:false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getResponseDate();\r\n    this.signFunc();\r\n    \r\n  }\r\n\r\n  signFunc = () => {\r\n    this.props\r\n      .getCommonApi(`quotationsign/?quo_id=${this.props.match.params.id}`)\r\n      .then((res) => {\r\n        console.log(\"responseofprint:\", res);\r\n        if (res.status != 204) {\r\n          this.setState({ signPhoto: res.data[0].quo_sig });\r\n        }\r\n      });\r\n  };\r\n\r\n  getResponseDate =   () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `manualinvoicepdf/?searchid=${this.props.match.params.id}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"responseofprint:\", res);\r\n        this.setState({ responseData: res.data});\r\n      });\r\n  };\r\n\r\n  \r\n  handleSignSaveClick = (imgData) => {   \r\n    let formData = new FormData();\r\n    formData.append(\"fk_quotation\", this.props.match.params.id);\r\n    formData.append(\r\n      \"quo_sig\",\r\n      this.dataURLtoFile(imgData, `${this.props.match.params.id}.jpeg`)\r\n    );\r\n\r\n    this.props.commonCreateApi(`quotationsign/`, formData).then((key) => {\r\n      let { status, data } = key;\r\n      if (status == 201) {\r\n        this.signFunc();\r\n      }\r\n    });\r\n  };\r\n\r\n  dataURLtoFile = (dataurl, filename, mime) => {\r\n    var arr = dataurl.split(\",\"),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n\r\n    return new File([u8arr], filename, { type: mime });\r\n  };\r\n  handlePrintPdfFormat = (url) => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    //var a = document.createElement(\"a\");\r\n    //a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    //a.setAttribute(\"href\", url);\r\n    //a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  \r\n  \r\n  render() {\r\n    let {\r\n      responseData = [],\r\n      \r\n      \r\n    } = this.state;\r\n    let {\r\n      sub_data = {},\r\n      footer = {},\r\n      } = responseData;\r\n      let{t}=this.props;\r\n    return (\r\n      <>\r\n        <div className=\"print-section container\">\r\n          <div className=\"print-bill\">\r\n            <div className=\"receipt card\">\r\n              <div className=\"logo-header\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <div className=\"col-10\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <img\r\n                          src={this.state.responseData[0]?.company_header.logo}\r\n                          alt=\"\"\r\n                        ></img>\r\n                      </div>\r\n                      <div className=\"col-9\">\r\n                        <h3 className=\"bill-head\">\r\n                          {this.state.responseData[0]?.company_header.name}\r\n                        </h3>\r\n                        <p className=\"receipt-detail\">\r\n                          {this.state.responseData[0]?.company_header.address}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-header\">\r\n                <div className=\"row \">\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3 f-600\">Invoice No.</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.manualinv_number}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Invoice Date</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.created_at}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Status</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.status}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Project</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.title}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Validity</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.validity}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Terms</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.terms}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Company Name</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.company}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Attn To</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.contact_person}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Prepared By</div>\r\n                      <div className=\"col-9\">\r\n                        : {this.state.responseData[0]?.manualinvoice.in_charge}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Printed On</div>\r\n                      <div className=\"col-9\">\r\n                        {new Date().toISOString().slice(0, 10)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-detail mt-4 py-1\">\r\n                <div className=\"row m-0 table-header  f-600\">\r\n                  <div className=\"col-2\">Code</div>\r\n                  <div className=\"col-4 text-left\">Description</div>\r\n                  <div className=\"col-2 text-right\">Quantity</div>\r\n                  <div className=\"col-2 text-right\">Unit Price</div>\r\n                  <div className=\"col-2 text-right\">Amount.</div>\r\n                </div>\r\n                {this.state.responseData[0]?.manualinvitem.map((item, index) => {\r\n                  return (\r\n                    <div className=\"row m-0 mt-2\" key={index}>\r\n                      <div className=\"col-2\">{item.quotation_itemcode}</div>\r\n                      <div className=\"col-4 text-left\">\r\n                        {item.quotation_itemdesc}\r\n                      </div>\r\n                      {/* <div className=\"col-2 text-right\">{item.quotation_itemdesc}</div> */}\r\n                      <div className=\"col-2 text-right\">\r\n                        {item.quotation_quantity}\r\n                      </div>\r\n                      <div className=\"col-2 text-right\">\r\n                        {item.quotation_unitprice}\r\n                      </div>\r\n                      <div className=\"col-2 text-right\">\r\n                        {item.quotation_unitprice * item.quotation_quantity}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n               {/*  <div className=\"row table-header sub-total m-0 fs-14 f-600 mt-5\">\r\n                   <div className=\"col-4 text-right\">{sub_data.sub_total}</div> \r\n                  <div className=\"col-4 text-right\"></div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_qty}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_price}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_disc}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_net}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_paid}</div>\r\n                  <div className=\"col-2 d-none\">{sub_data.tot_bal}</div>\r\n                </div>\r\n                */}\r\n              </div>\r\n              <div className=\"payment-detail my-4 fs-14 f-600 mb-5\">\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-7\"></div>                \r\n                  <div className=\"col-5 text-right\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Shipping Cost :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {this.state.responseData[0]?.manualinvdtl.q_shipcost}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Discount :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {\" \"}\r\n                        {this.state.responseData[0]?.manualinvdtl.q_discount}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Taxes :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {this.state.responseData[0]?.manualinvdtl.q_taxes}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\"> Total :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {this.state.responseData[0]?.manualinvdtl.q_total}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* used payment list */}\r\n              </div>\r\n              <div className=\"invoice-footer mt-5\">\r\n                <div className=\"row m-0\">\r\n                <div className=\"col-3 text-center p-1\">\r\n                    {this.state.signPhoto ? (\r\n                      <img\r\n                        className={`sigImage`}\r\n                        alt=\"\"\r\n                        src={this.state.signPhoto}\r\n                      />\r\n                    ) : (\r\n                      <SignPanel\r\n                        handleSignSaveClick={(imgData) =>\r\n                          this.handleSignSaveClick(imgData)\r\n                        }\r\n                      />\r\n                    )}\r\n                    <br/>\r\n                    Customer Signature\r\n                  </div>\r\n                  <div className=\"col-9 text-center p-1\">\r\n                </div>\r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-5 d-flex text-center action-buttons\">\r\n              \r\n              <div className=\"w-100 mr-2\">\r\n                <NormalButton\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      isPrintPdfClick: true,\r\n                    });\r\n                  }}\r\n                  label=\"Print\"\r\n                  success={true}\r\n                  className=\"print\"\r\n                />\r\n                \r\n                {this.state.isPrintPdfClick ? (\r\n                  <PDFDownloadLink\r\n                    document={\r\n                      <Invoice\r\n                        TableList={this.state.responseData[0]}\r\n                        accountHeader={\r\n                          this.state.responseData[0][\"company_header\"]\r\n                        }\r\n                        signPhoto={this.state.signPhoto}\r\n                        Flag={7}\r\n                        landscape={false}\r\n                      />\r\n                    }\r\n                  >\r\n                    {({ blob, url, loading, error }) =>\r\n                      !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                    }\r\n                  </PDFDownloadLink>\r\n                ) : null}\r\n              </div>\r\n              \r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n             </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  appointmentDetail: state.appointment.appointmentDetail,\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const PrintInvoiceModule =(connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n))(PrintInvoiceModuleClass);\r\n"]},"metadata":{},"sourceType":"module"}