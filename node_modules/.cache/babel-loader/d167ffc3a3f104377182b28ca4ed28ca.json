{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\LoyaltyPointsManagement\\\\RedeemPolicyTable\\\\index.js\";\nimport React from \"react\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { getCustomerPoints } from \"redux/actions/customerPlus\";\nimport { bindActionCreators } from \"redux\";\nexport class RedeemPolicyTableClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Code\",\n        sortKey: \"customerCode\"\n      }, {\n        label: \"Cust Class\",\n        sortKey: \"customerClass\",\n        enabled: true\n      }, {\n        label: \"Currency Value\",\n        sortKey: \"currencyValue\",\n        enabled: true\n      }, {\n        label: \"Point Value\",\n        sortKey: \"pointsValue\",\n        enabled: true\n      }, {\n        label: \"Active\",\n        sortKey: \"active\",\n        enabled: true\n      }],\n      dataList: [],\n      originalDataList: [],\n      meta: {},\n      currentIndex: -1,\n      isMounted: true,\n      isLoading: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handlePagination = async data => {\n      let {\n        page = 1,\n        search = \"\"\n      } = data;\n      this.setState({\n        isLoading: true\n      });\n      await this.props.getCustomerPoints(this.props.id, `?type=redeem&limit=10&page=${page}&search=${search}`);\n      let {\n        PointList,\n        pagination\n      } = this.props.dataList;\n      this.updateState({\n        meta: pagination,\n        dataList: PointList,\n        originalDataList: PointList,\n        isLoading: false\n      });\n    };\n\n    this.handlesearch = event => {\n      let searchString = event.target.value;\n      let data = {\n        search: searchString\n      };\n      this.handlePagination(data);\n    };\n  }\n\n  componentDidMount() {\n    this.handlePagination({});\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      headerDetails,\n      dataList,\n      meta,\n      isLoading,\n      originalDataList\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, t(\"Redeem Policy\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Policy\",\n      onEnter: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }))), isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Loading...\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.updateState(() => headerDetails = value),\n      sortData: originalDataList,\n      onSort: dataList => this.updateState({\n        dataList\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, dataList ? dataList.map((item, index) => {\n      var _headerDetails$0$enab, _headerDetails$1$enab, _headerDetails$2$enab, _headerDetails$3$enab, _headerDetails$4$enab;\n\n      let {\n        id,\n        cust_code,\n        cust_refer,\n        cust_name,\n        cust_phone2,\n        cust_dob\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$0$enab = headerDetails[0].enabled) !== null && _headerDetails$0$enab !== void 0 ? _headerDetails$0$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 33\n        }\n      }, cust_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$1$enab = headerDetails[1].enabled) !== null && _headerDetails$1$enab !== void 0 ? _headerDetails$1$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 33\n        }\n      }, cust_refer)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$2$enab = headerDetails[2].enabled) !== null && _headerDetails$2$enab !== void 0 ? _headerDetails$2$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$3$enab = headerDetails[3].enabled) !== null && _headerDetails$3$enab !== void 0 ? _headerDetails$3$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 33\n        }\n      }, cust_name)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$4$enab = headerDetails[4].enabled) !== null && _headerDetails$4$enab !== void 0 ? _headerDetails$4$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 33\n        }\n      }, cust_phone2)));\n    }) : \"\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  dataList: state.customerPlus.customerPoints\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomerPoints\n  }, dispatch);\n};\n\nexport const RedeemPolicyTable = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(RedeemPolicyTableClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/LoyaltyPointsManagement/RedeemPolicyTable/index.js"],"names":["React","InputSearch","TableWrapper","connect","withTranslation","getCustomerPoints","bindActionCreators","RedeemPolicyTableClass","Component","state","headerDetails","label","sortKey","enabled","dataList","originalDataList","meta","currentIndex","isMounted","isLoading","updateState","data","setState","handlePagination","page","search","props","id","PointList","pagination","handlesearch","event","searchString","target","value","componentDidMount","componentWillUnmount","render","t","map","item","index","cust_code","cust_refer","cust_name","cust_phone2","cust_dob","mapStateToProps","customerPlus","customerPoints","mapDispatchToProps","dispatch","RedeemPolicyTable"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { getCustomerPoints } from \"redux/actions/customerPlus\";\nimport { bindActionCreators } from \"redux\";\n\nexport class RedeemPolicyTableClass extends React.Component {\n  state = {\n    headerDetails: [\n      { label: \"Code\", sortKey: \"customerCode\" },\n      { label: \"Cust Class\", sortKey: \"customerClass\", enabled: true },\n      { label: \"Currency Value\", sortKey: \"currencyValue\", enabled: true },\n      { label: \"Point Value\", sortKey: \"pointsValue\", enabled: true },\n      { label: \"Active\", sortKey: \"active\", enabled: true },\n    ],\n    dataList: [],\n    originalDataList: [],\n    meta: {},\n    currentIndex: -1,\n    isMounted: true,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.handlePagination({});\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  handlePagination = async (data) => {\n    let { page = 1, search = \"\" } = data;\n    this.setState({ isLoading: true });\n    await this.props.getCustomerPoints(\n      this.props.id,\n      `?type=redeem&limit=10&page=${page}&search=${search}`\n    );\n    let { PointList, pagination } = this.props.dataList;\n    this.updateState({\n      meta: pagination,\n      dataList: PointList,\n      originalDataList: PointList,\n      isLoading: false,\n    });\n  };\n\n  handlesearch = (event) => {\n    let searchString = event.target.value;\n    let data = { search: searchString };\n    this.handlePagination(data);\n  };\n\n  render() {\n    let { headerDetails, dataList, meta, isLoading, originalDataList } =\n      this.state;\n    let { t } = this.props;\n    return (\n      <>\n        <div className=\"customer-list container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-4\">\n              <h3 className=\"head-label\">{t(\"Redeem Policy\")}</h3>\n            </div>\n            <div className=\"col-md-8\">\n              <InputSearch\n                className=\"\"\n                placeholder=\"Search Policy\"\n                onEnter={this.handlesearch}\n              />\n            </div>\n          </div>\n          {isLoading ? (\n            <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"tab-table-content\">\n              <div className=\"py-4\">\n                <div className=\"table-container\">\n                  <TableWrapper\n                    headerDetails={headerDetails}\n                    queryHandler={this.handlePagination}\n                    pageMeta={meta}\n                    showFilterColumn={true}\n                    parentHeaderChange={(value) =>\n                      this.updateState(() => (headerDetails = value))\n                    }\n                    sortData={originalDataList}\n                    onSort={(dataList) => this.updateState({ dataList })}\n                  >\n                    {dataList\n                      ? dataList.map((item, index) => {\n                          let {\n                            id,\n                            cust_code,\n                            cust_refer,\n                            cust_name,\n                            cust_phone2,\n                            cust_dob,\n                          } = item;\n                          return (\n                            <tr key={index}>\n                              <td\n                                className={\n                                  headerDetails[0].enabled ?? true\n                                    ? \"\"\n                                    : \"d-none\"\n                                }\n                              >\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {cust_code}\n                                </div>\n                              </td>\n                              <td\n                                className={\n                                  headerDetails[1].enabled ?? true\n                                    ? \"\"\n                                    : \"d-none\"\n                                }\n                              >\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {cust_refer}\n                                </div>\n                              </td>\n                              <td\n                                className={\n                                  headerDetails[2].enabled ?? true\n                                    ? \"\"\n                                    : \"d-none\"\n                                }\n                              >\n                                <div className=\"d-flex align-items-center justify-content-center\"></div>\n                              </td>\n                              <td\n                                className={\n                                  headerDetails[3].enabled ?? true\n                                    ? \"\"\n                                    : \"d-none\"\n                                }\n                              >\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {cust_name}\n                                </div>\n                              </td>\n                              <td\n                                className={\n                                  headerDetails[4].enabled ?? true\n                                    ? \"\"\n                                    : \"d-none\"\n                                }\n                              >\n                                <div className=\"d-flex align-items-center justify-content-center\">\n                                  {cust_phone2}\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })\n                      : \"\"}\n                  </TableWrapper>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  dataList: state.customerPlus.customerPoints,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ getCustomerPoints }, dispatch);\n};\n\nexport const RedeemPolicyTable = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(RedeemPolicyTableClass)\n);\n"]},"metadata":{},"sourceType":"module"}