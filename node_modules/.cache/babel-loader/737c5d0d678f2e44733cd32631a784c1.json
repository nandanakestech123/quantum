{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Toast}from\"service/toast\";import\"../style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi}from\"redux/actions/common\";import{NormalButton,NormalDate,TableWrapper}from\"component/common\";import{dateFormat}from\"service/helperFunctions\";import{withTranslation}from\"react-i18next\";import{PDFDownloadLink}from\"@react-pdf/renderer\";import DayEndPdf from\"../DayEndPdf\";import moment from\"moment\";export var DayendreportpageClass=/*#__PURE__*/function(_React$Component){_inherits(DayendreportpageClass,_React$Component);var _super=_createSuper(DayendreportpageClass);function DayendreportpageClass(){var _this;_classCallCheck(this,DayendreportpageClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={salesCollectionHeader:[{label:\"Sales Collection\"},{label:\"Before Tax\",divClass:\"justify-content-end text-right\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"},{label:\"Qty\",divClass:\"justify-content-end text-right\"}],nonSalesCollectionHeader:[{label:\"Non Sales Collection\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"},{label:\"Qty\",divClass:\"justify-content-end text-right\"}],nonSalesDetailCollectionHeader:[{label:\"Customer Code\"},{label:\"Customer Name\"},{label:\"Desc\"},{label:\"Qty\",divClass:\"justify-content-end text-right\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"},{label:\"Balance\",divClass:\"justify-content-end text-right\"}],deptSalesHeader:[{label:\"Dept Sales\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"}],salesTransactionHeader:[{label:\"Sales Transaction\"},{label:\"Customer Code\"},{label:\"Customer Name\"},{label:\"Desc\"},{label:\"Qty\",divClass:\"justify-content-end text-right\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"},{label:\"Balance\",divClass:\"justify-content-end text-right\"},{label:\"Net Amount\",divClass:\"justify-content-end text-right\"},{label:\"Paid\",divClass:\"justify-content-end text-right\"},{label:\"Outstanding\",divClass:\"justify-content-end text-right\"}],ARTransactionHeader:[{label:\"AR Transaction\"},{label:\"Customer Code\"},{label:\"Customer Name\"},{label:\"Desc\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"}],TreatmentDoneHeader:[{label:\"Customer\"},{label:\"Cust Code\"},{label:\"Cust Reference\"},{label:\"Treatment Done\"},{label:\"Description\"},{label:\"Staff\"},{label:\"Purchase Outlet\"},{label:\"TD Outlet\"},{label:\"Amount\",divClass:\"justify-content-end text-right\"}],DayDate:new Date(),runDayEnd:false,reportDate:\"\",sales_collec:null,sales_trasac:null,ar_trasac:null,treatment_done:null,dept_sales:\"\",isPrintPdfClick:false,accountHeader:{}};_this.componentDidMount=function(){_this.setState({reportDate:_this.state.DayDate});};_this.handleChange=function(_ref){var _ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;_this.setState(_defineProperty({},name,value));};_this.dayRunClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({runDayEnd:true,reportDate:_this.state.DayDate});case 2:_this.runDayEndClick();case 3:case\"end\":return _context.stop();}}},_callee);}));_this.runDayEndClick=function(){_this.props.getCommonApi(\"dayendlist/?date=\".concat(dateFormat(_this.state.reportDate,\"yyyy-mm-dd\"),\"&type=list\")).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key){var status,sales_collec,nonsales_collec,sales_trasac,ar_trasac,treatment_done,dept_sales,header_data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:status=key.status,sales_collec=key.sales_collec,nonsales_collec=key.nonsales_collec,sales_trasac=key.sales_trasac,ar_trasac=key.ar_trasac,treatment_done=key.treatment_done,dept_sales=key.dept_sales,header_data=key.header_data;console.log(key,\"listdayendresponse\");if(!(status===200)){_context2.next=5;break;}_context2.next=5;return _this.setState({sales_collec:sales_collec,nonsales_collec:nonsales_collec,sales_trasac:sales_trasac,ar_trasac:ar_trasac,treatment_done:treatment_done,dept_sales:dept_sales,accountHeader:header_data,isPrintPdfClick:true});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}());};_this.dayEndEmailRunClick=function(){_this.props.getCommonApi(\"dayendlist/?date=\".concat(dateFormat(_this.state.reportDate,\"yyyy-mm-dd\"),\"&type=email\")).then(function(key){if(key.status===200){Toast({type:\"success\",message:key.message});}else{Toast({type:\"error\",message:key.message});}});};_this.handlePrintPdfFormat=function(url){_this.setState({printpdfurl:url,isPrintPdfClick:false});if(url){var filecontent=new File([url],\"\".concat(_this.state.reportDate,\".pdf\"));console.log(filecontent,\"filecontentlog\");_this.props.commonCreateApi(\"upload/\",filecontent).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());}};_this.dayEndPrintClick=function(){var printpdfurl=_this.state.printpdfurl;var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(_this.state.reportDate,\".pdf\"));a.setAttribute(\"href\",printpdfurl);a.click();};return _this;}_createClass(DayendreportpageClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,salesCollectionHeader=_this$state.salesCollectionHeader,nonSalesCollectionHeader=_this$state.nonSalesCollectionHeader,deptSalesHeader=_this$state.deptSalesHeader,salesTransactionHeader=_this$state.salesTransactionHeader,ARTransactionHeader=_this$state.ARTransactionHeader,TreatmentDoneHeader=_this$state.TreatmentDoneHeader,runDayEnd=_this$state.runDayEnd,DayDate=_this$state.DayDate,reportDate=_this$state.reportDate,sales_collec=_this$state.sales_collec,nonsales_collec=_this$state.nonsales_collec,sales_trasac=_this$state.sales_trasac,ar_trasac=_this$state.ar_trasac,treatment_done=_this$state.treatment_done,dept_sales=_this$state.dept_sales,nonSalesDetailCollectionHeader=_this$state.nonSalesDetailCollectionHeader,isPrintPdfClick=_this$state.isPrintPdfClick,accountHeader=_this$state.accountHeader;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"dayendreportpage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-1 text-right\"},t(\"Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-2\"},/*#__PURE__*/React.createElement(NormalDate,{value:new Date(DayDate),name:\"DayDate\",type:\"date\",onChange:this.handleChange//minDate={new Date()}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(NormalButton,{className:\"fs-15 col-12 ml-2 float-right\",label:\"Run Day End Report\",mainbg:true,onClick:this.dayRunClick})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(DayEndPdf,{SalesCollectionList:sales_collec?sales_collec:\"\",DeptSalesList:dept_sales?dept_sales:\"\",NonSalesCollectionList:nonsales_collec?nonsales_collec:\"\",ARTransactionList:ar_trasac&&ar_trasac?ar_trasac:\"\",salesTransactionList:sales_trasac?sales_trasac:\"\",NonSalesDetailCollectionList:nonsales_collec?nonsales_collec:\"\",TreatmentDoneList:treatment_done?treatment_done:\"\",accountHeader:accountHeader,landscape:true,reportDate:moment(this.state.reportDate).format(\"DD-MM-YYYY\")})},function(_ref5){var blob=_ref5.blob,url=_ref5.url,loading=_ref5.loading,error=_ref5.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null,runDayEnd?/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center fw-500 h5 mb-2 day-end-title\"},t(\"Day End Report for\"),\"\\xA0\",reportDate!==\"\"?dateFormat(reportDate,\"dd-mm-yyyy\"):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-7\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"table table-responsive mb-3\",headerDetails:salesCollectionHeader},sales_collec&&sales_collec.sales.length>0?sales_collec.sales.map(function(item,index){var desc=item.desc,amount=item.amount,qty=item.qty,before_tax=item.before_tax;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},before_tax)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},qty)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(\"No Data Available\")))),sales_collec&&sales_collec.sales.length>0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end fw-500\"},\"Total\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_collec.total_tax)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_collec.total)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_collec.qty))):null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-5\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"mb-3\",headerDetails:deptSalesHeader},dept_sales&&dept_sales.dept_sales.length>0?dept_sales.dept_sales.map(function(item,index){var dept_sales=item.dept_sales,amount=item.amount;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},dept_sales)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(\"No Data Available\")))),dept_sales&&dept_sales.dept_sales.length>0?/*#__PURE__*/React.createElement(\"tr\",{className:\"day-end-footer fw-500\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end\"},t(\"Total\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},dept_sales.total_amount))):null),/*#__PURE__*/React.createElement(TableWrapper,{className:\"mb-3\",headerDetails:nonSalesCollectionHeader},nonsales_collec&&nonsales_collec.nonsales.length>0?nonsales_collec.nonsales.map(function(item,index){var desc=item.desc,qty=item.qty,amount=item.amount;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},qty)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(\"No Data Available\")))),nonsales_collec&&nonsales_collec.nonsales.length>0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end fw-500\"},t(\"Total\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},nonsales_collec.total)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},nonsales_collec.qty))):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-12\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"mb-3\",headerDetails:ARTransactionHeader},ar_trasac&&ar_trasac.ar_trasac.length>0?ar_trasac.ar_trasac.map(function(item,index){var satransac_ref=item.satransac_ref,amount=item.amount,cust_code=item.cust_code,cust_name=item.cust_name,desc=item.desc;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},satransac_ref)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(\"No Data Available\")))),ar_trasac&&ar_trasac.ar_trasac.length>0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end fw-500\"},t(\"Total\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},ar_trasac.total_amount))):null),/*#__PURE__*/React.createElement(TableWrapper,{className:\"mb-3\",headerDetails:salesTransactionHeader},sales_trasac&&sales_trasac.sales_trasac.length>0?sales_trasac.sales_trasac.map(function(item,index){var satransac_ref=item.satransac_ref,amount=item.amount,paid=item.paid,outstanding=item.outstanding,cust_code=item.cust_code,cust_name=item.cust_name,desc=item.desc,qty=item.qty,balance=item.balance,amt=item.amt;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},satransac_ref)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amt)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},balance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},paid)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},outstanding)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(\"No Data Available\")))),sales_trasac&&sales_trasac.sales_trasac.length>0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end fw-500\"},t(\"Total\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_trasac.depo_qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_trasac.total_amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_trasac.depo_balance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_trasac.depo_amt)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_trasac.total_paid)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},sales_trasac.total_outstanding))):null),/*#__PURE__*/React.createElement(TableWrapper,{className:\"mb-3\",headerDetails:nonSalesDetailCollectionHeader},nonsales_collec&&nonsales_collec.nonsales_dtl&&nonsales_collec.nonsales_dtl.length>0?nonsales_collec.nonsales_dtl.map(function(item,index){var amount=item.amount,cust_code=item.cust_code,cust_name=item.cust_name,desc=item.desc,qty=item.qty,balance=item.balance;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},balance)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},t(\"No Data Available\")))),nonsales_collec&&nonsales_collec.nonsales_dtl.length>0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end fw-500\"},t(\"Total\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},nonsales_collec.nonsal_qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},nonsales_collec.nonsal_amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},nonsales_collec.nonsal_balance))):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:TreatmentDoneHeader},treatment_done&&treatment_done.treatment_done.length>0?treatment_done.treatment_done.map(function(item,index){var treatment_done=item.treatment_done,desc=item.desc,amount=item.amount,cust_name=item.cust_name,cust_refer=item.cust_refer,staff_name=item.staff_name,buy_treatment_outlet=item.buy_treatment_outlet,treatmentdone_outlet=item.treatmentdone_outlet,cust_code=item.cust_code;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},cust_refer)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},treatment_done)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},staff_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},buy_treatment_outlet)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},treatmentdone_outlet)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},amount)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center w-100\"},t(\"No Data Available\")))),treatment_done&&treatment_done.treatment_done.length>0?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-end fw-500\"},\"Total\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},treatment_done.total_amount))):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end align-items-center\"},/*#__PURE__*/React.createElement(NormalButton,{success:true,className:\"col-12\",label:\"Download As Pdf\",onClick:this.dayEndPrintClick}),/*#__PURE__*/React.createElement(NormalButton,{onClick:this.dayEndEmailRunClick,label:\"Send As Email\",success:true,className:\"ml-2 col-12\"}))):\"\");}}]);return DayendreportpageClass;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var Dayendreportpage=withTranslation()(connect(null,mapDispatchToProps)(DayendreportpageClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/DayEndReport/Dayendreportpage/index.js"],"names":["React","Toast","connect","bindActionCreators","getCommonApi","commonCreateApi","NormalButton","NormalDate","TableWrapper","dateFormat","withTranslation","PDFDownloadLink","DayEndPdf","moment","DayendreportpageClass","state","salesCollectionHeader","label","divClass","nonSalesCollectionHeader","nonSalesDetailCollectionHeader","deptSalesHeader","salesTransactionHeader","ARTransactionHeader","TreatmentDoneHeader","DayDate","Date","runDayEnd","reportDate","sales_collec","sales_trasac","ar_trasac","treatment_done","dept_sales","isPrintPdfClick","accountHeader","componentDidMount","setState","handleChange","target","name","value","dayRunClick","runDayEndClick","props","then","key","status","nonsales_collec","header_data","console","log","dayEndEmailRunClick","type","message","handlePrintPdfFormat","url","printpdfurl","filecontent","File","dayEndPrintClick","a","document","createElement","setAttribute","click","t","format","blob","loading","error","sales","length","map","item","index","desc","amount","qty","before_tax","total_tax","total","total_amount","nonsales","satransac_ref","cust_code","cust_name","paid","outstanding","balance","amt","depo_qty","depo_balance","depo_amt","total_paid","total_outstanding","nonsales_dtl","nonsal_qty","nonsal_amount","nonsal_balance","cust_refer","staff_name","buy_treatment_outlet","treatmentdone_outlet","Component","mapDispatchToProps","dispatch","Dayendreportpage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Toast } from \"service/toast\";\r\nimport \"../style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport { NormalButton, NormalDate, TableWrapper } from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport DayEndPdf from \"../DayEndPdf\";\r\nimport moment from \"moment\";\r\n\r\nexport class DayendreportpageClass extends React.Component {\r\n  state = {\r\n    salesCollectionHeader: [\r\n      { label: \"Sales Collection\" },\r\n      { label: \"Before Tax\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Qty\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    nonSalesCollectionHeader: [\r\n      { label: \"Non Sales Collection\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Qty\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    nonSalesDetailCollectionHeader: [\r\n      { label: \"Customer Code\" },\r\n      { label: \"Customer Name\" },\r\n      { label: \"Desc\" },\r\n      { label: \"Qty\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Balance\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    deptSalesHeader: [\r\n      { label: \"Dept Sales\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    salesTransactionHeader: [\r\n      { label: \"Sales Transaction\" },\r\n      { label: \"Customer Code\" },\r\n      { label: \"Customer Name\" },\r\n      { label: \"Desc\" },\r\n      { label: \"Qty\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Balance\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Net Amount\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Paid\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Outstanding\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    ARTransactionHeader: [\r\n      { label: \"AR Transaction\" },\r\n      { label: \"Customer Code\" },\r\n      { label: \"Customer Name\" },\r\n      { label: \"Desc\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    TreatmentDoneHeader: [\r\n      { label: \"Customer\" },\r\n      { label: \"Cust Code\" },\r\n      { label: \"Cust Reference\" },\r\n      { label: \"Treatment Done\" },\r\n      { label: \"Description\" },\r\n      { label: \"Staff\" },\r\n      { label: \"Purchase Outlet\" },\r\n      { label: \"TD Outlet\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    DayDate: new Date(),\r\n    runDayEnd: false,\r\n    reportDate: \"\",\r\n    sales_collec: null,\r\n    sales_trasac: null,\r\n    ar_trasac: null,\r\n    treatment_done: null,\r\n    dept_sales: \"\",\r\n    isPrintPdfClick: false,\r\n    accountHeader: {},\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      reportDate: this.state.DayDate,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n  dayRunClick = async () => {\r\n    await this.setState({\r\n      runDayEnd: true,\r\n      reportDate: this.state.DayDate,\r\n    });\r\n    this.runDayEndClick();\r\n  };\r\n  runDayEndClick = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `dayendlist/?date=${dateFormat(\r\n          this.state.reportDate,\r\n          \"yyyy-mm-dd\"\r\n        )}&type=list`\r\n      )\r\n      .then(async key => {\r\n        let {\r\n          status,\r\n          sales_collec,\r\n          nonsales_collec,\r\n          sales_trasac,\r\n          ar_trasac,\r\n          treatment_done,\r\n          dept_sales,\r\n          header_data,\r\n        } = key;\r\n        console.log(key, \"listdayendresponse\");\r\n        if (status === 200) {\r\n          await this.setState({\r\n            sales_collec,\r\n            nonsales_collec,\r\n            sales_trasac,\r\n            ar_trasac,\r\n            treatment_done,\r\n            dept_sales,\r\n            accountHeader: header_data,\r\n            isPrintPdfClick: true,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  // dayEndPrintClick = async () => {\r\n  //   await this.setState({\r\n  //     isPrintPdfClick: true,\r\n  //   });\r\n  //   // this.props\r\n  //   //   .getCommonApi(\r\n  //   //     `dayendlist/?date=${dateFormat(\r\n  //   //       this.state.reportDate,\r\n  //   //       \"yyyy-mm-dd\"\r\n  //   //     )}&type=pdf`\r\n  //   //   )\r\n  //   //   .then(key => {\r\n  //   //     let { status, data } = key;\r\n  //   //     if (status === 200) {\r\n  //   //       window.open(data);\r\n  //   //     }\r\n  //   //   });\r\n  // };\r\n  dayEndEmailRunClick = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `dayendlist/?date=${dateFormat(\r\n          this.state.reportDate,\r\n          \"yyyy-mm-dd\"\r\n        )}&type=email`\r\n      )\r\n      .then(key => {\r\n        if (key.status === 200) {\r\n          Toast({ type: \"success\", message: key.message });\r\n        } else {\r\n          Toast({ type: \"error\", message: key.message });\r\n        }\r\n      });\r\n  };\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      printpdfurl: url,\r\n      isPrintPdfClick: false,\r\n    });\r\n    if (url) {\r\n      let filecontent = new File([url], `${this.state.reportDate}.pdf`);\r\n      console.log(filecontent, \"filecontentlog\");\r\n      this.props.commonCreateApi(`upload/`, filecontent).then(async key => {});\r\n    }\r\n  };\r\n  dayEndPrintClick = () => {\r\n    let { printpdfurl } = this.state;\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${this.state.reportDate}.pdf`);\r\n    a.setAttribute(\"href\", printpdfurl);\r\n    a.click();\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      salesCollectionHeader,\r\n      nonSalesCollectionHeader,\r\n      deptSalesHeader,\r\n      salesTransactionHeader,\r\n      ARTransactionHeader,\r\n      TreatmentDoneHeader,\r\n      runDayEnd,\r\n      DayDate,\r\n      reportDate,\r\n\r\n      sales_collec,\r\n      nonsales_collec,\r\n      sales_trasac,\r\n      ar_trasac,\r\n      treatment_done,\r\n      dept_sales,\r\n      nonSalesDetailCollectionHeader,\r\n      isPrintPdfClick,\r\n      accountHeader,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"dayendreportpage\">\r\n        <div className=\"row mb-3\">\r\n          <div className=\"col-sm-1 text-right\">{t(\"Date\")}</div>\r\n          <div className=\"col-sm-2\">\r\n            <NormalDate\r\n              value={new Date(DayDate)}\r\n              name=\"DayDate\"\r\n              type=\"date\"\r\n              onChange={this.handleChange}\r\n              //minDate={new Date()}\r\n              showDisabledMonthNavigation\r\n            />\r\n          </div>\r\n          <NormalButton\r\n            className=\"fs-15 col-12 ml-2 float-right\"\r\n            label=\"Run Day End Report\"\r\n            mainbg={true}\r\n            onClick={this.dayRunClick}\r\n          />\r\n        </div>\r\n        {isPrintPdfClick ? (\r\n          <PDFDownloadLink\r\n            document={\r\n              <DayEndPdf\r\n                SalesCollectionList={sales_collec ? sales_collec : \"\"}\r\n                DeptSalesList={dept_sales ? dept_sales : \"\"}\r\n                NonSalesCollectionList={nonsales_collec ? nonsales_collec : \"\"}\r\n                ARTransactionList={ar_trasac && ar_trasac ? ar_trasac : \"\"}\r\n                salesTransactionList={sales_trasac ? sales_trasac : \"\"}\r\n                NonSalesDetailCollectionList={\r\n                  nonsales_collec ? nonsales_collec : \"\"\r\n                }\r\n                TreatmentDoneList={treatment_done ? treatment_done : \"\"}\r\n                accountHeader={accountHeader}\r\n                landscape={true}\r\n                reportDate={moment(this.state.reportDate).format(\"DD-MM-YYYY\")}\r\n              />\r\n            }\r\n          >\r\n            {({ blob, url, loading, error }) =>\r\n              !loading && url ? this.handlePrintPdfFormat(url) : null\r\n            }\r\n          </PDFDownloadLink>\r\n        ) : null}\r\n\r\n        {runDayEnd ? (\r\n          <div className=\"col-12 mt-4\">\r\n            <div className=\"w-100\">\r\n              <div className=\"d-flex justify-content-center align-items-center fw-500 h5 mb-2 day-end-title\">\r\n                {t(\"Day End Report for\")}&nbsp;\r\n                {reportDate !== \"\" ? dateFormat(reportDate, \"dd-mm-yyyy\") : \"\"}\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-7\">\r\n                <TableWrapper\r\n                  className=\"table table-responsive mb-3\"\r\n                  headerDetails={salesCollectionHeader}\r\n                >\r\n                  {sales_collec && sales_collec.sales.length > 0 ? (\r\n                    sales_collec.sales.map((item, index) => {\r\n                      let { desc, amount, qty, before_tax } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{before_tax}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{qty}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {sales_collec && sales_collec.sales.length > 0 ? (\r\n                    <tr>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end fw-500\">\r\n                          {`Total`}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_collec.total_tax}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">{sales_collec.total}</div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">{sales_collec.qty}</div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n              </div>\r\n\r\n              <div className=\"col-sm-5\">\r\n                <TableWrapper className=\"mb-3\" headerDetails={deptSalesHeader}>\r\n                  {dept_sales && dept_sales.dept_sales.length > 0 ? (\r\n                    dept_sales.dept_sales.map((item, index) => {\r\n                      let { dept_sales, amount } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{dept_sales}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {dept_sales && dept_sales.dept_sales.length > 0 ? (\r\n                    <tr className=\"day-end-footer fw-500\">\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end\">\r\n                          {t(\"Total\")}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {dept_sales.total_amount}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n                <TableWrapper\r\n                  className=\"mb-3\"\r\n                  headerDetails={nonSalesCollectionHeader}\r\n                >\r\n                  {nonsales_collec && nonsales_collec.nonsales.length > 0 ? (\r\n                    nonsales_collec.nonsales.map((item, index) => {\r\n                      let { desc, qty, amount } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{qty}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {nonsales_collec && nonsales_collec.nonsales.length > 0 ? (\r\n                    <tr>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end fw-500\">\r\n                          {t(\"Total\")}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {nonsales_collec.total}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">{nonsales_collec.qty}</div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-sm-12 col-12\">\r\n                <TableWrapper\r\n                  className=\"mb-3\"\r\n                  headerDetails={ARTransactionHeader}\r\n                >\r\n                  {ar_trasac && ar_trasac.ar_trasac.length > 0 ? (\r\n                    ar_trasac.ar_trasac.map((item, index) => {\r\n                      let {\r\n                        satransac_ref,\r\n                        amount,\r\n                        cust_code,\r\n                        cust_name,\r\n                        desc,\r\n                      } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{satransac_ref}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_code}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {ar_trasac && ar_trasac.ar_trasac.length > 0 ? (\r\n                    <tr>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end fw-500\">\r\n                          {t(\"Total\")}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {ar_trasac.total_amount}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n                <TableWrapper\r\n                  className=\"mb-3\"\r\n                  headerDetails={salesTransactionHeader}\r\n                >\r\n                  {sales_trasac && sales_trasac.sales_trasac.length > 0 ? (\r\n                    sales_trasac.sales_trasac.map((item, index) => {\r\n                      let {\r\n                        satransac_ref,\r\n                        amount,\r\n                        paid,\r\n                        outstanding,\r\n                        cust_code,\r\n                        cust_name,\r\n                        desc,\r\n                        qty,\r\n                        balance,\r\n                        amt,\r\n                      } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{satransac_ref}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_code}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{qty}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amt}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{balance}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{paid}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{outstanding}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {sales_trasac && sales_trasac.sales_trasac.length > 0 ? (\r\n                    <tr>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end fw-500\">\r\n                          {t(\"Total\")}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_trasac.depo_qty}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_trasac.total_amount}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_trasac.depo_balance}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_trasac.depo_amt}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_trasac.total_paid}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {sales_trasac.total_outstanding}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n                <TableWrapper\r\n                  className=\"mb-3\"\r\n                  headerDetails={nonSalesDetailCollectionHeader}\r\n                >\r\n                  {nonsales_collec &&\r\n                  nonsales_collec.nonsales_dtl &&\r\n                  nonsales_collec.nonsales_dtl.length > 0 ? (\r\n                    nonsales_collec.nonsales_dtl.map((item, index) => {\r\n                      let { amount, cust_code, cust_name, desc, qty, balance } =\r\n                        item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_code}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{qty}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{balance}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {nonsales_collec &&\r\n                  nonsales_collec.nonsales_dtl.length > 0 ? (\r\n                    <tr>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end fw-500\">\r\n                          {t(\"Total\")}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {nonsales_collec.nonsal_qty}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {nonsales_collec.nonsal_amount}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {nonsales_collec.nonsal_balance}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                <TableWrapper headerDetails={TreatmentDoneHeader}>\r\n                  {treatment_done &&\r\n                  treatment_done.treatment_done.length > 0 ? (\r\n                    treatment_done.treatment_done.map((item, index) => {\r\n                      let {\r\n                        treatment_done,\r\n                        desc,\r\n                        amount,\r\n                        cust_name,\r\n                        cust_refer,\r\n                        staff_name,\r\n                        buy_treatment_outlet,\r\n                        treatmentdone_outlet,\r\n                        cust_code,\r\n                      } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_code}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{cust_refer}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{treatment_done}</div>\r\n                          </td>\r\n\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n\r\n                          <td>\r\n                            <div className=\"text-left\">{staff_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">\r\n                              {buy_treatment_outlet}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">\r\n                              {treatmentdone_outlet}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{amount}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center w-100\">\r\n                          {t(\"No Data Available\")}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {treatment_done &&\r\n                  treatment_done.treatment_done.length > 0 ? (\r\n                    <tr>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-end fw-500\">\r\n                          Total\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {treatment_done.total_amount}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : null}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-end align-items-center\">\r\n              <NormalButton\r\n                success={true}\r\n                className=\"col-12\"\r\n                label=\"Download As Pdf\"\r\n                onClick={this.dayEndPrintClick}\r\n              />\r\n              <NormalButton\r\n                onClick={this.dayEndEmailRunClick}\r\n                label=\"Send As Email\"\r\n                success={true}\r\n                className=\"ml-2 col-12\"\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Dayendreportpage = withTranslation()(\r\n  connect(null, mapDispatchToProps)(DayendreportpageClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}