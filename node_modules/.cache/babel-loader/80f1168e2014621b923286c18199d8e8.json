{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Catalog\\\\index.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { NormalButton, NormalSelect } from 'component/common';\nimport { InputSearch, TableWrapper } from 'component/common';\nimport { Cart } from '../Cart';\nimport './style.scss';\nimport { SalonProduct } from './salonProduct';\nimport { Favorite } from './favorite';\nimport { Services } from './services';\nimport { Retail } from './retail';\nimport { Package } from './package';\nimport { Voucher } from './voucher';\nimport { Prepaid } from './prepaid';\nimport { All } from './all';\nimport { Courses } from './courses';\nimport { CatalogCart } from './catalogCart';\nimport { RetailProduct } from './retailProduct';\nimport _ from 'lodash';\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\"; // import { history } from 'helpers';\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nexport class CatalogClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      active: false,\n      currentValue: 0,\n      navLinks: [{\n        to: '/admin/catalog',\n        label: \"Favorites\",\n        id: \"Favorites\"\n      }, {\n        to: '/admin/catalog',\n        label: \"SERVICE\",\n        id: \"SERVICE\"\n      }, {\n        to: '/admin/catalog',\n        label: \"PACKAGE\",\n        id: \"PACKAGE\"\n      }, {\n        to: '/admin/catalog',\n        label: \"PREPAID\",\n        id: \"PREPAID\"\n      }, {\n        to: '/admin/catalog',\n        label: \"VOUCHER\",\n        id: \"VOUCHER\"\n      }, {\n        to: '/admin/catalog',\n        label: \"RETAIL\",\n        id: \"RETAIL\"\n      }],\n      selectedMenu: \"Favorites\",\n      rangeId: \"\",\n      rangeName: \"\",\n      rangeOption: [],\n      formFields: {\n        search: \"\"\n      }\n    };\n\n    this.handleRangeChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let rangeId = Object.assign({}, this.state.rangeId);\n      let rangeName = Object.assign({}, this.state.rangeName);\n      let {\n        rangeOption\n      } = this.state;\n      rangeId = value; // rangeName = name;\n\n      for (let key of rangeOption) {\n        if (key.value == value) {\n          rangeName = key.label;\n        }\n      }\n\n      await this.setState({\n        rangeId,\n        rangeName\n      });\n      this.getItemList({});\n    };\n\n    this.handleClick = async key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      await this.setState({\n        selectedMenu: key.id\n      });\n      this.setState({\n        active: true,\n        currentValue: key.key,\n        selected: key.id\n      });\n    };\n\n    this.handleSearch = async event => {\n      event.persist();\n      let {\n        formFields\n      } = this.state;\n      formFields['search'] = event.target.value;\n      this.setState({\n        formFields\n      });\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(async () => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          };\n          let {\n            selectedMenu,\n            rangeId,\n            rangeName,\n            active,\n            currentValue\n          } = this.state;\n          rangeId = \"\";\n          rangeName = \"\";\n          selectedMenu = 8;\n          active = true;\n          currentValue = 6; // this.getServices(data)\n\n          await this.setState({\n            selectedMenu,\n            rangeId,\n            rangeName,\n            currentValue,\n            active\n          });\n          this.handleFilter();\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleFilter = () => {\n      this.child.handleFilterSearch({});\n    };\n  }\n\n  componentDidMount() {\n    let {\n      navLinks\n    } = this.state; // this.props.getCommonApi('catalogitemdept/').then(async (res) => {\n    //     // navLinks = res.data;\n    //     for (let key of res.data) {\n    //         navLinks.push(\n    //             {\n    //                 to: '/admin/catalog',\n    //                 label: key.itm_desc,\n    //                 id: key.id\n    //             }\n    //         )\n    //     }\n    //     await this.setState({ navLinks })\n    // })\n    //    this.getRange(); \n  } // getRange = () => {\n  //     let { rangeOption, selectedMenu } = this.state;\n  //     rangeOption = []\n  //     this.props.getCommonApi(`catalogitemrange?Item_Deptid=${selectedMenu}`).then((res) => {\n  //         // activeMenu = []\n  //         for (let key of res.data) {\n  //             rangeOption.push({ value: key.id, label: key.itm_desc })\n  //         }\n  //         this.setState({ rangeOption })\n  //     })\n  // }\n\n\n  render() {\n    let {\n      navLinks,\n      active,\n      currentValue,\n      selectedMenu,\n      rangeId,\n      rangeOption,\n      formFields\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 catalog-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      value: formFields.search,\n      placeholder: \"Search here..\",\n      onChange: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 33\n      }\n    }, navLinks.map(({\n      to,\n      label,\n      id\n    }, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: to,\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `sidebar-menu ${currentValue === index ? 'active' : ''}`,\n      onClick: () => this.handleClick({\n        key: index,\n        id: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sidebar-menu-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 53\n      }\n    }, label))))))), selectedMenu === 'Favorites' && /*#__PURE__*/React.createElement(Favorite, {\n      id: selectedMenu,\n      api: \"catalogfavorites\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }), selectedMenu === 'SERVICE' && /*#__PURE__*/React.createElement(Services, {\n      id: selectedMenu,\n      api: \"servicestock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }), selectedMenu === 'RETAIL' && /*#__PURE__*/React.createElement(Retail, {\n      id: selectedMenu,\n      api: \"retailstock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }), selectedMenu === 'PACKAGE' && /*#__PURE__*/React.createElement(Package, {\n      id: selectedMenu,\n      api: \"packagestock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 33\n      }\n    }), selectedMenu === 'VOUCHER' && /*#__PURE__*/React.createElement(Voucher, {\n      id: selectedMenu,\n      api: \"voucherstock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }), selectedMenu === 'PREPAID' && /*#__PURE__*/React.createElement(Prepaid, {\n      id: selectedMenu,\n      api: \"prepaidstock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 33\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({// selected_cstomer: state.common.selected_cstomer,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const Catalog = connect(mapStateToProps, mapDispatchToProps)(CatalogClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Catalog/index.js"],"names":["React","Component","NavLink","NormalButton","NormalSelect","InputSearch","TableWrapper","Cart","SalonProduct","Favorite","Services","Retail","Package","Voucher","Prepaid","All","Courses","CatalogCart","RetailProduct","_","getCommonApi","commonCreateApi","connect","bindActionCreators","CatalogClass","state","active","currentValue","navLinks","to","label","id","selectedMenu","rangeId","rangeName","rangeOption","formFields","search","handleRangeChange","target","value","name","Object","assign","key","setState","getItemList","handleClick","selected","handleSearch","event","persist","debouncedFn","debounce","searchString","data","handleFilter","child","handleFilterSearch","componentDidMount","render","map","index","mapStateToProps","mapDispatchToProps","dispatch","Catalog"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport { NormalButton, NormalSelect } from 'component/common';\r\nimport { InputSearch, TableWrapper } from 'component/common';\r\nimport { Cart } from '../Cart'\r\nimport './style.scss'\r\nimport { SalonProduct } from './salonProduct';\r\nimport { Favorite } from './favorite';\r\nimport { Services } from './services';\r\nimport { Retail } from './retail';\r\nimport { Package } from './package';\r\nimport { Voucher } from './voucher';\r\nimport { Prepaid } from './prepaid';\r\nimport { All } from './all';\r\nimport { Courses } from './courses';\r\nimport { CatalogCart } from './catalogCart';\r\nimport { RetailProduct } from './retailProduct';\r\nimport _ from 'lodash';\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\n// import { history } from 'helpers';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nexport class CatalogClass extends Component {\r\n    state = {\r\n        active: false,\r\n        currentValue: 0,\r\n        navLinks: [\r\n            { to: '/admin/catalog', label: \"Favorites\", id: \"Favorites\" },\r\n            { to: '/admin/catalog', label: \"SERVICE\", id: \"SERVICE\" },\r\n            { to: '/admin/catalog', label: \"PACKAGE\", id: \"PACKAGE\" },\r\n            { to: '/admin/catalog', label: \"PREPAID\", id: \"PREPAID\" },\r\n            { to: '/admin/catalog', label: \"VOUCHER\", id: \"VOUCHER\" },\r\n            { to: '/admin/catalog', label: \"RETAIL\", id: \"RETAIL\" }\r\n        ],\r\n        selectedMenu: \"Favorites\",\r\n        rangeId: \"\",\r\n        rangeName: \"\",\r\n        rangeOption: [],\r\n        formFields: {\r\n            search: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { navLinks } = this.state;\r\n        // this.props.getCommonApi('catalogitemdept/').then(async (res) => {\r\n        //     // navLinks = res.data;\r\n        //     for (let key of res.data) {\r\n        //         navLinks.push(\r\n        //             {\r\n        //                 to: '/admin/catalog',\r\n        //                 label: key.itm_desc,\r\n        //                 id: key.id\r\n        //             }\r\n        //         )\r\n        //     }\r\n        //     await this.setState({ navLinks })\r\n        // })\r\n        //    this.getRange(); \r\n\r\n    }\r\n\r\n    // getRange = () => {\r\n    //     let { rangeOption, selectedMenu } = this.state;\r\n    //     rangeOption = []\r\n    //     this.props.getCommonApi(`catalogitemrange?Item_Deptid=${selectedMenu}`).then((res) => {\r\n    //         // activeMenu = []\r\n    //         for (let key of res.data) {\r\n    //             rangeOption.push({ value: key.id, label: key.itm_desc })\r\n    //         }\r\n    //         this.setState({ rangeOption })\r\n    //     })\r\n    // }\r\n\r\n    handleRangeChange = async ({ target: { value, name } }) => {\r\n        let rangeId = Object.assign({}, this.state.rangeId);\r\n        let rangeName = Object.assign({}, this.state.rangeName);\r\n        let { rangeOption } = this.state;\r\n        rangeId = value;\r\n        // rangeName = name;\r\n\r\n        for (let key of rangeOption) {\r\n            if (key.value == value) {\r\n                rangeName = key.label;\r\n            }\r\n        }\r\n\r\n        await this.setState({\r\n            rangeId,\r\n            rangeName\r\n        });\r\n        this.getItemList({});\r\n    };\r\n\r\n    handleClick = async (key) => {\r\n        let { active, currentValue } = this.state\r\n        await this.setState({\r\n            selectedMenu: key.id\r\n        })\r\n        this.setState({\r\n            active: true,\r\n            currentValue: key.key,\r\n            selected: key.id\r\n        })\r\n    }\r\n\r\n    handleSearch = async (event) => {\r\n        event.persist();\r\n        let { formFields } = this.state;\r\n        formFields['search'] = event.target.value;\r\n        this.setState({ formFields })\r\n        if (!this.debouncedFn) {\r\n            this.debouncedFn = _.debounce(async() => {\r\n                let searchString = event.target.value;\r\n                let data = { search: searchString }\r\n                let { selectedMenu, rangeId, rangeName, active, currentValue } = this.state;\r\n\r\n                rangeId = \"\";\r\n                rangeName = \"\";\r\n                selectedMenu = 8;\r\n                active = true;\r\n                currentValue = 6;\r\n                // this.getServices(data)\r\n                \r\n                await this.setState({ selectedMenu, rangeId, rangeName, currentValue, active })\r\n                this.handleFilter();\r\n            }, 500);\r\n            \r\n        }\r\n        this.debouncedFn();\r\n    }\r\n\r\n    handleFilter = () => {\r\n        this.child.handleFilterSearch({});\r\n    }\r\n\r\n    render() {\r\n        let { navLinks, active, currentValue, selectedMenu, rangeId, rangeOption, formFields } = this.state\r\n        return (\r\n            <>\r\n                <div className=\"catalog-section\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12 catalog-content\">\r\n                            <div className=\"input-group\">\r\n                                {/* {\r\n                        selectedMenu ?\r\n                            <div className=\"input-group range-filter\">\r\n                                <NormalSelect\r\n                                    // placeholder=\"Enter here\"\r\n                                    options={rangeOption}\r\n                                    value={rangeId}\r\n                                    name={rangeOption}\r\n                                    onChange={this.handleRangeChange}\r\n                                    className=\"py-0\"\r\n                                />\r\n                            </div> : \"\"\r\n                    } */}\r\n\r\n                                <div className=\"mb-3\">\r\n                                    <InputSearch\r\n                                        className=\"\"\r\n                                        value={formFields.search}\r\n                                        placeholder='Search here..'\r\n                                        onChange={this.handleSearch} />\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"tab-menus\">\r\n                                <ul>\r\n                                    {navLinks.map(({ to, label, id }, index) => (\r\n                                        <li key={index}>\r\n                                            <NavLink to={to} className=\"nav-link\">\r\n                                                <div className={`sidebar-menu ${(currentValue === index) ? 'active' : ''}`} onClick={() => this.handleClick({ key: index, id: id })}>\r\n                                                    <span className=\"sidebar-menu-desc\">{label}</span>\r\n                                                </div>\r\n                                            </NavLink>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                            {selectedMenu === 'Favorites' &&\r\n                                <Favorite id={selectedMenu} api={\"catalogfavorites\"} />\r\n                            }\r\n                            {selectedMenu === 'SERVICE' &&\r\n                                <Services id={selectedMenu} api={\"servicestock\"} />\r\n                            }\r\n                            {selectedMenu === 'RETAIL' &&\r\n                                <Retail id={selectedMenu} api={\"retailstock\"} />\r\n                            }\r\n                            {selectedMenu === 'PACKAGE' &&\r\n                                <Package id={selectedMenu} api={\"packagestock\"} />\r\n                            }\r\n                            {selectedMenu === 'VOUCHER' &&\r\n                                <Voucher id={selectedMenu} api={\"voucherstock\"} />\r\n                            }\r\n                            {selectedMenu === 'PREPAID' &&\r\n                                <Prepaid id={selectedMenu} api={\"prepaidstock\"} />\r\n                            }\r\n                            {/* {selectedMenu == '8' &&\r\n                                <All id={selectedMenu} onRef={ref => (this.child = ref)} search={formFields.search} api={\"catalogsearch\"} />\r\n                            } */}\r\n                        </div>\r\n\r\n                        {/* <div className=\" col-4 \">\r\n                            <div className=\"ml-2 cart-bar\">\r\n                                <CatalogCart id={selectedMenu} ></CatalogCart>\r\n                            </div>\r\n                        </div> */}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // selected_cstomer: state.common.selected_cstomer,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        getCommonApi,\r\n        commonCreateApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const Catalog = connect(mapStateToProps, mapDispatchToProps)(CatalogClass)"]},"metadata":{},"sourceType":"module"}