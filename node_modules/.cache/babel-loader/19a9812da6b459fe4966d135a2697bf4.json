{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.toolbar.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nvar _uiFile_manager = require(\"./ui.file_manager.common\");\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\n\nvar _toolbar = _interopRequireDefault(require(\"../toolbar\"));\n\nrequire(\"../drop_down_button\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function (target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar FILE_MANAGER_TOOLBAR_CLASS = \"dx-filemanager-toolbar\";\nvar FILE_MANAGER_GENERAL_TOOLBAR_CLASS = \"dx-filemanager-general-toolbar\";\nvar FILE_MANAGER_FILE_TOOLBAR_CLASS = \"dx-filemanager-file-toolbar\";\nvar FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS = FILE_MANAGER_TOOLBAR_CLASS + \"-separator-item\";\nvar FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS = FILE_MANAGER_TOOLBAR_CLASS + \"-viewmode-item\";\nvar FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS = FILE_MANAGER_TOOLBAR_CLASS + \"-has-large-icon\";\nvar FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS = \"dx-filemanager-view-switcher-popup\";\nvar DEFAULT_ITEM_CONFIGS = {\n  showNavPane: {\n    location: \"before\"\n  },\n  create: {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  upload: {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  refresh: {\n    location: \"after\",\n    showText: \"inMenu\",\n    cssClass: FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS,\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  switchView: {\n    location: \"after\"\n  },\n  download: {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  move: {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  copy: {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  rename: {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\",\n      locateInMenu: \"auto\"\n    }\n  },\n  \"delete\": {\n    location: \"before\",\n    compactMode: {\n      showText: \"inMenu\"\n    }\n  },\n  clearSelection: {\n    location: \"after\",\n    locateInMenu: \"never\",\n    compactMode: {\n      showText: \"inMenu\"\n    }\n  },\n  separator: {\n    location: \"before\"\n  }\n};\nvar ALWAYS_VISIBLE_TOOLBAR_ITEMS = [\"separator\", \"switchView\"];\nvar REFRESH_ICON_MAP = {\n  \"default\": \"dx-filemanager-i dx-filemanager-i-refresh\",\n  progress: \"dx-filemanager-i dx-filemanager-i-progress\",\n  success: \"dx-filemanager-i dx-filemanager-i-done\",\n  error: \"dx-filemanager-i dx-filemanager-i-danger\"\n};\nvar REFRESH_ITEM_PROGRESS_MESSAGE_DELAY = 500;\n\nvar FileManagerToolbar = function (_Widget) {\n  _inherits(FileManagerToolbar, _Widget);\n\n  var _super = _createSuper(FileManagerToolbar);\n\n  function FileManagerToolbar() {\n    _classCallCheck(this, FileManagerToolbar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FileManagerToolbar, [{\n    key: \"_initMarkup\",\n    value: function () {\n      this._commandManager = this.option(\"commandManager\");\n\n      this._createItemClickedAction();\n\n      this._generalToolbarVisible = true;\n      this._$viewSwitcherPopup = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS);\n      this._generalToolbar = this._createToolbar(this.option(\"generalItems\"));\n      this._fileToolbar = this._createToolbar(this.option(\"fileItems\"), true);\n\n      this._$viewSwitcherPopup.appendTo(this.$element());\n\n      this.$element().addClass(FILE_MANAGER_TOOLBAR_CLASS + \" \" + FILE_MANAGER_GENERAL_TOOLBAR_CLASS);\n    }\n  }, {\n    key: \"_render\",\n    value: function () {\n      _get(_getPrototypeOf(FileManagerToolbar.prototype), \"_render\", this).call(this);\n\n      var toolbar = this._getVisibleToolbar();\n\n      this._checkCompactMode(toolbar);\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function (dimension) {\n      if (!dimension || \"height\" !== dimension) {\n        var toolbar = this._getVisibleToolbar();\n\n        this._checkCompactMode(toolbar);\n      }\n    }\n  }, {\n    key: \"_getVisibleToolbar\",\n    value: function () {\n      return this._generalToolbarVisible ? this._generalToolbar : this._fileToolbar;\n    }\n  }, {\n    key: \"_createToolbar\",\n    value: function (items, hidden) {\n      var _this = this;\n\n      var toolbarItems = this._getPreparedItems(items);\n\n      var $toolbar = (0, _renderer.default)(\"<div>\").appendTo(this.$element());\n\n      var result = this._createComponent($toolbar, _toolbar.default, {\n        items: toolbarItems,\n        visible: !hidden,\n        onItemClick: function (args) {\n          return _this._raiseItemClicked(args);\n        }\n      });\n\n      result.compactMode = false;\n      return result;\n    }\n  }, {\n    key: \"_getPreparedItems\",\n    value: function (items) {\n      var _this2 = this;\n\n      items = items.map(function (item) {\n        var extendedItem = item;\n\n        if ((0, _type.isString)(item)) {\n          extendedItem = {\n            name: item\n          };\n        }\n\n        var commandName = extendedItem.name;\n\n        var preparedItem = _this2._configureItemByCommandName(commandName, extendedItem);\n\n        preparedItem.originalItemData = item;\n\n        if (\"separator\" !== commandName) {\n          _this2._setItemVisibleAvailable(preparedItem);\n        }\n\n        return preparedItem;\n      });\n\n      this._updateSeparatorsVisibility(items);\n\n      return items;\n    }\n  }, {\n    key: \"_updateSeparatorsVisibility\",\n    value: function (items, toolbar) {\n      var _this3 = this;\n\n      var hasModifications = false;\n\n      var menuItems = this._getMenuItems(toolbar);\n\n      var hasItemsBefore = {\n        before: false,\n        center: false,\n        after: false\n      };\n      var itemGroups = {\n        before: this._getItemsInGroup(items, menuItems, \"before\"),\n        center: this._getItemsInGroup(items, menuItems, \"center\"),\n        after: this._getItemsInGroup(items, menuItems, \"after\")\n      };\n      items.forEach(function (item, i) {\n        var itemLocation = item.location;\n\n        if (\"separator\" === item.name) {\n          var isSeparatorVisible = hasItemsBefore[itemLocation] && _this3._groupHasItemsAfter(itemGroups[itemLocation]);\n\n          if (item.visible !== isSeparatorVisible) {\n            hasModifications = true;\n            item.visible = isSeparatorVisible;\n          }\n\n          hasItemsBefore[itemLocation] = false;\n        } else {\n          if (!_this3._isItemInMenu(menuItems, item)) {\n            hasItemsBefore[itemLocation] = hasItemsBefore[itemLocation] || item.visible;\n          }\n\n          itemGroups[itemLocation].shift();\n        }\n      });\n\n      if (toolbar && hasModifications) {\n        toolbar.repaint();\n      }\n\n      return hasModifications;\n    }\n  }, {\n    key: \"_getMenuItems\",\n    value: function (toolbar) {\n      var result = toolbar ? toolbar._getMenuItems() : [];\n      return result.map(function (menuItem) {\n        return menuItem.originalItemData;\n      });\n    }\n  }, {\n    key: \"_isItemInMenu\",\n    value: function (menuItems, item) {\n      return !!menuItems.length && \"never\" !== (0, _common.ensureDefined)(item.locateInMenu, \"never\") && menuItems.indexOf(item.originalItemData) !== -1;\n    }\n  }, {\n    key: \"_getItemsInGroup\",\n    value: function (items, menuItems, groupName) {\n      var _this4 = this;\n\n      return items.filter(function (item) {\n        return item.location === groupName && !_this4._isItemInMenu(menuItems, item);\n      });\n    }\n  }, {\n    key: \"_groupHasItemsAfter\",\n    value: function (items) {\n      for (var i = 0; i < items.length; i++) {\n        if (\"separator\" !== items[i].name && items[i].visible) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_configureItemByCommandName\",\n    value: function (commandName, item) {\n      var result = {};\n\n      var command = this._commandManager.getCommandByName(commandName);\n\n      if (command) {\n        result = this._createCommandItem(command);\n      }\n\n      switch (commandName) {\n        case \"separator\":\n          result = this._createSeparatorItem();\n          break;\n\n        case \"switchView\":\n          result = this._createViewModeItem();\n      }\n\n      if (this._isDefaultItem(commandName)) {\n        var defaultConfig = DEFAULT_ITEM_CONFIGS[commandName];\n        (0, _extend.extend)(true, result, defaultConfig);\n        (0, _uiFile_manager.extendAttributes)(result, item, [\"visible\", \"location\", \"locateInMenu\"]);\n\n        if (!(0, _type.isDefined)(item.visible)) {\n          result._autoHide = true;\n        } else {\n          (0, _uiFile_manager.extendAttributes)(result, item, [\"disabled\"]);\n        }\n\n        (0, _uiFile_manager.extendAttributes)(result.options, item, [\"text\", \"icon\"]);\n\n        if (\"dxButton\" === result.widget) {\n          if (\"inMenu\" === result.showText && !(0, _type.isDefined)(result.options.hint)) {\n            result.options.hint = result.options.text;\n          }\n\n          if (result.compactMode && !(0, _type.isDefined)(result.options.hint)) {\n            this._configureHintForCompactMode(result);\n          }\n        }\n      } else {\n        (0, _extend.extend)(true, result, item);\n\n        if (!result.widget) {\n          result.widget = \"dxButton\";\n        }\n\n        if (\"dxButton\" === result.widget && !result.compactMode && !result.showText && result.options.icon && result.options.text) {\n          result.compactMode = {\n            showText: \"inMenu\"\n          };\n        }\n      }\n\n      if (commandName && !result.name) {\n        (0, _extend.extend)(result, {\n          name: commandName\n        });\n      }\n\n      result.location = (0, _common.ensureDefined)(result.location, \"before\");\n\n      if (\"dxButton\" === result.widget) {\n        (0, _extend.extend)(true, result, {\n          options: {\n            stylingMode: \"text\"\n          }\n        });\n      }\n\n      if (\"dxSelectBox\" === result.widget) {\n        (0, _extend.extend)(true, result, {\n          options: {\n            stylingMode: \"filled\"\n          }\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_isDefaultItem\",\n    value: function (commandName) {\n      return !!DEFAULT_ITEM_CONFIGS[commandName];\n    }\n  }, {\n    key: \"_createCommandItem\",\n    value: function (command) {\n      var _this5 = this;\n\n      return {\n        widget: \"dxButton\",\n        options: {\n          text: command.text,\n          hint: command.hint,\n          commandText: command.text,\n          icon: command.icon,\n          stylingMode: \"text\",\n          onClick: function (e) {\n            return _this5._executeCommand(command);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"_createSeparatorItem\",\n    value: function () {\n      return {\n        template: function (data, index, element) {\n          (0, _renderer.default)(element).addClass(FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS);\n        }\n      };\n    }\n  }, {\n    key: \"_createViewModeItem\",\n    value: function () {\n      var _this6 = this;\n\n      var commandItems = [\"details\", \"thumbnails\"].map(function (name) {\n        var _this6$_commandManage = _this6._commandManager.getCommandByName(name),\n            text = _this6$_commandManage.text,\n            icon = _this6$_commandManage.icon;\n\n        return {\n          name: name,\n          text: text,\n          icon: icon\n        };\n      });\n      var selectedIndex = \"thumbnails\" === this.option(\"itemViewMode\") ? 1 : 0;\n      return {\n        cssClass: FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS,\n        widget: \"dxDropDownButton\",\n        options: {\n          items: commandItems,\n          keyExpr: \"name\",\n          selectedItemKey: this.option(\"itemViewMode\"),\n          displayExpr: \" \",\n          hint: commandItems[selectedIndex].text,\n          stylingMode: \"text\",\n          showArrowIcon: false,\n          useSelectMode: true,\n          dropDownOptions: {\n            container: this._$viewSwitcherPopup\n          },\n          onItemClick: function (e) {\n            return _this6._executeCommand(e.itemData.name);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"_configureHintForCompactMode\",\n    value: function (item) {\n      item.options.hint = \"\";\n      item.compactMode.options = item.compactMode.options || {};\n      item.compactMode.options.hint = item.options.text;\n    }\n  }, {\n    key: \"_checkCompactMode\",\n    value: function (toolbar) {\n      if (toolbar.compactMode) {\n        this._toggleCompactMode(toolbar, false);\n      }\n\n      var useCompactMode = this._toolbarHasItemsOverflow(toolbar);\n\n      if (toolbar.compactMode !== useCompactMode) {\n        if (!toolbar.compactMode) {\n          this._toggleCompactMode(toolbar, useCompactMode);\n        }\n\n        toolbar.compactMode = useCompactMode;\n      } else {\n        if (toolbar.compactMode) {\n          this._toggleCompactMode(toolbar, true);\n        }\n      }\n    }\n  }, {\n    key: \"_toolbarHasItemsOverflow\",\n    value: function (toolbar) {\n      var toolbarWidth = toolbar.$element().width();\n\n      var itemsWidth = toolbar._getItemsWidth();\n\n      return toolbarWidth < itemsWidth;\n    }\n  }, {\n    key: \"_toggleCompactMode\",\n    value: function (toolbar, useCompactMode) {\n      var _this7 = this;\n\n      var hasModifications = false;\n      var items = toolbar.option(\"items\");\n      items.forEach(function (item) {\n        if (item.compactMode) {\n          var optionsSource = null;\n\n          if (useCompactMode) {\n            item.saved = _this7._getCompactModeOptions(item, item._available);\n            optionsSource = item.compactMode;\n          } else {\n            optionsSource = item.saved;\n          }\n\n          var options = _this7._getCompactModeOptions(optionsSource, item._available);\n\n          (0, _extend.extend)(true, item, options);\n          hasModifications = true;\n        }\n      });\n      hasModifications = this._updateSeparatorsVisibility(items) || hasModifications;\n\n      if (hasModifications) {\n        toolbar.repaint();\n      }\n\n      this._updateSeparatorsVisibility(items, toolbar);\n    }\n  }, {\n    key: \"_getCompactModeOptions\",\n    value: function (_ref, available) {\n      var showText = _ref.showText,\n          locateInMenu = _ref.locateInMenu,\n          options = _ref.options;\n      return {\n        visible: available,\n        showText: (0, _common.ensureDefined)(showText, \"always\"),\n        locateInMenu: (0, _common.ensureDefined)(locateInMenu, \"never\"),\n        options: {\n          hint: null === options || void 0 === options ? void 0 : options.hint\n        }\n      };\n    }\n  }, {\n    key: \"_ensureAvailableCommandsVisible\",\n    value: function (toolbar, fileItems) {\n      var _this8 = this;\n\n      var hasModifications = false;\n      var items = toolbar.option(\"items\");\n      items.forEach(function (item) {\n        if (\"separator\" !== item.name) {\n          var itemVisible = item._available;\n\n          _this8._setItemVisibleAvailable(item, fileItems);\n\n          if (item._available !== itemVisible) {\n            hasModifications = true;\n          }\n        }\n      });\n      hasModifications = this._updateSeparatorsVisibility(items) || hasModifications;\n\n      if (hasModifications) {\n        toolbar.repaint();\n      }\n\n      this._updateSeparatorsVisibility(items, toolbar);\n    }\n  }, {\n    key: \"_setItemVisibleAvailable\",\n    value: function (item, fileItems) {\n      var _item$originalItemDat;\n\n      var originalVisible = null === (_item$originalItemDat = item.originalItemData) || void 0 === _item$originalItemDat ? void 0 : _item$originalItemDat.visible;\n      item._available = this._isToolbarItemAvailable(item, fileItems);\n      item.visible = (0, _type.isDefined)(originalVisible) ? originalVisible : item._available;\n    }\n  }, {\n    key: \"_fileToolbarHasEffectiveItems\",\n    value: function (fileItems) {\n      var _this9 = this;\n\n      var items = this._fileToolbar.option(\"items\");\n\n      return items.some(function (item) {\n        return _this9._isFileToolbarItemAvailable(item, fileItems);\n      });\n    }\n  }, {\n    key: \"_executeCommand\",\n    value: function (command) {\n      this._commandManager.executeCommand(command);\n    }\n  }, {\n    key: \"_isToolbarItemAvailable\",\n    value: function (toolbarItem, fileItems) {\n      if (!this._isDefaultItem(toolbarItem.name) || !toolbarItem._autoHide) {\n        return (0, _common.ensureDefined)(toolbarItem.visible, true);\n      }\n\n      if (\"refresh\" === toolbarItem.name) {\n        return this._generalToolbarVisible || !!this._isRefreshVisibleInFileToolbar;\n      }\n\n      if (ALWAYS_VISIBLE_TOOLBAR_ITEMS.indexOf(toolbarItem.name) > -1) {\n        return true;\n      }\n\n      return this._commandManager.isCommandAvailable(toolbarItem.name, fileItems);\n    }\n  }, {\n    key: \"_isFileToolbarItemAvailable\",\n    value: function (_ref2, fileItems) {\n      var name = _ref2.name,\n          visible = _ref2.visible;\n      return !this._isDefaultItem(name) && (0, _common.ensureDefined)(visible, true) || \"clearSelection\" !== name && \"refresh\" !== name && this._commandManager.isCommandAvailable(name, fileItems);\n    }\n  }, {\n    key: \"_updateItemInToolbar\",\n    value: function (toolbar, commandName, options) {\n      toolbar.beginUpdate();\n      var items = toolbar.option(\"items\");\n\n      for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n\n        if (item.name === commandName) {\n          toolbar.option(\"items[\".concat(i, \"]\"), options);\n          break;\n        }\n      }\n\n      toolbar.endUpdate();\n    }\n  }, {\n    key: \"_raiseItemClicked\",\n    value: function (args) {\n      var changedArgs = (0, _extend.extend)(true, {}, args);\n      changedArgs.itemData = args.itemData.originalItemData;\n\n      this._itemClickedAction(changedArgs);\n    }\n  }, {\n    key: \"_createItemClickedAction\",\n    value: function () {\n      this._itemClickedAction = this._createActionByOption(\"onItemClick\");\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function () {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerToolbar.prototype), \"_getDefaultOptions\", this).call(this), {\n        commandManager: null,\n        generalItems: [],\n        fileItems: [],\n        itemViewMode: \"details\",\n        onItemClick: null\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function (args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"commandManager\":\n        case \"itemViewMode\":\n        case \"generalItems\":\n        case \"fileItems\":\n          this.repaint();\n          break;\n\n        case \"onItemClick\":\n          this._itemClickedAction = this._createActionByOption(name);\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManagerToolbar.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"updateRefreshItem\",\n    value: function (message, status) {\n      var generalToolbarOptions = null;\n\n      var text = _message.default.format(\"dxFileManager-commandRefresh\");\n\n      var showText = \"inMenu\";\n      this._isRefreshVisibleInFileToolbar = false;\n\n      if (\"default\" === status) {\n        generalToolbarOptions = {\n          options: {\n            icon: REFRESH_ICON_MAP.default\n          }\n        };\n      } else {\n        generalToolbarOptions = {\n          options: {\n            icon: REFRESH_ICON_MAP[status]\n          }\n        };\n        this._isRefreshVisibleInFileToolbar = true;\n        text = message;\n        showText = \"always\";\n      }\n\n      var fileToolbarOptions = (0, _extend.extend)({}, generalToolbarOptions, {\n        visible: this._isRefreshVisibleInFileToolbar\n      });\n\n      this._applyRefreshItemOptions(generalToolbarOptions, fileToolbarOptions);\n\n      this._refreshItemTextTimeout = this._updateRefreshItemText(\"progress\" === status, text, showText);\n    }\n  }, {\n    key: \"_updateRefreshItemText\",\n    value: function (isDeferredUpdate, text, showText) {\n      var _this10 = this;\n\n      var options = {\n        showText: showText,\n        options: {\n          text: text\n        }\n      };\n\n      if (isDeferredUpdate) {\n        return setTimeout(function () {\n          _this10._applyRefreshItemOptions(options);\n\n          _this10._refreshItemTextTimeout = void 0;\n        }, REFRESH_ITEM_PROGRESS_MESSAGE_DELAY);\n      } else {\n        if (this._refreshItemTextTimeout) {\n          clearTimeout(this._refreshItemTextTimeout);\n        }\n\n        this._applyRefreshItemOptions(options);\n\n        return;\n      }\n    }\n  }, {\n    key: \"_applyRefreshItemOptions\",\n    value: function (generalToolbarOptions, fileToolbarOptions) {\n      if (!fileToolbarOptions) {\n        fileToolbarOptions = (0, _extend.extend)({}, generalToolbarOptions);\n      }\n\n      this._updateItemInToolbar(this._generalToolbar, \"refresh\", generalToolbarOptions);\n\n      this._updateItemInToolbar(this._fileToolbar, \"refresh\", fileToolbarOptions);\n    }\n  }, {\n    key: \"update\",\n    value: function (fileItems) {\n      fileItems = (0, _common.ensureDefined)(fileItems, []);\n      var showGeneralToolbar = 0 === fileItems.length || !this._fileToolbarHasEffectiveItems(fileItems);\n\n      if (this._generalToolbarVisible !== showGeneralToolbar) {\n        this._generalToolbar.option(\"visible\", showGeneralToolbar);\n\n        this._fileToolbar.option(\"visible\", !showGeneralToolbar);\n\n        this._generalToolbarVisible = showGeneralToolbar;\n        this.$element().toggleClass(FILE_MANAGER_GENERAL_TOOLBAR_CLASS, showGeneralToolbar);\n        this.$element().toggleClass(FILE_MANAGER_FILE_TOOLBAR_CLASS, !showGeneralToolbar);\n      }\n\n      var toolbar = this._getVisibleToolbar();\n\n      this._ensureAvailableCommandsVisible(toolbar, fileItems);\n\n      this._checkCompactMode(toolbar);\n    }\n  }]);\n\n  return FileManagerToolbar;\n}(_ui.default);\n\nvar _default = FileManagerToolbar;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/file_manager/ui.file_manager.toolbar.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_renderer","_interopRequireDefault","require","_extend","_type","_common","_message","_uiFile_manager","_ui","_toolbar","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","FILE_MANAGER_TOOLBAR_CLASS","FILE_MANAGER_GENERAL_TOOLBAR_CLASS","FILE_MANAGER_FILE_TOOLBAR_CLASS","FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS","FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS","FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS","FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS","DEFAULT_ITEM_CONFIGS","showNavPane","location","compactMode","showText","locateInMenu","upload","refresh","cssClass","switchView","download","move","copy","rename","clearSelection","separator","ALWAYS_VISIBLE_TOOLBAR_ITEMS","REFRESH_ICON_MAP","progress","success","error","REFRESH_ITEM_PROGRESS_MESSAGE_DELAY","FileManagerToolbar","_Widget","_super","_commandManager","option","_createItemClickedAction","_generalToolbarVisible","_$viewSwitcherPopup","addClass","_generalToolbar","_createToolbar","_fileToolbar","appendTo","$element","toolbar","_getVisibleToolbar","_checkCompactMode","dimension","items","hidden","_this","toolbarItems","_getPreparedItems","$toolbar","_createComponent","visible","onItemClick","args","_raiseItemClicked","_this2","map","item","extendedItem","isString","name","commandName","preparedItem","_configureItemByCommandName","originalItemData","_setItemVisibleAvailable","_updateSeparatorsVisibility","_this3","hasModifications","menuItems","_getMenuItems","hasItemsBefore","before","center","after","itemGroups","_getItemsInGroup","forEach","itemLocation","isSeparatorVisible","_groupHasItemsAfter","_isItemInMenu","shift","repaint","menuItem","ensureDefined","indexOf","groupName","_this4","filter","command","getCommandByName","_createCommandItem","_createSeparatorItem","_createViewModeItem","_isDefaultItem","defaultConfig","extend","extendAttributes","isDefined","_autoHide","options","widget","hint","text","_configureHintForCompactMode","icon","stylingMode","_this5","commandText","onClick","_executeCommand","template","data","index","element","_this6","commandItems","_this6$_commandManage","selectedIndex","keyExpr","selectedItemKey","displayExpr","showArrowIcon","useSelectMode","dropDownOptions","container","itemData","_toggleCompactMode","useCompactMode","_toolbarHasItemsOverflow","toolbarWidth","width","itemsWidth","_getItemsWidth","_this7","optionsSource","saved","_getCompactModeOptions","_available","_ref","available","fileItems","_this8","itemVisible","_item$originalItemDat","originalVisible","_isToolbarItemAvailable","_this9","some","_isFileToolbarItemAvailable","executeCommand","toolbarItem","_isRefreshVisibleInFileToolbar","isCommandAvailable","_ref2","beginUpdate","concat","endUpdate","changedArgs","_itemClickedAction","_createActionByOption","commandManager","generalItems","itemViewMode","message","status","generalToolbarOptions","format","fileToolbarOptions","_applyRefreshItemOptions","_refreshItemTextTimeout","_updateRefreshItemText","isDeferredUpdate","_this10","setTimeout","clearTimeout","_updateItemInToolbar","showGeneralToolbar","_fileToolbarHasEffectiveItems","toggleClass","_ensureAvailableCommandsVisible","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.toolbar.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _uiFile_manager = require(\"./ui.file_manager.common\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\nvar _toolbar = _interopRequireDefault(require(\"../toolbar\"));\r\nrequire(\"../drop_down_button\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar FILE_MANAGER_TOOLBAR_CLASS = \"dx-filemanager-toolbar\";\r\nvar FILE_MANAGER_GENERAL_TOOLBAR_CLASS = \"dx-filemanager-general-toolbar\";\r\nvar FILE_MANAGER_FILE_TOOLBAR_CLASS = \"dx-filemanager-file-toolbar\";\r\nvar FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS = FILE_MANAGER_TOOLBAR_CLASS + \"-separator-item\";\r\nvar FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS = FILE_MANAGER_TOOLBAR_CLASS + \"-viewmode-item\";\r\nvar FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS = FILE_MANAGER_TOOLBAR_CLASS + \"-has-large-icon\";\r\nvar FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS = \"dx-filemanager-view-switcher-popup\";\r\nvar DEFAULT_ITEM_CONFIGS = {\r\n    showNavPane: {\r\n        location: \"before\"\r\n    },\r\n    create: {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    upload: {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    refresh: {\r\n        location: \"after\",\r\n        showText: \"inMenu\",\r\n        cssClass: FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS,\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    switchView: {\r\n        location: \"after\"\r\n    },\r\n    download: {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    move: {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    copy: {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    rename: {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\",\r\n            locateInMenu: \"auto\"\r\n        }\r\n    },\r\n    \"delete\": {\r\n        location: \"before\",\r\n        compactMode: {\r\n            showText: \"inMenu\"\r\n        }\r\n    },\r\n    clearSelection: {\r\n        location: \"after\",\r\n        locateInMenu: \"never\",\r\n        compactMode: {\r\n            showText: \"inMenu\"\r\n        }\r\n    },\r\n    separator: {\r\n        location: \"before\"\r\n    }\r\n};\r\nvar ALWAYS_VISIBLE_TOOLBAR_ITEMS = [\"separator\", \"switchView\"];\r\nvar REFRESH_ICON_MAP = {\r\n    \"default\": \"dx-filemanager-i dx-filemanager-i-refresh\",\r\n    progress: \"dx-filemanager-i dx-filemanager-i-progress\",\r\n    success: \"dx-filemanager-i dx-filemanager-i-done\",\r\n    error: \"dx-filemanager-i dx-filemanager-i-danger\"\r\n};\r\nvar REFRESH_ITEM_PROGRESS_MESSAGE_DELAY = 500;\r\nvar FileManagerToolbar = function(_Widget) {\r\n    _inherits(FileManagerToolbar, _Widget);\r\n    var _super = _createSuper(FileManagerToolbar);\r\n\r\n    function FileManagerToolbar() {\r\n        _classCallCheck(this, FileManagerToolbar);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(FileManagerToolbar, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this._commandManager = this.option(\"commandManager\");\r\n            this._createItemClickedAction();\r\n            this._generalToolbarVisible = true;\r\n            this._$viewSwitcherPopup = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS);\r\n            this._generalToolbar = this._createToolbar(this.option(\"generalItems\"));\r\n            this._fileToolbar = this._createToolbar(this.option(\"fileItems\"), true);\r\n            this._$viewSwitcherPopup.appendTo(this.$element());\r\n            this.$element().addClass(FILE_MANAGER_TOOLBAR_CLASS + \" \" + FILE_MANAGER_GENERAL_TOOLBAR_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(FileManagerToolbar.prototype), \"_render\", this).call(this);\r\n            var toolbar = this._getVisibleToolbar();\r\n            this._checkCompactMode(toolbar)\r\n        }\r\n    }, {\r\n        key: \"_dimensionChanged\",\r\n        value: function(dimension) {\r\n            if (!dimension || \"height\" !== dimension) {\r\n                var toolbar = this._getVisibleToolbar();\r\n                this._checkCompactMode(toolbar)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getVisibleToolbar\",\r\n        value: function() {\r\n            return this._generalToolbarVisible ? this._generalToolbar : this._fileToolbar\r\n        }\r\n    }, {\r\n        key: \"_createToolbar\",\r\n        value: function(items, hidden) {\r\n            var _this = this;\r\n            var toolbarItems = this._getPreparedItems(items);\r\n            var $toolbar = (0, _renderer.default)(\"<div>\").appendTo(this.$element());\r\n            var result = this._createComponent($toolbar, _toolbar.default, {\r\n                items: toolbarItems,\r\n                visible: !hidden,\r\n                onItemClick: function(args) {\r\n                    return _this._raiseItemClicked(args)\r\n                }\r\n            });\r\n            result.compactMode = false;\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getPreparedItems\",\r\n        value: function(items) {\r\n            var _this2 = this;\r\n            items = items.map(function(item) {\r\n                var extendedItem = item;\r\n                if ((0, _type.isString)(item)) {\r\n                    extendedItem = {\r\n                        name: item\r\n                    }\r\n                }\r\n                var commandName = extendedItem.name;\r\n                var preparedItem = _this2._configureItemByCommandName(commandName, extendedItem);\r\n                preparedItem.originalItemData = item;\r\n                if (\"separator\" !== commandName) {\r\n                    _this2._setItemVisibleAvailable(preparedItem)\r\n                }\r\n                return preparedItem\r\n            });\r\n            this._updateSeparatorsVisibility(items);\r\n            return items\r\n        }\r\n    }, {\r\n        key: \"_updateSeparatorsVisibility\",\r\n        value: function(items, toolbar) {\r\n            var _this3 = this;\r\n            var hasModifications = false;\r\n            var menuItems = this._getMenuItems(toolbar);\r\n            var hasItemsBefore = {\r\n                before: false,\r\n                center: false,\r\n                after: false\r\n            };\r\n            var itemGroups = {\r\n                before: this._getItemsInGroup(items, menuItems, \"before\"),\r\n                center: this._getItemsInGroup(items, menuItems, \"center\"),\r\n                after: this._getItemsInGroup(items, menuItems, \"after\")\r\n            };\r\n            items.forEach(function(item, i) {\r\n                var itemLocation = item.location;\r\n                if (\"separator\" === item.name) {\r\n                    var isSeparatorVisible = hasItemsBefore[itemLocation] && _this3._groupHasItemsAfter(itemGroups[itemLocation]);\r\n                    if (item.visible !== isSeparatorVisible) {\r\n                        hasModifications = true;\r\n                        item.visible = isSeparatorVisible\r\n                    }\r\n                    hasItemsBefore[itemLocation] = false\r\n                } else {\r\n                    if (!_this3._isItemInMenu(menuItems, item)) {\r\n                        hasItemsBefore[itemLocation] = hasItemsBefore[itemLocation] || item.visible\r\n                    }\r\n                    itemGroups[itemLocation].shift()\r\n                }\r\n            });\r\n            if (toolbar && hasModifications) {\r\n                toolbar.repaint()\r\n            }\r\n            return hasModifications\r\n        }\r\n    }, {\r\n        key: \"_getMenuItems\",\r\n        value: function(toolbar) {\r\n            var result = toolbar ? toolbar._getMenuItems() : [];\r\n            return result.map(function(menuItem) {\r\n                return menuItem.originalItemData\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_isItemInMenu\",\r\n        value: function(menuItems, item) {\r\n            return !!menuItems.length && \"never\" !== (0, _common.ensureDefined)(item.locateInMenu, \"never\") && menuItems.indexOf(item.originalItemData) !== -1\r\n        }\r\n    }, {\r\n        key: \"_getItemsInGroup\",\r\n        value: function(items, menuItems, groupName) {\r\n            var _this4 = this;\r\n            return items.filter(function(item) {\r\n                return item.location === groupName && !_this4._isItemInMenu(menuItems, item)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_groupHasItemsAfter\",\r\n        value: function(items) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                if (\"separator\" !== items[i].name && items[i].visible) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_configureItemByCommandName\",\r\n        value: function(commandName, item) {\r\n            var result = {};\r\n            var command = this._commandManager.getCommandByName(commandName);\r\n            if (command) {\r\n                result = this._createCommandItem(command)\r\n            }\r\n            switch (commandName) {\r\n                case \"separator\":\r\n                    result = this._createSeparatorItem();\r\n                    break;\r\n                case \"switchView\":\r\n                    result = this._createViewModeItem()\r\n            }\r\n            if (this._isDefaultItem(commandName)) {\r\n                var defaultConfig = DEFAULT_ITEM_CONFIGS[commandName];\r\n                (0, _extend.extend)(true, result, defaultConfig);\r\n                (0, _uiFile_manager.extendAttributes)(result, item, [\"visible\", \"location\", \"locateInMenu\"]);\r\n                if (!(0, _type.isDefined)(item.visible)) {\r\n                    result._autoHide = true\r\n                } else {\r\n                    (0, _uiFile_manager.extendAttributes)(result, item, [\"disabled\"])\r\n                }(0, _uiFile_manager.extendAttributes)(result.options, item, [\"text\", \"icon\"]);\r\n                if (\"dxButton\" === result.widget) {\r\n                    if (\"inMenu\" === result.showText && !(0, _type.isDefined)(result.options.hint)) {\r\n                        result.options.hint = result.options.text\r\n                    }\r\n                    if (result.compactMode && !(0, _type.isDefined)(result.options.hint)) {\r\n                        this._configureHintForCompactMode(result)\r\n                    }\r\n                }\r\n            } else {\r\n                (0, _extend.extend)(true, result, item);\r\n                if (!result.widget) {\r\n                    result.widget = \"dxButton\"\r\n                }\r\n                if (\"dxButton\" === result.widget && !result.compactMode && !result.showText && result.options.icon && result.options.text) {\r\n                    result.compactMode = {\r\n                        showText: \"inMenu\"\r\n                    }\r\n                }\r\n            }\r\n            if (commandName && !result.name) {\r\n                (0, _extend.extend)(result, {\r\n                    name: commandName\r\n                })\r\n            }\r\n            result.location = (0, _common.ensureDefined)(result.location, \"before\");\r\n            if (\"dxButton\" === result.widget) {\r\n                (0, _extend.extend)(true, result, {\r\n                    options: {\r\n                        stylingMode: \"text\"\r\n                    }\r\n                })\r\n            }\r\n            if (\"dxSelectBox\" === result.widget) {\r\n                (0, _extend.extend)(true, result, {\r\n                    options: {\r\n                        stylingMode: \"filled\"\r\n                    }\r\n                })\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_isDefaultItem\",\r\n        value: function(commandName) {\r\n            return !!DEFAULT_ITEM_CONFIGS[commandName]\r\n        }\r\n    }, {\r\n        key: \"_createCommandItem\",\r\n        value: function(command) {\r\n            var _this5 = this;\r\n            return {\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: command.text,\r\n                    hint: command.hint,\r\n                    commandText: command.text,\r\n                    icon: command.icon,\r\n                    stylingMode: \"text\",\r\n                    onClick: function(e) {\r\n                        return _this5._executeCommand(command)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createSeparatorItem\",\r\n        value: function() {\r\n            return {\r\n                template: function(data, index, element) {\r\n                    (0, _renderer.default)(element).addClass(FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createViewModeItem\",\r\n        value: function() {\r\n            var _this6 = this;\r\n            var commandItems = [\"details\", \"thumbnails\"].map(function(name) {\r\n                var _this6$_commandManage = _this6._commandManager.getCommandByName(name),\r\n                    text = _this6$_commandManage.text,\r\n                    icon = _this6$_commandManage.icon;\r\n                return {\r\n                    name: name,\r\n                    text: text,\r\n                    icon: icon\r\n                }\r\n            });\r\n            var selectedIndex = \"thumbnails\" === this.option(\"itemViewMode\") ? 1 : 0;\r\n            return {\r\n                cssClass: FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS,\r\n                widget: \"dxDropDownButton\",\r\n                options: {\r\n                    items: commandItems,\r\n                    keyExpr: \"name\",\r\n                    selectedItemKey: this.option(\"itemViewMode\"),\r\n                    displayExpr: \" \",\r\n                    hint: commandItems[selectedIndex].text,\r\n                    stylingMode: \"text\",\r\n                    showArrowIcon: false,\r\n                    useSelectMode: true,\r\n                    dropDownOptions: {\r\n                        container: this._$viewSwitcherPopup\r\n                    },\r\n                    onItemClick: function(e) {\r\n                        return _this6._executeCommand(e.itemData.name)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_configureHintForCompactMode\",\r\n        value: function(item) {\r\n            item.options.hint = \"\";\r\n            item.compactMode.options = item.compactMode.options || {};\r\n            item.compactMode.options.hint = item.options.text\r\n        }\r\n    }, {\r\n        key: \"_checkCompactMode\",\r\n        value: function(toolbar) {\r\n            if (toolbar.compactMode) {\r\n                this._toggleCompactMode(toolbar, false)\r\n            }\r\n            var useCompactMode = this._toolbarHasItemsOverflow(toolbar);\r\n            if (toolbar.compactMode !== useCompactMode) {\r\n                if (!toolbar.compactMode) {\r\n                    this._toggleCompactMode(toolbar, useCompactMode)\r\n                }\r\n                toolbar.compactMode = useCompactMode\r\n            } else {\r\n                if (toolbar.compactMode) {\r\n                    this._toggleCompactMode(toolbar, true)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_toolbarHasItemsOverflow\",\r\n        value: function(toolbar) {\r\n            var toolbarWidth = toolbar.$element().width();\r\n            var itemsWidth = toolbar._getItemsWidth();\r\n            return toolbarWidth < itemsWidth\r\n        }\r\n    }, {\r\n        key: \"_toggleCompactMode\",\r\n        value: function(toolbar, useCompactMode) {\r\n            var _this7 = this;\r\n            var hasModifications = false;\r\n            var items = toolbar.option(\"items\");\r\n            items.forEach(function(item) {\r\n                if (item.compactMode) {\r\n                    var optionsSource = null;\r\n                    if (useCompactMode) {\r\n                        item.saved = _this7._getCompactModeOptions(item, item._available);\r\n                        optionsSource = item.compactMode\r\n                    } else {\r\n                        optionsSource = item.saved\r\n                    }\r\n                    var options = _this7._getCompactModeOptions(optionsSource, item._available);\r\n                    (0, _extend.extend)(true, item, options);\r\n                    hasModifications = true\r\n                }\r\n            });\r\n            hasModifications = this._updateSeparatorsVisibility(items) || hasModifications;\r\n            if (hasModifications) {\r\n                toolbar.repaint()\r\n            }\r\n            this._updateSeparatorsVisibility(items, toolbar)\r\n        }\r\n    }, {\r\n        key: \"_getCompactModeOptions\",\r\n        value: function(_ref, available) {\r\n            var showText = _ref.showText,\r\n                locateInMenu = _ref.locateInMenu,\r\n                options = _ref.options;\r\n            return {\r\n                visible: available,\r\n                showText: (0, _common.ensureDefined)(showText, \"always\"),\r\n                locateInMenu: (0, _common.ensureDefined)(locateInMenu, \"never\"),\r\n                options: {\r\n                    hint: null === options || void 0 === options ? void 0 : options.hint\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_ensureAvailableCommandsVisible\",\r\n        value: function(toolbar, fileItems) {\r\n            var _this8 = this;\r\n            var hasModifications = false;\r\n            var items = toolbar.option(\"items\");\r\n            items.forEach(function(item) {\r\n                if (\"separator\" !== item.name) {\r\n                    var itemVisible = item._available;\r\n                    _this8._setItemVisibleAvailable(item, fileItems);\r\n                    if (item._available !== itemVisible) {\r\n                        hasModifications = true\r\n                    }\r\n                }\r\n            });\r\n            hasModifications = this._updateSeparatorsVisibility(items) || hasModifications;\r\n            if (hasModifications) {\r\n                toolbar.repaint()\r\n            }\r\n            this._updateSeparatorsVisibility(items, toolbar)\r\n        }\r\n    }, {\r\n        key: \"_setItemVisibleAvailable\",\r\n        value: function(item, fileItems) {\r\n            var _item$originalItemDat;\r\n            var originalVisible = null === (_item$originalItemDat = item.originalItemData) || void 0 === _item$originalItemDat ? void 0 : _item$originalItemDat.visible;\r\n            item._available = this._isToolbarItemAvailable(item, fileItems);\r\n            item.visible = (0, _type.isDefined)(originalVisible) ? originalVisible : item._available\r\n        }\r\n    }, {\r\n        key: \"_fileToolbarHasEffectiveItems\",\r\n        value: function(fileItems) {\r\n            var _this9 = this;\r\n            var items = this._fileToolbar.option(\"items\");\r\n            return items.some(function(item) {\r\n                return _this9._isFileToolbarItemAvailable(item, fileItems)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_executeCommand\",\r\n        value: function(command) {\r\n            this._commandManager.executeCommand(command)\r\n        }\r\n    }, {\r\n        key: \"_isToolbarItemAvailable\",\r\n        value: function(toolbarItem, fileItems) {\r\n            if (!this._isDefaultItem(toolbarItem.name) || !toolbarItem._autoHide) {\r\n                return (0, _common.ensureDefined)(toolbarItem.visible, true)\r\n            }\r\n            if (\"refresh\" === toolbarItem.name) {\r\n                return this._generalToolbarVisible || !!this._isRefreshVisibleInFileToolbar\r\n            }\r\n            if (ALWAYS_VISIBLE_TOOLBAR_ITEMS.indexOf(toolbarItem.name) > -1) {\r\n                return true\r\n            }\r\n            return this._commandManager.isCommandAvailable(toolbarItem.name, fileItems)\r\n        }\r\n    }, {\r\n        key: \"_isFileToolbarItemAvailable\",\r\n        value: function(_ref2, fileItems) {\r\n            var name = _ref2.name,\r\n                visible = _ref2.visible;\r\n            return !this._isDefaultItem(name) && (0, _common.ensureDefined)(visible, true) || \"clearSelection\" !== name && \"refresh\" !== name && this._commandManager.isCommandAvailable(name, fileItems)\r\n        }\r\n    }, {\r\n        key: \"_updateItemInToolbar\",\r\n        value: function(toolbar, commandName, options) {\r\n            toolbar.beginUpdate();\r\n            var items = toolbar.option(\"items\");\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                if (item.name === commandName) {\r\n                    toolbar.option(\"items[\".concat(i, \"]\"), options);\r\n                    break\r\n                }\r\n            }\r\n            toolbar.endUpdate()\r\n        }\r\n    }, {\r\n        key: \"_raiseItemClicked\",\r\n        value: function(args) {\r\n            var changedArgs = (0, _extend.extend)(true, {}, args);\r\n            changedArgs.itemData = args.itemData.originalItemData;\r\n            this._itemClickedAction(changedArgs)\r\n        }\r\n    }, {\r\n        key: \"_createItemClickedAction\",\r\n        value: function() {\r\n            this._itemClickedAction = this._createActionByOption(\"onItemClick\")\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerToolbar.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                commandManager: null,\r\n                generalItems: [],\r\n                fileItems: [],\r\n                itemViewMode: \"details\",\r\n                onItemClick: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"commandManager\":\r\n                case \"itemViewMode\":\r\n                case \"generalItems\":\r\n                case \"fileItems\":\r\n                    this.repaint();\r\n                    break;\r\n                case \"onItemClick\":\r\n                    this._itemClickedAction = this._createActionByOption(name);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManagerToolbar.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"updateRefreshItem\",\r\n        value: function(message, status) {\r\n            var generalToolbarOptions = null;\r\n            var text = _message.default.format(\"dxFileManager-commandRefresh\");\r\n            var showText = \"inMenu\";\r\n            this._isRefreshVisibleInFileToolbar = false;\r\n            if (\"default\" === status) {\r\n                generalToolbarOptions = {\r\n                    options: {\r\n                        icon: REFRESH_ICON_MAP.default\r\n                    }\r\n                }\r\n            } else {\r\n                generalToolbarOptions = {\r\n                    options: {\r\n                        icon: REFRESH_ICON_MAP[status]\r\n                    }\r\n                };\r\n                this._isRefreshVisibleInFileToolbar = true;\r\n                text = message;\r\n                showText = \"always\"\r\n            }\r\n            var fileToolbarOptions = (0, _extend.extend)({}, generalToolbarOptions, {\r\n                visible: this._isRefreshVisibleInFileToolbar\r\n            });\r\n            this._applyRefreshItemOptions(generalToolbarOptions, fileToolbarOptions);\r\n            this._refreshItemTextTimeout = this._updateRefreshItemText(\"progress\" === status, text, showText)\r\n        }\r\n    }, {\r\n        key: \"_updateRefreshItemText\",\r\n        value: function(isDeferredUpdate, text, showText) {\r\n            var _this10 = this;\r\n            var options = {\r\n                showText: showText,\r\n                options: {\r\n                    text: text\r\n                }\r\n            };\r\n            if (isDeferredUpdate) {\r\n                return setTimeout(function() {\r\n                    _this10._applyRefreshItemOptions(options);\r\n                    _this10._refreshItemTextTimeout = void 0\r\n                }, REFRESH_ITEM_PROGRESS_MESSAGE_DELAY)\r\n            } else {\r\n                if (this._refreshItemTextTimeout) {\r\n                    clearTimeout(this._refreshItemTextTimeout)\r\n                }\r\n                this._applyRefreshItemOptions(options);\r\n                return\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_applyRefreshItemOptions\",\r\n        value: function(generalToolbarOptions, fileToolbarOptions) {\r\n            if (!fileToolbarOptions) {\r\n                fileToolbarOptions = (0, _extend.extend)({}, generalToolbarOptions)\r\n            }\r\n            this._updateItemInToolbar(this._generalToolbar, \"refresh\", generalToolbarOptions);\r\n            this._updateItemInToolbar(this._fileToolbar, \"refresh\", fileToolbarOptions)\r\n        }\r\n    }, {\r\n        key: \"update\",\r\n        value: function(fileItems) {\r\n            fileItems = (0, _common.ensureDefined)(fileItems, []);\r\n            var showGeneralToolbar = 0 === fileItems.length || !this._fileToolbarHasEffectiveItems(fileItems);\r\n            if (this._generalToolbarVisible !== showGeneralToolbar) {\r\n                this._generalToolbar.option(\"visible\", showGeneralToolbar);\r\n                this._fileToolbar.option(\"visible\", !showGeneralToolbar);\r\n                this._generalToolbarVisible = showGeneralToolbar;\r\n                this.$element().toggleClass(FILE_MANAGER_GENERAL_TOOLBAR_CLASS, showGeneralToolbar);\r\n                this.$element().toggleClass(FILE_MANAGER_FILE_TOOLBAR_CLASS, !showGeneralToolbar)\r\n            }\r\n            var toolbar = this._getVisibleToolbar();\r\n            this._ensureAvailableCommandsVisible(toolbar, fileItems);\r\n            this._checkCompactMode(toolbar)\r\n        }\r\n    }]);\r\n    return FileManagerToolbar\r\n}(_ui.default);\r\nvar _default = FileManagerToolbar;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}