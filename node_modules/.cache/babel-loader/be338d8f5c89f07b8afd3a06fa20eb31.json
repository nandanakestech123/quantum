{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\Quantum\\\\Quotation\\\\AddQuotation\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { NormalInput, NormalSelect, NormalButton, NormalDateTime, NormalMultiSelect, NormalTextarea } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { getJobtitle, getCommonApi, commonCreateApi, commonUpdateApi, commonDeleteApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\nimport { NavLink } from \"react-router-dom\";\nimport { Address } from \"./address\";\nimport { Details } from \"./details\";\nimport { createQuotation, updateQuotation, deleteQuotation } from \"redux/actions/quotation\";\nimport { getTokenDetails } from \"redux/actions/auth\";\nimport { history } from \"helpers\";\nexport class AddQuotationClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        quoNumber: \"\",\n        projectTitle: \"\",\n        companyName: \"\",\n        quoDate: new Date(),\n        validity: \"\",\n        attnTo: \"\",\n        status: \"\",\n        terms: \"\",\n        preparedBy: \"\",\n        remarks: \"\",\n        footer: \"\"\n      },\n      fkProject: \"\",\n      statusOption: [],\n      countryOption: [],\n      stateOption: [],\n      cityOption: [],\n      disableEdit: false,\n      is_loading: true,\n      isMounted: true,\n      siteGstList: [],\n      formFieldsBillingStored: [],\n      formFieldsShippingStored: [],\n      storedItemListStored: [],\n      itemListBeforeEdit: [],\n      formFieldsDetailsStored: {},\n      active: false,\n      currentValue: 0,\n      navLinks: [{\n        to: this.props.location.pathname,\n        label: \"Details\",\n        id: \"Details\"\n      }, {\n        to: this.props.location.pathname,\n        label: \"Address\",\n        id: \"Address\"\n      }],\n      selectedMenu: \"Details\"\n    };\n\n    this.componentWillMount = () => {\n      this.getStatus();\n      this.getCountry();\n      this.getState();\n      this.getCity();\n      this.validator = new SimpleReactValidator({\n        validators: {},\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n    };\n\n    this.componentDidMount = () => {\n      if (this.props.location.state) {\n        console.log(\"this.props.location.state\", this.props.location.state);\n        this.state.fkProject = this.props.location.state.projectFk;\n        this.setState({\n          fkProject: this.state.fkProject\n        });\n        console.log(\"this.props.location.state.projectFk\", this.props.location.state.projectFk);\n        console.log(\"this.state.fkProject\", this.state.fkProject);\n        this.autofillFromProject();\n      }\n\n      console.log(\"this.props\", this.props);\n\n      if (this.props.match.params.id) {\n        this.getAutofillItemDetails();\n      }\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleClick = async key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      await this.setState({\n        selectedMenu: key.id\n      });\n      this.setState({\n        active: true,\n        currentValue: key.key,\n        selected: key.id\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleDatePick = async (name, value) => {\n      // dateFormat(new Date())\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.updateState({\n        formFields\n      });\n    };\n\n    this.getSiteGst = () => {\n      let {\n        siteGstList\n      } = this.state; // statusOption = [];\n\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`).then(res => {\n        console.log(\"res.data getSiteGst\", res.data.dataList);\n        siteGstList = res.data.dataList;\n        this.setState({\n          siteGstList\n        });\n      });\n    };\n\n    this.getStatus = () => {\n      let {\n        statusOption\n      } = this.state;\n      statusOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`dropdown`).then(res => {\n        console.log(\"res.datastatus\", res);\n\n        for (let key of res.data) {\n          statusOption.push({\n            value: key.id,\n            label: key.dropdown_item,\n            code: key.dropdown_desc,\n            active: key.active\n          });\n        }\n\n        if (!this.props.match.params.id) {\n          for (var i = 0; i < statusOption.length; i++) {\n            if (statusOption[i].label == \"Void\") {\n              statusOption.splice(i, 1);\n            }\n          }\n        }\n\n        console.log(\"statusOption\", statusOption);\n        this.setState({\n          statusOption\n        });\n\n        if (this.props.match.params.id) {\n          this.autoFillForm();\n        }\n\n        if (this.props.tokenDetail) {\n          this.getSiteGst();\n        }\n      });\n    };\n\n    this.getCountry = () => {\n      let {\n        countryOption\n      } = this.state;\n      countryOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`country`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          countryOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"countryOption\", countryOption);\n        this.setState({\n          countryOption\n        });\n      });\n    };\n\n    this.getState = () => {\n      let {\n        stateOption\n      } = this.state;\n      stateOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`state`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          stateOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"stateOption\", stateOption);\n        this.setState({\n          stateOption\n        });\n      });\n    };\n\n    this.getCity = () => {\n      let {\n        cityOption\n      } = this.state;\n      cityOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`city`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          cityOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"cityOption\", cityOption);\n        this.setState({\n          cityOption\n        });\n\n        if (this.props.match.params.id) {\n          this.getAutofillAddress();\n        }\n      });\n    };\n\n    this.getCity = () => {\n      let {\n        cityOption\n      } = this.state;\n      cityOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`city`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          cityOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"cityOption\", cityOption);\n        this.setState({\n          cityOption\n        });\n\n        if (this.props.match.params.id) {\n          this.getAutofillAddress();\n        }\n      });\n    };\n\n    this.autofillFromProject = () => {\n      let {\n        fkProject\n      } = this.state;\n      console.log(\"fkProject in autofill\", fkProject);\n      console.log(\"this.props.tokenDetail\", this.props.tokenDetail);\n      this.props.getCommonApi(`projectlist/?searchid=${fkProject}`).then(async res => {\n        console.log(\"project dataList\", res.data.dataList); // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].customer_name;\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\n        this.state.formFields[\"preparedBy\"] = this.props.tokenDetail.username;\n        this.updateState(this.state.formFields);\n        console.log(\"this.state.formFields\", this.state.formFields);\n      });\n    };\n\n    this.getAutofillItemDetails = () => {\n      this.props.getCommonApi(`quotationdetail/?searchqdetailid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res);\n\n        if (res.status == 200) {\n          this.state.formFieldsDetailsStored.q_shipcost = res.data[0].q_shipcost;\n          this.state.formFieldsDetailsStored.q_discount = res.data[0].q_discount;\n          this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes;\n          this.state.formFieldsDetailsStored.q_total = res.data[0].q_total; // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\n\n          this.setState(this.state.formFieldsDetailsStored);\n          console.log(\"this.state.formFieldsDetailsStored in getAutofillItemDetails\", this.state.formFieldsDetailsStored);\n        }\n      });\n      this.props.getCommonApi(`quotationitem/?searchqitemid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res); // this.state.storedItemListStored = res.data.dataList\n\n        if (res.status == 200) {\n          for (let item of res.data.dataList) {\n            this.state.storedItemListStored.push({\n              item_code: item.quotation_itemcode,\n              item_desc: item.quotation_itemdesc,\n              item_remarks: item.quotation_itemremarks,\n              item_price: item.quotation_unitprice,\n              item_quantity: item.quotation_quantity,\n              editing: false\n            });\n            this.state.itemListBeforeEdit.push({\n              item_id: item.id,\n              item_code: item.quotation_itemcode\n            });\n          }\n\n          this.setState(this.state.storedItemListStored);\n          this.setState(this.state.itemListBeforeEdit);\n          console.log(\"this.state.storedItemListStored in getAutofillItemDetails\", this.state.storedItemListStored);\n          console.log(\"this.state.storedItemListStored in itemListBeforeEdit\", this.state.itemListBeforeEdit);\n        } // this.state.formFieldsDetailsStored.q_shipcost = res.data[0].q_shipcost\n        // this.state.formFieldsDetailsStored.q_discount = res.data[0].q_discount\n        // this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes\n        // this.state.formFieldsDetailsStored.q_total = res.data[0].q_total\n        // this.setState(this.state.formFieldsDetailsStored)\n\n      });\n    };\n\n    this.getAutofillAddress = () => {\n      this.props.getCommonApi(`quotationaddr/?searchqaddrid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in autofillAddr\", res);\n\n        if (res.status == 200) {\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\n          this.state.formFieldsBillingStored.postalCode = res.data[0].bill_postalcode;\n\n          if (res.data[0].bill_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data[0].bill_city).value;\n          }\n\n          if (res.data[0].bill_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data[0].bill_state).value;\n          }\n\n          if (res.data[0].bill_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data[0].bill_country).value;\n          }\n\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\n          this.state.formFieldsShippingStored.postalCode = res.data[0].ship_postalcode;\n\n          if (res.data[0].ship_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data[0].ship_city).value;\n          }\n\n          if (res.data[0].ship_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data[0].ship_state).value;\n          }\n\n          if (res.data[0].ship_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data[0].ship_country).value;\n          }\n\n          console.log(\"this.state.formFieldsBillingStored in autofillAddr\", this.state.formFieldsBillingStored);\n          console.log(\"this.state.formFieldsShippingStored in autofillAddr\", this.state.formFieldsShippingStored);\n          this.setState(this.state.formFieldsBillingStored);\n          this.setState(this.state.formFieldsShippingStored);\n        }\n      });\n    };\n\n    this.storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\n      this.state.formFieldsBillingStored = formFieldsBilling;\n      this.state.formFieldsShippingStored = formFieldsShipping; // this.state.formFieldsShippingStored = formFieldsShipping\n      // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\n\n      console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\n      console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\n      console.log(\"formFieldsBillingStored in addquotation\", this.state.formFieldsBillingStored);\n      console.log(\"formFieldsShippingStored in addquotation\", this.state.formFieldsShippingStored);\n      this.setState(this.state.formFieldsBillingStored);\n      this.setState(this.state.formFieldsShippingStored);\n    };\n\n    this.storeItemDetails = (storedItemList, formFields) => {\n      this.state.storedItemListStored = storedItemList;\n      this.state.formFieldsDetailsStored = formFields;\n      console.log(\"storedItemList in addquo\", storedItemList);\n      console.log(\"formFields in addquo\", formFields);\n      console.log(\"storedItemListStored in addquotation\", this.state.storedItemListStored);\n      console.log(\"formFieldsDetailsStored in addquotation\", this.state.formFieldsDetailsStored);\n      this.setState(this.state.storedItemListStored);\n      this.setState(this.state.formFieldsDetailsStored);\n    };\n\n    this.autoFillForm = () => {\n      let {\n        disableEdit,\n        statusOption\n      } = this.state;\n      this.props.getCommonApi(`quotationlist/?searchid=${this.props.match.params.id}`).then(async res => {\n        console.log(\"quo dataList\", res.data.dataList); // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n        // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"quoNumber\"] = res.data.dataList[0].quotation_number;\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\n        this.state.formFields[\"quoDate\"] = res.data.dataList[0].created_at;\n        this.state.formFields[\"validity\"] = res.data.dataList[0].validity;\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\n        console.log(\"statusOption in prefill\", this.state.statusOption);\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\n        console.log(); // if status empty prevent err\n\n        if (res.data.dataList[0].status) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value;\n          console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\n\n          if (res.data.dataList[0].status == \"Posted\") {\n            disableEdit = true;\n\n            for (var i = 0; i < statusOption.length; i++) {\n              if (statusOption[i].label == \"Posted\") {\n                statusOption = statusOption.filter(e => e.label !== \"Open\");\n              }\n            }\n\n            console.log(\"statusOption when status is posted\", statusOption);\n            this.setState({\n              disableEdit,\n              statusOption\n            });\n            console.log(\"this.state.disableEdit\", disableEdit);\n          }\n        }\n\n        this.state.formFields[\"terms\"] = res.data.dataList[0].terms;\n        this.state.formFields[\"preparedBy\"] = res.data.dataList[0].in_charge;\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\n        this.state.formFields[\"footer\"] = res.data.dataList[0].footer;\n        this.updateState(this.state.formFields);\n        console.log(\"this.state.formFields\", this.state.formFields);\n      });\n    };\n\n    this.handleItemDetailsSubmit = resQuo => {\n      let {\n        storedItemListStored,\n        formFieldsDetailsStored,\n        itemListBeforeEdit\n      } = this.state;\n      const formDataDetails = new FormData();\n      formDataDetails.append(\"q_shipcost\", formFieldsDetailsStored.q_shipcost ? formFieldsDetailsStored.q_shipcost : 0);\n      formDataDetails.append(\"q_discount\", formFieldsDetailsStored.q_discount ? formFieldsDetailsStored.q_discount : 0);\n      formDataDetails.append(\"q_taxes\", formFieldsDetailsStored.q_taxes ? formFieldsDetailsStored.q_taxes : 0);\n      formDataDetails.append(\"q_total\", formFieldsDetailsStored.q_total ? formFieldsDetailsStored.q_total : 0);\n      this.props.getCommonApi(`quotationdetail/?searchqdetailid=${resQuo.data.id}`).then(resGetDetails => {\n        if (resGetDetails.status == 200) {\n          console.log(\"resGetDetails\", resGetDetails);\n          this.props.commonUpdateApi(`quotationdetail/${resGetDetails.data[0].id}/`, formDataDetails).then(resUpdateDetails => {\n            console.log(\"resUpdateDetails\", resUpdateDetails);\n            history.push(`/admin/quantum`);\n          });\n        } else if (resGetDetails.status == 204) {\n          formDataDetails.append(\"fk_quotation\", resQuo.data.id);\n          this.props.commonCreateApi(`quotationdetail/`, formDataDetails).then(resCreateDetails => {\n            console.log(\"resCreateDetails\", resCreateDetails);\n            history.push(`/admin/quantum`);\n          });\n        }\n      });\n\n      for (let item of itemListBeforeEdit) {\n        let found = storedItemListStored.some(el => el.item_code === item.item_code);\n\n        if (!found) {\n          this.props.commonDeleteApi(`quotationitem/${item.item_id}/`).then(res => {});\n        }\n      }\n\n      for (let item of storedItemListStored) {\n        const formDataItem = new FormData();\n        formDataItem.append(\"quotation_itemcode\", item.item_code);\n        formDataItem.append(\"quotation_itemdesc\", item.item_desc);\n        formDataItem.append(\"quotation_itemremarks\", item.item_remarks);\n        formDataItem.append(\"quotation_unitprice\", item.item_price);\n        formDataItem.append(\"quotation_quantity\", item.item_quantity);\n        this.props.getCommonApi(`quotationitem/?searchqitemid=${resQuo.data.id}&searchqitemcode=${item.item_code}`).then(resGetItem => {\n          if (resGetItem.status == 200) {\n            console.log(\"resGetItem\", resGetItem);\n            this.props.commonUpdateApi(`quotationitem/${resGetItem.data.dataList[0].id}/`, formDataItem).then(resUpdateItem => {\n              console.log(\"resUpdateItem\", resUpdateItem);\n            });\n          } else if (resGetItem.status == 204) {\n            formDataItem.append(\"fk_quotation\", resQuo.data.id);\n            this.props.commonCreateApi(`quotationitem/`, formDataItem).then(resCreateItem => {\n              console.log(\"resCreateItem\", resCreateItem);\n            });\n          }\n        });\n      }\n    };\n\n    this.handleAddressSubmit = resQuo => {\n      let {\n        cityOption,\n        countryOption,\n        stateOption\n      } = this.state; //submit address\n\n      const formDataAddress = new FormData();\n      console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\", this.state.formFieldsBillingStored);\n      console.log(\"this.state.formFieldsBillingStored.to\", this.state.formFieldsBillingStored.to);\n      console.log(\"this.state.formFieldsBillingStored.address1\", this.state.formFieldsBillingStored.address1);\n      formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to ? this.state.formFieldsBillingStored.to : \"\");\n      formDataAddress.append(\"bill_addr1\", this.state.formFieldsBillingStored.address1 ? this.state.formFieldsBillingStored.address1 : \"\");\n      formDataAddress.append(\"bill_addr2\", this.state.formFieldsBillingStored.address2 ? this.state.formFieldsBillingStored.address2 : \"\");\n      formDataAddress.append(\"bill_addr3\", this.state.formFieldsBillingStored.address3 ? this.state.formFieldsBillingStored.address3 : \"\");\n      formDataAddress.append(\"bill_postalcode\", this.state.formFieldsBillingStored.postalCode ? this.state.formFieldsBillingStored.postalCode : \"\"); // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\n\n      formDataAddress.append(\"bill_city\", this.state.formFieldsBillingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label : \"\");\n      formDataAddress.append(\"bill_state\", this.state.formFieldsBillingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.state)).label : \"\");\n      formDataAddress.append(\"bill_country\", this.state.formFieldsBillingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label : \"\"); // console.log(\"countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label\",countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label)\n\n      formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to ? this.state.formFieldsShippingStored.to : \"\");\n      formDataAddress.append(\"ship_addr1\", this.state.formFieldsShippingStored.address1 ? this.state.formFieldsShippingStored.address1 : \"\");\n      formDataAddress.append(\"ship_addr2\", this.state.formFieldsShippingStored.address2 ? this.state.formFieldsShippingStored.address2 : \"\");\n      formDataAddress.append(\"ship_addr3\", this.state.formFieldsShippingStored.address3 ? this.state.formFieldsShippingStored.address3 : \"\");\n      formDataAddress.append(\"ship_postalcode\", this.state.formFieldsShippingStored.postalCode ? this.state.formFieldsShippingStored.postalCode : \"\");\n      formDataAddress.append(\"ship_city\", this.state.formFieldsShippingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.city)).label : \"\");\n      formDataAddress.append(\"ship_state\", this.state.formFieldsShippingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.state)).label : \"\");\n      formDataAddress.append(\"ship_country\", this.state.formFieldsShippingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.country)).label : \"\");\n      this.props.getCommonApi(`quotationaddr/?searchqaddrid=${resQuo.data.id}`).then(resGetAddr => {\n        if (resGetAddr.status == 200) {\n          console.log(\"resGetAddr\", resGetAddr);\n          this.props.commonUpdateApi(`quotationaddr/${resGetAddr.data[0].id}/`, formDataAddress).then(resUpdateAddr => {\n            console.log(\"resCreateAddr\", resUpdateAddr);\n          });\n        } else if (resGetAddr.status == 204) {\n          formDataAddress.append(\"fk_quotation\", resQuo.data.id);\n          this.props.commonCreateApi(`quotationaddr/`, formDataAddress).then(resCreateAddr => {\n            console.log(\"resCreateAddr\", resCreateAddr);\n          });\n        }\n      });\n    };\n\n    this.handleSubmit = async status => {\n      try {\n        if (this.validator.allValid()) {\n          let {\n            formFields,\n            statusOption\n          } = this.state;\n          let statusValue = \"\";\n          console.log(\"formFields.status\", formFields.status);\n\n          for (let key of statusOption) {\n            // console.log(key.value)\n            if (key.value == formFields.status) {\n              statusValue = key.label;\n            }\n          }\n\n          console.log(\"statusValue\", statusValue);\n          const formData = new FormData();\n          formData.append(\"quotation_number\", formFields.quoNumber);\n          formData.append(\"title\", formFields.projectTitle);\n          formData.append(\"company\", formFields.companyName);\n          formData.append(\"created_at\", dateFormat(formFields.quoDate) + \" 00:00:00\"); // formData.append(\"created_at\", dateFormat(formFields.quoDate) + \" \"+formFields.quoDate.getHours() + \":\" + formFields.quoDate.getMinutes() + \":\" + formFields.quoDate.getSeconds());\n\n          formData.append(\"validity\", formFields.validity);\n          formData.append(\"contact_person\", formFields.attnTo); //check save or post\n\n          if (status) {\n            formData.append(\"status\", \"Posted\");\n          } else {\n            formData.append(\"status\", statusValue);\n          }\n\n          formData.append(\"terms\", formFields.terms);\n          formData.append(\"in_charge\", formFields.preparedBy);\n          formData.append(\"remarks\", formFields.remarks);\n          formData.append(\"footer\", formFields.footer);\n          formData.append(\"username\", this.props.tokenDetail.username);\n\n          if (this.state.fkProject) {\n            formData.append(\"fk_project\", this.state.fkProject);\n          }\n\n          console.log(\"this.state.fkProject in updating\", this.state.fkProject);\n          console.log(\"formData\", formData);\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\n\n          if (this.props.match.params.id) {\n            console.log(\"in if loop\");\n            console.log(\"this.props.match.params.id\", this.props.match.params.id);\n            var resQuo = await this.props.updateQuotation(`${this.props.match.params.id}/`, formData);\n            console.log(resQuo);\n            await this.handleAddressSubmit(resQuo);\n            await this.handleItemDetailsSubmit(resQuo);\n\n            if (statusValue == \"Void\") {\n              console.log(\"if void loop\");\n              await this.props.deleteQuotation(`${this.props.match.params.id}/`);\n            } // await this.props.history.push(\n            //   `/admin/quotation`\n            // )\n\n          } else {\n            console.log(\"pass if loop\");\n            console.log(\"this.props.location.state\", this.props.location.state); // if (this.props.location.state){\n            //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n            //   formData.append(\"fk_project\", this.props.location.state.projectFk);\n            // }\n\n            console.log(\"pass if ?\");\n            console.log(\"this.state.fkProject before createPO\", this.state.fkProject);\n            console.log(\"this.state.fkProject\", this.state.fkProject);\n            var resQuo = await this.props.createQuotation(formData);\n            console.log(\"resQuo in createQuotation\", resQuo);\n            console.log(\"resQuo.data.id\", resQuo.data.id);\n            await this.handleAddressSubmit(resQuo);\n            await this.handleItemDetailsSubmit(resQuo); // await this.props.history.push(\n            //   `/admin/quotation`\n            // )\n          }\n        } else {\n          this.validator.showMessages();\n        } // this.updateState({ is_loading: false });\n\n      } catch (e) {\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      formFields,\n      statusOption,\n      currentValue,\n      navLinks,\n      disableEdit\n    } = this.state;\n    let {\n      quoNumber,\n      projectTitle,\n      companyName,\n      quoDate,\n      validity,\n      attnTo,\n      status,\n      terms,\n      preparedBy,\n      remarks,\n      footer\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5 container create-quotation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      onClick: () => {\n        if (window.confirm(\"Are you sure you want to leave this page and discard changes?\")) history.push(`/admin/quantum`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 921,\n        columnNumber: 11\n      }\n    }, t(\"Quotation\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 935,\n        columnNumber: 11\n      }\n    }, t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Quotation`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quotation-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 939,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 941,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 942,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 17\n      }\n    }, t(\"Quotation No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 946,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: true,\n      placeholder: \"Auto generated\",\n      value: quoNumber,\n      name: \"quoNumber\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 947,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 956,\n        columnNumber: 17\n      }\n    }, t(\"Project\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 959,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: disableEdit,\n      placeholder: \"Enter here\",\n      value: projectTitle,\n      name: \"projectTitle\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 960,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 968,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Project\"), projectTitle, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 976,\n        columnNumber: 17\n      }\n    }, t(\"Company Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 979,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: disableEdit,\n      placeholder: \"Enter here\",\n      value: companyName,\n      name: \"companyName\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 980,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Company Name\"), companyName, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 998,\n        columnNumber: 17\n      }\n    }, t(\"Quotation Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1001,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: quoDate ? new Date(quoDate) : new Date(),\n      name: \"quoDate\" //className=\"dob-pick\"\n      ,\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\" // maxDate={new Date(toDate)}\n      ,\n      showDisabledMonthNavigation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Quotation Date\"), quoDate, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 17\n      }\n    }, t(\"Validity\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1025,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: validity,\n      name: \"validity\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1026,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Validity\"), validity, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 17\n      }\n    }, t(\"Attn To\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: attnTo,\n      name: \"attnTo\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1054,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Attn To\"), attnTo, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 17\n      }\n    }, t(\"Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: statusOption,\n      value: status,\n      name: \"status\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1064,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Status\"), status, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1075,\n        columnNumber: 17\n      }\n    }, t(\"Terms\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1078,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: terms,\n      name: \"terms\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1079,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1087,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Terms\"), terms, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 17\n      }\n    }, t(\"Prepared By\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: preparedBy,\n      name: \"preparedBy\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1103,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Prepared By\"), preparedBy, t(\"required\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1115,\n        columnNumber: 17\n      }\n    }, t(\"Remarks\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: remarks,\n      name: \"remarks\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1129,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1130,\n        columnNumber: 17\n      }\n    }, t(\"Footer\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: footer,\n      name: \"footer\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 quotation-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1146,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1147,\n        columnNumber: 17\n      }\n    }, navLinks.map(({\n      to,\n      label,\n      id\n    }, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: to,\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `sidebar-menu ${currentValue === index ? \"active\" : \"\"}`,\n      onClick: () => this.handleClick({\n        key: index,\n        id: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sidebar-menu-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 27\n      }\n    }, t(label)))))))), this.state.selectedMenu === \"Details\" && /*#__PURE__*/React.createElement(Details, {\n      disableEdit: disableEdit,\n      quoId: this.props.match.params.id,\n      siteGstList: this.state.siteGstList,\n      validator: this.validator,\n      storeItemDetails: this.storeItemDetails.bind(this),\n      storedItemListStored: this.state.storedItemListStored,\n      formFieldsDetailsStored: this.state.formFieldsDetailsStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 17\n      }\n    }), this.state.selectedMenu === \"Address\" && /*#__PURE__*/React.createElement(Address, {\n      disableEdit: disableEdit,\n      storeAddressFields: this.storeAddressFields.bind(this),\n      formFieldsBillingStored: this.state.formFieldsBillingStored,\n      formFieldsShippingStored: this.state.formFieldsShippingStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Cancel\",\n      outline: false,\n      onClick: () => {\n        if (window.confirm(\"Are you sure you want to leave this page and discard changes?\")) history.push(`/admin/quantum`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1197,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Save\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1215,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Post\",\n      outline: false,\n      onClick: () => this.handleSubmit(status),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 17\n      }\n    })), disableEdit == true ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Convert to PO\",\n      onClick: () => this.props.history.push({\n        pathname: \"/admin/quantum/po/add\",\n        state: {\n          quoId: this.props.match.params.id,\n          projectFk: this.state.fkProject\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 19\n      }\n    })) : null))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi,\n    commonUpdateApi,\n    createQuotation,\n    updateQuotation,\n    deleteQuotation,\n    commonDeleteApi,\n    getTokenDetails\n  }, dispatch);\n};\n\nexport const AddQuotation = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddQuotationClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Quantum/Quotation/AddQuotation/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","Address","Details","createQuotation","updateQuotation","deleteQuotation","getTokenDetails","history","AddQuotationClass","state","formFields","quoNumber","projectTitle","companyName","quoDate","Date","validity","attnTo","status","terms","preparedBy","remarks","footer","fkProject","statusOption","countryOption","stateOption","cityOption","disableEdit","is_loading","isMounted","siteGstList","formFieldsBillingStored","formFieldsShippingStored","storedItemListStored","itemListBeforeEdit","formFieldsDetailsStored","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","componentWillMount","getStatus","getCountry","getState","getCity","validator","validators","element","message","autoForceUpdate","componentDidMount","console","log","projectFk","setState","autofillFromProject","match","params","getAutofillItemDetails","updateState","data","handleClick","key","selected","handleChange","target","value","name","Object","assign","handleDatePick","getSiteGst","tokenDetail","site_code","then","res","dataList","push","dropdown_item","code","dropdown_desc","i","length","splice","autoFillForm","itm_id","itm_desc","itm_code","itm_isactive","getAutofillAddress","title","customer_name","contact_person","username","q_shipcost","q_discount","q_taxes","q_total","item","item_code","quotation_itemcode","item_desc","quotation_itemdesc","item_remarks","quotation_itemremarks","item_price","quotation_unitprice","item_quantity","quotation_quantity","editing","item_id","billto","address1","bill_addr1","address2","bill_addr2","address3","bill_addr3","postalCode","bill_postalcode","bill_city","city","find","option","bill_state","bill_country","country","shipto","ship_addr1","ship_addr2","ship_addr3","ship_postalcode","ship_city","ship_state","ship_country","storeAddressFields","formFieldsBilling","formFieldsShipping","storeItemDetails","storedItemList","quotation_number","company","created_at","filter","e","in_charge","handleItemDetailsSubmit","resQuo","formDataDetails","FormData","append","resGetDetails","resUpdateDetails","resCreateDetails","found","some","el","formDataItem","resGetItem","resUpdateItem","resCreateItem","handleAddressSubmit","formDataAddress","parseInt","resGetAddr","resUpdateAddr","resCreateAddr","handleSubmit","allValid","statusValue","formData","showMessages","componentWillUnmount","render","t","window","confirm","map","index","bind","quoId","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddQuotation"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Address } from \"./address\";\r\nimport { Details } from \"./details\";\r\nimport {\r\n  createQuotation,\r\n  updateQuotation,\r\n  deleteQuotation,\r\n} from \"redux/actions/quotation\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { history } from \"helpers\";\r\n\r\nexport class AddQuotationClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      quoNumber: \"\",\r\n      projectTitle: \"\",\r\n      companyName: \"\",\r\n      quoDate: new Date(),\r\n      validity: \"\",\r\n      attnTo: \"\",\r\n      status: \"\",\r\n      terms: \"\",\r\n      preparedBy: \"\",\r\n      remarks: \"\",\r\n      footer: \"\",\r\n    },\r\n    fkProject: \"\",\r\n    statusOption: [],\r\n    countryOption: [],\r\n    stateOption: [],\r\n    cityOption: [],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n    siteGstList: [],\r\n\r\n    formFieldsBillingStored: [],\r\n    formFieldsShippingStored: [],\r\n    storedItemListStored: [],\r\n    itemListBeforeEdit: [],\r\n    formFieldsDetailsStored: {},\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n      { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    ],\r\n    selectedMenu: \"Details\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    this.getStatus();\r\n    this.getCountry();\r\n    this.getState();\r\n    this.getCity();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.location.state) {\r\n      console.log(\"this.props.location.state\", this.props.location.state);\r\n      this.state.fkProject = this.props.location.state.projectFk;\r\n      this.setState({ fkProject: this.state.fkProject });\r\n      console.log(\r\n        \"this.props.location.state.projectFk\",\r\n        this.props.location.state.projectFk\r\n      );\r\n      console.log(\"this.state.fkProject\", this.state.fkProject);\r\n      this.autofillFromProject();\r\n    }\r\n\r\n    console.log(\"this.props\", this.props);\r\n    if (this.props.match.params.id) {\r\n      this.getAutofillItemDetails();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getSiteGst = () => {\r\n    let { siteGstList } = this.state;\r\n    // statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(\r\n        `gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res.data getSiteGst\", res.data.dataList);\r\n        siteGstList = res.data.dataList;\r\n        this.setState({ siteGstList });\r\n      });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.datastatus\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.dropdown_item,\r\n          code: key.dropdown_desc,\r\n          active: key.active,\r\n        });\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Void\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption });\r\n      if (this.props.match.params.id) {\r\n        this.autoFillForm();\r\n      }\r\n      if (this.props.tokenDetail) {\r\n        this.getSiteGst();\r\n      }\r\n    });\r\n  };\r\n\r\n  getCountry = () => {\r\n    let { countryOption } = this.state;\r\n    countryOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`country`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        countryOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"countryOption\", countryOption);\r\n      this.setState({ countryOption });\r\n    });\r\n  };\r\n\r\n  getState = () => {\r\n    let { stateOption } = this.state;\r\n    stateOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`state`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        stateOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"stateOption\", stateOption);\r\n      this.setState({ stateOption });\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n      if (this.props.match.params.id) {\r\n        this.getAutofillAddress();\r\n      }\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n      if (this.props.match.params.id) {\r\n        this.getAutofillAddress();\r\n      }\r\n    });\r\n  };\r\n\r\n  autofillFromProject = () => {\r\n    let { fkProject } = this.state;\r\n    console.log(\"fkProject in autofill\", fkProject);\r\n    console.log(\"this.props.tokenDetail\", this.props.tokenDetail);\r\n    this.props\r\n      .getCommonApi(`projectlist/?searchid=${fkProject}`)\r\n      .then(async res => {\r\n        console.log(\"project dataList\", res.data.dataList);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\r\n        this.state.formFields[\"companyName\"] =\r\n          res.data.dataList[0].customer_name;\r\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\r\n        this.state.formFields[\"preparedBy\"] = this.props.tokenDetail.username;\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n      });\r\n  };\r\n\r\n  getAutofillItemDetails = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationdetail/?searchqdetailid=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        if (res.status == 200) {\r\n          this.state.formFieldsDetailsStored.q_shipcost =\r\n            res.data[0].q_shipcost;\r\n          this.state.formFieldsDetailsStored.q_discount =\r\n            res.data[0].q_discount;\r\n          this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes;\r\n          this.state.formFieldsDetailsStored.q_total = res.data[0].q_total;\r\n          // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\r\n          this.setState(this.state.formFieldsDetailsStored);\r\n          console.log(\r\n            \"this.state.formFieldsDetailsStored in getAutofillItemDetails\",\r\n            this.state.formFieldsDetailsStored\r\n          );\r\n        }\r\n      });\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationitem/?searchqitemid=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemListStored.push({\r\n              item_code: item.quotation_itemcode,\r\n              item_desc: item.quotation_itemdesc,\r\n              item_remarks: item.quotation_itemremarks,\r\n              item_price: item.quotation_unitprice,\r\n              item_quantity: item.quotation_quantity,\r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.id,\r\n              item_code: item.quotation_itemcode,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemListStored);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n          console.log(\r\n            \"this.state.storedItemListStored in getAutofillItemDetails\",\r\n            this.state.storedItemListStored\r\n          );\r\n          console.log(\r\n            \"this.state.storedItemListStored in itemListBeforeEdit\",\r\n            this.state.itemListBeforeEdit\r\n          );\r\n        }\r\n        // this.state.formFieldsDetailsStored.q_shipcost = res.data[0].q_shipcost\r\n        // this.state.formFieldsDetailsStored.q_discount = res.data[0].q_discount\r\n        // this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes\r\n        // this.state.formFieldsDetailsStored.q_total = res.data[0].q_total\r\n        // this.setState(this.state.formFieldsDetailsStored)\r\n      });\r\n  };\r\n\r\n  getAutofillAddress = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationaddr/?searchqaddrid=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in autofillAddr\", res);\r\n        if (res.status == 200) {\r\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\r\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\r\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\r\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\r\n          this.state.formFieldsBillingStored.postalCode =\r\n            res.data[0].bill_postalcode;\r\n          if (res.data[0].bill_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.city =\r\n              this.state.cityOption.find(\r\n                option => option.label === res.data[0].bill_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.state =\r\n              this.state.stateOption.find(\r\n                option => option.label === res.data[0].bill_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.country =\r\n              this.state.countryOption.find(\r\n                option => option.label === res.data[0].bill_country\r\n              ).value;\r\n          }\r\n\r\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\r\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\r\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\r\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\r\n          this.state.formFieldsShippingStored.postalCode =\r\n            res.data[0].ship_postalcode;\r\n          if (res.data[0].ship_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.city =\r\n              this.state.cityOption.find(\r\n                option => option.label === res.data[0].ship_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.state =\r\n              this.state.stateOption.find(\r\n                option => option.label === res.data[0].ship_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.country =\r\n              this.state.countryOption.find(\r\n                option => option.label === res.data[0].ship_country\r\n              ).value;\r\n          }\r\n\r\n          console.log(\r\n            \"this.state.formFieldsBillingStored in autofillAddr\",\r\n            this.state.formFieldsBillingStored\r\n          );\r\n          console.log(\r\n            \"this.state.formFieldsShippingStored in autofillAddr\",\r\n            this.state.formFieldsShippingStored\r\n          );\r\n          this.setState(this.state.formFieldsBillingStored);\r\n          this.setState(this.state.formFieldsShippingStored);\r\n        }\r\n      });\r\n  };\r\n\r\n  storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\r\n    this.state.formFieldsBillingStored = formFieldsBilling;\r\n    this.state.formFieldsShippingStored = formFieldsShipping;\r\n    // this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\r\n    console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\r\n    console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\r\n    console.log(\r\n      \"formFieldsBillingStored in addquotation\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"formFieldsShippingStored in addquotation\",\r\n      this.state.formFieldsShippingStored\r\n    );\r\n    this.setState(this.state.formFieldsBillingStored);\r\n    this.setState(this.state.formFieldsShippingStored);\r\n  };\r\n\r\n  storeItemDetails = (storedItemList, formFields) => {\r\n    this.state.storedItemListStored = storedItemList;\r\n    this.state.formFieldsDetailsStored = formFields;\r\n\r\n    console.log(\"storedItemList in addquo\", storedItemList);\r\n    console.log(\"formFields in addquo\", formFields);\r\n    console.log(\r\n      \"storedItemListStored in addquotation\",\r\n      this.state.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"formFieldsDetailsStored in addquotation\",\r\n      this.state.formFieldsDetailsStored\r\n    );\r\n    this.setState(this.state.storedItemListStored);\r\n    this.setState(this.state.formFieldsDetailsStored);\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`quotationlist/?searchid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"quo dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"quoNumber\"] =\r\n          res.data.dataList[0].quotation_number;\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\r\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\r\n        this.state.formFields[\"quoDate\"] = res.data.dataList[0].created_at;\r\n        this.state.formFields[\"validity\"] = res.data.dataList[0].validity;\r\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\r\n\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\r\n        console.log();\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].status) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"status\"] = this.state.statusOption.find(\r\n            option => option.label === res.data.dataList[0].status\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].status\",\r\n            res.data.dataList[0].status\r\n          );\r\n          if (res.data.dataList[0].status == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            for (var i = 0; i < statusOption.length; i++) {\r\n              if (statusOption[i].label == \"Posted\") {\r\n                statusOption = statusOption.filter(e => e.label !== \"Open\");\r\n              }\r\n            }\r\n            console.log(\"statusOption when status is posted\", statusOption);\r\n\r\n            this.setState({ disableEdit, statusOption });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n        this.state.formFields[\"terms\"] = res.data.dataList[0].terms;\r\n        this.state.formFields[\"preparedBy\"] = res.data.dataList[0].in_charge;\r\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\r\n        this.state.formFields[\"footer\"] = res.data.dataList[0].footer;\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = resQuo => {\r\n    let { storedItemListStored, formFieldsDetailsStored, itemListBeforeEdit } =\r\n      this.state;\r\n    const formDataDetails = new FormData();\r\n\r\n    formDataDetails.append(\r\n      \"q_shipcost\",\r\n      formFieldsDetailsStored.q_shipcost\r\n        ? formFieldsDetailsStored.q_shipcost\r\n        : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"q_discount\",\r\n      formFieldsDetailsStored.q_discount\r\n        ? formFieldsDetailsStored.q_discount\r\n        : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"q_taxes\",\r\n      formFieldsDetailsStored.q_taxes ? formFieldsDetailsStored.q_taxes : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"q_total\",\r\n      formFieldsDetailsStored.q_total ? formFieldsDetailsStored.q_total : 0\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`quotationdetail/?searchqdetailid=${resQuo.data.id}`)\r\n      .then(resGetDetails => {\r\n        if (resGetDetails.status == 200) {\r\n          console.log(\"resGetDetails\", resGetDetails);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `quotationdetail/${resGetDetails.data[0].id}/`,\r\n              formDataDetails\r\n            )\r\n            .then(resUpdateDetails => {\r\n              console.log(\"resUpdateDetails\", resUpdateDetails);\r\n              history.push(`/admin/quantum`);\r\n            });\r\n        } else if (resGetDetails.status == 204) {\r\n          formDataDetails.append(\"fk_quotation\", resQuo.data.id);\r\n          this.props\r\n            .commonCreateApi(`quotationdetail/`, formDataDetails)\r\n            .then(resCreateDetails => {\r\n              console.log(\"resCreateDetails\", resCreateDetails);\r\n              history.push(`/admin/quantum`);\r\n            });\r\n        }\r\n      });\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemListStored.some(\r\n        el => el.item_code === item.item_code\r\n      );\r\n      if (!found) {\r\n        this.props\r\n          .commonDeleteApi(`quotationitem/${item.item_id}/`)\r\n          .then(res => {});\r\n      }\r\n    }\r\n\r\n    for (let item of storedItemListStored) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"quotation_itemcode\", item.item_code);\r\n      formDataItem.append(\"quotation_itemdesc\", item.item_desc);\r\n      formDataItem.append(\"quotation_itemremarks\", item.item_remarks);\r\n      formDataItem.append(\"quotation_unitprice\", item.item_price);\r\n      formDataItem.append(\"quotation_quantity\", item.item_quantity);\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `quotationitem/?searchqitemid=${resQuo.data.id}&searchqitemcode=${item.item_code}`\r\n        )\r\n        .then(resGetItem => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `quotationitem/${resGetItem.data.dataList[0].id}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"fk_quotation\", resQuo.data.id);\r\n            this.props\r\n              .commonCreateApi(`quotationitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleAddressSubmit = resQuo => {\r\n    let { cityOption, countryOption, stateOption } = this.state;\r\n    //submit address\r\n    const formDataAddress = new FormData();\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored in handleAddressSubmit\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.to\",\r\n      this.state.formFieldsBillingStored.to\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.address1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"billto\",\r\n      this.state.formFieldsBillingStored.to\r\n        ? this.state.formFieldsBillingStored.to\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr1\",\r\n      this.state.formFieldsBillingStored.address1\r\n        ? this.state.formFieldsBillingStored.address1\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr2\",\r\n      this.state.formFieldsBillingStored.address2\r\n        ? this.state.formFieldsBillingStored.address2\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr3\",\r\n      this.state.formFieldsBillingStored.address3\r\n        ? this.state.formFieldsBillingStored.address3\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_postalcode\",\r\n      this.state.formFieldsBillingStored.postalCode\r\n        ? this.state.formFieldsBillingStored.postalCode\r\n        : \"\"\r\n    );\r\n\r\n    // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n    formDataAddress.append(\r\n      \"bill_city\",\r\n      this.state.formFieldsBillingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value === parseInt(this.state.formFieldsBillingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_state\",\r\n      this.state.formFieldsBillingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_country\",\r\n      this.state.formFieldsBillingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n    // console.log(\"countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label\",countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label)\r\n\r\n    formDataAddress.append(\r\n      \"shipto\",\r\n      this.state.formFieldsShippingStored.to\r\n        ? this.state.formFieldsShippingStored.to\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr1\",\r\n      this.state.formFieldsShippingStored.address1\r\n        ? this.state.formFieldsShippingStored.address1\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr2\",\r\n      this.state.formFieldsShippingStored.address2\r\n        ? this.state.formFieldsShippingStored.address2\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr3\",\r\n      this.state.formFieldsShippingStored.address3\r\n        ? this.state.formFieldsShippingStored.address3\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_postalcode\",\r\n      this.state.formFieldsShippingStored.postalCode\r\n        ? this.state.formFieldsShippingStored.postalCode\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_city\",\r\n      this.state.formFieldsShippingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_state\",\r\n      this.state.formFieldsShippingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_country\",\r\n      this.state.formFieldsShippingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`quotationaddr/?searchqaddrid=${resQuo.data.id}`)\r\n      .then(resGetAddr => {\r\n        if (resGetAddr.status == 200) {\r\n          console.log(\"resGetAddr\", resGetAddr);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `quotationaddr/${resGetAddr.data[0].id}/`,\r\n              formDataAddress\r\n            )\r\n            .then(resUpdateAddr => {\r\n              console.log(\"resCreateAddr\", resUpdateAddr);\r\n            });\r\n        } else if (resGetAddr.status == 204) {\r\n          formDataAddress.append(\"fk_quotation\", resQuo.data.id);\r\n          this.props\r\n            .commonCreateApi(`quotationaddr/`, formDataAddress)\r\n            .then(resCreateAddr => {\r\n              console.log(\"resCreateAddr\", resCreateAddr);\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSubmit = async status => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let { formFields, statusOption } = this.state;\r\n        let statusValue = \"\";\r\n        console.log(\"formFields.status\", formFields.status);\r\n\r\n        for (let key of statusOption) {\r\n          // console.log(key.value)\r\n          if (key.value == formFields.status) {\r\n            statusValue = key.label;\r\n          }\r\n        }\r\n        console.log(\"statusValue\", statusValue);\r\n        const formData = new FormData();\r\n        formData.append(\"quotation_number\", formFields.quoNumber);\r\n        formData.append(\"title\", formFields.projectTitle);\r\n        formData.append(\"company\", formFields.companyName);\r\n        formData.append(\r\n          \"created_at\",\r\n          dateFormat(formFields.quoDate) + \" 00:00:00\"\r\n        );\r\n        // formData.append(\"created_at\", dateFormat(formFields.quoDate) + \" \"+formFields.quoDate.getHours() + \":\" + formFields.quoDate.getMinutes() + \":\" + formFields.quoDate.getSeconds());\r\n        formData.append(\"validity\", formFields.validity);\r\n        formData.append(\"contact_person\", formFields.attnTo);\r\n        //check save or post\r\n        if (status) {\r\n          formData.append(\"status\", \"Posted\");\r\n        } else {\r\n          formData.append(\"status\", statusValue);\r\n        }\r\n        formData.append(\"terms\", formFields.terms);\r\n        formData.append(\"in_charge\", formFields.preparedBy);\r\n        formData.append(\"remarks\", formFields.remarks);\r\n        formData.append(\"footer\", formFields.footer);\r\n        formData.append(\"username\", this.props.tokenDetail.username);\r\n        if (this.state.fkProject) {\r\n          formData.append(\"fk_project\", this.state.fkProject);\r\n        }\r\n        console.log(\"this.state.fkProject in updating\", this.state.fkProject);\r\n\r\n        console.log(\"formData\", formData);\r\n        console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resQuo = await this.props.updateQuotation(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          console.log(resQuo);\r\n          await this.handleAddressSubmit(resQuo);\r\n          await this.handleItemDetailsSubmit(resQuo);\r\n          if (statusValue == \"Void\") {\r\n            console.log(\"if void loop\");\r\n            await this.props.deleteQuotation(`${this.props.match.params.id}/`);\r\n          }\r\n\r\n          // await this.props.history.push(\r\n          //   `/admin/quotation`\r\n          // )\r\n        } else {\r\n          console.log(\"pass if loop\");\r\n          console.log(\"this.props.location.state\", this.props.location.state);\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          console.log(\"pass if ?\");\r\n\r\n          console.log(\r\n            \"this.state.fkProject before createPO\",\r\n            this.state.fkProject\r\n          );\r\n          console.log(\"this.state.fkProject\", this.state.fkProject);\r\n\r\n          var resQuo = await this.props.createQuotation(formData);\r\n          console.log(\"resQuo in createQuotation\", resQuo);\r\n          console.log(\"resQuo.data.id\", resQuo.data.id);\r\n\r\n          await this.handleAddressSubmit(resQuo);\r\n          await this.handleItemDetailsSubmit(resQuo);\r\n\r\n          // await this.props.history.push(\r\n          //   `/admin/quotation`\r\n          // )\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { formFields, statusOption, currentValue, navLinks, disableEdit } =\r\n      this.state;\r\n\r\n    let {\r\n      quoNumber,\r\n      projectTitle,\r\n      companyName,\r\n      quoDate,\r\n      validity,\r\n      attnTo,\r\n      status,\r\n      terms,\r\n      preparedBy,\r\n      remarks,\r\n      footer,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5 container create-quotation\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category\"\r\n            onClick={() => {\r\n              if (\r\n                window.confirm(\r\n                  \"Are you sure you want to leave this page and discard changes?\"\r\n                )\r\n              )\r\n                history.push(`/admin/quantum`);\r\n            }}\r\n          >\r\n            {t(\"Quotation\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Quotation`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"quotation-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Quotation No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={quoNumber}\r\n                    name=\"quoNumber\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Project\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={projectTitle}\r\n                    name=\"projectTitle\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Project\"),\r\n                    projectTitle,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Company Name\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={companyName}\r\n                    name=\"companyName\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Company Name\"),\r\n                    companyName,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Quotation Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={quoDate ? new Date(quoDate) : new Date()}\r\n                    name=\"quoDate\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Quotation Date\"),\r\n                    quoDate,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Validity\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={validity}\r\n                    name=\"validity\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Validity\"),\r\n                    validity,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Attn To\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={attnTo}\r\n                    name=\"attnTo\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Attn To\"), attnTo, t(\"required\"))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    value={status}\r\n                    name=\"status\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Status\"), status, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Terms\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={terms}\r\n                    name=\"terms\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Terms\"), terms, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Prepared By\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={preparedBy}\r\n                    name=\"preparedBy\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Prepared By\"),\r\n                    preparedBy,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Footer\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={footer}\r\n                    name=\"footer\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 quotation-content\">\r\n              <div className=\"tab-menus\">\r\n                <ul>\r\n                  {navLinks.map(({ to, label, id }, index) => (\r\n                    <li key={index}>\r\n                      <NavLink to={to} className=\"nav-link\">\r\n                        <div\r\n                          className={`sidebar-menu ${\r\n                            currentValue === index ? \"active\" : \"\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            this.handleClick({ key: index, id: id })\r\n                          }\r\n                        >\r\n                          <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                        </div>\r\n                      </NavLink>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              {this.state.selectedMenu === \"Details\" && (\r\n                <Details\r\n                  disableEdit={disableEdit}\r\n                  quoId={this.props.match.params.id}\r\n                  siteGstList={this.state.siteGstList}\r\n                  validator={this.validator}\r\n                  storeItemDetails={this.storeItemDetails.bind(this)}\r\n                  storedItemListStored={this.state.storedItemListStored}\r\n                  formFieldsDetailsStored={this.state.formFieldsDetailsStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"details\"}\r\n                />\r\n              )}\r\n              {this.state.selectedMenu === \"Address\" && (\r\n                <Address\r\n                  disableEdit={disableEdit}\r\n                  storeAddressFields={this.storeAddressFields.bind(this)}\r\n                  formFieldsBillingStored={this.state.formFieldsBillingStored}\r\n                  formFieldsShippingStored={this.state.formFieldsShippingStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"address\"}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4 col-12 mt-3\"></div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    if (\r\n                      window.confirm(\r\n                        \"Are you sure you want to leave this page and discard changes?\"\r\n                      )\r\n                    )\r\n                      history.push(`/admin/quantum`);\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(status)}\r\n                />\r\n              </div>\r\n\r\n              {disableEdit == true ? (\r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Convert to PO\"\r\n                    onClick={() =>\r\n                      this.props.history.push({\r\n                        pathname: \"/admin/quantum/po/add\",\r\n                        state: {\r\n                          quoId: this.props.match.params.id,\r\n                          projectFk: this.state.fkProject,\r\n                        },\r\n                      })\r\n                    }\r\n                  />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      createQuotation,\r\n      updateQuotation,\r\n      deleteQuotation,\r\n      commonDeleteApi,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddQuotation = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddQuotationClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}