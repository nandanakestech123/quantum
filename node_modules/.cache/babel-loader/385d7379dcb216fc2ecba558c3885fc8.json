{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{NormalButton,NormalInput}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import{connect}from\"react-redux\";import _ from\"lodash\";import{withTranslation}from\"react-i18next\";var ManualRedeemClass=/*#__PURE__*/function(_React$Component){_inherits(ManualRedeemClass,_React$Component);var _super=_createSuper(ManualRedeemClass);function ManualRedeemClass(){var _this;_classCallCheck(this,ManualRedeemClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"S/N\",sortKey:\"SN\"},{label:\"Date\",sortKey:\"date\",enabled:true},{label:\"Reward\",sortKey:\"rewad\",enabled:true},{label:\"Points\",sortKey:\"points\",enabled:true},{label:\"New Balance\",sortKey:\"newBalance\",enabled:true}],dataList:[],rewardList:[{label:\"Gift Pack A\",points:1500},{label:\"Gift Pack B\",points:500}],meta:{},currentIndex:-1,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handlePagination=function(page){console.log(page,\"dsfsdfsdfsdf\");//this.getCustomer(page);\n};_this.handlesearch=function(event){console.log(\"sadfasdfasdf\",event.target.value);event.persist();if(!_this.debouncedFn){_this.debouncedFn=_.debounce(function(){var searchString=event.target.value;var data={search:searchString};//this.getCustomer(data);\n},500);}_this.debouncedFn();};return _this;}_createClass(ManualRedeemClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,headerDetails=_this$state.headerDetails,dataList=_this$state.dataList,meta=_this$state.meta,rewardList=_this$state.rewardList;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"customer-list container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"head-label\"},t(\"Manual Redeem\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-columns mt-5\"},rewardList.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{class:\"card text-center p-3\"},/*#__PURE__*/React.createElement(\"blockquote\",{class:\"blockquote mb-0\"},/*#__PURE__*/React.createElement(\"h6\",null,e.label),/*#__PURE__*/React.createElement(\"footer\",{class:\"blockquote-footer\"},e.points)));})),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:meta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.updateState(function(){return headerDetails=value;});}},dataList?dataList.map(function(item,index){var _headerDetails$0$enab,_headerDetails$1$enab,_headerDetails$2$enab,_headerDetails$3$enab,_headerDetails$4$enab;var id=item.id,cust_code=item.cust_code,cust_refer=item.cust_refer,cust_name=item.cust_name,cust_phone2=item.cust_phone2,cust_dob=item.cust_dob;console.log(headerDetails[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_headerDetails$0$enab=headerDetails[0].enabled)!==null&&_headerDetails$0$enab!==void 0?_headerDetails$0$enab:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},cust_code)),/*#__PURE__*/React.createElement(\"td\",{className:((_headerDetails$1$enab=headerDetails[1].enabled)!==null&&_headerDetails$1$enab!==void 0?_headerDetails$1$enab:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},cust_refer)),/*#__PURE__*/React.createElement(\"td\",{className:((_headerDetails$2$enab=headerDetails[2].enabled)!==null&&_headerDetails$2$enab!==void 0?_headerDetails$2$enab:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"\")),/*#__PURE__*/React.createElement(\"td\",{className:((_headerDetails$3$enab=headerDetails[3].enabled)!==null&&_headerDetails$3$enab!==void 0?_headerDetails$3$enab:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},cust_name)),/*#__PURE__*/React.createElement(\"td\",{className:((_headerDetails$4$enab=headerDetails[4].enabled)!==null&&_headerDetails$4$enab!==void 0?_headerDetails$4$enab:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},cust_phone2)));}):null))))));}}]);return ManualRedeemClass;}(React.Component);export var ManualRedeem=withTranslation()(connect()(ManualRedeemClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/LoyaltyPointsSettings/ManualRedeem/index.js"],"names":["React","NormalButton","NormalInput","InputSearch","TableWrapper","connect","_","withTranslation","ManualRedeemClass","state","headerDetails","label","sortKey","enabled","dataList","rewardList","points","meta","currentIndex","isMounted","updateState","data","setState","handlePagination","page","console","log","handlesearch","event","target","value","persist","debouncedFn","debounce","searchString","search","t","props","map","e","item","index","id","cust_code","cust_refer","cust_name","cust_phone2","cust_dob","Component","ManualRedeem"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton, NormalInput } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nclass ManualRedeemClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"S/N\", sortKey: \"SN\" },\r\n      { label: \"Date\", sortKey: \"date\", enabled: true },\r\n      { label: \"Reward\", sortKey: \"rewad\", enabled: true },\r\n      { label: \"Points\", sortKey: \"points\", enabled: true },\r\n      { label: \"New Balance\", sortKey: \"newBalance\", enabled: true },\r\n    ],\r\n    dataList: [],\r\n    rewardList: [\r\n      { label: \"Gift Pack A\", points: 1500 },\r\n      { label: \"Gift Pack B\", points: 500 },\r\n    ],\r\n    meta: {},\r\n    currentIndex: -1,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handlePagination = page => {\r\n    console.log(page, \"dsfsdfsdfsdf\");\r\n    //this.getCustomer(page);\r\n  };\r\n\r\n  handlesearch = event => {\r\n    console.log(\"sadfasdfasdf\", event.target.value);\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString };\r\n        //this.getCustomer(data);\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  render() {\r\n    let { headerDetails, dataList, meta, rewardList } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"customer-list container-fluid\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-md-4\">\r\n              <h3 className=\"head-label\">{t(\"Manual Redeem\")}</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"card-columns mt-5\">\r\n            {rewardList.map(e => (\r\n              <div class=\"card text-center p-3\">\r\n                <blockquote class=\"blockquote mb-0\">\r\n                  <h6>{e.label}</h6>\r\n                  <footer class=\"blockquote-footer\">{e.points}</footer>\r\n                </blockquote>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"tab-table-content\">\r\n            <div className=\"py-4\">\r\n              <div className=\"table-container\">\r\n                <TableWrapper\r\n                  headerDetails={headerDetails}\r\n                  queryHandler={this.handlePagination}\r\n                  pageMeta={meta}\r\n                  showFilterColumn={true}\r\n                  parentHeaderChange={value =>\r\n                    this.updateState(() => (headerDetails = value))\r\n                  }\r\n                >\r\n                  {dataList\r\n                    ? dataList.map((item, index) => {\r\n                        let {\r\n                          id,\r\n                          cust_code,\r\n                          cust_refer,\r\n                          cust_name,\r\n                          cust_phone2,\r\n                          cust_dob,\r\n                        } = item;\r\n                        console.log(headerDetails[0]);\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td\r\n                              className={\r\n                                headerDetails[0].enabled ?? true ? \"\" : \"d-none\"\r\n                              }\r\n                            >\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {cust_code}\r\n                              </div>\r\n                            </td>\r\n                            <td\r\n                              className={\r\n                                headerDetails[1].enabled ?? true ? \"\" : \"d-none\"\r\n                              }\r\n                            >\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {cust_refer}\r\n                              </div>\r\n                            </td>\r\n                            <td\r\n                              className={\r\n                                headerDetails[2].enabled ?? true ? \"\" : \"d-none\"\r\n                              }\r\n                            >\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {\"\"}\r\n                              </div>\r\n                            </td>\r\n                            <td\r\n                              className={\r\n                                headerDetails[3].enabled ?? true ? \"\" : \"d-none\"\r\n                              }\r\n                            >\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {cust_name}\r\n                              </div>\r\n                            </td>\r\n                            <td\r\n                              className={\r\n                                headerDetails[4].enabled ?? true ? \"\" : \"d-none\"\r\n                              }\r\n                            >\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {cust_phone2}\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    : null}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport const ManualRedeem = withTranslation()(connect()(ManualRedeemClass));\r\n"]},"metadata":{},"sourceType":"module"}