{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Appointment\\\\CreateAppointment\\\\modal\\\\TreatmentPackage.js\";\nimport React from 'react';\nimport { InputSearch, TableWrapper } from 'component/common';\nimport { updateForm, getCommonApi } from 'redux/actions/common';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { NormalModal } from 'component/common';\nimport closeIcon from 'assets/images/close.png';\nimport _ from 'lodash';\nexport class ListTreatmentPackageClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: 'Course'\n      }, {\n        label: 'Tr. #'\n      }, {\n        label: 'Total'\n      }, {\n        label: 'Price'\n      }, {\n        label: 'Expiry Date'\n      }],\n      treatmentPackageList: [],\n      meta: {},\n      active: false,\n      currentIndex: -1,\n      isTreatementModal: false,\n      formFields: {}\n    };\n\n    this.componentDidMount = () => {\n      this.getPackageList({});\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener('click', this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener('click', this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.getPackageList = data => {\n      console.log(this.props.customerId);\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      this.props.getCommonApi(`treatmentpackages/?cust_id=${this.props.customerId}&page=${page}&limit=${limit}`).then(res => {\n        console.log(res, \"dsfdfaafg\");\n\n        if (res.status === 200) {\n          if (res.data) {\n            this.setState({\n              treatmentPackageList: res.data.dataList,\n              meta: res.data.meta.pagination\n            });\n          }\n        }\n      });\n    };\n\n    this.handlePagination = page => {\n      console.log(page, \"dsfsdfsdfsdf\");\n      this.getPackageList(page);\n    };\n\n    this.handleDialog = () => {\n      let {\n        isTreatementModal\n      } = this.state;\n      isTreatementModal = !isTreatementModal;\n      this.setState({\n        isTreatementModal\n      });\n    };\n\n    this.handleSelectTreatmentPackage = item => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"id\"] = item.stock_id;\n      formFields[\"item_desc\"] = item.item_name;\n      formFields[\"add_duration\"] = item.add_duration;\n      formFields[\"Item_CodeName\"] = item.item_name;\n      this.setState({\n        formFields\n      });\n      console.log(formFields);\n      this.props.handleSelectPackage(formFields);\n      this.props.handleTreatementmodal();\n    };\n  }\n\n  render() {\n    let {\n      headerDetails,\n      treatmentPackageList,\n      meta,\n      currentIndex,\n      active,\n      isTreatementModal,\n      formFields\n    } = this.state;\n    let {\n      customerId\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"multiple-appointment select-category\",\n      style: {\n        minWidth: \"800px\"\n      },\n      modal: this.props.isTreatementModal,\n      handleModal: this.props.handleTreatementmodal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.props.handleTreatementmodal,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 69\n      }\n    }, \"Treatment\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 33\n      }\n    }, treatmentPackageList && treatmentPackageList.length > 0 ? treatmentPackageList.map((item, index) => {\n      let {\n        item_name,\n        tr_open,\n        tr_done,\n        stock_id,\n        price,\n        expiry,\n        add_duration\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        onClick: () => this.handleSelectTreatmentPackage(item, index),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 53\n        }\n      }, item_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 53\n        }\n      }, tr_open)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 53\n        }\n      }, tr_done)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 53\n        }\n      }, price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 53\n        }\n      }, expiry)));\n    }) : /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 46\n      }\n    }, \"No data available\")))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    updateForm,\n    getCommonApi\n  }, dispatch);\n};\n\nexport const TreatmentPackage = connect(mapStateToProps, mapDispatchToProps)(ListTreatmentPackageClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Appointment/CreateAppointment/modal/TreatmentPackage.js"],"names":["React","InputSearch","TableWrapper","updateForm","getCommonApi","connect","bindActionCreators","NormalModal","closeIcon","_","ListTreatmentPackageClass","Component","state","headerDetails","label","treatmentPackageList","meta","active","currentIndex","isTreatementModal","formFields","componentDidMount","getPackageList","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","data","console","log","props","customerId","page","limit","search","then","res","status","dataList","pagination","handlePagination","handleDialog","handleSelectTreatmentPackage","item","stock_id","item_name","add_duration","handleSelectPackage","handleTreatementmodal","render","minWidth","length","map","index","tr_open","tr_done","price","expiry","mapStateToProps","mapDispatchToProps","dispatch","TreatmentPackage"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { InputSearch, TableWrapper } from 'component/common';\r\nimport { updateForm, getCommonApi } from 'redux/actions/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { NormalModal } from 'component/common';\r\nimport closeIcon from 'assets/images/close.png';\r\nimport _ from 'lodash';\r\n\r\nexport class ListTreatmentPackageClass extends React.Component {\r\n    state = {\r\n        headerDetails: [\r\n            { label: 'Course'},\r\n            { label: 'Tr. #'},\r\n            { label: 'Total' },\r\n            { label: 'Price'},\r\n            { label: 'Expiry Date' },\r\n        ],\r\n        treatmentPackageList: [],\r\n        meta: {},\r\n        active: false,\r\n        currentIndex: -1,\r\n        isTreatementModal: false,\r\n        formFields: {},\r\n    }\r\n    \r\n\r\n    componentDidMount = () => {\r\n        this.getPackageList({});\r\n    }\r\n\r\n    handleClick = (key) => {\r\n        if (!this.state.active) {\r\n            document.addEventListener('click', this.handleOutsideClick, false);\r\n        } else {\r\n            document.removeEventListener('click', this.handleOutsideClick, false);\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n            active: !prevState.active,\r\n            currentIndex: key\r\n        }));\r\n    }\r\n\r\n    handleOutsideClick = (e) => {\r\n        if (this.node != null) {\r\n            if (this.node.contains(e.target)) {\r\n                return;\r\n            }\r\n        }\r\n        this.handleClick();\r\n    }\r\n    \r\n    getPackageList = (data) => {\r\n        console.log(this.props.customerId)    \r\n        let { page = 1, limit = 10, search = \"\" } = data\r\n        this.props.getCommonApi(`treatmentpackages/?cust_id=${this.props.customerId}&page=${page}&limit=${limit}`).then((res) => {\r\n            console.log(res, \"dsfdfaafg\")\r\n            if (res.status === 200) {\r\n                if(res.data){\r\n                this.setState({ treatmentPackageList: res.data.dataList, meta: res.data.meta.pagination })\r\n                }\r\n            }\r\n            })      \r\n    }\r\n\r\n    handlePagination = (page) => {\r\n        console.log(page, \"dsfsdfsdfsdf\")\r\n        this.getPackageList(page)\r\n    }\r\n\r\n    // handlesearch = (event) => {\r\n    //     console.log(\"sadfasdfasdf\", event.target.value)\r\n    //     event.persist();\r\n\r\n    //     if (!this.debouncedFn) {\r\n    //         this.debouncedFn = _.debounce(() => {\r\n    //             let searchString = event.target.value;\r\n    //             let data = { search: searchString }\r\n    //             this.getPackageList(data)\r\n    //         }, 500);\r\n    //     }\r\n    //     this.debouncedFn();\r\n    // }\r\n\r\n    handleDialog = () => {\r\n        let { isTreatementModal } = this.state;\r\n        isTreatementModal = !isTreatementModal;\r\n        this.setState({\r\n            isTreatementModal\r\n        })\r\n    }\r\n\r\n    handleSelectTreatmentPackage = (item) => {\r\n        let {formFields} = this.state            \r\n            formFields[\"id\"] = item.stock_id;\r\n            formFields[\"item_desc\"] = item.item_name;\r\n            formFields[\"add_duration\"] = item.add_duration;\r\n            formFields[\"Item_CodeName\"] = item.item_name;\r\n            \r\n        this.setState({\r\n            formFields\r\n        })\r\n        console.log(formFields)\r\n        this.props.handleSelectPackage(formFields)\r\n        this.props.handleTreatementmodal()\r\n    }\r\n\r\n    render() {\r\n        let { headerDetails, treatmentPackageList, meta, currentIndex, active, isTreatementModal, formFields } = this.state\r\n        let {customerId} =  this.props\r\n        return (\r\n            <>\r\n            \r\n            <NormalModal className={\"multiple-appointment select-category\"} style={{ minWidth: \"800px\" }} modal={this.props.isTreatementModal} handleModal={this.props.handleTreatementmodal}>\r\n                    <img onClick={this.props.handleTreatementmodal} className=\"close\" src={closeIcon} alt=\"\" />\r\n                <div className=\"customer-list container\">                  \r\n                    <div className=\"tab-table-content\">\r\n                        <div className=\"py-4\">\r\n                            <div className='col-12 p-2 text-center'><h2 className='fw-500'>Treatment</h2></div>\r\n                            <div className=\"table-container\">\r\n                                <TableWrapper\r\n                                    headerDetails={headerDetails}\r\n                                    queryHandler={this.handlePagination}\r\n                                    pageMeta={meta}\r\n                                >\r\n\r\n                                    {treatmentPackageList && treatmentPackageList.length > 0 ? treatmentPackageList.map((item, index) => {\r\n\r\n                                        let {\r\n                                            item_name,\r\n                                            tr_open,\r\n                                            tr_done,\r\n                                            stock_id,\r\n                                            price,\r\n                                            expiry,\r\n                                            add_duration\r\n                                        } = item\r\n                                        return (\r\n                                            <tr  onClick={() => this.handleSelectTreatmentPackage(item, index)} key={index}>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{item_name}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{tr_open}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{tr_done}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{price}</div></td>\r\n                                                <td><div className=\"d-flex align-items-center justify-content-center\">{expiry}</div></td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) : <td><div className=\"d-flex align-items-center justify-content-center\">No data available</div></td>}\r\n\r\n                                </TableWrapper>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </NormalModal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // filter: state.dashboard\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        updateForm,\r\n        getCommonApi,\r\n        \r\n    }, dispatch)\r\n}\r\n\r\nexport const TreatmentPackage = connect(mapStateToProps, mapDispatchToProps)(ListTreatmentPackageClass)"]},"metadata":{},"sourceType":"module"}