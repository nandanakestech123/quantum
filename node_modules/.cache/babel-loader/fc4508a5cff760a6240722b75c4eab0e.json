{"ast":null,"code":"import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalInput,NormalButton}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonUpdateApi,commonPatchApi}from\"redux/actions/common\";import SimpleReactValidator from\"simple-react-validator\";import{Toast}from\"service/toast\";export var AppointmentSettingsClass=/*#__PURE__*/function(_Component){_inherits(AppointmentSettingsClass,_Component);var _super=_createSuper(AppointmentSettingsClass);function AppointmentSettingsClass(){var _this;_classCallCheck(this,AppointmentSettingsClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={startday_hour:\"\",endday_hour:\"\",cell_duration:\"\",resource_count:\"\"};_this.componentWillMount=function(){_this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,id,startday_hour,endday_hour,cell_duration,resource_count,SchedulerSetting;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,id=_this$state.id,startday_hour=_this$state.startday_hour,endday_hour=_this$state.endday_hour,cell_duration=_this$state.cell_duration,resource_count=_this$state.resource_count;SchedulerSetting=_this.props.SchedulerSetting;id=SchedulerSetting.settingId;startday_hour=Number(SchedulerSetting.startday_hour).toFixed(2);endday_hour=Number(SchedulerSetting.endday_hour).toFixed(2);cell_duration=SchedulerSetting.cell_duration;resource_count=SchedulerSetting.resource_count;_context.next=9;return _this.setState({id:id,startday_hour:startday_hour,endday_hour:endday_hour,cell_duration:cell_duration,resource_count:resource_count});case 9:case\"end\":return _context.stop();}}},_callee);}));_this.handleClear=function(){_this.setState({startday_hour:\"\",endday_hour:\"\",cell_duration:\"\",resource_count:\"\"});};_this.handleChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var _ref2$target,value,name;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;_this.setState(_defineProperty({},name,value));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.handleSubmit=function(){var _this$state2=_this.state,startday_hour=_this$state2.startday_hour,endday_hour=_this$state2.endday_hour,cell_duration=_this$state2.cell_duration,resource_count=_this$state2.resource_count;if(Number(startday_hour)<Number(endday_hour)){var body={};if(_this.validator.allValid()){body={startday_hour:startday_hour,endday_hour:endday_hour,cell_duration:cell_duration,resource_count:resource_count};_this.props.commonPatchApi(\"siteappointsetting/\".concat(_this.props.SchedulerSetting.settingId,\"/\"),body).then(function(key){var status=key.status;console.log(key,\"response for submit\");if(status==\"200\"){_this.props.handleModal();_this.props.handleSettingChange();}});}else{_this.validator.showMessages();}}else{Toast({type:\"error\",message:\"Start hour must be earlier than end hour\"});}};_this.handlesStartHour=function(){var startday_hour=_this.state.startday_hour;if(Number(startday_hour)>24||Number(startday_hour)<0){Toast({type:\"error\",message:\"Please enter valid Start hour (MAX. 24 hours)\"});_this.setState({startday_hour:\"\"});}};_this.handlesEndHour=function(){var _this$state3=_this.state,endday_hour=_this$state3.endday_hour,startday_hour=_this$state3.startday_hour;if(Number(endday_hour)>24||Number(endday_hour)<0||Number(endday_hour)<Number(startday_hour)){Toast({type:\"error\",message:\"Please enter valid End hour (MAX. 24 hours)\"});_this.setState({endday_hour:\"\"});}};return _this;}_createClass(AppointmentSettingsClass,[{key:\"render\",value:function render(){var _this$state4=this.state,startday_hour=_this$state4.startday_hour,endday_hour=_this$state4.endday_hour,cell_duration=_this$state4.cell_duration,resource_count=_this$state4.resource_count;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9 col-12\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-secondary fs-19 fw-500\"},\"Scheduler Setting\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row pl-5 pr-5 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Start Hour\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:startday_hour,type:\"number\",name:\"startday_hour\",onChange:this.handleChange,onBlur:this.handlesStartHour})),this.validator.message(\"start day hour\",startday_hour,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"End Hour\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:endday_hour,type:\"number\",name:\"endday_hour\",onChange:this.handleChange,onBlur:this.handlesEndHour})),this.validator.message(\"end day hour\",endday_hour,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Duration\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:cell_duration,type:\"number\",name:\"cell_duration\",onChange:this.handleChange,onBlur:this.handlePrepaidValueChange})),this.validator.message(\"duration\",cell_duration,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-2\"},\"Resource Count\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:resource_count,type:\"number\",name:\"resource_count\",onChange:this.handleChange})),this.validator.message(\"resource count\",resource_count,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:false,className:\"col-12 fs-15 submit-btn\",label:\"Submit\",onClick:this.handleSubmit})))))));}}]);return AppointmentSettingsClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{basicApptDetail:state.appointment.basicApptDetail,SchedulerSetting:state.appointment.SchedulerSetting};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonUpdateApi:commonUpdateApi,commonPatchApi:commonPatchApi},dispatch);};export var AppointmentSettings=connect(mapStateToProps,mapDispatchToProps)(AppointmentSettingsClass);","map":{"version":3,"sources":["F:/webfe/src/component/common/Plugins/devExpressScheduler/AppointmentSettings.js"],"names":["React","Component","NormalInput","NormalButton","connect","bindActionCreators","getCommonApi","commonUpdateApi","commonPatchApi","SimpleReactValidator","Toast","AppointmentSettingsClass","state","startday_hour","endday_hour","cell_duration","resource_count","componentWillMount","validator","element","message","autoForceUpdate","componentDidMount","id","SchedulerSetting","props","settingId","Number","toFixed","setState","handleClear","handleChange","target","value","name","handleSubmit","body","allValid","then","key","status","console","log","handleModal","handleSettingChange","showMessages","type","handlesStartHour","handlesEndHour","handlePrepaidValueChange","mapStateToProps","basicApptDetail","appointment","mapDispatchToProps","dispatch","AppointmentSettings"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalInput, NormalButton } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonUpdateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport class AppointmentSettingsClass extends Component {\r\n  state = {\r\n    startday_hour: \"\",\r\n    endday_hour: \"\",\r\n    cell_duration: \"\",\r\n    resource_count: \"\",\r\n  };\r\n  componentWillMount = () => {\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n  componentDidMount = async () => {\r\n    let { id, startday_hour, endday_hour, cell_duration, resource_count } =\r\n      this.state;\r\n    let { SchedulerSetting } = this.props;\r\n    id = SchedulerSetting.settingId;\r\n    startday_hour = Number(SchedulerSetting.startday_hour).toFixed(2);\r\n    endday_hour = Number(SchedulerSetting.endday_hour).toFixed(2);\r\n    cell_duration = SchedulerSetting.cell_duration;\r\n    resource_count = SchedulerSetting.resource_count;\r\n\r\n    await this.setState({\r\n      id,\r\n      startday_hour,\r\n      endday_hour,\r\n      cell_duration,\r\n      resource_count,\r\n    });\r\n  };\r\n  handleClear = () => {\r\n    this.setState({\r\n      startday_hour: \"\",\r\n      endday_hour: \"\",\r\n      cell_duration: \"\",\r\n      resource_count: \"\",\r\n    });\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { startday_hour, endday_hour, cell_duration, resource_count } =\r\n      this.state;\r\n    if (Number(startday_hour) < Number(endday_hour)) {\r\n      let body = {};\r\n      if (this.validator.allValid()) {\r\n        body = {\r\n          startday_hour: startday_hour,\r\n          endday_hour: endday_hour,\r\n          cell_duration: cell_duration,\r\n          resource_count: resource_count,\r\n        };\r\n        this.props\r\n          .commonPatchApi(\r\n            `siteappointsetting/${this.props.SchedulerSetting.settingId}/`,\r\n            body\r\n          )\r\n          .then(key => {\r\n            let { status } = key;\r\n            console.log(key, \"response for submit\");\r\n            if (status == \"200\") {\r\n              this.props.handleModal();\r\n              this.props.handleSettingChange();\r\n            }\r\n          });\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Start hour must be earlier than end hour\",\r\n      });\r\n    }\r\n  };\r\n  handlesStartHour = () => {\r\n    let { startday_hour } = this.state;\r\n    if (Number(startday_hour) > 24 || Number(startday_hour) < 0) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please enter valid Start hour (MAX. 24 hours)\",\r\n      });\r\n      this.setState({\r\n        startday_hour: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handlesEndHour = () => {\r\n    let { endday_hour, startday_hour } = this.state;\r\n    if (\r\n      Number(endday_hour) > 24 ||\r\n      Number(endday_hour) < 0 ||\r\n      Number(endday_hour) < Number(startday_hour)\r\n    ) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please enter valid End hour (MAX. 24 hours)\",\r\n      });\r\n      this.setState({\r\n        endday_hour: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { startday_hour, endday_hour, cell_duration, resource_count } =\r\n      this.state;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4\">\r\n          <div className=\"row pl-3\">\r\n            <div className=\"col-md-9 col-12\">\r\n              <h6 className=\"text-secondary fs-19 fw-500\">Scheduler Setting</h6>\r\n            </div>\r\n            <div className=\"col-md-2 col-12\"></div>\r\n          </div>\r\n          <div className=\"row pl-5 pr-5 mt-4\">\r\n            <div className=\"row mb-3\">\r\n              <div className=\"col-md-2 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Start Hour\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={startday_hour}\r\n                    type=\"number\"\r\n                    name=\"startday_hour\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handlesStartHour}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"start day hour\",\r\n                  startday_hour,\r\n                  \"required\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-2 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  End Hour\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={endday_hour}\r\n                    type=\"number\"\r\n                    name=\"endday_hour\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handlesEndHour}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"end day hour\",\r\n                  endday_hour,\r\n                  \"required\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-2 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Duration\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={cell_duration}\r\n                    type=\"number\"\r\n                    name=\"cell_duration\"\r\n                    onChange={this.handleChange}\r\n                    onBlur={this.handlePrepaidValueChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"duration\", cell_duration, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-3 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                  Resource Count\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={resource_count}\r\n                    type=\"number\"\r\n                    name=\"resource_count\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"resource count\",\r\n                  resource_count,\r\n                  \"required\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-2 col-12 mt-4\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <NormalButton\r\n                    mainbg={false}\r\n                    className=\"col-12 fs-15 submit-btn\"\r\n                    label=\"Submit\"\r\n                    onClick={this.handleSubmit}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n  SchedulerSetting: state.appointment.SchedulerSetting,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonUpdateApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const AppointmentSettings = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AppointmentSettingsClass);\r\n"]},"metadata":{},"sourceType":"module"}