{"ast":null,"code":"import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Route,Router,Redirect}from\"react-router-dom\";import{history}from\"../helpers\";import{connect}from\"react-redux\";import Routers from\"./routes\";import*as Layout from\"../layout\";import*as Pages from\"../pages\";// import { getTokenDetails } from 'redux/actions/auth'\nimport{NotificationContainer}from\"react-notifications\";export var RoutesClass=/*#__PURE__*/function(_Component){_inherits(RoutesClass,_Component);var _super=_createSuper(RoutesClass);function RoutesClass(props){var _this;_classCallCheck(this,RoutesClass);_this=_super.call(this,props);_this.routerGuard=function(){// let currentPath = history.location.pathname.split(\"/\")[1];\n// if (currentPath === \"auth\") {\n// history.push(\"/admin/dashboard\");\n// console.log(\"asdfgadffgdfgdfgdfgdfg\")\n// getTokenDetails()\n};_this.state={renderRoute:false,pathname:null,loading:true};return _this;}_createClass(RoutesClass,[{key:\"componentDidMount\",value:function componentDidMount(){// if (\n//   history.location.pathname == \"/auth\" ||\n//   history.location.pathname == \"/auth/\"\n// ) {\n//   history.push(\"/auth/login\");\n// }\n}// componentDidMount() { }\n// componentWillReceiveProps({ userPermissionDetails }) { }\n},{key:\"render\",value:// {navLinks.map(({ to, label, role, imgno }, index) =>\n//               //role.includes(\"THERAPIST\") ? (\n//               role.includes(tokenDetail.role_code) ? (\nfunction render(){var _this2=this;var tokenDetails=this.props.tokenDetails;return/*#__PURE__*/React.createElement(Router,{history:history},Routers.map(function(_ref){var component=_ref.component,redirect=_ref.redirect,path=_ref.path,_ref$exact=_ref.exact,exact=_ref$exact===void 0?false:_ref$exact,_ref$childrens=_ref.childrens,childrens=_ref$childrens===void 0?[]:_ref$childrens,role=_ref.role;if(childrens.length>0){return/*#__PURE__*/React.createElement(Route,{path:path,exact:exact,key:path,render:function render(props){if(redirect){if(props.location.pathname===path){props.history.push(redirect);}}var LayoutComponent=Layout[component];if(component===\"MainLayout\"){return/*#__PURE__*/React.createElement(LayoutComponent,props,childrens.map(function(_ref2){var ChildrenComponent=_ref2.component,childrenPath=_ref2.path,_ref2$exact=_ref2.exact,exact=_ref2$exact===void 0?false:_ref2$exact,_ref2$auth=_ref2.auth,auth=_ref2$auth===void 0?true:_ref2$auth,role=_ref2.role;_this2.routerGuard();return/*#__PURE__*/React.createElement(Route,{path:path+childrenPath,exact:exact,key:path+childrenPath,render:function render(props){if(role&&role.includes(tokenDetails.role_code)){var PageComponent=Pages[ChildrenComponent];return/*#__PURE__*/React.createElement(PageComponent,props);}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center p-5\"});}}});}));}else{return/*#__PURE__*/React.createElement(LayoutComponent,props,childrens.map(function(_ref3){var ChildrenComponent=_ref3.component,childrenPath=_ref3.path,_ref3$exact=_ref3.exact,exact=_ref3$exact===void 0?false:_ref3$exact,_ref3$auth=_ref3.auth,auth=_ref3$auth===void 0?true:_ref3$auth,role=_ref3.role;_this2.routerGuard();return/*#__PURE__*/React.createElement(Route,{path:path+childrenPath,exact:exact,key:path+childrenPath,render:function render(props){var PageComponent=Pages[ChildrenComponent];return/*#__PURE__*/React.createElement(PageComponent,props);}});}));}}});}if(component===\"MainLayout\"){return/*#__PURE__*/React.createElement(Route,{path:path,exact:exact,key:component,render:function render(props){if(role&&role.includes(tokenDetails.role_code)){if(component){var PageComponent=Pages[component];return/*#__PURE__*/React.createElement(PageComponent,props);}if(redirect){return/*#__PURE__*/React.createElement(Redirect,{to:redirect});}return/*#__PURE__*/React.createElement(\"div\",null);}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center p-5\"});}}});}else{return/*#__PURE__*/React.createElement(Route,{path:path,exact:exact,key:component,render:function render(props){if(component){var PageComponent=Pages[component];return/*#__PURE__*/React.createElement(PageComponent,props);}if(redirect){return/*#__PURE__*/React.createElement(Redirect,{to:redirect});}return/*#__PURE__*/React.createElement(\"div\",null);}});}}),/*#__PURE__*/React.createElement(NotificationContainer,null));}}]);return RoutesClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetails:state.authStore.tokenDetails};};var component=RoutesClass;export var Routes=connect(mapStateToProps,null)(component);","map":{"version":3,"sources":["F:/webfe/src/routes/index.js"],"names":["React","Component","Route","Router","Redirect","history","connect","Routers","Layout","Pages","NotificationContainer","RoutesClass","props","routerGuard","state","renderRoute","pathname","loading","tokenDetails","map","component","redirect","path","exact","childrens","role","length","location","push","LayoutComponent","ChildrenComponent","childrenPath","auth","includes","role_code","PageComponent","mapStateToProps","authStore","Routes"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, Router, Redirect } from \"react-router-dom\";\r\nimport { history } from \"../helpers\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Routers from \"./routes\";\r\n\r\nimport * as Layout from \"../layout\";\r\nimport * as Pages from \"../pages\";\r\n\r\n// import { getTokenDetails } from 'redux/actions/auth'\r\n\r\nimport { NotificationContainer } from \"react-notifications\";\r\n\r\nexport class RoutesClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      renderRoute: false,\r\n      pathname: null,\r\n      loading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // if (\r\n    //   history.location.pathname == \"/auth\" ||\r\n    //   history.location.pathname == \"/auth/\"\r\n    // ) {\r\n    //   history.push(\"/auth/login\");\r\n    // }\r\n  }\r\n\r\n  // componentDidMount() { }\r\n\r\n  // componentWillReceiveProps({ userPermissionDetails }) { }\r\n\r\n  routerGuard = () => {\r\n    // let currentPath = history.location.pathname.split(\"/\")[1];\r\n    // if (currentPath === \"auth\") {\r\n    // history.push(\"/admin/dashboard\");\r\n    // console.log(\"asdfgadffgdfgdfgdfgdfg\")\r\n    // getTokenDetails()\r\n  };\r\n\r\n  // {navLinks.map(({ to, label, role, imgno }, index) =>\r\n  //               //role.includes(\"THERAPIST\") ? (\r\n  //               role.includes(tokenDetail.role_code) ? (\r\n\r\n  render() {\r\n    let { tokenDetails } = this.props;\r\n    return (\r\n      <Router history={history}>\r\n        {Routers.map(\r\n          ({\r\n            component,\r\n            redirect,\r\n            path,\r\n            exact = false,\r\n            // auth = true,\r\n            childrens = [],\r\n            role,\r\n          }) => {\r\n            if (childrens.length > 0) {\r\n              return (\r\n                <Route\r\n                  path={path}\r\n                  exact={exact}\r\n                  key={path}\r\n                  render={props => {\r\n                    if (redirect) {\r\n                      if (props.location.pathname === path) {\r\n                        props.history.push(redirect);\r\n                      }\r\n                    }\r\n\r\n                    const LayoutComponent = Layout[component];\r\n                    if (component === \"MainLayout\") {\r\n                      return (\r\n                        <LayoutComponent {...props}>\r\n                          {childrens.map(\r\n                            ({\r\n                              component: ChildrenComponent,\r\n                              path: childrenPath,\r\n                              exact = false,\r\n                              auth = true,\r\n                              role,\r\n                            }) => {\r\n                              this.routerGuard();\r\n                              return (\r\n                                <Route\r\n                                  path={path + childrenPath}\r\n                                  exact={exact}\r\n                                  key={path + childrenPath}\r\n                                  render={props => {\r\n                                    if (\r\n                                      role &&\r\n                                      role.includes(tokenDetails.role_code)\r\n                                    ) {\r\n                                      let PageComponent =\r\n                                        Pages[ChildrenComponent];\r\n\r\n                                      return <PageComponent {...props} />;\r\n                                    } else {\r\n                                      return (\r\n                                        <div className=\"d-flex justify-content-center p-5\"></div>\r\n                                      );\r\n                                    }\r\n                                  }}\r\n                                />\r\n                              );\r\n                            }\r\n                          )}\r\n                        </LayoutComponent>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <LayoutComponent {...props}>\r\n                          {childrens.map(\r\n                            ({\r\n                              component: ChildrenComponent,\r\n                              path: childrenPath,\r\n                              exact = false,\r\n                              auth = true,\r\n                              role,\r\n                            }) => {\r\n                              this.routerGuard();\r\n                              return (\r\n                                <Route\r\n                                  path={path + childrenPath}\r\n                                  exact={exact}\r\n                                  key={path + childrenPath}\r\n                                  render={props => {\r\n                                    let PageComponent =\r\n                                      Pages[ChildrenComponent];\r\n\r\n                                    return <PageComponent {...props} />;\r\n                                  }}\r\n                                />\r\n                              );\r\n                            }\r\n                          )}\r\n                        </LayoutComponent>\r\n                      );\r\n                    }\r\n                  }}\r\n                />\r\n              );\r\n            }\r\n            if (component === \"MainLayout\") {\r\n              return (\r\n                <Route\r\n                  path={path}\r\n                  exact={exact}\r\n                  key={component}\r\n                  render={props => {\r\n                    if (role && role.includes(tokenDetails.role_code)) {\r\n                      if (component) {\r\n                        let PageComponent = Pages[component];\r\n                        return <PageComponent {...props} />;\r\n                      }\r\n                      if (redirect) {\r\n                        return <Redirect to={redirect} />;\r\n                      }\r\n                      return <div></div>;\r\n                    } else {\r\n                      return (\r\n                        <div className=\"d-flex justify-content-center p-5\"></div>\r\n                      );\r\n                    }\r\n                  }}\r\n                />\r\n              );\r\n            } else {\r\n              return (\r\n                <Route\r\n                  path={path}\r\n                  exact={exact}\r\n                  key={component}\r\n                  render={props => {\r\n                    if (component) {\r\n                      let PageComponent = Pages[component];\r\n                      return <PageComponent {...props} />;\r\n                    }\r\n                    if (redirect) {\r\n                      return <Redirect to={redirect} />;\r\n                    }\r\n                    return <div></div>;\r\n                  }}\r\n                />\r\n              );\r\n            }\r\n          }\r\n        )}\r\n\r\n        <NotificationContainer />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nlet component = RoutesClass;\r\n\r\nexport const Routes = connect(mapStateToProps, null)(component);\r\n"]},"metadata":{},"sourceType":"module"}