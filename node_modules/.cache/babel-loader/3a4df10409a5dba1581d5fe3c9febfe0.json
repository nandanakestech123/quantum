{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\StaffPlus\\\\AddStaffPlus\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { NormalInput, NormalSelect, NormalButton, NormalDateTime, NormalMultiSelect } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { DragFileUpload } from \"../../../common\";\nimport { createStaffPlus, getStaffPlus, updateStaffPlus, getWorkSchedule, updateWorkSchedule } from \"redux/actions/staffPlus\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { ScheduleTable } from \"./ScheduleTable\";\nimport { withTranslation } from \"react-i18next\";\nexport class AddStaffClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        emp_name: \"\",\n        emp_nric: \"\",\n        display_name: \"\",\n        emp_joindate: \"\",\n        Site_Codeid: \"\",\n        EMP_TYPEid: \"\",\n        emp_pic: \"\",\n        emp_isactive: false,\n        is_login: false,\n        pw_password: \"\",\n        LEVEL_ItmIDid: \"\",\n        show_in_sales: false,\n        show_in_appt: false,\n        show_in_trmt: false,\n        max_disc: \"\",\n        work_schedule: {\n          monday: \"YES\",\n          tuesday: \"YES\",\n          wednesday: \"YES\",\n          thursday: \"YES\",\n          friday: \"YES\",\n          saturday: \"NO\",\n          sunday: \"NO\"\n        },\n        Site_Codeid: \"\",\n        siteCodes: []\n      },\n      scheduleOptions: [],\n      jobOption: [],\n      locationOption: [],\n      levelList: [],\n      is_loading: true,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.loadData = async () => {\n      this.updateState({\n        is_loading: true\n      }); // branch option api\n\n      await this.props.getCommonApi(\"branchlist/\").then(res => {\n        let {\n          locationOption\n        } = this.state;\n\n        for (let key of res.data) {\n          locationOption.push({\n            value: key.id,\n            label: key.itemsite_desc\n          });\n        }\n\n        this.updateState({\n          locationOption\n        });\n      }); // level option api\n\n      await this.props.getCommonApi(\"securities/\").then(res => {\n        let {\n          levelList\n        } = this.state;\n\n        for (let key of res.data) {\n          levelList.push({\n            value: key.id,\n            label: key.level_name\n          });\n        }\n\n        this.updateState({\n          levelList\n        });\n      }); // schedule hours api\n\n      await this.props.getCommonApi(\"WorkScheduleHours/\").then(res => {\n        let {\n          scheduleOptions\n        } = this.state;\n\n        for (let key of res.schedules) {\n          scheduleOptions.push({\n            id: key.id,\n            value: key.itm_code,\n            label: key.itm_desc,\n            color: key.itm_color,\n            shortDesc: key.shortDesc\n          });\n        }\n\n        this.updateState({\n          scheduleOptions\n        });\n      }); // get api for staff while\n\n      if (this.props.match.params.id) {\n        // jobtitle option api\n        await this.props.getJobtitle().then(async () => {\n          await this.mapJobList();\n          await this.getStaffDetail();\n        });\n      } else {\n        // jobtitle option api\n        await this.props.getJobtitle().then(() => {\n          this.mapJobList();\n        });\n      }\n\n      this.updateState({\n        is_loading: false\n      });\n    };\n\n    this.getStaffDetail = async () => {\n      await this.props.getStaffPlus(`${this.props.match.params.id}/`);\n      await this.props.getWorkSchedule(`${this.props.match.params.id}`);\n      this.setDataFromStore();\n    };\n\n    this.mapJobList = async () => {\n      let {\n        jobtitleList\n      } = this.props;\n      let {\n        jobOption\n      } = this.state;\n\n      for (let key of jobtitleList) {\n        jobOption.push({\n          label: key.level_desc,\n          value: key.id\n        });\n      }\n\n      this.updateState({\n        jobOption\n      });\n    };\n\n    this.setDataFromStore = () => {\n      let {\n        staffPlusDetail,\n        staffPlusWorkScheduleDetails\n      } = this.props;\n      let {\n        formFields,\n        locationOption\n      } = this.state;\n      formFields[\"emp_name\"] = staffPlusDetail.emp_name;\n      formFields[\"display_name\"] = staffPlusDetail.display_name;\n      formFields[\"emp_joindate\"] = new Date(staffPlusDetail.emp_joindate);\n      formFields[\"Site_Codeid\"] = staffPlusDetail.Site_Codeid;\n      formFields[\"EMP_TYPEid\"] = staffPlusDetail.EMP_TYPEid;\n      formFields[\"emp_pic\"] = staffPlusDetail.emp_pic;\n      formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\n      formFields[\"is_login\"] = staffPlusDetail.is_login;\n      formFields[\"emp_isactive\"] = staffPlusDetail.emp_isactive;\n      formFields[\"max_disc\"] = staffPlusDetail.max_disc;\n      formFields[\"LEVEL_ItmIDid\"] = staffPlusDetail.LEVEL_ItmIDid;\n      formFields[\"show_in_sales\"] = staffPlusDetail.show_in_sales;\n      formFields[\"show_in_appt\"] = staffPlusDetail.show_in_appt;\n      formFields[\"show_in_trmt\"] = staffPlusDetail.show_in_trmt;\n      formFields.siteCodes = [];\n      staffPlusDetail.site_list.forEach(e => {\n        let val = locationOption.find(element => element.value == e.Site_Codeid);\n        formFields.siteCodes.push(val);\n      });\n      formFields.work_schedule.monday = staffPlusWorkScheduleDetails.monday;\n      formFields.work_schedule.tuesday = staffPlusWorkScheduleDetails.tuesday;\n      formFields.work_schedule.wednesday = staffPlusWorkScheduleDetails.wednesday;\n      formFields.work_schedule.thursday = staffPlusWorkScheduleDetails.thursday;\n      formFields.work_schedule.friday = staffPlusWorkScheduleDetails.friday;\n      formFields.work_schedule.saturday = staffPlusWorkScheduleDetails.saturday;\n      formFields.work_schedule.sunday = staffPlusWorkScheduleDetails.sunday;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleMultiSelect = (data = []) => {\n      let {\n        formFields\n      } = this.state;\n      formFields.siteCodes = data;\n      console.log(data);\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleDatePick = async (name, value) => {\n      // dateFormat(new Date())\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.updateState({\n        formFields\n      });\n    };\n\n    this.handleInput = ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value === true ? 1 : value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleImageUpload = file => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"emp_pic\"] = file;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.removepostImage = (e, name) => {\n      let {\n        staffImage\n      } = this.state.formFields;\n      let index = staffImage.indexOf(name);\n\n      if (index === 0) {\n        staffImage.shift();\n      } else {\n        staffImage.pop();\n      }\n\n      this.updateState({\n        staffImage\n      });\n    };\n\n    this.handleSubmit = async () => {\n      try {\n        if (this.validator.allValid()) {\n          this.updateState({\n            is_loading: true\n          });\n          let {\n            formFields\n          } = this.state;\n          Object.keys(formFields).forEach(e => {\n            if (typeof formFields[e] === \"boolean\") formFields[e] = formFields[e] ? \"True\" : \"False\";\n          });\n          const formData = new FormData();\n          formData.append(\"emp_name\", formFields.emp_name);\n          formData.append(\"display_name\", formFields.display_name);\n          formData.append(\"pw_password\", formFields.pw_password);\n          formData.append(\"emp_joindate\", dateFormat(formFields.emp_joindate));\n          formData.append(\"Site_Codeid\", formFields.Site_Codeid);\n          formData.append(\"EMP_TYPEid\", formFields.EMP_TYPEid);\n          if (formFields.emp_pic != null && typeof formFields.emp_pic === \"object\") formData.append(\"emp_pic\", formFields.emp_pic);\n          formData.append(\"emp_nric\", formFields.emp_nric);\n          formData.append(\"is_login\", formFields.is_login);\n          formData.append(\"emp_isactive\", formFields.emp_isactive);\n          formData.append(\"max_disc\", formFields.max_disc);\n          formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\n          formData.append(\"show_in_sales\", formFields.show_in_sales);\n          formData.append(\"show_in_appt\", formFields.show_in_appt);\n          formData.append(\"show_in_trmt\", formFields.show_in_trmt);\n          formData.append(\"site_list\", formFields.siteCodes.map(e => e.value).reduce((a, e) => a === \"\" ? e : a + \",\" + e, \"\"));\n          const scheduleData = new FormData();\n          scheduleData.append(\"monday\", formFields.work_schedule.monday);\n          scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n          scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\n          scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n          scheduleData.append(\"friday\", formFields.work_schedule.friday);\n          scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\n          scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\n\n          if (this.props.match.params.id) {\n            var res = await this.props.updateStaffPlus(`${this.props.match.params.id}/`, formData);\n            console.log(res);\n\n            if (res.status === 200) {\n              await this.props.updateWorkSchedule(this.props.match.params.id, scheduleData);\n            }\n\n            await this.getStaffDetail();\n          } else {\n            var res = await this.props.createStaffPlus(formData);\n            console.log(res);\n\n            if (res.status === 201) {\n              var res2 = await this.props.updateWorkSchedule(res.data.id, scheduleData);\n              if (res2.status === 200) this.props.history.push(`/admin/staffPlus/${res.data.id}/editStaff`);\n            }\n          }\n        } else {\n          this.validator.showMessages();\n          console.log(\"missing fields found !\");\n        }\n\n        this.updateState({\n          is_loading: false\n        });\n      } catch (e) {\n        console.log(e);\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n\n    this.handleChangeBox = event => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[event.target.name] = event.target.checked;\n      this.updateState({\n        formFields\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentWillMount() {\n    this.validator = new SimpleReactValidator({\n      validators: {\n        contactNumber: {\n          message: \"The :attribute must be a valid format.\",\n          rule: (val, params, validator) => {\n            return validator.helpers.testRegex(val, /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/) && params.indexOf(val) === -1;\n          },\n          messageReplace: (message, params) => message.replace(\"\", this.helpers.toSentence(params)),\n          required: true\n        }\n      },\n      element: message => /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error-message text-danger validNo fs14\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, message),\n      autoForceUpdate: this\n    });\n    this.loadData();\n  }\n\n  render() {\n    let {\n      formFields,\n      jobOption,\n      locationOption,\n      is_loading,\n      levelList,\n      scheduleOptions\n    } = this.state;\n    let {\n      emp_name,\n      emp_nric,\n      display_name,\n      is_login,\n      EMP_TYPEid,\n      emp_joindate,\n      emp_pic,\n      emp_isactive,\n      pw_password,\n      LEVEL_ItmIDid,\n      show_in_sales,\n      show_in_appt,\n      show_in_trmt,\n      Site_Codeid,\n      max_disc,\n      work_schedule\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5 container create-staff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }\n    }, t(\"StaffPlus\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }\n    }, t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Staff`))), is_loading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 15\n      }\n    }, \"Loading...\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"staff-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 19\n      }\n    }, t(\"Upload Staff Photo\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DragFileUpload, {\n      className: `file-uploader size-lg ${emp_pic ? \"\" : \"no-img\"}`,\n      label: \"Upload Thumbnail\",\n      handleFileUpload: this.handleImageUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 21\n      }\n    }), emp_pic ? /*#__PURE__*/React.createElement(React.Fragment, null, typeof emp_pic == \"string\" ? /*#__PURE__*/React.createElement(\"img\", {\n      src: emp_pic,\n      alt: \"\",\n      width: \"50%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 27\n      }\n    }) : null) : null)), this.props.match.params.id ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/\" + this.props.match.params.id + \"/empinfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Emp Info\",\n      outline: true,\n      className: \"mr-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 23\n      }\n    }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pb-4 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: emp_isactive,\n      name: \"emp_isactive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 23\n      }\n    }), \" \", t(\"Active\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 19\n      }\n    }, t(\"Employee Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: emp_name,\n      name: \"emp_name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 21\n      }\n    })), this.validator.message(t(\"employee name\"), emp_name, t(\"required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 19\n      }\n    }, t(\"NRIC/WP\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: emp_nric,\n      name: \"emp_nric\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 19\n      }\n    }, t(\"User Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: display_name,\n      name: \"display_name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 21\n      }\n    })), this.validator.message(t(\"user name\"), display_name, t(\"required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 19\n      }\n    }, t(\"Employee Type\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: jobOption,\n      value: EMP_TYPEid,\n      name: \"EMP_TYPEid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 21\n      }\n    })), this.validator.message(t(\"employee type\"), EMP_TYPEid, t(\"required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 19\n      }\n    }, t(\"Discount Limit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"number\",\n      placeholder: \"Enter here\",\n      value: max_disc,\n      name: \"max_disc\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 21\n      }\n    })), this.validator.message(t(\"discount limit\"), max_disc, t(\"required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 19\n      }\n    }, t(\"Join Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: emp_joindate,\n      name: \"emp_joindate\",\n      className: \"dob-pick\",\n      showYearDropdown: true,\n      dateFormat: \"MM/dd/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 21\n      }\n    })), this.validator.message(t(\"join date\"), emp_joindate, t(\"required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 19\n      }\n    }, t(\"Default List\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: locationOption,\n      value: Site_Codeid,\n      name: \"Site_Codeid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 19\n      }\n    }, t(\"Site List\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalMultiSelect, {\n      handleMultiSelect: this.handleMultiSelect,\n      options: locationOption,\n      value: formFields.siteCodes,\n      name: \"siteCodes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pb-4 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: is_login,\n      name: \"is_login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 23\n      }\n    }), t(\"Security AC\")))), is_login ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 23\n      }\n    }, t(\"Password\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: pw_password,\n      name: \"pw_password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 23\n      }\n    }, t(\"Employee Level\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: levelList,\n      value: LEVEL_ItmIDid,\n      name: \"LEVEL_ItmIDid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 25\n      }\n    })), this.validator.message(t(\"employee level\"), LEVEL_ItmIDid, t(\"required\")))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 19\n      }\n    }, t(\"To Show At\")), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: show_in_sales,\n      name: \"show_in_sales\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 23\n      }\n    }), t(\"Sales\"))), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: show_in_trmt,\n      name: \"show_in_trmt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 23\n      }\n    }), t(\"Treatment\"))), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: show_in_appt,\n      name: \"show_in_appt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 23\n      }\n    }), t(\"Appointment\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 21\n      }\n    }, t(\"Work Schedule\")), /*#__PURE__*/React.createElement(ScheduleTable, {\n      data: work_schedule,\n      optionList: scheduleOptions,\n      onChange: data => {\n        let {\n          formFields\n        } = this.state;\n        formFields[\"work_schedule\"] = data;\n        this.updateState({\n          formFields\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-5 d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Cancel\",\n      danger: true,\n      className: \"mr-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: () => this.handleSubmit(),\n      label: \"Save\",\n      success: true,\n      className: \"mr-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  branchList: state.common.branchList,\n  jobtitleList: state.common.jobtitleList,\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\n  staffPlusWorkScheduleDetails: state.staffPlus.staffPlusWorkScheduleDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    createStaffPlus,\n    getJobtitle,\n    getStaffPlus,\n    updateStaffPlus,\n    getCommonApi,\n    getWorkSchedule,\n    updateWorkSchedule\n  }, dispatch);\n};\n\nexport const AddStaffPlus = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddStaffClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/AddStaffPlus/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","displayImg","dateFormat","DragFileUpload","createStaffPlus","getStaffPlus","updateStaffPlus","getWorkSchedule","updateWorkSchedule","getJobtitle","getCommonApi","connect","bindActionCreators","FormGroup","Label","Input","ScheduleTable","withTranslation","AddStaffClass","state","formFields","emp_name","emp_nric","display_name","emp_joindate","Site_Codeid","EMP_TYPEid","emp_pic","emp_isactive","is_login","pw_password","LEVEL_ItmIDid","show_in_sales","show_in_appt","show_in_trmt","max_disc","work_schedule","monday","tuesday","wednesday","thursday","friday","saturday","sunday","siteCodes","scheduleOptions","jobOption","locationOption","levelList","is_loading","isMounted","updateState","data","setState","loadData","props","then","res","key","push","value","id","label","itemsite_desc","level_name","schedules","itm_code","itm_desc","color","itm_color","shortDesc","match","params","mapJobList","getStaffDetail","setDataFromStore","jobtitleList","level_desc","staffPlusDetail","staffPlusWorkScheduleDetails","Date","site_list","forEach","e","val","find","element","handleChange","target","name","Object","assign","handleMultiSelect","console","log","handleDatePick","handleInput","handleImageUpload","file","removepostImage","staffImage","index","indexOf","shift","pop","handleSubmit","validator","allValid","keys","formData","FormData","append","map","reduce","a","scheduleData","status","res2","history","showMessages","handleChangeBox","event","checked","componentWillUnmount","componentWillMount","validators","contactNumber","message","rule","helpers","testRegex","messageReplace","replace","toSentence","required","autoForceUpdate","render","t","mapStateToProps","branchList","common","staffPlus","mapDispatchToProps","dispatch","AddStaffPlus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  NormalInput,\n  NormalSelect,\n  NormalButton,\n  NormalDateTime,\n  NormalMultiSelect,\n} from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { DragFileUpload } from \"../../../common\";\nimport {\n  createStaffPlus,\n  getStaffPlus,\n  updateStaffPlus,\n  getWorkSchedule,\n  updateWorkSchedule,\n} from \"redux/actions/staffPlus\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { ScheduleTable } from \"./ScheduleTable\";\nimport { withTranslation } from \"react-i18next\";\n\nexport class AddStaffClass extends Component {\n  state = {\n    formFields: {\n      emp_name: \"\",\n      emp_nric: \"\",\n      display_name: \"\",\n      emp_joindate: \"\",\n      Site_Codeid: \"\",\n      EMP_TYPEid: \"\",\n      emp_pic: \"\",\n      emp_isactive: false,\n      is_login: false,\n      pw_password: \"\",\n      LEVEL_ItmIDid: \"\",\n      show_in_sales: false,\n      show_in_appt: false,\n      show_in_trmt: false,\n      max_disc: \"\",\n      work_schedule: {\n        monday: \"YES\",\n        tuesday: \"YES\",\n        wednesday: \"YES\",\n        thursday: \"YES\",\n        friday: \"YES\",\n        saturday: \"NO\",\n        sunday: \"NO\",\n      },\n      Site_Codeid: \"\",\n      siteCodes: [],\n    },\n    scheduleOptions: [],\n    jobOption: [],\n    locationOption: [],\n    levelList: [],\n    is_loading: true,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentWillMount() {\n    this.validator = new SimpleReactValidator({\n      validators: {\n        contactNumber: {\n          message: \"The :attribute must be a valid format.\",\n          rule: (val, params, validator) => {\n            return (\n              validator.helpers.testRegex(\n                val,\n                /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/\n              ) && params.indexOf(val) === -1\n            );\n          },\n          messageReplace: (message, params) =>\n            message.replace(\"\", this.helpers.toSentence(params)),\n          required: true,\n        },\n      },\n      element: (message) => (\n        <span className=\"error-message text-danger validNo fs14\">\n          {message}\n        </span>\n      ),\n      autoForceUpdate: this,\n    });\n    this.loadData();\n  }\n\n  loadData = async () => {\n    this.updateState({ is_loading: true });\n    // branch option api\n    await this.props.getCommonApi(\"branchlist/\").then((res) => {\n      let { locationOption } = this.state;\n      for (let key of res.data) {\n        locationOption.push({ value: key.id, label: key.itemsite_desc });\n      }\n      this.updateState({ locationOption });\n    });\n\n    // level option api\n    await this.props.getCommonApi(\"securities/\").then((res) => {\n      let { levelList } = this.state;\n      for (let key of res.data) {\n        levelList.push({ value: key.id, label: key.level_name });\n      }\n      this.updateState({ levelList });\n    });\n\n    // schedule hours api\n    await this.props.getCommonApi(\"WorkScheduleHours/\").then((res) => {\n      let { scheduleOptions } = this.state;\n      for (let key of res.schedules) {\n        scheduleOptions.push({\n          id: key.id,\n          value: key.itm_code,\n          label: key.itm_desc,\n          color: key.itm_color,\n          shortDesc: key.shortDesc,\n        });\n      }\n      this.updateState({ scheduleOptions });\n    });\n\n    // get api for staff while\n    if (this.props.match.params.id) {\n      // jobtitle option api\n      await this.props.getJobtitle().then(async () => {\n        await this.mapJobList();\n        await this.getStaffDetail();\n      });\n    } else {\n      // jobtitle option api\n      await this.props.getJobtitle().then(() => {\n        this.mapJobList();\n      });\n    }\n    this.updateState({ is_loading: false });\n  };\n\n  // get api for staff\n  getStaffDetail = async () => {\n    await this.props.getStaffPlus(`${this.props.match.params.id}/`);\n    await this.props.getWorkSchedule(`${this.props.match.params.id}`);\n    this.setDataFromStore();\n  };\n\n  // set dropdown data from response\n  mapJobList = async () => {\n    let { jobtitleList } = this.props;\n    let { jobOption } = this.state;\n    for (let key of jobtitleList) {\n      jobOption.push({ label: key.level_desc, value: key.id });\n    }\n\n    this.updateState({\n      jobOption,\n    });\n  };\n\n  // set data to formfield from response while edit\n  setDataFromStore = () => {\n    let { staffPlusDetail, staffPlusWorkScheduleDetails } = this.props;\n    let { formFields, locationOption } = this.state;\n    formFields[\"emp_name\"] = staffPlusDetail.emp_name;\n    formFields[\"display_name\"] = staffPlusDetail.display_name;\n    formFields[\"emp_joindate\"] = new Date(staffPlusDetail.emp_joindate);\n    formFields[\"Site_Codeid\"] = staffPlusDetail.Site_Codeid;\n    formFields[\"EMP_TYPEid\"] = staffPlusDetail.EMP_TYPEid;\n    formFields[\"emp_pic\"] = staffPlusDetail.emp_pic;\n    formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\n    formFields[\"is_login\"] = staffPlusDetail.is_login;\n    formFields[\"emp_isactive\"] = staffPlusDetail.emp_isactive;\n    formFields[\"max_disc\"] = staffPlusDetail.max_disc;\n    formFields[\"LEVEL_ItmIDid\"] = staffPlusDetail.LEVEL_ItmIDid;\n    formFields[\"show_in_sales\"] = staffPlusDetail.show_in_sales;\n    formFields[\"show_in_appt\"] = staffPlusDetail.show_in_appt;\n    formFields[\"show_in_trmt\"] = staffPlusDetail.show_in_trmt;\n    formFields.siteCodes = [];\n    staffPlusDetail.site_list.forEach((e) => {\n      let val = locationOption.find(\n        (element) => element.value == e.Site_Codeid\n      );\n      formFields.siteCodes.push(val);\n    });\n    formFields.work_schedule.monday = staffPlusWorkScheduleDetails.monday;\n    formFields.work_schedule.tuesday = staffPlusWorkScheduleDetails.tuesday;\n    formFields.work_schedule.wednesday = staffPlusWorkScheduleDetails.wednesday;\n    formFields.work_schedule.thursday = staffPlusWorkScheduleDetails.thursday;\n    formFields.work_schedule.friday = staffPlusWorkScheduleDetails.friday;\n    formFields.work_schedule.saturday = staffPlusWorkScheduleDetails.saturday;\n    formFields.work_schedule.sunday = staffPlusWorkScheduleDetails.sunday;\n    this.updateState({ formFields });\n  };\n\n  handleChange = ({ target: { value, name } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n\n    formFields[name] = value;\n\n    this.updateState({\n      formFields,\n    });\n  };\n\n  handleMultiSelect = (data = []) => {\n    let { formFields } = this.state;\n    formFields.siteCodes = data;\n    console.log(data);\n    this.updateState({ formFields });\n  };\n\n  handleDatePick = async (name, value) => {\n    // dateFormat(new Date())\n    let { formFields } = this.state;\n    formFields[name] = value;\n    // formFields[name] = value;\n    await this.updateState({\n      formFields,\n    });\n  };\n\n  handleInput = ({ target: { name, value } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n    formFields[name] = value === true ? 1 : value;\n    this.updateState({\n      formFields,\n    });\n  };\n\n  // upload imag to formfield\n  handleImageUpload = (file) => {\n    let { formFields } = this.state;\n    formFields[\"emp_pic\"] = file;\n    this.updateState({\n      formFields,\n    });\n  };\n\n  // remove image to formfield\n  removepostImage = (e, name) => {\n    let { staffImage } = this.state.formFields;\n    let index = staffImage.indexOf(name);\n    if (index === 0) {\n      staffImage.shift();\n    } else {\n      staffImage.pop();\n    }\n    this.updateState({\n      staffImage,\n    });\n  };\n\n  // submit to create/update staff\n  handleSubmit = async () => {\n    try {\n      if (this.validator.allValid()) {\n        this.updateState({ is_loading: true });\n        let { formFields } = this.state;\n        Object.keys(formFields).forEach((e) => {\n          if (typeof formFields[e] === \"boolean\")\n            formFields[e] = formFields[e] ? \"True\" : \"False\";\n        });\n        const formData = new FormData();\n        formData.append(\"emp_name\", formFields.emp_name);\n        formData.append(\"display_name\", formFields.display_name);\n        formData.append(\"pw_password\", formFields.pw_password);\n        formData.append(\"emp_joindate\", dateFormat(formFields.emp_joindate));\n        formData.append(\"Site_Codeid\", formFields.Site_Codeid);\n        formData.append(\"EMP_TYPEid\", formFields.EMP_TYPEid);\n        if (\n          formFields.emp_pic != null &&\n          typeof formFields.emp_pic === \"object\"\n        )\n          formData.append(\"emp_pic\", formFields.emp_pic);\n        formData.append(\"emp_nric\", formFields.emp_nric);\n        formData.append(\"is_login\", formFields.is_login);\n        formData.append(\"emp_isactive\", formFields.emp_isactive);\n        formData.append(\"max_disc\", formFields.max_disc);\n        formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\n        formData.append(\"show_in_sales\", formFields.show_in_sales);\n        formData.append(\"show_in_appt\", formFields.show_in_appt);\n        formData.append(\"show_in_trmt\", formFields.show_in_trmt);\n        formData.append(\n          \"site_list\",\n          formFields.siteCodes\n            .map((e) => e.value)\n            .reduce((a, e) => (a === \"\" ? e : a + \",\" + e), \"\")\n        );\n        const scheduleData = new FormData();\n        scheduleData.append(\"monday\", formFields.work_schedule.monday);\n        scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n        scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\n        scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n        scheduleData.append(\"friday\", formFields.work_schedule.friday);\n        scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\n        scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\n        if (this.props.match.params.id) {\n          var res = await this.props.updateStaffPlus(\n            `${this.props.match.params.id}/`,\n            formData\n          );\n          console.log(res);\n          if (res.status === 200) {\n            await this.props.updateWorkSchedule(\n              this.props.match.params.id,\n              scheduleData\n            );\n          }\n          await this.getStaffDetail();\n        } else {\n          var res = await this.props.createStaffPlus(formData);\n          console.log(res);\n          if (res.status === 201) {\n            var res2 = await this.props.updateWorkSchedule(\n              res.data.id,\n              scheduleData\n            );\n            if (res2.status === 200)\n              this.props.history.push(\n                `/admin/staffPlus/${res.data.id}/editStaff`\n              );\n          }\n        }\n      } else {\n        this.validator.showMessages();\n        console.log(\"missing fields found !\");\n      }\n      this.updateState({ is_loading: false });\n    } catch (e) {\n      console.log(e);\n      this.updateState({ is_loading: false });\n    }\n  };\n\n  handleChangeBox = (event) => {\n    let formFields = Object.assign({}, this.state.formFields);\n    formFields[event.target.name] = event.target.checked;\n\n    this.updateState({\n      formFields,\n    });\n  };\n\n  render() {\n    let {\n      formFields,\n      jobOption,\n      locationOption,\n      is_loading,\n      levelList,\n      scheduleOptions,\n    } = this.state;\n\n    let {\n      emp_name,\n      emp_nric,\n      display_name,\n      is_login,\n      EMP_TYPEid,\n      emp_joindate,\n      emp_pic,\n      emp_isactive,\n      pw_password,\n      LEVEL_ItmIDid,\n      show_in_sales,\n      show_in_appt,\n      show_in_trmt,\n      Site_Codeid,\n      max_disc,\n      work_schedule,\n    } = formFields;\n\n    let { t } = this.props;\n    return (\n      <div className=\"px-5 container create-staff\">\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Staff</p> */}\n        <div className=\"head-label-nav\">\n          <p className=\"category\">{t(\"StaffPlus\")}</p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Staff`)}\n          </p>\n        </div>\n        {is_loading ? (\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n            <div class=\"spinner-border\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        ) : (\n          <div className=\"staff-detail\">\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Upload Staff Photo\")}\n                  </label>\n                  <div className=\"col-md-12 p-0\">\n                    <DragFileUpload\n                      className={`file-uploader size-lg ${\n                        emp_pic ? \"\" : \"no-img\"\n                      }`}\n                      label=\"Upload Thumbnail\"\n                      handleFileUpload={this.handleImageUpload}\n                    ></DragFileUpload>\n\n                    {emp_pic ? (\n                      <>\n                        {typeof emp_pic == \"string\" ? (\n                          <img src={emp_pic} alt=\"\" width=\"50%\" />\n                        ) : null}\n                      </>\n                    ) : null}\n                  </div>\n                </div>\n                {this.props.match.params.id ? (\n                  <div className=\"col-6\">\n                    <Link\n                      to={\n                        \"/admin/staffplus/\" +\n                        this.props.match.params.id +\n                        \"/empinfo\"\n                      }\n                    >\n                      <NormalButton\n                        label=\"Emp Info\"\n                        outline={true}\n                        className=\"mr-2 col-12\"\n                      />\n                    </Link>\n                  </div>\n                ) : null}\n                <div className=\"col-12 pb-4 pt-4\">\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={emp_isactive}\n                        name=\"emp_isactive\"\n                      />{\" \"}\n                      {t(\"Active\")}\n                    </Label>\n                  </FormGroup>\n                </div>\n\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Employee Name\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_name}\n                      name=\"emp_name\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    t(\"employee name\"),\n                    emp_name,\n                    t(\"required\")\n                  )}\n                </div>\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"NRIC/WP\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_nric}\n                      name=\"emp_nric\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"User Name\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={display_name}\n                      name=\"display_name\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    t(\"user name\"),\n                    display_name,\n                    t(\"required\")\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Employee Type\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      options={jobOption}\n                      value={EMP_TYPEid}\n                      name=\"EMP_TYPEid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    t(\"employee type\"),\n                    EMP_TYPEid,\n                    t(\"required\")\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Discount Limit\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      type=\"number\"\n                      placeholder=\"Enter here\"\n                      value={max_disc}\n                      name=\"max_disc\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    t(\"discount limit\"),\n                    max_disc,\n                    t(\"required\")\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Join Date\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalDateTime\n                      onChange={this.handleDatePick}\n                      inputcol=\"p-0 inTime\"\n                      value={emp_joindate}\n                      name=\"emp_joindate\"\n                      className=\"dob-pick\"\n                      showYearDropdown={true}\n                      dateFormat=\"MM/dd/yyyy\"\n                    />\n                  </div>\n                  {this.validator.message(\n                    t(\"join date\"),\n                    emp_joindate,\n                    t(\"required\")\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Default List\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      options={locationOption}\n                      value={Site_Codeid}\n                      name=\"Site_Codeid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"Site List\")}\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalMultiSelect\n                      handleMultiSelect={this.handleMultiSelect}\n                      options={locationOption}\n                      value={formFields.siteCodes}\n                      name=\"siteCodes\"\n                    />\n                  </div>\n                </div>\n                <div className=\"col-12 pb-4 pt-4\">\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={is_login}\n                        name=\"is_login\"\n                      />\n                      {t(\"Security AC\")}\n                    </Label>\n                  </FormGroup>\n                </div>\n                {is_login ? (\n                  <div>\n                    <div className=\"col-12 mb-4\">\n                      <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                        {t(\"Password\")}\n                      </label>\n                      <div className=\"input-group\">\n                        <NormalInput\n                          placeholder=\"Enter here\"\n                          value={pw_password}\n                          name=\"pw_password\"\n                          onChange={this.handleChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-12 mb-4\">\n                      <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                        {t(\"Employee Level\")}\n                      </label>\n                      <div className=\"input-group\">\n                        <NormalSelect\n                          options={levelList}\n                          value={LEVEL_ItmIDid}\n                          name=\"LEVEL_ItmIDid\"\n                          onChange={this.handleChange}\n                        />\n                      </div>\n                      {this.validator.message(\n                        t(\"employee level\"),\n                        LEVEL_ItmIDid,\n                        t(\"required\")\n                      )}\n                    </div>\n                  </div>\n                ) : null}\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {t(\"To Show At\")}\n                  </label>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={show_in_sales}\n                        name=\"show_in_sales\"\n                      />\n                      {t(\"Sales\")}\n                    </Label>\n                  </FormGroup>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={show_in_trmt}\n                        name=\"show_in_trmt\"\n                      />\n                      {t(\"Treatment\")}\n                    </Label>\n                  </FormGroup>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={show_in_appt}\n                        name=\"show_in_appt\"\n                      />\n                      {t(\"Appointment\")}\n                    </Label>\n                  </FormGroup>\n                </div>\n              </div>\n\n              <div className=\"form-group mb-4 pb-2\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                      {t(\"Work Schedule\")}\n                    </label>\n                    <ScheduleTable\n                      data={work_schedule}\n                      optionList={scheduleOptions}\n                      onChange={(data) => {\n                        let { formFields } = this.state;\n                        formFields[\"work_schedule\"] = data;\n                        this.updateState({\n                          formFields,\n                        });\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"pt-5 d-flex justify-content-center\">\n                <div className=\"col-md-3 col-lg-2\">\n                  <Link to=\"/admin/staffplus\">\n                    <NormalButton\n                      label=\"Cancel\"\n                      danger={true}\n                      className=\"mr-2 col-12\"\n                    />\n                  </Link>\n                </div>\n                <div className=\"col-md-3 col-lg-2\">\n                  <NormalButton\n                    onClick={() => this.handleSubmit()}\n                    label=\"Save\"\n                    success={true}\n                    className=\"mr-2 col-12\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  branchList: state.common.branchList,\n  jobtitleList: state.common.jobtitleList,\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\n  staffPlusWorkScheduleDetails: state.staffPlus.staffPlusWorkScheduleDetails,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      createStaffPlus,\n      getJobtitle,\n      getStaffPlus,\n      updateStaffPlus,\n      getCommonApi,\n      getWorkSchedule,\n      updateWorkSchedule,\n    },\n    dispatch\n  );\n};\n\nexport const AddStaffPlus = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(AddStaffClass)\n);\n"]},"metadata":{},"sourceType":"module"}