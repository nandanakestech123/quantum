{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Quantum\\\\PO\\\\AddPO\\\\details.js\";\nimport React from \"react\";\nimport { Toast } from \"service/toast\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { NormalButton, NormalDate, TableWrapper, InputSearch } from \"component/common\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport { withTranslation } from \"react-i18next\";\nimport { NormalInput, NormalDateTime, NormalTextarea } from \"component/common\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport updateBtn from \"assets/images/edit1.png\";\nimport addBtn from \"assets/images/add.png\";\nimport deleteBtn from \"assets/images/delete1.png\";\nimport closeBtn from \"assets/images/close.png\";\nimport saveBtn from \"assets/images/save.png\";\nexport class DetailsClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Item Code\"\n      }, {\n        label: \"Item Description\"\n      }, {\n        label: \"Unit Price\"\n      }, {\n        label: \"Quantity\"\n      }, {\n        label: \"\"\n      }],\n      headerSelectedDetails: [{\n        label: \"Item Code\"\n      }, {\n        label: \"Item Description\"\n      }, {\n        label: \"Remarks\"\n      }, {\n        label: \"Quantity\"\n      }, {\n        label: \"Unit Price\"\n      }, {\n        label: \"\"\n      }, {\n        label: \"\"\n      }],\n      formFields: {\n        po_shipcost: \"\",\n        po_discount: \"\",\n        po_taxes: \"\",\n        po_total: \"\"\n      },\n      detailsList: [],\n      storedItemList: [],\n      pageMeta: {},\n      siteGstList: [],\n      search: \"\",\n      active: false,\n      currentIndex: -1,\n      page: 1,\n      // limit: 10,\n      limit: 4,\n      isOpenvoidCheckout: false,\n      isLoading: true,\n      // is_loading: false,\n      isMounted: true,\n      isVisible: false // salesCollectionHeader: [\n      //   { label: \"Sales Collection\" },\n      //   { label: \"Before Tax\" },\n      //   { label: \"Amount\" },\n      //   { label: \"Qty\" },\n      // ],\n      // nonSalesCollectionHeader: [\n      //   { label: \"Non Sales Collection\" },\n      //   { label: \"Amount\" },\n      //   { label: \"Qty\" },\n      // ],\n      // deptSalesHeader: [{ label: \"Dept Sales\" }, { label: \"Amount\" }],\n      // salesTransactionHeader: [\n      //   { label: \"Sales Transaction\" },\n      //   { label: \"Amount\" },\n      //   { label: \"Paid\" },\n      //   { label: \"Outstanding\" },\n      // ],\n      // ARTransactionHeader: [{ label: \"AR Transaction\" }, { label: \"Amount\" }],\n      // TreatmentDoneHeader: [\n      //   { label: \"Customer\" },\n      //   { label: \"Customer Reference\" },\n      //   { label: \"Treatment Done\" },\n      //   { label: \"Description\" },\n      //   { label: \"Staff\" },\n      //   { label: \"Amount\" },\n      // DayDate: new Date(),\n      // runDayEnd: false,\n      // reportDate: \"\",\n      // sales_collec: null,\n      // sales_trasac: null,\n      // ar_trasac: null,\n      // treatment_done: null,\n      // dept_sales: null,\n\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.autofillDetailsFromQuo = () => {\n      let formFields = Object.assign({}, this.state.formFields);\n      let {\n        storedItemList\n      } = this.state;\n      this.props.getCommonApi(`quotationdetail/?searchqdetailid=${this.props.quoId}`).then(res => {\n        console.log(\"res in autofillDetailsFromQuo\", res);\n\n        if (res.status == 200) {\n          formFields[\"po_shipcost\"] = res.data[0].q_shipcost;\n          formFields[\"po_discount\"] = res.data[0].q_discount;\n          formFields[\"po_taxes\"] = res.data[0].q_taxes;\n          formFields[\"po_total\"] = res.data[0].q_total; // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\n\n          this.updateState({\n            formFields\n          });\n          this.props.storeItemDetails(storedItemList, formFields); // this.setState(this.state.formFields)\n        }\n\n        console.log(\"formFields in autofillDetailsFromQuo\", this.state.formFields);\n      });\n    };\n\n    this.autofillDetails = () => {\n      let formFields = Object.assign({}, this.state.formFields); // formFields[\"q_shipcost\"] = 12\n      // this.updateState({\n      //   formFields,\n      // });\n\n      this.props.getCommonApi(`podetail/?searchpodetailid=${this.props.poId}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res);\n\n        if (res.status == 200) {\n          formFields[\"po_shipcost\"] = res.data[0].po_shipcost;\n          formFields[\"po_discount\"] = res.data[0].po_discount;\n          formFields[\"po_taxes\"] = res.data[0].po_taxes;\n          formFields[\"po_total\"] = res.data[0].po_total; // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\n\n          this.updateState({\n            formFields\n          });\n          console.log(\"this.state.formFields in componentWillMount\", this.state.formFields);\n        }\n      });\n    };\n\n    this.getDetails = () => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        detailsList,\n        pageMeta,\n        page,\n        limit,\n        search\n      } = this.state; // let { item_desc } = formField;\n\n      this.props.getCommonApi(`qpoitem/?searchitemdesc=${search}&page=${page}&limit=${limit}`).then(async res => {\n        console.log(res, \"dsfdfaafg\");\n        await this.setState({\n          detailsList: []\n        });\n        detailsList = res.data.dataList; // pageMeta = res.data.meta.pagination;\n\n        pageMeta = res.data.pagination; // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\n        // this.setState({ detailsList, pageMeta });\n        // this.setState({ detailsList });\n\n        console.log(\"res.data\", res.data);\n        console.log(\"detailsList\", detailsList);\n        console.log(\"pageMeta\", pageMeta);\n        this.updateState({\n          detailsList,\n          pageMeta,\n          isLoading: false\n        });\n      });\n    };\n\n    this.handlePagination = async pageNo => {\n      let {\n        page\n      } = this.state;\n      page = pageNo.page;\n      await this.setState({\n        page\n      });\n      this.getDetails();\n    };\n\n    this.handlesearch = event => {\n      // event.persist();\n      console.log(event.target.value);\n      let {\n        search\n      } = this.state;\n      search = event.target.value;\n      this.setState({\n        search\n      });\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(async () => {\n          this.getDetails({});\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.handleChangeDetails = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.setState({\n        formFields\n      }, () => {\n        this.handleUpdateTotal();\n      });\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        detailsList\n      } = this.state;\n      console.log(\"value\", value);\n      console.log(\"name\", name);\n\n      for (let list in detailsList) {\n        if (detailsList[list].item_code == name) {\n          detailsList[list].item_quantity = value;\n        }\n\n        console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\n      }\n\n      this.setState({\n        detailsList\n      });\n      console.log(\"detailsList in handleChange\", detailsList); // current_item_quantity = value\n      // this.setState({ current_item_quantity })\n    };\n\n    this.handleChangeDescription = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        detailsList\n      } = this.state;\n      console.log(\"value\", value);\n      console.log(\"name\", name);\n\n      for (let list in detailsList) {\n        if (detailsList[list].item_code == name) {\n          detailsList[list].item_desc = value;\n        }\n\n        console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\n      }\n\n      this.setState({\n        detailsList\n      });\n      console.log(\"detailsList in handleChange\", detailsList); // current_item_quantity = value\n      // this.setState({ current_item_quantity })\n    };\n\n    this.handleSelect = (item_code, item_desc, item_price, item_quantity) => {\n      let {\n        storedItemList,\n        detailsList,\n        formFields\n      } = this.state;\n\n      for (let item of storedItemList) {\n        if (item.item_code == item_code) {\n          Toast({\n            type: \"error\",\n            message: \"This item already exists\"\n          });\n          return;\n        }\n      }\n\n      console.log(\"item_code\", item_code);\n      console.log(\"item_desc\", item_desc);\n      console.log(\"item_price\", item_price);\n\n      if (item_quantity) {\n        storedItemList.push({\n          item_code: item_code,\n          item_desc: item_desc,\n          item_remarks: \"\",\n          item_price: item_price,\n          item_quantity: item_quantity,\n          editing: false\n        });\n      } else {\n        item_quantity = 1;\n        storedItemList.push({\n          item_code: item_code,\n          item_desc: item_desc,\n          item_remarks: \"\",\n          item_price: item_price,\n          item_quantity: item_quantity,\n          editing: false\n        });\n      }\n\n      console.log(\"storedItemList\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n      this.handleUpdateTotal();\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleRemoveStoredItem = item_code => {\n      let {\n        storedItemList,\n        formFields\n      } = this.state;\n\n      for (var i = 0; i < storedItemList.length; i++) {\n        if (storedItemList[i].item_code == item_code) {\n          storedItemList.splice(i, 1);\n        }\n      }\n\n      console.log(\"storedItemList after remove\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n      this.handleUpdateTotal();\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleEdit = item_code => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == item_code) {\n          storedItemList[list].editing = true;\n        }\n      }\n\n      console.log(\"storedItemList in handleedit\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n    };\n\n    this.handleEditDesc = (item_code, isVisible = false) => {\n      let {\n        detailsList\n      } = this.state;\n\n      for (let list in detailsList) {\n        if (detailsList[list].item_code == item_code) {\n          detailsList[list].editing = isVisible;\n        }\n      }\n\n      console.log(\"detailsList in handleedit\", detailsList);\n      this.setState({\n        detailsList\n      });\n    };\n\n    this.handleSave = item_code => {\n      let {\n        storedItemList,\n        formFields\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == item_code) {\n          storedItemList[list].editing = false;\n        }\n      }\n\n      console.log(\"storedItemList in handleedit\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n      this.handleUpdateTotal();\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleEditChangeDescription = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_desc = value;\n        }\n\n        console.log(\"storedItemList[list].item_code\", storedItemList[list].item_code);\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.handleEditChangeRemarks = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_remarks = value;\n        } // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.handleEditChangePrice = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_price = value;\n        } // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.handleEditChangeQuantity = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_quantity = value;\n        } // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.autofillSaved = () => {\n      let {\n        storedItemList,\n        formFields\n      } = this.state;\n      storedItemList = this.props.storedItemListStored;\n      formFields.po_shipcost = this.props.formFieldsDetailsStored.po_shipcost;\n      formFields.po_discount = this.props.formFieldsDetailsStored.po_discount;\n      formFields.po_taxes = this.props.formFieldsDetailsStored.po_taxes;\n      formFields.po_total = this.props.formFieldsDetailsStored.po_total;\n      this.setState({\n        storedItemList,\n        formFields\n      });\n      console.log(\"storedItemList in autofillSaved\", storedItemList);\n      console.log(\"formFields in autofillSaved\", formFields);\n    };\n\n    this.handleUpdateTotal = () => {\n      let {\n        storedItemList,\n        formFields,\n        siteGstList\n      } = this.state; // console.log(\"siteGstList[0]\",siteGstList[0].site_is_gst)\n      // if(siteGstList[0].site_is_gst == false)\n\n      if (storedItemList.length !== 0) {\n        let costPrice = 0;\n        let subTotal = 0;\n        let taxes = 0;\n        let total = 0;\n\n        for (let item of storedItemList) {\n          costPrice = parseFloat(item.item_price) * parseFloat(item.item_quantity) + costPrice; // console.log(\"item.item_price\",item.item_price,typeof item.item_price)\n          // console.log(\"item.item_quantity\",item.item_quantity,typeof item.item_quantity)\n          // formFields.DOC_AMT = item.amount + formFields.DOC_AMT\n          // formFields.DOC_QTY = parseInt(item.item_quantity) + formFields.DOC_QTY\n        }\n\n        console.log(\"GST\");\n        console.log(\"formFields.po_shipcost\", formFields.po_shipcost, typeof formFields.po_shipcost);\n        console.log(\"costPrice\", costPrice);\n        subTotal = costPrice - (formFields.po_discount ? parseFloat(formFields.po_discount) : 0) + (formFields.po_shipcost ? parseFloat(formFields.po_shipcost) : 0);\n        taxes = Math.round(siteGstList[0].item_value / 100 * subTotal * 100) / 100;\n        total = Math.round((subTotal + taxes) * 100) / 100;\n        formFields.po_taxes = taxes;\n        formFields.po_total = total; // console.log(\"storedItemList in update total\",storedItemList)\n        // formFields.DOC_AMT = Math.round(formFields.DOC_AMT * 100) / 100\n        // console.log(\"formFields.DOC_AMT\",formFields.DOC_AMT, typeof formFields.DOC_AMT)\n\n        this.setState({\n          formFields\n        });\n        console.log(\"formFields in update total if\", formFields);\n      } else {\n        formFields.po_taxes = 0;\n        formFields.po_total = 0;\n        this.setState({\n          formFields\n        });\n        console.log(\"formFields in update total else\", formFields);\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.autofillSaved();\n  }\n\n  componentDidMount() {\n    // let From = new Date();\n    // let { formField } = this.state;\n    // let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\n    // formField[\"fromDate\"] = firstdayMonth;\n    // this.setState({\n    //   formField,\n    // });\n    this.getDetails();\n\n    if (this.props.poId) {\n      this.autofillDetails();\n    }\n\n    if (this.props.quoId) {\n      this.autofillDetailsFromQuo();\n      console.log(\"this.props.quoId\", this.props.quoId);\n    }\n\n    console.log(\"this.props in comdidmount\", this.props); // this.queryHandler({});\n\n    console.log(\"this.props.storedItemListStored loaded\", this.props.storedItemListStored);\n    console.log(\"this.props.formFieldsDetailsStored loaded\", this.props.formFieldsDetailsStored);\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.siteGstList !== prevProps.siteGstList) {\n      // this.fetchData(this.props.siteGstList);\n      let {\n        siteGstList\n      } = this.state;\n      console.log(\"this.props.siteGstList in update\", this.props.siteGstList);\n      siteGstList = this.props.siteGstList;\n      this.setState({\n        siteGstList\n      }, () => {\n        this.handleUpdateTotal();\n      }); // this.handleUpdateTotal()\n    }\n  }\n\n  render() {\n    let {\n      headerDetails,\n      headerSelectedDetails,\n      pageMeta,\n      detailsList,\n      storedItemList,\n      isLoading,\n      formFields,\n      isVisible\n    } = this.state;\n    let {\n      po_shipcost,\n      po_discount,\n      po_taxes,\n      po_total\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      placeholder: \"Search Item\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: pageMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 11\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 23\n      }\n    }, t(\"Loading...\")))))) : detailsList ? detailsList.map((item, index) => {\n      let {\n        item_code,\n        item_desc,\n        item_price,\n        item_quantity\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 23\n        }\n      }, item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items- justify-content-\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 23\n        }\n      }, !item.editing ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-75 d-flex justify-content-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        class: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 29\n        }\n      }, item_desc), /*#__PURE__*/React.createElement(\"img\", {\n        src: addBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent\",\n        onClick: () => this.handleEditDesc(item_code, true),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 29\n        }\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: closeBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent mb-3\",\n        onClick: () => this.handleEditDesc(item_code),\n        style: {\n          marginLeft: \"75%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(NormalTextarea, {\n        className: \"form-control w-100\",\n        value: item_desc,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleChangeDescription,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 23\n        }\n      }, item_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_quantity,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"mx-2\",\n        disabled: this.props.disableEdit,\n        mainbg: true,\n        className: \"warning\",\n        label: \"Select\",\n        onClick: () => this.handleSelect(item_code, item_desc, item_price, item_quantity),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 25\n        }\n      }))));\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerSelectedDetails // queryHandler={this.handlePagination}\n      // pageMeta={pageMeta}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 11\n      }\n    }, storedItemList ? storedItemList.map((item, index) => {\n      let {\n        item_code,\n        item_desc,\n        item_remarks,\n        item_price,\n        item_quantity,\n        editing\n      } = item;\n      return editing == false ? /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-start justify-content-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 25\n        }\n      }, item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-start justify-content-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 25\n        }\n      }, item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-start justify-content-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 25\n        }\n      }, item_remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-end justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 25\n        }\n      }, item_quantity)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-end justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 25\n        }\n      }, item_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: updateBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent\",\n        onClick: this.props.disableEdit == false ? () => this.handleEdit(item_code) : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: deleteBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent \",\n        onClick: this.props.disableEdit == false ? () => this.handleRemoveStoredItem(item_code) : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 27\n        }\n      })))) : /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 25\n        }\n      }, item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 25\n        }\n      }, item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 804,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_remarks,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleEditChangeRemarks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_quantity,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleEditChangeQuantity,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_price,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleEditChangePrice,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: saveBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent \",\n        onClick: this.props.disableEdit == false ? () => this.handleSave(item_code) : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 27\n        }\n      }))));\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-end mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 17\n      }\n    }, t(\"Shipping Cost\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"0\",\n      disabled: this.props.disableEdit,\n      value: po_shipcost,\n      name: \"po_shipcost\",\n      onChange: this.handleChangeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 17\n      }\n    }, t(\"Discount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 889,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"0\",\n      disabled: this.props.disableEdit,\n      value: po_discount,\n      name: \"po_discount\",\n      onChange: this.handleChangeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 900,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 901,\n        columnNumber: 17\n      }\n    }, t(\"Taxes\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 904,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"0\",\n      disabled: true,\n      value: po_taxes,\n      name: \"po_taxes\" // onChange={this.handleChangeDetails}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 17\n      }\n    }, t(\"Total\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"0\",\n      disabled: true,\n      value: po_total,\n      name: \"po_total\" // onChange={this.handleChangeDetails}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 929,\n        columnNumber: 15\n      }\n    }, this.props.validator.message(t(\"Total\"), po_total, t(\"required\")))))));\n  }\n\n} // const mapStateToProps = state => ({\n//   projectDetail: state.project.projectDetail,\n// });\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi // deleteProject,\n    // getProject\n\n  }, dispatch);\n};\n\nexport const Details = withTranslation()(connect(null, mapDispatchToProps)(DetailsClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Quantum/PO/AddPO/details.js"],"names":["React","Toast","connect","bindActionCreators","getCommonApi","NormalButton","NormalDate","TableWrapper","InputSearch","dateFormat","withTranslation","NormalInput","NormalDateTime","NormalTextarea","Link","_","updateBtn","addBtn","deleteBtn","closeBtn","saveBtn","DetailsClass","Component","state","headerDetails","label","headerSelectedDetails","formFields","po_shipcost","po_discount","po_taxes","po_total","detailsList","storedItemList","pageMeta","siteGstList","search","active","currentIndex","page","limit","isOpenvoidCheckout","isLoading","isMounted","isVisible","updateState","data","setState","autofillDetailsFromQuo","Object","assign","props","quoId","then","res","console","log","status","q_shipcost","q_discount","q_taxes","q_total","storeItemDetails","autofillDetails","poId","getDetails","dataList","pagination","handlePagination","pageNo","handlesearch","event","target","value","debouncedFn","debounce","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","e","node","contains","handleChangeDetails","name","handleUpdateTotal","handleChange","list","item_code","item_quantity","handleChangeDescription","item_desc","handleSelect","item_price","item","type","message","push","item_remarks","editing","handleRemoveStoredItem","i","length","splice","handleEdit","handleEditDesc","handleSave","handleEditChangeDescription","handleEditChangeRemarks","handleEditChangePrice","handleEditChangeQuantity","autofillSaved","storedItemListStored","formFieldsDetailsStored","costPrice","subTotal","taxes","total","parseFloat","Math","round","item_value","componentWillMount","componentDidMount","componentDidUpdate","prevProps","render","t","map","index","marginLeft","disableEdit","validator","mapDispatchToProps","dispatch","Details"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Toast } from \"service/toast\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport {\r\n  NormalButton,\r\n  NormalDate,\r\n  TableWrapper,\r\n  InputSearch,\r\n} from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NormalInput, NormalDateTime, NormalTextarea } from \"component/common\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\n\r\nimport updateBtn from \"assets/images/edit1.png\";\r\nimport addBtn from \"assets/images/add.png\";\r\nimport deleteBtn from \"assets/images/delete1.png\";\r\nimport closeBtn from \"assets/images/close.png\";\r\nimport saveBtn from \"assets/images/save.png\";\r\n\r\nexport class DetailsClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Unit Price\" },\r\n      { label: \"Quantity\" },\r\n      { label: \"\" },\r\n    ],\r\n    headerSelectedDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Remarks\" },\r\n      { label: \"Quantity\" },\r\n      { label: \"Unit Price\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n    ],\r\n    formFields: {\r\n      po_shipcost: \"\",\r\n      po_discount: \"\",\r\n      po_taxes: \"\",\r\n      po_total: \"\",\r\n    },\r\n\r\n    detailsList: [],\r\n    storedItemList: [],\r\n    pageMeta: {},\r\n\r\n    siteGstList: [],\r\n\r\n    search: \"\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    // limit: 10,\r\n    limit: 4,\r\n    isOpenvoidCheckout: false,\r\n    isLoading: true,\r\n    // is_loading: false,\r\n    isMounted: true,\r\n    isVisible: false,\r\n\r\n    // salesCollectionHeader: [\r\n    //   { label: \"Sales Collection\" },\r\n    //   { label: \"Before Tax\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Qty\" },\r\n    // ],\r\n    // nonSalesCollectionHeader: [\r\n    //   { label: \"Non Sales Collection\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Qty\" },\r\n    // ],\r\n    // deptSalesHeader: [{ label: \"Dept Sales\" }, { label: \"Amount\" }],\r\n    // salesTransactionHeader: [\r\n    //   { label: \"Sales Transaction\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Paid\" },\r\n    //   { label: \"Outstanding\" },\r\n    // ],\r\n    // ARTransactionHeader: [{ label: \"AR Transaction\" }, { label: \"Amount\" }],\r\n    // TreatmentDoneHeader: [\r\n    //   { label: \"Customer\" },\r\n    //   { label: \"Customer Reference\" },\r\n    //   { label: \"Treatment Done\" },\r\n    //   { label: \"Description\" },\r\n    //   { label: \"Staff\" },\r\n    //   { label: \"Amount\" },\r\n    // DayDate: new Date(),\r\n    // runDayEnd: false,\r\n    // reportDate: \"\",\r\n    // sales_collec: null,\r\n    // sales_trasac: null,\r\n    // ar_trasac: null,\r\n    // treatment_done: null,\r\n    // dept_sales: null,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.autofillSaved();\r\n  }\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentDidMount() {\r\n    // let From = new Date();\r\n    // let { formField } = this.state;\r\n    // let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\r\n    // formField[\"fromDate\"] = firstdayMonth;\r\n    // this.setState({\r\n    //   formField,\r\n    // });\r\n\r\n    this.getDetails();\r\n    if (this.props.poId) {\r\n      this.autofillDetails();\r\n    }\r\n    if (this.props.quoId) {\r\n      this.autofillDetailsFromQuo();\r\n      console.log(\"this.props.quoId\", this.props.quoId);\r\n    }\r\n    console.log(\"this.props in comdidmount\", this.props);\r\n    // this.queryHandler({});\r\n    console.log(\r\n      \"this.props.storedItemListStored loaded\",\r\n      this.props.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"this.props.formFieldsDetailsStored loaded\",\r\n      this.props.formFieldsDetailsStored\r\n    );\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // Typical usage (don't forget to compare props):\r\n    if (this.props.siteGstList !== prevProps.siteGstList) {\r\n      // this.fetchData(this.props.siteGstList);\r\n      let { siteGstList } = this.state;\r\n      console.log(\"this.props.siteGstList in update\", this.props.siteGstList);\r\n      siteGstList = this.props.siteGstList;\r\n      this.setState({ siteGstList }, () => {\r\n        this.handleUpdateTotal();\r\n      });\r\n      // this.handleUpdateTotal()\r\n    }\r\n  }\r\n\r\n  autofillDetailsFromQuo = () => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    let { storedItemList } = this.state;\r\n    this.props\r\n      .getCommonApi(`quotationdetail/?searchqdetailid=${this.props.quoId}`)\r\n      .then((res) => {\r\n        console.log(\"res in autofillDetailsFromQuo\", res);\r\n\r\n        if (res.status == 200) {\r\n          formFields[\"po_shipcost\"] = res.data[0].q_shipcost;\r\n          formFields[\"po_discount\"] = res.data[0].q_discount;\r\n          formFields[\"po_taxes\"] = res.data[0].q_taxes;\r\n          formFields[\"po_total\"] = res.data[0].q_total;\r\n\r\n          // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\r\n          this.updateState({\r\n            formFields,\r\n          });\r\n          this.props.storeItemDetails(storedItemList, formFields);\r\n          // this.setState(this.state.formFields)\r\n        }\r\n        console.log(\r\n          \"formFields in autofillDetailsFromQuo\",\r\n          this.state.formFields\r\n        );\r\n      });\r\n  };\r\n\r\n  autofillDetails = () => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    // formFields[\"q_shipcost\"] = 12\r\n    // this.updateState({\r\n    //   formFields,\r\n    // });\r\n    this.props\r\n      .getCommonApi(`podetail/?searchpodetailid=${this.props.poId}`)\r\n      .then((res) => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        if (res.status == 200) {\r\n          formFields[\"po_shipcost\"] = res.data[0].po_shipcost;\r\n          formFields[\"po_discount\"] = res.data[0].po_discount;\r\n          formFields[\"po_taxes\"] = res.data[0].po_taxes;\r\n          formFields[\"po_total\"] = res.data[0].po_total;\r\n          // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\r\n          this.updateState({\r\n            formFields,\r\n          });\r\n          console.log(\r\n            \"this.state.formFields in componentWillMount\",\r\n            this.state.formFields\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  getDetails = () => {\r\n    this.updateState({ isLoading: true });\r\n    let { detailsList, pageMeta, page, limit, search } = this.state;\r\n    // let { item_desc } = formField;\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `qpoitem/?searchitemdesc=${search}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(async (res) => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        await this.setState({ detailsList: [] });\r\n        detailsList = res.data.dataList;\r\n        // pageMeta = res.data.meta.pagination;\r\n        pageMeta = res.data.pagination;\r\n        // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\r\n        // this.setState({ detailsList, pageMeta });\r\n        // this.setState({ detailsList });\r\n\r\n        console.log(\"res.data\", res.data);\r\n        console.log(\"detailsList\", detailsList);\r\n        console.log(\"pageMeta\", pageMeta);\r\n        this.updateState({\r\n          detailsList,\r\n          pageMeta,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handlePagination = async (pageNo) => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getDetails();\r\n  };\r\n  // pagination\r\n  // handlePagination = page => {\r\n  //   this.queryHandler(page);\r\n  // };\r\n\r\n  handlesearch = (event) => {\r\n    // event.persist();\r\n    console.log(event.target.value);\r\n    let { search } = this.state;\r\n    search = event.target.value;\r\n    this.setState({ search });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getDetails({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleClick = (key) => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState((prevState) => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = (e) => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  handleChangeDetails = ({ target: { value, name } }) => {\r\n    let { storedItemList } = this.state;\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.setState(\r\n      {\r\n        formFields,\r\n      },\r\n      () => {\r\n        this.handleUpdateTotal();\r\n      }\r\n    );\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let { detailsList } = this.state;\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    for (let list in detailsList) {\r\n      if (detailsList[list].item_code == name) {\r\n        detailsList[list].item_quantity = value;\r\n      }\r\n      console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\r\n    }\r\n\r\n    this.setState({\r\n      detailsList,\r\n    });\r\n    console.log(\"detailsList in handleChange\", detailsList);\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n  handleChangeDescription = ({ target: { value, name } }) => {\r\n    let { detailsList } = this.state;\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    for (let list in detailsList) {\r\n      if (detailsList[list].item_code == name) {\r\n        detailsList[list].item_desc = value;\r\n      }\r\n      console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\r\n    }\r\n\r\n    this.setState({\r\n      detailsList,\r\n    });\r\n    console.log(\"detailsList in handleChange\", detailsList);\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleSelect = (item_code, item_desc, item_price, item_quantity) => {\r\n    let { storedItemList, detailsList, formFields } = this.state;\r\n    for (let item of storedItemList) {\r\n      if (item.item_code == item_code) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item already exists\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    console.log(\"item_code\", item_code);\r\n    console.log(\"item_desc\", item_desc);\r\n    console.log(\"item_price\", item_price);\r\n\r\n    if (item_quantity) {\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        item_desc: item_desc,\r\n        item_remarks: \"\",\r\n        item_price: item_price,\r\n        item_quantity: item_quantity,\r\n        editing: false,\r\n      });\r\n    } else {\r\n      item_quantity = 1;\r\n      storedItemList.push({\r\n        item_code: item_code,\r\n        item_desc: item_desc,\r\n        item_remarks: \"\",\r\n        item_price: item_price,\r\n        item_quantity: item_quantity,\r\n        editing: false,\r\n      });\r\n    }\r\n\r\n    console.log(\"storedItemList\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n  };\r\n\r\n  handleRemoveStoredItem = (item_code) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (var i = 0; i < storedItemList.length; i++) {\r\n      if (storedItemList[i].item_code == item_code) {\r\n        storedItemList.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(\"storedItemList after remove\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n  };\r\n\r\n  handleEdit = (item_code) => {\r\n    let { storedItemList } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (storedItemList[list].item_code == item_code) {\r\n        storedItemList[list].editing = true;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n  };\r\n  handleEditDesc = (item_code, isVisible = false) => {\r\n    let { detailsList } = this.state;\r\n    for (let list in detailsList) {\r\n      if (detailsList[list].item_code == item_code) {\r\n        detailsList[list].editing = isVisible;\r\n      }\r\n    }\r\n    console.log(\"detailsList in handleedit\", detailsList);\r\n\r\n    this.setState({ detailsList });\r\n  };\r\n\r\n  handleSave = (item_code) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (storedItemList[list].item_code == item_code) {\r\n        storedItemList[list].editing = false;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    this.props.storeItemDetails(storedItemList, formFields);\r\n  };\r\n\r\n  handleEditChangeDescription = ({ target: { value, name } }) => {\r\n    let { storedItemList } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (storedItemList[list].item_code == name) {\r\n        storedItemList[list].item_desc = value;\r\n      }\r\n      console.log(\r\n        \"storedItemList[list].item_code\",\r\n        storedItemList[list].item_code\r\n      );\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangeRemarks = ({ target: { value, name } }) => {\r\n    let { storedItemList } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (storedItemList[list].item_code == name) {\r\n        storedItemList[list].item_remarks = value;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangePrice = ({ target: { value, name } }) => {\r\n    let { storedItemList } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (storedItemList[list].item_code == name) {\r\n        storedItemList[list].item_price = value;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangeQuantity = ({ target: { value, name } }) => {\r\n    let { storedItemList } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (storedItemList[list].item_code == name) {\r\n        storedItemList[list].item_quantity = value;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  autofillSaved = () => {\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    storedItemList = this.props.storedItemListStored;\r\n\r\n    formFields.po_shipcost = this.props.formFieldsDetailsStored.po_shipcost;\r\n    formFields.po_discount = this.props.formFieldsDetailsStored.po_discount;\r\n    formFields.po_taxes = this.props.formFieldsDetailsStored.po_taxes;\r\n    formFields.po_total = this.props.formFieldsDetailsStored.po_total;\r\n\r\n    this.setState({ storedItemList, formFields });\r\n    console.log(\"storedItemList in autofillSaved\", storedItemList);\r\n    console.log(\"formFields in autofillSaved\", formFields);\r\n  };\r\n\r\n  handleUpdateTotal = () => {\r\n    let { storedItemList, formFields, siteGstList } = this.state;\r\n    // console.log(\"siteGstList[0]\",siteGstList[0].site_is_gst)\r\n    // if(siteGstList[0].site_is_gst == false)\r\n\r\n    if (storedItemList.length !== 0) {\r\n      let costPrice = 0;\r\n      let subTotal = 0;\r\n      let taxes = 0;\r\n      let total = 0;\r\n      for (let item of storedItemList) {\r\n        costPrice =\r\n          parseFloat(item.item_price) * parseFloat(item.item_quantity) +\r\n          costPrice;\r\n        // console.log(\"item.item_price\",item.item_price,typeof item.item_price)\r\n        // console.log(\"item.item_quantity\",item.item_quantity,typeof item.item_quantity)\r\n        // formFields.DOC_AMT = item.amount + formFields.DOC_AMT\r\n        // formFields.DOC_QTY = parseInt(item.item_quantity) + formFields.DOC_QTY\r\n      }\r\n      console.log(\"GST\");\r\n      console.log(\r\n        \"formFields.po_shipcost\",\r\n        formFields.po_shipcost,\r\n        typeof formFields.po_shipcost\r\n      );\r\n      console.log(\"costPrice\", costPrice);\r\n\r\n      subTotal =\r\n        costPrice -\r\n        (formFields.po_discount ? parseFloat(formFields.po_discount) : 0) +\r\n        (formFields.po_shipcost ? parseFloat(formFields.po_shipcost) : 0);\r\n      taxes =\r\n        Math.round((siteGstList[0].item_value / 100) * subTotal * 100) / 100;\r\n\r\n      total = Math.round((subTotal + taxes) * 100) / 100;\r\n\r\n      formFields.po_taxes = taxes;\r\n      formFields.po_total = total;\r\n      // console.log(\"storedItemList in update total\",storedItemList)\r\n      // formFields.DOC_AMT = Math.round(formFields.DOC_AMT * 100) / 100\r\n      // console.log(\"formFields.DOC_AMT\",formFields.DOC_AMT, typeof formFields.DOC_AMT)\r\n      this.setState({ formFields });\r\n      console.log(\"formFields in update total if\", formFields);\r\n    } else {\r\n      formFields.po_taxes = 0;\r\n      formFields.po_total = 0;\r\n      this.setState({ formFields });\r\n      console.log(\"formFields in update total else\", formFields);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      headerSelectedDetails,\r\n      pageMeta,\r\n      detailsList,\r\n      storedItemList,\r\n      isLoading,\r\n      formFields,\r\n      isVisible,\r\n    } = this.state;\r\n\r\n    let { po_shipcost, po_discount, po_taxes, po_total } = formFields;\r\n\r\n    let { t } = this.props;\r\n\r\n    return (\r\n      <div className=\"py-4\">\r\n        <div className=\"table-container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-8\"></div>\r\n\r\n            <div className=\"col-4 mb-3\">\r\n              <div className=\"w-100\">\r\n                <InputSearch\r\n                  placeholder=\"Search Item\"\r\n                  onChange={this.handlesearch}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <TableWrapper\r\n            headerDetails={headerDetails}\r\n            queryHandler={this.handlePagination}\r\n            pageMeta={pageMeta}\r\n          >\r\n            {isLoading ? (\r\n              <tr>\r\n                <td colSpan=\"7\">\r\n                  <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                    <div class=\"spinner-border\" role=\"status\">\r\n                      <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ) : detailsList ? (\r\n              detailsList.map((item, index) => {\r\n                let { item_code, item_desc, item_price, item_quantity } = item;\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {item_code}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items- justify-content-\">\r\n                        {!item.editing ? (\r\n                          <div className=\"w-75 d-flex justify-content-between\">\r\n                            <p class=\"\">{item_desc}</p>\r\n                            <img\r\n                            src={addBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent\"\r\n                            onClick={() =>\r\n                                this.handleEditDesc(item_code, true)\r\n                              }\r\n                          />\r\n                           \r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"\">\r\n                          <img\r\n                            src={closeBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent mb-3\"\r\n                            onClick={() =>\r\n                                this.handleEditDesc(item_code)\r\n                              }\r\n\r\n                              style={{marginLeft:\"75%\"}}\r\n                          />\r\n                            \r\n                            <NormalTextarea\r\n                            className=\"form-control w-100\"\r\n                              value={item_desc}\r\n                              disabled={this.props.disableEdit}\r\n                              name={item_code}\r\n                              onChange={this.handleChangeDescription}\r\n                            />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        {item_price}\r\n                      </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      {/* <div className=\"input-group\"> */}\r\n                      <NormalInput\r\n                        value={item_quantity}\r\n                        disabled={this.props.disableEdit}\r\n                        name={item_code}\r\n                        onChange={this.handleChange}\r\n                      />\r\n                      {/* </div> */}\r\n                    </td>\r\n\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                        <NormalButton\r\n                          buttonClass={\"mx-2\"}\r\n                          disabled={this.props.disableEdit}\r\n                          mainbg={true}\r\n                          className=\"warning\"\r\n                          label=\"Select\"\r\n                          onClick={() =>\r\n                            this.handleSelect(\r\n                              item_code,\r\n                              item_desc,\r\n                              item_price,\r\n                              item_quantity\r\n                            )\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : null}\r\n          </TableWrapper>\r\n\r\n          <div className=\"row mt-5\"></div>\r\n          <TableWrapper\r\n            headerDetails={headerSelectedDetails}\r\n            // queryHandler={this.handlePagination}\r\n            // pageMeta={pageMeta}\r\n          >\r\n            {storedItemList\r\n              ? storedItemList.map((item, index) => {\r\n                  let {\r\n                    item_code,\r\n                    item_desc,\r\n                    item_remarks,\r\n                    item_price,\r\n                    item_quantity,\r\n                    editing,\r\n                  } = item;\r\n                  return editing == false ? (\r\n                    <tr key={index}>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-start justify-content-start\">\r\n                          {item_code}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-start justify-content-start\">\r\n                          {item_desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-start justify-content-start\">\r\n                          {item_remarks}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-end justify-content-end\">\r\n                          {item_quantity}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-end justify-content-end\">\r\n                          {item_price}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <img\r\n                            src={updateBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent\"\r\n                            onClick={\r\n                              this.props.disableEdit == false\r\n                                ? () => this.handleEdit(item_code)\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <img\r\n                            src={deleteBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent \"\r\n                            onClick={\r\n                              this.props.disableEdit == false\r\n                                ? () => this.handleRemoveStoredItem(item_code)\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    <tr key={index}>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_code}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {item_desc}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            value={item_remarks}\r\n                            disabled={this.props.disableEdit}\r\n                            name={item_code}\r\n                            onChange={this.handleEditChangeRemarks}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            value={item_quantity}\r\n                            disabled={this.props.disableEdit}\r\n                            name={item_code}\r\n                            onChange={this.handleEditChangeQuantity}\r\n                          />\r\n                        </div>\r\n                        \r\n                      </td>\r\n                      <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            value={item_price}\r\n                            disabled={this.props.disableEdit}\r\n                            name={item_code}\r\n                            onChange={this.handleEditChangePrice}\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      {/* <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={closeBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent\"\r\n                                  onClick={() =>this.handleClose(item_code)}\r\n                                />\r\n                              </div>\r\n                            </td> */}\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <img\r\n                            src={saveBtn}\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            alt=\"\"\r\n                            className=\"action-img bg-transparent \"\r\n                            onClick={\r\n                              this.props.disableEdit == false\r\n                                ? () => this.handleSave(item_code)\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              : null}\r\n          </TableWrapper>\r\n\r\n          <div className=\"row justify-content-end mt-5\">\r\n            <div className=\"col-4\">\r\n              <div className=\"d-flex mb-3\">\r\n                <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                  {t(\"Shipping Cost\")}\r\n                </label>\r\n                <div className=\"input-group-address w-100\">\r\n                  <NormalInput\r\n                    placeholder=\"0\"\r\n                    disabled={this.props.disableEdit}\r\n                    value={po_shipcost}\r\n                    name=\"po_shipcost\"\r\n                    onChange={this.handleChangeDetails}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"d-flex mb-3\">\r\n                <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                  {t(\"Discount\")}\r\n                </label>\r\n                <div className=\"input-group-address w-100\">\r\n                  <NormalInput\r\n                    placeholder=\"0\"\r\n                    disabled={this.props.disableEdit}\r\n                    value={po_discount}\r\n                    name=\"po_discount\"\r\n                    onChange={this.handleChangeDetails}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"d-flex mb-3\">\r\n                <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                  {t(\"Taxes\")}\r\n                </label>\r\n                <div className=\"input-group-address w-100\">\r\n                  <NormalInput\r\n                    placeholder=\"0\"\r\n                    disabled={true}\r\n                    value={po_taxes}\r\n                    name=\"po_taxes\"\r\n                    // onChange={this.handleChangeDetails}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"d-flex mb-3\">\r\n                <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                  {t(\"Total\")}\r\n                </label>\r\n                <div className=\"input-group-address w-100\">\r\n                  <NormalInput\r\n                    placeholder=\"0\"\r\n                    disabled={true}\r\n                    value={po_total}\r\n                    name=\"po_total\"\r\n                    // onChange={this.handleChangeDetails}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {this.props.validator.message(\r\n                  t(\"Total\"),\r\n                  po_total,\r\n                  t(\"required\")\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n//   projectDetail: state.project.projectDetail,\r\n// });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      // deleteProject,\r\n      // getProject\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Details = withTranslation()(\r\n  connect(null, mapDispatchToProps)(DetailsClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}