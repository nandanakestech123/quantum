{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import\"../../assets/scss/components/navbar.scss\";import{logout}from\"../../service/utilities\";import{NavLink}from\"react-router-dom\";import PerfectScrollbar from\"react-perfect-scrollbar\";import{ProfileMenu}from\"./ProfileMenu\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getTokenDetails}from\"../../redux/actions/auth\";import UserImage from\"../../assets/images/user-image.png\";import TcmImage from\"../../assets/images/Nav-image/tcm.png\";import headerLogo from\"../../assets/images/headerLogo.png\";import companyLogo from\"../../assets/images/companyLogo.png\";import SequoiaLogo from\"../../assets/images/SequoiaLogo.png\";import i18n from\"i18next\";import{NormalButton,NormalInput,NormalModal}from\"component/common\";import closeIcon from\"assets/images/close.png\";import\"./ProfileMenu/style.scss\";import{getCommonApi}from\"redux/actions/common\";export var NavbarClass=/*#__PURE__*/function(_Component){_inherits(NavbarClass,_Component);var _super=_createSuper(NavbarClass);function NavbarClass(){var _this;_classCallCheck(this,NavbarClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={langOptions:[{label:\"EN-US\",value:\"en\"},{label:\"ZH-SG\",value:\"zh_sg\"}],selectedLang:\"\",isMounthed:true,isAboutPopModal:false,menu:false,AboutInfo:{}};_this.getAboutInfo=function(){_this.props.getCommonApi(\"about/\").then(function(key){var status=key.status,data=key.data;if(status==200){if(data){var AboutInfo=data[0];console.log(AboutInfo,\"Aboutresponse\");_this.setState({AboutInfo:AboutInfo});}}});};_this.updateState=function(data){if(_this.state.isMounthed)_this.setState(data);};_this.handleTCM=function(){_this.props.getCommonApi(\"currentuser/\").then(function(key){var status=key.status,data=key.data;console.log(key,\"TCMresponse\");if(status==200){if(data){var FinalUrl=data.url+\"?username=\"+data.username+\"&password=\"+data.password;window.open(FinalUrl);}}});};_this.toggleMenu=function(){_this.setState({menu:!_this.state.menu});};return _this;}_createClass(NavbarClass,[{key:\"componentDidMount\",value:function componentDidMount(){var _localStorage$getItem;this.updateState({selectedLang:(_localStorage$getItem=localStorage.getItem(\"lang\"))!==null&&_localStorage$getItem!==void 0?_localStorage$getItem:\"en\"});this.getAboutInfo();// this.props.getTokenDetails().then(res => {\n//   console.log(res, \"selected token details\");\n// });\n}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounthed=false;}},{key:\"aboutpopup\",value:function aboutpopup(){this.setState({isAboutPopModal:!this.state.isAboutPopModal});}},{key:\"render\",value:function render(){var _this2=this;var active=this.props.active;// let { navLinks } = this.state;\nvar _this$state=this.state,langOptions=_this$state.langOptions,selectedLang=_this$state.selectedLang,isAboutPopModal=_this$state.isAboutPopModal,menu=_this$state.menu,AboutInfo=_this$state.AboutInfo;var _this$props=this.props,menuOpen=_this$props.menuOpen,handleSidenav=_this$props.handleSidenav,changeProfileState=_this$props.changeProfileState;var tokenDetails=this.props.tokenDetails;var show=this.state.menu?\"show\":\"\";return/*#__PURE__*/React.createElement(\"header\",{className:\"header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"site-header\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-expand-md  navbar-light bg-light\"},window.location.pathname===\"/admin/mobileappointment\"?/*#__PURE__*/React.createElement(\"a\",{className:\"navbar-brand\",href:\"#\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/mobileappointment\",className:\"navbar-logo d-flex align-items-center h-100\"},/*#__PURE__*/React.createElement(\"img\",{src:headerLogo,width:\"184\",height:\"40\",alt:\"\",className:\"bg-white\"}))):/*#__PURE__*/React.createElement(\"a\",{className:\"navbar-brand\",href:\"#\"},/*#__PURE__*/React.createElement(Link,{to:this.props.tokenDetails.role_code==\"3\"?\"/admin/customerplus\":this.props.tokenDetails.role_code==\"4\"?\"/admin/newappointment\":\"/admin/dashboard\",className:\"navbar-logo d-flex align-items-center h-100\"},/*#__PURE__*/React.createElement(\"img\",{src:headerLogo,width:\"184\",height:\"40\",alt:\"\",className:\"bg-white\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",onClick:this.toggleMenu},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/React.createElement(\"div\",{style:menu?{display:\"block\"}:{display:\"none\"},className:\"collapse navbar-collapse navbar-menu\",id:\"navbar-menu\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav position-relative ml-auto p-lg-0\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link d-flex align-items-center justify-content-center\"},tokenDetails.branch),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item d-flex align-items-center position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bell-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-bell-o\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"bell-notify\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link cursor-pointer d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"select\",{style:{background:\"white\",paddingTop:\"3px\"},onChange:function onChange(e){i18n.changeLanguage(e.target.value);localStorage.setItem(\"lang\",e.target.value);_this2.updateState({selectedLang:e.target.value});}},langOptions.map(function(e,index){return/*#__PURE__*/React.createElement(\"option\",{value:e.value,selected:selectedLang==e.value,key:index},e.label);}))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"share w-100\",mainbg:true,className:\"col-12\",label:\"About\",onClick:function onClick(){return _this2.aboutpopup();}})),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link cursor-pointer d-flex d-flex align-items-center profile-icon\",onClick:function onClick(e){return changeProfileState(e,!active);}},/*#__PURE__*/React.createElement(\"img\",{className:\"border-radius-circle userProfile\",src:UserImage,alt:\"User\"}),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-down-arrow\"})),/*#__PURE__*/React.createElement(ProfileMenu,{active:active,data:tokenDetails}))))),/*#__PURE__*/React.createElement(NormalModal,{className:\"retail-price-modal\",style:{minWidth:\"32%\"},modal:isAboutPopModal,handleModal:function handleModal(){return _this2.aboutpopup();}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex p-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-11\"},/*#__PURE__*/React.createElement(\"img\",{src:headerLogo,width:\"184\",height:\"40\",alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"fs-12\"},\"Version: \",AboutInfo.version_no)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 p-2\"},/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.aboutpopup();},className:\"close\",src:closeIcon,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex fs-13 p-1 border border-primary rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 fs-12\"},\"This software is licensed to\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 fs-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"img\",{src:companyLogo,width:\"100%\",height:\"75%\",alt:\"\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},\"Company\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},AboutInfo.company_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},\"Registration\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},AboutInfo.uen_number)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},\"Valid Until\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},AboutInfo.valid_date)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},\"License Key\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},AboutInfo.license_key)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},\"Site Code\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},AboutInfo.sitecode)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},\"Version\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},AboutInfo.version_type))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex fs-13 justify-content-start py-1 p-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"p\",null,\"Copyrights \\xA92021 Sequoia Pte Ltd Powered by\\xA0\",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\"acy7lab.com\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"img\",{src:SequoiaLogo,width:\"100%\",height:\"75%\",alt:\"\"})))));}}]);return NavbarClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetails:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getTokenDetails:getTokenDetails,getCommonApi:getCommonApi},dispatch);};var component=NavbarClass;export var Navbar=connect(mapStateToProps,mapDispatchToProps)(component);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Header/navbar.js"],"names":["React","Component","Link","logout","NavLink","PerfectScrollbar","ProfileMenu","connect","bindActionCreators","getTokenDetails","UserImage","TcmImage","headerLogo","companyLogo","SequoiaLogo","i18n","NormalButton","NormalInput","NormalModal","closeIcon","getCommonApi","NavbarClass","state","langOptions","label","value","selectedLang","isMounthed","isAboutPopModal","menu","AboutInfo","getAboutInfo","props","then","key","status","data","console","log","setState","updateState","handleTCM","FinalUrl","url","username","password","window","open","toggleMenu","localStorage","getItem","active","menuOpen","handleSidenav","changeProfileState","tokenDetails","show","location","pathname","role_code","display","branch","background","paddingTop","e","changeLanguage","target","setItem","map","index","aboutpopup","minWidth","version_no","company_name","uen_number","valid_date","license_key","sitecode","version_type","mapStateToProps","authStore","mapDispatchToProps","dispatch","component","Navbar"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../assets/scss/components/navbar.scss\";\r\nimport { logout } from \"../../service/utilities\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { ProfileMenu } from \"./ProfileMenu\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getTokenDetails } from \"../../redux/actions/auth\";\r\nimport UserImage from \"../../assets/images/user-image.png\";\r\nimport TcmImage from \"../../assets/images/Nav-image/tcm.png\";\r\nimport headerLogo from \"../../assets/images/headerLogo.png\";\r\nimport companyLogo from \"../../assets/images/companyLogo.png\";\r\nimport SequoiaLogo from \"../../assets/images/SequoiaLogo.png\";\r\nimport i18n from \"i18next\";\r\nimport { NormalButton, NormalInput, NormalModal } from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport \"./ProfileMenu/style.scss\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\n\r\nexport class NavbarClass extends Component {\r\n  state = {\r\n    langOptions: [\r\n      { label: \"EN-US\", value: \"en\" },\r\n      { label: \"ZH-SG\", value: \"zh_sg\" },\r\n    ],\r\n    selectedLang: \"\",\r\n    isMounthed: true,\r\n    isAboutPopModal: false,\r\n    menu: false,\r\n    AboutInfo: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateState({ selectedLang: localStorage.getItem(\"lang\") ?? \"en\" });\r\n    this.getAboutInfo();\r\n    // this.props.getTokenDetails().then(res => {\r\n    //   console.log(res, \"selected token details\");\r\n    // });\r\n  }\r\n\r\n  getAboutInfo = () => {\r\n    this.props.getCommonApi(`about/`).then(key => {\r\n      let { status, data } = key;\r\n\r\n      if (status == 200) {\r\n        if (data) {\r\n          let AboutInfo = data[0];\r\n          console.log(AboutInfo, \"Aboutresponse\");\r\n          this.setState({ AboutInfo });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  updateState = data => {\r\n    if (this.state.isMounthed) this.setState(data);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounthed = false;\r\n  }\r\n  aboutpopup() {\r\n    this.setState({\r\n      isAboutPopModal: !this.state.isAboutPopModal,\r\n    });\r\n  }\r\n  handleTCM = () => {\r\n    this.props.getCommonApi(`currentuser/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"TCMresponse\");\r\n      if (status == 200) {\r\n        if (data) {\r\n          let FinalUrl =\r\n            data.url +\r\n            \"?username=\" +\r\n            data.username +\r\n            \"&password=\" +\r\n            data.password;\r\n          window.open(FinalUrl);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  toggleMenu = () => {\r\n    this.setState({\r\n      menu: !this.state.menu,\r\n    });\r\n  };\r\n  render() {\r\n    const { active } = this.props;\r\n    // let { navLinks } = this.state;\r\n    let { langOptions, selectedLang, isAboutPopModal, menu, AboutInfo } =\r\n      this.state;\r\n    let { menuOpen, handleSidenav, changeProfileState } = this.props;\r\n    let { tokenDetails } = this.props;\r\n    const show = this.state.menu ? \"show\" : \"\";\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"site-header\">\r\n          <nav className=\"navbar navbar-expand-lg navbar-expand-md  navbar-light bg-light\">\r\n            {window.location.pathname === \"/admin/mobileappointment\" ? (\r\n              <a className=\"navbar-brand\" href=\"#\">\r\n                <Link\r\n                  to={\"/admin/mobileappointment\"}\r\n                  className=\"navbar-logo d-flex align-items-center h-100\"\r\n                >\r\n                  <img\r\n                    src={headerLogo}\r\n                    width=\"184\"\r\n                    height=\"40\"\r\n                    alt=\"\"\r\n                    className=\"bg-white\"\r\n                  />\r\n                </Link>\r\n              </a>\r\n            ) : (\r\n              <a className=\"navbar-brand\" href=\"#\">\r\n                <Link\r\n                  to={\r\n                    this.props.tokenDetails.role_code == \"3\"\r\n                      ? \"/admin/customerplus\"\r\n                      : this.props.tokenDetails.role_code == \"4\"\r\n                      ? \"/admin/newappointment\"\r\n                      : \"/admin/dashboard\"\r\n                  }\r\n                  className=\"navbar-logo d-flex align-items-center h-100\"\r\n                >\r\n                  <img\r\n                    src={headerLogo}\r\n                    width=\"184\"\r\n                    height=\"40\"\r\n                    alt=\"\"\r\n                    className=\"bg-white\"\r\n                  />\r\n                </Link>\r\n              </a>\r\n            )}\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n              onClick={this.toggleMenu}\r\n            >\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div\r\n              style={menu ? { display: \"block\" } : { display: \"none\" }}\r\n              className={`collapse navbar-collapse navbar-menu`}\r\n              id=\"navbar-menu\"\r\n            >\r\n              <ul className=\"navbar-nav position-relative ml-auto p-lg-0\">\r\n                <li className=\"nav-item nav-link d-flex align-items-center justify-content-center\">\r\n                  {tokenDetails.branch}\r\n                </li>\r\n                <li className=\"nav-item d-flex align-items-center position-relative\">\r\n                  <div className=\"bell-icon\">\r\n                    <i className=\"icon-bell-o\"></i>\r\n                  </div>\r\n                  <div className=\"bell-notify\"></div>\r\n                </li>\r\n                <li className=\"nav-item nav-link cursor-pointer d-flex align-items-center justify-content-center\">\r\n                  <select\r\n                    style={{ background: \"white\", paddingTop: \"3px\" }}\r\n                    onChange={e => {\r\n                      i18n.changeLanguage(e.target.value);\r\n                      localStorage.setItem(\"lang\", e.target.value);\r\n                      this.updateState({ selectedLang: e.target.value });\r\n                    }}\r\n                  >\r\n                    {langOptions.map((e, index) => (\r\n                      <option\r\n                        value={e.value}\r\n                        selected={selectedLang == e.value}\r\n                        key={index}\r\n                      >\r\n                        {e.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </li>\r\n                <li className=\"nav-item nav-link d-flex align-items-center justify-content-center\">\r\n                  <NormalButton\r\n                    buttonClass={\"share w-100\"}\r\n                    mainbg={true}\r\n                    className=\"col-12\"\r\n                    label=\"About\"\r\n                    onClick={() => this.aboutpopup()}\r\n                  />\r\n                </li>\r\n                <li\r\n                  className=\"nav-item nav-link cursor-pointer d-flex d-flex align-items-center profile-icon\"\r\n                  onClick={e => changeProfileState(e, !active)}\r\n                >\r\n                  <img\r\n                    className=\"border-radius-circle userProfile\"\r\n                    src={UserImage}\r\n                    alt=\"User\"\r\n                  />\r\n                  <i className=\"icon-down-arrow\"></i>\r\n                </li>\r\n                <ProfileMenu active={active} data={tokenDetails} />\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n        <NormalModal\r\n          className={\"retail-price-modal\"}\r\n          style={{ minWidth: \"32%\" }}\r\n          modal={isAboutPopModal}\r\n          handleModal={() => this.aboutpopup()}\r\n        >\r\n          <div className=\"d-flex p-2\">\r\n            <div className=\"col-11\">\r\n              <img src={headerLogo} width=\"184\" height=\"40\" alt=\"\" />\r\n              <p className=\"fs-12\">Version: {AboutInfo.version_no}</p>\r\n            </div>\r\n            <div className=\"col-1 p-2\">\r\n              <img\r\n                onClick={() => this.aboutpopup()}\r\n                className=\"close\"\r\n                src={closeIcon}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"p-4\">\r\n            <div className=\"d-flex fs-13 p-1 border border-primary rounded-lg\">\r\n              <div className=\"p-1\">\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 fs-12\">\r\n                    This software is licensed to\r\n                  </div>\r\n                  <div className=\"col-md-6 fs-12\">\r\n                    <div className=\"d-flex justify-content-start py-1\">\r\n                      <img src={companyLogo} width=\"100%\" height=\"75%\" alt=\"\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 col-12\">Company</div>\r\n                  <div className=\"col-md-6 col-12\">\r\n                    {AboutInfo.company_name}\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 col-12\">Registration</div>\r\n                  <div className=\"col-md-6 col-12\">{AboutInfo.uen_number}</div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 col-12\">Valid Until</div>\r\n                  <div className=\"col-md-6 col-12\">{AboutInfo.valid_date}</div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 col-12\">License Key</div>\r\n                  <div className=\"col-md-6 col-12\">{AboutInfo.license_key}</div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 col-12\">Site Code</div>\r\n                  <div className=\"col-md-6 col-12\">{AboutInfo.sitecode}</div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-start py-1\">\r\n                  <div className=\"col-md-6 col-12\">Version</div>\r\n                  <div className=\"col-md-6 col-12\">\r\n                    {AboutInfo.version_type}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex fs-13 justify-content-start py-1 p-1\">\r\n            <div className=\"col-md-6 col-12\">\r\n              <p>\r\n                Copyrights ©2021 Sequoia Pte Ltd Powered by&nbsp;\r\n                <a href=\"#\">acy7lab.com</a>\r\n              </p>\r\n            </div>\r\n            <div className=\"col-md-4 col-12\">\r\n              <img src={SequoiaLogo} width=\"100%\" height=\"75%\" alt=\"\" />\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div className=\"text-center\">\r\n            <NormalButton\r\n              buttonclassName={\"share w-100\"}\r\n              mainbg={true}\r\n              className=\"col-3 fs-15 mt-3 text-center\"\r\n              label=\"Close\"\r\n              onClick={() => this.aboutpopup()}\r\n            />\r\n          </div> */}\r\n        </NormalModal>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getTokenDetails,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nlet component = NavbarClass;\r\n\r\nexport const Navbar = connect(mapStateToProps, mapDispatchToProps)(component);\r\n"]},"metadata":{},"sourceType":"module"}