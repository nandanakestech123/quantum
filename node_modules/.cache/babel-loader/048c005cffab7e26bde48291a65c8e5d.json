{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalSelect,NormalModal,NormalInput,NormalDate,NormalTextarea}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import\"./style.scss\";import{dateFormat}from\"service/helperFunctions\";import{history}from\"helpers\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi,commonPatchApi}from\"redux/actions/common\";import{withTranslation}from\"react-i18next\";import _ from\"lodash\";import{Toast}from\"service/toast\";import{AiOutlinePlusCircle}from\"react-icons/ai\";import closeIcon from\"assets/images/close.png\";import{getStaffPlus}from\"redux/actions/staffPlus\";export var AddpayrollClass=/*#__PURE__*/function(_Component){_inherits(AddpayrollClass,_Component);var _super=_createSuper(AddpayrollClass);function AddpayrollClass(){var _this;_classCallCheck(this,AddpayrollClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pageMeta:{chunk:10,page:1,total:10,totalPages:2},originalStaffList:[],formField:{payrollId:\"\",EmpCode:\"\",EmpName:\"\",empid:\"\",FromDate:new Date(),toDate:new Date(),BasicSalary:\"\",hourlySalHour:\"\",hourlySalRate:\"\",firstOverTimeRate:\"\",firstOverTimeHour:\"\",totOTPay:\"\",totCommission:\"\",totAllowance:\"\",totDeduct:\"\",AddPay:\"\",netPay:\"\",empCPFCont:\"\",dateofPay:new Date(),modeofPay:\"\",secondOverTimeHour:\"\",secondOverTimeRate:\"\",TotAllowanceList:[],TotDeductionList:[],AddPaymentList:[]},headerDetails:[{label:\"Description\"},{label:\"Type\"},{label:\"Amount\"},{label:\"\"}],isNewPayTypePopup:false,newPopupDesc:\"\",newPopupTypeSelection:[],newPopupAmount:\"\",newPopupType:\"\",modeofPayList:[],salarySubType:[],visible:false,staffList:[],isLoading:false,headerStaffDetails:[{label:\"Status\"},{label:\"Staff Name\"},{label:\"Phone\"},{label:\"Staff ID\"},{label:\"Specialist\"},{label:\"Home site\"},{label:\"Current site\"}]};_this.getselectedItem=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _Object$assign,formField;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_Object$assign=Object.assign({},_this.state),formField=_Object$assign.formField;_this.props.getCommonApi(\"employeesalary/\".concat(_this.props.match.params.id,\"/\")).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var status,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=res.status,data=res.data;if(!(status===200)){_context.next=6;break;}if(!data){_context.next=6;break;}formField={payrollId:data.payrollId,EmpCode:data.EmpCode,EmpName:data.EmpName,empid:data.empid,FromDate:new Date(data.FromDate),toDate:new Date(data.toDate),BasicSalary:data.BasicSalary,hourlySalHour:data.hourlySalHour,hourlySalRate:data.hourlySalRate,firstOverTimeRate:data.firstOverTimeRate,firstOverTimeHour:data.firstOverTimeHour,totOTPay:data.totOTPay,totCommission:data.totCommission,totAllowance:data.totAllowance,totDeduct:data.totDeduct,AddPay:data.AddPay,netPay:data.netPay,empCPFCont:data.empCPFCont,dateofPay:new Date(data.dateofPay),modeofPay:data.modeofPay,secondOverTimeHour:data.secondOverTimeHour,secondOverTimeRate:data.secondOverTimeRate,TotAllowanceList:data.TotAllowanceList,TotDeductionList:data.TotDeductionList,AddPaymentList:data.AddPaymentList};_context.next=6;return _this.setState({formField:formField});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var formField,tdate,newDate;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formField=_this.state.formField;formField[event.target.name]=event.target.value;_context3.next=4;return _this.setState({formField:formField});case 4:if(!([event.target.name]==\"FromDate\")){_context3.next=10;break;}tdate=new Date(event.target.value);newDate=new Date(tdate.getFullYear(),tdate.getMonth()+1,0);formField[\"toDate\"]=newDate;_context3.next=10;return _this.setState({formField:formField});case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.handleDescPopup=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(key){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.setState({selectedKey:key,isNewPayTypePopup:true});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.handlepopupConfirmationDialog=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.setState(function(prevState){return{isNewPayTypePopup:!prevState.isNewPayTypePopup,selectedKey:\"\",newPopupDesc:\"\",newPopupAmount:\"\",newPopupType:\"\"};});case 2:case\"end\":return _context5.stop();}}},_callee5);}));_this.handleStateChange=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _this.setState(_defineProperty({},event.target.name,event.target.value));case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref6.apply(this,arguments);};}();_this.handleAddNewPayType=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var _this$state,selectedKey,newPopupDesc,newPopupAmount,newPopupType,formField;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this$state=_this.state,selectedKey=_this$state.selectedKey,newPopupDesc=_this$state.newPopupDesc,newPopupAmount=_this$state.newPopupAmount,newPopupType=_this$state.newPopupType,formField=_this$state.formField;if(!(newPopupAmount&&Number(newPopupAmount)>0)){_context7.next=26;break;}if(!(selectedKey==\"TotAllowance\")){_context7.next=10;break;}formField[\"TotAllowanceList\"].push({desc:newPopupDesc,type:newPopupType,typeName:\"\",amount:newPopupAmount,allow_id:null});_context7.next=6;return _this.setState({formField:formField});case 6:_this.AddTotAllowanceCalc();_this.handlepopupConfirmationDialog();_context7.next=24;break;case 10:if(!(selectedKey==\"TotDeduction\")){_context7.next=18;break;}formField[\"TotDeductionList\"].push({desc:newPopupDesc,type:newPopupType,typeName:\"\",amount:newPopupAmount,deduct_id:null});_context7.next=14;return _this.setState({formField:formField});case 14:_this.AddTotDeductionCalc();_this.handlepopupConfirmationDialog();_context7.next=24;break;case 18:if(!(selectedKey==\"AddPayment\")){_context7.next=24;break;}formField[\"AddPaymentList\"].push({desc:newPopupDesc,type:newPopupType,typeName:\"\",amount:newPopupAmount,pay_id:null});_context7.next=22;return _this.setState({formField:formField});case 22:_this.AddpayrowDataCalc();_this.handlepopupConfirmationDialog();case 24:_context7.next=27;break;case 26:Toast({type:\"error\",message:\"Please enter amount\"});case 27:case\"end\":return _context7.stop();}}},_callee7);}));_this.handleDeleteAllowance=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(item,key,index){var formField,TotAllowanceList,TotDeductionList,AddPaymentList;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:formField=_this.state.formField;TotAllowanceList=formField.TotAllowanceList,TotDeductionList=formField.TotDeductionList,AddPaymentList=formField.AddPaymentList;if(!(key==\"TotAllowanceList\")){_context8.next=10;break;}formField[\"TotAllowanceList\"].splice(index,1);_context8.next=6;return _this.setState({formField:formField});case 6:_this.AddTotAllowanceCalc();_this.handleNetPayCalc();_context8.next=23;break;case 10:if(!(key==\"TotDeductionList\")){_context8.next=18;break;}formField[\"TotDeductionList\"].splice(index,1);_context8.next=14;return _this.setState({formField:formField});case 14:_this.AddTotDeductionCalc();_this.handleNetPayCalc();_context8.next=23;break;case 18:formField[\"AddPaymentList\"].splice(index,1);_context8.next=21;return _this.setState({formField:formField});case 21:_this.AddpayrowDataCalc();_this.handleNetPayCalc();case 23:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x5,_x6,_x7){return _ref8.apply(this,arguments);};}();_this.AddTotAllowanceCalc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var formField;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:formField=_this.state.formField;formField[\"totAllowance\"]=formField.TotAllowanceList&&formField.TotAllowanceList.reduce(function(a,v){return Number(a)+Number(v.amount);},\"\");_context9.next=4;return _this.setState({formField:formField});case 4:_this.handleNetPayCalc();case 5:case\"end\":return _context9.stop();}}},_callee9);}));_this.AddTotDeductionCalc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var formField;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:formField=_this.state.formField;formField[\"totDeduct\"]=formField.TotDeductionList&&formField.TotDeductionList.reduce(function(a,v){return Number(a)+Number(v.amount);},\"\");_context10.next=4;return _this.setState({formField:formField});case 4:_this.handleNetPayCalc();case 5:case\"end\":return _context10.stop();}}},_callee10);}));_this.AddpayrowDataCalc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var formField;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:formField=_this.state.formField;formField[\"AddPay\"]=formField.AddPaymentList&&formField.AddPaymentList.reduce(function(a,v){return Number(a)+Number(v.amount);},\"\");_context11.next=4;return _this.setState({formField:formField});case 4:_this.handleNetPayCalc();case 5:case\"end\":return _context11.stop();}}},_callee11);}));_this.handleHourlyRateUpdate=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(event){var formField;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:formField=_this.state.formField;formField.hourlySalRate=event.target.value;_context13.next=4;return _this.setState({formField:formField});case 4:if(!_this.debouncedHourlySalaryFn){_this.debouncedHourlySalaryFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_this.handleHourlyRate();case 1:case\"end\":return _context12.stop();}}},_callee12);})),1000);}_this.debouncedHourlySalaryFn();case 6:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x8){return _ref12.apply(this,arguments);};}();_this.handleHourlyRate=function(){var formField=_this.state.formField;var data=formField.hourlySalRate;formField[\"firstOverTimeRate\"]=Number(data)*1.5;formField[\"secondOverTimeRate\"]=Number(data)*2;_this.setState({formField:formField});_this.handleOverTimeRate();};_this.handleOverTimeUpdate=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(event){var formField;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:formField=_this.state.formField;formField[event.target.name]=event.target.value;_context15.next=4;return _this.setState({formField:formField});case 4:if(!_this.debouncedOverTimeFn){_this.debouncedOverTimeFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_this.handleOverTimeRate();case 1:case\"end\":return _context14.stop();}}},_callee14);})),1000);}_this.debouncedOverTimeFn();case 6:case\"end\":return _context15.stop();}}},_callee15);}));return function(_x9){return _ref14.apply(this,arguments);};}();_this.handlePayInputUpdate=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(event){var formField;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:formField=_this.state.formField;formField[event.target.name]=event.target.value;_context17.next=4;return _this.setState({formField:formField});case 4:if(!_this.debouncedPayInputFn){_this.debouncedPayInputFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(){return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_this.handleNetPayCalc();case 1:case\"end\":return _context16.stop();}}},_callee16);})),1000);}_this.debouncedPayInputFn();case 6:case\"end\":return _context17.stop();}}},_callee17);}));return function(_x10){return _ref16.apply(this,arguments);};}();_this.handleOverTimeRate=function(){var formField=_this.state.formField;formField[\"totOTPay\"]=Number(formField.firstOverTimeHour)*Number(formField.firstOverTimeRate)+Number(formField.secondOverTimeHour)*Number(formField.secondOverTimeRate);_this.setState({formField:formField});_this.handleNetPayCalc();};_this.handleNetPayCalc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(){var formField,hourTotal;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:formField=_this.state.formField;hourTotal=Number(formField.hourlySalHour)*Number(formField.hourlySalRate);formField[\"netPay\"]=Number(formField.BasicSalary)+hourTotal+Number(formField.totOTPay)+Number(formField.totCommission)+Number(formField.totAllowance)+Number(formField.AddPay)-Number(formField.totDeduct);_context18.next=5;return _this.setState({formField:formField});case 5:case\"end\":return _context18.stop();}}},_callee18);}));_this.getmodeofpayment=function(){var modeofPayList=_this.state.modeofPayList;_this.props.getCommonApi(\"modeofpayment/\").then(function(key){var status=key.status,data=key.data;console.log(data,\"paymentmode\");if(status===200){var _iterator=_createForOfIteratorHelper(data.dataList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;modeofPayList.push({value:value.id,label:value.modename});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({modeofPayList:modeofPayList});}});};_this.getSalarySubType=function(){var salarySubType=_this.state.salarySubType;_this.props.getCommonApi(\"salarysubtype/\").then(function(key){var status=key.status,data=key.data;console.log(data,\"salarySubType\");if(status===200){var _iterator2=_createForOfIteratorHelper(data.dataList),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;salarySubType.push({value:value.id,label:value.typename});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({salarySubType:salarySubType});}});};_this.handleOutsideClick=function(e){if(_this.node!=null){if(_this.node.contains(e.target)){return;}}_this.handleClick();};_this.handleClick=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(key){return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(!_this.state.visible){document.addEventListener(\"click\",_this.handleOutsideClick,false);}else{document.removeEventListener(\"click\",_this.handleOutsideClick,false);}_context19.next=3;return _this.setState(function(prevState){return{visible:!prevState.visible};});case 3:case\"end\":return _context19.stop();}}},_callee19);}));return function(_x11){return _ref19.apply(this,arguments);};}();_this.handleSearch=/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(event){var _this$state2,formField,visible;return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:// event.persist();\n_this$state2=_this.state,formField=_this$state2.formField,visible=_this$state2.visible;formField.EmpName=event.target.value;_context21.next=4;return _this.setState({formField:formField,visible:true});case 4:if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(){return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_this.queryHandler({});case 1:case\"end\":return _context20.stop();}}},_callee20);})),500);}_this.debouncedFn();case 6:case\"end\":return _context21.stop();}}},_callee21);}));return function(_x12){return _ref20.apply(this,arguments);};}();_this.queryHandler=/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(data){var _staffDetails$meta;var formField,_data$page,page,_data$limit,limit,staffDetails,_this$state3,staffList,pageMeta;return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_this.setState({isLoading:true});formField=_this.state.formField;_data$page=data.page,page=_data$page===void 0?1:_data$page,_data$limit=data.limit,limit=_data$limit===void 0?10:_data$limit;_context22.next=5;return _this.props.getStaffPlus(\"?page=\".concat(page,\"&limit=\").concat(limit,\"&search=\").concat(formField.EmpName));case 5:staffDetails=_this.props.staffDetails;_this$state3=_this.state,staffList=_this$state3.staffList,pageMeta=_this$state3.pageMeta;staffList=staffDetails.dataList;pageMeta=(_staffDetails$meta=staffDetails.meta)===null||_staffDetails$meta===void 0?void 0:_staffDetails$meta.pagination;_this.setState({staffList:staffList,originalStaffList:staffList,pageMeta:pageMeta,isLoading:false});case 10:case\"end\":return _context22.stop();}}},_callee22);}));return function(_x13){return _ref22.apply(this,arguments);};}();_this.handleSelectStaff=/*#__PURE__*/function(){var _ref23=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(item){var formField;return _regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:debugger;formField=_this.state.formField;formField.EmpName=item.emp_name;formField.EmpCode=item.emp_code;formField.empid=item.id;_context23.next=7;return _this.setState(function(prevState){return{visible:!prevState.visible,formField:formField};});case 7:_this.handleClick();case 8:case\"end\":return _context23.stop();}}},_callee23);}));return function(_x14){return _ref23.apply(this,arguments);};}();_this.handleSubmit=function(){if(_this.props.match.params.id){_this.handleUpdate();}else{_this.handleSave();}};_this.handleSave=function(){var formField=_this.state.formField;var payload={payrollId:formField.payrollId,EmpCode:formField.EmpCode,EmpName:formField.EmpName,empid:formField.empid,FromDate:dateFormat(formField.FromDate),toDate:dateFormat(formField.toDate),BasicSalary:Number(formField.BasicSalary),hourlySalHour:Number(formField.hourlySalHour),hourlySalRate:Number(formField.hourlySalRate),firstOverTimeRate:Number(formField.firstOverTimeRate),firstOverTimeHour:Number(formField.firstOverTimeHour),totOTPay:Number(formField.totOTPay),totCommission:Number(formField.totCommission),totAllowance:Number(formField.totAllowance),totDeduct:Number(formField.totDeduct),AddPay:Number(formField.AddPay),netPay:Number(formField.netPay),empCPFCont:Number(formField.empCPFCont),dateofPay:dateFormat(formField.dateofPay),modeofPay:Number(formField.modeofPay),secondOverTimeHour:Number(formField.secondOverTimeHour),secondOverTimeRate:Number(formField.secondOverTimeRate),TotAllowanceList:formField.TotAllowanceList,TotDeductionList:formField.TotDeductionList,AddPaymentList:formField.AddPaymentList};_this.props.commonCreateApi(\"employeesalary/\",payload).then(/*#__PURE__*/function(){var _ref24=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee24(res){return _regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(res.status===201){history.push(\"/admin/payroll\");}case 1:case\"end\":return _context24.stop();}}},_callee24);}));return function(_x15){return _ref24.apply(this,arguments);};}());};_this.handleUpdate=function(){var formField=_this.state.formField;var payload={payrollId:formField.payrollId,EmpCode:formField.EmpCode,EmpName:formField.EmpName,empid:formField.empid,FromDate:dateFormat(formField.FromDate),toDate:dateFormat(formField.toDate),BasicSalary:Number(formField.BasicSalary),hourlySalHour:Number(formField.hourlySalHour),hourlySalRate:Number(formField.hourlySalRate),firstOverTimeRate:Number(formField.firstOverTimeRate),firstOverTimeHour:Number(formField.firstOverTimeHour),totOTPay:Number(formField.totOTPay),totCommission:Number(formField.totCommission),totAllowance:Number(formField.totAllowance),totDeduct:Number(formField.totDeduct),AddPay:Number(formField.AddPay),netPay:Number(formField.netPay),empCPFCont:Number(formField.empCPFCont),dateofPay:dateFormat(formField.dateofPay),modeofPay:Number(formField.modeofPay),secondOverTimeHour:Number(formField.secondOverTimeHour),secondOverTimeRate:Number(formField.secondOverTimeRate),TotAllowanceList:formField.TotAllowanceList,TotDeductionList:formField.TotDeductionList,AddPaymentList:formField.AddPaymentList};_this.props.commonPatchApi(\"employeesalary/\".concat(_this.props.match.params.id,\"/\"),payload).then(/*#__PURE__*/function(){var _ref25=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee25(res){return _regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:if(res.status===200){history.push(\"/admin/payroll\");}case 1:case\"end\":return _context25.stop();}}},_callee25);}));return function(_x16){return _ref25.apply(this,arguments);};}());};_this.handleClickReset=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee26(){var formField;return _regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:formField=Object.assign({},_this.state.formField);formField={};_context26.next=4;return _this.setState({formField:formField});case 4:if(_this.props.match.params.id){_this.getselectedItem();}case 5:case\"end\":return _context26.stop();}}},_callee26);}));_this.handlePostClick=function(){_this.props.commonPatchApi(\"employeesalary/\".concat(_this.props.match.params.id,\"/postselected/\")).then(/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee27(res){return _regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:if(res.status===200){history.push(\"/admin/payroll\");}case 1:case\"end\":return _context27.stop();}}},_callee27);}));return function(_x17){return _ref27.apply(this,arguments);};}());};return _this;}_createClass(AddpayrollClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getmodeofpayment();this.getSalarySubType();if(this.props.match.params.id){this.getselectedItem();}}},{key:\"render\",value:function render(){var _this2=this;var _this$state4=this.state,formField=_this$state4.formField,headerDetails=_this$state4.headerDetails,isNewPayTypePopup=_this$state4.isNewPayTypePopup,newPopupAmount=_this$state4.newPopupAmount,newPopupDesc=_this$state4.newPopupDesc,newPopupTypeSelection=_this$state4.newPopupTypeSelection,newPopupType=_this$state4.newPopupType,modeofPayList=_this$state4.modeofPayList,salarySubType=_this$state4.salarySubType,visible=_this$state4.visible,EmployeeOption=_this$state4.EmployeeOption,isLoading=_this$state4.isLoading,staffList=_this$state4.staffList,headerStaffDetails=_this$state4.headerStaffDetails;var TotAllowanceList=formField.TotAllowanceList,TotDeductionList=formField.TotDeductionList,AddPaymentList=formField.AddPaymentList;var EmpCode=formField.EmpCode,EmpName=formField.EmpName,FromDate=formField.FromDate,toDate=formField.toDate,BasicSalary=formField.BasicSalary,hourlySalHour=formField.hourlySalHour,hourlySalRate=formField.hourlySalRate,firstOverTimeRate=formField.firstOverTimeRate,firstOverTimeHour=formField.firstOverTimeHour,totOTPay=formField.totOTPay,totCommission=formField.totCommission,totAllowance=formField.totAllowance,totDeduct=formField.totDeduct,AddPay=formField.AddPay,netPay=formField.netPay,empCPFCont=formField.empCPFCont,dateofPay=formField.dateofPay,modeofPay=formField.modeofPay,secondOverTimeHour=formField.secondOverTimeHour,secondOverTimeRate=formField.secondOverTimeRate;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"payroll-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"label-head mb-4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"h5\",onClick:function onClick(){return history.push(\"/admin/payroll\");}},t(\"Payroll\"),\" >\"),\" \",this.props.match.params.id?\"Edit\":\"Add\",\" \\xA0\",t(\"Payroll\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Employee Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Search staff..\",value:EmpName,name:\"EmpName\",onChange:this.handleSearch,onClick:this.handleClick}))),visible?/*#__PURE__*/React.createElement(\"div\",{className:\"empSearch-block\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerStaffDetails},isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):staffList.length>0?staffList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index,onClick:function onClick(){return _this2.handleSelectStaff(item);}},/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative status-type\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\".concat(item.status===\"available\"?\"available\":\"not-available\")})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.emp_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.emp_phone1)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.emp_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.services?item.services[0]:\"\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.defaultsitecode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.site_code)));}):null)):null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Payment Period\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDate,{name:\"FromDate\",onChange:this.handleChange,value:FromDate,type:\"date\",popperPlacement:\"bottom\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-center text-black common-label-text p-1\"},t(\"to\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDate,{name:\"toDate\",onChange:this.handleChange,value:toDate,type:\"date\",popperPlacement:\"bottom\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Basic Salary\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"BasicSalary\",onChange:this.handlePayInputUpdate,type:\"number\",value:BasicSalary})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Hourly Salary\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"hourlySalHour\",onChange:this.handlePayInputUpdate,type:\"number\",value:hourlySalHour}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-center text-black common-label-text p-1\"},t(\"X\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"hourlySalRate\",onChange:this.handleHourlyRateUpdate,type:\"number\",value:hourlySalRate})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Amount of Over Time (1.5x)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"firstOverTimeHour\",onChange:this.handleOverTimeUpdate,type:\"number\",value:firstOverTimeHour}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-center text-black common-label-text p-1\"},t(\"X\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"firstOverTimeRate\",onChange:this.handleOverTimeUpdate,type:\"number\",value:firstOverTimeRate})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Amount of Over Time (2x)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"secondOverTimeHour\",onChange:this.handleOverTimeUpdate,type:\"number\",value:secondOverTimeHour}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-center text-black common-label-text p-1\"},t(\"X\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"secondOverTimeRate\",onChange:this.handleOverTimeUpdate,type:\"number\",value:secondOverTimeRate})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Total OT Pay\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"totOTPay\",onChange:this.handleChange,type:\"number\",value:totOTPay})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Total Commission\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"totCommission\",onChange:this.handleOverTimeUpdate,type:\"number\",value:totCommission})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 pt-3 pb-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-1\"},t(\"Total Allowance\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"totAllowance\",onChange:this.handleChange,type:\"number\",value:totAllowance,disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(AiOutlinePlusCircle,{className:\"fs-30\",color:\"primary\",onClick:function onClick(){return _this2.handleDescPopup(\"TotAllowance\");}}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12  pt-1 pb-3\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails},formField.TotAllowanceList&&formField.TotAllowanceList.length>0?formField.TotAllowanceList.map(function(dataitem,index){var desc=dataitem.desc,type=dataitem.type,amount=dataitem.amount,typeName=dataitem.typeName;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},typeName)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col p-0 pr-1 fs-18 cursor-pointer\",onClick:function onClick(){return _this2.handleDeleteAllowance(dataitem,\"TotAllowanceList\",index);}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-delete\"}))));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:12},t(\"No Data\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12  pt-3 pb-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Total Deduction\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"totDeduct\",onChange:this.handleChange,type:\"number\",value:totDeduct,disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(AiOutlinePlusCircle,{className:\"fs-30\",color:\"primary\",onClick:function onClick(){return _this2.handleDescPopup(\"TotDeduction\");}}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 pb-3 pt-1\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails},TotDeductionList&&TotDeductionList.length>0?TotDeductionList.map(function(dataitem,index){var desc=dataitem.desc,type=dataitem.type,amount=dataitem.amount,typeName=dataitem.typeName;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},typeName)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col p-0 pr-1 fs-18 cursor-pointer\",onClick:function onClick(){return _this2.handleDeleteAllowance(dataitem,\"TotDeductionList\",index);}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-delete\"}))));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:12},t(\"No Data\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 pt-3 pb-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Additional Payment\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"AddPay\",type:\"number\",onChange:function onChange(){},value:AddPay,disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(AiOutlinePlusCircle,{className:\"fs-30\",color:\"primary\",onClick:function onClick(){return _this2.handleDescPopup(\"AddPayment\");}}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12  pb-3 pt-1\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails},AddPaymentList&&AddPaymentList.length>0?AddPaymentList.map(function(dataitem,index){var desc=dataitem.desc,type=dataitem.type,amount=dataitem.amount,typeName=dataitem.typeName;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},typeName)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col p-0 pr-1 fs-18 cursor-pointer\",onClick:function onClick(){return _this2.handleDeleteAllowance(dataitem,\"AddPaymentList\",index);}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-delete\"}))));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:12},t(\"No Data\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Net Pay\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"netPay\",onChange:function onChange(){},type:\"number\",value:netPay,disabled:true})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Employee CPF Contribution\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"empCPFCont\",onChange:this.handleChange,type:\"number\",value:empCPFCont})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Date of Payment\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalDate,{name:\"dateofPay\",onChange:this.handleChange,value:dateofPay,type:\"date\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Mode of Payment\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalSelect,{name:\"modeofPay\",onChange:this.handleChange,type:\"number\",value:modeofPay,options:modeofPayList})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-2\",resetbg:true,label:\"Reset\",onClick:function onClick(){_this2.handleClickReset();}}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-2\",mainbg:true,label:\"Back\",onClick:function onClick(){var result=window.confirm(\"Are you sure want to leave this page\");if(result){history.push(\"/admin/payroll\");}}}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-2\",submitBtn:true,label:\"Save\",onClick:_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee28(){return _regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:_this2.handleSubmit();case 1:case\"end\":return _context28.stop();}}},_callee28);})),500)}),this.props.match.params.id&&/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-2\",applybg:true,label:\"Post\",onClick:_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee29(){return _regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:_this2.handlePostClick();case 1:case\"end\":return _context29.stop();}}},_callee29);})),500)}))),/*#__PURE__*/React.createElement(NormalModal,{className:\"d-flex justify-content-center\",style:{minWidth:\"55%\"},modal:isNewPayTypePopup,handleModal:function handleModal(){}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handlepopupConfirmationDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text mb-2\"},t(\"Description\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalTextarea,{name:\"newPopupDesc\",onChange:this.handleStateChange,type:\"text\",value:newPopupDesc})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-50 text-black common-label-text mb-2\"},t(\"Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{name:\"newPopupType\",onChange:this.handleStateChange,value:newPopupType,options:salarySubType}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text mb-2\"},t(\"Amount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalInput,{name:\"newPopupAmount\",onChange:this.handleStateChange,type:\"number\",value:newPopupAmount})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-3\",submitBtn:true,label:\"Add\",onClick:this.handleAddNewPayType}))))));}}]);return AddpayrollClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetails:state.authStore.tokenDetails,staffDetails:state.staffPlus.staffPlusDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,getStaffPlus:getStaffPlus,commonPatchApi:commonPatchApi},dispatch);};export var Addpayroll=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddpayrollClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Payroll/Addpayroll/index.js"],"names":["React","Component","NormalButton","NormalSelect","NormalModal","NormalInput","NormalDate","NormalTextarea","InputSearch","TableWrapper","dateFormat","history","connect","bindActionCreators","getCommonApi","commonCreateApi","commonPatchApi","withTranslation","_","Toast","AiOutlinePlusCircle","closeIcon","getStaffPlus","AddpayrollClass","state","pageMeta","chunk","page","total","totalPages","originalStaffList","formField","payrollId","EmpCode","EmpName","empid","FromDate","Date","toDate","BasicSalary","hourlySalHour","hourlySalRate","firstOverTimeRate","firstOverTimeHour","totOTPay","totCommission","totAllowance","totDeduct","AddPay","netPay","empCPFCont","dateofPay","modeofPay","secondOverTimeHour","secondOverTimeRate","TotAllowanceList","TotDeductionList","AddPaymentList","headerDetails","label","isNewPayTypePopup","newPopupDesc","newPopupTypeSelection","newPopupAmount","newPopupType","modeofPayList","salarySubType","visible","staffList","isLoading","headerStaffDetails","getselectedItem","Object","assign","props","match","params","id","then","res","status","data","setState","handleChange","event","target","name","value","tdate","newDate","getFullYear","getMonth","handleDescPopup","key","selectedKey","handlepopupConfirmationDialog","prevState","handleStateChange","handleAddNewPayType","Number","push","desc","type","typeName","amount","allow_id","AddTotAllowanceCalc","deduct_id","AddTotDeductionCalc","pay_id","AddpayrowDataCalc","message","handleDeleteAllowance","item","index","splice","handleNetPayCalc","reduce","a","v","handleHourlyRateUpdate","debouncedHourlySalaryFn","debounce","handleHourlyRate","handleOverTimeRate","handleOverTimeUpdate","debouncedOverTimeFn","handlePayInputUpdate","debouncedPayInputFn","hourTotal","getmodeofpayment","console","log","dataList","modename","getSalarySubType","typename","handleOutsideClick","e","node","contains","handleClick","document","addEventListener","removeEventListener","handleSearch","debouncedFn","queryHandler","limit","staffDetails","meta","pagination","handleSelectStaff","emp_name","emp_code","handleSubmit","handleUpdate","handleSave","payload","handleClickReset","handlePostClick","EmployeeOption","t","length","map","emp_phone1","services","defaultsitecode","site_code","dataitem","result","window","confirm","minWidth","mapStateToProps","tokenDetails","authStore","staffPlus","staffPlusDetail","mapDispatchToProps","dispatch","Addpayroll"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalSelect,\r\n  NormalModal,\r\n  NormalInput,\r\n  NormalDate,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport _ from \"lodash\";\r\nimport { Toast } from \"service/toast\";\r\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { getStaffPlus } from \"redux/actions/staffPlus\";\r\n\r\nexport class AddpayrollClass extends Component {\r\n  state = {\r\n    pageMeta: {\r\n      chunk: 10,\r\n      page: 1,\r\n      total: 10,\r\n      totalPages: 2,\r\n    },\r\n    originalStaffList: [],\r\n    formField: {\r\n      payrollId: \"\",\r\n      EmpCode: \"\",\r\n      EmpName: \"\",\r\n      empid: \"\",\r\n      FromDate: new Date(),\r\n      toDate: new Date(),\r\n      BasicSalary: \"\",\r\n      hourlySalHour: \"\",\r\n      hourlySalRate: \"\",\r\n      firstOverTimeRate: \"\",\r\n      firstOverTimeHour: \"\",\r\n      totOTPay: \"\",\r\n      totCommission: \"\",\r\n      totAllowance: \"\",\r\n      totDeduct: \"\",\r\n      AddPay: \"\",\r\n      netPay: \"\",\r\n      empCPFCont: \"\",\r\n      dateofPay: new Date(),\r\n      modeofPay: \"\",\r\n      secondOverTimeHour: \"\",\r\n      secondOverTimeRate: \"\",\r\n      TotAllowanceList: [],\r\n      TotDeductionList: [],\r\n      AddPaymentList: [],\r\n    },\r\n    headerDetails: [\r\n      { label: \"Description\" },\r\n      { label: \"Type\" },\r\n      { label: \"Amount\" },\r\n      { label: \"\" },\r\n    ],\r\n\r\n    isNewPayTypePopup: false,\r\n    newPopupDesc: \"\",\r\n    newPopupTypeSelection: [],\r\n    newPopupAmount: \"\",\r\n    newPopupType: \"\",\r\n    modeofPayList: [],\r\n    salarySubType: [],\r\n    visible: false,\r\n    staffList: [],\r\n    isLoading: false,\r\n    headerStaffDetails: [\r\n      { label: \"Status\" },\r\n      { label: \"Staff Name\" },\r\n      { label: \"Phone\" },\r\n      { label: \"Staff ID\" },\r\n      { label: \"Specialist\" },\r\n      { label: \"Home site\" },\r\n      { label: \"Current site\" },\r\n    ],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getmodeofpayment();\r\n    this.getSalarySubType();\r\n    if (this.props.match.params.id) {\r\n      this.getselectedItem();\r\n    }\r\n  }\r\n  getselectedItem = async () => {\r\n    let { formField } = Object.assign({}, this.state);\r\n    this.props\r\n      .getCommonApi(`employeesalary/${this.props.match.params.id}/`)\r\n      .then(async res => {\r\n        let { status, data } = res;\r\n        if (status === 200) {\r\n          if (data) {\r\n            formField = {\r\n              payrollId: data.payrollId,\r\n              EmpCode: data.EmpCode,\r\n              EmpName: data.EmpName,\r\n              empid: data.empid,\r\n              FromDate: new Date(data.FromDate),\r\n              toDate: new Date(data.toDate),\r\n              BasicSalary: data.BasicSalary,\r\n              hourlySalHour: data.hourlySalHour,\r\n              hourlySalRate: data.hourlySalRate,\r\n              firstOverTimeRate: data.firstOverTimeRate,\r\n              firstOverTimeHour: data.firstOverTimeHour,\r\n              totOTPay: data.totOTPay,\r\n              totCommission: data.totCommission,\r\n              totAllowance: data.totAllowance,\r\n              totDeduct: data.totDeduct,\r\n              AddPay: data.AddPay,\r\n              netPay: data.netPay,\r\n              empCPFCont: data.empCPFCont,\r\n              dateofPay: new Date(data.dateofPay),\r\n              modeofPay: data.modeofPay,\r\n              secondOverTimeHour: data.secondOverTimeHour,\r\n              secondOverTimeRate: data.secondOverTimeRate,\r\n              TotAllowanceList: data.TotAllowanceList,\r\n              TotDeductionList: data.TotDeductionList,\r\n              AddPaymentList: data.AddPaymentList,\r\n            };\r\n            await this.setState({\r\n              formField,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n  handleChange = async event => {\r\n    let { formField } = this.state;\r\n    formField[event.target.name] = event.target.value;\r\n    await this.setState({\r\n      formField,\r\n    });\r\n    if ([event.target.name] == \"FromDate\") {\r\n      let tdate = new Date(event.target.value);\r\n      let newDate = new Date(tdate.getFullYear(), tdate.getMonth() + 1, 0);\r\n      formField[\"toDate\"] = newDate;\r\n      await this.setState({\r\n        formField,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleDescPopup = async key => {\r\n    await this.setState({\r\n      selectedKey: key,\r\n      isNewPayTypePopup: true,\r\n    });\r\n  };\r\n\r\n  handlepopupConfirmationDialog = async () => {\r\n    await this.setState(prevState => ({\r\n      isNewPayTypePopup: !prevState.isNewPayTypePopup,\r\n      selectedKey: \"\",\r\n      newPopupDesc: \"\",\r\n      newPopupAmount: \"\",\r\n      newPopupType: \"\",\r\n    }));\r\n  };\r\n\r\n  handleStateChange = async event => {\r\n    await this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  handleAddNewPayType = async () => {\r\n    let { selectedKey, newPopupDesc, newPopupAmount, newPopupType, formField } =\r\n      this.state;\r\n\r\n    if (newPopupAmount && Number(newPopupAmount) > 0) {\r\n      if (selectedKey == \"TotAllowance\") {\r\n        formField[\"TotAllowanceList\"].push({\r\n          desc: newPopupDesc,\r\n          type: newPopupType,\r\n          typeName: \"\",\r\n          amount: newPopupAmount,\r\n          allow_id: null,\r\n        });\r\n\r\n        await this.setState({\r\n          formField,\r\n        });\r\n        this.AddTotAllowanceCalc();\r\n        this.handlepopupConfirmationDialog();\r\n      } else if (selectedKey == \"TotDeduction\") {\r\n        formField[\"TotDeductionList\"].push({\r\n          desc: newPopupDesc,\r\n          type: newPopupType,\r\n          typeName: \"\",\r\n          amount: newPopupAmount,\r\n          deduct_id: null,\r\n        });\r\n\r\n        await this.setState({\r\n          formField,\r\n        });\r\n        this.AddTotDeductionCalc();\r\n        this.handlepopupConfirmationDialog();\r\n      } else if (selectedKey == \"AddPayment\") {\r\n        formField[\"AddPaymentList\"].push({\r\n          desc: newPopupDesc,\r\n          type: newPopupType,\r\n          typeName: \"\",\r\n          amount: newPopupAmount,\r\n          pay_id: null,\r\n        });\r\n        await this.setState({\r\n          formField,\r\n        });\r\n        this.AddpayrowDataCalc();\r\n        this.handlepopupConfirmationDialog();\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please enter amount\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleDeleteAllowance = async (item, key, index) => {\r\n    let { formField } = this.state;\r\n    let { TotAllowanceList, TotDeductionList, AddPaymentList } = formField;\r\n\r\n    if (key == \"TotAllowanceList\") {\r\n      formField[\"TotAllowanceList\"].splice(index, 1);\r\n      await this.setState({\r\n        formField,\r\n      });\r\n      this.AddTotAllowanceCalc();\r\n      this.handleNetPayCalc();\r\n    } else if (key == \"TotDeductionList\") {\r\n      formField[\"TotDeductionList\"].splice(index, 1);\r\n      await this.setState({\r\n        formField,\r\n      });\r\n      this.AddTotDeductionCalc();\r\n      this.handleNetPayCalc();\r\n    } else {\r\n      formField[\"AddPaymentList\"].splice(index, 1);\r\n      await this.setState({\r\n        formField,\r\n      });\r\n      this.AddpayrowDataCalc();\r\n      this.handleNetPayCalc();\r\n    }\r\n  };\r\n  AddTotAllowanceCalc = async () => {\r\n    let { formField } = this.state;\r\n    formField[\"totAllowance\"] =\r\n      formField.TotAllowanceList &&\r\n      formField.TotAllowanceList.reduce(\r\n        (a, v) => Number(a) + Number(v.amount),\r\n        \"\"\r\n      );\r\n    await this.setState({\r\n      formField,\r\n    });\r\n    this.handleNetPayCalc();\r\n  };\r\n  AddTotDeductionCalc = async () => {\r\n    let { formField } = this.state;\r\n    formField[\"totDeduct\"] =\r\n      formField.TotDeductionList &&\r\n      formField.TotDeductionList.reduce(\r\n        (a, v) => Number(a) + Number(v.amount),\r\n        \"\"\r\n      );\r\n    await this.setState({\r\n      formField,\r\n    });\r\n    this.handleNetPayCalc();\r\n  };\r\n  AddpayrowDataCalc = async () => {\r\n    let { formField } = this.state;\r\n    formField[\"AddPay\"] =\r\n      formField.AddPaymentList &&\r\n      formField.AddPaymentList.reduce(\r\n        (a, v) => Number(a) + Number(v.amount),\r\n        \"\"\r\n      );\r\n    await this.setState({\r\n      formField,\r\n    });\r\n    this.handleNetPayCalc();\r\n  };\r\n\r\n  handleHourlyRateUpdate = async event => {\r\n    let { formField } = this.state;\r\n    formField.hourlySalRate = event.target.value;\r\n    await this.setState({ formField });\r\n    if (!this.debouncedHourlySalaryFn) {\r\n      this.debouncedHourlySalaryFn = _.debounce(async () => {\r\n        this.handleHourlyRate();\r\n      }, 1000);\r\n    }\r\n    this.debouncedHourlySalaryFn();\r\n  };\r\n\r\n  handleHourlyRate = () => {\r\n    let { formField } = this.state;\r\n    let data = formField.hourlySalRate;\r\n    formField[\"firstOverTimeRate\"] = Number(data) * 1.5;\r\n    formField[\"secondOverTimeRate\"] = Number(data) * 2;\r\n    this.setState({ formField });\r\n\r\n    this.handleOverTimeRate();\r\n  };\r\n\r\n  handleOverTimeUpdate = async event => {\r\n    let { formField } = this.state;\r\n    formField[event.target.name] = event.target.value;\r\n    await this.setState({ formField });\r\n    if (!this.debouncedOverTimeFn) {\r\n      this.debouncedOverTimeFn = _.debounce(async () => {\r\n        this.handleOverTimeRate();\r\n      }, 1000);\r\n    }\r\n    this.debouncedOverTimeFn();\r\n  };\r\n\r\n  handlePayInputUpdate = async event => {\r\n    let { formField } = this.state;\r\n    formField[event.target.name] = event.target.value;\r\n    await this.setState({ formField });\r\n    if (!this.debouncedPayInputFn) {\r\n      this.debouncedPayInputFn = _.debounce(async () => {\r\n        this.handleNetPayCalc();\r\n      }, 1000);\r\n    }\r\n    this.debouncedPayInputFn();\r\n  };\r\n  handleOverTimeRate = () => {\r\n    let { formField } = this.state;\r\n    formField[\"totOTPay\"] =\r\n      Number(formField.firstOverTimeHour) *\r\n        Number(formField.firstOverTimeRate) +\r\n      Number(formField.secondOverTimeHour) *\r\n        Number(formField.secondOverTimeRate);\r\n    this.setState({ formField });\r\n\r\n    this.handleNetPayCalc();\r\n  };\r\n\r\n  handleNetPayCalc = async () => {\r\n    let { formField } = this.state;\r\n    let hourTotal =\r\n      Number(formField.hourlySalHour) * Number(formField.hourlySalRate);\r\n    formField[\"netPay\"] =\r\n      Number(formField.BasicSalary) +\r\n      hourTotal +\r\n      Number(formField.totOTPay) +\r\n      Number(formField.totCommission) +\r\n      Number(formField.totAllowance) +\r\n      Number(formField.AddPay) -\r\n      Number(formField.totDeduct);\r\n    await this.setState({ formField });\r\n  };\r\n\r\n  getmodeofpayment = () => {\r\n    let { modeofPayList } = this.state;\r\n    this.props.getCommonApi(`modeofpayment/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(data, \"paymentmode\");\r\n      if (status === 200) {\r\n        for (let value of data.dataList) {\r\n          modeofPayList.push({\r\n            value: value.id,\r\n            label: value.modename,\r\n          });\r\n        }\r\n        this.setState({ modeofPayList });\r\n      }\r\n    });\r\n  };\r\n  getSalarySubType = () => {\r\n    let { salarySubType } = this.state;\r\n    this.props.getCommonApi(`salarysubtype/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(data, \"salarySubType\");\r\n      if (status === 200) {\r\n        for (let value of data.dataList) {\r\n          salarySubType.push({\r\n            value: value.id,\r\n            label: value.typename,\r\n          });\r\n        }\r\n        this.setState({ salarySubType });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n  handleClick = async key => {\r\n    if (!this.state.visible) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    await this.setState(prevState => ({\r\n      visible: !prevState.visible,\r\n    }));\r\n  };\r\n\r\n  handleSearch = async event => {\r\n    // event.persist();\r\n    let { formField, visible } = this.state;\r\n    formField.EmpName = event.target.value;\r\n    await this.setState({ formField, visible: true });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.queryHandler({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  queryHandler = async data => {\r\n    this.setState({ isLoading: true });\r\n    let { formField } = this.state;\r\n    let { page = 1, limit = 10 } = data;\r\n    await this.props.getStaffPlus(\r\n      `?page=${page}&limit=${limit}${\"\"}&search=${formField.EmpName}`\r\n    );\r\n    let { staffDetails } = this.props;\r\n    let { staffList, pageMeta } = this.state;\r\n    staffList = staffDetails.dataList;\r\n    pageMeta = staffDetails.meta?.pagination;\r\n    this.setState({\r\n      staffList,\r\n      originalStaffList: staffList,\r\n      pageMeta,\r\n      isLoading: false,\r\n    });\r\n  };\r\n\r\n  handleSelectStaff = async item => {\r\n    debugger;\r\n    let { formField } = this.state;\r\n    formField.EmpName = item.emp_name;\r\n    formField.EmpCode = item.emp_code;\r\n    formField.empid = item.id;\r\n    await this.setState(prevState => ({\r\n      visible: !prevState.visible,\r\n      formField,\r\n    }));\r\n    this.handleClick();\r\n  };\r\n  handleSubmit = () => {\r\n    if (this.props.match.params.id) {\r\n      this.handleUpdate();\r\n    } else {\r\n      this.handleSave();\r\n    }\r\n  };\r\n  handleSave = () => {\r\n    let { formField } = this.state;\r\n\r\n    let payload = {\r\n      payrollId: formField.payrollId,\r\n      EmpCode: formField.EmpCode,\r\n      EmpName: formField.EmpName,\r\n      empid: formField.empid,\r\n      FromDate: dateFormat(formField.FromDate),\r\n      toDate: dateFormat(formField.toDate),\r\n      BasicSalary: Number(formField.BasicSalary),\r\n      hourlySalHour: Number(formField.hourlySalHour),\r\n      hourlySalRate: Number(formField.hourlySalRate),\r\n      firstOverTimeRate: Number(formField.firstOverTimeRate),\r\n      firstOverTimeHour: Number(formField.firstOverTimeHour),\r\n      totOTPay: Number(formField.totOTPay),\r\n      totCommission: Number(formField.totCommission),\r\n      totAllowance: Number(formField.totAllowance),\r\n      totDeduct: Number(formField.totDeduct),\r\n      AddPay: Number(formField.AddPay),\r\n      netPay: Number(formField.netPay),\r\n      empCPFCont: Number(formField.empCPFCont),\r\n      dateofPay: dateFormat(formField.dateofPay),\r\n      modeofPay: Number(formField.modeofPay),\r\n      secondOverTimeHour: Number(formField.secondOverTimeHour),\r\n      secondOverTimeRate: Number(formField.secondOverTimeRate),\r\n      TotAllowanceList: formField.TotAllowanceList,\r\n      TotDeductionList: formField.TotDeductionList,\r\n      AddPaymentList: formField.AddPaymentList,\r\n    };\r\n\r\n    this.props.commonCreateApi(`employeesalary/`, payload).then(async res => {\r\n      if (res.status === 201) {\r\n        history.push(`/admin/payroll`);\r\n      }\r\n    });\r\n  };\r\n  handleUpdate = () => {\r\n    let { formField } = this.state;\r\n\r\n    let payload = {\r\n      payrollId: formField.payrollId,\r\n      EmpCode: formField.EmpCode,\r\n      EmpName: formField.EmpName,\r\n      empid: formField.empid,\r\n      FromDate: dateFormat(formField.FromDate),\r\n      toDate: dateFormat(formField.toDate),\r\n      BasicSalary: Number(formField.BasicSalary),\r\n      hourlySalHour: Number(formField.hourlySalHour),\r\n      hourlySalRate: Number(formField.hourlySalRate),\r\n      firstOverTimeRate: Number(formField.firstOverTimeRate),\r\n      firstOverTimeHour: Number(formField.firstOverTimeHour),\r\n      totOTPay: Number(formField.totOTPay),\r\n      totCommission: Number(formField.totCommission),\r\n      totAllowance: Number(formField.totAllowance),\r\n      totDeduct: Number(formField.totDeduct),\r\n      AddPay: Number(formField.AddPay),\r\n      netPay: Number(formField.netPay),\r\n      empCPFCont: Number(formField.empCPFCont),\r\n      dateofPay: dateFormat(formField.dateofPay),\r\n      modeofPay: Number(formField.modeofPay),\r\n      secondOverTimeHour: Number(formField.secondOverTimeHour),\r\n      secondOverTimeRate: Number(formField.secondOverTimeRate),\r\n      TotAllowanceList: formField.TotAllowanceList,\r\n      TotDeductionList: formField.TotDeductionList,\r\n      AddPaymentList: formField.AddPaymentList,\r\n    };\r\n\r\n    this.props\r\n      .commonPatchApi(`employeesalary/${this.props.match.params.id}/`, payload)\r\n      .then(async res => {\r\n        if (res.status === 200) {\r\n          history.push(`/admin/payroll`);\r\n        }\r\n      });\r\n  };\r\n\r\n  handleClickReset = async () => {\r\n    let formField = Object.assign({}, this.state.formField);\r\n    formField = {};\r\n    await this.setState({\r\n      formField,\r\n    });\r\n    if (this.props.match.params.id) {\r\n      this.getselectedItem();\r\n    }\r\n  };\r\n\r\n  handlePostClick = () => {\r\n    this.props\r\n      .commonPatchApi(\r\n        `employeesalary/${this.props.match.params.id}/postselected/`\r\n      )\r\n      .then(async res => {\r\n        if (res.status === 200) {\r\n          history.push(`/admin/payroll`);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    let {\r\n      formField,\r\n      headerDetails,\r\n      isNewPayTypePopup,\r\n      newPopupAmount,\r\n      newPopupDesc,\r\n      newPopupTypeSelection,\r\n      newPopupType,\r\n      modeofPayList,\r\n      salarySubType,\r\n      visible,\r\n      EmployeeOption,\r\n      isLoading,\r\n      staffList,\r\n      headerStaffDetails,\r\n    } = this.state;\r\n\r\n    let { TotAllowanceList, TotDeductionList, AddPaymentList } = formField;\r\n    let {\r\n      EmpCode,\r\n      EmpName,\r\n      FromDate,\r\n      toDate,\r\n      BasicSalary,\r\n      hourlySalHour,\r\n      hourlySalRate,\r\n      firstOverTimeRate,\r\n      firstOverTimeHour,\r\n      totOTPay,\r\n      totCommission,\r\n      totAllowance,\r\n      totDeduct,\r\n      AddPay,\r\n      netPay,\r\n      empCPFCont,\r\n      dateofPay,\r\n      modeofPay,\r\n      secondOverTimeHour,\r\n      secondOverTimeRate,\r\n    } = formField;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"payroll-section\">\r\n          <div className=\"col-md-12 d-flex align-items-center\">\r\n            <p className=\"label-head mb-4\">\r\n              <span\r\n                className=\"h5\"\r\n                onClick={() => history.push(`/admin/payroll`)}\r\n              >\r\n                {t(\"Payroll\")} &gt;\r\n              </span>{\" \"}\r\n              {this.props.match.params.id ? \"Edit\" : \"Add\"} &nbsp;\r\n              {t(\"Payroll\")}\r\n            </p>\r\n          </div>\r\n          <div className=\"d-flex flex-wrap justify-content-center\">\r\n            <div className=\"col-md-6 py-3\">\r\n              <div className=\"d-flex flex-wrap justify-content-center\">\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Employee Name\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <NormalInput\r\n                        placeholder=\"Search staff..\"\r\n                        value={EmpName}\r\n                        name=\"EmpName\"\r\n                        onChange={this.handleSearch}\r\n                        onClick={this.handleClick}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  {visible ? (\r\n                    <div className=\"empSearch-block\">\r\n                      <TableWrapper headerDetails={headerStaffDetails}>\r\n                        {isLoading ? (\r\n                          <tr>\r\n                            <td colSpan=\"7\">\r\n                              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                                <div class=\"spinner-border\" role=\"status\">\r\n                                  <span class=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ) : staffList.length > 0 ? (\r\n                          staffList.map((item, index) => {\r\n                            return (\r\n                              <tr\r\n                                key={index}\r\n                                onClick={() => this.handleSelectStaff(item)}\r\n                              >\r\n                                <td className=\"position-relative status-type\">\r\n                                  <span\r\n                                    className={`${\r\n                                      item.status === \"available\"\r\n                                        ? \"available\"\r\n                                        : \"not-available\"\r\n                                    }`}\r\n                                  ></span>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.emp_name}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.emp_phone1}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.emp_code}\r\n                                  </div>\r\n                                </td>\r\n\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.services ? item.services[0] : \"\"}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.defaultsitecode}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.site_code}\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        ) : null}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Payment Period\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalDate\r\n                            name=\"FromDate\"\r\n                            onChange={this.handleChange}\r\n                            value={FromDate}\r\n                            type={`date`}\r\n                            popperPlacement={\"bottom\"}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-1 col-12\">\r\n                        <div className=\"d-flex justify-content-center\">\r\n                          <span className=\"text-center text-black common-label-text p-1\">\r\n                            {t(\"to\")}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalDate\r\n                            name=\"toDate\"\r\n                            onChange={this.handleChange}\r\n                            value={toDate}\r\n                            type={`date`}\r\n                            popperPlacement={\"bottom\"}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Basic Salary\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-6 col-12\">\r\n                        <div className=\"d-flex justify-content-end\">\r\n                          <NormalInput\r\n                            name={`BasicSalary`}\r\n                            onChange={this.handlePayInputUpdate}\r\n                            type={`number`}\r\n                            value={BasicSalary}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Hourly Salary\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            name=\"hourlySalHour\"\r\n                            onChange={this.handlePayInputUpdate}\r\n                            type={`number`}\r\n                            value={hourlySalHour}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-1 col-12\">\r\n                        <div className=\"d-flex justify-content-center\">\r\n                          <span className=\"text-center text-black common-label-text p-1\">\r\n                            {t(\"X\")}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            name=\"hourlySalRate\"\r\n                            onChange={this.handleHourlyRateUpdate}\r\n                            type={`number`}\r\n                            value={hourlySalRate}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Amount of Over Time (1.5x)\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            name=\"firstOverTimeHour\"\r\n                            onChange={this.handleOverTimeUpdate}\r\n                            type={`number`}\r\n                            value={firstOverTimeHour}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-1 col-12\">\r\n                        <div className=\"d-flex justify-content-center\">\r\n                          <span className=\"text-center text-black common-label-text p-1\">\r\n                            {t(\"X\")}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            name=\"firstOverTimeRate\"\r\n                            onChange={this.handleOverTimeUpdate}\r\n                            type={`number`}\r\n                            value={firstOverTimeRate}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Amount of Over Time (2x)\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            name=\"secondOverTimeHour\"\r\n                            onChange={this.handleOverTimeUpdate}\r\n                            type={`number`}\r\n                            value={secondOverTimeHour}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-1 col-12\">\r\n                        <div className=\"d-flex justify-content-center\">\r\n                          <span className=\"text-center text-black common-label-text p-1\">\r\n                            {t(\"X\")}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-5 col-12\">\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            name=\"secondOverTimeRate\"\r\n                            onChange={this.handleOverTimeUpdate}\r\n                            type={`number`}\r\n                            value={secondOverTimeRate}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Total OT Pay\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-6 col-12\">\r\n                        <div className=\"d-flex justify-content-end\">\r\n                          <NormalInput\r\n                            name={`totOTPay`}\r\n                            onChange={this.handleChange}\r\n                            type={`number`}\r\n                            value={totOTPay}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12 py-3\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                      {t(\"Total Commission\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-6 col-12\">\r\n                        <div className=\"d-flex justify-content-end\">\r\n                          <NormalInput\r\n                            name={`totCommission`}\r\n                            onChange={this.handleOverTimeUpdate}\r\n                            type={`number`}\r\n                            value={totCommission}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12 pt-3 pb-1\">\r\n                  <div className=\"d-flex\">\r\n                    <label className=\"text-left w-50 text-black common-label-text mb-1\">\r\n                      {t(\"Total Allowance\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"col-md-6 col-12\">\r\n                        <div className=\"d-flex justify-content-end\">\r\n                          <NormalInput\r\n                            name={`totAllowance`}\r\n                            onChange={this.handleChange}\r\n                            type={`number`}\r\n                            value={totAllowance}\r\n                            disabled\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"d-flex\">\r\n                          <div className=\"col-md-6\">\r\n                            <AiOutlinePlusCircle\r\n                              className=\"fs-30\"\r\n                              color=\"primary\"\r\n                              onClick={() =>\r\n                                this.handleDescPopup(\"TotAllowance\")\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12 col-12  pt-1 pb-3\">\r\n                  <TableWrapper headerDetails={headerDetails}>\r\n                    {formField.TotAllowanceList &&\r\n                    formField.TotAllowanceList.length > 0 ? (\r\n                      formField.TotAllowanceList.map((dataitem, index) => {\r\n                        let { desc, type, amount, typeName } = dataitem;\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"text-left\">{desc}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"text-left\">{typeName}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"text-left\">{amount}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div\r\n                                className=\"col p-0 pr-1 fs-18 cursor-pointer\"\r\n                                onClick={() =>\r\n                                  this.handleDeleteAllowance(\r\n                                    dataitem,\r\n                                    \"TotAllowanceList\",\r\n                                    index\r\n                                  )\r\n                                }\r\n                              >\r\n                                <span className=\"icon-delete\"></span>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <tr>\r\n                        <td colSpan={12}>{t(\"No Data\")}</td>\r\n                      </tr>\r\n                    )}\r\n                  </TableWrapper>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12 col-12  pt-3 pb-1\">\r\n                <div className=\"d-flex\">\r\n                  <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                    {t(\"Total Deduction\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <NormalInput\r\n                          name={`totDeduct`}\r\n                          onChange={this.handleChange}\r\n                          type={`number`}\r\n                          value={totDeduct}\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"d-flex \">\r\n                        <div className=\"col-md-6\">\r\n                          <AiOutlinePlusCircle\r\n                            className=\"fs-30\"\r\n                            color=\"primary\"\r\n                            onClick={() => this.handleDescPopup(\"TotDeduction\")}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12 col-12 pb-3 pt-1\">\r\n                <TableWrapper headerDetails={headerDetails}>\r\n                  {TotDeductionList && TotDeductionList.length > 0 ? (\r\n                    TotDeductionList.map((dataitem, index) => {\r\n                      let { desc, type, amount, typeName } = dataitem;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{typeName}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{amount}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className=\"col p-0 pr-1 fs-18 cursor-pointer\"\r\n                              onClick={() =>\r\n                                this.handleDeleteAllowance(\r\n                                  dataitem,\r\n                                  \"TotDeductionList\",\r\n                                  index\r\n                                )\r\n                              }\r\n                            >\r\n                              <span className=\"icon-delete\"></span>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan={12}>{t(\"No Data\")}</td>\r\n                    </tr>\r\n                  )}\r\n                </TableWrapper>\r\n              </div>\r\n              <div className=\"col-md-12 col-12 pt-3 pb-1\">\r\n                <div className=\"d-flex\">\r\n                  <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                    {t(\"Additional Payment\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <NormalInput\r\n                          name={`AddPay`}\r\n                          type={`number`}\r\n                          onChange={() => {}}\r\n                          value={AddPay}\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"d-flex \">\r\n                        <div className=\"col-md-6\">\r\n                          <AiOutlinePlusCircle\r\n                            className=\"fs-30\"\r\n                            color=\"primary\"\r\n                            onClick={() => this.handleDescPopup(\"AddPayment\")}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12 col-12  pb-3 pt-1\">\r\n                <TableWrapper headerDetails={headerDetails}>\r\n                  {AddPaymentList && AddPaymentList.length > 0 ? (\r\n                    AddPaymentList.map((dataitem, index) => {\r\n                      let { desc, type, amount, typeName } = dataitem;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{typeName}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{amount}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className=\"col p-0 pr-1 fs-18 cursor-pointer\"\r\n                              onClick={() =>\r\n                                this.handleDeleteAllowance(\r\n                                  dataitem,\r\n                                  \"AddPaymentList\",\r\n                                  index\r\n                                )\r\n                              }\r\n                            >\r\n                              <span className=\"icon-delete\"></span>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan={12}>{t(\"No Data\")}</td>\r\n                    </tr>\r\n                  )}\r\n                </TableWrapper>\r\n              </div>\r\n              <div className=\"col-md-12 col-12 py-3\">\r\n                <div className=\"d-flex\">\r\n                  <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                    {t(\"Net Pay\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <NormalInput\r\n                          name={`netPay`}\r\n                          onChange={() => {}}\r\n                          type={`number`}\r\n                          value={netPay}\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12 col-12 py-3\">\r\n                <div className=\"d-flex\">\r\n                  <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                    {t(\"Employee CPF Contribution\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <NormalInput\r\n                          name={`empCPFCont`}\r\n                          onChange={this.handleChange}\r\n                          type={`number`}\r\n                          value={empCPFCont}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12 col-12 py-3\">\r\n                <div className=\"d-flex\">\r\n                  <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                    {t(\"Date of Payment\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <NormalDate\r\n                          name={`dateofPay`}\r\n                          onChange={this.handleChange}\r\n                          value={dateofPay}\r\n                          type={`date`}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12 col-12 py-3\">\r\n                <div className=\"d-flex\">\r\n                  <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                    {t(\"Mode of Payment\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <NormalSelect\r\n                          name={`modeofPay`}\r\n                          onChange={this.handleChange}\r\n                          type={`number`}\r\n                          value={modeofPay}\r\n                          options={modeofPayList}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex flex-wrap justify-content-center align-items-center\">\r\n            <NormalButton\r\n              buttonClass={`p-2`}\r\n              resetbg={true}\r\n              label={`Reset`}\r\n              onClick={() => {\r\n                this.handleClickReset();\r\n              }}\r\n            />\r\n            <NormalButton\r\n              buttonClass={`p-2`}\r\n              mainbg={true}\r\n              label={`Back`}\r\n              onClick={() => {\r\n                let result = window.confirm(\r\n                  \"Are you sure want to leave this page\"\r\n                );\r\n                if (result) {\r\n                  history.push(`/admin/payroll`);\r\n                }\r\n              }}\r\n            />\r\n            <NormalButton\r\n              buttonClass={`p-2`}\r\n              submitBtn={true}\r\n              label={`Save`}\r\n              onClick={_.debounce(async () => {\r\n                {\r\n                  this.handleSubmit();\r\n                }\r\n              }, 500)}\r\n            />\r\n            {this.props.match.params.id && (\r\n              <NormalButton\r\n                buttonClass={`p-2`}\r\n                applybg={true}\r\n                label={`Post`}\r\n                onClick={_.debounce(async () => {\r\n                  {\r\n                    this.handlePostClick();\r\n                  }\r\n                }, 500)}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <NormalModal\r\n          className={\"d-flex justify-content-center\"}\r\n          style={{ minWidth: \"55%\" }}\r\n          modal={isNewPayTypePopup}\r\n          handleModal={() => {}}\r\n        >\r\n          <div className=\"d-flex justify-content-end\">\r\n            <img\r\n              onClick={this.handlepopupConfirmationDialog}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <div className=\"d-flex flex-wrap\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text mb-2\">\r\n                  {t(\"Description\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <NormalTextarea\r\n                      name={`newPopupDesc`}\r\n                      onChange={this.handleStateChange}\r\n                      type={`text`}\r\n                      value={newPopupDesc}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3 col-12\">\r\n                <label className=\"text-left w-50 text-black common-label-text mb-2\">\r\n                  {t(\"Type\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalSelect\r\n                    name={`newPopupType`}\r\n                    onChange={this.handleStateChange}\r\n                    value={newPopupType}\r\n                    options={salarySubType}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3 col-12\">\r\n                <label className=\"text-left text-black common-label-text mb-2\">\r\n                  {t(\"Amount\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <NormalInput\r\n                      name={`newPopupAmount`}\r\n                      onChange={this.handleStateChange}\r\n                      type={`number`}\r\n                      value={newPopupAmount}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2 col-12\">\r\n                <NormalButton\r\n                  buttonClass={`p-3`}\r\n                  submitBtn={true}\r\n                  label={`Add`}\r\n                  onClick={this.handleAddNewPayType}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetails: state.authStore.tokenDetails,\r\n  staffDetails: state.staffPlus.staffPlusDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      getStaffPlus,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Addpayroll = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddpayrollClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}