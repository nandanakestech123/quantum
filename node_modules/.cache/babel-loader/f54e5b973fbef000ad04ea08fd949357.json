{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./style.scss';import{NormalButton,NormalInput,NormalSelect,InputSearch,NormalModal,TableWrapper,NormalCheckbox}from'component/common';import{dateFormat}from'service/helperFunctions';import _ from'lodash';import{history}from'helpers';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import SimpleReactValidator from'simple-react-validator';import{SelectStaff}from'./treatmentDone';import{Reversal}from'./reversal';import service from'assets/images/make-up-brush.png';// import Discount from './cart/discount';\nimport closeIcon from\"assets/images/close.png\";import{FormGroup,Label,Input}from\"reactstrap\";import{TreatmentHistoryCart}from\"./TreatmentHistoryCart\";import{Nav,NavItem,NavLink,TabContent,TabPane}from\"reactstrap\";import classnames from\"classnames\";export var TreatmentDoneClass=/*#__PURE__*/function(_Component){_inherits(TreatmentDoneClass,_Component);var _super=_createSuper(TreatmentDoneClass);function TreatmentDoneClass(){var _this;_classCallCheck(this,TreatmentDoneClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tstaffList:[],headerDetails:[{label:'Date',sortKey:false,width:\"110px\"},{label:'Treatment',width:\"120px\"},{label:'Trans Ref',sortKey:false,width:\"50px\"},//{ label: 'Type', sortKey: false, width: \"55px\" },\n// { label: 'Exp-Date', sortKey: false, width: \"80px\" },\n{label:'Amount',sortKey:false,width:\"50px\"},{label:'Treat-Code',sortKey:false,width:\"105px\"},{label:'TD',sortKey:false,width:\"55px\"},{label:'Rev',sortKey:false,width:\"55px\"},{label:'Open',sortKey:false,width:\"55px\"},{label:'AR',sortKey:false,width:\"35px\"},{label:'Session',sortKey:false,width:\"55px\"},{label:'Redeem',sortKey:false,width:\"55px\"},{label:'Reversal',sortKey:false,width:\"55px\"}],// cartData: {},\nyearList:[],selectedYear:2021,isOpenTreatmentDone:false,tsStaff:{},workPoint:0,isOpenReversal:false,checkBoxConfirmReversal:[],selectedSession:\"\",selectedItemTreatmentIds:[],activeMenu:\"treatmentdone\"};_this.componentWillMount=function(){_this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});_this.props.getCommonApi('treatmentdone/Year/').then(function(key){var status=key.status,data=key.data;var yearList=_this.state.yearList;var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;yearList.push({value:value,label:value});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({yearList:yearList});});_this.getCart();};_this.handleCheckboxChangeWithNormalCheckBox=function(item){var newArray=[].concat(_toConsumableArray(_this.state.checkBoxConfirmReversal),[item.target.name]);if(_this.state.checkBoxConfirmReversal.includes(item.target.name)){newArray=newArray.filter(function(day){return day!==item.target.name;});}_this.setState({checkBoxConfirmReversal:newArray});};_this.getCart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,roomList,sourceList,staffList,cartData,duration,tstaffList,selectedYear,_this$props$basicAppt,custId;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(_this.props,\"sfgdfsgdfghgf\");_this$state=_this.state,roomList=_this$state.roomList,sourceList=_this$state.sourceList,staffList=_this$state.staffList,cartData=_this$state.cartData,duration=_this$state.duration,tstaffList=_this$state.tstaffList,selectedYear=_this$state.selectedYear;_this$props$basicAppt=_this.props.basicApptDetail.custId,custId=_this$props$basicAppt===void 0?50270:_this$props$basicAppt;_this.props.getCommonApi(\"treatmentdone/?year=\".concat(selectedYear,\"&cust_id=\").concat(custId)).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cartData=key;_context.next=3;return _this.setState({tstaffList:[]});case 3:tstaffList=key.data;_this.setState({tstaffList:tstaffList});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleYearChange=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref3){var _ref3$target,value,name,selectedYear;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;selectedYear=_this.state.selectedYear;selectedYear=value;_context3.next=5;return _this.setState({selectedYear:selectedYear});case 5:_this.getCart();case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}();_this.getDataFromRes=function(data){var _this$state2=_this.state,formFields=_this$state2.formFields,cartData=_this$state2.cartData,updateFields=_this$state2.updateFields,postFields=_this$state2.postFields;formFields['Item']=data.value.Item;formFields['Price']=data.value.Price;formFields['Room']=data.value.Room;updateFields['Room']=data.value.Room;formFields['Source']=data.value.Source;updateFields['Source']=data.value.Source;formFields['add_duration']=data.value.add_duration;formFields['new_remark']=data.value.new_remark;updateFields['new_remark']=data.value.new_remark;postFields['times']=data.value.times;postFields['work_point']=data.value.work_point;_this.setState({formFields:formFields,updateFields:updateFields,postFields:postFields});};_this.handleSubmit=function(id){};_this.handleDialog=function(){_this.setState({isOpenTreatmentDone:false,isOpenReversal:false,checkBoxConfirmReversal:[]});_this.getCart();};_this.handleSearch=function(event){event.persist();if(!_this.debouncedFn){_this.debouncedFn=_.debounce(function(){var searchString=event.target.value;_this.props.getCommonApi(\"custappt/?search=\".concat(searchString)).then(function(key){var status=key.status,data=key.data;if(status===200){// for (let value of data) {\n//     customerList.push({ value: value.id, label: value.emp_name })\n// }\n_this.setState({customerOption:data});}});},500);}_this.debouncedFn();};_this.handleSelectCustomer=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){var formFields;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:formFields=_this.state.formFields;formFields[\"custId\"]=data.id;formFields[\"custName\"]=data.cust_name;_this.setState({formFields:formFields,isOpenCustomer:false,customerOption:[]});_context4.next=6;return _this.props.updateForm('basicApptDetail',formFields);case 6:console.log(_this.props.basicApptDetail,\"sdfsadfasdf\");case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref5.apply(this,arguments);};}();_this.handleCartCreated=function(data,price,id){var basicApptDetail=_this.props.basicApptDetail;var tstaffList=_this.state.tstaffList;var payload=[];var _iterator2=_createForOfIteratorHelper(tstaffList),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;var reverseTreatmentIds=[];reverseTreatmentIds=key.treatmentids.reverse();if(key.sel===true){var obj={\"cust_noid\":basicApptDetail.custId,\"cart_date\":dateFormat(new Date(),\"yyyy-mm-dd\"),\"itemcodeid\":key.stockid,\"price\":key.unit_amount,\"item_uom\":null,\"treatment_account\":key.TreatmentAccountid,\"treatment\":reverseTreatmentIds.slice(0,key.session),\"ori_stockid\":null};payload.push(obj);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var test=payload;console.log(\"payload-data\",test);_this.props.getCommonApi(\"itemcart/Check/?cart_date=\".concat(dateFormat(new Date(),\"yyyy-mm-dd\"),\"&cust_noid=\").concat(basicApptDetail.custId)).then(function(res){if(res.data.length===0){_this.props.commonCreateApi(\"itemcart/TrmtDoneCartCreate/\",payload).then(function(res){// this.props.handleCartCreated()\n_this.setState({activeTab:\"treatment\",isOpenPriceModal:false});history.push('/admin/cart');});}else{_this.props.commonCreateApi(\"itemcart/TrmtDoneCartCreate/?cart_id=\".concat(res.cart_id),payload).then(function(res){// this.props.handleCartCreated()\n_this.setState({activeTab:\"treatment\",isOpenPriceModal:false});history.push('/admin/cart');});}});};_this.handleCheckout=function(){var isOpenPayment=_this.state.isOpenPayment;isOpenPayment=true;_this.setState({isOpenPayment:isOpenPayment});};_this.handleChange=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref6){var _ref6$target,value,name,formFields;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_ref6$target=_ref6.target,value=_ref6$target.value,name=_ref6$target.name;formFields=_this.state.formFields;formFields[name]=value;_context5.next=5;return _this.setState({formFields:formFields});case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref7.apply(this,arguments);};}();_this.handlePostChange=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(_ref8){var _ref8$target,value,name,postFields;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_ref8$target=_ref8.target,value=_ref8$target.value,name=_ref8$target.name;postFields=_this.state.postFields;postFields[name]=value;_context6.next=5;return _this.setState({postFields:postFields});case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x5){return _ref9.apply(this,arguments);};}();_this.handleUpdateChange=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(_ref10){var _ref10$target,value,name,updateFields,event;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_ref10$target=_ref10.target,value=_ref10$target.value,name=_ref10$target.name;updateFields=_this.state.updateFields;updateFields[name]=value;_context7.next=5;return _this.setState({updateFields:updateFields});case 5:event={target:{value:value,name:name}};// this.handleUpdatestaff(event);\ncase 6:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref11.apply(this,arguments);};}();_this.handleAddstaff=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(item){var _this$state3,tstaffList,selectedSession,selectedItemTreatmentIds,reverseTreatmentIds,unit_rate,qualifiedAmount,_this$state4,_tstaffList,formFields,cartData,postFields;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_this$state3=_this.state,tstaffList=_this$state3.tstaffList,selectedSession=_this$state3.selectedSession,selectedItemTreatmentIds=_this$state3.selectedItemTreatmentIds;selectedSession=item.session;reverseTreatmentIds=[];reverseTreatmentIds=item.treatmentids.reverse();if(selectedSession==0){selectedSession=1;}selectedItemTreatmentIds=reverseTreatmentIds.slice(0,selectedSession);unit_rate=item.unit_amount;qualifiedAmount=selectedSession*unit_rate;_this.setState({selectedSession:selectedSession,selectedItemTreatmentIds:selectedItemTreatmentIds});/* let test=0;\r\n        const currentParentCodeBalance = tstaffList.filter(\r\n            (res) => res.treatment_parentcode ===  item.treatment_parentcode\r\n          ).reduce((sum, currentValue) => {\r\n            return  currentValue.balance;\r\n          }, 0);\r\n        const currentParentCodeSelectedStaffValue = tstaffList.filter(\r\n            (res) => res.treatment_parentcode ===  item.treatment_parentcode && res.staff!=null\r\n            ).reduce((sum, currentValue) => {\r\n                return parseFloat((eval(sum))) + parseFloat((eval(currentValue.unit_amount)));\r\n              }, 0);\r\n        \r\n        if(item.staff==null)\r\n        {\r\n            test=parseFloat((eval(currentParentCodeSelectedStaffValue))) + parseFloat((eval(item.unit_amount))) ;\r\n        }\r\n        else{\r\n            test=parseFloat((eval(currentParentCodeSelectedStaffValue))) - parseFloat((eval(item.unit_amount))) ;\r\n        }\r\n        */ //if (currentParentCodeBalance >= test) {\nif(!(item.balance>=qualifiedAmount)){_context8.next=16;break;}_this$state4=_this.state,_tstaffList=_this$state4.tstaffList,formFields=_this$state4.formFields,cartData=_this$state4.cartData,postFields=_this$state4.postFields;_context8.next=13;return _this.setState({tsStaff:item});case 13:_this.setState({isOpenTreatmentDone:true});_context8.next=18;break;case 16:_this.handleDialog();alert(\"Insufficient balance to redeem\");case 18:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref12.apply(this,arguments);};}();_this.handleUpdatestaff=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(event,item,index){var _this$state5,tstaffList,formFields,cartData,updateFields,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_this$state5=_this.state,tstaffList=_this$state5.tstaffList,formFields=_this$state5.formFields,cartData=_this$state5.cartData,updateFields=_this$state5.updateFields;tstaffList[index][event.target.name]=event.target.value;_this.setState({tstaffList:tstaffList});data={};if(event.target.name===\"appt_fr_time\"){data={appt_fr_time:event.target.value,add_duration:formFields['add_duration']};}if(event.target.name===\"add_duration\"){data={appt_fr_time:item.appt_fr_time,add_duration:event.target.value};}// if (updateFields.Source && updateFields.Room) {\n_this.props.commonPatchApi(\"tmpitemhelper/\".concat(item.id,\"/?Room_Codeid=\").concat(updateFields.Room,\"&Source_Codeid=\").concat(updateFields.Source,\"&new_remark=\").concat(updateFields.new_remark),data).then(function(){_this.getCart();});// } else {\n//     this.setState({ showUpdateError: true })\n// }\ncase 7:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x8,_x9,_x10){return _ref13.apply(this,arguments);};}();_this.handleClearLine=function(){_this.props.commonDeleteApi(\"tmpitemhelper/delete/?clear_all=0&cartid=\".concat(_this.props.cartId)).then(function(){_this.getCart();});};_this.handleClearAll=function(){_this.props.commonDeleteApi(\"tmpitemhelper/delete/?clear_all=1&cartid=\".concat(_this.props.cartId)).then(function(){var _this$state6=_this.state,formFields=_this$state6.formFields,postFields=_this$state6.postFields;formFields[\"work_point\"]=\"\";postFields['times']=\"\";_this.setState({formFields:formFields,postFields:postFields});_this.getCart();});};_this.handleReversalTreatmentAll=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var treatmentIds;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:treatmentIds=_this.state.checkBoxConfirmReversal;_context10.next=3;return _this.setState({treatmentIds:treatmentIds});case 3:_this.setState({isOpenReversal:true});case 4:case\"end\":return _context10.stop();}}},_callee10);}));_this.handleReversalTreatment=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(item){var reverseTreatmentIds,selectedSession;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:reverseTreatmentIds=[];selectedSession=_this.state.selectedSession;selectedSession=item.session;if(selectedSession==0){selectedSession=1;}reverseTreatmentIds=item.treatmentids.reverse().slice(0,selectedSession);_context11.next=7;return _this.setState({treatmentIds:reverseTreatmentIds,selectedSession:selectedSession});case 7:_this.setState({isOpenReversal:true});case 8:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x11){return _ref15.apply(this,arguments);};}();_this.handleReverse=function(item,index){var tstaffList=_this.state.tstaffList;tstaffList[index]['rev']=true;_this.setState({tstaffList:tstaffList});// onClick={this.handleReversalTreatment}\n};_this.changeIndexSession=function(index,value){var tstaffList=_this.state.tstaffList;tstaffList[index]['session']=value;_this.setState({tstaffList:tstaffList});// onClick={this.handleReversalTreatment}\n};_this.toggle=function(tab){if(_this.state.activeMenu!==tab){_this.setState({activeMenu:tab});}};return _this;}_createClass(TreatmentDoneClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,_this$state7$tstaffLi=_this$state7.tstaffList,tstaffList=_this$state7$tstaffLi===void 0?[]:_this$state7$tstaffLi,selectedYear=_this$state7.selectedYear,yearList=_this$state7.yearList,isOpenTreatmentDone=_this$state7.isOpenTreatmentDone,headerDetails=_this$state7.headerDetails,tsStaff=_this$state7.tsStaff,isOpenReversal=_this$state7.isOpenReversal,treatmentIds=_this$state7.treatmentIds,activeMenu=_this$state7.activeMenu;var localtStaffList=_toConsumableArray(tstaffList);var basicApptDetail=this.props.basicApptDetail;return/*#__PURE__*/React.createElement(\"div\",{className:\"treatmentDone-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"beautesoft-navlink customer-detail mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filled-tabs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tabs-block\"},/*#__PURE__*/React.createElement(Nav,{tabs:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:this.state.activeMenu===\"treatmentdone\"}),onClick:function onClick(){_this2.toggle(\"treatmentdone\");}},\"Treatment Done\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:this.state.activeMenu===\"treatmenthistory\"}),onClick:function onClick(){_this2.toggle(\"treatmenthistory\");}},\"Treatment History\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"fs-15 clear-line\",label:\"Back\",outline:false,onClick:function onClick(){return history.push(\"/admin/cart\");}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"treatment-section ml-1 p-2 pr-0\"},/*#__PURE__*/React.createElement(TabContent,{activeTab:this.state.activeMenu},/*#__PURE__*/React.createElement(TabPane,{tabId:\"treatmentdone\"},activeMenu===\"treatmentdone\"?/*#__PURE__*/React.createElement(\"div\",{className:\"row treatment-done-new p-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10 header\"},/*#__PURE__*/React.createElement(\"p\",{className:\"fs-18 font-700 mb-3 title\"},\"Available Treatments\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex select-year\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pl-0 mb-2 name fs-16 py-2\"},\"Select Year\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:yearList,value:selectedYear,name:\"selectedYear\",onChange:this.handleYearChange,className:\"selected-year mb-2 py-0\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 cart-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination// pageMeta={pageMeta}\n// isEmpty={tstaffList.length === 0 ? true:false}\n},tstaffList.length>0?tstaffList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative status-type\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.treatment_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.course)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.transacno_ref)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.unit_amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.treatment_code)),/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.td)),/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.rev)),/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.open)),/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.ar)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",style:{width:\"50px\"},value:item.session,onChange:function onChange(e){return _this2.changeIndexSession(index,e.target.value);}})),/*#__PURE__*/React.createElement(\"td\",{style:{width:\"50px\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"btnRedeem\",onClick:function onClick(){return _this2.handleAddstaff(item);}},\"Select\")),/*#__PURE__*/React.createElement(\"td\",{style:{width:\"50px\"}},item.iscurrentloggedinsalon&&/*#__PURE__*/React.createElement(\"button\",{className:\"btnReversal\",onClick:function onClick(){return _this2.handleReversalTreatment(item);}},\"Select\")));}):\"\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pt-4 action-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-7 d-flex\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\" fs-15 confirm\",label:\"Confirm Treatment Done\",outline:false,onClick:function onClick(){return _this2.handleCartCreated();}})))))),/*#__PURE__*/React.createElement(NormalModal,{className:\"transaction-done-reversal\",style:{minWidth:\"1160px\"},modal:isOpenReversal,handleModal:this.handleDialog},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(Reversal,{id:basicApptDetail.custId,treatmentId:tsStaff.id,reversalId:treatmentIds,cartId:this.props.id,handleModal:this.handleDialog})),/*#__PURE__*/React.createElement(NormalModal,{className:\"transaction-done-modal\",style:{minWidth:\"760px\"},modal:isOpenTreatmentDone,handleModal:this.handleDialog},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(SelectStaff,{id:this.state.selectedItemTreatmentIds//id={tsStaff.id} \n,session:this.state.selectedSession,cartId:basicApptDetail.cartId,handleModal:this.handleDialog}))):null),/*#__PURE__*/React.createElement(TabPane,{tabId:\"treatmenthistory\"},activeMenu===\"treatmenthistory\"?/*#__PURE__*/React.createElement(\"div\",{className:\"row treatment-done-new p-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TreatmentHistoryCart,{customerNumber:basicApptDetail.custId}))):null))));}}]);return TreatmentDoneClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{selected_cstomer:state.common.selected_cstomer,basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({// getCustomer,\ngetCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var TreatmentDone=connect(mapStateToProps,mapDispatchToProps)(TreatmentDoneClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/treatmentDone/treatment.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","NormalCheckbox","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","SimpleReactValidator","SelectStaff","Reversal","service","closeIcon","FormGroup","Label","Input","TreatmentHistoryCart","Nav","NavItem","NavLink","TabContent","TabPane","classnames","TreatmentDoneClass","state","tstaffList","headerDetails","label","sortKey","width","yearList","selectedYear","isOpenTreatmentDone","tsStaff","workPoint","isOpenReversal","checkBoxConfirmReversal","selectedSession","selectedItemTreatmentIds","activeMenu","componentWillMount","validator","element","message","autoForceUpdate","props","then","key","status","data","value","push","setState","getCart","handleCheckboxChangeWithNormalCheckBox","item","newArray","target","name","includes","filter","day","console","log","roomList","sourceList","staffList","cartData","duration","basicApptDetail","custId","handleYearChange","getDataFromRes","formFields","updateFields","postFields","Item","Price","Room","Source","add_duration","new_remark","times","work_point","handleSubmit","id","handleDialog","handleSearch","event","persist","debouncedFn","debounce","searchString","customerOption","handleSelectCustomer","cust_name","isOpenCustomer","handleCartCreated","price","payload","reverseTreatmentIds","treatmentids","reverse","sel","obj","Date","stockid","unit_amount","TreatmentAccountid","slice","session","test","res","length","activeTab","isOpenPriceModal","cart_id","handleCheckout","isOpenPayment","handleChange","handlePostChange","handleUpdateChange","handleAddstaff","unit_rate","qualifiedAmount","balance","alert","handleUpdatestaff","index","appt_fr_time","handleClearLine","cartId","handleClearAll","handleReversalTreatmentAll","treatmentIds","handleReversalTreatment","handleReverse","changeIndexSession","toggle","tab","localtStaffList","active","handlePagination","map","treatment_date","course","transacno_ref","treatment_code","td","rev","open","ar","e","iscurrentloggedinsalon","minWidth","mapStateToProps","selected_cstomer","common","appointment","mapDispatchToProps","dispatch","TreatmentDone"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper, NormalCheckbox } from 'component/common';\r\nimport { dateFormat } from 'service/helperFunctions';\r\nimport _ from 'lodash';\r\nimport { history } from 'helpers';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\"\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport { SelectStaff } from './treatmentDone';\r\nimport { Reversal } from './reversal';\r\nimport service from 'assets/images/make-up-brush.png';\r\n// import Discount from './cart/discount';\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { TreatmentHistoryCart } from \"./TreatmentHistoryCart\";\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\r\nimport classnames from \"classnames\";\r\n\r\n\r\nexport class TreatmentDoneClass extends Component {\r\n    state = {\r\n        tstaffList: [],\r\n        headerDetails: [\r\n            { label: 'Date', sortKey: false, width: \"110px\" },\r\n            { label: 'Treatment', width: \"120px\" },\r\n            { label: 'Trans Ref', sortKey: false, width: \"50px\" },\r\n           \r\n            //{ label: 'Type', sortKey: false, width: \"55px\" },\r\n           // { label: 'Exp-Date', sortKey: false, width: \"80px\" },\r\n            { label: 'Amount', sortKey: false, width: \"50px\" },\r\n            \r\n           \r\n            { label: 'Treat-Code', sortKey: false, width: \"105px\" },\r\n            { label: 'TD', sortKey: false, width: \"55px\" },\r\n            { label: 'Rev', sortKey: false, width: \"55px\" },\r\n            { label: 'Open', sortKey: false, width: \"55px\" },\r\n            { label: 'AR', sortKey: false, width: \"35px\" },\r\n            { label: 'Session', sortKey: false, width: \"55px\" },\r\n            { label: 'Redeem', sortKey: false, width: \"55px\" },\r\n            { label: 'Reversal', sortKey: false, width: \"55px\" },\r\n\r\n\r\n        ],\r\n        // cartData: {},\r\n        yearList: [],\r\n        selectedYear: 2021,\r\n        isOpenTreatmentDone: false,\r\n        tsStaff: {},\r\n        workPoint: 0,\r\n        isOpenReversal: false,\r\n        checkBoxConfirmReversal: [],\r\n        selectedSession:\"\",\r\n        selectedItemTreatmentIds:[],\r\n        activeMenu: \"treatmentdone\",\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        this.validator = new SimpleReactValidator({\r\n            element: message => <span className=\"error-message text-danger validNo fs14\">{message}</span>,\r\n            autoForceUpdate: this,\r\n        });\r\n        this.props.getCommonApi('treatmentdone/Year/').then((key) => {\r\n            let { status, data } = key;\r\n            let { yearList } = this.state;\r\n            for (let value of data) {\r\n                yearList.push({ value: value, label: value })\r\n            }\r\n            this.setState({ yearList })\r\n        })\r\n\r\n        this.getCart();\r\n\r\n    }\r\n      handleCheckboxChangeWithNormalCheckBox = (item) => {\r\n        let newArray = [...this.state.checkBoxConfirmReversal, item.target.name];\r\n        if (this.state.checkBoxConfirmReversal.includes(item.target.name)) {\r\n          newArray = newArray.filter(day => day !== item.target.name);\r\n        }\r\n        this.setState({\r\n          checkBoxConfirmReversal: newArray\r\n        });\r\n      };\r\n    getCart = async () => {\r\n        console.log(this.props, \"sfgdfsgdfghgf\")\r\n        let { roomList, sourceList, staffList, cartData, duration, tstaffList, selectedYear } = this.state;\r\n        let { custId = 50270 } = this.props.basicApptDetail\r\n        this.props.getCommonApi(`treatmentdone/?year=${selectedYear}&cust_id=${custId}`).then(async(key) => {\r\n            cartData = key;\r\n            await this.setState({tstaffList:[]})\r\n            tstaffList = key.data;\r\n            this.setState({ tstaffList });\r\n        })\r\n    }\r\n\r\n    handleYearChange = async ({ target: { value, name } }) => {\r\n        let { selectedYear } = this.state;\r\n        selectedYear = value;\r\n        await this.setState({\r\n            selectedYear\r\n        })\r\n        this.getCart();\r\n    }\r\n\r\n    getDataFromRes = (data) => {\r\n        let { formFields, cartData, updateFields, postFields } = this.state;\r\n        formFields['Item'] = data.value.Item;\r\n        formFields['Price'] = data.value.Price;\r\n        formFields['Room'] = data.value.Room;\r\n        updateFields['Room'] = data.value.Room;\r\n        formFields['Source'] = data.value.Source;\r\n        updateFields['Source'] = data.value.Source;\r\n        formFields['add_duration'] = data.value.add_duration;\r\n        formFields['new_remark'] = data.value.new_remark;\r\n        updateFields['new_remark'] = data.value.new_remark;\r\n        postFields['times'] = data.value.times;\r\n        postFields['work_point'] = data.value.work_point;\r\n        this.setState({\r\n            formFields,\r\n            updateFields,\r\n            postFields\r\n        })\r\n    }\r\n\r\n\r\n    // getYearList = (data) => {\r\n    //     let date = new Date().getFullYear();\r\n\r\n    //     let { yearList } = this.state;\r\n    //     for (let i = date; i > 1970; i--) {\r\n    //         yearList.push({ label: i, value: i });\r\n    //     }\r\n    //     this.setState({\r\n    //         yearList\r\n    //     })\r\n    // }\r\n\r\n    handleSubmit = (id) => {\r\n\r\n    }\r\n\r\n    handleDialog = () => {\r\n        this.setState({\r\n            isOpenTreatmentDone: false,\r\n            isOpenReversal: false,\r\n            checkBoxConfirmReversal:[]\r\n        });\r\n        this.getCart();\r\n    }\r\n\r\n    handleSearch = (event) => {\r\n        event.persist();\r\n\r\n        if (!this.debouncedFn) {\r\n            this.debouncedFn = _.debounce(() => {\r\n                let searchString = event.target.value;\r\n                this.props.getCommonApi(`custappt/?search=${searchString}`).then((key) => {\r\n\r\n                    let { status, data } = key;\r\n                    if (status === 200) {\r\n                        // for (let value of data) {\r\n                        //     customerList.push({ value: value.id, label: value.emp_name })\r\n                        // }\r\n                        this.setState({ customerOption: data })\r\n                    }\r\n                })\r\n            }, 500);\r\n        }\r\n        this.debouncedFn();\r\n    }\r\n\r\n    handleSelectCustomer = async (data) => {\r\n        let { formFields } = this.state;\r\n        formFields[\"custId\"] = data.id;\r\n        formFields[\"custName\"] = data.cust_name;\r\n        this.setState({ formFields, isOpenCustomer: false, customerOption: [] });\r\n        await this.props.updateForm('basicApptDetail', formFields)\r\n        console.log(this.props.basicApptDetail, \"sdfsadfasdf\")\r\n    }\r\n\r\n    handleCartCreated = (data, price, id) => {\r\n        let { basicApptDetail } = this.props;\r\n        let { tstaffList } = this.state;\r\n        let payload = []\r\n\r\n        for(let key of tstaffList){\r\n            let reverseTreatmentIds=[];\r\n            reverseTreatmentIds= key.treatmentids.reverse();\r\n            if(key.sel===true){\r\n                let obj =   {\r\n                    \"cust_noid\": basicApptDetail.custId,\r\n                    \"cart_date\" : dateFormat(new Date(), \"yyyy-mm-dd\"),\r\n                    \"itemcodeid\": key.stockid,  \r\n                    \"price\" : key.unit_amount,\r\n                    \"item_uom\" : null,\r\n                    \"treatment_account\" : key.TreatmentAccountid,\r\n                    \"treatment\": reverseTreatmentIds.slice(0, key.session),\r\n                    \"ori_stockid\": null,\r\n                }\r\n                payload.push(obj);\r\n            }\r\n        }\r\n\r\n        let test =payload;\r\n        console.log(\"payload-data\",test);\r\n        this.props.getCommonApi(`itemcart/Check/?cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${basicApptDetail.custId}`).then((res) => {\r\n            if (res.data.length === 0) {\r\n                this.props.commonCreateApi(\"itemcart/TrmtDoneCartCreate/\", payload).then((res) => {\r\n                    // this.props.handleCartCreated()\r\n                    this.setState({ activeTab: \"treatment\", isOpenPriceModal: false })\r\n                    history.push('/admin/cart');\r\n                })\r\n            } else {\r\n                this.props.commonCreateApi(`itemcart/TrmtDoneCartCreate/?cart_id=${res.cart_id}`, payload).then((res) => {\r\n                    // this.props.handleCartCreated()\r\n                    this.setState({ activeTab: \"treatment\", isOpenPriceModal: false })\r\n                    history.push('/admin/cart');\r\n                })\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    handleCheckout = () => {\r\n        let { isOpenPayment } = this.state;\r\n        isOpenPayment = true;\r\n        this.setState({ isOpenPayment });\r\n    }\r\n\r\n    handleChange = async ({ target: { value, name } }) => {\r\n        let { formFields } = this.state;\r\n        formFields[name] = value;\r\n        await this.setState({\r\n            formFields,\r\n        });\r\n        // this.props.updateForm('customerDetail', formFields)\r\n        // await this.props.updateForm('appointmentCustomerDetail', formFields)\r\n    };\r\n\r\n    handlePostChange = async ({ target: { value, name } }) => {\r\n        let { postFields } = this.state;\r\n        postFields[name] = value;\r\n        await this.setState({\r\n            postFields,\r\n        });\r\n    }\r\n\r\n    handleUpdateChange = async ({ target: { value, name } }) => {\r\n        let { updateFields } = this.state;\r\n        updateFields[name] = value;\r\n        await this.setState({\r\n            updateFields,\r\n        });\r\n        let event = { target: { value: value, name: name } }\r\n        // this.handleUpdatestaff(event);\r\n    }\r\n\r\n    handleAddstaff = async (item) => {\r\n        let { tstaffList,selectedSession,selectedItemTreatmentIds } = this.state;\r\n        selectedSession=item.session;\r\n        let reverseTreatmentIds=[];\r\n            reverseTreatmentIds= item.treatmentids.reverse();\r\n\r\n        if(selectedSession==0)\r\n        {\r\n            selectedSession=1;\r\n        }\r\n        selectedItemTreatmentIds=reverseTreatmentIds.slice(0, selectedSession);\r\n        var unit_rate =item.unit_amount;\r\n        var qualifiedAmount=selectedSession*unit_rate;\r\n        this.setState({selectedSession,selectedItemTreatmentIds});\r\n        \r\n       /* let test=0;\r\n        const currentParentCodeBalance = tstaffList.filter(\r\n            (res) => res.treatment_parentcode ===  item.treatment_parentcode\r\n          ).reduce((sum, currentValue) => {\r\n            return  currentValue.balance;\r\n          }, 0);\r\n        const currentParentCodeSelectedStaffValue = tstaffList.filter(\r\n            (res) => res.treatment_parentcode ===  item.treatment_parentcode && res.staff!=null\r\n            ).reduce((sum, currentValue) => {\r\n                return parseFloat((eval(sum))) + parseFloat((eval(currentValue.unit_amount)));\r\n              }, 0);\r\n        \r\n        if(item.staff==null)\r\n        {\r\n            test=parseFloat((eval(currentParentCodeSelectedStaffValue))) + parseFloat((eval(item.unit_amount))) ;\r\n        }\r\n        else{\r\n            test=parseFloat((eval(currentParentCodeSelectedStaffValue))) - parseFloat((eval(item.unit_amount))) ;\r\n        }\r\n        */\r\n        \r\n        //if (currentParentCodeBalance >= test) {\r\n        if(item.balance>=qualifiedAmount){\r\n          let { tstaffList, formFields, cartData, postFields } = this.state;\r\n          await this.setState({ tsStaff: item });\r\n          this.setState({\r\n            isOpenTreatmentDone: true,\r\n          });\r\n        }\r\n        else{\r\n            this.handleDialog();\r\n            alert(\"Insufficient balance to redeem\");\r\n        }\r\n      };\r\n\r\n    handleUpdatestaff = async (event, item, index) => {\r\n        let { tstaffList, formFields, cartData, updateFields } = this.state;\r\n        tstaffList[index][event.target.name] = event.target.value;\r\n        this.setState({\r\n            tstaffList\r\n        })\r\n        let data = {}\r\n        if (event.target.name === \"appt_fr_time\") {\r\n            data = {\r\n                appt_fr_time: event.target.value,\r\n                add_duration: formFields['add_duration']\r\n            }\r\n        }\r\n        if (event.target.name === \"add_duration\") {\r\n            data = {\r\n                appt_fr_time: item.appt_fr_time,\r\n                add_duration: event.target.value\r\n            }\r\n        }\r\n\r\n        // if (updateFields.Source && updateFields.Room) {\r\n        this.props.commonPatchApi(`tmpitemhelper/${item.id}/?Room_Codeid=${updateFields.Room}&Source_Codeid=${updateFields.Source}&new_remark=${updateFields.new_remark}`, data).then(() => {\r\n            this.getCart();\r\n        })\r\n        // } else {\r\n        //     this.setState({ showUpdateError: true })\r\n        // }\r\n    }\r\n\r\n    handleClearLine = () => {\r\n        this.props.commonDeleteApi(`tmpitemhelper/delete/?clear_all=0&cartid=${this.props.cartId}`).then(() => {\r\n            this.getCart();\r\n        })\r\n    }\r\n\r\n    handleClearAll = () => {\r\n        this.props.commonDeleteApi(`tmpitemhelper/delete/?clear_all=1&cartid=${this.props.cartId}`).then(() => {\r\n            let { formFields, postFields } = this.state;\r\n            formFields[\"work_point\"] = \"\";\r\n            postFields['times'] = \"\";\r\n            this.setState({\r\n                formFields,\r\n                postFields\r\n            });\r\n            this.getCart();\r\n\r\n        })\r\n    }\r\n    handleReversalTreatmentAll = async () => {\r\n        let treatmentIds = this.state.checkBoxConfirmReversal\r\n\r\n        await this.setState({\r\n            treatmentIds\r\n        });\r\n\r\n        this.setState({\r\n            isOpenReversal: true,\r\n        });\r\n    }\r\n    handleReversalTreatment = async (item) => {\r\n        let reverseTreatmentIds=[];\r\n        let { selectedSession } = this.state;\r\n        selectedSession=item.session;\r\n\r\n        if(selectedSession==0)\r\n        {\r\n            selectedSession=1;\r\n        }\r\n        reverseTreatmentIds= item.treatmentids.reverse().slice(0, selectedSession);\r\n        await this.setState({\r\n            treatmentIds:reverseTreatmentIds,\r\n            selectedSession\r\n        });\r\n\r\n        this.setState({\r\n            isOpenReversal: true,\r\n        });\r\n    }\r\n\r\n    handleReverse = (item, index) => {\r\n        let { tstaffList } = this.state;\r\n        tstaffList[index]['rev'] = true;\r\n        this.setState({\r\n            tstaffList\r\n        })\r\n        // onClick={this.handleReversalTreatment}\r\n    }\r\n    changeIndexSession = (index,value) => {\r\n        let { tstaffList } = this.state;\r\n        tstaffList[index]['session'] = value;\r\n        this.setState({\r\n            tstaffList\r\n        })\r\n        // onClick={this.handleReversalTreatment}\r\n    }\r\n    toggle = tab => {\r\n        if (this.state.activeMenu !== tab) {\r\n          this.setState({\r\n            activeMenu: tab,\r\n          });\r\n        }\r\n      };\r\n    render() {      \r\n        let { tstaffList = [], selectedYear, yearList, isOpenTreatmentDone, headerDetails, tsStaff, isOpenReversal, treatmentIds,activeMenu } = this.state;\r\n        let localtStaffList=[...tstaffList]\r\n        let { basicApptDetail } = this.props;\r\n        return (        \r\n            <div className=\"treatmentDone-menu\">\r\n            <div className=\"row\">\r\n              <div className=\"col-10\">\r\n                <div className=\"beautesoft-navlink customer-detail mt-3\">\r\n                  <div className=\"filled-tabs\">\r\n                    <div className=\"tabs-block\">\r\n                      <Nav tabs>\r\n                        <NavItem>\r\n                          <NavLink\r\n                            className={classnames({\r\n                              active: this.state.activeMenu === \"treatmentdone\",\r\n                            })}\r\n                            onClick={() => {\r\n                              this.toggle(\"treatmentdone\");\r\n                            }}\r\n                          >\r\n                            Treatment Done\r\n                          </NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                          <NavLink\r\n                            className={classnames({\r\n                              active: this.state.activeMenu === \"treatmenthistory\",\r\n                            })}\r\n                            onClick={() => {\r\n                              this.toggle(\"treatmenthistory\");\r\n                            }}\r\n                          >\r\n                            Treatment History\r\n                          </NavLink>\r\n                        </NavItem>\r\n                      </Nav>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"fs-15 clear-line\"\r\n                  label=\"Back\"\r\n                  outline={false}\r\n                  onClick={() => history.push(`/admin/cart`)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"treatment-section ml-1 p-2 pr-0\">\r\n              <TabContent activeTab={this.state.activeMenu}>\r\n                <TabPane tabId=\"treatmentdone\">\r\n                  {activeMenu === \"treatmentdone\" ? (\r\n            <div className=\"row treatment-done-new p-3\">          \r\n                <div className=\"col-10 header\">\r\n                    <p className=\"fs-18 font-700 mb-3 title\">Available Treatments</p>\r\n                    <div className=\"d-flex select-year\">\r\n                        <div className=\"pl-0 mb-2 name fs-16 py-2\">\r\n                            Select Year\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <NormalSelect\r\n                                // placeholder=\"Enter here\"\r\n                                options={yearList}\r\n                                value={selectedYear}\r\n                                name=\"selectedYear\"\r\n                                onChange={this.handleYearChange}\r\n                                className=\"selected-year mb-2 py-0\"\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n           \r\n\r\n\r\n                <div className={`col-12 cart-item`}>\r\n                    <div className={`item-list`}>\r\n\r\n                        <div className=\"table\">\r\n                            <TableWrapper\r\n                                headerDetails={headerDetails}\r\n                                queryHandler={this.handlePagination}\r\n                            // pageMeta={pageMeta}\r\n                            // isEmpty={tstaffList.length === 0 ? true:false}\r\n                            >\r\n                                {tstaffList.length > 0 ? tstaffList.map((item, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td className=\"position-relative status-type\">\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">{item.treatment_date}</div>\r\n                                            </td>\r\n                                            <td><div className=\"d-flex align-items-center justify-content-center\">{item.course}</div></td>\r\n                                            <td>\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">{item.transacno_ref}</div>\r\n                                            </td>\r\n                                            \r\n                                            \r\n                                            <td>\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">{item.unit_amount}</div>\r\n                                            </td>\r\n                                      \r\n                                           \r\n                                            <td>\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">{item.treatment_code}</div>\r\n                                            </td>\r\n                                            <td> <div className=\"d-flex align-items-center justify-content-center\">{item.td}</div></td>\r\n                                            <td> <div className=\"d-flex align-items-center justify-content-center\">{item.rev}</div></td>\r\n                                            <td> <div className=\"d-flex align-items-center justify-content-center\">{item.open}</div></td>\r\n                                            <td> <div className=\"d-flex align-items-center justify-content-center\">{item.ar}</div></td>\r\n                                            <td >\r\n                                                <input type=\"text\"\r\n                                                style={{ width: \"50px\"}}\r\n                                                value={item.session}\r\n                                                onChange={(e) =>\r\n                                                    this.changeIndexSession(index,e.target.value)\r\n                                                }\r\n                                                />\r\n                                            </td>\r\n                                            <td style={{ width:\"50px\"}}>\r\n                                            <button\r\n                                                   className=\"btnRedeem\"\r\n                                                 onClick={() => this.handleAddstaff(item)}\r\n                                                  >\r\n                                                 Select\r\n                                                 </button>\r\n                                            </td>\r\n                                            <td  style={{ width:\"50px\"}}>\r\n                                         \r\n                                            {item.iscurrentloggedinsalon &&\r\n                                            <button className=\"btnReversal\"\r\n                                            onClick={() => this.handleReversalTreatment(item)}>Select</button>\r\n                                                  }\r\n                                            \r\n                                            </td>\r\n                                           \r\n                                        </tr>\r\n                                    )\r\n                                }) : \"\"\r\n                                }\r\n\r\n                            </TableWrapper>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-12 pt-4 action-bar\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-7 d-flex\">\r\n                            {/* <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\"fs-15 clear-line\"\r\n                                label=\"Clear Line\"\r\n                                outline={false}\r\n                                onClick={this.handleClearLine}\r\n                            />\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\"fs-15 clear-all\"\r\n                                label=\"Clear All\"\r\n                                outline={false}\r\n                                onClick={this.handleClearAll}\r\n                            /> */}\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                        <div className=\"row\">\r\n                        <div className=\"col-6 text-right\">\r\n\r\n                             \r\n                                </div>\r\n                            <div className=\"col-6 text-right\">\r\n\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\" fs-15 confirm\"\r\n                                label=\"Confirm Treatment Done\"\r\n                                outline={false}\r\n                                onClick={() => this.handleCartCreated()}\r\n                            />\r\n\r\n                        </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <NormalModal className={\"transaction-done-reversal\"} style={{ minWidth: \"1160px\" }} modal={isOpenReversal} handleModal={this.handleDialog}>\r\n                    <img onClick={this.handleDialog} className=\"close cursor-pointer\" src={closeIcon} alt=\"\" />\r\n                    <Reversal id={basicApptDetail.custId} treatmentId={tsStaff.id} reversalId={treatmentIds} cartId={this.props.id} handleModal={this.handleDialog}></Reversal>\r\n                </NormalModal>\r\n                <NormalModal className={\"transaction-done-modal\"} style={{ minWidth: \"760px\" }} modal={isOpenTreatmentDone} handleModal={this.handleDialog}>\r\n                    <img onClick={this.handleDialog} className=\"close cursor-pointer\" src={closeIcon} alt=\"\" />\r\n                    <SelectStaff \r\n                    id={this.state.selectedItemTreatmentIds}\r\n                    //id={tsStaff.id} \r\n                    session={this.state.selectedSession}\r\n                    cartId={basicApptDetail.cartId}  \r\n                    handleModal={this.handleDialog}></SelectStaff>\r\n                </NormalModal>\r\n            </div>\r\n             ) : null}\r\n             </TabPane>\r\n             <TabPane tabId=\"treatmenthistory\">\r\n               {activeMenu === \"treatmenthistory\" ? (\r\n                 <div className=\"row treatment-done-new p-3\">\r\n                   <div className=\"table\">\r\n                     <TreatmentHistoryCart\r\n                       customerNumber={basicApptDetail.custId}\r\n                     />\r\n                   </div>\r\n                 </div>\r\n               ) : null}\r\n             </TabPane>\r\n           </TabContent>\r\n         </div>\r\n       </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    selected_cstomer: state.common.selected_cstomer,\r\n    basicApptDetail: state.appointment.basicApptDetail,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        // getCustomer,\r\n        getCommonApi,\r\n        updateForm,\r\n        commonCreateApi,\r\n        commonPatchApi,\r\n        commonDeleteApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const TreatmentDone = connect(mapStateToProps, mapDispatchToProps)(TreatmentDoneClass)"]},"metadata":{},"sourceType":"module"}