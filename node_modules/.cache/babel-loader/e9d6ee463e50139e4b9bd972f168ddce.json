{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Customer\\\\CustomerDetails\\\\HoldSection\\\\modal\\\\issuedStaff.js\";\nimport React, { Component } from 'react';\nimport \"./style.scss\";\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper } from 'component/common';\nimport { dateFormat } from 'service/helperFunctions';\nimport _ from 'lodash';\nimport { history } from 'helpers';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\";\nimport SimpleReactValidator from 'simple-react-validator';\nimport closeIcon from 'assets/images/close.png';\nimport { Toast } from 'service/toast';\nexport class IssuedStaffClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: false,\n      currentIndex: -1,\n      headerDetails: [{\n        label: 'Employee name',\n        sortKey: false,\n        width: \"130px\"\n      }],\n      staffList: [],\n      page: 1,\n      holdData: {\n        id: 0,\n        hi_itemdesc: '',\n        holditemqty: 0,\n        issueQty: 0,\n        issuedstaff: '',\n        emp_id: 0,\n        emp_name: ''\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.props.getCommonApi(`holditem/${this.props.holdItem.id}`).then(key => {\n        let {\n          data\n        } = key;\n        let holdData = Object.assign({}, this.state.holdData);\n        holdData[\"id\"] = data.id;\n        holdData[\"hi_itemdesc\"] = data.hi_itemdesc;\n        holdData[\"holditemqty\"] = data.holditemqty;\n        holdData[\"issueQty\"] = this.props.holdItem.qty_issued;\n        holdData[\"issuedstaff\"] = this.props.holdItem.staff_issued;\n        holdData[\"emp_name\"] = this.props.holdItem.emp_name;\n        holdData[\"emp_id\"] = this.props.holdItem.emp_id;\n        this.setState({\n          holdData\n        });\n      });\n    };\n\n    this.componentWillMount = () => {\n      this.validator = new SimpleReactValidator({\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 33\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n      this.getStaffList();\n    };\n\n    this.handleInput = ({\n      target: {\n        name,\n        value,\n        index\n      }\n    }) => {\n      let holdData = Object.assign({}, this.state.holdData);\n      holdData[index][name] = value;\n      this.setState({\n        holdData\n      });\n    };\n\n    this.getStaffList = () => {\n      this.props.getCommonApi(`empcartlist/?sales_staff=2&page=${this.state.page}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            staffList: data.dataList\n          });\n        }\n      });\n    };\n\n    this.handleNext = async () => {\n      let {\n        page\n      } = this.state;\n      page = page + 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStaffList();\n      }\n    };\n\n    this.handleBack = async () => {\n      let {\n        page\n      } = this.state;\n      page = page - 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStaffList();\n      }\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let holdData = Object.assign({}, this.state.holdData);\n      holdData[name] = value;\n      this.setState({\n        holdData\n      });\n    };\n\n    this.handleissuedconfirm = event => {\n      event.preventDefault();\n      let {\n        holdData\n      } = this.state;\n\n      if (isNaN(holdData.issueQty) || holdData.issueQty <= 0 || holdData.issueQty == null || holdData.issueQty == \"\") {\n        Toast({\n          type: \"error\",\n          message: 'invalid issue quantity'\n        });\n        return false;\n      } else if (holdData.issueQty > holdData.holditemqty) {\n        Toast({\n          type: \"error\",\n          message: 'issue quantity should be less than or equal to hold quantity'\n        });\n        return false;\n      } else if (holdData.emp_id == 0 || holdData.emp_id == '' || holdData.emp_id == null) {\n        Toast({\n          type: \"error\",\n          message: 'please select staff'\n        });\n        return false;\n      } else {\n        this.props.issuedlistupdate(holdData);\n        this.props.issuedlisttableupdate(holdData);\n        this.setState({\n          holdData: {}\n        });\n        this.props.toggle();\n      }\n    };\n\n    this.handleSelect_Staff = staff => {\n      let holdData = Object.assign({}, this.state.holdData);\n      holdData[\"emp_name\"] = staff.emp_name;\n      holdData[\"emp_id\"] = staff.id;\n      this.setState({\n        holdData\n      });\n    };\n\n    this.handleClearLine = () => {\n      let holdData = Object.assign({}, this.state.holdData);\n      holdData[\"emp_name\"] = '';\n      holdData[\"emp_id\"] = '';\n      this.setState({\n        holdData\n      });\n    };\n  }\n\n  render() {\n    let {\n      staffList = [],\n      headerDetails,\n      holdData = {}\n    } = this.state;\n    let {\n      isIssued\n    } = this.props;\n    let {\n      hi_itemdesc,\n      holditemqty,\n      issueQty,\n      emp_id,\n      emp_name\n    } = holdData;\n    return /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"560px\"\n      },\n      modal: isIssued,\n      handleModal: this.props.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.props.toggle,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart issued-staff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"fs-18 font-700 mb-3 title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, \"Select Staff\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-2 form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 33\n      }\n    }, \"Item\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: hi_itemdesc,\n      name: \"hi_itemdesc\",\n      onChange: this.handleChange,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-2 form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }, \"Hold Qty\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: holditemqty,\n      name: \"holditemqty\",\n      onChange: this.handleChange,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-2 form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 29\n      }\n    }, \"Issue Qty\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: issueQty,\n      name: \"issueQty\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 33\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `col-12 cart-item emp-image`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `staff-listing d-flex emp-list`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"forward-button cursor-pointer\",\n      onClick: this.handleBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"6\",\n      height: \"10\",\n      viewBox: \"0 0 6 10\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M5 0.5L1 5L5 9.5\",\n      stroke: \"#888888\",\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }))), staffList.length > 0 ? staffList.map(staff => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mx-1 staff-list cursor-pointer \",\n        key: staff.id,\n        onClick: () => this.handleSelect_Staff(staff),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"img emp\",\n        src: staff.emp_pic,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 41\n        }\n      }, staff.emp_name));\n    }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back-button cursor-pointer\",\n      onClick: this.handleNext,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"5\",\n      height: \"10\",\n      viewBox: \"0 0 5 10\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0.5 9.5L4.5 5L0.5 0.5\",\n      stroke: \"#888888\",\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 33\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 cart-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 29\n      }\n    }, holdData.emp_id ? /*#__PURE__*/React.createElement(\"tr\", {\n      key: emp_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: emp_name,\n      name: \"issueQty\",\n      onChange: this.handleChange,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 37\n      }\n    }))))) : \"\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pt-4 action-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-flex text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"fs-15 clear-line\",\n      label: \"Clear Line\",\n      outline: false,\n      onClick: this.handleClearLine,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-flex text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \" fs-15 confirm\",\n      label: \"Done\",\n      outline: false,\n      onClick: event => this.handleissuedconfirm(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 29\n      }\n    }))))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    // getCustomer,\n    getCommonApi,\n    updateForm,\n    commonCreateApi,\n    commonPatchApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const IssuedStaff = connect(null, mapDispatchToProps)(IssuedStaffClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Customer/CustomerDetails/HoldSection/modal/issuedStaff.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","SimpleReactValidator","closeIcon","Toast","IssuedStaffClass","state","isOpen","currentIndex","headerDetails","label","sortKey","width","staffList","page","holdData","id","hi_itemdesc","holditemqty","issueQty","issuedstaff","emp_id","emp_name","componentDidMount","props","holdItem","then","key","data","Object","assign","qty_issued","staff_issued","setState","componentWillMount","validator","element","message","autoForceUpdate","getStaffList","handleInput","target","name","value","index","status","dataList","handleNext","handleBack","handleChange","handleissuedconfirm","event","preventDefault","isNaN","type","issuedlistupdate","issuedlisttableupdate","toggle","handleSelect_Staff","staff","handleClearLine","render","isIssued","minWidth","length","map","emp_pic","handlePagination","mapDispatchToProps","dispatch","IssuedStaff"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./style.scss\";\r\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper } from 'component/common';\r\nimport { dateFormat } from 'service/helperFunctions';\r\nimport _ from 'lodash';\r\nimport { history } from 'helpers';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\"\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport closeIcon from 'assets/images/close.png';\r\nimport { Toast } from 'service/toast';\r\n\r\n\r\nexport class IssuedStaffClass extends Component {\r\n    state = {\r\n        isOpen: false,\r\n        currentIndex: -1,     \r\n        headerDetails: [\r\n            { label: 'Employee name', sortKey: false, width: \"130px\" },\r\n        ],       \r\n        staffList: [],        \r\n        page:1,\r\n        holdData: \r\n        {   id: 0,\r\n            hi_itemdesc: '',\r\n            holditemqty: 0,\r\n            issueQty: 0,\r\n            issuedstaff: '', \r\n            emp_id: 0,\r\n            emp_name: '',    \r\n         }\r\n        \r\n    }    \r\n    componentDidMount = () => {    \r\n        \r\n        this.props.getCommonApi(`holditem/${this.props.holdItem.id}`).then((key) => {\r\n            let { data } = key;\r\n            let holdData = Object.assign({}, this.state.holdData);\r\n            holdData[\"id\"] = data.id;\r\n            holdData[\"hi_itemdesc\"] = data.hi_itemdesc;\r\n            holdData[\"holditemqty\"] = data.holditemqty;\r\n            holdData[\"issueQty\"] = this.props.holdItem.qty_issued;\r\n            holdData[\"issuedstaff\"] =  this.props.holdItem.staff_issued;\r\n            holdData[\"emp_name\"] = this.props.holdItem.emp_name;\r\n            holdData[\"emp_id\"] = this.props.holdItem.emp_id;\r\n            this.setState({ holdData })\r\n        })\r\n      }\r\n    componentWillMount = () => {\r\n        this.validator = new SimpleReactValidator({\r\n            element: message => <span className=\"error-message text-danger validNo fs14\">{message}</span>,\r\n            autoForceUpdate: this,\r\n        });              \r\n        this.getStaffList();  \r\n    }\r\n   \r\n    handleInput = ({ target: { name, value, index } }) => {\r\n\r\n        let holdData = Object.assign({}, this.state.holdData)\r\n        holdData[index][name] = value;\r\n        this.setState({\r\n            holdData\r\n        })\r\n    }\r\n    \r\n    getStaffList = () => {\r\n        \r\n        this.props.getCommonApi(`empcartlist/?sales_staff=2&page=${this.state.page}`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                this.setState({ staffList:data.dataList })\r\n            }\r\n        })\r\n    }\r\n\r\n    handleNext = async () => {\r\n        let { page } = this.state;\r\n        page = page + 1;\r\n        await this.setState({\r\n            page\r\n        })\r\n        if (page > 0) {\r\n            this.getStaffList();\r\n        }\r\n    }\r\n\r\n    handleBack = async () => {\r\n        let { page } = this.state;\r\n        page = page - 1;\r\n        await this.setState({\r\n            page\r\n        })\r\n        if (page > 0) {\r\n            this.getStaffList();\r\n        }\r\n    }\r\n\r\n      handleChange = ({ target: { value, name } }) => {\r\n        let holdData = Object.assign({}, this.state.holdData);\r\n        holdData[name] = value;\r\n        this.setState({\r\n            holdData,\r\n        });\r\n    };\r\n\r\n    handleissuedconfirm = (event) => {\r\n        event.preventDefault();\r\n        let { holdData } = this.state;\r\n        \r\n            if (isNaN(holdData.issueQty) || holdData.issueQty <= 0 || holdData.issueQty == null || holdData.issueQty == \"\") {\r\n                Toast({ type: \"error\", message: 'invalid issue quantity' })\r\n                return false;\r\n            }            \r\n            else if (holdData.issueQty > holdData.holditemqty) {\r\n                Toast({ type: \"error\", message: 'issue quantity should be less than or equal to hold quantity' })\r\n                return false;\r\n            }\r\n            else if (holdData.emp_id == 0 || holdData.emp_id == '' || holdData.emp_id == null ) {\r\n                Toast({ type: \"error\", message: 'please select staff' })\r\n                return false;\r\n            }\r\n            else {\r\n                this.props.issuedlistupdate(holdData);\r\n                this.props.issuedlisttableupdate(holdData);\r\n                this.setState({\r\n                    holdData : {}\r\n                })\r\n                this.props.toggle();\r\n            }\r\n        }\r\n    \r\n        handleSelect_Staff = (staff) => {\r\n            let holdData = Object.assign({}, this.state.holdData);\r\n            holdData[\"emp_name\"] = staff.emp_name;\r\n            holdData[\"emp_id\"] = staff.id;\r\n            this.setState({\r\n            holdData,\r\n            });\r\n        \r\n        }\r\n\r\n        handleClearLine = () => {\r\n            let holdData = Object.assign({}, this.state.holdData);\r\n            holdData[\"emp_name\"] = '';\r\n            holdData[\"emp_id\"] = '';\r\n            this.setState({\r\n            holdData,\r\n            });\r\n        } \r\n\r\n    render() {\r\n        let { staffList = [], headerDetails, holdData = {}} = this.state;\r\n        let { isIssued } = this.props;\r\n        let {hi_itemdesc, holditemqty, issueQty, emp_id, emp_name } = holdData;\r\n        \r\n     return (\r\n        <NormalModal  style={{ minWidth: \"560px\" }} modal ={isIssued} handleModal={this.props.toggle} >\r\n                <img onClick={this.props.toggle} className=\"close\" src={closeIcon} alt=\"\" />\r\n            <div className=\"row new-cart issued-staff\">\r\n                <div className=\"col-12\">\r\n                    <p className=\"fs-18 font-700 mb-3 title\">Select Staff</p>\r\n                </div>\r\n                \r\n                <div className=\"col-12 mb-2 form-group\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                                Item\r\n                            </label>\r\n                                <div className=\"input-group\">\r\n                                    <NormalInput\r\n                                        placeholder=\"\"\r\n                                        value={hi_itemdesc}\r\n                                        name=\"hi_itemdesc\"\r\n                                        onChange={this.handleChange}\r\n                                        disabled ={true}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n                <div className=\"col-12 mb-2 form-group\">\r\n                    <div className=\"row\">\r\n                            <div className=\"col-6\">\r\n                                <label className=\"text-left text-black common-label-text \">\r\n                                Hold Qty\r\n                                </label>                  \r\n                                <div className=\"input-group\">\r\n                                <NormalInput\r\n                                        placeholder=\"\"\r\n                                        value={holditemqty}\r\n                                        name=\"holditemqty\"\r\n                                        onChange={this.handleChange}\r\n                                        disabled={true}\r\n                                    />                  \r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n                </div>                   \r\n \r\n                    <div className=\"col-12 mb-2 form-group\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-6\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Issue Qty\r\n                            </label>\r\n                            <div className=\"input-group\">\r\n                                <NormalInput\r\n                                    value={issueQty}\r\n                                    name=\"issueQty\"\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={`col-12 cart-item emp-image`}>\r\n                        <div className={`staff-listing d-flex emp-list`}>\r\n                            <div className=\"forward-button cursor-pointer\" onClick={this.handleBack}>\r\n                                <svg width=\"6\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path d=\"M5 0.5L1 5L5 9.5\" stroke=\"#888888\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                                </svg>\r\n                            </div>\r\n                            {\r\n                                staffList.length>0 ? staffList.map((staff) => {\r\n                                    return (\r\n                                    <div className=\"mx-1 staff-list cursor-pointer \" key={staff.id} onClick={() => this.handleSelect_Staff(staff)}>\r\n                                        <img className=\"img emp\" src={staff.emp_pic} alt=''/>\r\n                                        <p>{staff.emp_name}</p>\r\n                                    </div>\r\n                                    )\r\n                                }):\"\"\r\n                            }\r\n                            <div className=\"back-button cursor-pointer\" onClick={this.handleNext}>\r\n                            <svg width=\"5\" height=\"10\" viewBox=\"0 0 5 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M0.5 9.5L4.5 5L0.5 0.5\" stroke=\"#888888\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                            </svg>\r\n                        </div>\r\n                        </div>\r\n                </div>\r\n                <div className='col-12 cart-item'>\r\n                    <div className='item-list'>\r\n\r\n                        <div className=\"table\">\r\n                            \r\n                            <TableWrapper\r\n                                headerDetails={headerDetails}\r\n                                queryHandler={this.handlePagination}>\r\n                                 \r\n                                {holdData.emp_id ? \r\n                                 ( <tr key={emp_id}>\r\n                                 <td>\r\n                                 <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div className='input-group'>\r\n                                    <NormalInput\r\n                                        value={emp_name}\r\n                                        name=\"issueQty\"\r\n                                        onChange={this.handleChange}\r\n                                        disabled={true}\r\n                                    />\r\n                                    </div>    \r\n                            </div>\r\n                            </td>\r\n                            </tr>\r\n                           \r\n                            )\r\n                             : \"\"\r\n                            }\r\n                            </TableWrapper>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-12 pt-4 action-bar\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4 d-flex text-left\">\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\"fs-15 clear-line\"\r\n                                label=\"Clear Line\"\r\n                                outline={false}\r\n                                onClick={this.handleClearLine}\r\n                            />\r\n                        </div>\r\n                        <div className='col-4 d-flex'></div>\r\n                        <div className=\"col-4 d-flex text-right\">                           \r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\" fs-15 confirm\"\r\n                                label=\"Done\"\r\n                                outline={false}\r\n                                onClick={(event) => this.handleissuedconfirm(event)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            </NormalModal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        // getCustomer,\r\n        getCommonApi,\r\n        updateForm,\r\n        commonCreateApi,\r\n        commonPatchApi,\r\n        commonDeleteApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const IssuedStaff = connect(null, mapDispatchToProps)(IssuedStaffClass)"]},"metadata":{},"sourceType":"module"}