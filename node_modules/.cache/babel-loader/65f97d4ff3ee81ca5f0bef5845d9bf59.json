{"ast":null,"code":"/**\r\n * DevExtreme (animation/transition_executor/transition_executor.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.TransitionExecutor = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _fx = _interopRequireDefault(require(\"../fx\"));\n\nvar _presets = require(\"../presets/presets\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar directionPostfixes = {\n  forward: \" dx-forward\",\n  backward: \" dx-backward\",\n  none: \" dx-no-direction\",\n  undefined: \" dx-no-direction\"\n};\nvar DX_ANIMATING_CLASS = \"dx-animating\";\n\nvar TransitionExecutor = _class.default.inherit({\n  ctor: function () {\n    this._accumulatedDelays = {\n      enter: 0,\n      leave: 0\n    };\n    this._animations = [];\n    this.reset();\n  },\n  _createAnimations: function ($elements, initialConfig, configModifier, type) {\n    var that = this;\n    var result = [];\n    configModifier = configModifier || {};\n\n    var animationConfig = this._prepareElementAnimationConfig(initialConfig, configModifier, type);\n\n    if (animationConfig) {\n      $elements.each(function () {\n        var animation = that._createAnimation((0, _renderer.default)(this), animationConfig, configModifier);\n\n        if (animation) {\n          animation.element.addClass(DX_ANIMATING_CLASS);\n          animation.setup();\n          result.push(animation);\n        }\n      });\n    }\n\n    return result;\n  },\n  _prepareElementAnimationConfig: function (config, configModifier, type) {\n    var result;\n\n    if (\"string\" === typeof config) {\n      var presetName = config;\n      config = _presets.presets.getPreset(presetName);\n    }\n\n    if (!config) {\n      result = void 0;\n    } else {\n      if ((0, _type.isFunction)(config[type])) {\n        result = config[type];\n      } else {\n        result = (0, _extend.extend)({\n          skipElementInitialStyles: true,\n          cleanupWhen: this._completePromise\n        }, config, configModifier);\n\n        if (!result.type || \"css\" === result.type) {\n          var cssClass = \"dx-\" + type;\n          var extraCssClasses = (result.extraCssClasses ? \" \" + result.extraCssClasses : \"\") + directionPostfixes[result.direction];\n          result.type = \"css\";\n          result.from = (result.from || cssClass) + extraCssClasses;\n          result.to = result.to || cssClass + \"-active\";\n        }\n\n        result.staggerDelay = result.staggerDelay || 0;\n        result.delay = result.delay || 0;\n\n        if (result.staggerDelay) {\n          result.delay += this._accumulatedDelays[type];\n          this._accumulatedDelays[type] += result.staggerDelay;\n        }\n      }\n    }\n\n    return result;\n  },\n  _createAnimation: function ($element, animationConfig, configModifier) {\n    var result;\n\n    if ((0, _type.isPlainObject)(animationConfig)) {\n      result = _fx.default.createAnimation($element, animationConfig);\n    } else {\n      if ((0, _type.isFunction)(animationConfig)) {\n        result = animationConfig($element, configModifier);\n      }\n    }\n\n    return result;\n  },\n  _startAnimations: function () {\n    var animations = this._animations;\n\n    for (var i = 0; i < animations.length; i++) {\n      animations[i].start();\n    }\n  },\n  _stopAnimations: function (jumpToEnd) {\n    var animations = this._animations;\n\n    for (var i = 0; i < animations.length; i++) {\n      animations[i].stop(jumpToEnd);\n    }\n  },\n  _clearAnimations: function () {\n    var animations = this._animations;\n\n    for (var i = 0; i < animations.length; i++) {\n      animations[i].element.removeClass(DX_ANIMATING_CLASS);\n    }\n\n    this._animations.length = 0;\n  },\n  reset: function () {\n    this._accumulatedDelays.enter = 0;\n    this._accumulatedDelays.leave = 0;\n\n    this._clearAnimations();\n\n    this._completeDeferred = new _deferred.Deferred();\n    this._completePromise = this._completeDeferred.promise();\n  },\n  enter: function ($elements, animationConfig, configModifier) {\n    var animations = this._createAnimations($elements, animationConfig, configModifier, \"enter\");\n\n    this._animations.push.apply(this._animations, animations);\n  },\n  leave: function ($elements, animationConfig, configModifier) {\n    var animations = this._createAnimations($elements, animationConfig, configModifier, \"leave\");\n\n    this._animations.push.apply(this._animations, animations);\n  },\n  start: function () {\n    var that = this;\n    var result;\n\n    if (!this._animations.length) {\n      that.reset();\n      result = new _deferred.Deferred().resolve().promise();\n    } else {\n      var animationDeferreds = (0, _iterator.map)(this._animations, function (animation) {\n        var result = new _deferred.Deferred();\n        animation.deferred.always(function () {\n          result.resolve();\n        });\n        return result.promise();\n      });\n      result = _deferred.when.apply(_renderer.default, animationDeferreds).always(function () {\n        that._completeDeferred.resolve();\n\n        that.reset();\n      });\n      (0, _common.executeAsync)(function () {\n        that._startAnimations();\n      });\n    }\n\n    return result;\n  },\n  stop: function (jumpToEnd) {\n    this._stopAnimations(jumpToEnd);\n  }\n});\n\nexports.TransitionExecutor = TransitionExecutor;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/animation/transition_executor/transition_executor.js"],"names":["exports","TransitionExecutor","_renderer","_interopRequireDefault","require","_class","_extend","_common","_type","_iterator","_fx","_presets","_deferred","obj","__esModule","directionPostfixes","forward","backward","none","undefined","DX_ANIMATING_CLASS","default","inherit","ctor","_accumulatedDelays","enter","leave","_animations","reset","_createAnimations","$elements","initialConfig","configModifier","type","that","result","animationConfig","_prepareElementAnimationConfig","each","animation","_createAnimation","element","addClass","setup","push","config","presetName","presets","getPreset","isFunction","extend","skipElementInitialStyles","cleanupWhen","_completePromise","cssClass","extraCssClasses","direction","from","to","staggerDelay","delay","$element","isPlainObject","createAnimation","_startAnimations","animations","i","length","start","_stopAnimations","jumpToEnd","stop","_clearAnimations","removeClass","_completeDeferred","Deferred","promise","apply","resolve","animationDeferreds","map","deferred","always","when","executeAsync"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (animation/transition_executor/transition_executor.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.TransitionExecutor = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _fx = _interopRequireDefault(require(\"../fx\"));\r\nvar _presets = require(\"../presets/presets\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar directionPostfixes = {\r\n    forward: \" dx-forward\",\r\n    backward: \" dx-backward\",\r\n    none: \" dx-no-direction\",\r\n    undefined: \" dx-no-direction\"\r\n};\r\nvar DX_ANIMATING_CLASS = \"dx-animating\";\r\nvar TransitionExecutor = _class.default.inherit({\r\n    ctor: function() {\r\n        this._accumulatedDelays = {\r\n            enter: 0,\r\n            leave: 0\r\n        };\r\n        this._animations = [];\r\n        this.reset()\r\n    },\r\n    _createAnimations: function($elements, initialConfig, configModifier, type) {\r\n        var that = this;\r\n        var result = [];\r\n        configModifier = configModifier || {};\r\n        var animationConfig = this._prepareElementAnimationConfig(initialConfig, configModifier, type);\r\n        if (animationConfig) {\r\n            $elements.each(function() {\r\n                var animation = that._createAnimation((0, _renderer.default)(this), animationConfig, configModifier);\r\n                if (animation) {\r\n                    animation.element.addClass(DX_ANIMATING_CLASS);\r\n                    animation.setup();\r\n                    result.push(animation)\r\n                }\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _prepareElementAnimationConfig: function(config, configModifier, type) {\r\n        var result;\r\n        if (\"string\" === typeof config) {\r\n            var presetName = config;\r\n            config = _presets.presets.getPreset(presetName)\r\n        }\r\n        if (!config) {\r\n            result = void 0\r\n        } else {\r\n            if ((0, _type.isFunction)(config[type])) {\r\n                result = config[type]\r\n            } else {\r\n                result = (0, _extend.extend)({\r\n                    skipElementInitialStyles: true,\r\n                    cleanupWhen: this._completePromise\r\n                }, config, configModifier);\r\n                if (!result.type || \"css\" === result.type) {\r\n                    var cssClass = \"dx-\" + type;\r\n                    var extraCssClasses = (result.extraCssClasses ? \" \" + result.extraCssClasses : \"\") + directionPostfixes[result.direction];\r\n                    result.type = \"css\";\r\n                    result.from = (result.from || cssClass) + extraCssClasses;\r\n                    result.to = result.to || cssClass + \"-active\"\r\n                }\r\n                result.staggerDelay = result.staggerDelay || 0;\r\n                result.delay = result.delay || 0;\r\n                if (result.staggerDelay) {\r\n                    result.delay += this._accumulatedDelays[type];\r\n                    this._accumulatedDelays[type] += result.staggerDelay\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _createAnimation: function($element, animationConfig, configModifier) {\r\n        var result;\r\n        if ((0, _type.isPlainObject)(animationConfig)) {\r\n            result = _fx.default.createAnimation($element, animationConfig)\r\n        } else {\r\n            if ((0, _type.isFunction)(animationConfig)) {\r\n                result = animationConfig($element, configModifier)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _startAnimations: function() {\r\n        var animations = this._animations;\r\n        for (var i = 0; i < animations.length; i++) {\r\n            animations[i].start()\r\n        }\r\n    },\r\n    _stopAnimations: function(jumpToEnd) {\r\n        var animations = this._animations;\r\n        for (var i = 0; i < animations.length; i++) {\r\n            animations[i].stop(jumpToEnd)\r\n        }\r\n    },\r\n    _clearAnimations: function() {\r\n        var animations = this._animations;\r\n        for (var i = 0; i < animations.length; i++) {\r\n            animations[i].element.removeClass(DX_ANIMATING_CLASS)\r\n        }\r\n        this._animations.length = 0\r\n    },\r\n    reset: function() {\r\n        this._accumulatedDelays.enter = 0;\r\n        this._accumulatedDelays.leave = 0;\r\n        this._clearAnimations();\r\n        this._completeDeferred = new _deferred.Deferred;\r\n        this._completePromise = this._completeDeferred.promise()\r\n    },\r\n    enter: function($elements, animationConfig, configModifier) {\r\n        var animations = this._createAnimations($elements, animationConfig, configModifier, \"enter\");\r\n        this._animations.push.apply(this._animations, animations)\r\n    },\r\n    leave: function($elements, animationConfig, configModifier) {\r\n        var animations = this._createAnimations($elements, animationConfig, configModifier, \"leave\");\r\n        this._animations.push.apply(this._animations, animations)\r\n    },\r\n    start: function() {\r\n        var that = this;\r\n        var result;\r\n        if (!this._animations.length) {\r\n            that.reset();\r\n            result = (new _deferred.Deferred).resolve().promise()\r\n        } else {\r\n            var animationDeferreds = (0, _iterator.map)(this._animations, function(animation) {\r\n                var result = new _deferred.Deferred;\r\n                animation.deferred.always(function() {\r\n                    result.resolve()\r\n                });\r\n                return result.promise()\r\n            });\r\n            result = _deferred.when.apply(_renderer.default, animationDeferreds).always(function() {\r\n                that._completeDeferred.resolve();\r\n                that.reset()\r\n            });\r\n            (0, _common.executeAsync)(function() {\r\n                that._startAnimations()\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    stop: function(jumpToEnd) {\r\n        this._stopAnimations(jumpToEnd)\r\n    }\r\n});\r\nexports.TransitionExecutor = TransitionExecutor;\r\n"]},"metadata":{},"sourceType":"script"}