{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Quantum\\\\TermsCondition\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./style.scss\";\nimport { NormalInput, NormalButton, NormalTextarea, NormalCheckbox } from \"component/common\";\nimport { getTokenDetails } from \"redux/actions/auth\";\nimport { getCommonApi, commonCreateApi, commonUpdateApi, commonDeleteApi } from \"redux/actions/common\";\nexport class TermsConditionClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        id: 0,\n        template_name: \"\",\n        template_text: \"\"\n      },\n      templates: [],\n      addEditTemplate: false,\n      editTemplate: false\n    };\n\n    this.componentWillMount = () => {\n      this.getAllTemplates();\n    };\n\n    this.handleClear = () => {\n      let {\n        formFields\n      } = this.state;\n      formFields.id = 0;\n      formFields.template_name = \"\";\n      formFields.template_text = \"\";\n      this.setState({\n        formFields\n      });\n    };\n\n    this.getAllTemplates = async () => {\n      var _res$data;\n\n      const res = await this.props.getCommonApi(\"termsandcondition/\");\n      if ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.dataList) this.setState({\n        templates: res.data.dataList\n      });\n      this.handleClear();\n    };\n\n    this.handleSave = async () => {\n      let {\n        templates,\n        formFields\n      } = this.state;\n\n      if (formFields.id) {\n        let t = templates.find(x => x.id == formFields.id);\n        t.template_name = formFields.template_name;\n        t.template_text = formFields.template_text;\n        await this.props.commonUpdateApi(`termsandcondition/${formFields.id}/`, t);\n      } else {\n        let tepmlate = {\n          template_name: formFields.template_name,\n          template_text: formFields.template_text\n        };\n        const res = await this.props.commonCreateApi('termsandcondition/', tepmlate);\n        templates.push(res.data);\n      }\n\n      this.setState({\n        templates\n      });\n      this.handleClear();\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value;\n      this.setState({\n        formFields\n      });\n    };\n\n    this.handleDelete = async id => {\n      let {\n        templates\n      } = this.state;\n      let t = templates.find(x => x.id == id);\n      t.isactive = !t.isactive;\n      await this.props.commonUpdateApi(`termsandcondition/${id}/`, t);\n      this.setState({\n        templates\n      });\n    };\n\n    this.handleEdit = async id => {\n      let {\n        templates,\n        formFields\n      } = this.state;\n      const template = templates.find(x => x.id == id);\n      formFields = { ...template\n      };\n      this.setState({\n        formFields\n      });\n    };\n  }\n\n  render() {\n    let {\n      templates,\n      addTemplate,\n      editTemplate\n    } = this.state;\n    let {\n      template_name,\n      template_text\n    } = this.state.formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container add-terms-condition\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-4 mt-4 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, t(\"Current Template\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-3 mt-3 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-5 mt-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }), templates.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-12 mt-12 template-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, templates.filter(x => x.isactive).map((e, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }\n      }, e.template_name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-4 mt-4 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-2 mt-2 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-edit mr-2\",\n        onClick: () => this.handleEdit(e.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 1\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-2 mt-2 icon-change\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete mr-2\",\n        onClick: () => this.handleDelete(e.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 1\n        }\n      })));\n    })) : '', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-5 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, t(\"Template Name\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-2 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-5 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: template_name,\n      name: \"template_name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-5 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, t(\"Template Text\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-10 mt-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-12 mt-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      rows: \"10\",\n      placeholder: \"Enter here\",\n      value: template_text,\n      name: \"template_text\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 col-8 mt-8 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-2 mt-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Cancel\",\n      onClick: () => this.handleClear(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-2 mt-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Save\",\n      onClick: () => this.handleSave(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-12 mt-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi,\n    commonUpdateApi,\n    commonDeleteApi,\n    getTokenDetails\n  }, dispatch);\n};\n\nexport const TermsCondition = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(TermsConditionClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Quantum/TermsCondition/index.js"],"names":["React","Component","withTranslation","connect","bindActionCreators","NormalInput","NormalButton","NormalTextarea","NormalCheckbox","getTokenDetails","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","TermsConditionClass","state","formFields","id","template_name","template_text","templates","addEditTemplate","editTemplate","componentWillMount","getAllTemplates","handleClear","setState","res","props","data","dataList","handleSave","t","find","x","tepmlate","push","handleChange","target","value","name","handleDelete","isactive","handleEdit","template","render","addTemplate","length","filter","map","e","index","mapStateToProps","tokenDetail","authStore","tokenDetails","mapDispatchToProps","dispatch","TermsCondition"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport \"./style.scss\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  NormalTextarea,\r\n  NormalCheckbox\r\n} from \"component/common\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport {  \r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nexport class TermsConditionClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      id:0,     \r\n      template_name: \"\",\r\n      template_text: \"\",\r\n\r\n     \r\n    },\r\n    templates: [],\r\n    addEditTemplate: false,\r\n    editTemplate: false\r\n\r\n  };\r\n\r\n\r\n  componentWillMount=()=>{\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  handleClear=()=>{\r\n    let {formFields}=this.state;\r\n    formFields.id=0;\r\n    formFields.template_name=\"\";\r\n    formFields.template_text=\"\";\r\n    this.setState({formFields});\r\n\r\n  }\r\n\r\n  getAllTemplates= async()=>{\r\n\r\n   const res= await this.props.getCommonApi(\"termsandcondition/\")\r\n   if(res.data?.dataList)\r\n   this.setState({ templates:res.data.dataList});\r\n    this.handleClear();\r\n\r\n  }\r\n  handleSave= async ()=>{\r\n    let { templates, formFields } = this.state;\r\n    if(formFields.id){\r\n      let t= templates.find(x=>x.id==formFields.id);\r\n      t.template_name=formFields.template_name;\r\n      t.template_text=formFields.template_text\r\n      await this.props.commonUpdateApi(`termsandcondition/${formFields.id}/`,t)\r\n    }else{\r\n    let tepmlate = {\r\n      template_name: formFields.template_name,\r\n      template_text: formFields.template_text,\r\n\r\n    }\r\n    const res= await this.props.commonCreateApi('termsandcondition/', tepmlate)\r\n    templates.push(res.data)\r\n    }\r\n    this.setState({ templates });\r\n    this.handleClear();\r\n\r\n  }\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    this.setState({ formFields })\r\n  };\r\n\r\n  handleDelete=async (id)=>{\r\n    let {templates}= this.state;\r\n    let t= templates.find(x=>x.id==id);\r\n    t.isactive=!t.isactive;\r\n    await this.props.commonUpdateApi(`termsandcondition/${id}/`,t)        \r\n    this.setState({templates})\r\n\r\n  }\r\n\r\n\r\n  handleEdit =async (id)=>{\r\n    let {templates ,formFields}= this.state;\r\n    const  template= templates.find(x=>x.id==id);\r\n    formFields={...template};\r\n    this.setState({formFields})\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    let { templates, addTemplate, editTemplate } = this.state;\r\n    let { template_name, template_text, } = this.state.formFields;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container add-terms-condition\" >\r\n          <div >\r\n            <div className=\"row \">\r\n              <div className=\"col-md-4 col-4 mt-4 \">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Current Template\")}\r\n                </label>\r\n              </div>\r\n              <div className=\"col-md-3 col-3 mt-3 \">\r\n\r\n              </div>\r\n\r\n              <div className=\"col-md-5 col-5 mt-5 \">\r\n                \r\n              </div>\r\n\r\n              {templates.length>0 ?\r\n              <div className=\"col-md-12 col-12 mt-12 template-list\">\r\n            {templates.filter(x=>x.isactive).map((e ,index)=>{return(\r\n              <div className=\"row\">\r\n              <div className=\"col-md-4 col-4\">\r\n\r\n                {e.template_name}\r\n</div> \r\n<div className=\"col-md-4 col-4 mt-4 \">\r\n\r\n                \r\n\r\n</div> \r\n<div className=\"col-md-2 col-2 mt-2 \">\r\n<span className=\"icon-edit mr-2\" onClick={()=>this.handleEdit(e.id)}></span>              \r\n               \r\n\r\n</div> \r\n<div className=\"col-md-2 col-2 mt-2 icon-change\">\r\n<span className=\"icon-delete mr-2\" onClick={()=>this.handleDelete(e.id)}></span>              \r\n\r\n</div> \r\n\r\n\r\n              </div>\r\n\r\n            )})\r\n             }\r\n              </div>:''\r\n                }\r\n              <div className=\"col-md-5 col-5 mt-5\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Template Name\")}\r\n                </label>\r\n              </div>\r\n              <div className=\"col-md-2 col-2 mt-2\"> </div>\r\n              <div className=\"col-md-5 col-5 mt-5\">\r\n                <NormalInput\r\n                  placeholder=\"Enter here\"\r\n                  value={template_name}\r\n                  name=\"template_name\"\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-5 mt-5\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Template Text\")}\r\n                </label>\r\n              </div>\r\n              <div className=\"col-md-10 col-10 mt-10\"></div>\r\n              <div className=\"col-md-12 col-12 mt-12\">\r\n              <NormalTextarea                  \r\n                  rows=\"10\"                   \r\n                  placeholder=\"Enter here\"\r\n                  value={template_text}\r\n                  name=\"template_text\"\r\n                  onChange={this.handleChange}\r\n                />\r\n\r\n\r\n              </div>\r\n              <div className=\"col-md-8 col-8 mt-8 \">\r\n               \r\n              </div>\r\n              <div className=\"col-md-2 col-2 mt-2 \">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  onClick={() => this.handleClear()\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2 col-2 mt-2 \">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() =>this.handleSave()\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"col-md-12 col-12 mt-12 \">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      commonDeleteApi,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TermsCondition = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(TermsConditionClass)\r\n);"]},"metadata":{},"sourceType":"module"}