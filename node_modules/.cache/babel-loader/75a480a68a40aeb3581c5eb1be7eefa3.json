{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/tooltipStrategyBase.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.TooltipStrategyBase = void 0;\n\nvar _button = _interopRequireDefault(require(\"../../button\"));\n\nvar _function_template = require(\"../../../core/templates/function_template\");\n\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\n\nvar _uiList = _interopRequireDefault(require(\"../../list/ui.list.edit\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar TOOLTIP_APPOINTMENT_ITEM = \"dx-tooltip-appointment-item\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT = TOOLTIP_APPOINTMENT_ITEM + \"-content\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT = TOOLTIP_APPOINTMENT_ITEM + \"-content-subject\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE = TOOLTIP_APPOINTMENT_ITEM + \"-content-date\";\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER = TOOLTIP_APPOINTMENT_ITEM + \"-marker\";\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY = TOOLTIP_APPOINTMENT_ITEM + \"-marker-body\";\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button-container\";\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button\";\n\nvar TooltipStrategyBase = function () {\n  function TooltipStrategyBase(options) {\n    _classCallCheck(this, TooltipStrategyBase);\n\n    this._tooltip = null;\n    this._options = options;\n    this._extraOptions = null;\n  }\n\n  _createClass(TooltipStrategyBase, [{\n    key: \"show\",\n    value: function (target, dataList, extraOptions) {\n      if (this._canShowTooltip(dataList)) {\n        this.hide();\n        this._extraOptions = extraOptions;\n\n        this._showCore(target, dataList);\n      }\n    }\n  }, {\n    key: \"_showCore\",\n    value: function (target, dataList) {\n      if (!this._tooltip) {\n        this._tooltip = this._createTooltip(target, dataList);\n      } else {\n        this._shouldUseTarget() && this._tooltip.option(\"target\", target);\n\n        this._list.option(\"dataSource\", dataList);\n      }\n\n      this._prepareBeforeVisibleChanged(dataList);\n\n      this._tooltip.option(\"visible\", true);\n    }\n  }, {\n    key: \"_prepareBeforeVisibleChanged\",\n    value: function (dataList) {}\n  }, {\n    key: \"_getContentTemplate\",\n    value: function (dataList) {\n      var _this = this;\n\n      return function (container) {\n        var listElement = (0, _renderer.default)(\"<div>\");\n        (0, _renderer.default)(container).append(listElement);\n        _this._list = _this._createList(listElement, dataList);\n      };\n    }\n  }, {\n    key: \"isAlreadyShown\",\n    value: function (target) {\n      if (this._tooltip && this._tooltip.option(\"visible\")) {\n        return this._tooltip.option(\"target\")[0] === target[0];\n      }\n    }\n  }, {\n    key: \"_onShown\",\n    value: function () {\n      this._list.option(\"focusStateEnabled\", this._extraOptions.focusStateEnabled);\n    }\n  }, {\n    key: \"dispose\",\n    value: function () {}\n  }, {\n    key: \"hide\",\n    value: function () {\n      if (this._tooltip) {\n        this._tooltip.option(\"visible\", false);\n      }\n    }\n  }, {\n    key: \"_shouldUseTarget\",\n    value: function () {\n      return true;\n    }\n  }, {\n    key: \"_createTooltip\",\n    value: function () {}\n  }, {\n    key: \"_canShowTooltip\",\n    value: function (dataList) {\n      if (!dataList.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createListOption\",\n    value: function (dataList) {\n      var _this2 = this;\n\n      return {\n        dataSource: dataList,\n        onContentReady: this._onListRender.bind(this),\n        onItemClick: function (e) {\n          return _this2._onListItemClick(e);\n        },\n        itemTemplate: function (item, index) {\n          return _this2._renderTemplate(item.appointment, item.targetedAppointment, index, item.color);\n        },\n        _swipeEnabled: false\n      };\n    }\n  }, {\n    key: \"_onListRender\",\n    value: function () {}\n  }, {\n    key: \"_createTooltipElement\",\n    value: function (wrapperClass) {\n      return (0, _renderer.default)(\"<div>\").appendTo(this._options.container).addClass(wrapperClass);\n    }\n  }, {\n    key: \"_createList\",\n    value: function (listElement, dataList) {\n      return this._options.createComponent(listElement, _uiList.default, this._createListOption(dataList));\n    }\n  }, {\n    key: \"_renderTemplate\",\n    value: function (appointment, targetedAppointment, index, color) {\n      var itemListContent = this._createItemListContent(appointment, targetedAppointment, color);\n\n      this._options.addDefaultTemplates(_defineProperty({}, this._getItemListTemplateName(), new _function_template.FunctionTemplate(function (options) {\n        var $container = (0, _renderer.default)(options.container);\n        $container.append(itemListContent);\n        return $container;\n      })));\n\n      var template = this._options.getAppointmentTemplate(this._getItemListTemplateName() + \"Template\");\n\n      return this._createFunctionTemplate(template, appointment, targetedAppointment, index);\n    }\n  }, {\n    key: \"_createFunctionTemplate\",\n    value: function (template, data, targetData, index) {\n      var isEmptyDropDownAppointmentTemplate = this._isEmptyDropDownAppointmentTemplate();\n\n      return new _function_template.FunctionTemplate(function (options) {\n        return template.render({\n          model: isEmptyDropDownAppointmentTemplate ? {\n            appointmentData: data,\n            targetedAppointmentData: targetData\n          } : data,\n          container: options.container,\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"_getItemListTemplateName\",\n    value: function () {\n      return this._isEmptyDropDownAppointmentTemplate() ? \"appointmentTooltip\" : \"dropDownAppointment\";\n    }\n  }, {\n    key: \"_isEmptyDropDownAppointmentTemplate\",\n    value: function () {\n      return !this._extraOptions.dropDownAppointmentTemplate || \"dropDownAppointment\" === this._extraOptions.dropDownAppointmentTemplate;\n    }\n  }, {\n    key: \"_onListItemClick\",\n    value: function (e) {\n      this.hide();\n      this._extraOptions.clickEvent && this._extraOptions.clickEvent(e);\n\n      this._options.showAppointmentPopup(e.itemData.appointment, false, e.itemData.targetedAppointment);\n    }\n  }, {\n    key: \"_createItemListContent\",\n    value: function (appointment, targetedAppointment, color) {\n      var editing = this._extraOptions.editing;\n      var $itemElement = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM);\n      $itemElement.append(this._createItemListMarker(color));\n      $itemElement.append(this._createItemListInfo(this._options.createFormattedDateText(appointment, targetedAppointment)));\n\n      var disabled = this._options.getAppointmentDisabled(appointment);\n\n      if (!disabled && (editing && true === editing.allowDeleting || true === editing)) {\n        $itemElement.append(this._createDeleteButton(appointment, targetedAppointment));\n      }\n\n      return $itemElement;\n    }\n  }, {\n    key: \"_createItemListMarker\",\n    value: function (color) {\n      var $marker = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER);\n      var $markerBody = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY);\n      $marker.append($markerBody);\n      color && color.done(function (value) {\n        return $markerBody.css(\"background\", value);\n      });\n      return $marker;\n    }\n  }, {\n    key: \"_createItemListInfo\",\n    value: function (object) {\n      var result = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT);\n      var $title = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT).text(object.text);\n      var $date = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE).text(object.formatDate);\n      return result.append($title).append($date);\n    }\n  }, {\n    key: \"_createDeleteButton\",\n    value: function (appointment, targetedAppointment) {\n      var _this3 = this;\n\n      var $container = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER);\n      var $deleteButton = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON);\n      $container.append($deleteButton);\n\n      this._options.createComponent($deleteButton, _button.default, {\n        icon: \"trash\",\n        stylingMode: \"text\",\n        onClick: function (e) {\n          _this3.hide();\n\n          e.event.stopPropagation();\n\n          _this3._options.checkAndDeleteAppointment(appointment, targetedAppointment);\n        }\n      });\n\n      return $container;\n    }\n  }]);\n\n  return TooltipStrategyBase;\n}();\n\nexports.TooltipStrategyBase = TooltipStrategyBase;","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/node_modules/devextreme/ui/scheduler/tooltip_strategies/tooltipStrategyBase.js"],"names":["exports","TooltipStrategyBase","_button","_interopRequireDefault","require","_function_template","_renderer","_uiList","obj","__esModule","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","_createClass","protoProps","staticProps","prototype","TOOLTIP_APPOINTMENT_ITEM","TOOLTIP_APPOINTMENT_ITEM_CONTENT","TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT","TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE","TOOLTIP_APPOINTMENT_ITEM_MARKER","TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY","TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER","TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON","options","_tooltip","_options","_extraOptions","dataList","extraOptions","_canShowTooltip","hide","_showCore","_createTooltip","_shouldUseTarget","option","_list","_prepareBeforeVisibleChanged","_this","container","listElement","default","append","_createList","focusStateEnabled","_this2","dataSource","onContentReady","_onListRender","bind","onItemClick","e","_onListItemClick","itemTemplate","item","index","_renderTemplate","appointment","targetedAppointment","color","_swipeEnabled","wrapperClass","appendTo","addClass","createComponent","_createListOption","itemListContent","_createItemListContent","addDefaultTemplates","_getItemListTemplateName","FunctionTemplate","$container","template","getAppointmentTemplate","_createFunctionTemplate","data","targetData","isEmptyDropDownAppointmentTemplate","_isEmptyDropDownAppointmentTemplate","render","model","appointmentData","targetedAppointmentData","dropDownAppointmentTemplate","clickEvent","showAppointmentPopup","itemData","editing","$itemElement","_createItemListMarker","_createItemListInfo","createFormattedDateText","disabled","getAppointmentDisabled","allowDeleting","_createDeleteButton","$marker","$markerBody","done","css","object","result","$title","text","$date","formatDate","_this3","$deleteButton","icon","stylingMode","onClick","event","stopPropagation","checkAndDeleteAppointment"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/tooltipStrategyBase.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.TooltipStrategyBase = void 0;\r\nvar _button = _interopRequireDefault(require(\"../../button\"));\r\nvar _function_template = require(\"../../../core/templates/function_template\");\r\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\r\nvar _uiList = _interopRequireDefault(require(\"../../list/ui.list.edit\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar TOOLTIP_APPOINTMENT_ITEM = \"dx-tooltip-appointment-item\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT = TOOLTIP_APPOINTMENT_ITEM + \"-content\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT = TOOLTIP_APPOINTMENT_ITEM + \"-content-subject\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE = TOOLTIP_APPOINTMENT_ITEM + \"-content-date\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER = TOOLTIP_APPOINTMENT_ITEM + \"-marker\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY = TOOLTIP_APPOINTMENT_ITEM + \"-marker-body\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button-container\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button\";\r\nvar TooltipStrategyBase = function() {\r\n    function TooltipStrategyBase(options) {\r\n        _classCallCheck(this, TooltipStrategyBase);\r\n        this._tooltip = null;\r\n        this._options = options;\r\n        this._extraOptions = null\r\n    }\r\n    _createClass(TooltipStrategyBase, [{\r\n        key: \"show\",\r\n        value: function(target, dataList, extraOptions) {\r\n            if (this._canShowTooltip(dataList)) {\r\n                this.hide();\r\n                this._extraOptions = extraOptions;\r\n                this._showCore(target, dataList)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showCore\",\r\n        value: function(target, dataList) {\r\n            if (!this._tooltip) {\r\n                this._tooltip = this._createTooltip(target, dataList)\r\n            } else {\r\n                this._shouldUseTarget() && this._tooltip.option(\"target\", target);\r\n                this._list.option(\"dataSource\", dataList)\r\n            }\r\n            this._prepareBeforeVisibleChanged(dataList);\r\n            this._tooltip.option(\"visible\", true)\r\n        }\r\n    }, {\r\n        key: \"_prepareBeforeVisibleChanged\",\r\n        value: function(dataList) {}\r\n    }, {\r\n        key: \"_getContentTemplate\",\r\n        value: function(dataList) {\r\n            var _this = this;\r\n            return function(container) {\r\n                var listElement = (0, _renderer.default)(\"<div>\");\r\n                (0, _renderer.default)(container).append(listElement);\r\n                _this._list = _this._createList(listElement, dataList)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"isAlreadyShown\",\r\n        value: function(target) {\r\n            if (this._tooltip && this._tooltip.option(\"visible\")) {\r\n                return this._tooltip.option(\"target\")[0] === target[0]\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onShown\",\r\n        value: function() {\r\n            this._list.option(\"focusStateEnabled\", this._extraOptions.focusStateEnabled)\r\n        }\r\n    }, {\r\n        key: \"dispose\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"hide\",\r\n        value: function() {\r\n            if (this._tooltip) {\r\n                this._tooltip.option(\"visible\", false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_shouldUseTarget\",\r\n        value: function() {\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createTooltip\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_canShowTooltip\",\r\n        value: function(dataList) {\r\n            if (!dataList.length) {\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createListOption\",\r\n        value: function(dataList) {\r\n            var _this2 = this;\r\n            return {\r\n                dataSource: dataList,\r\n                onContentReady: this._onListRender.bind(this),\r\n                onItemClick: function(e) {\r\n                    return _this2._onListItemClick(e)\r\n                },\r\n                itemTemplate: function(item, index) {\r\n                    return _this2._renderTemplate(item.appointment, item.targetedAppointment, index, item.color)\r\n                },\r\n                _swipeEnabled: false\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onListRender\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_createTooltipElement\",\r\n        value: function(wrapperClass) {\r\n            return (0, _renderer.default)(\"<div>\").appendTo(this._options.container).addClass(wrapperClass)\r\n        }\r\n    }, {\r\n        key: \"_createList\",\r\n        value: function(listElement, dataList) {\r\n            return this._options.createComponent(listElement, _uiList.default, this._createListOption(dataList))\r\n        }\r\n    }, {\r\n        key: \"_renderTemplate\",\r\n        value: function(appointment, targetedAppointment, index, color) {\r\n            var itemListContent = this._createItemListContent(appointment, targetedAppointment, color);\r\n            this._options.addDefaultTemplates(_defineProperty({}, this._getItemListTemplateName(), new _function_template.FunctionTemplate(function(options) {\r\n                var $container = (0, _renderer.default)(options.container);\r\n                $container.append(itemListContent);\r\n                return $container\r\n            })));\r\n            var template = this._options.getAppointmentTemplate(this._getItemListTemplateName() + \"Template\");\r\n            return this._createFunctionTemplate(template, appointment, targetedAppointment, index)\r\n        }\r\n    }, {\r\n        key: \"_createFunctionTemplate\",\r\n        value: function(template, data, targetData, index) {\r\n            var isEmptyDropDownAppointmentTemplate = this._isEmptyDropDownAppointmentTemplate();\r\n            return new _function_template.FunctionTemplate(function(options) {\r\n                return template.render({\r\n                    model: isEmptyDropDownAppointmentTemplate ? {\r\n                        appointmentData: data,\r\n                        targetedAppointmentData: targetData\r\n                    } : data,\r\n                    container: options.container,\r\n                    index: index\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getItemListTemplateName\",\r\n        value: function() {\r\n            return this._isEmptyDropDownAppointmentTemplate() ? \"appointmentTooltip\" : \"dropDownAppointment\"\r\n        }\r\n    }, {\r\n        key: \"_isEmptyDropDownAppointmentTemplate\",\r\n        value: function() {\r\n            return !this._extraOptions.dropDownAppointmentTemplate || \"dropDownAppointment\" === this._extraOptions.dropDownAppointmentTemplate\r\n        }\r\n    }, {\r\n        key: \"_onListItemClick\",\r\n        value: function(e) {\r\n            this.hide();\r\n            this._extraOptions.clickEvent && this._extraOptions.clickEvent(e);\r\n            this._options.showAppointmentPopup(e.itemData.appointment, false, e.itemData.targetedAppointment)\r\n        }\r\n    }, {\r\n        key: \"_createItemListContent\",\r\n        value: function(appointment, targetedAppointment, color) {\r\n            var editing = this._extraOptions.editing;\r\n            var $itemElement = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM);\r\n            $itemElement.append(this._createItemListMarker(color));\r\n            $itemElement.append(this._createItemListInfo(this._options.createFormattedDateText(appointment, targetedAppointment)));\r\n            var disabled = this._options.getAppointmentDisabled(appointment);\r\n            if (!disabled && (editing && true === editing.allowDeleting || true === editing)) {\r\n                $itemElement.append(this._createDeleteButton(appointment, targetedAppointment))\r\n            }\r\n            return $itemElement\r\n        }\r\n    }, {\r\n        key: \"_createItemListMarker\",\r\n        value: function(color) {\r\n            var $marker = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER);\r\n            var $markerBody = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY);\r\n            $marker.append($markerBody);\r\n            color && color.done(function(value) {\r\n                return $markerBody.css(\"background\", value)\r\n            });\r\n            return $marker\r\n        }\r\n    }, {\r\n        key: \"_createItemListInfo\",\r\n        value: function(object) {\r\n            var result = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT);\r\n            var $title = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT).text(object.text);\r\n            var $date = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE).text(object.formatDate);\r\n            return result.append($title).append($date)\r\n        }\r\n    }, {\r\n        key: \"_createDeleteButton\",\r\n        value: function(appointment, targetedAppointment) {\r\n            var _this3 = this;\r\n            var $container = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER);\r\n            var $deleteButton = (0, _renderer.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON);\r\n            $container.append($deleteButton);\r\n            this._options.createComponent($deleteButton, _button.default, {\r\n                icon: \"trash\",\r\n                stylingMode: \"text\",\r\n                onClick: function(e) {\r\n                    _this3.hide();\r\n                    e.event.stopPropagation();\r\n                    _this3._options.checkAndDeleteAppointment(appointment, targetedAppointment)\r\n                }\r\n            });\r\n            return $container\r\n        }\r\n    }]);\r\n    return TooltipStrategyBase\r\n}();\r\nexports.TooltipStrategyBase = TooltipStrategyBase;\r\n"]},"metadata":{},"sourceType":"script"}