{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDate,NormalMultiSelect,NormalDateTime}from\"component/common\";import{CreateSaloon,updateSaloon}from\"redux/actions/saloon\";import{getBranch,getSkills,getCommonApi,createBranch}from\"redux/actions/common\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{DragFileUpload}from\"../../../common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{getSaloon}from\"redux/actions/saloon\";export var CreateSalonClass=/*#__PURE__*/function(_Component){_inherits(CreateSalonClass,_Component);var _super=_createSuper(CreateSalonClass);function CreateSalonClass(){var _this;_classCallCheck(this,CreateSalonClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{salonName:\"\",openingDate:\"\",branch:\"\",services:\"\",contactNumber:\"\",email:\"\",images:\"\",description:\"\",itemsite_code:\"1\"},imageArray:[],locationOption:[],skillsOptions:[],selectedSkills:[]};_this.getSaloonDetail=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.getBranch(\"\".concat(_this.props.match.params.id,\"/\")).then(function(res){_this.setDataFromStore();_this.setSkillsDetail();});case 1:case\"end\":return _context.stop();}}},_callee);}));_this.setSkillsDetail=function(){var _this$state=_this.state,selectedSkills=_this$state.selectedSkills,formFields=_this$state.formFields;var skillsList=_this.props.skillsList;var _iterator=_createForOfIteratorHelper(skillsList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;var _iterator2=_createForOfIteratorHelper(formFields.services),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;if(key.id===value){selectedSkills.push({value:key.id,label:key.item_desc});}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(selectedSkills,\"kuyiusdfsd\",skillsList);_this.setState({selectedSkills:selectedSkills});};_this.setDataFromStore=function(){var saloonDetail=_this.props.saloonDetail;var formFields=_this.state.formFields;formFields[\"salonName\"]=saloonDetail.salon_name;formFields[\"openingDate\"]=new Date(saloonDetail.itemsite_date);formFields[\"branch\"]=saloonDetail.Site_Groupid;// formFields['services'] = saloonDetail.services;\nformFields[\"contactNumber\"]=saloonDetail.itemsite_phone1;formFields[\"email\"]=saloonDetail.ItemSite_Email;formFields[\"description\"]=saloonDetail.itemsite_desc;formFields[\"itemsite_code\"]=saloonDetail.itemsite_code;_this.setState({formFields:formFields});console.log(\"ufjdfjssd saloon\",saloonDetail,formFields);};_this.getDatafromStore=function(type){var _this$props=_this.props,branchList=_this$props.branchList,skillsList=_this$props.skillsList;var _this$state2=_this.state,locationOption=_this$state2.locationOption,skillsOptions=_this$state2.skillsOptions;console.log(\"fdghfdjyujf\",_this.props);if(type===\"branch\"){var _iterator3=_createForOfIteratorHelper(branchList),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;locationOption.push({label:key.description,value:key.id});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}else if(type===\"skills\"){var _iterator4=_createForOfIteratorHelper(skillsList),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _key2=_step4.value;skillsOptions.push({value:_key2.id,label:_key2.item_desc});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}_this.setState({locationOption:locationOption});console.log(\"fdghfdjyujf\",_this.props);};_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.setState({formFields:formFields});};_this.handleInput=function(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value===true?1:value;_this.setState({formFields:formFields});};_this.handleImageUpload=function(file){var formFields=_this.state.formFields;formFields[\"images\"]=file;_this.setState({formFields:formFields});};_this.removepostImage=function(e,name){var fileArray=_this.state.formFields.fileArray;var index=fileArray.indexOf(name);if(index===0){fileArray.shift();}else{fileArray.pop();}_this.setState({fileArray:fileArray});};_this.handleSubmit=function(){if(_this.validator.allValid()){var formFields=_this.state.formFields;var formData=new FormData();formData.append(\"images\",formFields.images);formData.append(\"itemsite_desc\",formFields.salonName);formData.append(\"Site_Groupid\",formFields.branch);formData.append(\"skills_list\",formFields.services);formData.append(\"itemsite_phone1\",formFields.contactNumber);formData.append(\"itemsite_date\",dateFormat(formFields.openingDate));formData.append(\"itemsite_email\",formFields.email);formData.append(\"itemsite_code\",formFields.itemsite_code);formData.append(\"description\",formFields.description);if(_this.props.match.params.id){_this.props.updateSaloon(\"\".concat(_this.props.match.params.id,\"/\"),formData).then(function(res){console.log(res);if(res.status===201){_this.props.history.push(\"/admin/salons\");}});}else{_this.props.createBranch(formData).then(function(res){console.log(res);if(res.status===201){_this.props.history.push(\"/admin/salons\");}});}}else{_this.validator.showMessages();}};_this.handleMultiSelect=function(data){var formFields=_this.state.formFields;var list=[];var _iterator5=_createForOfIteratorHelper(data),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;list.push(key.value);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}formFields[\"services\"]=list;_this.setState({formFields:formFields});console.log(formFields,\"oyokkjk\");};_this.handleDatePick=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(name,value,\"sdfgdfhfshg\",dateFormat(new Date()));// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context2.next=5;return _this.setState({formFields:formFields});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}();return _this;}_createClass(CreateSalonClass,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.validator=new SimpleReactValidator({validators:{contactNumber:{message:\"The :attribute must be a valid format.\",rule:function rule(val,params,validator){return validator.helpers.testRegex(val,/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&params.indexOf(val)===-1;},messageReplace:function messageReplace(message,params){return message.replace(\"\",_this2.helpers.toSentence(params));},required:true}},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});// branch dropdown option api\nthis.props.getCommonApi(\"salon/\").then(function(res){var locationOption=_this2.state.locationOption;var _iterator6=_createForOfIteratorHelper(res.data),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var key=_step6.value;locationOption.push({value:key.id,label:key.description});}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}_this2.setState({locationOption:locationOption});});// services dropdown api\nthis.props.getSkills(\"\").then(function(){_this2.getDatafromStore(\"skills\");_this2.setSkillsDetail();});// while salon edit this api will call for salon detail\nif(this.props.match.params.id){this.getSaloonDetail();}}// saloon api for saloon\n},{key:\"render\",value:function render(){var _this3=this;var _this$state3=this.state,formFields=_this$state3.formFields,locationOption=_this$state3.locationOption,skillsOptions=_this$state3.skillsOptions,selectedSkills=_this$state3.selectedSkills;var salonName=formFields.salonName,openingDate=formFields.openingDate,branch=formFields.branch,services=formFields.services,contactNumber=formFields.contactNumber,email=formFields.email,images=formFields.images,description=formFields.description;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-4 create-salon\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Add New Salons\"),/*#__PURE__*/React.createElement(\"div\",{className:\"salon-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Salon Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:salonName,name:\"salonName\",onChange:this.handleChange})),this.validator.message(\"salonName\",salonName,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Opening Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\"// value={outTime}\n,value:openingDate// label=\"inTime\"\n,name:\"openingDate\",className:\"dob-pick\",showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"})),this.validator.message(\"openingDate\",openingDate,\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Branch / Location\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:locationOption,value:branch,name:\"branch\",onChange:this.handleChange})),this.validator.message(\"branch\",branch,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Services\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},!this.props.match.params.id?skillsOptions.length>0?/*#__PURE__*/React.createElement(NormalMultiSelect,{name:\"skills\",className:\"staff-skills-select \".concat(services!==\"\"?\"overflow-y-set\":\"\"),options:skillsOptions,handleMultiSelect:this.handleMultiSelect}):\"\":skillsOptions.length>0&&selectedSkills.length>0?/*#__PURE__*/React.createElement(NormalMultiSelect,{name:\"skills\",value:selectedSkills.length>0?selectedSkills:[],className:\"staff-skills-select \".concat(services!==\"\"?\"overflow-y-set\":\"\"),options:skillsOptions,handleMultiSelect:this.handleMultiSelect}):\"\"),this.validator.message(\"services\",services,\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Contact Number\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:contactNumber,name:\"contactNumber\",onChange:this.handleChange})),this.validator.message(\"contactNumber\",contactNumber,\"required|min:8|max:8\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Email Address\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:email,name:\"email\",type:\"email\",onChange:this.handleChange})),this.validator.message(\"email\",email,\"required|email\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Description\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:description,name:\"description\",onChange:this.handleChange})),this.validator.message(\"salonName\",salonName,\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Upload Salon Images\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 p-0\"},/*#__PURE__*/React.createElement(DragFileUpload,{className:\"file-uploader size-sm \".concat(images?\"\":\"no-img\"),label:\"Upload Thumbnail\",handleFileUpload:this.handleImageUpload},images?/*#__PURE__*/React.createElement(\"img\",{src:displayImg(images),alt:\"\"}):/*#__PURE__*/React.createElement(\"div\",{className:\"uploader-content text-center\"},/*#__PURE__*/React.createElement(\"span\",null,\"Upload Image\"))),!this.props.match.params.id?this.validator.message(\"Emp_PIC\",images,\"required\"):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"border-bottom-line\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/salons\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Cancel\",normal:true,className:\"mr-2 col-12\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this3.handleSubmit();},label:\"Save\",mainbg:true,className:\"mr-2 col-12\"})))));}}]);return CreateSalonClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{branchList:state.common.branchList,skillsList:state.common.skillsList,saloonDetail:state.saloon.saloonDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({CreateSaloon:CreateSaloon,getBranch:getBranch,createBranch:createBranch,getSkills:getSkills,getSaloon:getSaloon,updateSaloon:updateSaloon,getCommonApi:getCommonApi},dispatch);};export var CreateSalon=connect(mapStateToProps,mapDispatchToProps)(CreateSalonClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Salons/CreateSalon/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDate","NormalMultiSelect","NormalDateTime","CreateSaloon","updateSaloon","getBranch","getSkills","getCommonApi","createBranch","connect","bindActionCreators","DragFileUpload","displayImg","dateFormat","getSaloon","CreateSalonClass","state","formFields","salonName","openingDate","branch","services","contactNumber","email","images","description","itemsite_code","imageArray","locationOption","skillsOptions","selectedSkills","getSaloonDetail","props","match","params","id","then","res","setDataFromStore","setSkillsDetail","skillsList","key","value","push","label","item_desc","console","log","setState","saloonDetail","salon_name","Date","itemsite_date","Site_Groupid","itemsite_phone1","ItemSite_Email","itemsite_desc","getDatafromStore","type","branchList","handleChange","target","name","Object","assign","handleInput","handleImageUpload","file","removepostImage","e","fileArray","index","indexOf","shift","pop","handleSubmit","validator","allValid","formData","FormData","append","status","history","showMessages","handleMultiSelect","data","list","handleDatePick","validators","message","rule","val","helpers","testRegex","messageReplace","replace","toSentence","required","element","autoForceUpdate","length","mapStateToProps","common","saloon","mapDispatchToProps","dispatch","CreateSalon"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDate,\r\n  NormalMultiSelect,\r\n  NormalDateTime,\r\n} from \"component/common\";\r\nimport { CreateSaloon, updateSaloon } from \"redux/actions/saloon\";\r\nimport {\r\n  getBranch,\r\n  getSkills,\r\n  getCommonApi,\r\n  createBranch,\r\n} from \"redux/actions/common\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { DragFileUpload } from \"../../../common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport { getSaloon } from \"redux/actions/saloon\";\r\n\r\nexport class CreateSalonClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      salonName: \"\",\r\n      openingDate: \"\",\r\n      branch: \"\",\r\n      services: \"\",\r\n      contactNumber: \"\",\r\n      email: \"\",\r\n      images: \"\",\r\n      description: \"\",\r\n      itemsite_code: \"1\",\r\n    },\r\n    imageArray: [],\r\n    locationOption: [],\r\n    skillsOptions: [],\r\n    selectedSkills: [],\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {\r\n        contactNumber: {\r\n          message: \"The :attribute must be a valid format.\",\r\n          rule: (val, params, validator) => {\r\n            return (\r\n              validator.helpers.testRegex(\r\n                val,\r\n                /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/\r\n              ) && params.indexOf(val) === -1\r\n            );\r\n          },\r\n          messageReplace: (message, params) =>\r\n            message.replace(\"\", this.helpers.toSentence(params)),\r\n          required: true,\r\n        },\r\n      },\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n\r\n    // branch dropdown option api\r\n    this.props.getCommonApi(\"salon/\").then(res => {\r\n      let { locationOption } = this.state;\r\n      for (let key of res.data) {\r\n        locationOption.push({ value: key.id, label: key.description });\r\n      }\r\n      this.setState({ locationOption });\r\n    });\r\n\r\n    // services dropdown api\r\n    this.props.getSkills(\"\").then(() => {\r\n      this.getDatafromStore(\"skills\");\r\n      this.setSkillsDetail();\r\n    });\r\n\r\n    // while salon edit this api will call for salon detail\r\n    if (this.props.match.params.id) {\r\n      this.getSaloonDetail();\r\n    }\r\n  }\r\n\r\n  // saloon api for saloon\r\n  getSaloonDetail = async () => {\r\n    this.props.getBranch(`${this.props.match.params.id}/`).then(res => {\r\n      this.setDataFromStore();\r\n      this.setSkillsDetail();\r\n    });\r\n  };\r\n\r\n  // get skills dropdown data from api\r\n  setSkillsDetail = () => {\r\n    let { selectedSkills, formFields } = this.state;\r\n    let { skillsList } = this.props;\r\n    for (let key of skillsList) {\r\n      for (let value of formFields.services) {\r\n        if (key.id === value) {\r\n          selectedSkills.push({ value: key.id, label: key.item_desc });\r\n        }\r\n      }\r\n    }\r\n    console.log(selectedSkills, \"kuyiusdfsd\", skillsList);\r\n\r\n    this.setState({ selectedSkills });\r\n  };\r\n\r\n  // set data from response to formfield while Edit option\r\n  setDataFromStore = () => {\r\n    let { saloonDetail } = this.props;\r\n    let { formFields } = this.state;\r\n    formFields[\"salonName\"] = saloonDetail.salon_name;\r\n    formFields[\"openingDate\"] = new Date(saloonDetail.itemsite_date);\r\n    formFields[\"branch\"] = saloonDetail.Site_Groupid;\r\n    // formFields['services'] = saloonDetail.services;\r\n    formFields[\"contactNumber\"] = saloonDetail.itemsite_phone1;\r\n    formFields[\"email\"] = saloonDetail.ItemSite_Email;\r\n    formFields[\"description\"] = saloonDetail.itemsite_desc;\r\n    formFields[\"itemsite_code\"] = saloonDetail.itemsite_code;\r\n    this.setState({ formFields });\r\n    console.log(\"ufjdfjssd saloon\", saloonDetail, formFields);\r\n  };\r\n\r\n  // common dropdown options data from api\r\n  getDatafromStore = type => {\r\n    let { branchList, skillsList } = this.props;\r\n    let { locationOption, skillsOptions } = this.state;\r\n    console.log(\"fdghfdjyujf\", this.props);\r\n    if (type === \"branch\") {\r\n      for (let key of branchList) {\r\n        locationOption.push({ label: key.description, value: key.id });\r\n      }\r\n    } else if (type === \"skills\") {\r\n      for (let key of skillsList) {\r\n        skillsOptions.push({ value: key.id, label: key.item_desc });\r\n      }\r\n    }\r\n    this.setState({\r\n      locationOption,\r\n    });\r\n    console.log(\"fdghfdjyujf\", this.props);\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleInput = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[name] = value === true ? 1 : value;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // select image to formfield\r\n  handleImageUpload = file => {\r\n    let { formFields } = this.state;\r\n    formFields[\"images\"] = file;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // remove image form selected form\r\n  removepostImage = (e, name) => {\r\n    let { fileArray } = this.state.formFields;\r\n    let index = fileArray.indexOf(name);\r\n    if (index === 0) {\r\n      fileArray.shift();\r\n    } else {\r\n      fileArray.pop();\r\n    }\r\n    this.setState({\r\n      fileArray,\r\n    });\r\n  };\r\n\r\n  // submit to api for create and update\r\n  handleSubmit = () => {\r\n    if (this.validator.allValid()) {\r\n      let { formFields } = this.state;\r\n      const formData = new FormData();\r\n      formData.append(\"images\", formFields.images);\r\n      formData.append(\"itemsite_desc\", formFields.salonName);\r\n      formData.append(\"Site_Groupid\", formFields.branch);\r\n      formData.append(\"skills_list\", formFields.services);\r\n      formData.append(\"itemsite_phone1\", formFields.contactNumber);\r\n      formData.append(\"itemsite_date\", dateFormat(formFields.openingDate));\r\n      formData.append(\"itemsite_email\", formFields.email);\r\n      formData.append(\"itemsite_code\", formFields.itemsite_code);\r\n      formData.append(\"description\", formFields.description);\r\n      if (this.props.match.params.id) {\r\n        this.props\r\n          .updateSaloon(`${this.props.match.params.id}/`, formData)\r\n          .then(res => {\r\n            console.log(res);\r\n            if (res.status === 201) {\r\n              this.props.history.push(`/admin/salons`);\r\n            }\r\n          });\r\n      } else {\r\n        this.props.createBranch(formData).then(res => {\r\n          console.log(res);\r\n          if (res.status === 201) {\r\n            this.props.history.push(`/admin/salons`);\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this.validator.showMessages();\r\n    }\r\n  };\r\n\r\n  handleMultiSelect = data => {\r\n    let { formFields } = this.state;\r\n    let list = [];\r\n    for (let key of data) {\r\n      list.push(key.value);\r\n    }\r\n    formFields[\"services\"] = list;\r\n    this.setState({ formFields });\r\n    console.log(formFields, \"oyokkjk\");\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    console.log(name, value, \"sdfgdfhfshg\", dateFormat(new Date()));\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      locationOption,\r\n      skillsOptions,\r\n      selectedSkills,\r\n    } = this.state;\r\n\r\n    let {\r\n      salonName,\r\n      openingDate,\r\n      branch,\r\n      services,\r\n      contactNumber,\r\n      email,\r\n      images,\r\n      description,\r\n    } = formFields;\r\n    return (\r\n      <div className=\"p-4 create-salon\">\r\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Salon</p> */}\r\n        <h2>Add New Salons</h2>\r\n        <div className=\"salon-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Salon Name\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={salonName}\r\n                    name=\"salonName\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"salonName\", salonName, \"required\")}\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Opening Date\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  {/* <NormalDate\r\n                                        value={openingDate}\r\n                                        name=\"openingDate\"\r\n                                        type=\"date\"\r\n                                        onChange={this.handleChange}\r\n                                    /> */}\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    // value={outTime}\r\n                    value={openingDate}\r\n                    // label=\"inTime\"\r\n                    name=\"openingDate\"\r\n                    className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"openingDate\", openingDate, \"required\")}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Branch / Location\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalSelect\r\n                    options={locationOption}\r\n                    value={branch}\r\n                    name=\"branch\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"branch\", branch, \"required\")}\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Services\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  {/* <NormalInput\r\n                                        placeholder=\"Enter here\"\r\n                                        value={services}\r\n                                        name=\"services\"\r\n                                        onChange={this.handleChange}\r\n                                    /> */}\r\n                  {/* {\r\n                                        skillsOptions.length > 0 ? <NormalMultiSelect name=\"skills\" className={`staff-skills-select ${services !== \"\" ? \"overflow-y-set\" : \"\"}`} options={skillsOptions} handleMultiSelect={this.handleMultiSelect}></NormalMultiSelect> : \"\"\r\n                                    } */}\r\n                  {!this.props.match.params.id ? (\r\n                    skillsOptions.length > 0 ? (\r\n                      <NormalMultiSelect\r\n                        name=\"skills\"\r\n                        className={`staff-skills-select ${\r\n                          services !== \"\" ? \"overflow-y-set\" : \"\"\r\n                        }`}\r\n                        options={skillsOptions}\r\n                        handleMultiSelect={this.handleMultiSelect}\r\n                      ></NormalMultiSelect>\r\n                    ) : (\r\n                      \"\"\r\n                    )\r\n                  ) : skillsOptions.length > 0 && selectedSkills.length > 0 ? (\r\n                    <NormalMultiSelect\r\n                      name=\"skills\"\r\n                      value={selectedSkills.length > 0 ? selectedSkills : []}\r\n                      className={`staff-skills-select ${\r\n                        services !== \"\" ? \"overflow-y-set\" : \"\"\r\n                      }`}\r\n                      options={skillsOptions}\r\n                      handleMultiSelect={this.handleMultiSelect}\r\n                    ></NormalMultiSelect>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n                {this.validator.message(\"services\", services, \"required\")}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Contact Number\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={contactNumber}\r\n                    name=\"contactNumber\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"contactNumber\",\r\n                  contactNumber,\r\n                  \"required|min:8|max:8\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Email Address\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={email}\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"email\", email, \"required|email\")}\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Description\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={description}\r\n                    name=\"description\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"salonName\", salonName, \"required\")}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n              Upload Salon Images\r\n            </label>\r\n            <div className=\"col-md-12 p-0\">\r\n              <DragFileUpload\r\n                className={`file-uploader size-sm ${images ? \"\" : \"no-img\"}`}\r\n                label=\"Upload Thumbnail\"\r\n                handleFileUpload={this.handleImageUpload}\r\n              >\r\n                {images ? (\r\n                  <img src={displayImg(images)} alt=\"\" />\r\n                ) : (\r\n                  <div className=\"uploader-content text-center\">\r\n                    <span>Upload Image</span>\r\n                  </div>\r\n                )}\r\n              </DragFileUpload>\r\n\r\n              {!this.props.match.params.id\r\n                ? this.validator.message(\"Emp_PIC\", images, \"required\")\r\n                : \"\"}\r\n            </div>\r\n          </div>\r\n          <div className=\"border-bottom-line\"></div>\r\n          <div className=\"pt-5 d-flex\">\r\n            <div className=\"col-2\">\r\n              <Link to=\"/admin/salons\">\r\n                <NormalButton\r\n                  label=\"Cancel\"\r\n                  normal={true}\r\n                  className=\"mr-2 col-12\"\r\n                />\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-2\">\r\n              <NormalButton\r\n                onClick={() => this.handleSubmit()}\r\n                label=\"Save\"\r\n                mainbg={true}\r\n                className=\"mr-2 col-12\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  branchList: state.common.branchList,\r\n  skillsList: state.common.skillsList,\r\n  saloonDetail: state.saloon.saloonDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      CreateSaloon,\r\n      getBranch,\r\n      createBranch,\r\n      getSkills,\r\n      getSaloon,\r\n      updateSaloon,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const CreateSalon = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateSalonClass);\r\n"]},"metadata":{},"sourceType":"module"}