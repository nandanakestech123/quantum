{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{withTranslation}from\"react-i18next\";export var GroupAuthorizationTableClass=/*#__PURE__*/function(_Component){_inherits(GroupAuthorizationTableClass,_Component);var _super=_createSuper(GroupAuthorizationTableClass);function GroupAuthorizationTableClass(){_classCallCheck(this,GroupAuthorizationTableClass);return _super.apply(this,arguments);}_createClass(GroupAuthorizationTableClass,[{key:\"render\",value:function render(){var _this$props=this.props,onChange=_this$props.onChange,_this$props$disabled=_this$props.disabled,disabled=_this$props$disabled===void 0?false:_this$props$disabled,_this$props$data=_this$props.data,data=_this$props$data===void 0?[]:_this$props$data,_this$props$columns=_this$props.columns,columns=_this$props$columns===void 0?[]:_this$props$columns,_this$props$rowHead=_this$props.rowHead,rowHead=_this$props$rowHead===void 0?[]:_this$props$rowHead,t=_this$props.t;var handleOnChange=function handleOnChange(code,controlname){if(disabled)return;var index1=data.indexOf(data.find(function(element){return element.code==code;}));var index2=data[index1].levels.indexOf(data[index1].levels.find(function(element){return element.controlname==controlname;}));data[index1].levels[index2].controlstatus=!data.find(function(element){return element.code==code;}).levels.find(function(element){return element.controlname==controlname;}).controlstatus;if(onChange)onChange(data);};if(data.length!=0){columns=data.map(function(_ref){var securieties=_ref.securieties,code=_ref.code;return{securieties:securieties,code:code};});data.forEach(function(element){element.levels.forEach(function(_ref2){var controlname=_ref2.controlname,controldesc=_ref2.controldesc;if(!rowHead.find(function(e){return e.controlname==controlname;}))rowHead.push({controlname:controlname,controldesc:controldesc});});});rowHead.sort(function(a,b){if(a.controldesc>b.controldesc)return 1;if(a.controldesc<b.controldesc)return-1;return 0;});}return/*#__PURE__*/React.createElement(\"div\",{className:\"maintable table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"maintable-content table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered rounded\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"table-header-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-3\"},t(\"Security Groups\"))),columns.map(function(e){return/*#__PURE__*/React.createElement(\"th\",{className:\"table-header-150\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},e.securieties));}))),data.length!=0?/*#__PURE__*/React.createElement(\"tbody\",null,rowHead.map(function(e,index1){return/*#__PURE__*/React.createElement(\"tr\",{key:e.controlname},/*#__PURE__*/React.createElement(\"td\",{className:e.className},e.controldesc),columns.map(function(e2,index2){return/*#__PURE__*/React.createElement(\"td\",null,data.find(function(element){return element.code==e2.code;}).levels.find(function(element){return element.controlname==e.controlname;})?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",checked:data.find(function(element){return element.code==e2.code;}).levels.find(function(element){return element.controlname==e.controlname;}).controlstatus,onChange:function onChange(){return handleOnChange(e2.code,e.controlname);}})):null);}));})):null)));}}]);return GroupAuthorizationTableClass;}(Component);export var GroupAuthorizationTable=withTranslation()(GroupAuthorizationTableClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/SecurityAuthorization/GroupAuthorizationTable/index.js"],"names":["React","Component","withTranslation","GroupAuthorizationTableClass","props","onChange","disabled","data","columns","rowHead","t","handleOnChange","code","controlname","index1","indexOf","find","element","index2","levels","controlstatus","length","map","securieties","forEach","controldesc","e","push","sort","a","b","className","e2","GroupAuthorizationTable"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class GroupAuthorizationTableClass extends Component {\r\n  render() {\r\n    let {\r\n      onChange,\r\n      disabled = false,\r\n      data = [],\r\n      columns = [],\r\n      rowHead = [],\r\n      t,\r\n    } = this.props;\r\n\r\n    const handleOnChange = (code, controlname) => {\r\n      if (disabled) return;\r\n      let index1 = data.indexOf(data.find(element => element.code == code));\r\n      let index2 = data[index1].levels.indexOf(\r\n        data[index1].levels.find(element => element.controlname == controlname)\r\n      );\r\n      data[index1].levels[index2].controlstatus = !data\r\n        .find(element => element.code == code)\r\n        .levels.find(element => element.controlname == controlname)\r\n        .controlstatus;\r\n      if (onChange) onChange(data);\r\n    };\r\n\r\n    if (data.length != 0) {\r\n      columns = data.map(({ securieties, code }) => {\r\n        return { securieties, code };\r\n      });\r\n\r\n      data.forEach(element => {\r\n        element.levels.forEach(({ controlname, controldesc }) => {\r\n          if (!rowHead.find(e => e.controlname == controlname))\r\n            rowHead.push({ controlname, controldesc });\r\n        });\r\n      });\r\n\r\n      rowHead.sort((a, b) => {\r\n        if (a.controldesc > b.controldesc) return 1;\r\n        if (a.controldesc < b.controldesc) return -1;\r\n        return 0;\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"maintable table-container\">\r\n        <div className=\"maintable-content table-responsive\">\r\n          <table className=\"table table-bordered rounded\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"table-header-200\">\r\n                  <div className=\"d-flex ml-3\">{t(\"Security Groups\")}</div>\r\n                </th>\r\n                {columns.map(e => (\r\n                  <th className=\"table-header-150\">\r\n                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                      {e.securieties}\r\n                    </div>\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            {data.length != 0 ? (\r\n              <tbody>\r\n                {rowHead.map((e, index1) => (\r\n                  <tr key={e.controlname}>\r\n                    <td className={e.className}>{e.controldesc}</td>\r\n                    {columns.map((e2, index2) => (\r\n                      <td>\r\n                        {data\r\n                          .find(element => element.code == e2.code)\r\n                          .levels.find(\r\n                            element => element.controlname == e.controlname\r\n                          ) ? (\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={\r\n                                data\r\n                                  .find(element => element.code == e2.code)\r\n                                  .levels.find(\r\n                                    element =>\r\n                                      element.controlname == e.controlname\r\n                                  ).controlstatus\r\n                              }\r\n                              onChange={() =>\r\n                                handleOnChange(e2.code, e.controlname)\r\n                              }\r\n                            />\r\n                          </div>\r\n                        ) : null}\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            ) : null}\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const GroupAuthorizationTable = withTranslation()(\r\n  GroupAuthorizationTableClass\r\n);\r\n"]},"metadata":{},"sourceType":"module"}