{"ast":null,"code":"import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{TableWrapper,InputSearch}from\"component/common\";import{withTranslation}from\"react-i18next\";import{ApptSecondaryStatuses}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";export var SecondarystatusClass=/*#__PURE__*/function(_Component){_inherits(SecondarystatusClass,_Component);var _super=_createSuper(SecondarystatusClass);function SecondarystatusClass(){var _this;_classCallCheck(this,SecondarystatusClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={StatusDetails:[{label:\"Code\",divClass:\"justify-content-end\",sortKey:\"ssCode\",enabled:true,id:\"ssCode\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"ssCode\");}},{label:\"Description\",sortKey:\"ssDesc\",enabled:true,id:\"ssDesc\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"ssDesc\");}},{label:\"Color Code\"},{label:\"Active\",sortKey:\"active\",enabled:true,id:\"active\",singleClickFunc:function singleClickFunc(){return _this.handleSort(\"active\");}}],staffList:[],is_loading:false,search:\"\",filterdata:[]};_this.componentDidMount=function(){_this.Listofsstate({});};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleSort=function(sortkey,order){var _this$state=_this.state,staffList=_this$state.staffList,headerDetails=_this$state.headerDetails,orderBy=_this$state.orderBy;_this.setState({orderBy:_this.state.orderBy==\"asc\"?\"desc\":\"asc\"});console.log(\"che\");if(orderBy===\"asc\"){staffList.sort(function(a,b){return a[sortkey]>b[sortkey]?1:b[sortkey]>a[sortkey]?-1:0;});}else{staffList.sort(function(a,b){return a[sortkey]<b[sortkey]?1:b[sortkey]<a[sortkey]?-1:0;});}_this.setState({staffList:staffList});};_this.Listofsstate=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.updateState({is_loading:true});_context.next=3;return _this.props.ApptSecondaryStatuses().then(function(res){console.log(res);var staffList=_this.state.staffList;staffList=res;console.log(staffList);_this.setState({staffList:staffList,is_loading:false});console.log(staffList.length);});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.filterByName=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;console.log(value,name);var _this$state2=_this.state,staffList=_this$state2.staffList,filterdata=_this$state2.filterdata,search=_this$state2.search;if(name==\"search\"){search=value;_this.setState({search:search});}if(search!==\"\"){filterdata=staffList.filter(function(item){return Object.values(item).join(\"\").toLowerCase().includes(search.toLowerCase());});}_this.setState({filterdata:filterdata});console.log(filterdata);};return _this;}_createClass(SecondarystatusClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,StatusDetails=_this$state3.StatusDetails,staffList=_this$state3.staffList,is_loading=_this$state3.is_loading,search=_this$state3.search,filterdata=_this$state3.filterdata;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid department-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"itemmaster-container col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"head-label\"},t(\"Secondary Status\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mt-3 col-5\"},t(\"List of Secondary Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-7 mt-3\"},/*#__PURE__*/React.createElement(InputSearch,_defineProperty({placeholder:t(\"Search\"),onChange:this.filterByName},\"placeholder\",\"Search by  Code / Description\")))),search.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:StatusDetails},is_loading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):filterdata.length>0?filterdata.map(function(_ref3,index){var ssCode=_ref3.ssCode,ssDesc=_ref3.ssDesc,ssColorCode=_ref3.ssColorCode,active=_ref3.active;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right text-success\",onClick:function onClick(){return _this2.props.history.push(\"/admin/backend/Secondarylistid/\".concat(ssCode));}},ssCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},ssDesc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},ssColorCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},active==true?\"Yes\":\"No\")));}):null)))):/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:StatusDetails},is_loading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):staffList.length>0?staffList.map(function(_ref4,index){var ssCode=_ref4.ssCode,ssDesc=_ref4.ssDesc,ssColorCode=_ref4.ssColorCode,active=_ref4.active;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right text-success cursor-pointer\",onClick:function onClick(){return _this2.props.history.push(\"/admin/backend/Secondarylistid/\".concat(ssCode));}},ssCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},ssDesc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},ssColorCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},active==true?\"Yes\":\"No\")));}):null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"icon\",onClick:function onClick(){return _this2.props.history.push(\"/admin/backend/appointment/secondarystatus\");}},\"+\")))));}}]);return SecondarystatusClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({ApptSecondaryStatuses:ApptSecondaryStatuses},dispatch);};export var Secondarystatus=withTranslation()(connect(null,mapDispatchToProps)(SecondarystatusClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Appointment Config/Secondarystatus/index.js"],"names":["React","Component","TableWrapper","InputSearch","withTranslation","ApptSecondaryStatuses","connect","bindActionCreators","SecondarystatusClass","state","StatusDetails","label","divClass","sortKey","enabled","id","singleClickFunc","handleSort","staffList","is_loading","search","filterdata","componentDidMount","Listofsstate","updateState","data","isMounted","setState","sortkey","order","headerDetails","orderBy","console","log","sort","a","b","props","then","res","length","filterByName","target","value","name","filter","item","Object","values","join","toLowerCase","includes","t","map","index","ssCode","ssDesc","ssColorCode","active","history","push","mapDispatchToProps","dispatch","Secondarystatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { TableWrapper, InputSearch } from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { ApptSecondaryStatuses } from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nexport class SecondarystatusClass extends Component {\r\n  state = {\r\n    StatusDetails: [\r\n      {\r\n        label: \"Code\",\r\n        divClass: \"justify-content-end\",\r\n        sortKey: \"ssCode\",\r\n        enabled: true,\r\n        id: \"ssCode\",\r\n        singleClickFunc: () => this.handleSort(\"ssCode\"),\r\n      },\r\n      {\r\n        label: \"Description\",\r\n        sortKey: \"ssDesc\",\r\n        enabled: true,\r\n        id: \"ssDesc\",\r\n        singleClickFunc: () => this.handleSort(\"ssDesc\"),\r\n      },\r\n      { label: \"Color Code\" },\r\n      {\r\n        label: \"Active\",\r\n        sortKey: \"active\",\r\n        enabled: true,\r\n        id: \"active\",\r\n        singleClickFunc: () => this.handleSort(\"active\"),\r\n      },\r\n    ],\r\n    staffList: [],\r\n    is_loading: false,\r\n    search: \"\",\r\n    filterdata: [],\r\n  };\r\n  componentDidMount = () => {\r\n    this.Listofsstate({});\r\n  };\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  //Sorting\r\n  handleSort = (sortkey, order) => {\r\n    let { staffList, headerDetails, orderBy } = this.state;\r\n    this.setState({\r\n      orderBy: this.state.orderBy == \"asc\" ? \"desc\" : \"asc\",\r\n    });\r\n    console.log(\"che\");\r\n    if (orderBy === \"asc\") {\r\n      staffList.sort((a, b) =>\r\n        a[sortkey] > b[sortkey] ? 1 : b[sortkey] > a[sortkey] ? -1 : 0\r\n      );\r\n    } else {\r\n      staffList.sort((a, b) =>\r\n        a[sortkey] < b[sortkey] ? 1 : b[sortkey] < a[sortkey] ? -1 : 0\r\n      );\r\n    }\r\n    this.setState({\r\n      staffList,\r\n    });\r\n  };\r\n\r\n  Listofsstate = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props.ApptSecondaryStatuses().then((res) => {\r\n      console.log(res);\r\n      let { staffList } = this.state;\r\n\r\n      staffList = res;\r\n      console.log(staffList);\r\n      this.setState({\r\n        staffList,\r\n        is_loading: false,\r\n      });\r\n      console.log(staffList.length);\r\n    });\r\n  };\r\n\r\n  //************Searching option **********//\r\n  filterByName = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { staffList, filterdata, search } = this.state;\r\n    if (name == \"search\") {\r\n      search = value;\r\n      this.setState({ search });\r\n    }\r\n    if (search !== \"\") {\r\n      filterdata = staffList.filter((item) => {\r\n        return Object.values(item)\r\n          .join(\"\")\r\n          .toLowerCase()\r\n          .includes(search.toLowerCase());\r\n      });\r\n    }\r\n    this.setState({ filterdata });\r\n    console.log(filterdata);\r\n  };\r\n\r\n  render() {\r\n    let { StatusDetails, staffList, is_loading, search, filterdata } =\r\n      this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid department-container\">\r\n          <div className=\"row\">\r\n            <div className={\"itemmaster-container col-12\"}>\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md\">\r\n                  <h4 className=\"head-label\">{t(\"Secondary Status\")}</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"tab-table-content\">\r\n                <div className=\"d-flex\">\r\n                  <p className=\"mt-3 col-5\">{t(\"List of Secondary Status\")}</p>\r\n                  <div className=\"w-100 col-7 mt-3\">\r\n                    <InputSearch\r\n                      placeholder={t(\"Search\")}\r\n                      onChange={this.filterByName}\r\n                      placeholder=\"Search by  Code / Description\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {search.length > 0 ? (\r\n                  <div className=\"tab-table-content\">\r\n                    <div className=\"py-4\">\r\n                      <div className=\"table-container\">\r\n                        <TableWrapper headerDetails={StatusDetails}>\r\n                          {is_loading ? (\r\n                            <tr>\r\n                              <td colSpan=\"7\">\r\n                                <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                                  <div class=\"spinner-border\" role=\"status\">\r\n                                    <span class=\"sr-only\">Loading...</span>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ) : filterdata.length > 0 ? (\r\n                            filterdata.map(\r\n                              (\r\n                                { ssCode, ssDesc, ssColorCode, active },\r\n                                index\r\n                              ) => {\r\n                                return (\r\n                                  <tr key={index}>\r\n                                    <td>\r\n                                      <div\r\n                                        className=\"text-right text-success\"\r\n                                        onClick={() =>\r\n                                          this.props.history.push(\r\n                                            `/admin/backend/Secondarylistid/${ssCode}`\r\n                                          )\r\n                                        }\r\n                                      >\r\n                                        {ssCode}\r\n                                      </div>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div className=\"text-left\">{ssDesc}</div>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div className=\"text-left\">\r\n                                        {ssColorCode}\r\n                                      </div>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div className=\"text-left\">\r\n                                        {active == true ? \"Yes\" : \"No\"}\r\n                                      </div>\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              }\r\n                            )\r\n                          ) : null}\r\n                        </TableWrapper>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"py-4\">\r\n                    <div className=\"table-container\">\r\n                      <TableWrapper headerDetails={StatusDetails}>\r\n                        {is_loading ? (\r\n                          <tr>\r\n                            <td colSpan=\"7\">\r\n                              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                                <div class=\"spinner-border\" role=\"status\">\r\n                                  <span class=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ) : staffList.length > 0 ? (\r\n                          staffList.map(\r\n                            (\r\n                              { ssCode, ssDesc, ssColorCode, active },\r\n                              index\r\n                            ) => {\r\n                              return (\r\n                                <tr key={index}>\r\n                                  <td>\r\n                                    <div\r\n                                      className=\"text-right text-success cursor-pointer\"\r\n                                      onClick={() =>\r\n                                        this.props.history.push(\r\n                                          `/admin/backend/Secondarylistid/${ssCode}`\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      {ssCode}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"text-left\">{ssDesc}</div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"text-left\">\r\n                                      {ssColorCode}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"text-left\">\r\n                                      {active == true ? \"Yes\" : \"No\"}\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }\r\n                          )\r\n                        ) : null}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div\r\n                className=\"icon\"\r\n                onClick={() =>\r\n                  this.props.history.push(\r\n                    `/admin/backend/appointment/secondarystatus`\r\n                  )\r\n                }\r\n              >\r\n                +\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      ApptSecondaryStatuses,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Secondarystatus = withTranslation()(\r\n  connect(null, mapDispatchToProps)(SecondarystatusClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}