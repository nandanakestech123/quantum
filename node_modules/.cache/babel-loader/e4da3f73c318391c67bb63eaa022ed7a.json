{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\Inventory\\\\InventoryMainPage\\\\Model\\\\StockItemUsagePopup.js\";\nimport React, { Component } from \"react\";\nimport { updateForm, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { NormalButton, NormalModal, NormalInput, NormalCheckbox, TableWrapper, InputSearch, Pagination } from \"component/common\";\nimport closeIcon from \"assets/images/close.png\";\nimport _ from \"lodash\";\nimport { Toast } from \"service/toast\";\nexport class StockItemUsagePopupClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      StockItemUsageList: {},\n      meta: {},\n      productList: \"\",\n      productListHeader: [{\n        label: \"Select\"\n      }, {\n        label: \"Description\"\n      }, {\n        label: \"Item Code\"\n      }, {\n        label: \"Link Code\"\n      }],\n      productListMeta: {},\n      selectAll: false,\n      isRetail: 0,\n      Retail: false,\n      Salon: true,\n      search: \"\",\n      isOpenPriceModal: false,\n      item_uomid: \"\",\n      item_uomdesc: \"\",\n      item_qty: 1,\n      uomprice: [],\n      selectedProductItem: {},\n      selectedCheckboxValue: false\n    };\n\n    this.componentDidMount = () => {\n      this.getProductList({});\n    };\n\n    this.getProductList = async data => {\n      await this.setState({\n        productList: []\n      });\n      let {\n        productList,\n        StockItemUsageList,\n        isRetail,\n        search\n      } = this.state;\n      let {\n        page = 1,\n        limit = 6\n      } = data;\n      this.props.getCommonApi(`stockusageproduct/?is_retail=${isRetail}&search=${search}&page=${page}&limit=${limit}`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          await this.setState({\n            productList: data.dataList,\n            productListMeta: data.meta.pagination\n          });\n        }\n      });\n    };\n\n    this.handlePagination = page => {\n      this.getProductList({\n        page: page\n      });\n    };\n\n    this.handlesearch = async event => {\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          };\n          this.setState({\n            search: searchString\n          });\n          this.getProductList(data);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleSelectedProduct = async item => {\n      await this.setState({\n        isOpenPriceModal: true,\n        selectedProductItem: item,\n        selectedCheckboxValue: true,\n        uomprice: item.uomprice\n      });\n    };\n\n    this.handleUOMSelection = async data => {\n      await this.setState({\n        item_uomid: \"\",\n        item_uomdesc: \"\",\n        item_qty: \"\"\n      });\n      await this.setState({\n        item_uomid: data.itemuomprice_id,\n        item_uomdesc: data.itemuom_desc,\n        item_qty: data.qty\n      });\n\n      if (this.state.item_uomdesc && this.state.item_qty && this.state.item_qty > 0) {\n        this.UOMPopupdata();\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please enter valid Qty!\"\n        });\n      }\n    };\n\n    this.UOMPopupdata = async () => {\n      let item = this.state.selectedProductItem;\n      let {\n        StockItemUsageList,\n        productList\n      } = this.state;\n      StockItemUsageList[\"stock_id\"] = item.id;\n      StockItemUsageList[\"item_code\"] = item.item_code;\n      StockItemUsageList[\"link_code\"] = item.link_code;\n      StockItemUsageList[\"ItemDesc\"] = item.item_desc;\n      StockItemUsageList[\"qty\"] = this.state.item_qty;\n      StockItemUsageList[\"uom\"] = this.state.item_uomdesc;\n      StockItemUsageList[\"uom_id\"] = this.state.item_uomid;\n      await this.setState({\n        StockItemUsageList\n      });\n      await this.setState({\n        isOpenPriceModal: false\n      });\n      this.handleConfirm();\n    };\n\n    this.handleRetailCheckbox = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let existing = this.state.isRetail;\n\n      if (name === \"Salon\") {\n        await this.setState({\n          isRetail: 0\n        });\n      } else {\n        await this.setState({\n          isRetail: 1\n        });\n      }\n\n      if (existing !== this.state.isRetail) {\n        let data = {\n          search: \"\"\n        };\n        this.getProductList(data);\n      }\n    };\n\n    this.inputQtyChange = async ({\n      target: {\n        value,\n        name\n      }\n    }, index) => {\n      //this.setState({ item_qty: value });\n      let {\n        uomprice\n      } = this.state;\n      uomprice[index][name] = value;\n      this.setState({\n        uomprice\n      });\n    };\n\n    this.handleCloseUOMDialog = () => {\n      this.setState({\n        isOpenPriceModal: false\n      });\n    };\n\n    this.handleConfirm = () => {\n      let {\n        StockItemUsageList\n      } = this.state;\n\n      if (StockItemUsageList) {\n        this.props.newItem(StockItemUsageList);\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please select product!\"\n        });\n      }\n    };\n  }\n\n  render() {\n    let {\n      productList,\n      productListMeta,\n      isRetail,\n      isOpenPriceModal,\n      uomprice\n    } = this.state;\n    return /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"select-category Treatment-usage\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: this.props.isStockItemUsagePopup,\n      handleModal: this.props.handleStockItemUsagePopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.props.handleStockItemUsagePopup,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex h4 justify-content-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    }, \"Item Usage\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"beautesoft-navlink customer-detail row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container table-responsive mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-start mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, \"Product\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      onChange: e => this.handleRetailCheckbox(e),\n      name: \"Salon\",\n      checked: isRetail == 0 ? true : false,\n      label: \"show Salon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      onChange: e => this.handleRetailCheckbox(e),\n      name: \"Retail\",\n      checked: isRetail == 1 ? true : false,\n      label: \"show Retail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-5 w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search product\",\n      onChange: this.handlesearch,\n      name: \"searchText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 23\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"services m-0 row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, productList.length > 0 ? productList.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 fs-13 p-1\",\n        key: data.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"service-tab p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"service-ttl px-1 font-700 fs-11 text-uppercase\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 29\n        }\n      }, data.item_desc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"images cursor-pointer\",\n        onClick: () => this.handleSelectedProduct(data),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: data.Stock_PIC,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 31\n        }\n      }))));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }, \"No data available\"), productListMeta && /*#__PURE__*/React.createElement(Pagination, {\n      handlePagination: this.handlePagination,\n      pageMeta: productListMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"retail-price-modal\",\n      style: {\n        minWidth: \"760px\"\n      },\n      modal: isOpenPriceModal,\n      handleModal: this.handleCloseUOMDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleCloseUOMDialog,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" mt-1 mb-5 mx-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row h5 text-left mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }, \"Select UOM\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row title fs-16 mb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, \"S.No\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, \"Qty\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }\n    }, \"Action\")), uomprice && uomprice.length > 0 ? uomprice.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mb-1 fs-14\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 27\n        }\n      }, index + 1), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      }, data.itemuom_desc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        name: \"qty\",\n        value: data.qty //onChange={this.inputChange}\n        ,\n        onChange: e => this.inputQtyChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"detail-button addtocart\",\n        mainbg: true,\n        className: \"col-12 fs-15 \",\n        label: \"Select\",\n        onClick: () => this.handleUOMSelection(data),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 29\n        }\n      })));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 25\n      }\n    }, \"No data available\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-center justify-content-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"col-2\",\n      mainbg: true,\n      className: \"col-12 ml-4 fs-15 \",\n      label: \"Close\",\n      onClick: this.props.handleStockItemUsagePopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    updateForm,\n    getCommonApi\n  }, dispatch);\n};\n\nexport const StockItemUsagePopup = connect(mapStateToProps, mapDispatchToProps)(StockItemUsagePopupClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Inventory/InventoryMainPage/Model/StockItemUsagePopup.js"],"names":["React","Component","updateForm","getCommonApi","connect","bindActionCreators","NormalButton","NormalModal","NormalInput","NormalCheckbox","TableWrapper","InputSearch","Pagination","closeIcon","_","Toast","StockItemUsagePopupClass","state","StockItemUsageList","meta","productList","productListHeader","label","productListMeta","selectAll","isRetail","Retail","Salon","search","isOpenPriceModal","item_uomid","item_uomdesc","item_qty","uomprice","selectedProductItem","selectedCheckboxValue","componentDidMount","getProductList","data","setState","page","limit","props","then","key","status","dataList","pagination","handlePagination","handlesearch","event","persist","debouncedFn","debounce","searchString","target","value","handleSelectedProduct","item","handleUOMSelection","itemuomprice_id","itemuom_desc","qty","UOMPopupdata","type","message","id","item_code","link_code","item_desc","handleConfirm","handleRetailCheckbox","name","existing","inputQtyChange","index","handleCloseUOMDialog","newItem","render","minWidth","isStockItemUsagePopup","handleStockItemUsagePopup","e","length","map","Stock_PIC","mapStateToProps","mapDispatchToProps","dispatch","StockItemUsagePopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { updateForm, getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalInput,\r\n  NormalCheckbox,\r\n  TableWrapper,\r\n  InputSearch,\r\n  Pagination,\r\n} from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport _ from \"lodash\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport class StockItemUsagePopupClass extends Component {\r\n  state = {\r\n    StockItemUsageList: {},\r\n    meta: {},\r\n    productList: \"\",\r\n    productListHeader: [\r\n      { label: \"Select\" },\r\n      { label: \"Description\" },\r\n      { label: \"Item Code\" },\r\n      { label: \"Link Code\" },\r\n    ],\r\n    productListMeta: {},\r\n    selectAll: false,\r\n    isRetail: 0,\r\n    Retail: false,\r\n    Salon: true,\r\n    search: \"\",\r\n    isOpenPriceModal: false,\r\n    item_uomid: \"\",\r\n    item_uomdesc: \"\",\r\n    item_qty: 1,\r\n    uomprice: [],\r\n    selectedProductItem: {},\r\n    selectedCheckboxValue: false,\r\n  };\r\n  componentDidMount = () => {\r\n    this.getProductList({});\r\n  };\r\n  getProductList = async data => {\r\n    await this.setState({ productList: [] });\r\n    let { productList, StockItemUsageList, isRetail, search } = this.state;\r\n    let { page = 1, limit = 6 } = data;\r\n    this.props\r\n      .getCommonApi(\r\n        `stockusageproduct/?is_retail=${isRetail}&search=${search}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          await this.setState({\r\n            productList: data.dataList,\r\n            productListMeta: data.meta.pagination,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  handlePagination = page => {\r\n    this.getProductList({ page: page });\r\n  };\r\n\r\n  handlesearch = async event => {\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString };\r\n        this.setState({ search: searchString });\r\n        this.getProductList(data);\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleSelectedProduct = async item => {\r\n    await this.setState({\r\n      isOpenPriceModal: true,\r\n      selectedProductItem: item,\r\n      selectedCheckboxValue: true,\r\n      uomprice: item.uomprice,\r\n    });\r\n  };\r\n  handleUOMSelection = async data => {\r\n    await this.setState({\r\n      item_uomid: \"\",\r\n      item_uomdesc: \"\",\r\n      item_qty: \"\",\r\n    });\r\n    await this.setState({\r\n      item_uomid: data.itemuomprice_id,\r\n      item_uomdesc: data.itemuom_desc,\r\n      item_qty: data.qty,\r\n    });\r\n    if (\r\n      this.state.item_uomdesc &&\r\n      this.state.item_qty &&\r\n      this.state.item_qty > 0\r\n    ) {\r\n      this.UOMPopupdata();\r\n    } else {\r\n      Toast({ type: \"error\", message: \"Please enter valid Qty!\" });\r\n    }\r\n  };\r\n  UOMPopupdata = async () => {\r\n    let item = this.state.selectedProductItem;\r\n    let { StockItemUsageList, productList } = this.state;\r\n\r\n    StockItemUsageList[\"stock_id\"] = item.id;\r\n    StockItemUsageList[\"item_code\"] = item.item_code;\r\n    StockItemUsageList[\"link_code\"] = item.link_code;\r\n    StockItemUsageList[\"ItemDesc\"] = item.item_desc;\r\n    StockItemUsageList[\"qty\"] = this.state.item_qty;\r\n    StockItemUsageList[\"uom\"] = this.state.item_uomdesc;\r\n    StockItemUsageList[\"uom_id\"] = this.state.item_uomid;\r\n    await this.setState({ StockItemUsageList });\r\n\r\n    await this.setState({\r\n      isOpenPriceModal: false,\r\n    });\r\n    this.handleConfirm();\r\n  };\r\n\r\n  handleRetailCheckbox = async ({ target: { value, name } }) => {\r\n    let existing = this.state.isRetail;\r\n    if (name === \"Salon\") {\r\n      await this.setState({\r\n        isRetail: 0,\r\n      });\r\n    } else {\r\n      await this.setState({\r\n        isRetail: 1,\r\n      });\r\n    }\r\n    if (existing !== this.state.isRetail) {\r\n      let data = { search: \"\" };\r\n      this.getProductList(data);\r\n    }\r\n  };\r\n\r\n  inputQtyChange = async ({ target: { value, name } }, index) => {\r\n    //this.setState({ item_qty: value });\r\n    let { uomprice } = this.state;\r\n    uomprice[index][name] = value;\r\n    this.setState({ uomprice });\r\n  };\r\n  handleCloseUOMDialog = () => {\r\n    this.setState({ isOpenPriceModal: false });\r\n  };\r\n\r\n  handleConfirm = () => {\r\n    let { StockItemUsageList } = this.state;\r\n    if (StockItemUsageList) {\r\n      this.props.newItem(StockItemUsageList);\r\n    } else {\r\n      Toast({ type: \"error\", message: \"Please select product!\" });\r\n    }\r\n  };\r\n  render() {\r\n    let {\r\n      productList,\r\n      productListMeta,\r\n      isRetail,\r\n      isOpenPriceModal,\r\n      uomprice,\r\n    } = this.state;\r\n    return (\r\n      <NormalModal\r\n        className={\"select-category Treatment-usage\"}\r\n        style={{ minWidth: \"75%\" }}\r\n        modal={this.props.isStockItemUsagePopup}\r\n        handleModal={this.props.handleStockItemUsagePopup}\r\n      >\r\n        <img\r\n          onClick={this.props.handleStockItemUsagePopup}\r\n          className=\"close\"\r\n          src={closeIcon}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"d-flex h4 justify-content-center p-1\">Item Usage</div>\r\n        <div className=\"customer-list container\">\r\n          <div className=\"beautesoft-navlink customer-detail row\">\r\n            <div className=\"table-container table-responsive mt-3\">\r\n              <div className=\"d-flex mb-2\">\r\n                <div className=\"col-sm-3\">\r\n                  <div className=\"d-flex justify-content-start mb-2\">\r\n                    <p className=\"h5\">Product</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-sm-9\">\r\n                  <div className=\"d-flex justify-content-end mb-2\">\r\n                    <div className=\"col-sm-2\">\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handleRetailCheckbox(e)}\r\n                        name=\"Salon\"\r\n                        checked={isRetail == 0 ? true : false}\r\n                        label=\"show Salon\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-sm-2\">\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handleRetailCheckbox(e)}\r\n                        name=\"Retail\"\r\n                        checked={isRetail == 1 ? true : false}\r\n                        label=\"show Retail\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-sm-5 w-100\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search product\"\r\n                        onChange={this.handlesearch}\r\n                        name=\"searchText\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <div className=\"services m-0 row\">\r\n                  {productList.length > 0 ? (\r\n                    productList.map((data, index) => {\r\n                      return (\r\n                        <div className=\"col-2 fs-13 p-1\" key={data.id}>\r\n                          <div className=\"service-tab p-0\">\r\n                            <div className=\"service-ttl px-1 font-700 fs-11 text-uppercase\">\r\n                              {data.item_desc}\r\n                            </div>\r\n                            <div\r\n                              className=\"images cursor-pointer\"\r\n                              onClick={() => this.handleSelectedProduct(data)}\r\n                            >\r\n                              <img src={data.Stock_PIC} alt=\"\" />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                      No data available\r\n                    </div>\r\n                  )}\r\n                  {productListMeta && (\r\n                    <Pagination\r\n                      handlePagination={this.handlePagination}\r\n                      pageMeta={productListMeta}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <NormalModal\r\n                className={\"retail-price-modal\"}\r\n                style={{ minWidth: \"760px\" }}\r\n                modal={isOpenPriceModal}\r\n                handleModal={this.handleCloseUOMDialog}\r\n              >\r\n                <img\r\n                  onClick={this.handleCloseUOMDialog}\r\n                  className=\"close\"\r\n                  src={closeIcon}\r\n                  alt=\"\"\r\n                />\r\n\r\n                <div className=\" mt-1 mb-5 mx-3\">\r\n                  <div className=\"row h5 text-left mb-2\">Select UOM</div>\r\n                  <div className=\"row title fs-16 mb-2 fw-500\">\r\n                    <div className=\"col-2\">S.No</div>\r\n                    <div className=\"col-3 text-center\">Type</div>\r\n                    <div className=\"col-3\">Qty</div>\r\n                    <div className=\"col-2\">Action</div>\r\n                  </div>\r\n                  {uomprice && uomprice.length > 0 ? (\r\n                    uomprice.map((data, index) => {\r\n                      return (\r\n                        <div className=\"row mb-1 fs-14\" key={index}>\r\n                          <div className=\"col-1\">{index + 1}</div>\r\n                          <div className=\"col-4 text-center\">\r\n                            {data.itemuom_desc}\r\n                          </div>\r\n                          <div className=\"col-4\">\r\n                            <NormalInput\r\n                              type=\"number\"\r\n                              name=\"qty\"\r\n                              value={data.qty}\r\n                              //onChange={this.inputChange}\r\n                              onChange={e => this.inputQtyChange(e, index)}\r\n                            />\r\n                          </div>\r\n                          <div className=\"col-2\">\r\n                            <NormalButton\r\n                              buttonClass={\"detail-button addtocart\"}\r\n                              mainbg={true}\r\n                              className=\"col-12 fs-15 \"\r\n                              label=\"Select\"\r\n                              onClick={() => this.handleUOMSelection(data)}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr className=\"w-100\">\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          No data available\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </div>\r\n              </NormalModal>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row text-center justify-content-center w-100\">\r\n          <NormalButton\r\n            buttonClass={\"col-2\"}\r\n            mainbg={true}\r\n            className=\"col-12 ml-4 fs-15 \"\r\n            label=\"Close\"\r\n            onClick={this.props.handleStockItemUsagePopup}\r\n          />\r\n        </div>\r\n      </NormalModal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateForm,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const StockItemUsagePopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(StockItemUsagePopupClass);\r\n"]},"metadata":{},"sourceType":"module"}