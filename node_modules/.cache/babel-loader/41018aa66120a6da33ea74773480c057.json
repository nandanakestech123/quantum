{"ast":null,"code":"import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{TableWrapper}from\"component/common\";import{getCommonApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";export var TreatmentHistoryClass=/*#__PURE__*/function(_Component){_inherits(TreatmentHistoryClass,_Component);var _super=_createSuper(TreatmentHistoryClass);function TreatmentHistoryClass(){var _this;_classCallCheck(this,TreatmentHistoryClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"S.No\",divClass:\"justify-content-end text-right\"},{label:\"Date\",divClass:\"justify-content-end text-right\"},{label:\"From\",divClass:\"justify-content-end text-right\"},{label:\"To\",divClass:\"justify-content-end text-right\"},{label:\"Staff Name\"},{label:\"App. Status\"},{label:\"Site\"},{label:\"Sec. Status\"},{label:\"Remarks\"}],upcomingAppointment:[],pageMeta:{},active:false,currentIndex:-1};_this.queryHandler=function(data){var _data$page=data.page,page=_data$page===void 0?1:_data$page,_data$limit=data.limit,limit=_data$limit===void 0?10:_data$limit,_data$search=data.search,search=_data$search===void 0?\"\":_data$search;_this.props.getCommonApi(\"custapptupcoming/?cust_id=\".concat(_this.props.id,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(function(res){console.log(res,\"customerappointmentupdatedupcominglist\");var data=res.data;var _this$state=_this.state,upcomingAppointment=_this$state.upcomingAppointment,pageMeta=_this$state.pageMeta;upcomingAppointment=[];pageMeta={};_this.setState({upcomingAppointment:upcomingAppointment,pageMeta:pageMeta});if(data&&data.dataList){upcomingAppointment=data.dataList;pageMeta=data.meta.pagination;}_this.setState({upcomingAppointment:upcomingAppointment,pageMeta:pageMeta});});};_this.handleClick=function(key){var currentIndex;if(_this.state.active==true){_this.setState({active:false,currentIndex:\"-1\"});}else{_this.setState({active:true,currentIndex:key});}};_this.handlePagination=function(page){_this.queryHandler(page);};return _this;}_createClass(TreatmentHistoryClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({CustomerId:this.props.id});this.queryHandler({});}// api call for list\n},{key:\"render\",value:function render(){var _this$state2=this.state,headerDetails=_this$state2.headerDetails,upcomingAppointment=_this$state2.upcomingAppointment,pageMeta=_this$state2.pageMeta,currentIndex=_this$state2.currentIndex;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},upcomingAppointment&&upcomingAppointment.length>0&&upcomingAppointment.map(function(item,index){var id=item.id,appt_date=item.appt_date,appt_fr_time=item.appt_fr_time,appt_to_time=item.appt_to_time,emp_name=item.emp_name,appt_status=item.appt_status,itemsite_code=item.itemsite_code,sec_status=item.sec_status,appt_remark=item.appt_remark;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},index+1)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},appt_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},appt_fr_time)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},appt_to_time)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},emp_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},appt_status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},itemsite_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},sec_status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},appt_remark)));}))))));}}]);return TreatmentHistoryClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{// filter: state.dashboard\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonDeleteApi:commonDeleteApi},dispatch);};export var TreatmentHistory=connect(mapStateToProps,mapDispatchToProps)(TreatmentHistoryClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Details/TreatmentHistory.js"],"names":["React","Component","TableWrapper","getCommonApi","commonDeleteApi","connect","bindActionCreators","TreatmentHistoryClass","state","headerDetails","label","divClass","upcomingAppointment","pageMeta","active","currentIndex","queryHandler","data","page","limit","search","props","id","then","res","console","log","setState","dataList","meta","pagination","handleClick","key","handlePagination","CustomerId","length","map","item","index","appt_date","appt_fr_time","appt_to_time","emp_name","appt_status","itemsite_code","sec_status","appt_remark","mapStateToProps","mapDispatchToProps","dispatch","TreatmentHistory"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { TableWrapper } from \"component/common\";\r\nimport { getCommonApi, commonDeleteApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nexport class TreatmentHistoryClass extends Component {\r\n  state = {\r\n    headerDetails: [\r\n      {\r\n        label: \"S.No\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Date\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"From\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"To\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Staff Name\",\r\n      },\r\n      {\r\n        label: \"App. Status\",\r\n      },\r\n      {\r\n        label: \"Site\",\r\n      },\r\n      {\r\n        label: \"Sec. Status\",\r\n      },\r\n      {\r\n        label: \"Remarks\",\r\n      },\r\n    ],\r\n    upcomingAppointment: [],\r\n    pageMeta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      CustomerId: this.props.id,\r\n    });\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // api call for list\r\n  queryHandler = data => {\r\n    let { page = 1, limit = 10, search = \"\" } = data;\r\n    this.props\r\n      .getCommonApi(\r\n        `custapptupcoming/?cust_id=${this.props.id}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"customerappointmentupdatedupcominglist\");\r\n        let { data } = res;\r\n        let { upcomingAppointment, pageMeta } = this.state;\r\n        upcomingAppointment = [];\r\n        pageMeta = {};\r\n        this.setState({\r\n          upcomingAppointment,\r\n          pageMeta,\r\n        });\r\n        if (data && data.dataList) {\r\n          upcomingAppointment = data.dataList;\r\n          pageMeta = data.meta.pagination;\r\n        }\r\n        this.setState({\r\n          upcomingAppointment,\r\n          pageMeta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleClick = key => {\r\n    let currentIndex;\r\n    if (this.state.active == true) {\r\n      this.setState({\r\n        active: false,\r\n        currentIndex: \"-1\",\r\n      });\r\n    } else {\r\n      this.setState({\r\n        active: true,\r\n        currentIndex: key,\r\n      });\r\n    }\r\n  };\r\n\r\n  handlePagination = page => {\r\n    this.queryHandler(page);\r\n  };\r\n\r\n  render() {\r\n    let { headerDetails, upcomingAppointment, pageMeta, currentIndex } =\r\n      this.state;\r\n    return (\r\n      <>\r\n        <div className=\"\">\r\n          <div className=\"py-4\">\r\n            <div className=\"table\">\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n                pageMeta={pageMeta}\r\n              >\r\n                {upcomingAppointment &&\r\n                  upcomingAppointment.length > 0 &&\r\n                  upcomingAppointment.map((item, index) => {\r\n                    let {\r\n                      id,\r\n                      appt_date,\r\n                      appt_fr_time,\r\n                      appt_to_time,\r\n                      emp_name,\r\n                      appt_status,\r\n                      itemsite_code,\r\n                      sec_status,\r\n                      appt_remark,\r\n                    } = item;\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td>\r\n                          <div className=\"text-right\">{index + 1}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{appt_date}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{appt_fr_time}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{appt_to_time}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{emp_name}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{appt_status}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{itemsite_code}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{sec_status}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{appt_remark}</div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n              </TableWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TreatmentHistory = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TreatmentHistoryClass);\r\n"]},"metadata":{},"sourceType":"module"}