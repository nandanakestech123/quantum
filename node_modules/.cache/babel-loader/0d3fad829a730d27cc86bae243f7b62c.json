{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Inventory\\\\StocksRTN\\\\AddStocksRTN\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { NormalInput, NormalSelect, NormalButton, NormalDateTime, NormalMultiSelect, NormalTextarea } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { getJobtitle, getCommonApi, commonCreateApi, commonUpdateApi, commonDeleteApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\nimport { NavLink } from \"react-router-dom\";\nimport { Address } from \"./address\";\nimport { Details } from \"./details\";\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\nimport { getTokenDetails } from \"redux/actions/auth\";\nimport { useLocation } from \"react-router-dom\";\nimport { history } from \"helpers\";\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\nimport PDF from \"../../StocksPDF/RTN/index\";\nexport class AddStocksRTNClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        DOC_NO: \"\",\n        SUPPLY_NO: \"\",\n        DOC_REF1: \"\",\n        DOC_DATE: new Date(),\n        DOC_SHIP: new Date(),\n        DOC_REF2: \"\",\n        DOC_STATUS: \"\",\n        DOC_TERM: \"\",\n        STORE_NO: \"\",\n        DOC_REMK1: \"\",\n        CREATE_USER: \"\"\n      },\n      fkProject: \"\",\n      fkQuotation: \"\",\n      statusOption: [],\n      countryOption: [],\n      stateOption: [],\n      cityOption: [],\n      siteOption: [],\n      empOption: [],\n      supOption: [],\n      itemListBeforeEdit: [],\n      isPrintPdfClick: false,\n      listDetail: {},\n      siteAddr: [],\n      disableEdit: false,\n      is_loading: true,\n      isMounted: true,\n      render: false,\n      formFieldsBillingStored: [],\n      formFieldsShippingStored: [],\n      storedItemListStored: [],\n      formFieldsDetailsStored: {},\n      active: false,\n      currentValue: 0,\n      navLinks: [{\n        to: this.props.location.pathname,\n        label: \"Details\",\n        id: \"Details\"\n      }, {\n        to: this.props.location.pathname,\n        label: \"Address\",\n        id: \"Address\"\n      }],\n      selectedMenu: \"Details\"\n    };\n\n    this.componentWillMount = () => {\n      // if (this.props.location.state){\n      //   if(this.props.location.state.quoId){\n      //     this.state.fkQuotation = this.props.location.state.quoId\n      //     this.setState({fkQuotation : this.state.fkQuotation})\n      //     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n      //     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n      //   }\n      // }\n      this.validator = new SimpleReactValidator({\n        validators: {},\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n    };\n\n    this.componentDidMount = () => {\n      // if (this.props.location.state){\n      //   if(this.props.location.state.projectFk){\n      //     this.state.fkProject = this.props.location.state.projectFk\n      //     this.setState({fkProject : this.state.fkProject})\n      //     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n      //     console.log(\"this.state.fkProject\",this.state.fkProject)\n      //   }\n      // this.state.fkQuotation = this.props.location.state.quoId\n      // this.setState({fkQuotation : this.state.fkQuotation})\n      // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n      // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n      // }\n      this.getStatus();\n      this.getCountry();\n      this.getState();\n      this.getCity();\n      this.getSiteCode();\n      this.getSup();\n      this.getEmp(); // this.getStatus()\n\n      this.getSiteDetail();\n      console.log(\"this.props\", this.props);\n      console.log(\"this.state\", this.state); // console.log(\"useLocation()\",useLocation())\n      // if(this.props.match.params.id) {\n      //   this.getAutofillItemDetails()\n      // }\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleClick = async key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      await this.setState({\n        selectedMenu: key.id\n      });\n      this.setState({\n        active: true,\n        currentValue: key.key,\n        selected: key.id\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleDatePick = async (name, value) => {\n      // dateFormat(new Date())\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.updateState({\n        formFields\n      });\n    };\n\n    this.getEmp = () => {\n      let {\n        empOption\n      } = this.state;\n      empOption = [];\n      this.props.getCommonApi(`employeelist`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          empOption.push({\n            value: key.Emp_no,\n            label: key.Emp_name,\n            code: key.Emp_code // active: key.itm_isactive,\n\n          });\n        }\n\n        console.log(\"empOption\", empOption);\n        this.setState({\n          empOption\n        });\n\n        if (this.props.match.params.id) {\n          this.autoFillForm();\n        } else {\n          this.prefillDefault();\n          this.setState({\n            render: true\n          });\n        }\n      });\n    };\n\n    this.getSup = () => {\n      let {\n        supOption\n      } = this.state;\n      supOption = [];\n      this.props.getCommonApi(`itemsupply`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          supOption.push({\n            value: key.SPLY_CODE,\n            label: key.SUPPLYDESC // code: key.itm_code,\n            // active: key.itm_isactive,\n\n          });\n        }\n\n        console.log(\"supOption\", supOption);\n        this.setState({\n          supOption\n        }); // if(!this.props.match.params.id){\n        //   this.setState({render: true})\n        // }\n        // if (this.props.match.params.id) {\n        //   this.autoFillForm()\n        // };\n      });\n    };\n\n    this.prefillDefault = () => {\n      let {\n        disableEdit,\n        statusOption,\n        empOption,\n        supOption\n      } = this.state;\n\n      if (empOption.length !== 0) {\n        //matching status name with the id to set prefill status in dropdown\n        this.state.formFields[\"CREATE_USER\"] = empOption.find(option => option.label === this.props.tokenDetail.username).value;\n      }\n\n      if (statusOption.length !== 0) {\n        //matching status name with the id to set prefill status in dropdown\n        this.state.formFields[\"DOC_STATUS\"] = statusOption.find(option => option.label === \"Open\").value;\n      }\n\n      this.state.formFields[\"STORE_NO\"] = 1;\n      this.setState(this.state.formFields);\n    };\n\n    this.getSiteCode = () => {\n      let {\n        siteOption\n      } = this.state;\n      siteOption = [];\n      this.props.getCommonApi(`sitecode`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          siteOption.push({\n            value: key.ID,\n            label: key.SITE_DESC,\n            code: key.ITEMSITE_CODE // active: key.itm_isactive,\n\n          });\n        }\n\n        console.log(\"siteOption\", siteOption);\n        this.setState({\n          siteOption\n        });\n      });\n    };\n\n    this.getStatus = () => {\n      let {\n        statusOption\n      } = this.state;\n      statusOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`dropdown`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          statusOption.push({\n            value: key.id,\n            label: key.AllDropdown_Item,\n            code: key.AllDropdown_Desc,\n            active: key.Active\n          });\n        }\n\n        for (var i = 0; i < statusOption.length; i++) {\n          if (statusOption[i].label == \"Approved\") {\n            statusOption.splice(i, 1);\n          }\n\n          if (statusOption[i].label == \"Not Approved\") {\n            statusOption.splice(i, 1);\n          }\n        }\n\n        if (!this.props.match.params.id) {\n          for (var i = 0; i < statusOption.length; i++) {\n            if (statusOption[i].label == \"Posted\") {\n              statusOption.splice(i, 1);\n            }\n          }\n        }\n\n        console.log(\"statusOption\", statusOption);\n        this.setState({\n          statusOption\n        });\n      });\n    };\n\n    this.getCountry = () => {\n      let {\n        countryOption\n      } = this.state;\n      countryOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`country`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          countryOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"countryOption\", countryOption);\n        this.setState({\n          countryOption\n        });\n      });\n    };\n\n    this.getState = () => {\n      let {\n        stateOption\n      } = this.state;\n      stateOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`state`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          stateOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"stateOption\", stateOption);\n        this.setState({\n          stateOption\n        });\n      });\n    };\n\n    this.getCity = () => {\n      let {\n        cityOption\n      } = this.state;\n      cityOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`city`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          cityOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"cityOption\", cityOption);\n        this.setState({\n          cityOption\n        });\n      });\n    };\n\n    this.getSiteDetail = () => {\n      let {\n        siteAddr\n      } = this.state;\n      siteAddr = [];\n      this.props.getCommonApi(`sitecode`).then(res => {\n        console.log(\"res.data\", res);\n        siteAddr = res.data;\n        console.log(\"siteAddr\", siteAddr);\n        this.setState({\n          siteAddr\n        });\n      });\n    };\n\n    this.getAutofillItemDetails = DOC_NO => {\n      let {\n        render\n      } = this.state;\n      this.props.getCommonApi(`vgrnitem/?searchdocno=${DOC_NO}&limit=10000`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res); // this.state.storedItemListStored = res.data.dataList\n\n        if (res.status == 200) {\n          for (let item of res.data.dataList) {\n            this.state.storedItemListStored.push({\n              item_code: item.ITEMCODE,\n              Item_Desc: item.ITEMDESC,\n              brand_itm_desc: item.itmBrandDesc,\n              range_itm_desc: item.itmRangeDesc,\n              UOM_DESC: item.DOC_UOMTYPE,\n              ITEM_UOM: item.DOC_UOM,\n              item_cost: item.DOC_PRICE,\n              item_quantity: item.DOC_QTY,\n              amount: item.DOC_AMT,\n              item_remarks: item.ITEM_REMARK,\n              editing: false\n            });\n            this.state.itemListBeforeEdit.push({\n              item_id: item.DOC_ID,\n              item_code: item.ITEMCODE,\n              UOM_DESC: item.DOC_UOMTYPE\n            });\n          }\n\n          this.setState(this.state.storedItemListStored);\n          this.setState(this.state.itemListBeforeEdit);\n          console.log(\"this.state.itemListBeforeEdit\", this.state.itemListBeforeEdit);\n        }\n\n        this.setState({\n          render: true\n        });\n      });\n    };\n\n    this.storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\n      this.state.formFieldsBillingStored = formFieldsBilling;\n      this.state.formFieldsShippingStored = formFieldsShipping; // this.state.formFieldsShippingStored = formFieldsShipping\n      // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\n\n      console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\n      console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\n      console.log(\"formFieldsBillingStored in addpo\", this.state.formFieldsBillingStored);\n      console.log(\"formFieldsShippingStored in addpo\", this.state.formFieldsShippingStored);\n      this.setState(this.state.formFieldsBillingStored);\n      this.setState(this.state.formFieldsShippingStored);\n    };\n\n    this.storeItemDetails = (storedItemList, formFields) => {\n      this.state.storedItemListStored = storedItemList;\n      this.state.formFieldsDetailsStored = formFields;\n      console.log(\"storedItemList in addquo\", storedItemList);\n      console.log(\"formFields in addquo\", formFields);\n      console.log(\"storedItemListStored in addpo\", this.state.storedItemListStored);\n      console.log(\"formFieldsDetailsStored in addpo\", this.state.formFieldsDetailsStored);\n      this.setState(this.state.storedItemListStored);\n      this.setState(this.state.formFieldsDetailsStored);\n    };\n\n    this.autoFillForm = () => {\n      let {\n        disableEdit,\n        statusOption,\n        empOption,\n        supOption\n      } = this.state;\n      this.props.getCommonApi(`vgrnlist/?searchdocid=${this.props.match.params.id}`).then(async res => {\n        console.log(\"grn dataList\", res.data.dataList); // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n        // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"DOC_NO\"] = res.data.dataList[0].DOC_NO;\n        this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO; // if (res.data.dataList[0].SUPPLY_NO && supOption.length!==0) {\n        //   //matching status name with the id to set prefill status in dropdown\n        //   this.state.formFields[\"SUPPLY_NO\"] = supOption.find(option => option.label === res.data.dataList[0].SUPPLY_NO).value\n        //   console.log(\"res.data.dataList[0].SUPPLY_NO\",res.data.dataList[0].SUPPLY_NO)\n        // }\n\n        this.state.formFields[\"DOC_REF1\"] = res.data.dataList[0].DOC_REF1;\n        this.state.formFields[\"DOC_DATE\"] = res.data.dataList[0].DOC_DATE;\n        this.state.formFields[\"DOC_SHIP\"] = res.data.dataList[0].DOC_SHIP;\n        this.state.formFields[\"DOC_REF2\"] = res.data.dataList[0].DOC_REF2;\n        console.log(\"statusOption in prefill\", this.state.statusOption);\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].DOC_STATUS); // if status empty prevent err\n\n        if (res.data.dataList[0].DOC_STATUS && statusOption.length !== 0) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFields[\"DOC_STATUS\"] = statusOption.find(option => option.label === res.data.dataList[0].DOC_STATUS).value;\n          console.log(\"res.data.dataList[0].DOC_STATUS\", res.data.dataList[0].DOC_STATUS);\n\n          if (res.data.dataList[0].DOC_STATUS == \"Posted\") {\n            disableEdit = true; // for (var i = 0; i < statusOption.length; i++){\n            //   if(statusOption[i].label == \"Posted\") {\n            //     statusOption = statusOption.filter(e => e.label !== 'Open')\n            //   }\n            // }\n            // console.log(\"statusOption when status is posted\",statusOption)\n\n            this.setState({\n              disableEdit\n            });\n            console.log(\"this.state.disableEdit\", disableEdit);\n          }\n        }\n\n        this.state.formFields[\"DOC_TERM\"] = res.data.dataList[0].DOC_TERM;\n        this.state.formFields[\"STORE_NO\"] = 1;\n        this.state.formFields[\"DOC_REMK1\"] = res.data.dataList[0].DOC_REMK1;\n\n        if (res.data.dataList[0].CREATE_USER && empOption.length !== 0) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFields[\"CREATE_USER\"] = empOption.find(option => option.label === res.data.dataList[0].CREATE_USER).value;\n        }\n\n        this.state.formFieldsDetailsStored.DOC_AMT = res.data.dataList[0].DOC_AMT;\n        this.state.formFieldsDetailsStored.DOC_QTY = res.data.dataList[0].DOC_QTY;\n        this.state.formFieldsBillingStored.to = res.data.dataList[0].BNAME;\n        this.state.formFieldsBillingStored.address1 = res.data.dataList[0].BADDR1;\n        this.state.formFieldsBillingStored.address2 = res.data.dataList[0].BADDR2;\n        this.state.formFieldsBillingStored.address3 = res.data.dataList[0].BADDR3;\n        this.state.formFieldsBillingStored.postalCode = res.data.dataList[0].BPOSTCODE;\n\n        if (res.data.dataList[0].BCITY) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data.dataList[0].BCITY).value;\n        }\n\n        if (res.data.dataList[0].BSTATE) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data.dataList[0].BSTATE).value;\n        }\n\n        if (res.data.dataList[0].BCOUNTRY) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data.dataList[0].BCOUNTRY).value;\n        } // this.state.formFieldsShippingStored.to = res.data.dataList[0].shipto\n\n\n        this.state.formFieldsShippingStored.address1 = res.data.dataList[0].DADDR1;\n        this.state.formFieldsShippingStored.address2 = res.data.dataList[0].DADDR2;\n        this.state.formFieldsShippingStored.address3 = res.data.dataList[0].DADDR3;\n        this.state.formFieldsShippingStored.postalCode = res.data.dataList[0].DPOSTCODE;\n\n        if (res.data.dataList[0].DCITY) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data.dataList[0].DCITY).value;\n        }\n\n        if (res.data.dataList[0].DSTATE) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data.dataList[0].DSTATE).value;\n        }\n\n        if (res.data.dataList[0].DCOUNTRY) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data.dataList[0].DCOUNTRY).value;\n        }\n\n        console.log(\"this.state.formFieldsBillingStored in autofillAddr\", this.state.formFieldsBillingStored);\n        console.log(\"this.state.formFieldsShippingStored in autofillAddr\", this.state.formFieldsShippingStored);\n        this.setState(this.state.formFieldsBillingStored);\n        this.setState(this.state.formFieldsShippingStored);\n        this.updateState(this.state.formFields);\n        this.setState(this.state.formFieldsDetailsStored);\n        console.log(\"this.state.formFields\", this.state.formFields);\n        this.getAutofillItemDetails(res.data.dataList[0].DOC_NO);\n      });\n    };\n\n    this.handleItemDetailsSubmit = resRTN => {\n      let {\n        storedItemListStored,\n        itemListBeforeEdit\n      } = this.state;\n\n      for (let item of itemListBeforeEdit) {\n        let found = storedItemListStored.some(el => el.item_code === item.item_code && el.UOM_DESC === item.UOM_DESC);\n\n        if (!found) {\n          this.props.commonDeleteApi(`vgrnitem/${item.item_id}/`).then(res => {});\n        }\n      }\n\n      console.log(\"storedItemListStored in submit\", storedItemListStored);\n      console.log(\"resRTN in item sub\", resRTN);\n\n      for (let item of storedItemListStored) {\n        const formDataItem = new FormData();\n        formDataItem.append(\"ITEMCODE\", item.item_code);\n        formDataItem.append(\"ITEMDESC\", item.Item_Desc);\n        formDataItem.append(\"DOC_UOMTYPE\", item.UOM_DESC);\n        formDataItem.append(\"DOC_UOM\", item.ITEM_UOM);\n        formDataItem.append(\"itmBrandDesc\", item.brand_itm_desc);\n        formDataItem.append(\"itmRangeDesc\", item.range_itm_desc);\n        formDataItem.append(\"DOC_PRICE\", item.item_cost);\n        formDataItem.append(\"DOC_QTY\", item.item_quantity);\n        formDataItem.append(\"DOC_AMT\", item.amount);\n        formDataItem.append(\"ITEM_REMARK\", item.item_remarks);\n        this.props.getCommonApi(`vgrnitem/?searchdocno=${resRTN.data.DOC_NO}&searchitemcode=${item.item_code}&searchuom=${item.UOM_DESC}`).then(resGetItem => {\n          if (resGetItem.status == 200) {\n            console.log(\"resGetItem\", resGetItem);\n            this.props.commonUpdateApi(`vgrnitem/${resGetItem.data.dataList[0].DOC_ID}/`, formDataItem).then(resUpdateItem => {\n              console.log(\"resUpdateItem\", resUpdateItem);\n              history.push(`/admin/inventory`);\n            });\n          } else if (resGetItem.status == 204) {\n            formDataItem.append(\"DOC_NO\", resRTN.data.DOC_NO);\n            this.props.commonCreateApi(`vgrnitem/`, formDataItem).then(resCreateItem => {\n              console.log(\"resCreateItem\", resCreateItem);\n              history.push(`/admin/inventory`);\n            });\n          }\n        });\n      }\n    };\n\n    this.handleAddressSubmit = resPO => {\n      let {\n        cityOption,\n        countryOption,\n        stateOption\n      } = this.state; //submit address\n\n      const formDataAddress = new FormData();\n      console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\", this.state.formFieldsBillingStored);\n      console.log(\"this.state.formFieldsBillingStored.to\", this.state.formFieldsBillingStored.to);\n      console.log(\"this.state.formFieldsBillingStored.address1\", this.state.formFieldsBillingStored.address1);\n      formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to);\n      formDataAddress.append(\"bill_addr1\", this.state.formFieldsBillingStored.address1);\n      formDataAddress.append(\"bill_addr2\", this.state.formFieldsBillingStored.address2);\n      formDataAddress.append(\"bill_addr3\", this.state.formFieldsBillingStored.address3);\n      formDataAddress.append(\"bill_postalcode\", this.state.formFieldsBillingStored.postalCode); // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\n\n      formDataAddress.append(\"bill_city\", this.state.formFieldsBillingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label : \"\");\n      formDataAddress.append(\"bill_state\", this.state.formFieldsBillingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.state)).label : \"\");\n      formDataAddress.append(\"bill_country\", this.state.formFieldsBillingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label : \"\");\n      formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to);\n      formDataAddress.append(\"ship_addr1\", this.state.formFieldsShippingStored.address1);\n      formDataAddress.append(\"ship_addr2\", this.state.formFieldsShippingStored.address2);\n      formDataAddress.append(\"ship_addr3\", this.state.formFieldsShippingStored.address3);\n      formDataAddress.append(\"ship_postalcode\", this.state.formFieldsShippingStored.postalCode);\n      formDataAddress.append(\"ship_city\", this.state.formFieldsShippingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.city)).label : \"\");\n      formDataAddress.append(\"ship_state\", this.state.formFieldsShippingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.state)).label : \"\");\n      formDataAddress.append(\"ship_country\", this.state.formFieldsShippingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.country)).label : \"\");\n      this.props.getCommonApi(`poaddr/?searchpoaddrid=${resPO.data.id}`).then(resGetAddr => {\n        if (resGetAddr.status == 200) {\n          console.log(\"resGetAddr\", resGetAddr);\n          this.props.commonUpdateApi(`poaddr/${resGetAddr.data[0].id}/`, formDataAddress).then(resUpdateAddr => {\n            console.log(\"resCreateAddr\", resUpdateAddr);\n          });\n        } else if (resGetAddr.status == 204) {\n          formDataAddress.append(\"fk_po\", resPO.data.id);\n          this.props.commonCreateApi(`poaddr/`, formDataAddress).then(resCreateAddr => {\n            console.log(\"resCreateAddr\", resCreateAddr);\n          });\n        }\n      });\n    };\n\n    this.handleSubmit = async DOC_STATUS => {\n      try {\n        if (this.validator.allValid()) {\n          let {\n            formFields,\n            statusOption,\n            cityOption,\n            stateOption,\n            countryOption,\n            supOption,\n            empOption,\n            formFieldsDetailsStored\n          } = this.state; // let statusValue =\"\"\n          // console.log('formFields.status', formFields.status)\n          // for (let key of statusOption){\n          //   // console.log(key.value)\n          //   if(key.value == formFields.status){\n          //     statusValue = key.label\n          //   }\n          // }\n          // console.log(\"statusValue\", statusValue)\n\n          const formData = new FormData(); // formData.append(\"po_number\", formFields.PONumber);\n          //check save or post\n          // if(status){\n          //   formData.append(\"status\", \"Posted\");\n          // }else{\n          //   formData.append(\"status\", statusValue);\n          // }\n          // formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO);\n\n          formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO); // ?\n          // supOption.find(option => option.value === formFields.SUPPLY_NO).label\n          // : \"\");\n\n          formData.append(\"DOC_REF1\", formFields.DOC_REF1);\n          formData.append(\"DOC_DATE\", dateFormat(formFields.DOC_DATE) + \" 00:00:00\");\n          formData.append(\"DOC_SHIP\", dateFormat(formFields.DOC_SHIP) + \" 00:00:00\");\n          formData.append(\"DOC_REF2\", formFields.DOC_REF2);\n\n          if (DOC_STATUS) {\n            formData.append(\"DOC_STATUS\", \"Posted\");\n          } else {\n            formData.append(\"DOC_STATUS\", formFields.DOC_STATUS ? statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label : \"\");\n          } // console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\n\n\n          formData.append(\"DOC_TERM\", formFields.DOC_TERM); // formData.append(\"STORE_NO\", formFields.STORE_NO);\n\n          formData.append(\"STORE_NO\", this.props.tokenDetail.site_code);\n          formData.append(\"DOC_REMK1\", formFields.DOC_REMK1);\n          formData.append(\"CREATE_USER\", formFields.CREATE_USER ? empOption.find(option => option.value === parseInt(formFields.CREATE_USER)).label : \"\");\n          formData.append(\"STAFF_NO\", formFields.CREATE_USER ? empOption.find(option => option.value === parseInt(formFields.CREATE_USER)).code : \"\");\n          formData.append(\"DOC_AMT\", formFieldsDetailsStored.DOC_AMT ? formFieldsDetailsStored.DOC_AMT : \"\");\n          formData.append(\"DOC_QTY\", formFieldsDetailsStored.DOC_QTY ? formFieldsDetailsStored.DOC_QTY : \"\");\n          console.log(\"this.state.formFieldsBillingStored in submit\", this.state.formFieldsBillingStored);\n          formData.append(\"BNAME\", this.state.formFieldsBillingStored.to ? this.state.formFieldsBillingStored.to : \"\");\n          formData.append(\"BADDR1\", this.state.formFieldsBillingStored.address1 ? this.state.formFieldsBillingStored.address1 : \"\");\n          formData.append(\"BADDR2\", this.state.formFieldsBillingStored.address2 ? this.state.formFieldsBillingStored.address2 : \"\");\n          formData.append(\"BADDR3\", this.state.formFieldsBillingStored.address3 ? this.state.formFieldsBillingStored.address3 : \"\");\n          formData.append(\"BPOSTCODE\", this.state.formFieldsBillingStored.postalCode ? this.state.formFieldsBillingStored.postalCode : \"\"); // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\n\n          formData.append(\"BCITY\", this.state.formFieldsBillingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label : \"\");\n          formData.append(\"BSTATE\", this.state.formFieldsBillingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.state)).label : \"\");\n          formData.append(\"BCOUNTRY\", this.state.formFieldsBillingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label : \"\"); // formData.append(\"shipto\", this.state.formFieldsShippingStored.to);\n\n          formData.append(\"DADDR1\", this.state.formFieldsShippingStored.address1 ? this.state.formFieldsShippingStored.address1 : \"\");\n          formData.append(\"DADDR2\", this.state.formFieldsShippingStored.address2 ? this.state.formFieldsShippingStored.address2 : \"\");\n          formData.append(\"DADDR3\", this.state.formFieldsShippingStored.address3 ? this.state.formFieldsShippingStored.address3 : \"\");\n          formData.append(\"DPOSTCODE\", this.state.formFieldsShippingStored.postalCode ? this.state.formFieldsShippingStored.postalCode : \"\");\n          formData.append(\"DCITY\", this.state.formFieldsShippingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.city)).label : \"\");\n          formData.append(\"DSTATE\", this.state.formFieldsShippingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.state)).label : \"\");\n          formData.append(\"DCOUNTRY\", this.state.formFieldsShippingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.country)).label : \"\");\n          console.log(\"formData\", formData);\n\n          if (this.props.match.params.id) {\n            console.log(\"in if loop\");\n            console.log(\"this.props.match.params.id\", this.props.match.params.id);\n            var resRTN = await this.props.commonUpdateApi(`vgrnlist/${this.props.match.params.id}/`, formData); // console.log(resPO);\n            // this.handleAddressSubmit(resPO);\n            // this.handleItemDetailsSubmit(resPO);\n            // if(statusValue == \"Void\"){\n            //   console.log(\"in void loop\")\n            //   await this.props.deletePO(`${this.props.match.params.id}/`)\n            // }\n\n            this.handleItemDetailsSubmit(resRTN);\n            history.push(`/admin/inventory`);\n          } else {\n            console.log(\"this.props before createPO\", this.props); // if (this.props.location.state){\n            //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n            //   formData.append(\"fk_project\", this.props.location.state.projectFk);\n            // }\n            // console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\n            // formData.append(\"fk_project\", this.state.fkProject);\n\n            var resRTN = await this.props.commonCreateApi(`vgrnlist/`, formData);\n            console.log(\"resRTN in createresRTN\", resRTN); // console.log(\"resPO.data.id\",resPO.data.id)\n            // this.handleAddressSubmit(resRTN);\n\n            this.handleItemDetailsSubmit(resRTN);\n            history.push(`/admin/inventory`);\n          }\n        } else {\n          this.validator.showMessages();\n        } // this.updateState({ is_loading: false });\n\n      } catch (e) {\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n\n    this.handlePrintPdfFormat = url => {\n      this.setState({\n        isPrintPdfClick: false\n      });\n      var a = document.createElement(\"a\");\n      a.setAttribute(\"download\", `${new Date()}.pdf`);\n      a.setAttribute(\"href\", url);\n      a.click();\n      window.open(url);\n    };\n\n    this.getListDetail = () => {\n      let {\n        siteAddr,\n        formFieldsDetailsStored,\n        supOption,\n        empOption,\n        listDetail,\n        formFields,\n        isPrintPdfClick\n      } = this.state;\n      let addr = \"\";\n\n      for (let site of siteAddr) {\n        if (site.ItemSite_Code == this.props.tokenDetail.site_code) {\n          addr = site.ItemSite_Address;\n        }\n      }\n\n      listDetail = {\n        DOC_NO: formFields.DOC_NO,\n        Supplier: formFields.SUPPLY_NO && supOption ? supOption.find(option => option.value === formFields.SUPPLY_NO).label : \"\",\n        CREATE_USER: formFields.CREATE_USER && empOption ? empOption.find(option => option.value === formFields.CREATE_USER).label : \"\",\n        DOC_DATE: formFields.DOC_DATE,\n        DOC_REF1: formFields.DOC_REF1,\n        DOC_REF2: formFields.DOC_REF2,\n        DOC_REMK1: formFields.DOC_REMK1,\n        storeName: this.props.tokenDetail.branch,\n        printedBy: this.props.tokenDetail.username,\n        totalQty: formFieldsDetailsStored.DOC_QTY,\n        totalAmt: formFieldsDetailsStored.DOC_AMT,\n        addr: addr\n      };\n      console.log(\"listDetail in getListDetail\", listDetail);\n      isPrintPdfClick = true;\n      this.setState({\n        listDetail,\n        isPrintPdfClick\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      formFields,\n      statusOption,\n      currentValue,\n      navLinks,\n      disableEdit,\n      fkQuotation,\n      siteOption,\n      empOption,\n      supOption,\n      render,\n      isPrintPdfClick,\n      listDetail\n    } = this.state;\n    let {\n      DOC_NO,\n      SUPPLY_NO,\n      DOC_REF1,\n      DOC_DATE,\n      DOC_SHIP,\n      DOC_REF2,\n      DOC_STATUS,\n      DOC_TERM,\n      STORE_NO,\n      DOC_REMK1,\n      CREATE_USER\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5  create-RTN\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category cursor-pointer\",\n      onClick: () => history.push(`/admin/inventory`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 11\n      }\n    }, t(\"StocksRTN\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1160,\n        columnNumber: 11\n      }\n    }, t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Stocks RTN`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"PO-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1164,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1165,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1168,\n        columnNumber: 17\n      }\n    }, t(\"Doc No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: true,\n      placeholder: \"Auto generated\",\n      value: DOC_NO,\n      name: \"DOC_NO\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 17\n      }\n    }, t(\"Supplier No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: supOption,\n      disabled: disableEdit,\n      value: SUPPLY_NO,\n      name: \"SUPPLY_NO\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1192,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Supplier\"), SUPPLY_NO, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1208,\n        columnNumber: 17\n      }\n    }, t(\"GR Ref1\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1211,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: disableEdit,\n      placeholder: \"Enter here\",\n      value: DOC_REF1,\n      name: \"DOC_REF1\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1212,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 17\n      }\n    }, t(\"Doc Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1226,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: DOC_DATE ? new Date(DOC_DATE) : new Date(),\n      name: \"DOC_DATE\" //className=\"dob-pick\"\n      ,\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\" // maxDate={new Date(toDate)}\n      ,\n      showDisabledMonthNavigation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1227,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Doc Date\"), DOC_DATE, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1247,\n        columnNumber: 17\n      }\n    }, t(\"Delivery Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1250,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: DOC_SHIP ? new Date(DOC_SHIP) : new Date(),\n      name: \"DOC_SHIP\" //className=\"dob-pick\"\n      ,\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\" // maxDate={new Date(toDate)}\n      ,\n      showDisabledMonthNavigation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1263,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Delivery Date\"), DOC_SHIP, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1271,\n        columnNumber: 17\n      }\n    }, t(\"GR Ref2\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1274,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: disableEdit,\n      placeholder: \"Enter here\",\n      value: DOC_REF2,\n      name: \"DOC_REF2\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1275,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1285,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 17\n      }\n    }, t(\"Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1289,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: statusOption,\n      disabled: disableEdit,\n      value: DOC_STATUS,\n      name: \"DOC_STATUS\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1290,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1306,\n        columnNumber: 17\n      }\n    }, t(\"Term\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1309,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: disableEdit,\n      placeholder: \"Enter here\",\n      value: DOC_TERM,\n      name: \"DOC_TERM\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1310,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1319,\n        columnNumber: 17\n      }\n    }, t(\"Store Code\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1322,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: [{\n        value: 1,\n        label: this.props.tokenDetail.branch\n      }],\n      disabled: disableEdit,\n      value: STORE_NO,\n      name: \"STORE_NO\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1323,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1333,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Store Code\"), STORE_NO, t(\"required\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1344,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 17\n      }\n    }, t(\"Remarks\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1348,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: DOC_REMK1,\n      name: \"DOC_REMK1\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1349,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1359,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1362,\n        columnNumber: 17\n      }\n    }, t(\"Created By\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1365,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: empOption,\n      disabled: disableEdit,\n      value: CREATE_USER,\n      name: \"CREATE_USER\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1366,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1374,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Created By\"), CREATE_USER, t(\"required\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 RTN-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1384,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1385,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1386,\n        columnNumber: 17\n      }\n    }, navLinks.map(({\n      to,\n      label,\n      id\n    }, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1388,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: to,\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1389,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `sidebar-menu ${currentValue === index ? \"active\" : \"\"}`,\n      onClick: () => this.handleClick({\n        key: index,\n        id: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1390,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sidebar-menu-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1398,\n        columnNumber: 27\n      }\n    }, t(label)))))))), this.state.selectedMenu === \"Details\" && render == true && /*#__PURE__*/React.createElement(Details, {\n      disableEdit: disableEdit,\n      grnId: this.props.match.params.id,\n      quoId: fkQuotation,\n      validator: this.validator,\n      storeItemDetails: this.storeItemDetails.bind(this),\n      storedItemListStored: this.state.storedItemListStored,\n      formFieldsDetailsStored: this.state.formFieldsDetailsStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1406,\n        columnNumber: 17\n      }\n    }), this.state.selectedMenu === \"Address\" && /*#__PURE__*/React.createElement(Address, {\n      disableEdit: disableEdit,\n      storeAddressFields: this.storeAddressFields.bind(this),\n      formFieldsBillingStored: this.state.formFieldsBillingStored,\n      formFieldsShippingStored: this.state.formFieldsShippingStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1420,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1432,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1433,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Cancel\",\n      outline: false,\n      onClick: () => history.push(`/admin/inventory`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1434,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1444,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      disabled: disableEdit,\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Save\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1445,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1455,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      disabled: this.props.match.params.id ? disableEdit : true,\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Post\",\n      outline: false,\n      onClick: () => this.handleSubmit(DOC_STATUS),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1456,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1467,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      disabled: this.props.match.params.id ? false : true,\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Print PDF\",\n      outline: false,\n      onClick: () => this.getListDetail(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1468,\n        columnNumber: 17\n      }\n    })), isPrintPdfClick ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n      document: /*#__PURE__*/React.createElement(PDF, {\n        listDetail: listDetail,\n        itemDetail: this.state.storedItemListStored // Flag={activeTab !== \"detail\" ? 3 : 4}\n        ,\n        landscape: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1481,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1479,\n        columnNumber: 17\n      }\n    }, ({\n      blob,\n      url,\n      loading,\n      error\n    }) => !loading && url ? this.handlePrintPdfFormat(url) : null) : null))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi,\n    commonUpdateApi,\n    commonDeleteApi,\n    updatePO,\n    createPO,\n    deletePO,\n    getTokenDetails\n  }, dispatch);\n};\n\nexport const AddStocksRTN = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddStocksRTNClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Inventory/StocksRTN/AddStocksRTN/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","Address","Details","createPO","updatePO","deletePO","getTokenDetails","useLocation","history","PDFViewer","PDFDownloadLink","BlobProvider","PDF","AddStocksRTNClass","state","formFields","DOC_NO","SUPPLY_NO","DOC_REF1","DOC_DATE","Date","DOC_SHIP","DOC_REF2","DOC_STATUS","DOC_TERM","STORE_NO","DOC_REMK1","CREATE_USER","fkProject","fkQuotation","statusOption","countryOption","stateOption","cityOption","siteOption","empOption","supOption","itemListBeforeEdit","isPrintPdfClick","listDetail","siteAddr","disableEdit","is_loading","isMounted","render","formFieldsBillingStored","formFieldsShippingStored","storedItemListStored","formFieldsDetailsStored","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","componentWillMount","validator","validators","element","message","autoForceUpdate","componentDidMount","getStatus","getCountry","getState","getCity","getSiteCode","getSup","getEmp","getSiteDetail","console","log","updateState","data","setState","handleClick","key","selected","handleChange","target","value","name","Object","assign","handleDatePick","then","res","push","Emp_no","Emp_name","code","Emp_code","match","params","autoFillForm","prefillDefault","SPLY_CODE","SUPPLYDESC","length","find","option","tokenDetail","username","ID","SITE_DESC","ITEMSITE_CODE","AllDropdown_Item","AllDropdown_Desc","Active","i","splice","itm_id","itm_desc","itm_code","itm_isactive","getAutofillItemDetails","status","item","dataList","item_code","ITEMCODE","Item_Desc","ITEMDESC","brand_itm_desc","itmBrandDesc","range_itm_desc","itmRangeDesc","UOM_DESC","DOC_UOMTYPE","ITEM_UOM","DOC_UOM","item_cost","DOC_PRICE","item_quantity","DOC_QTY","amount","DOC_AMT","item_remarks","ITEM_REMARK","editing","item_id","DOC_ID","storeAddressFields","formFieldsBilling","formFieldsShipping","storeItemDetails","storedItemList","BNAME","address1","BADDR1","address2","BADDR2","address3","BADDR3","postalCode","BPOSTCODE","BCITY","city","BSTATE","BCOUNTRY","country","DADDR1","DADDR2","DADDR3","DPOSTCODE","DCITY","DSTATE","DCOUNTRY","handleItemDetailsSubmit","resRTN","found","some","el","formDataItem","FormData","append","resGetItem","resUpdateItem","resCreateItem","handleAddressSubmit","resPO","formDataAddress","parseInt","resGetAddr","resUpdateAddr","resCreateAddr","handleSubmit","allValid","formData","site_code","showMessages","e","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","getListDetail","addr","site","ItemSite_Code","ItemSite_Address","Supplier","storeName","branch","printedBy","totalQty","totalAmt","componentWillUnmount","t","map","index","bind","blob","loading","error","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddStocksRTN"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Address } from \"./address\";\r\nimport { Details } from \"./details\";\r\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { history } from \"helpers\";\r\n\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport PDF from \"../../StocksPDF/RTN/index\";\r\n\r\nexport class AddStocksRTNClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      DOC_NO: \"\",\r\n      SUPPLY_NO: \"\",\r\n      DOC_REF1: \"\",\r\n      DOC_DATE: new Date(),\r\n      DOC_SHIP: new Date(),\r\n      DOC_REF2: \"\",\r\n      DOC_STATUS: \"\",\r\n      DOC_TERM: \"\",\r\n      STORE_NO: \"\",\r\n      DOC_REMK1: \"\",\r\n      CREATE_USER: \"\",\r\n    },\r\n    fkProject: \"\",\r\n    fkQuotation: \"\",\r\n    statusOption: [],\r\n    countryOption: [],\r\n    stateOption: [],\r\n    cityOption: [],\r\n    siteOption: [],\r\n    empOption: [],\r\n    supOption: [],\r\n\r\n    itemListBeforeEdit: [],\r\n\r\n    isPrintPdfClick: false,\r\n    listDetail: {},\r\n    siteAddr: [],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n    render: false,\r\n\r\n    formFieldsBillingStored: [],\r\n    formFieldsShippingStored: [],\r\n    storedItemListStored: [],\r\n    formFieldsDetailsStored: {},\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n      { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    ],\r\n    selectedMenu: \"Details\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.quoId){\r\n    //     this.state.fkQuotation = this.props.location.state.quoId\r\n    //     this.setState({fkQuotation : this.state.fkQuotation})\r\n    //     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    //     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    //   }\r\n\r\n    // }\r\n\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.projectFk){\r\n    //     this.state.fkProject = this.props.location.state.projectFk\r\n    //     this.setState({fkProject : this.state.fkProject})\r\n    //     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n    //     console.log(\"this.state.fkProject\",this.state.fkProject)\r\n    //   }\r\n\r\n    // this.state.fkQuotation = this.props.location.state.quoId\r\n    // this.setState({fkQuotation : this.state.fkQuotation})\r\n\r\n    // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    // }\r\n\r\n    this.getStatus();\r\n    this.getCountry();\r\n    this.getState();\r\n    this.getCity();\r\n    this.getSiteCode();\r\n    this.getSup();\r\n    this.getEmp();\r\n    // this.getStatus()\r\n    this.getSiteDetail();\r\n\r\n    console.log(\"this.props\", this.props);\r\n\r\n    console.log(\"this.state\", this.state);\r\n    // console.log(\"useLocation()\",useLocation())\r\n\r\n    // if(this.props.match.params.id) {\r\n    //   this.getAutofillItemDetails()\r\n    // }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getEmp = () => {\r\n    let { empOption } = this.state;\r\n    empOption = [];\r\n    this.props.getCommonApi(`employeelist`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        empOption.push({\r\n          value: key.Emp_no,\r\n          label: key.Emp_name,\r\n          code: key.Emp_code,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"empOption\", empOption);\r\n      this.setState({ empOption });\r\n      if (this.props.match.params.id) {\r\n        this.autoFillForm();\r\n      } else {\r\n        this.prefillDefault();\r\n        this.setState({ render: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  getSup = () => {\r\n    let { supOption } = this.state;\r\n    supOption = [];\r\n    this.props.getCommonApi(`itemsupply`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        supOption.push({\r\n          value: key.SPLY_CODE,\r\n          label: key.SUPPLYDESC,\r\n          // code: key.itm_code,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"supOption\", supOption);\r\n      this.setState({ supOption });\r\n      // if(!this.props.match.params.id){\r\n      //   this.setState({render: true})\r\n      // }\r\n      // if (this.props.match.params.id) {\r\n      //   this.autoFillForm()\r\n      // };\r\n    });\r\n  };\r\n\r\n  prefillDefault = () => {\r\n    let { disableEdit, statusOption, empOption, supOption } = this.state;\r\n\r\n    if (empOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"CREATE_USER\"] = empOption.find(\r\n        option => option.label === this.props.tokenDetail.username\r\n      ).value;\r\n    }\r\n    if (statusOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"DOC_STATUS\"] = statusOption.find(\r\n        option => option.label === \"Open\"\r\n      ).value;\r\n    }\r\n\r\n    this.state.formFields[\"STORE_NO\"] = 1;\r\n    this.setState(this.state.formFields);\r\n  };\r\n\r\n  getSiteCode = () => {\r\n    let { siteOption } = this.state;\r\n    siteOption = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        siteOption.push({\r\n          value: key.ID,\r\n          label: key.SITE_DESC,\r\n          code: key.ITEMSITE_CODE,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"siteOption\", siteOption);\r\n      this.setState({ siteOption });\r\n    });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.AllDropdown_Item,\r\n          code: key.AllDropdown_Desc,\r\n          active: key.Active,\r\n        });\r\n      }\r\n      for (var i = 0; i < statusOption.length; i++) {\r\n        if (statusOption[i].label == \"Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n        if (statusOption[i].label == \"Not Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Posted\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption });\r\n    });\r\n  };\r\n\r\n  getCountry = () => {\r\n    let { countryOption } = this.state;\r\n    countryOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`country`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        countryOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"countryOption\", countryOption);\r\n      this.setState({ countryOption });\r\n    });\r\n  };\r\n\r\n  getState = () => {\r\n    let { stateOption } = this.state;\r\n    stateOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`state`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        stateOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"stateOption\", stateOption);\r\n      this.setState({ stateOption });\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n    });\r\n  };\r\n\r\n  getSiteDetail = () => {\r\n    let { siteAddr } = this.state;\r\n    siteAddr = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      siteAddr = res.data;\r\n      console.log(\"siteAddr\", siteAddr);\r\n      this.setState({ siteAddr });\r\n    });\r\n  };\r\n\r\n  getAutofillItemDetails = DOC_NO => {\r\n    let { render } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`vgrnitem/?searchdocno=${DOC_NO}&limit=10000`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemListStored.push({\r\n              item_code: item.ITEMCODE,\r\n              Item_Desc: item.ITEMDESC,\r\n              brand_itm_desc: item.itmBrandDesc,\r\n              range_itm_desc: item.itmRangeDesc,\r\n              UOM_DESC: item.DOC_UOMTYPE,\r\n              ITEM_UOM: item.DOC_UOM,\r\n              item_cost: item.DOC_PRICE,\r\n              item_quantity: item.DOC_QTY,\r\n              amount: item.DOC_AMT,\r\n              item_remarks: item.ITEM_REMARK,\r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.DOC_ID,\r\n              item_code: item.ITEMCODE,\r\n              UOM_DESC: item.DOC_UOMTYPE,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemListStored);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n          console.log(\r\n            \"this.state.itemListBeforeEdit\",\r\n            this.state.itemListBeforeEdit\r\n          );\r\n        }\r\n\r\n        this.setState({ render: true });\r\n      });\r\n  };\r\n\r\n  storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\r\n    this.state.formFieldsBillingStored = formFieldsBilling;\r\n    this.state.formFieldsShippingStored = formFieldsShipping;\r\n    // this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\r\n    console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\r\n    console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\r\n    console.log(\r\n      \"formFieldsBillingStored in addpo\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"formFieldsShippingStored in addpo\",\r\n      this.state.formFieldsShippingStored\r\n    );\r\n    this.setState(this.state.formFieldsBillingStored);\r\n    this.setState(this.state.formFieldsShippingStored);\r\n  };\r\n\r\n  storeItemDetails = (storedItemList, formFields) => {\r\n    this.state.storedItemListStored = storedItemList;\r\n    this.state.formFieldsDetailsStored = formFields;\r\n\r\n    console.log(\"storedItemList in addquo\", storedItemList);\r\n    console.log(\"formFields in addquo\", formFields);\r\n    console.log(\r\n      \"storedItemListStored in addpo\",\r\n      this.state.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"formFieldsDetailsStored in addpo\",\r\n      this.state.formFieldsDetailsStored\r\n    );\r\n    this.setState(this.state.storedItemListStored);\r\n    this.setState(this.state.formFieldsDetailsStored);\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption, empOption, supOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`vgrnlist/?searchdocid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"grn dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"DOC_NO\"] = res.data.dataList[0].DOC_NO;\r\n        this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO;\r\n        // if (res.data.dataList[0].SUPPLY_NO && supOption.length!==0) {\r\n        //   //matching status name with the id to set prefill status in dropdown\r\n        //   this.state.formFields[\"SUPPLY_NO\"] = supOption.find(option => option.label === res.data.dataList[0].SUPPLY_NO).value\r\n        //   console.log(\"res.data.dataList[0].SUPPLY_NO\",res.data.dataList[0].SUPPLY_NO)\r\n        // }\r\n        this.state.formFields[\"DOC_REF1\"] = res.data.dataList[0].DOC_REF1;\r\n        this.state.formFields[\"DOC_DATE\"] = res.data.dataList[0].DOC_DATE;\r\n        this.state.formFields[\"DOC_SHIP\"] = res.data.dataList[0].DOC_SHIP;\r\n        this.state.formFields[\"DOC_REF2\"] = res.data.dataList[0].DOC_REF2;\r\n\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\r\n          \"res.data.dataList[0].status\",\r\n          res.data.dataList[0].DOC_STATUS\r\n        );\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].DOC_STATUS && statusOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"DOC_STATUS\"] = statusOption.find(\r\n            option => option.label === res.data.dataList[0].DOC_STATUS\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].DOC_STATUS\",\r\n            res.data.dataList[0].DOC_STATUS\r\n          );\r\n          if (res.data.dataList[0].DOC_STATUS == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            // for (var i = 0; i < statusOption.length; i++){\r\n            //   if(statusOption[i].label == \"Posted\") {\r\n            //     statusOption = statusOption.filter(e => e.label !== 'Open')\r\n            //   }\r\n            // }\r\n            // console.log(\"statusOption when status is posted\",statusOption)\r\n\r\n            this.setState({ disableEdit });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n        this.state.formFields[\"DOC_TERM\"] = res.data.dataList[0].DOC_TERM;\r\n        this.state.formFields[\"STORE_NO\"] = 1;\r\n        this.state.formFields[\"DOC_REMK1\"] = res.data.dataList[0].DOC_REMK1;\r\n        if (res.data.dataList[0].CREATE_USER && empOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"CREATE_USER\"] = empOption.find(\r\n            option => option.label === res.data.dataList[0].CREATE_USER\r\n          ).value;\r\n        }\r\n\r\n        this.state.formFieldsDetailsStored.DOC_AMT =\r\n          res.data.dataList[0].DOC_AMT;\r\n        this.state.formFieldsDetailsStored.DOC_QTY =\r\n          res.data.dataList[0].DOC_QTY;\r\n\r\n        this.state.formFieldsBillingStored.to = res.data.dataList[0].BNAME;\r\n        this.state.formFieldsBillingStored.address1 =\r\n          res.data.dataList[0].BADDR1;\r\n        this.state.formFieldsBillingStored.address2 =\r\n          res.data.dataList[0].BADDR2;\r\n        this.state.formFieldsBillingStored.address3 =\r\n          res.data.dataList[0].BADDR3;\r\n        this.state.formFieldsBillingStored.postalCode =\r\n          res.data.dataList[0].BPOSTCODE;\r\n        if (res.data.dataList[0].BCITY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsBillingStored.city = this.state.cityOption.find(\r\n            option => option.label === res.data.dataList[0].BCITY\r\n          ).value;\r\n        }\r\n        if (res.data.dataList[0].BSTATE) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsBillingStored.state =\r\n            this.state.stateOption.find(\r\n              option => option.label === res.data.dataList[0].BSTATE\r\n            ).value;\r\n        }\r\n        if (res.data.dataList[0].BCOUNTRY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsBillingStored.country =\r\n            this.state.countryOption.find(\r\n              option => option.label === res.data.dataList[0].BCOUNTRY\r\n            ).value;\r\n        }\r\n\r\n        // this.state.formFieldsShippingStored.to = res.data.dataList[0].shipto\r\n        this.state.formFieldsShippingStored.address1 =\r\n          res.data.dataList[0].DADDR1;\r\n        this.state.formFieldsShippingStored.address2 =\r\n          res.data.dataList[0].DADDR2;\r\n        this.state.formFieldsShippingStored.address3 =\r\n          res.data.dataList[0].DADDR3;\r\n        this.state.formFieldsShippingStored.postalCode =\r\n          res.data.dataList[0].DPOSTCODE;\r\n        if (res.data.dataList[0].DCITY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsShippingStored.city = this.state.cityOption.find(\r\n            option => option.label === res.data.dataList[0].DCITY\r\n          ).value;\r\n        }\r\n        if (res.data.dataList[0].DSTATE) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsShippingStored.state =\r\n            this.state.stateOption.find(\r\n              option => option.label === res.data.dataList[0].DSTATE\r\n            ).value;\r\n        }\r\n        if (res.data.dataList[0].DCOUNTRY) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFieldsShippingStored.country =\r\n            this.state.countryOption.find(\r\n              option => option.label === res.data.dataList[0].DCOUNTRY\r\n            ).value;\r\n        }\r\n\r\n        console.log(\r\n          \"this.state.formFieldsBillingStored in autofillAddr\",\r\n          this.state.formFieldsBillingStored\r\n        );\r\n        console.log(\r\n          \"this.state.formFieldsShippingStored in autofillAddr\",\r\n          this.state.formFieldsShippingStored\r\n        );\r\n        this.setState(this.state.formFieldsBillingStored);\r\n        this.setState(this.state.formFieldsShippingStored);\r\n\r\n        this.updateState(this.state.formFields);\r\n        this.setState(this.state.formFieldsDetailsStored);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n        this.getAutofillItemDetails(res.data.dataList[0].DOC_NO);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = resRTN => {\r\n    let { storedItemListStored, itemListBeforeEdit } = this.state;\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemListStored.some(\r\n        el => el.item_code === item.item_code && el.UOM_DESC === item.UOM_DESC\r\n      );\r\n      if (!found) {\r\n        this.props.commonDeleteApi(`vgrnitem/${item.item_id}/`).then(res => {});\r\n      }\r\n    }\r\n\r\n    console.log(\"storedItemListStored in submit\", storedItemListStored);\r\n    console.log(\"resRTN in item sub\", resRTN);\r\n\r\n    for (let item of storedItemListStored) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"ITEMCODE\", item.item_code);\r\n      formDataItem.append(\"ITEMDESC\", item.Item_Desc);\r\n      formDataItem.append(\"DOC_UOMTYPE\", item.UOM_DESC);\r\n      formDataItem.append(\"DOC_UOM\", item.ITEM_UOM);\r\n      formDataItem.append(\"itmBrandDesc\", item.brand_itm_desc);\r\n      formDataItem.append(\"itmRangeDesc\", item.range_itm_desc);\r\n      formDataItem.append(\"DOC_PRICE\", item.item_cost);\r\n      formDataItem.append(\"DOC_QTY\", item.item_quantity);\r\n      formDataItem.append(\"DOC_AMT\", item.amount);\r\n      formDataItem.append(\"ITEM_REMARK\", item.item_remarks);\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `vgrnitem/?searchdocno=${resRTN.data.DOC_NO}&searchitemcode=${item.item_code}&searchuom=${item.UOM_DESC}`\r\n        )\r\n        .then(resGetItem => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `vgrnitem/${resGetItem.data.dataList[0].DOC_ID}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n                history.push(`/admin/inventory`);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"DOC_NO\", resRTN.data.DOC_NO);\r\n            this.props\r\n              .commonCreateApi(`vgrnitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n                history.push(`/admin/inventory`);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleAddressSubmit = resPO => {\r\n    let { cityOption, countryOption, stateOption } = this.state;\r\n    //submit address\r\n    const formDataAddress = new FormData();\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored in handleAddressSubmit\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.to\",\r\n      this.state.formFieldsBillingStored.to\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.address1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to);\r\n    formDataAddress.append(\r\n      \"bill_addr1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr2\",\r\n      this.state.formFieldsBillingStored.address2\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr3\",\r\n      this.state.formFieldsBillingStored.address3\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_postalcode\",\r\n      this.state.formFieldsBillingStored.postalCode\r\n    );\r\n\r\n    // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n    formDataAddress.append(\r\n      \"bill_city\",\r\n      this.state.formFieldsBillingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value === parseInt(this.state.formFieldsBillingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_state\",\r\n      this.state.formFieldsBillingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_country\",\r\n      this.state.formFieldsBillingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to);\r\n    formDataAddress.append(\r\n      \"ship_addr1\",\r\n      this.state.formFieldsShippingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr2\",\r\n      this.state.formFieldsShippingStored.address2\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr3\",\r\n      this.state.formFieldsShippingStored.address3\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_postalcode\",\r\n      this.state.formFieldsShippingStored.postalCode\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_city\",\r\n      this.state.formFieldsShippingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_state\",\r\n      this.state.formFieldsShippingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_country\",\r\n      this.state.formFieldsShippingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`poaddr/?searchpoaddrid=${resPO.data.id}`)\r\n      .then(resGetAddr => {\r\n        if (resGetAddr.status == 200) {\r\n          console.log(\"resGetAddr\", resGetAddr);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `poaddr/${resGetAddr.data[0].id}/`,\r\n              formDataAddress\r\n            )\r\n            .then(resUpdateAddr => {\r\n              console.log(\"resCreateAddr\", resUpdateAddr);\r\n            });\r\n        } else if (resGetAddr.status == 204) {\r\n          formDataAddress.append(\"fk_po\", resPO.data.id);\r\n          this.props\r\n            .commonCreateApi(`poaddr/`, formDataAddress)\r\n            .then(resCreateAddr => {\r\n              console.log(\"resCreateAddr\", resCreateAddr);\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSubmit = async DOC_STATUS => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let {\r\n          formFields,\r\n          statusOption,\r\n          cityOption,\r\n          stateOption,\r\n          countryOption,\r\n          supOption,\r\n          empOption,\r\n          formFieldsDetailsStored,\r\n        } = this.state;\r\n        // let statusValue =\"\"\r\n        // console.log('formFields.status', formFields.status)\r\n\r\n        // for (let key of statusOption){\r\n        //   // console.log(key.value)\r\n        //   if(key.value == formFields.status){\r\n        //     statusValue = key.label\r\n        //   }\r\n        // }\r\n        // console.log(\"statusValue\", statusValue)\r\n        const formData = new FormData();\r\n        // formData.append(\"po_number\", formFields.PONumber);\r\n        //check save or post\r\n        // if(status){\r\n        //   formData.append(\"status\", \"Posted\");\r\n        // }else{\r\n        //   formData.append(\"status\", statusValue);\r\n        // }\r\n        // formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO);\r\n        formData.append(\"SUPPLY_NO\", formFields.SUPPLY_NO);\r\n        // ?\r\n        // supOption.find(option => option.value === formFields.SUPPLY_NO).label\r\n        // : \"\");\r\n        formData.append(\"DOC_REF1\", formFields.DOC_REF1);\r\n        formData.append(\r\n          \"DOC_DATE\",\r\n          dateFormat(formFields.DOC_DATE) + \" 00:00:00\"\r\n        );\r\n        formData.append(\r\n          \"DOC_SHIP\",\r\n          dateFormat(formFields.DOC_SHIP) + \" 00:00:00\"\r\n        );\r\n        formData.append(\"DOC_REF2\", formFields.DOC_REF2);\r\n\r\n        if (DOC_STATUS) {\r\n          formData.append(\"DOC_STATUS\", \"Posted\");\r\n        } else {\r\n          formData.append(\r\n            \"DOC_STATUS\",\r\n            formFields.DOC_STATUS\r\n              ? statusOption.find(\r\n                  option => option.value === parseInt(formFields.DOC_STATUS)\r\n                ).label\r\n              : \"\"\r\n          );\r\n        }\r\n\r\n        // console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\r\n        formData.append(\"DOC_TERM\", formFields.DOC_TERM);\r\n        // formData.append(\"STORE_NO\", formFields.STORE_NO);\r\n        formData.append(\"STORE_NO\", this.props.tokenDetail.site_code);\r\n        formData.append(\"DOC_REMK1\", formFields.DOC_REMK1);\r\n\r\n        formData.append(\r\n          \"CREATE_USER\",\r\n          formFields.CREATE_USER\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.CREATE_USER)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"STAFF_NO\",\r\n          formFields.CREATE_USER\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.CREATE_USER)\r\n              ).code\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DOC_AMT\",\r\n          formFieldsDetailsStored.DOC_AMT ? formFieldsDetailsStored.DOC_AMT : \"\"\r\n        );\r\n        formData.append(\r\n          \"DOC_QTY\",\r\n          formFieldsDetailsStored.DOC_QTY ? formFieldsDetailsStored.DOC_QTY : \"\"\r\n        );\r\n\r\n        console.log(\r\n          \"this.state.formFieldsBillingStored in submit\",\r\n          this.state.formFieldsBillingStored\r\n        );\r\n        formData.append(\r\n          \"BNAME\",\r\n          this.state.formFieldsBillingStored.to\r\n            ? this.state.formFieldsBillingStored.to\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BADDR1\",\r\n          this.state.formFieldsBillingStored.address1\r\n            ? this.state.formFieldsBillingStored.address1\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BADDR2\",\r\n          this.state.formFieldsBillingStored.address2\r\n            ? this.state.formFieldsBillingStored.address2\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BADDR3\",\r\n          this.state.formFieldsBillingStored.address3\r\n            ? this.state.formFieldsBillingStored.address3\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"BPOSTCODE\",\r\n          this.state.formFieldsBillingStored.postalCode\r\n            ? this.state.formFieldsBillingStored.postalCode\r\n            : \"\"\r\n        );\r\n\r\n        // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n        formData.append(\r\n          \"BCITY\",\r\n          this.state.formFieldsBillingStored.city\r\n            ? cityOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsBillingStored.city)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"BSTATE\",\r\n          this.state.formFieldsBillingStored.state\r\n            ? stateOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsBillingStored.state)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"BCOUNTRY\",\r\n          this.state.formFieldsBillingStored.country\r\n            ? countryOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsBillingStored.country)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        // formData.append(\"shipto\", this.state.formFieldsShippingStored.to);\r\n        formData.append(\r\n          \"DADDR1\",\r\n          this.state.formFieldsShippingStored.address1\r\n            ? this.state.formFieldsShippingStored.address1\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DADDR2\",\r\n          this.state.formFieldsShippingStored.address2\r\n            ? this.state.formFieldsShippingStored.address2\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DADDR3\",\r\n          this.state.formFieldsShippingStored.address3\r\n            ? this.state.formFieldsShippingStored.address3\r\n            : \"\"\r\n        );\r\n        formData.append(\r\n          \"DPOSTCODE\",\r\n          this.state.formFieldsShippingStored.postalCode\r\n            ? this.state.formFieldsShippingStored.postalCode\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"DCITY\",\r\n          this.state.formFieldsShippingStored.city\r\n            ? cityOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsShippingStored.city)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"DSTATE\",\r\n          this.state.formFieldsShippingStored.state\r\n            ? stateOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsShippingStored.state)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\r\n          \"DCOUNTRY\",\r\n          this.state.formFieldsShippingStored.country\r\n            ? countryOption.find(\r\n                option =>\r\n                  option.value ===\r\n                  parseInt(this.state.formFieldsShippingStored.country)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        console.log(\"formData\", formData);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resRTN = await this.props.commonUpdateApi(\r\n            `vgrnlist/${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          // console.log(resPO);\r\n          // this.handleAddressSubmit(resPO);\r\n          // this.handleItemDetailsSubmit(resPO);\r\n          // if(statusValue == \"Void\"){\r\n          //   console.log(\"in void loop\")\r\n          //   await this.props.deletePO(`${this.props.match.params.id}/`)\r\n          // }\r\n\r\n          this.handleItemDetailsSubmit(resRTN);\r\n          history.push(`/admin/inventory`);\r\n        } else {\r\n          console.log(\"this.props before createPO\", this.props);\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          // console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\r\n          // formData.append(\"fk_project\", this.state.fkProject);\r\n          var resRTN = await this.props.commonCreateApi(`vgrnlist/`, formData);\r\n\r\n          console.log(\"resRTN in createresRTN\", resRTN);\r\n          // console.log(\"resPO.data.id\",resPO.data.id)\r\n\r\n          // this.handleAddressSubmit(resRTN);\r\n          this.handleItemDetailsSubmit(resRTN);\r\n          history.push(`/admin/inventory`);\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  getListDetail = () => {\r\n    let {\r\n      siteAddr,\r\n      formFieldsDetailsStored,\r\n      supOption,\r\n      empOption,\r\n      listDetail,\r\n      formFields,\r\n      isPrintPdfClick,\r\n    } = this.state;\r\n\r\n    let addr = \"\";\r\n\r\n    for (let site of siteAddr) {\r\n      if (site.ItemSite_Code == this.props.tokenDetail.site_code) {\r\n        addr = site.ItemSite_Address;\r\n      }\r\n    }\r\n\r\n    listDetail = {\r\n      DOC_NO: formFields.DOC_NO,\r\n      Supplier:\r\n        formFields.SUPPLY_NO && supOption\r\n          ? supOption.find(option => option.value === formFields.SUPPLY_NO)\r\n              .label\r\n          : \"\",\r\n      CREATE_USER:\r\n        formFields.CREATE_USER && empOption\r\n          ? empOption.find(option => option.value === formFields.CREATE_USER)\r\n              .label\r\n          : \"\",\r\n      DOC_DATE: formFields.DOC_DATE,\r\n      DOC_REF1: formFields.DOC_REF1,\r\n      DOC_REF2: formFields.DOC_REF2,\r\n      DOC_REMK1: formFields.DOC_REMK1,\r\n      storeName: this.props.tokenDetail.branch,\r\n      printedBy: this.props.tokenDetail.username,\r\n      totalQty: formFieldsDetailsStored.DOC_QTY,\r\n      totalAmt: formFieldsDetailsStored.DOC_AMT,\r\n      addr: addr,\r\n    };\r\n    console.log(\"listDetail in getListDetail\", listDetail);\r\n\r\n    isPrintPdfClick = true;\r\n    this.setState({ listDetail, isPrintPdfClick });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      currentValue,\r\n      navLinks,\r\n      disableEdit,\r\n      fkQuotation,\r\n      siteOption,\r\n      empOption,\r\n      supOption,\r\n      render,\r\n      isPrintPdfClick,\r\n      listDetail,\r\n    } = this.state;\r\n\r\n    let {\r\n      DOC_NO,\r\n      SUPPLY_NO,\r\n      DOC_REF1,\r\n      DOC_DATE,\r\n      DOC_SHIP,\r\n      DOC_REF2,\r\n      DOC_STATUS,\r\n      DOC_TERM,\r\n      STORE_NO,\r\n      DOC_REMK1,\r\n      CREATE_USER,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5  create-RTN\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category cursor-pointer\"\r\n            onClick={() => history.push(`/admin/inventory`)}\r\n          >\r\n            {t(\"StocksRTN\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Stocks RTN`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"PO-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Doc No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={DOC_NO}\r\n                    name=\"DOC_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"PO No\"),\r\n                      PONumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Supplier No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={supOption}\r\n                    disabled={disableEdit}\r\n                    value={SUPPLY_NO}\r\n                    name=\"SUPPLY_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Supplier\"),\r\n                    SUPPLY_NO,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"GR Ref1\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={DOC_REF1}\r\n                    name=\"DOC_REF1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Doc Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={DOC_DATE ? new Date(DOC_DATE) : new Date()}\r\n                    name=\"DOC_DATE\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Doc Date\"),\r\n                    DOC_DATE,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Delivery Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={DOC_SHIP ? new Date(DOC_SHIP) : new Date()}\r\n                    name=\"DOC_SHIP\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Delivery Date\"),\r\n                    DOC_SHIP,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"GR Ref2\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={DOC_REF2}\r\n                    name=\"DOC_REF2\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    disabled={disableEdit}\r\n                    value={DOC_STATUS}\r\n                    name=\"DOC_STATUS\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Status\"),\r\n                      DOC_STATUS,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Term\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={DOC_TERM}\r\n                    name=\"DOC_TERM\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Store Code\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={[\r\n                      { value: 1, label: this.props.tokenDetail.branch },\r\n                    ]}\r\n                    disabled={disableEdit}\r\n                    value={STORE_NO}\r\n                    name=\"STORE_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Store Code\"),\r\n                    STORE_NO,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={DOC_REMK1}\r\n                    name=\"DOC_REMK1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12\"></div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Created By\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={empOption}\r\n                    disabled={disableEdit}\r\n                    value={CREATE_USER}\r\n                    name=\"CREATE_USER\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Created By\"),\r\n                    CREATE_USER,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 RTN-content\">\r\n              <div className=\"tab-menus\">\r\n                <ul>\r\n                  {navLinks.map(({ to, label, id }, index) => (\r\n                    <li key={index}>\r\n                      <NavLink to={to} className=\"nav-link\">\r\n                        <div\r\n                          className={`sidebar-menu ${\r\n                            currentValue === index ? \"active\" : \"\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            this.handleClick({ key: index, id: id })\r\n                          }\r\n                        >\r\n                          <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                        </div>\r\n                      </NavLink>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              {this.state.selectedMenu === \"Details\" && render == true && (\r\n                <Details\r\n                  disableEdit={disableEdit}\r\n                  grnId={this.props.match.params.id}\r\n                  quoId={fkQuotation}\r\n                  validator={this.validator}\r\n                  storeItemDetails={this.storeItemDetails.bind(this)}\r\n                  storedItemListStored={this.state.storedItemListStored}\r\n                  formFieldsDetailsStored={this.state.formFieldsDetailsStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"details\"}\r\n                />\r\n              )}\r\n              {this.state.selectedMenu === \"Address\" && (\r\n                <Address\r\n                  disableEdit={disableEdit}\r\n                  storeAddressFields={this.storeAddressFields.bind(this)}\r\n                  formFieldsBillingStored={this.state.formFieldsBillingStored}\r\n                  formFieldsShippingStored={this.state.formFieldsShippingStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"address\"}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"row justify-content-end\">\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => history.push(`/admin/inventory`)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  disabled={disableEdit}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? disableEdit : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(DOC_STATUS)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? false : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Print PDF\"\r\n                  outline={false}\r\n                  onClick={() => this.getListDetail()}\r\n                />\r\n              </div>\r\n              {isPrintPdfClick ? (\r\n                <PDFDownloadLink\r\n                  document={\r\n                    <PDF\r\n                      listDetail={listDetail}\r\n                      itemDetail={this.state.storedItemListStored}\r\n                      // Flag={activeTab !== \"detail\" ? 3 : 4}\r\n                      landscape={false}\r\n                    />\r\n                  }\r\n                >\r\n                  {({ blob, url, loading, error }) =>\r\n                    !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                  }\r\n                </PDFDownloadLink>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      commonDeleteApi,\r\n      updatePO,\r\n      createPO,\r\n      deletePO,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddStocksRTN = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddStocksRTNClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}