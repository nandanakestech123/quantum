{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalInput,NormalTextarea,NormalCheckbox}from\"component/common\";import{withTranslation}from\"react-i18next\";import{Myequipments,updateCommon}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Toast}from\"service/toast\";var EditequimentClass=/*#__PURE__*/function(_Component){_inherits(EditequimentClass,_Component);var _super=_createSuper(EditequimentClass);function EditequimentClass(){var _this;_classCallCheck(this,EditequimentClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={itemId:null,desc:null,epuidesc:null,checked:true};_this.componentDidMount=function(){var itemId=_this.state.itemId;itemId=window.location.pathname.split(\"/\")[4];_this.setState({itemId:itemId});console.log(itemId);_this.Listofequiments(itemId);};_this.Listofequiments=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(code){var _this$state,itemId,desc,epuidesc,checked,temp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,itemId=_this$state.itemId,desc=_this$state.desc,epuidesc=_this$state.epuidesc,checked=_this$state.checked,temp=_this$state.temp;_context.next=3;return _this.props.Myequipments().then(function(res){var objIndex=res.findIndex(function(obj){return obj.equipmentCode==code;});console.log(objIndex);temp=res[objIndex];_this.setState({temp:temp});console.log(temp);desc=temp.equipmentName;epuidesc=temp.equipmentDescription;checked=temp.equipmentIsactive;_this.setState({desc:desc,epuidesc:epuidesc,checked:checked});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.temp=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;console.log(value,name);var _this$state2=_this.state,itemId=_this$state2.itemId,desc=_this$state2.desc,epuidesc=_this$state2.epuidesc,checked=_this$state2.checked;if(name==\"desc\"){desc=value;_this.setState({desc:desc});}if(name==\"epuidesc\"){epuidesc=value;_this.setState({epuidesc:epuidesc});}if(name==\"check\"){checked=value;_this.setState({checked:checked});}};_this.Addnewequiment=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state3,itemId,desc,epuidesc,checked,editdata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state3=_this.state,itemId=_this$state3.itemId,desc=_this$state3.desc,epuidesc=_this$state3.epuidesc,checked=_this$state3.checked;if(!(desc==null)){_context2.next=5;break;}Toast({type:\"error\",message:\"Description required\"});_context2.next=8;break;case 5:editdata={equipmentName:epuidesc,equipmentDescription:desc,equipmentIsactive:checked,equipmentCode:itemId};_context2.next=8;return _this.props.updateCommon(\"Myequipments/update?where=%7B%22equipmentCode%22%3A%20%22\".concat(_this.state.itemId,\"%22%7D\\n\\n      \"),editdata).then(function(data){Toast({type:\"success\",message:\"Successfully updated\"});}).catch(function(e){return console.log(e);});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(EditequimentClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state4=this.state,itemId=_this$state4.itemId,desc=_this$state4.desc,epuidesc=_this$state4.epuidesc,checked=_this$state4.checked;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mt-5\",style:{marginLeft:15}},\"Equipment\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-5\"},/*#__PURE__*/React.createElement(\"span\",null,\"Equiptment ID\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(NormalInput,{value:itemId,name:\"code\",onChange:this.temp,disabled:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,\"Equipment Name\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(NormalInput,{value:desc,name:\"desc\",onChange:this.temp})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,\"Description\"),/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter Equipment Description\",value:epuidesc,name:\"epuidesc\",onChange:this.temp})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(NormalCheckbox,{checked:checked,name:\"check\",onChange:this.temp}),/*#__PURE__*/React.createElement(\"p\",null,t(\"Active\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 col-1\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Update\",onClick:function onClick(){return _this2.Addnewequiment();}}))));}}]);return EditequimentClass;}(Component);export{EditequimentClass as default};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({Myequipments:Myequipments,updateCommon:updateCommon},dispatch);};export var Editequiment=withTranslation()(connect(null,mapDispatchToProps)(EditequimentClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Appointment Config/Equipments/editpage.js"],"names":["React","Component","NormalButton","NormalInput","NormalTextarea","NormalCheckbox","withTranslation","Myequipments","updateCommon","connect","bindActionCreators","Toast","EditequimentClass","state","itemId","desc","epuidesc","checked","componentDidMount","window","location","pathname","split","setState","console","log","Listofequiments","code","temp","props","then","res","objIndex","findIndex","obj","equipmentCode","equipmentName","equipmentDescription","equipmentIsactive","target","value","name","Addnewequiment","type","message","editdata","data","catch","e","t","marginLeft","color","mapDispatchToProps","dispatch","Editequiment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalInput,\r\n  NormalTextarea,\r\n  NormalCheckbox,\r\n} from \"component/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Myequipments, updateCommon } from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport default class EditequimentClass extends Component {\r\n  state = {\r\n    itemId: null,\r\n    desc: null,\r\n    epuidesc: null,\r\n    checked: true,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    let { itemId } = this.state;\r\n    itemId = window.location.pathname.split(\"/\")[4];\r\n    this.setState({ itemId });\r\n    console.log(itemId);\r\n    this.Listofequiments(itemId);\r\n  };\r\n\r\n  Listofequiments = async (code) => {\r\n    let { itemId, desc, epuidesc, checked, temp } = this.state;\r\n    await this.props.Myequipments().then((res) => {\r\n      let objIndex = res.findIndex((obj) => obj.equipmentCode == code);\r\n      console.log(objIndex);\r\n      temp = res[objIndex];\r\n      this.setState({\r\n        temp,\r\n      });\r\n      console.log(temp);\r\n      desc = temp.equipmentName;\r\n      epuidesc = temp.equipmentDescription;\r\n      checked = temp.equipmentIsactive;\r\n      this.setState({\r\n        desc,\r\n        epuidesc,\r\n        checked,\r\n      });\r\n    });\r\n  };\r\n\r\n  temp = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { itemId, desc, epuidesc, checked } = this.state;\r\n    if (name == \"desc\") {\r\n      desc = value;\r\n      this.setState({ desc });\r\n    }\r\n    if (name == \"epuidesc\") {\r\n      epuidesc = value;\r\n      this.setState({ epuidesc });\r\n    }\r\n    if (name == \"check\") {\r\n      checked = value;\r\n      this.setState({ checked });\r\n    }\r\n  };\r\n  Addnewequiment = async () => {\r\n    let { itemId, desc, epuidesc, checked } = this.state;\r\n    if (desc == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Description required\",\r\n      });\r\n    } else {\r\n      let editdata = {\r\n        equipmentName: epuidesc,\r\n        equipmentDescription: desc,\r\n        equipmentIsactive: checked,\r\n        equipmentCode: itemId,\r\n      };\r\n      await this.props\r\n        .updateCommon(\r\n          `Myequipments/update?where=%7B%22equipmentCode%22%3A%20%22${this.state.itemId}%22%7D\r\n\r\n      `,\r\n          editdata\r\n        )\r\n        .then((data) => {\r\n          Toast({\r\n            type: \"success\",\r\n            message: \"Successfully updated\",\r\n          });\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { itemId, desc, epuidesc, checked } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"container-fluid\">\r\n          <h5 className=\"mt-5\" style={{ marginLeft: 15 }}>\r\n            Equipment\r\n          </h5>\r\n          <div className=\"col-6 mt-5\">\r\n            <span>Equiptment ID</span>\r\n            <span style={{ color: \"red\" }}>*</span>\r\n            <NormalInput\r\n              value={itemId}\r\n              name=\"code\"\r\n              onChange={this.temp}\r\n              disabled={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-6 mt-3\">\r\n            <span>Equipment Name</span>\r\n            <span style={{ color: \"red\" }}>*</span>\r\n            <NormalInput value={desc} name=\"desc\" onChange={this.temp} />\r\n          </div>\r\n          <div className=\"col-6 mt-3\">\r\n            <span>Description</span>\r\n            <NormalTextarea\r\n              placeholder=\"Enter Equipment Description\"\r\n              value={epuidesc}\r\n              name=\"epuidesc\"\r\n              onChange={this.temp}\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <div className=\"d-flex mt-3\">\r\n              <NormalCheckbox\r\n                checked={checked}\r\n                name=\"check\"\r\n                onChange={this.temp}\r\n              />\r\n              <p>{t(\"Active\")}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-3 col-1\">\r\n            <NormalButton\r\n              mainbg={true}\r\n              label={\"Update\"}\r\n              onClick={() => this.Addnewequiment()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      Myequipments,\r\n      updateCommon,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const Editequiment = withTranslation()(\r\n  connect(null, mapDispatchToProps)(EditequimentClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}