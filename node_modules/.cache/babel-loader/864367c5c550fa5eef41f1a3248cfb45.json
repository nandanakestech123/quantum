{"ast":null,"code":"/**\r\n * DevExtreme (viz/sankey/tooltip.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.setTooltipCustomOptions = setTooltipCustomOptions;\n\nvar _extend2 = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar defaultCustomizeLinkTooltip = function (info) {\n  return {\n    html: \"<strong>\".concat(info.source, \" > \").concat(info.target, \"</strong><br/>Weight: \").concat(info.weight)\n  };\n};\n\nvar defaultCustomizeNodeTooltip = function (info) {\n  return {\n    html: \"<strong>\".concat(info.label, \"</strong><br/>Incoming weight: \").concat(info.weightIn, \"<br/>Outgoing weight: \").concat(info.weightOut)\n  };\n};\n\nvar generateCustomCallback = function (customCallback, defaultCallback) {\n  return function (objectInfo) {\n    var res = (0, _type.isFunction)(customCallback) ? customCallback.call(objectInfo, objectInfo) : {};\n    var hasOwnProperty = Object.prototype.hasOwnProperty.bind(res);\n\n    if (!hasOwnProperty(\"html\") && !hasOwnProperty(\"text\")) {\n      res = (0, _extend2.extend)(res, defaultCallback.call(objectInfo, objectInfo));\n    }\n\n    return res;\n  };\n};\n\nfunction setTooltipCustomOptions(sankey) {\n  sankey.prototype._setTooltipOptions = function () {\n    var tooltip = this._tooltip;\n\n    var options = tooltip && this._getOption(\"tooltip\");\n\n    var linkTemplate;\n    var nodeTemplate;\n\n    if (options.linkTooltipTemplate) {\n      linkTemplate = this._getTemplate(options.linkTooltipTemplate);\n    }\n\n    if (options.nodeTooltipTemplate) {\n      nodeTemplate = this._getTemplate(options.nodeTooltipTemplate);\n    }\n\n    tooltip && tooltip.update((0, _extend2.extend)({}, options, {\n      customizeTooltip: function (args) {\n        if (!(linkTemplate && \"link\" === args.type || nodeTemplate && \"node\" === args.type)) {\n          args.skipTemplate = true;\n        }\n\n        if (\"node\" === args.type) {\n          return generateCustomCallback(options.customizeNodeTooltip, defaultCustomizeNodeTooltip)(args.info);\n        } else {\n          if (\"link\" === args.type) {\n            return generateCustomCallback(options.customizeLinkTooltip, defaultCustomizeLinkTooltip)(args.info);\n          }\n        }\n\n        return {};\n      },\n      contentTemplate: function (arg, div) {\n        var templateArgs = {\n          model: arg.info,\n          container: div\n        };\n\n        if (linkTemplate && \"link\" === arg.type) {\n          return linkTemplate.render(templateArgs);\n        }\n\n        if (nodeTemplate && \"node\" === arg.type) {\n          return nodeTemplate.render(templateArgs);\n        }\n      },\n      enabled: options.enabled\n    }));\n  };\n\n  sankey.prototype.hideTooltip = function () {\n    this._tooltip && this._tooltip.hide();\n  };\n}","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/sankey/tooltip.js"],"names":["exports","setTooltipCustomOptions","_extend2","require","_type","defaultCustomizeLinkTooltip","info","html","concat","source","target","weight","defaultCustomizeNodeTooltip","label","weightIn","weightOut","generateCustomCallback","customCallback","defaultCallback","objectInfo","res","isFunction","call","hasOwnProperty","Object","prototype","bind","extend","sankey","_setTooltipOptions","tooltip","_tooltip","options","_getOption","linkTemplate","nodeTemplate","linkTooltipTemplate","_getTemplate","nodeTooltipTemplate","update","customizeTooltip","args","type","skipTemplate","customizeNodeTooltip","customizeLinkTooltip","contentTemplate","arg","div","templateArgs","model","container","render","enabled","hideTooltip","hide"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sankey/tooltip.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.setTooltipCustomOptions = setTooltipCustomOptions;\r\nvar _extend2 = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar defaultCustomizeLinkTooltip = function(info) {\r\n    return {\r\n        html: \"<strong>\".concat(info.source, \" > \").concat(info.target, \"</strong><br/>Weight: \").concat(info.weight)\r\n    }\r\n};\r\nvar defaultCustomizeNodeTooltip = function(info) {\r\n    return {\r\n        html: \"<strong>\".concat(info.label, \"</strong><br/>Incoming weight: \").concat(info.weightIn, \"<br/>Outgoing weight: \").concat(info.weightOut)\r\n    }\r\n};\r\nvar generateCustomCallback = function(customCallback, defaultCallback) {\r\n    return function(objectInfo) {\r\n        var res = (0, _type.isFunction)(customCallback) ? customCallback.call(objectInfo, objectInfo) : {};\r\n        var hasOwnProperty = Object.prototype.hasOwnProperty.bind(res);\r\n        if (!hasOwnProperty(\"html\") && !hasOwnProperty(\"text\")) {\r\n            res = (0, _extend2.extend)(res, defaultCallback.call(objectInfo, objectInfo))\r\n        }\r\n        return res\r\n    }\r\n};\r\n\r\nfunction setTooltipCustomOptions(sankey) {\r\n    sankey.prototype._setTooltipOptions = function() {\r\n        var tooltip = this._tooltip;\r\n        var options = tooltip && this._getOption(\"tooltip\");\r\n        var linkTemplate;\r\n        var nodeTemplate;\r\n        if (options.linkTooltipTemplate) {\r\n            linkTemplate = this._getTemplate(options.linkTooltipTemplate)\r\n        }\r\n        if (options.nodeTooltipTemplate) {\r\n            nodeTemplate = this._getTemplate(options.nodeTooltipTemplate)\r\n        }\r\n        tooltip && tooltip.update((0, _extend2.extend)({}, options, {\r\n            customizeTooltip: function(args) {\r\n                if (!(linkTemplate && \"link\" === args.type || nodeTemplate && \"node\" === args.type)) {\r\n                    args.skipTemplate = true\r\n                }\r\n                if (\"node\" === args.type) {\r\n                    return generateCustomCallback(options.customizeNodeTooltip, defaultCustomizeNodeTooltip)(args.info)\r\n                } else {\r\n                    if (\"link\" === args.type) {\r\n                        return generateCustomCallback(options.customizeLinkTooltip, defaultCustomizeLinkTooltip)(args.info)\r\n                    }\r\n                }\r\n                return {}\r\n            },\r\n            contentTemplate: function(arg, div) {\r\n                var templateArgs = {\r\n                    model: arg.info,\r\n                    container: div\r\n                };\r\n                if (linkTemplate && \"link\" === arg.type) {\r\n                    return linkTemplate.render(templateArgs)\r\n                }\r\n                if (nodeTemplate && \"node\" === arg.type) {\r\n                    return nodeTemplate.render(templateArgs)\r\n                }\r\n            },\r\n            enabled: options.enabled\r\n        }))\r\n    };\r\n    sankey.prototype.hideTooltip = function() {\r\n        this._tooltip && this._tooltip.hide()\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}