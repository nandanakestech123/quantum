{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Settings\\\\SetupTransaction\\\\SetupTransList\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton, NormalSelect, TableWrapper } from \"component/common\";\nimport { getCommonApi, commonDeleteApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nexport class SetupTransListClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Logo\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Title\"\n      }, {\n        label: \"Site\"\n      }, {\n        label: \"GST No.\"\n      }, {\n        label: \"Header 1\"\n      }, {\n        label: \"Header 2\"\n      }, {\n        label: \"\"\n      }],\n      setupTransList: [],\n      pageMeta: {},\n      active: false,\n      currentIndex: -1\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.queryHandler = data => {\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      this.props.getCommonApi(`title/?page=${page}&limit=${limit}`).then(res => {\n        console.log(res, \"dsfdfaafg\", res.data.dataList);\n        let {\n          setupTransList,\n          pageMeta\n        } = this.state;\n        setupTransList = res.data.dataList;\n        pageMeta = res.data.meta.pagination;\n        this.setState({\n          setupTransList,\n          pageMeta\n        });\n      });\n    };\n\n    this.handlePagination = page => {\n      this.queryHandler(page);\n    };\n\n    this.handleDeleteSetupTransaction = id => {\n      this.props.commonDeleteApi(`title/${id}/`).then(res => {\n        this.queryHandler({});\n        this.handleClick();\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.queryHandler({});\n  } // popup open/close\n\n\n  render() {\n    let {\n      headerDetails,\n      setupTransList,\n      pageMeta,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-3 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-start align-items-center pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"List of Setup Transaction\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-3 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Add New\",\n      onClick: () => history.push(`/admin/settings/setuptransaction/add`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: pageMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, setupTransList.length > 0 ? setupTransList.map(({\n      id,\n      title,\n      logo_pic,\n      site_id,\n      product_license,\n      gst_reg_no,\n      trans_h1,\n      trans_h2,\n      trans_footer1,\n      trans_footer2,\n      trans_footer3,\n      trans_footer4\n    }, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: logo_pic ? logo_pic : null,\n        width: \"45px\",\n        height: \"30px\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 27\n        }\n      }, title)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 27\n        }\n      }, product_license)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 27\n        }\n      }, gst_reg_no)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 27\n        }\n      }, trans_h1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 27\n        }\n      }, trans_h2)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pt-3\",\n        onClick: () => history.push(`/admin/settings/setuptransaction/${id}/details`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 35\n        }\n      }), \"View\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14\",\n        onClick: () => history.push(`/admin/settings/setuptransaction/${id}/edit`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-edit px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 35\n        }\n      }), \" Edit\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pb-3\",\n        onClick: () => this.handleDeleteSetupTransaction(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 35\n        }\n      }), \"Delete\"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more text-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 31\n        }\n      }))));\n    }) : null)));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const SetupTransList = connect(mapStateToProps, mapDispatchToProps)(SetupTransListClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Settings/SetupTransaction/SetupTransList/index.js"],"names":["React","NormalButton","NormalSelect","TableWrapper","getCommonApi","commonDeleteApi","connect","bindActionCreators","_","history","SetupTransListClass","Component","state","headerDetails","label","divClass","setupTransList","pageMeta","active","currentIndex","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","queryHandler","data","page","limit","search","props","then","res","console","log","dataList","meta","pagination","handlePagination","handleDeleteSetupTransaction","id","componentDidMount","render","push","length","map","title","logo_pic","site_id","product_license","gst_reg_no","trans_h1","trans_h2","trans_footer1","trans_footer2","trans_footer3","trans_footer4","index","mapStateToProps","mapDispatchToProps","dispatch","SetupTransList"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton, NormalSelect, TableWrapper } from \"component/common\";\r\nimport { getCommonApi, commonDeleteApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\n\r\nexport class SetupTransListClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Logo\", divClass: \"justify-content-center\" },\r\n      { label: \"Title\" },\r\n      { label: \"Site\" },\r\n      { label: \"GST No.\" },\r\n      { label: \"Header 1\" },\r\n      { label: \"Header 2\" },\r\n      { label: \"\" },\r\n    ],\r\n    setupTransList: [],\r\n    pageMeta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // popup open/close\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  // while clicking popup close at outside click\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  // api call for list\r\n  queryHandler = data => {\r\n    let { page = 1, limit = 10, search = \"\" } = data;\r\n    this.props.getCommonApi(`title/?page=${page}&limit=${limit}`).then(res => {\r\n      console.log(res, \"dsfdfaafg\", res.data.dataList);\r\n      let { setupTransList, pageMeta } = this.state;\r\n      setupTransList = res.data.dataList;\r\n      pageMeta = res.data.meta.pagination;\r\n      this.setState({\r\n        setupTransList,\r\n        pageMeta,\r\n      });\r\n    });\r\n  };\r\n\r\n  // pagination\r\n  handlePagination = page => {\r\n    this.queryHandler(page);\r\n  };\r\n\r\n  // delete api call for staff\r\n  handleDeleteSetupTransaction = id => {\r\n    this.props.commonDeleteApi(`title/${id}/`).then(res => {\r\n      this.queryHandler({});\r\n      this.handleClick();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let { headerDetails, setupTransList, pageMeta, currentIndex } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"row mb-3 mt-2\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"d-flex justify-content-start align-items-center pt-3\">\r\n              List of Setup Transaction\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <div className=\"d-flex justify-content-end\">\r\n              <div className=\"w-100 col-3 p-0\">\r\n                <NormalButton\r\n                  mainbg={true}\r\n                  className=\"col-12 fs-15 float-right\"\r\n                  label=\"Add New\"\r\n                  onClick={() =>\r\n                    history.push(`/admin/settings/setuptransaction/add`)\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-container table-responsive\">\r\n          <TableWrapper\r\n            headerDetails={headerDetails}\r\n            queryHandler={this.handlePagination}\r\n            pageMeta={pageMeta}\r\n          >\r\n            {setupTransList.length > 0\r\n              ? setupTransList.map(\r\n                  (\r\n                    {\r\n                      id,\r\n                      title,\r\n                      logo_pic,\r\n                      site_id,\r\n                      product_license,\r\n                      gst_reg_no,\r\n                      trans_h1,\r\n                      trans_h2,\r\n                      trans_footer1,\r\n                      trans_footer2,\r\n                      trans_footer3,\r\n                      trans_footer4,\r\n                    },\r\n                    index\r\n                  ) => {\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            <img\r\n                              src={logo_pic ? logo_pic : null}\r\n                              width=\"45px\"\r\n                              height=\"30px\"\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{title}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{product_license}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{gst_reg_no}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{trans_h1}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{trans_h2}</div>\r\n                        </td>\r\n                        <td\r\n                          className=\"position-relative\"\r\n                          ref={node => {\r\n                            this.node = node;\r\n                          }}\r\n                          onClick={() => this.handleClick(index)}\r\n                        >\r\n                          {currentIndex === index ? (\r\n                            <>\r\n                              <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\r\n                                <i className=\"icon-more\"></i>\r\n                              </div>\r\n                              <div className=\"option card\">\r\n                                <div\r\n                                  className=\"d-flex align-items-center fs-14 pt-3\"\r\n                                  onClick={() =>\r\n                                    history.push(\r\n                                      `/admin/settings/setuptransaction/${id}/details`\r\n                                    )\r\n                                  }\r\n                                >\r\n                                  <span className=\"icon-eye-grey px-3\"></span>\r\n                                  View\r\n                                </div>\r\n                                <div\r\n                                  className=\"d-flex align-items-center fs-14\"\r\n                                  onClick={() =>\r\n                                    history.push(\r\n                                      `/admin/settings/setuptransaction/${id}/edit`\r\n                                    )\r\n                                  }\r\n                                >\r\n                                  <span className=\"icon-edit px-3\"></span> Edit\r\n                                </div>\r\n                                <div\r\n                                  className=\"d-flex align-items-center fs-14 pb-3\"\r\n                                  onClick={() =>\r\n                                    this.handleDeleteSetupTransaction(id)\r\n                                  }\r\n                                >\r\n                                  <span className=\"icon-delete px-3\"></span>\r\n                                  Delete\r\n                                </div>\r\n                              </div>\r\n                            </>\r\n                          ) : (\r\n                            <div className=\"d-flex align-items-center justify-content-center horizontal-more\">\r\n                              <i className=\"icon-more text-grey\" />\r\n                            </div>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  }\r\n                )\r\n              : null}\r\n          </TableWrapper>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const SetupTransList = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SetupTransListClass);\r\n"]},"metadata":{},"sourceType":"module"}