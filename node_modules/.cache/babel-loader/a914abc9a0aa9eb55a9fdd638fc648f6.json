{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\ListCustomerPlus\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nimport { getCustomerPlus } from \"redux/actions/customerPlus\";\nimport { updateForm } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nexport class ListCustomerPlusClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Customer Code\",\n        sortKey: \"customerCode\"\n      }, {\n        label: \"Referance Code\",\n        sortKey: \"referenceCode\",\n        enabled: true\n      }, {\n        label: \"Salutation\",\n        sortKey: \"salutation\",\n        enabled: true\n      }, {\n        label: \"Customer Name\",\n        sortKey: \"customerName\",\n        enabled: true\n      }, {\n        label: \"Mobile Phone\",\n        sortKey: \"mobilePhone\",\n        enabled: true\n      }, {\n        label: \"Birthday\",\n        sortKey: \"birthday\",\n        enabled: true\n      }, {\n        label: \"Customer Class\",\n        sortKey: \"customerClass\",\n        enabled: true\n      }, {\n        label: \"\"\n      }],\n      customerList: [],\n      meta: {},\n      active: false,\n      currentIndex: -1,\n      isLoading: true,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.componentDidMount = () => {\n      this.getCustomerPlus({});\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.updateState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.getCustomerPlus = async data => {\n      var _customerDetails$meta;\n\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      await this.props.getCustomerPlus(`?page=${page}&limit=${limit}&search=${search}`);\n      let {\n        customerDetails\n      } = this.props;\n      this.updateState({\n        customerList: customerDetails.dataList,\n        meta: (_customerDetails$meta = customerDetails.meta) === null || _customerDetails$meta === void 0 ? void 0 : _customerDetails$meta.pagination,\n        isLoading: false\n      });\n    };\n\n    this.handlePagination = page => {\n      console.log(page, \"dsfsdfsdfsdf\");\n      this.getCustomerPlus(page);\n    };\n\n    this.handlesearch = event => {\n      console.log(\"sadfasdfasdf\", event.target.value);\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          };\n          this.getCustomerPlus(data);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.bookAppointment = async data => {\n      let formFields = {};\n      formFields[\"custId\"] = data.id;\n      formFields[\"custName\"] = data.cust_name;\n      await this.props.updateForm(\"basicApptDetail\", formFields);\n      this.props.history.push(`/admin/appointment`);\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      headerDetails,\n      customerList,\n      meta,\n      currentIndex,\n      isLoading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/customerplus/settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-3 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/customerplus/lpmanagement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"LP Management\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, \"Customer Plus List\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 col-sm-12 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Customer\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Add Customer\",\n      onClick: () => this.props.history.push(\"/admin/customerplus/add\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.updateState(() => headerDetails = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 31\n      }\n    }, \"Loading...\"))))) : customerList ? customerList.map((item, index) => {\n      var _headerDetails$0$enab, _headerDetails$1$enab, _headerDetails$2$enab, _headerDetails$3$enab, _headerDetails$4$enab, _headerDetails$5$enab, _headerDetails$6$enab;\n\n      let {\n        id,\n        cust_code,\n        cust_refer,\n        cust_name,\n        cust_phone2,\n        cust_dob,\n        custClass\n      } = item;\n      console.log(headerDetails[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$0$enab = headerDetails[0].enabled) !== null && _headerDetails$0$enab !== void 0 ? _headerDetails$0$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 31\n        }\n      }, cust_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$1$enab = headerDetails[1].enabled) !== null && _headerDetails$1$enab !== void 0 ? _headerDetails$1$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 31\n        }\n      }, cust_refer)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$2$enab = headerDetails[2].enabled) !== null && _headerDetails$2$enab !== void 0 ? _headerDetails$2$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 31\n        }\n      }, \"\")), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$3$enab = headerDetails[3].enabled) !== null && _headerDetails$3$enab !== void 0 ? _headerDetails$3$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 31\n        }\n      }, cust_name)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$4$enab = headerDetails[4].enabled) !== null && _headerDetails$4$enab !== void 0 ? _headerDetails$4$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 31\n        }\n      }, cust_phone2)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$5$enab = headerDetails[5].enabled) !== null && _headerDetails$5$enab !== void 0 ? _headerDetails$5$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 31\n        }\n      }, cust_dob)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$6$enab = headerDetails[6].enabled) !== null && _headerDetails$6$enab !== void 0 ? _headerDetails$6$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 31\n        }\n      }, cust_class)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 29\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pt-3\",\n        onClick: () => this.props.history.push(`/admin/customerplus/${id}/details`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 39\n        }\n      }), \" \", \"View\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16\",\n        onClick: () => this.props.history.push(`/admin/customerplus/${id}/lpmanagement`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"31\",\n        height: \"30\",\n        fill: \"currentColor\",\n        viewBox: \"0 0 15 30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 43\n        }\n      }))), \"Loyalty Points Management\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-schedule px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 39\n        }\n      }), \" \", \"Reschedule Appointment\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16\",\n        onClick: () => this.bookAppointment(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"31\",\n        height: \"30\",\n        viewBox: \"0 0 31 30\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"rect\", {\n        width: \"31\",\n        height: \"30\",\n        fill: \"#F9F9F9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 43\n        }\n      }), /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M15 8V22\",\n        stroke: \"#848484\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 43\n        }\n      }), /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M8 15H22\",\n        stroke: \"#848484\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 43\n        }\n      }))), \"Book Appointment\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-cancel-schedule px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 39\n        }\n      }), \" \", \"Cancel Appointment\", \" \"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 35\n        }\n      }))));\n    }) : \"\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  customerDetails: state.customerPlus.customerPlusDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCustomerPlus,\n    updateForm\n  }, dispatch);\n};\n\nexport const ListCustomerPlus = connect(mapStateToProps, mapDispatchToProps)(ListCustomerPlusClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/ListCustomerPlus/index.js"],"names":["React","NormalButton","InputSearch","TableWrapper","Link","getCustomerPlus","updateForm","connect","bindActionCreators","_","Navigation","ListCustomerPlusClass","Component","state","headerDetails","label","sortKey","enabled","customerList","meta","active","currentIndex","isLoading","isMounted","updateState","data","setState","componentDidMount","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","e","node","contains","target","page","limit","search","props","customerDetails","dataList","pagination","handlePagination","console","log","handlesearch","event","value","persist","debouncedFn","debounce","searchString","bookAppointment","formFields","id","cust_name","history","push","componentWillUnmount","render","map","item","index","cust_code","cust_refer","cust_phone2","cust_dob","custClass","cust_class","mapStateToProps","customerPlus","customerPlusDetail","mapDispatchToProps","dispatch","ListCustomerPlus"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nimport { getCustomerPlus } from \"redux/actions/customerPlus\";\nimport { updateForm } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { Navigation } from \"react-minimal-side-navigation\";\n\nexport class ListCustomerPlusClass extends React.Component {\n  state = {\n    headerDetails: [\n      { label: \"Customer Code\", sortKey: \"customerCode\" },\n      { label: \"Referance Code\", sortKey: \"referenceCode\", enabled: true },\n      { label: \"Salutation\", sortKey: \"salutation\", enabled: true },\n      { label: \"Customer Name\", sortKey: \"customerName\", enabled: true },\n      { label: \"Mobile Phone\", sortKey: \"mobilePhone\", enabled: true },\n      { label: \"Birthday\", sortKey: \"birthday\", enabled: true },\n      { label: \"Customer Class\", sortKey: \"customerClass\", enabled: true },\n      { label: \"\" },\n    ],\n    customerList: [],\n    meta: {},\n    active: false,\n    currentIndex: -1,\n    isLoading: true,\n    isMounted: true,\n  };\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount = () => {\n    this.getCustomerPlus({});\n  };\n\n  handleClick = (key) => {\n    if (!this.state.active) {\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\n    } else {\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\n    }\n\n    this.updateState((prevState) => ({\n      active: !prevState.active,\n      currentIndex: key,\n    }));\n  };\n\n  handleOutsideClick = (e) => {\n    if (this.node != null) {\n      if (this.node.contains(e.target)) {\n        return;\n      }\n    }\n    this.handleClick();\n  };\n\n  getCustomerPlus = async (data) => {\n    this.updateState({ isLoading: true });\n    let { page = 1, limit = 10, search = \"\" } = data;\n    await this.props.getCustomerPlus(\n      `?page=${page}&limit=${limit}&search=${search}`\n    );\n    let { customerDetails } = this.props;\n    this.updateState({\n      customerList: customerDetails.dataList,\n      meta: customerDetails.meta?.pagination,\n      isLoading: false,\n    });\n  };\n\n  handlePagination = (page) => {\n    console.log(page, \"dsfsdfsdfsdf\");\n    this.getCustomerPlus(page);\n  };\n\n  handlesearch = (event) => {\n    console.log(\"sadfasdfasdf\", event.target.value);\n    event.persist();\n\n    if (!this.debouncedFn) {\n      this.debouncedFn = _.debounce(() => {\n        let searchString = event.target.value;\n        let data = { search: searchString };\n        this.getCustomerPlus(data);\n      }, 500);\n    }\n    this.debouncedFn();\n  };\n\n  bookAppointment = async (data) => {\n    let formFields = {};\n    formFields[\"custId\"] = data.id;\n    formFields[\"custName\"] = data.cust_name;\n    await this.props.updateForm(\"basicApptDetail\", formFields);\n    this.props.history.push(`/admin/appointment`);\n  };\n\n  render() {\n    let { headerDetails, customerList, meta, currentIndex, isLoading } =\n      this.state;\n    return (\n      <div className=\"customer-list container-fluid\">\n        <div className=\"row mb-4\">\n          <div className=\"col-md-4 col-lg-2 mb-2\">\n            <Link to=\"/admin/customerplus/settings\">\n              <NormalButton\n                normal={true}\n                className=\"col-12 fs-15 float-right\"\n                label=\"Settings\"\n              />\n            </Link>\n          </div>\n          <div className=\"col-md-4 col-lg-3 mb-2\">\n            <Link to=\"/admin/customerplus/lpmanagement\">\n              <NormalButton\n                normal={true}\n                className=\"col-12 fs-15 float-right\"\n                label=\"LP Management\"\n              />\n            </Link>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"row\">\n              <div className=\"col-12 mb-2\">\n                <h3 className=\"head-label\">Customer Plus List</h3>\n              </div>\n              <div className=\"col-md-8 col-sm-12 mb-2\">\n                <InputSearch\n                  className=\"\"\n                  placeholder=\"Search Customer\"\n                  onChange={this.handlesearch}\n                />\n              </div>\n              <div className=\"col-md-4 col-sm-12\">\n                <NormalButton\n                  mainbg={true}\n                  className=\"col-12 fs-15 float-right\"\n                  label=\"Add Customer\"\n                  onClick={() =>\n                    this.props.history.push(\"/admin/customerplus/add\")\n                  }\n                />\n              </div>\n            </div>\n            <div className=\"tab-table-content\">\n              <div className=\"py-4\">\n                <div className=\"table-container\">\n                  <TableWrapper\n                    headerDetails={headerDetails}\n                    queryHandler={this.handlePagination}\n                    pageMeta={meta}\n                    showFilterColumn={true}\n                    parentHeaderChange={(value) =>\n                      this.updateState(() => (headerDetails = value))\n                    }\n                  >\n                    {isLoading ? (\n                      <tr>\n                        <td colSpan=\"7\">\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                            <div class=\"spinner-border\" role=\"status\">\n                              <span class=\"sr-only\">Loading...</span>\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                    ) : customerList ? (\n                      customerList.map((item, index) => {\n                        let {\n                          id,\n                          cust_code,\n                          cust_refer,\n                          cust_name,\n                          cust_phone2,\n                          cust_dob,\n                          custClass,\n                        } = item;\n                        console.log(headerDetails[0]);\n                        return (\n                          <tr key={index}>\n                            <td\n                              className={\n                                headerDetails[0].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_code}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[1].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_refer}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[2].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {\"\"}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[3].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_name}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[4].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_phone2}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[5].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_dob}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[6].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_class}\n                              </div>\n                            </td>\n                            <td\n                              className=\"position-relative\"\n                              ref={(node) => {\n                                this.node = node;\n                              }}\n                              onClick={() => this.handleClick(index)}\n                            >\n                              {currentIndex === index ? (\n                                <>\n                                  <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\n                                    <i className=\"icon-more\"></i>\n                                  </div>\n                                  <div className=\"option card\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-16 pt-3\"\n                                      onClick={() =>\n                                        this.props.history.push(\n                                          `/admin/customerplus/${id}/details`\n                                        )\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey px-3\"></span>{\" \"}\n                                      View{\" \"}\n                                    </div>\n                                    <div\n                                      className=\"d-flex align-items-center fs-16\"\n                                      onClick={() =>\n                                        this.props.history.push(\n                                          `/admin/customerplus/${id}/lpmanagement`\n                                        )\n                                      }\n                                    >\n                                      <span className=\"px-2\">\n                                        <svg\n                                          xmlns=\"http://www.w3.org/2000/svg\"\n                                          width=\"31\"\n                                          height=\"30\"\n                                          fill=\"currentColor\"\n                                          viewBox=\"0 0 15 30\"\n                                        >\n                                          <path d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\n                                        </svg>\n                                      </span>\n                                      Loyalty Points Management\n                                    </div>\n                                    <div className=\"d-flex align-items-center fs-16\">\n                                      <span className=\"icon-schedule px-3\"></span>{\" \"}\n                                      Reschedule Appointment{\" \"}\n                                    </div>\n                                    <div\n                                      className=\"d-flex align-items-center fs-16\"\n                                      onClick={() => this.bookAppointment(item)}\n                                    >\n                                      <span className=\"px-2\">\n                                        <svg\n                                          width=\"31\"\n                                          height=\"30\"\n                                          viewBox=\"0 0 31 30\"\n                                          fill=\"none\"\n                                          xmlns=\"http://www.w3.org/2000/svg\"\n                                        >\n                                          <rect\n                                            width=\"31\"\n                                            height=\"30\"\n                                            fill=\"#F9F9F9\"\n                                          />\n                                          <path\n                                            d=\"M15 8V22\"\n                                            stroke=\"#848484\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                          />\n                                          <path\n                                            d=\"M8 15H22\"\n                                            stroke=\"#848484\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                          />\n                                        </svg>\n                                      </span>\n                                      Book Appointment\n                                    </div>\n                                    <div className=\"d-flex align-items-center fs-16 pb-3\">\n                                      <span className=\"icon-cancel-schedule px-3\"></span>{\" \"}\n                                      Cancel Appointment{\" \"}\n                                    </div>\n                                  </div>\n                                </>\n                              ) : (\n                                <div className=\"d-flex align-items-center justify-content-center horizontal-more\">\n                                  <i className=\"icon-more\"></i>\n                                </div>\n                              )}\n                            </td>\n                          </tr>\n                        );\n                      })\n                    ) : (\n                      \"\"\n                    )}\n                  </TableWrapper>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  customerDetails: state.customerPlus.customerPlusDetail,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getCustomerPlus,\n      updateForm,\n    },\n    dispatch\n  );\n};\n\nexport const ListCustomerPlus = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ListCustomerPlusClass);\n"]},"metadata":{},"sourceType":"module"}