{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\LoyaltyPointsManagement\\\\RewardPolicyTable\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { withTranslation } from \"react-i18next\";\nexport class RewardPolicyTableClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Code\",\n        sortKey: \"customerCode\"\n      }, {\n        label: \"Cust Type\",\n        sortKey: \"customerType\",\n        enabled: true\n      }, {\n        label: \"Reward Stock Type\",\n        sortKey: \"rewardStockType\",\n        enabled: true\n      }, {\n        label: \"Currency Value\",\n        sortKey: \"currencyValue\",\n        enabled: true\n      }, {\n        label: \"Point Value\",\n        sortKey: \"pointsValue\",\n        enabled: true\n      }, {\n        label: \"Active\",\n        sortKey: \"active\",\n        enabled: true\n      }, {\n        label: \"\"\n      }],\n      dataList: [],\n      meta: {},\n      currentIndex: -1,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handlePagination = page => {\n      console.log(page, \"dsfsdfsdfsdf\"); //this.getCustomer(page);\n    };\n\n    this.handlesearch = event => {\n      console.log(\"sadfasdfasdf\", event.target.value);\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          }; //this.getCustomer(data);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      headerDetails,\n      dataList,\n      meta,\n      currentIndex\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, t(\"Redward Policy\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Policy\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.updateState(() => headerDetails = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, dataList ? dataList.map((item, index) => {\n      var _headerDetails$0$enab, _headerDetails$1$enab, _headerDetails$2$enab, _headerDetails$3$enab, _headerDetails$4$enab, _headerDetails$5$enab, _headerDetails$6$enab;\n\n      let {\n        id,\n        cust_code,\n        cust_refer,\n        cust_name,\n        cust_phone2,\n        cust_dob\n      } = item;\n      console.log(headerDetails[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$0$enab = headerDetails[0].enabled) !== null && _headerDetails$0$enab !== void 0 ? _headerDetails$0$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 31\n        }\n      }, cust_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$1$enab = headerDetails[1].enabled) !== null && _headerDetails$1$enab !== void 0 ? _headerDetails$1$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 31\n        }\n      }, cust_refer)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$2$enab = headerDetails[2].enabled) !== null && _headerDetails$2$enab !== void 0 ? _headerDetails$2$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 31\n        }\n      }, \"\")), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$3$enab = headerDetails[3].enabled) !== null && _headerDetails$3$enab !== void 0 ? _headerDetails$3$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 31\n        }\n      }, cust_name)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$4$enab = headerDetails[4].enabled) !== null && _headerDetails$4$enab !== void 0 ? _headerDetails$4$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 31\n        }\n      }, cust_phone2)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$5$enab = headerDetails[5].enabled) !== null && _headerDetails$5$enab !== void 0 ? _headerDetails$5$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 31\n        }\n      }, cust_dob)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_headerDetails$6$enab = headerDetails[6].enabled) !== null && _headerDetails$6$enab !== void 0 ? _headerDetails$6$enab : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 31\n        }\n      }, \"123\")), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pt-3\",\n        onClick: () => this.props.history.push(`lpmanagement/${id}/editredeem`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 39\n        }\n      }), \" \", \"Edit\"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 35\n        }\n      }))));\n    }) : null))))));\n  }\n\n}\nexport const RewardPolicyTable = withTranslation()(connect()(RewardPolicyTableClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/LoyaltyPointsManagement/RewardPolicyTable/index.js"],"names":["React","NormalButton","NormalSelect","InputSearch","TableWrapper","connect","_","withTranslation","RewardPolicyTableClass","Component","state","headerDetails","label","sortKey","enabled","dataList","meta","currentIndex","isMounted","updateState","data","setState","handlePagination","page","console","log","handlesearch","event","target","value","persist","debouncedFn","debounce","searchString","search","componentWillUnmount","render","t","props","map","item","index","id","cust_code","cust_refer","cust_name","cust_phone2","cust_dob","node","handleClick","history","push","RewardPolicyTable"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { withTranslation } from \"react-i18next\";\n\nexport class RewardPolicyTableClass extends React.Component {\n  state = {\n    headerDetails: [\n      { label: \"Code\", sortKey: \"customerCode\" },\n      { label: \"Cust Type\", sortKey: \"customerType\", enabled: true },\n      { label: \"Reward Stock Type\", sortKey: \"rewardStockType\", enabled: true },\n      { label: \"Currency Value\", sortKey: \"currencyValue\", enabled: true },\n      { label: \"Point Value\", sortKey: \"pointsValue\", enabled: true },\n      { label: \"Active\", sortKey: \"active\", enabled: true },\n      { label: \"\" },\n    ],\n    dataList: [],\n    meta: {},\n    currentIndex: -1,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = data => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  handlePagination = page => {\n    console.log(page, \"dsfsdfsdfsdf\");\n    //this.getCustomer(page);\n  };\n\n  handlesearch = event => {\n    console.log(\"sadfasdfasdf\", event.target.value);\n    event.persist();\n\n    if (!this.debouncedFn) {\n      this.debouncedFn = _.debounce(() => {\n        let searchString = event.target.value;\n        let data = { search: searchString };\n        //this.getCustomer(data);\n      }, 500);\n    }\n    this.debouncedFn();\n  };\n\n  render() {\n    let { headerDetails, dataList, meta, currentIndex } = this.state;\n    let { t } = this.props;\n    return (\n      <>\n        <div className=\"customer-list container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-4\">\n              <h3 className=\"head-label\">{t(\"Redward Policy\")}</h3>\n            </div>\n            <div className=\"col-md-8\">\n              <InputSearch\n                className=\"\"\n                placeholder=\"Search Policy\"\n                onChange={this.handlesearch}\n              />\n            </div>\n          </div>\n          <div className=\"tab-table-content\">\n            <div className=\"py-4\">\n              <div className=\"table-container\">\n                <TableWrapper\n                  headerDetails={headerDetails}\n                  queryHandler={this.handlePagination}\n                  pageMeta={meta}\n                  showFilterColumn={true}\n                  parentHeaderChange={value =>\n                    this.updateState(() => (headerDetails = value))\n                  }\n                >\n                  {dataList\n                    ? dataList.map((item, index) => {\n                        let {\n                          id,\n                          cust_code,\n                          cust_refer,\n                          cust_name,\n                          cust_phone2,\n                          cust_dob,\n                        } = item;\n                        console.log(headerDetails[0]);\n                        return (\n                          <tr key={index}>\n                            <td\n                              className={\n                                headerDetails[0].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_code}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[1].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_refer}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[2].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {\"\"}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[3].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_name}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[4].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_phone2}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[5].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {cust_dob}\n                              </div>\n                            </td>\n                            <td\n                              className={\n                                headerDetails[6].enabled ?? true ? \"\" : \"d-none\"\n                              }\n                            >\n                              <div className=\"d-flex align-items-center justify-content-center\">\n                                {\"123\"}\n                              </div>\n                            </td>\n                            <td\n                              className=\"position-relative\"\n                              ref={node => {\n                                this.node = node;\n                              }}\n                              onClick={() => this.handleClick(index)}\n                            >\n                              {currentIndex === index ? (\n                                <>\n                                  <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\n                                    <i className=\"icon-more\"></i>\n                                  </div>\n                                  <div className=\"option card\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-16 pt-3\"\n                                      onClick={() =>\n                                        this.props.history.push(\n                                          `lpmanagement/${id}/editredeem`\n                                        )\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey px-3\"></span>{\" \"}\n                                      Edit\n                                    </div>\n                                  </div>\n                                </>\n                              ) : (\n                                <div className=\"d-flex align-items-center justify-content-center horizontal-more\">\n                                  <i className=\"icon-more\"></i>\n                                </div>\n                              )}\n                            </td>\n                          </tr>\n                        );\n                      })\n                    : null}\n                </TableWrapper>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport const RewardPolicyTable = withTranslation()(\n  connect()(RewardPolicyTableClass)\n);\n"]},"metadata":{},"sourceType":"module"}