{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\TCM\\\\TCMPaymentList\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton, NormalSelect, TableWrapper, NormalModal } from \"component/common\";\nimport { getTcmApi, tcmCreateApi } from \"redux/actions/TCM\";\nimport { updateForm } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nimport { withTranslation } from \"react-i18next\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\nimport Prescription from \"../Report/Prescription\";\nimport closeIcon from \"assets/images/close.png\";\nexport class TCMPaymentListClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Customer Code\"\n      }, {\n        label: \"Customer Name\"\n      }, {\n        label: \"NRIC\"\n      }, {\n        label: \"Gender\"\n      }, {\n        label: \"Age\"\n      }, {\n        label: \"Date\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Physician\"\n      }, {\n        label: \"Status\"\n      }, {\n        label: \"Total Amount\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"\"\n      }, {\n        label: \"\"\n      }, {\n        label: \"\"\n      }],\n      tcmPaymentList: [],\n      pageMeta: {},\n      active: false,\n      currentIndex: -1,\n      isPrintPdfClick: false,\n      accountHeader: {\n        name: \"Prescription\",\n        address: \"\",\n        logo: \"\"\n      },\n      tcmPrescriptionMain: [],\n      tcmPrescriptionList: [],\n      isConfirmOpen: false,\n      AppointmentCode: \"\"\n    };\n\n    this.queryHandler = data => {\n      let payload = {\n        siteCode: this.props.tokenDetails.site_code,\n        date: dateFormat(new Date(), \"yyyy-mm-dd\")\n      };\n      this.props.tcmCreateApi(`tcmCustomerListFronDesk/`, payload).then(res => {\n        console.log(res, \"dsfdfaafg\");\n        let {\n          result,\n          success\n        } = res;\n        let {\n          tcmPaymentList\n        } = this.state;\n\n        if (success == \"1\" && result) {\n          tcmPaymentList = result;\n          this.setState({\n            tcmPaymentList\n          });\n        }\n      });\n    };\n\n    this.handleGotoCart = data => {\n      let formFields = {\n        custId: 0,\n        custName: \"\"\n      };\n      formFields[\"custId\"] = data.customerId;\n      formFields[\"custName\"] = data.customerName;\n      this.props.updateForm(\"basicApptDetail\", formFields);\n      history.push(\"/admin/cart\");\n    };\n\n    this.handleSendBack = data => {\n      this.setState({\n        isConfirmOpen: true,\n        AppointmentCode: data.apptCode\n      });\n    };\n\n    this.handlecloseDialog = () => {\n      let {\n        isConfirmOpen\n      } = this.state;\n      this.setState({\n        isConfirmOpen: !isConfirmOpen\n      });\n    };\n\n    this.handleSendBackConfirm = () => {\n      let payload = {\n        AppointmentCode: this.state.AppointmentCode,\n        status: \"Verify\",\n        siteCode: this.props.tokenDetails.site_code\n      };\n      this.props.tcmCreateApi(`tcmAppointmentStatus/`, payload).then(res => {\n        console.log(res, \"dsfdfaafgcustomerlist\");\n        let {\n          result,\n          success\n        } = res;\n\n        if (success == \"1\" && result) {\n          this.queryHandler({});\n        }\n      });\n      this.handlecloseDialog();\n    };\n\n    this.handlePrescription = data => {\n      this.props.getTcmApi(`tcmPrescriptionReceipt/?PrescriptionNo=${data.prescriptionNo}`).then(res => {\n        let {\n          result,\n          success\n        } = res;\n\n        if (success == \"1\" && result) {\n          console.log(result, \"dsfdfaafgprescriptionresponse\");\n          this.setState({\n            tcmPrescriptionMain: result\n          });\n          this.props.getTcmApi(`tcmPrescription/?PrescriptionNo=${data.prescriptionNo}`).then(res => {\n            let {\n              result,\n              success\n            } = res;\n\n            if (success == \"1\" && result) {\n              console.log(result, \"dsfdfaafgprescriptionresponse\");\n              this.setState({\n                tcmPrescriptionList: result\n              });\n              this.setState({\n                isPrintPdfClick: true\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.handlePrintPdfFormat = url => {\n      let {\n        tcmPrescriptionMain\n      } = this.state;\n      console.log(tcmPrescriptionMain, \"prescriptionmain\");\n      this.setState({\n        isPrintPdfClick: false\n      });\n      var a = document.createElement(\"a\");\n      a.setAttribute(\"download\", `${tcmPrescriptionMain[0].prescriptionNo}.pdf`);\n      a.setAttribute(\"href\", url);\n      a.click();\n      window.open(url);\n    };\n  }\n\n  componentDidMount() {\n    this.queryHandler({});\n  } // api call for list\n\n\n  render() {\n    let {\n      headerDetails,\n      tcmPaymentList,\n      pageMeta,\n      currentIndex,\n      tcmPrescriptionList,\n      isPrintPdfClick,\n      accountHeader,\n      tcmPrescriptionMain,\n      isConfirmOpen\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails // queryHandler={this.handlePagination}\n      // pageMeta={pageMeta}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, tcmPaymentList.length > 0 ? tcmPaymentList.filter(acc => String(acc.apptStatus).toUpperCase() === \"VERIFY\" || String(acc.apptStatus).toUpperCase() === \"AWAITING PAYMENT\").map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 27\n        }\n      }, data.customerCode)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 27\n        }\n      }, data.customerName)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 27\n        }\n      }, data.custNRIC)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 27\n        }\n      }, data.gender)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 27\n        }\n      }, data.customerAge)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 27\n        }\n      }, data.apptDate)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 27\n        }\n      }, data.physician)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 27\n        }\n      }, data.apptStatus)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 27\n        }\n      }, data.paymentAmount)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex py-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        className: `fs-12`,\n        label: \"Prescribe\",\n        mainbgrev: true,\n        onClick: () => this.handlePrescription(data),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex py-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        className: \"fs-12\",\n        label: \"Payment\",\n        styleFive: true,\n        onClick: () => this.handleGotoCart(data),\n        disabled: String(data.apptStatus).toUpperCase() === \"DONE\" ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex py-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        className: \"w-100 fs-12\",\n        label: \"Send Back\",\n        styleFour: true,\n        onClick: () => this.handleSendBack(data),\n        disabled: String(data.apptStatus).toUpperCase() === \"AWAITING PAYMENT\" ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 29\n        }\n      }))));\n    }) : null), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"multiple-appointment\",\n      modal: isConfirmOpen //style={{ minWidth: \"30%\" }}\n      ,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 h4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, t(\"Confirm\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }\n    }, t(\"Are you sure want to update\"), \"?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-start mt-4 w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"col-12 multiple-customer\",\n      label: \"Cancel\",\n      onClick: this.handlecloseDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbgrev: true,\n      className: \"col-12 fs-15 multiple-customer\",\n      label: \"Confirm\",\n      onClick: this.handleSendBackConfirm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }))))), isPrintPdfClick ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n      document: /*#__PURE__*/React.createElement(Prescription, {\n        TableDetail: tcmPrescriptionList,\n        MainInfo: tcmPrescriptionMain,\n        accountHeader: accountHeader,\n        Flag: 1,\n        landscape: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    }, ({\n      blob,\n      url,\n      loading,\n      error\n    }) => !loading && url ? this.handlePrintPdfFormat(url) : null) : null);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  // filter: state.dashboard\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getTcmApi,\n    tcmCreateApi,\n    updateForm\n  }, dispatch);\n};\n\nexport const TCMPaymentList = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(TCMPaymentListClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/TCM/TCMPaymentList/index.js"],"names":["React","NormalButton","NormalSelect","TableWrapper","NormalModal","getTcmApi","tcmCreateApi","updateForm","connect","bindActionCreators","_","history","withTranslation","dateFormat","PDFViewer","PDFDownloadLink","BlobProvider","Prescription","closeIcon","TCMPaymentListClass","Component","state","headerDetails","label","divClass","tcmPaymentList","pageMeta","active","currentIndex","isPrintPdfClick","accountHeader","name","address","logo","tcmPrescriptionMain","tcmPrescriptionList","isConfirmOpen","AppointmentCode","queryHandler","data","payload","siteCode","props","tokenDetails","site_code","date","Date","then","res","console","log","result","success","setState","handleGotoCart","formFields","custId","custName","customerId","customerName","push","handleSendBack","apptCode","handlecloseDialog","handleSendBackConfirm","status","handlePrescription","prescriptionNo","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","componentDidMount","render","t","length","filter","acc","String","apptStatus","toUpperCase","map","index","customerCode","custNRIC","gender","customerAge","apptDate","physician","paymentAmount","blob","loading","error","mapStateToProps","authStore","mapDispatchToProps","dispatch","TCMPaymentList"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalSelect,\r\n  TableWrapper,\r\n  NormalModal,\r\n} from \"component/common\";\r\nimport { getTcmApi, tcmCreateApi } from \"redux/actions/TCM\";\r\nimport { updateForm } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport Prescription from \"../Report/Prescription\";\r\nimport closeIcon from \"assets/images/close.png\";\r\n\r\nexport class TCMPaymentListClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Customer Code\" },\r\n      { label: \"Customer Name\" },\r\n      { label: \"NRIC\" },\r\n      { label: \"Gender\" },\r\n      { label: \"Age\" },\r\n      { label: \"Date\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Physician\" },\r\n      { label: \"Status\" },\r\n      { label: \"Total Amount\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n    ],\r\n    tcmPaymentList: [],\r\n    pageMeta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n    isPrintPdfClick: false,\r\n    accountHeader: { name: \"Prescription\", address: \"\", logo: \"\" },\r\n    tcmPrescriptionMain: [],\r\n    tcmPrescriptionList: [],\r\n    isConfirmOpen: false,\r\n    AppointmentCode: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // api call for list\r\n  queryHandler = data => {\r\n    let payload = {\r\n      siteCode: this.props.tokenDetails.site_code,\r\n      date: dateFormat(new Date(), \"yyyy-mm-dd\"),\r\n    };\r\n    this.props.tcmCreateApi(`tcmCustomerListFronDesk/`, payload).then(res => {\r\n      console.log(res, \"dsfdfaafg\");\r\n      let { result, success } = res;\r\n      let { tcmPaymentList } = this.state;\r\n      if (success == \"1\" && result) {\r\n        tcmPaymentList = result;\r\n        this.setState({\r\n          tcmPaymentList,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleGotoCart = data => {\r\n    let formFields = { custId: 0, custName: \"\" };\r\n    formFields[\"custId\"] = data.customerId;\r\n    formFields[\"custName\"] = data.customerName;\r\n    this.props.updateForm(\"basicApptDetail\", formFields);\r\n\r\n    history.push(\"/admin/cart\");\r\n  };\r\n  handleSendBack = data => {\r\n    this.setState({\r\n      isConfirmOpen: true,\r\n      AppointmentCode: data.apptCode,\r\n    });\r\n  };\r\n  handlecloseDialog = () => {\r\n    let { isConfirmOpen } = this.state;\r\n    this.setState({\r\n      isConfirmOpen: !isConfirmOpen,\r\n    });\r\n  };\r\n  handleSendBackConfirm = () => {\r\n    let payload = {\r\n      AppointmentCode: this.state.AppointmentCode,\r\n      status: \"Verify\",\r\n      siteCode: this.props.tokenDetails.site_code,\r\n    };\r\n    this.props.tcmCreateApi(`tcmAppointmentStatus/`, payload).then(res => {\r\n      console.log(res, \"dsfdfaafgcustomerlist\");\r\n      let { result, success } = res;\r\n      if (success == \"1\" && result) {\r\n        this.queryHandler({});\r\n      }\r\n    });\r\n    this.handlecloseDialog();\r\n  };\r\n\r\n  handlePrescription = data => {\r\n    this.props\r\n      .getTcmApi(\r\n        `tcmPrescriptionReceipt/?PrescriptionNo=${data.prescriptionNo}`\r\n      )\r\n      .then(res => {\r\n        let { result, success } = res;\r\n        if (success == \"1\" && result) {\r\n          console.log(result, \"dsfdfaafgprescriptionresponse\");\r\n          this.setState({\r\n            tcmPrescriptionMain: result,\r\n          });\r\n          this.props\r\n            .getTcmApi(`tcmPrescription/?PrescriptionNo=${data.prescriptionNo}`)\r\n            .then(res => {\r\n              let { result, success } = res;\r\n              if (success == \"1\" && result) {\r\n                console.log(result, \"dsfdfaafgprescriptionresponse\");\r\n                this.setState({\r\n                  tcmPrescriptionList: result,\r\n                });\r\n                this.setState({ isPrintPdfClick: true });\r\n              }\r\n            });\r\n        }\r\n      });\r\n  };\r\n  handlePrintPdfFormat = url => {\r\n    let { tcmPrescriptionMain } = this.state;\r\n    console.log(tcmPrescriptionMain, \"prescriptionmain\");\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${tcmPrescriptionMain[0].prescriptionNo}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      tcmPaymentList,\r\n      pageMeta,\r\n      currentIndex,\r\n      tcmPrescriptionList,\r\n      isPrintPdfClick,\r\n      accountHeader,\r\n      tcmPrescriptionMain,\r\n      isConfirmOpen,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"table-container mt-3\">\r\n          <TableWrapper\r\n            headerDetails={headerDetails}\r\n            // queryHandler={this.handlePagination}\r\n            // pageMeta={pageMeta}\r\n          >\r\n            {tcmPaymentList.length > 0\r\n              ? tcmPaymentList\r\n                  .filter(\r\n                    acc =>\r\n                      String(acc.apptStatus).toUpperCase() === \"VERIFY\" ||\r\n                      String(acc.apptStatus).toUpperCase() ===\r\n                        \"AWAITING PAYMENT\"\r\n                  )\r\n                  .map((data, index) => {\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.customerCode}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.customerName}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.custNRIC}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.gender}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.customerAge}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{data.apptDate}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.physician}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{data.apptStatus}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{data.paymentAmount}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex py-0\">\r\n                            <NormalButton\r\n                              className={`fs-12`}\r\n                              label=\"Prescribe\"\r\n                              mainbgrev={true}\r\n                              onClick={() => this.handlePrescription(data)}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex py-0\">\r\n                            <NormalButton\r\n                              className=\"fs-12\"\r\n                              label=\"Payment\"\r\n                              styleFive={true}\r\n                              onClick={() => this.handleGotoCart(data)}\r\n                              disabled={\r\n                                String(data.apptStatus).toUpperCase() === \"DONE\"\r\n                                  ? true\r\n                                  : false\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex py-0\">\r\n                            <NormalButton\r\n                              className=\"w-100 fs-12\"\r\n                              label=\"Send Back\"\r\n                              styleFour={true}\r\n                              onClick={() => this.handleSendBack(data)}\r\n                              disabled={\r\n                                String(data.apptStatus).toUpperCase() ===\r\n                                \"AWAITING PAYMENT\"\r\n                                  ? false\r\n                                  : true\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n              : null}\r\n          </TableWrapper>\r\n          <NormalModal\r\n            className={\"multiple-appointment\"}\r\n            modal={isConfirmOpen}\r\n            //style={{ minWidth: \"30%\" }}\r\n            handleModal={() => {}}\r\n          >\r\n            <div className=\"row m-2\">\r\n              <div className=\"col-12 h4 p-0\">{t(\"Confirm\")}</div>\r\n\r\n              <div className=\"col-12 h6\">\r\n                {t(\"Are you sure want to update\")}?\r\n              </div>\r\n\r\n              <div className=\"d-flex justify-content-start mt-4 w-100\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"col-12 multiple-customer\"\r\n                  label={\"Cancel\"}\r\n                  onClick={this.handlecloseDialog}\r\n                />\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbgrev={true}\r\n                  className=\"col-12 fs-15 multiple-customer\"\r\n                  label={\"Confirm\"}\r\n                  onClick={this.handleSendBackConfirm}\r\n                />\r\n              </div>\r\n            </div>\r\n          </NormalModal>\r\n        </div>\r\n\r\n        {isPrintPdfClick ? (\r\n          <PDFDownloadLink\r\n            document={\r\n              <Prescription\r\n                TableDetail={tcmPrescriptionList}\r\n                MainInfo={tcmPrescriptionMain}\r\n                accountHeader={accountHeader}\r\n                Flag={1}\r\n                landscape={false}\r\n              />\r\n            }\r\n          >\r\n            {({ blob, url, loading, error }) =>\r\n              !loading && url ? this.handlePrintPdfFormat(url) : null\r\n            }\r\n          </PDFDownloadLink>\r\n        ) : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getTcmApi,\r\n      tcmCreateApi,\r\n      updateForm,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TCMPaymentList = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(TCMPaymentListClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}