{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.agenda.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\n\nvar _dom_adapter = _interopRequireDefault(require(\"../../../core/dom_adapter\"));\n\nvar _common = require(\"../../../core/utils/common\");\n\nvar _iterator = require(\"../../../core/utils/iterator\");\n\nvar _element = require(\"../../../core/element\");\n\nvar _component_registrator = _interopRequireDefault(require(\"../../../core/component_registrator\"));\n\nvar _uiScheduler = _interopRequireDefault(require(\"./ui.scheduler.work_space\"));\n\nvar _extend = require(\"../../../core/utils/extend\");\n\nvar _date = _interopRequireDefault(require(\"../../../localization/date\"));\n\nvar _uiScheduler2 = _interopRequireDefault(require(\"../ui.scheduler.table_creator\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar tableCreator = _uiScheduler2.default.tableCreator;\nvar AGENDA_CLASS = \"dx-scheduler-agenda\";\nvar AGENDA_DATE_CLASS = \"dx-scheduler-agenda-date\";\nvar GROUP_TABLE_CLASS = \"dx-scheduler-group-table\";\nvar AGENDA_GROUPED_ATTR = \"dx-group-column-count\";\nvar TIME_PANEL_ROW_CLASS = \"dx-scheduler-time-panel-row\";\nvar TIME_PANEL_CELL_CLASS = \"dx-scheduler-time-panel-cell\";\nvar NODATA_CONTAINER_CLASS = \"dx-scheduler-agenda-nodata\";\nvar LAST_ROW_CLASS = \"dx-scheduler-date-table-last-row\";\nvar INNER_CELL_MARGIN = 5;\nvar OUTER_CELL_MARGIN = 20;\n\nvar SchedulerAgenda = function (_SchedulerWorkSpace) {\n  _inherits(SchedulerAgenda, _SchedulerWorkSpace);\n\n  var _super = _createSuper(SchedulerAgenda);\n\n  function SchedulerAgenda() {\n    _classCallCheck(this, SchedulerAgenda);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SchedulerAgenda, [{\n    key: \"_init\",\n    value: function value() {\n      _get(_getPrototypeOf(SchedulerAgenda.prototype), \"_init\", this).call(this);\n\n      this._activeStateUnit = void 0;\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(SchedulerAgenda.prototype), \"_getDefaultOptions\", this).call(this), {\n        agendaDuration: 7,\n        rowHeight: 60,\n        noDataText: \"\"\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      var name = args.name;\n      var value = args.value;\n\n      switch (name) {\n        case \"agendaDuration\":\n          break;\n\n        case \"noDataText\":\n        case \"rowHeight\":\n          this._recalculateAgenda(this._rows);\n\n          break;\n\n        case \"groups\":\n          if (!value || !value.length) {\n            if (this._$groupTable) {\n              this._$groupTable.remove();\n\n              this._$groupTable = null;\n\n              this._detachGroupCountAttr();\n            }\n          } else {\n            if (!this._$groupTable) {\n              this._initGroupTable();\n\n              this._dateTableScrollable.$content().prepend(this._$groupTable);\n            }\n          }\n\n          _get(_getPrototypeOf(SchedulerAgenda.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(SchedulerAgenda.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_renderFocusState\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_renderFocusTarget\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_cleanFocusState\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"supportAllDayRow\",\n    value: function value() {\n      return false;\n    }\n  }, {\n    key: \"_isVerticalGroupedWorkSpace\",\n    value: function value() {\n      return false;\n    }\n  }, {\n    key: \"_getElementClass\",\n    value: function value() {\n      return AGENDA_CLASS;\n    }\n  }, {\n    key: \"_setFirstViewDate\",\n    value: function value() {\n      this._firstViewDate = new Date(this.option(\"currentDate\"));\n\n      this._setStartDayHour(this._firstViewDate);\n    }\n  }, {\n    key: \"_getRowCount\",\n    value: function value() {\n      return this.option(\"agendaDuration\");\n    }\n  }, {\n    key: \"_getCellCount\",\n    value: function value() {\n      return 1;\n    }\n  }, {\n    key: \"_getTimePanelRowCount\",\n    value: function value() {\n      return this.option(\"agendaDuration\");\n    }\n  }, {\n    key: \"_getDateByIndex\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_getFormat\",\n    value: function value() {\n      return \"d ddd\";\n    }\n  }, {\n    key: \"_renderAllDayPanel\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_toggleAllDayVisibility\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_initWorkSpaceUnits\",\n    value: function value() {\n      this._initGroupTable();\n\n      this._$timePanel = (0, _renderer.default)(\"<table>\").addClass(this._getTimePanelClass());\n      this._$dateTable = (0, _renderer.default)(\"<table>\").addClass(this._getDateTableClass());\n    }\n  }, {\n    key: \"_initGroupTable\",\n    value: function value() {\n      var groups = this.option(\"groups\");\n\n      if (groups && groups.length) {\n        this._$groupTable = (0, _renderer.default)(\"<table>\").addClass(GROUP_TABLE_CLASS);\n      }\n    }\n  }, {\n    key: \"_renderView\",\n    value: function value() {\n      this._setFirstViewDate();\n\n      this._rows = [];\n      this.invoke(\"getAgendaRows\", {\n        agendaDuration: this.option(\"agendaDuration\"),\n        currentDate: new Date(this.option(\"currentDate\"))\n      }).done(function (rows) {\n        this._recalculateAgenda(rows);\n      }.bind(this));\n    }\n  }, {\n    key: \"_recalculateAgenda\",\n    value: function value(rows) {\n      var cellTemplates = [];\n\n      this._cleanView();\n\n      if (this._rowsIsEmpty(rows)) {\n        this._renderNoData();\n\n        return;\n      }\n\n      this._rows = rows;\n\n      if (this._$groupTable) {\n        cellTemplates = this._renderGroupHeader();\n\n        this._setGroupHeaderCellsHeight();\n      }\n\n      this._renderTimePanel();\n\n      this._renderDateTable();\n\n      this.invoke(\"onAgendaReady\", rows);\n\n      this._applyCellTemplates(cellTemplates);\n\n      this._dateTableScrollable.update();\n    }\n  }, {\n    key: \"_renderNoData\",\n    value: function value() {\n      this._$noDataContainer = (0, _renderer.default)(\"<div>\").addClass(NODATA_CONTAINER_CLASS).html(this.option(\"noDataText\"));\n\n      this._dateTableScrollable.$content().append(this._$noDataContainer);\n    }\n  }, {\n    key: \"_setTableSizes\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_toggleHorizontalScrollClass\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_createCrossScrollingConfig\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_setGroupHeaderCellsHeight\",\n    value: function value() {\n      var $cells = this._getGroupHeaderCells().filter(function (_, element) {\n        return !element.getAttribute(\"rowSpan\");\n      });\n\n      var rows = this._removeEmptyRows(this._rows);\n\n      if (!rows.length) {\n        return;\n      }\n\n      for (var i = 0; i < $cells.length; i++) {\n        var $cellContent = $cells.eq(i).find(\".dx-scheduler-group-header-content\");\n        $cellContent.outerHeight(this._getGroupRowHeight(rows[i]));\n      }\n    }\n  }, {\n    key: \"_rowsIsEmpty\",\n    value: function value(rows) {\n      var result = true;\n\n      for (var i = 0; i < rows.length; i++) {\n        var groupRow = rows[i];\n\n        for (var j = 0; j < groupRow.length; j++) {\n          if (groupRow[j]) {\n            result = false;\n            break;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_detachGroupCountAttr\",\n    value: function value() {\n      this.$element().removeAttr(AGENDA_GROUPED_ATTR);\n    }\n  }, {\n    key: \"_attachGroupCountAttr\",\n    value: function value() {\n      this.$element().attr(AGENDA_GROUPED_ATTR, this.option(\"groups\").length);\n    }\n  }, {\n    key: \"_removeEmptyRows\",\n    value: function value(rows) {\n      var result = [];\n\n      var isEmpty = function isEmpty(data) {\n        return !data.some(function (value) {\n          return value > 0;\n        });\n      };\n\n      for (var i = 0; i < rows.length; i++) {\n        if (rows[i].length && !isEmpty(rows[i])) {\n          result.push(rows[i]);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_getGroupHeaderContainer\",\n    value: function value() {\n      return this._$groupTable;\n    }\n  }, {\n    key: \"_makeGroupRows\",\n    value: function value() {\n      var tree = this.invoke(\"createReducedResourcesTree\");\n      var cellTemplate = this.option(\"resourceCellTemplate\");\n\n      var getGroupHeaderContentClass = this._getGroupHeaderContentClass();\n\n      var cellTemplates = [];\n      var table = tableCreator.makeGroupedTableFromJSON(tableCreator.VERTICAL, tree, {\n        cellTag: \"th\",\n        groupTableClass: GROUP_TABLE_CLASS,\n        groupRowClass: this._getGroupRowClass(),\n        groupCellClass: this._getGroupHeaderClass(),\n        groupCellCustomContent: function groupCellCustomContent(cell, cellText, index, data) {\n          var container = _dom_adapter.default.createElement(\"div\");\n\n          var contentWrapper = _dom_adapter.default.createElement(\"div\");\n\n          container.className = getGroupHeaderContentClass;\n          contentWrapper.appendChild(cellText);\n          container.appendChild(contentWrapper);\n          container.className = getGroupHeaderContentClass;\n\n          if (cellTemplate && cellTemplate.render) {\n            cellTemplates.push(cellTemplate.render.bind(cellTemplate, {\n              model: {\n                data: data.data,\n                id: data.value,\n                color: data.color,\n                text: cellText.textContent\n              },\n              container: (0, _element.getPublicElement)((0, _renderer.default)(container)),\n              index: index\n            }));\n          } else {\n            contentWrapper.appendChild(cellText);\n            container.appendChild(contentWrapper);\n          }\n\n          cell.appendChild(container);\n        },\n        cellTemplate: cellTemplate\n      });\n      return {\n        elements: (0, _renderer.default)(table).find(\".\" + this._getGroupRowClass()),\n        cellTemplates: cellTemplates\n      };\n    }\n  }, {\n    key: \"_cleanView\",\n    value: function value() {\n      this._$dateTable.empty();\n\n      this._$timePanel.empty();\n\n      if (this._$groupTable) {\n        this._$groupTable.empty();\n      }\n\n      if (this._$noDataContainer) {\n        this._$noDataContainer.empty();\n\n        this._$noDataContainer.remove();\n\n        delete this._$noDataContainer;\n      }\n    }\n  }, {\n    key: \"_createWorkSpaceElements\",\n    value: function value() {\n      this._createWorkSpaceStaticElements();\n    }\n  }, {\n    key: \"_createWorkSpaceStaticElements\",\n    value: function value() {\n      if (this._$groupTable) {\n        this._dateTableScrollable.$content().prepend(this._$groupTable);\n      }\n\n      this._dateTableScrollable.$content().append(this._$timePanel, this._$dateTable);\n\n      this.$element().append(this._dateTableScrollable.$element());\n    }\n  }, {\n    key: \"_renderDateTable\",\n    value: function value() {\n      this._renderTableBody({\n        container: (0, _element.getPublicElement)(this._$dateTable),\n        rowClass: this._getDateTableRowClass(),\n        cellClass: this._getDateTableCellClass()\n      });\n    }\n  }, {\n    key: \"_attachTablesEvents\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_attachEvents\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"_cleanCellDataCache\",\n    value: function value() {\n      return (0, _common.noop)();\n    }\n  }, {\n    key: \"isIndicationAvailable\",\n    value: function value() {\n      return false;\n    }\n  }, {\n    key: \"_prepareCellTemplateOptions\",\n    value: function value(text, date, rowIndex, $cell) {\n      var groupsOpt = this.option(\"groups\");\n      var groups = {};\n      var path = groupsOpt.length && this._getPathToLeaf(rowIndex) || [];\n      path.forEach(function (resourceValue, resourceIndex) {\n        var resourceName = groupsOpt[resourceIndex].name;\n        groups[resourceName] = resourceValue;\n      });\n      return {\n        model: {\n          text: text,\n          date: date,\n          groups: groups\n        },\n        container: (0, _element.getPublicElement)($cell),\n        index: rowIndex\n      };\n    }\n  }, {\n    key: \"_renderTableBody\",\n    value: function value(options) {\n      var cellTemplates = [];\n      var cellTemplateOpt = options.cellTemplate;\n      this._$rows = [];\n      var i;\n\n      var fillTableBody = function (rowIndex, rowSize) {\n        if (rowSize) {\n          var date;\n          var cellDateNumber;\n          var cellDayName;\n          var $row = (0, _renderer.default)(\"<tr>\");\n          var $td = (0, _renderer.default)(\"<td>\").height(this._getRowHeight(rowSize));\n\n          if (options.getStartDate) {\n            date = options.getStartDate && options.getStartDate(rowIndex);\n            cellDateNumber = _date.default.format(date, \"d\");\n            cellDayName = _date.default.format(date, this._formatWeekday);\n          }\n\n          if (cellTemplateOpt && cellTemplateOpt.render) {\n            var templateOptions = this._prepareCellTemplateOptions(cellDateNumber + \" \" + cellDayName, date, i, $td);\n\n            cellTemplates.push(cellTemplateOpt.render.bind(cellTemplateOpt, templateOptions));\n          } else {\n            if (cellDateNumber && cellDayName) {\n              $td.addClass(AGENDA_DATE_CLASS).text(cellDateNumber + \" \" + cellDayName);\n            }\n          }\n\n          if (options.rowClass) {\n            $row.addClass(options.rowClass);\n          }\n\n          if (options.cellClass) {\n            $td.addClass(options.cellClass);\n          }\n\n          $row.append($td);\n\n          this._$rows.push($row);\n        }\n      }.bind(this);\n\n      for (i = 0; i < this._rows.length; i++) {\n        (0, _iterator.each)(this._rows[i], fillTableBody);\n\n        this._setLastRowClass();\n      }\n\n      (0, _renderer.default)(options.container).append((0, _renderer.default)(\"<tbody>\").append(this._$rows));\n\n      this._applyCellTemplates(cellTemplates);\n    }\n  }, {\n    key: \"_setLastRowClass\",\n    value: function value() {\n      if (this._rows.length > 1 && this._$rows.length) {\n        var $lastRow = this._$rows[this._$rows.length - 1];\n        $lastRow.addClass(LAST_ROW_CLASS);\n      }\n    }\n  }, {\n    key: \"_renderTimePanel\",\n    value: function value() {\n      this._renderTableBody({\n        container: (0, _element.getPublicElement)(this._$timePanel),\n        rowCount: this._getTimePanelRowCount(),\n        cellCount: 1,\n        rowClass: TIME_PANEL_ROW_CLASS,\n        cellClass: TIME_PANEL_CELL_CLASS,\n        cellTemplate: this.option(\"dateCellTemplate\"),\n        getStartDate: this._getTimePanelStartDate.bind(this)\n      });\n    }\n  }, {\n    key: \"_getTimePanelStartDate\",\n    value: function value(rowIndex) {\n      var current = new Date(this.option(\"currentDate\"));\n      var cellDate = new Date(current.setDate(current.getDate() + rowIndex));\n      return cellDate;\n    }\n  }, {\n    key: \"_getRowHeight\",\n    value: function value(rowSize) {\n      var baseHeight = this.option(\"rowHeight\");\n      var innerOffset = (rowSize - 1) * INNER_CELL_MARGIN;\n      return rowSize ? baseHeight * rowSize + innerOffset + OUTER_CELL_MARGIN : 0;\n    }\n  }, {\n    key: \"_getGroupRowHeight\",\n    value: function value(groupRows) {\n      if (!groupRows) {\n        return;\n      }\n\n      var result = 0;\n\n      for (var i = 0; i < groupRows.length; i++) {\n        result += this._getRowHeight(groupRows[i]);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getAgendaVerticalStepHeight\",\n    value: function value() {\n      return this.option(\"rowHeight\");\n    }\n  }, {\n    key: \"getEndViewDate\",\n    value: function value() {\n      var currentDate = new Date(this.option(\"currentDate\"));\n      var agendaDuration = this.option(\"agendaDuration\");\n      currentDate.setHours(this.option(\"endDayHour\"));\n      var result = currentDate.setDate(currentDate.getDate() + agendaDuration - 1) - 6e4;\n      return new Date(result);\n    }\n  }, {\n    key: \"getEndViewDateByEndDayHour\",\n    value: function value() {\n      return this.getEndViewDate();\n    }\n  }, {\n    key: \"getCoordinatesByDate\",\n    value: function value() {\n      return {\n        top: 0,\n        left: 0,\n        max: 0,\n        groupIndex: 0\n      };\n    }\n  }, {\n    key: \"getCellDataByCoordinates\",\n    value: function value() {\n      return {\n        startDate: null,\n        endDate: null\n      };\n    }\n  }, {\n    key: \"updateScrollPosition\",\n    value: function value(date) {\n      var scheduler = this.option(\"observer\");\n      var newDate = scheduler.timeZoneCalculator.createDate(date, {\n        path: \"toGrid\"\n      });\n      var bounds = this.getVisibleBounds();\n      var startDateHour = newDate.getHours();\n      var startDateMinutes = newDate.getMinutes();\n\n      if (this.needUpdateScrollPosition(startDateHour, startDateMinutes, bounds, newDate)) {\n        this.scrollToTime(startDateHour, startDateMinutes, newDate);\n      }\n    }\n  }, {\n    key: \"needUpdateScrollPosition\",\n    value: function value(hours, minutes, bounds) {\n      var isUpdateNeeded = false;\n\n      if (hours < bounds.top.hours || hours > bounds.bottom.hours) {\n        isUpdateNeeded = true;\n      }\n\n      if (hours === bounds.top.hours && minutes < bounds.top.minutes) {\n        isUpdateNeeded = true;\n      }\n\n      if (hours === bounds.bottom.hours && minutes > bounds.top.minutes) {\n        isUpdateNeeded = true;\n      }\n\n      return isUpdateNeeded;\n    }\n  }]);\n\n  return SchedulerAgenda;\n}(_uiScheduler.default);\n\n(0, _component_registrator.default)(\"dxSchedulerAgenda\", SchedulerAgenda);\nvar _default = SchedulerAgenda;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["F:/webfe/node_modules/devextreme/ui/scheduler/workspaces/ui.scheduler.agenda.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_renderer","_interopRequireDefault","require","_dom_adapter","_common","_iterator","_element","_component_registrator","_uiScheduler","_extend","_date","_uiScheduler2","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","tableCreator","AGENDA_CLASS","AGENDA_DATE_CLASS","GROUP_TABLE_CLASS","AGENDA_GROUPED_ATTR","TIME_PANEL_ROW_CLASS","TIME_PANEL_CELL_CLASS","NODATA_CONTAINER_CLASS","LAST_ROW_CLASS","INNER_CELL_MARGIN","OUTER_CELL_MARGIN","SchedulerAgenda","_SchedulerWorkSpace","_super","_activeStateUnit","extend","agendaDuration","rowHeight","noDataText","args","name","_recalculateAgenda","_rows","_$groupTable","remove","_detachGroupCountAttr","_initGroupTable","_dateTableScrollable","$content","prepend","noop","_firstViewDate","option","_setStartDayHour","_$timePanel","addClass","_getTimePanelClass","_$dateTable","_getDateTableClass","groups","_setFirstViewDate","invoke","currentDate","done","rows","bind","cellTemplates","_cleanView","_rowsIsEmpty","_renderNoData","_renderGroupHeader","_setGroupHeaderCellsHeight","_renderTimePanel","_renderDateTable","_applyCellTemplates","update","_$noDataContainer","html","append","$cells","_getGroupHeaderCells","filter","_","element","getAttribute","_removeEmptyRows","$cellContent","eq","find","outerHeight","_getGroupRowHeight","groupRow","j","$element","removeAttr","attr","isEmpty","data","some","push","tree","cellTemplate","getGroupHeaderContentClass","_getGroupHeaderContentClass","table","makeGroupedTableFromJSON","VERTICAL","cellTag","groupTableClass","groupRowClass","_getGroupRowClass","groupCellClass","_getGroupHeaderClass","groupCellCustomContent","cell","cellText","index","container","createElement","contentWrapper","className","appendChild","render","model","id","color","text","textContent","getPublicElement","elements","empty","_createWorkSpaceStaticElements","_renderTableBody","rowClass","_getDateTableRowClass","cellClass","_getDateTableCellClass","date","rowIndex","$cell","groupsOpt","path","_getPathToLeaf","forEach","resourceValue","resourceIndex","resourceName","options","cellTemplateOpt","_$rows","fillTableBody","rowSize","cellDateNumber","cellDayName","$row","$td","height","_getRowHeight","getStartDate","format","_formatWeekday","templateOptions","_prepareCellTemplateOptions","each","_setLastRowClass","$lastRow","rowCount","_getTimePanelRowCount","cellCount","_getTimePanelStartDate","current","cellDate","setDate","getDate","baseHeight","innerOffset","groupRows","setHours","getEndViewDate","top","left","max","groupIndex","startDate","endDate","scheduler","newDate","timeZoneCalculator","createDate","bounds","getVisibleBounds","startDateHour","getHours","startDateMinutes","getMinutes","needUpdateScrollPosition","scrollToTime","hours","minutes","isUpdateNeeded","bottom","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.agenda.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../../core/dom_adapter\"));\r\nvar _common = require(\"../../../core/utils/common\");\r\nvar _iterator = require(\"../../../core/utils/iterator\");\r\nvar _element = require(\"../../../core/element\");\r\nvar _component_registrator = _interopRequireDefault(require(\"../../../core/component_registrator\"));\r\nvar _uiScheduler = _interopRequireDefault(require(\"./ui.scheduler.work_space\"));\r\nvar _extend = require(\"../../../core/utils/extend\");\r\nvar _date = _interopRequireDefault(require(\"../../../localization/date\"));\r\nvar _uiScheduler2 = _interopRequireDefault(require(\"../ui.scheduler.table_creator\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar tableCreator = _uiScheduler2.default.tableCreator;\r\nvar AGENDA_CLASS = \"dx-scheduler-agenda\";\r\nvar AGENDA_DATE_CLASS = \"dx-scheduler-agenda-date\";\r\nvar GROUP_TABLE_CLASS = \"dx-scheduler-group-table\";\r\nvar AGENDA_GROUPED_ATTR = \"dx-group-column-count\";\r\nvar TIME_PANEL_ROW_CLASS = \"dx-scheduler-time-panel-row\";\r\nvar TIME_PANEL_CELL_CLASS = \"dx-scheduler-time-panel-cell\";\r\nvar NODATA_CONTAINER_CLASS = \"dx-scheduler-agenda-nodata\";\r\nvar LAST_ROW_CLASS = \"dx-scheduler-date-table-last-row\";\r\nvar INNER_CELL_MARGIN = 5;\r\nvar OUTER_CELL_MARGIN = 20;\r\nvar SchedulerAgenda = function(_SchedulerWorkSpace) {\r\n    _inherits(SchedulerAgenda, _SchedulerWorkSpace);\r\n    var _super = _createSuper(SchedulerAgenda);\r\n\r\n    function SchedulerAgenda() {\r\n        _classCallCheck(this, SchedulerAgenda);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(SchedulerAgenda, [{\r\n        key: \"_init\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(SchedulerAgenda.prototype), \"_init\", this).call(this);\r\n            this._activeStateUnit = void 0\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(SchedulerAgenda.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                agendaDuration: 7,\r\n                rowHeight: 60,\r\n                noDataText: \"\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            var value = args.value;\r\n            switch (name) {\r\n                case \"agendaDuration\":\r\n                    break;\r\n                case \"noDataText\":\r\n                case \"rowHeight\":\r\n                    this._recalculateAgenda(this._rows);\r\n                    break;\r\n                case \"groups\":\r\n                    if (!value || !value.length) {\r\n                        if (this._$groupTable) {\r\n                            this._$groupTable.remove();\r\n                            this._$groupTable = null;\r\n                            this._detachGroupCountAttr()\r\n                        }\r\n                    } else {\r\n                        if (!this._$groupTable) {\r\n                            this._initGroupTable();\r\n                            this._dateTableScrollable.$content().prepend(this._$groupTable)\r\n                        }\r\n                    }\r\n                    _get(_getPrototypeOf(SchedulerAgenda.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(SchedulerAgenda.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderFocusState\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_renderFocusTarget\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_cleanFocusState\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"supportAllDayRow\",\r\n        value: function() {\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_isVerticalGroupedWorkSpace\",\r\n        value: function() {\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_getElementClass\",\r\n        value: function() {\r\n            return AGENDA_CLASS\r\n        }\r\n    }, {\r\n        key: \"_setFirstViewDate\",\r\n        value: function() {\r\n            this._firstViewDate = new Date(this.option(\"currentDate\"));\r\n            this._setStartDayHour(this._firstViewDate)\r\n        }\r\n    }, {\r\n        key: \"_getRowCount\",\r\n        value: function() {\r\n            return this.option(\"agendaDuration\")\r\n        }\r\n    }, {\r\n        key: \"_getCellCount\",\r\n        value: function() {\r\n            return 1\r\n        }\r\n    }, {\r\n        key: \"_getTimePanelRowCount\",\r\n        value: function() {\r\n            return this.option(\"agendaDuration\")\r\n        }\r\n    }, {\r\n        key: \"_getDateByIndex\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_getFormat\",\r\n        value: function() {\r\n            return \"d ddd\"\r\n        }\r\n    }, {\r\n        key: \"_renderAllDayPanel\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_toggleAllDayVisibility\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_initWorkSpaceUnits\",\r\n        value: function() {\r\n            this._initGroupTable();\r\n            this._$timePanel = (0, _renderer.default)(\"<table>\").addClass(this._getTimePanelClass());\r\n            this._$dateTable = (0, _renderer.default)(\"<table>\").addClass(this._getDateTableClass())\r\n        }\r\n    }, {\r\n        key: \"_initGroupTable\",\r\n        value: function() {\r\n            var groups = this.option(\"groups\");\r\n            if (groups && groups.length) {\r\n                this._$groupTable = (0, _renderer.default)(\"<table>\").addClass(GROUP_TABLE_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderView\",\r\n        value: function() {\r\n            this._setFirstViewDate();\r\n            this._rows = [];\r\n            this.invoke(\"getAgendaRows\", {\r\n                agendaDuration: this.option(\"agendaDuration\"),\r\n                currentDate: new Date(this.option(\"currentDate\"))\r\n            }).done(function(rows) {\r\n                this._recalculateAgenda(rows)\r\n            }.bind(this))\r\n        }\r\n    }, {\r\n        key: \"_recalculateAgenda\",\r\n        value: function(rows) {\r\n            var cellTemplates = [];\r\n            this._cleanView();\r\n            if (this._rowsIsEmpty(rows)) {\r\n                this._renderNoData();\r\n                return\r\n            }\r\n            this._rows = rows;\r\n            if (this._$groupTable) {\r\n                cellTemplates = this._renderGroupHeader();\r\n                this._setGroupHeaderCellsHeight()\r\n            }\r\n            this._renderTimePanel();\r\n            this._renderDateTable();\r\n            this.invoke(\"onAgendaReady\", rows);\r\n            this._applyCellTemplates(cellTemplates);\r\n            this._dateTableScrollable.update()\r\n        }\r\n    }, {\r\n        key: \"_renderNoData\",\r\n        value: function() {\r\n            this._$noDataContainer = (0, _renderer.default)(\"<div>\").addClass(NODATA_CONTAINER_CLASS).html(this.option(\"noDataText\"));\r\n            this._dateTableScrollable.$content().append(this._$noDataContainer)\r\n        }\r\n    }, {\r\n        key: \"_setTableSizes\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_toggleHorizontalScrollClass\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_createCrossScrollingConfig\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_setGroupHeaderCellsHeight\",\r\n        value: function() {\r\n            var $cells = this._getGroupHeaderCells().filter(function(_, element) {\r\n                return !element.getAttribute(\"rowSpan\")\r\n            });\r\n            var rows = this._removeEmptyRows(this._rows);\r\n            if (!rows.length) {\r\n                return\r\n            }\r\n            for (var i = 0; i < $cells.length; i++) {\r\n                var $cellContent = $cells.eq(i).find(\".dx-scheduler-group-header-content\");\r\n                $cellContent.outerHeight(this._getGroupRowHeight(rows[i]))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_rowsIsEmpty\",\r\n        value: function(rows) {\r\n            var result = true;\r\n            for (var i = 0; i < rows.length; i++) {\r\n                var groupRow = rows[i];\r\n                for (var j = 0; j < groupRow.length; j++) {\r\n                    if (groupRow[j]) {\r\n                        result = false;\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_detachGroupCountAttr\",\r\n        value: function() {\r\n            this.$element().removeAttr(AGENDA_GROUPED_ATTR)\r\n        }\r\n    }, {\r\n        key: \"_attachGroupCountAttr\",\r\n        value: function() {\r\n            this.$element().attr(AGENDA_GROUPED_ATTR, this.option(\"groups\").length)\r\n        }\r\n    }, {\r\n        key: \"_removeEmptyRows\",\r\n        value: function(rows) {\r\n            var result = [];\r\n            var isEmpty = function(data) {\r\n                return !data.some(function(value) {\r\n                    return value > 0\r\n                })\r\n            };\r\n            for (var i = 0; i < rows.length; i++) {\r\n                if (rows[i].length && !isEmpty(rows[i])) {\r\n                    result.push(rows[i])\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getGroupHeaderContainer\",\r\n        value: function() {\r\n            return this._$groupTable\r\n        }\r\n    }, {\r\n        key: \"_makeGroupRows\",\r\n        value: function() {\r\n            var tree = this.invoke(\"createReducedResourcesTree\");\r\n            var cellTemplate = this.option(\"resourceCellTemplate\");\r\n            var getGroupHeaderContentClass = this._getGroupHeaderContentClass();\r\n            var cellTemplates = [];\r\n            var table = tableCreator.makeGroupedTableFromJSON(tableCreator.VERTICAL, tree, {\r\n                cellTag: \"th\",\r\n                groupTableClass: GROUP_TABLE_CLASS,\r\n                groupRowClass: this._getGroupRowClass(),\r\n                groupCellClass: this._getGroupHeaderClass(),\r\n                groupCellCustomContent: function(cell, cellText, index, data) {\r\n                    var container = _dom_adapter.default.createElement(\"div\");\r\n                    var contentWrapper = _dom_adapter.default.createElement(\"div\");\r\n                    container.className = getGroupHeaderContentClass;\r\n                    contentWrapper.appendChild(cellText);\r\n                    container.appendChild(contentWrapper);\r\n                    container.className = getGroupHeaderContentClass;\r\n                    if (cellTemplate && cellTemplate.render) {\r\n                        cellTemplates.push(cellTemplate.render.bind(cellTemplate, {\r\n                            model: {\r\n                                data: data.data,\r\n                                id: data.value,\r\n                                color: data.color,\r\n                                text: cellText.textContent\r\n                            },\r\n                            container: (0, _element.getPublicElement)((0, _renderer.default)(container)),\r\n                            index: index\r\n                        }))\r\n                    } else {\r\n                        contentWrapper.appendChild(cellText);\r\n                        container.appendChild(contentWrapper)\r\n                    }\r\n                    cell.appendChild(container)\r\n                },\r\n                cellTemplate: cellTemplate\r\n            });\r\n            return {\r\n                elements: (0, _renderer.default)(table).find(\".\" + this._getGroupRowClass()),\r\n                cellTemplates: cellTemplates\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_cleanView\",\r\n        value: function() {\r\n            this._$dateTable.empty();\r\n            this._$timePanel.empty();\r\n            if (this._$groupTable) {\r\n                this._$groupTable.empty()\r\n            }\r\n            if (this._$noDataContainer) {\r\n                this._$noDataContainer.empty();\r\n                this._$noDataContainer.remove();\r\n                delete this._$noDataContainer\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createWorkSpaceElements\",\r\n        value: function() {\r\n            this._createWorkSpaceStaticElements()\r\n        }\r\n    }, {\r\n        key: \"_createWorkSpaceStaticElements\",\r\n        value: function() {\r\n            if (this._$groupTable) {\r\n                this._dateTableScrollable.$content().prepend(this._$groupTable)\r\n            }\r\n            this._dateTableScrollable.$content().append(this._$timePanel, this._$dateTable);\r\n            this.$element().append(this._dateTableScrollable.$element())\r\n        }\r\n    }, {\r\n        key: \"_renderDateTable\",\r\n        value: function() {\r\n            this._renderTableBody({\r\n                container: (0, _element.getPublicElement)(this._$dateTable),\r\n                rowClass: this._getDateTableRowClass(),\r\n                cellClass: this._getDateTableCellClass()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_attachTablesEvents\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_attachEvents\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"_cleanCellDataCache\",\r\n        value: function() {\r\n            return (0, _common.noop)()\r\n        }\r\n    }, {\r\n        key: \"isIndicationAvailable\",\r\n        value: function() {\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_prepareCellTemplateOptions\",\r\n        value: function(text, date, rowIndex, $cell) {\r\n            var groupsOpt = this.option(\"groups\");\r\n            var groups = {};\r\n            var path = groupsOpt.length && this._getPathToLeaf(rowIndex) || [];\r\n            path.forEach(function(resourceValue, resourceIndex) {\r\n                var resourceName = groupsOpt[resourceIndex].name;\r\n                groups[resourceName] = resourceValue\r\n            });\r\n            return {\r\n                model: {\r\n                    text: text,\r\n                    date: date,\r\n                    groups: groups\r\n                },\r\n                container: (0, _element.getPublicElement)($cell),\r\n                index: rowIndex\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderTableBody\",\r\n        value: function(options) {\r\n            var cellTemplates = [];\r\n            var cellTemplateOpt = options.cellTemplate;\r\n            this._$rows = [];\r\n            var i;\r\n            var fillTableBody = function(rowIndex, rowSize) {\r\n                if (rowSize) {\r\n                    var date;\r\n                    var cellDateNumber;\r\n                    var cellDayName;\r\n                    var $row = (0, _renderer.default)(\"<tr>\");\r\n                    var $td = (0, _renderer.default)(\"<td>\").height(this._getRowHeight(rowSize));\r\n                    if (options.getStartDate) {\r\n                        date = options.getStartDate && options.getStartDate(rowIndex);\r\n                        cellDateNumber = _date.default.format(date, \"d\");\r\n                        cellDayName = _date.default.format(date, this._formatWeekday)\r\n                    }\r\n                    if (cellTemplateOpt && cellTemplateOpt.render) {\r\n                        var templateOptions = this._prepareCellTemplateOptions(cellDateNumber + \" \" + cellDayName, date, i, $td);\r\n                        cellTemplates.push(cellTemplateOpt.render.bind(cellTemplateOpt, templateOptions))\r\n                    } else {\r\n                        if (cellDateNumber && cellDayName) {\r\n                            $td.addClass(AGENDA_DATE_CLASS).text(cellDateNumber + \" \" + cellDayName)\r\n                        }\r\n                    }\r\n                    if (options.rowClass) {\r\n                        $row.addClass(options.rowClass)\r\n                    }\r\n                    if (options.cellClass) {\r\n                        $td.addClass(options.cellClass)\r\n                    }\r\n                    $row.append($td);\r\n                    this._$rows.push($row)\r\n                }\r\n            }.bind(this);\r\n            for (i = 0; i < this._rows.length; i++) {\r\n                (0, _iterator.each)(this._rows[i], fillTableBody);\r\n                this._setLastRowClass()\r\n            }(0, _renderer.default)(options.container).append((0, _renderer.default)(\"<tbody>\").append(this._$rows));\r\n            this._applyCellTemplates(cellTemplates)\r\n        }\r\n    }, {\r\n        key: \"_setLastRowClass\",\r\n        value: function() {\r\n            if (this._rows.length > 1 && this._$rows.length) {\r\n                var $lastRow = this._$rows[this._$rows.length - 1];\r\n                $lastRow.addClass(LAST_ROW_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderTimePanel\",\r\n        value: function() {\r\n            this._renderTableBody({\r\n                container: (0, _element.getPublicElement)(this._$timePanel),\r\n                rowCount: this._getTimePanelRowCount(),\r\n                cellCount: 1,\r\n                rowClass: TIME_PANEL_ROW_CLASS,\r\n                cellClass: TIME_PANEL_CELL_CLASS,\r\n                cellTemplate: this.option(\"dateCellTemplate\"),\r\n                getStartDate: this._getTimePanelStartDate.bind(this)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getTimePanelStartDate\",\r\n        value: function(rowIndex) {\r\n            var current = new Date(this.option(\"currentDate\"));\r\n            var cellDate = new Date(current.setDate(current.getDate() + rowIndex));\r\n            return cellDate\r\n        }\r\n    }, {\r\n        key: \"_getRowHeight\",\r\n        value: function(rowSize) {\r\n            var baseHeight = this.option(\"rowHeight\");\r\n            var innerOffset = (rowSize - 1) * INNER_CELL_MARGIN;\r\n            return rowSize ? baseHeight * rowSize + innerOffset + OUTER_CELL_MARGIN : 0\r\n        }\r\n    }, {\r\n        key: \"_getGroupRowHeight\",\r\n        value: function(groupRows) {\r\n            if (!groupRows) {\r\n                return\r\n            }\r\n            var result = 0;\r\n            for (var i = 0; i < groupRows.length; i++) {\r\n                result += this._getRowHeight(groupRows[i])\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"getAgendaVerticalStepHeight\",\r\n        value: function() {\r\n            return this.option(\"rowHeight\")\r\n        }\r\n    }, {\r\n        key: \"getEndViewDate\",\r\n        value: function() {\r\n            var currentDate = new Date(this.option(\"currentDate\"));\r\n            var agendaDuration = this.option(\"agendaDuration\");\r\n            currentDate.setHours(this.option(\"endDayHour\"));\r\n            var result = currentDate.setDate(currentDate.getDate() + agendaDuration - 1) - 6e4;\r\n            return new Date(result)\r\n        }\r\n    }, {\r\n        key: \"getEndViewDateByEndDayHour\",\r\n        value: function() {\r\n            return this.getEndViewDate()\r\n        }\r\n    }, {\r\n        key: \"getCoordinatesByDate\",\r\n        value: function() {\r\n            return {\r\n                top: 0,\r\n                left: 0,\r\n                max: 0,\r\n                groupIndex: 0\r\n            }\r\n        }\r\n    }, {\r\n        key: \"getCellDataByCoordinates\",\r\n        value: function() {\r\n            return {\r\n                startDate: null,\r\n                endDate: null\r\n            }\r\n        }\r\n    }, {\r\n        key: \"updateScrollPosition\",\r\n        value: function(date) {\r\n            var scheduler = this.option(\"observer\");\r\n            var newDate = scheduler.timeZoneCalculator.createDate(date, {\r\n                path: \"toGrid\"\r\n            });\r\n            var bounds = this.getVisibleBounds();\r\n            var startDateHour = newDate.getHours();\r\n            var startDateMinutes = newDate.getMinutes();\r\n            if (this.needUpdateScrollPosition(startDateHour, startDateMinutes, bounds, newDate)) {\r\n                this.scrollToTime(startDateHour, startDateMinutes, newDate)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"needUpdateScrollPosition\",\r\n        value: function(hours, minutes, bounds) {\r\n            var isUpdateNeeded = false;\r\n            if (hours < bounds.top.hours || hours > bounds.bottom.hours) {\r\n                isUpdateNeeded = true\r\n            }\r\n            if (hours === bounds.top.hours && minutes < bounds.top.minutes) {\r\n                isUpdateNeeded = true\r\n            }\r\n            if (hours === bounds.bottom.hours && minutes > bounds.top.minutes) {\r\n                isUpdateNeeded = true\r\n            }\r\n            return isUpdateNeeded\r\n        }\r\n    }]);\r\n    return SchedulerAgenda\r\n}(_uiScheduler.default);\r\n(0, _component_registrator.default)(\"dxSchedulerAgenda\", SchedulerAgenda);\r\nvar _default = SchedulerAgenda;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}