{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Page,Document,Image,StyleSheet,Text,Font}from\"@react-pdf/renderer\";import InvoiceItemsTable from\"./InvoiceItemsTable\";import logo from\"assets/images/logo.png\";import PrescriptionHeader from\"./PrescriptionHeader\";import PrescriptionFooter from\"./PrescriptionFooter\";import{PrescriptionMainInfo}from\"./MainTableReport\";import allfont from\"../../../../assets/fonts/ZCOOL_XiaoWei/ZCOOLXiaoWei-Regular.ttf\";Font.register({family:\"ZCOOL XiaoWei\",src:allfont});var styles=StyleSheet.create({page:{fontFamily:\"ZCOOL XiaoWei\",fontSize:11,paddingTop:35,paddingBottom:65,paddingHorizontal:35,lineHeight:1.5,bottom:20},pageNumber:{position:\"absolute\",fontSize:12,bottom:30,left:0,right:0,textAlign:\"center\",color:\"grey\"}});export var Prescription=/*#__PURE__*/function(_React$Component){_inherits(Prescription,_React$Component);var _super=_createSuper(Prescription);function Prescription(){_classCallCheck(this,Prescription);return _super.apply(this,arguments);}_createClass(Prescription,[{key:\"render\",value:function render(){var _this$props=this.props,accountHeader=_this$props.accountHeader,landscape=_this$props.landscape,TableDetail=_this$props.TableDetail,MainInfo=_this$props.MainInfo;console.log(MainInfo,\"responmaininfoapipresc\");console.log(TableDetail,\"respontableapipresc\");return/*#__PURE__*/React.createElement(Document,{file:\"somefile.pdf\"},MainInfo.length>0?MainInfo.map(function(data,index){return/*#__PURE__*/React.createElement(Page,{size:\"A4\",orientation:landscape?\"landscape\":\"portrait\",style:styles.page,key:index},/*#__PURE__*/React.createElement(PrescriptionHeader,{accountHeader:data}),/*#__PURE__*/React.createElement(PrescriptionMainInfo,{accountHeader:data,SumQty:TableDetail[0].Items.filter(function(acc){return acc.itemGroup===data.itemGroup;}).reduce(function(prev,current){return prev+ +current.itemQty;},0),SumTotal:TableDetail[0].Items.filter(function(acc){return acc.itemGroup===data.itemGroup;}).reduce(function(prev,current){return prev+ +current.itemQty*data.daysToTakeMedicine;},0)}),TableDetail[0].Items.length>0?/*#__PURE__*/React.createElement(InvoiceItemsTable,{TableList:TableDetail[0].Items.length>0?TableDetail[0].Items.filter(function(acc){return acc.itemGroup===data.itemGroup;}):[],MainInfo:data}):\"\",/*#__PURE__*/React.createElement(PrescriptionFooter,null));}):null);}}]);return Prescription;}(React.Component);export default Prescription;","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/TCM/Report/Prescription.js"],"names":["React","Page","Document","Image","StyleSheet","Text","Font","InvoiceItemsTable","logo","PrescriptionHeader","PrescriptionFooter","PrescriptionMainInfo","allfont","register","family","src","styles","create","page","fontFamily","fontSize","paddingTop","paddingBottom","paddingHorizontal","lineHeight","bottom","pageNumber","position","left","right","textAlign","color","Prescription","props","accountHeader","landscape","TableDetail","MainInfo","console","log","length","map","data","index","Items","filter","acc","itemGroup","reduce","prev","current","itemQty","daysToTakeMedicine","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Page,\r\n  Document,\r\n  Image,\r\n  StyleSheet,\r\n  Text,\r\n  Font,\r\n} from \"@react-pdf/renderer\";\r\nimport InvoiceItemsTable from \"./InvoiceItemsTable\";\r\nimport logo from \"assets/images/logo.png\";\r\nimport PrescriptionHeader from \"./PrescriptionHeader\";\r\nimport PrescriptionFooter from \"./PrescriptionFooter\";\r\n\r\nimport { PrescriptionMainInfo } from \"./MainTableReport\";\r\n\r\nimport allfont from \"../../../../assets/fonts/ZCOOL_XiaoWei/ZCOOLXiaoWei-Regular.ttf\";\r\n\r\nFont.register({\r\n  family: \"ZCOOL XiaoWei\",\r\n  src: allfont,\r\n});\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    fontFamily: \"ZCOOL XiaoWei\",\r\n    fontSize: 11,\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n    lineHeight: 1.5,\r\n    bottom: 20,\r\n  },\r\n  pageNumber: {\r\n    position: \"absolute\",\r\n    fontSize: 12,\r\n    bottom: 30,\r\n    left: 0,\r\n    right: 0,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n});\r\n\r\nexport class Prescription extends React.Component {\r\n  render() {\r\n    let { accountHeader, landscape, TableDetail, MainInfo } = this.props;\r\n    console.log(MainInfo, \"responmaininfoapipresc\");\r\n    console.log(TableDetail, \"respontableapipresc\");\r\n    return (\r\n      <Document file=\"somefile.pdf\">\r\n        {MainInfo.length > 0\r\n          ? MainInfo.map((data, index) => {\r\n              return (\r\n                <Page\r\n                  size=\"A4\"\r\n                  orientation={landscape ? \"landscape\" : \"portrait\"}\r\n                  style={styles.page}\r\n                  key={index}\r\n                >\r\n                  <PrescriptionHeader accountHeader={data} />\r\n\r\n                  <PrescriptionMainInfo\r\n                    accountHeader={data}\r\n                    SumQty={TableDetail[0].Items.filter(\r\n                      acc => acc.itemGroup === data.itemGroup\r\n                    ).reduce(function (prev, current) {\r\n                      return prev + +current.itemQty;\r\n                    }, 0)}\r\n                    SumTotal={TableDetail[0].Items.filter(\r\n                      acc => acc.itemGroup === data.itemGroup\r\n                    ).reduce(function (prev, current) {\r\n                      return prev + +current.itemQty * data.daysToTakeMedicine;\r\n                    }, 0)}\r\n                  />\r\n                  {TableDetail[0].Items.length > 0 ? (\r\n                    <InvoiceItemsTable\r\n                      TableList={\r\n                        TableDetail[0].Items.length > 0\r\n                          ? TableDetail[0].Items.filter(\r\n                              acc => acc.itemGroup === data.itemGroup\r\n                            )\r\n                          : []\r\n                      }\r\n                      MainInfo={data}\r\n                    />\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <PrescriptionFooter />\r\n                </Page>\r\n              );\r\n            })\r\n          : null}\r\n      </Document>\r\n    );\r\n  }\r\n}\r\nexport default Prescription;\r\n"]},"metadata":{},"sourceType":"module"}