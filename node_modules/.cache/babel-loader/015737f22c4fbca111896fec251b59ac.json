{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\TransactionHistory\\\\TransactionPriceChange.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { NormalButton, NormalInput, TableWrapper } from \"component/common\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { Toast } from \"service/toast\";\nimport { withTranslation } from \"react-i18next\";\nexport class TransactionPriceChangeClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"S. No\",\n        sortKey: false,\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Type\",\n        sortKey: false\n      }, {\n        label: \"Item Code\"\n      }, {\n        label: \"Description\",\n        sortKey: false\n      }, {\n        label: \"Price\",\n        sortKey: false,\n        width: \"150px\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Discount Amount\",\n        sortKey: false,\n        width: \"150px\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Price After Disc\",\n        sortKey: false,\n        width: \"150px\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Qty\",\n        sortKey: false,\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Total Amount\",\n        sortKey: false,\n        width: \"150px\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Paid Amount\",\n        sortKey: false,\n        width: \"150px\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"Staff\",\n        sortKey: false\n      }],\n      TransactionPrice: {\n        transaction_no: \"\",\n        customer_name: \"\",\n        date: \"\",\n        paid_amount: \"\",\n        total_amount: \"\",\n        priceChangeList: []\n      },\n      sumTotal: \"\",\n      balanceTotal: \"\",\n      sumPaid: \"\",\n      balancePaid: \"\",\n      changeTextIndex: \"\",\n      changeTextLabel: \"\"\n    };\n\n    this.componentDidMount = () => {\n      this.getSelectedTransactions();\n    };\n\n    this.getSelectedTransactions = () => {\n      try {\n        let {\n          TransactionPrice,\n          sumPaid,\n          sumTotal,\n          balanceTotal,\n          balancePaid\n        } = this.state;\n        this.props.getCommonApi(`transactionhistory/${this.props.match.params.id}`).then(async res => {\n          let {\n            status,\n            data\n          } = res;\n\n          if (status == 200) {\n            TransactionPrice[\"customer_name\"] = data.customer_name;\n            TransactionPrice[\"date\"] = data.date;\n            TransactionPrice[\"paid_amount\"] = data.paid_amount;\n            TransactionPrice[\"total_amount\"] = data.total_amount;\n            TransactionPrice[\"transaction_no\"] = data.transaction_no;\n            TransactionPrice[\"priceChangeList\"] = data.daud_lines ? data.daud_lines : [];\n\n            if (data.daud_lines.length > 0) {\n              sumPaid = 0;\n              sumTotal = 0;\n              data.daud_lines.forEach(e => {\n                sumPaid += Number(e.dt_deposit);\n                sumTotal += Number(e.dt_transacamt);\n              });\n              let sumofpaid = Number(sumPaid).toFixed(2);\n              let sumoftotal = Number(sumTotal).toFixed(2);\n              let balPaid = Number(TransactionPrice.paid_amount) - Number(sumPaid);\n              let balTotal = Number(TransactionPrice.total_amount) - Number(sumTotal);\n              balancePaid = Number(balPaid).toFixed(2);\n              balanceTotal = Number(balTotal).toFixed(2);\n              sumPaid = Number(sumofpaid).toFixed(2);\n              sumTotal = Number(sumoftotal).toFixed(2);\n            } else {\n              sumPaid = Number(data.paid_amount).toFixed(2);\n              sumTotal = Number(data.total_amount).toFixed(2);\n              balancePaid = \"0.00\";\n              balanceTotal = \"0.00\";\n            }\n\n            this.setState({\n              TransactionPrice,\n              sumTotal,\n              sumPaid,\n              balanceTotal,\n              balancePaid\n            });\n          }\n        });\n      } catch (e) {\n        console.log(e, \"catchexforpricechange\");\n      }\n    };\n\n    this.handleChange = async (e, index) => {\n      await this.setState({\n        changeTextLabel: e.target.name,\n        changeTextIndex: index\n      });\n\n      try {\n        let {\n          TransactionPrice\n        } = this.state;\n        let data = e.target.value;\n        TransactionPrice.priceChangeList[index][e.target.name] = Number(data);\n        await this.setState({\n          TransactionPrice\n        });\n\n        if (!this.debouncedFn) {\n          this.debouncedFn = _.debounce(async () => {\n            this.handleChangeValue();\n          }, 500);\n        }\n\n        this.debouncedFn();\n      } catch (e) {\n        console.log(e, \"pricechangecatchlog\");\n      }\n    };\n\n    this.handleChangeValue = () => {\n      let {\n        changeTextLabel\n      } = this.state;\n\n      if (changeTextLabel == \"dt_promoprice\") {\n        this.handlepromopriceChange();\n      } else if (changeTextLabel == \"dt_discamt\") {\n        this.handlediscountpriceChange();\n      } else if (changeTextLabel == \"dt_transacamt\") {\n        this.handleTotalpriceChange();\n      } else if (changeTextLabel == \"dt_price\") {\n        this.handleUnitpriceChange();\n      } else if (changeTextLabel == \"dt_deposit\") {\n        this.handleBalanceUpdate();\n      }\n    };\n\n    this.handleUnitpriceChange = async () => {\n      let {\n        TransactionPrice,\n        changeTextIndex\n      } = this.state;\n      let final = TransactionPrice.priceChangeList[changeTextIndex];\n      final[\"dt_promoprice\"] = Number(final[\"dt_price\"]).toFixed(2);\n      final[\"dt_discamt\"] = Number(0).toFixed(2);\n      final[\"dt_transacamt\"] = Number(Number(final[\"dt_promoprice\"]) * Number(final[\"dt_qty\"])).toFixed(2);\n      await this.setState({\n        final\n      });\n      this.handleBalanceUpdate();\n    };\n\n    this.handleTotalpriceChange = async () => {\n      let {\n        TransactionPrice,\n        changeTextIndex\n      } = this.state;\n      let final = TransactionPrice.priceChangeList[changeTextIndex];\n      final[\"dt_promoprice\"] = Number(Number(final[\"dt_transacamt\"]) / Number(final[\"dt_qty\"])).toFixed(2);\n      final[\"dt_discamt\"] = Number(0).toFixed(2);\n      final[\"dt_price\"] = Number(Number(final[\"dt_transacamt\"]) / Number(final[\"dt_qty\"])).toFixed(2);\n      await this.setState({\n        final\n      });\n      this.handleBalanceUpdate();\n    };\n\n    this.handlediscountpriceChange = async () => {\n      let {\n        TransactionPrice,\n        changeTextIndex\n      } = this.state;\n      let final = TransactionPrice.priceChangeList[changeTextIndex];\n      final[\"dt_promoprice\"] = Number(Number(final[\"dt_price\"]) - Number(final[\"dt_discamt\"])).toFixed(2);\n      final[\"dt_transacamt\"] = Number((Number(final[\"dt_price\"]) - Number(final[\"dt_discamt\"])) * Number(final[\"dt_qty\"])).toFixed(2);\n      await this.setState({\n        final\n      });\n      this.handleBalanceUpdate();\n    };\n\n    this.handlepromopriceChange = async () => {\n      let {\n        TransactionPrice,\n        changeTextIndex\n      } = this.state;\n      let final = TransactionPrice.priceChangeList[changeTextIndex];\n      final[\"dt_discamt\"] = Number(Number(final[\"dt_price\"]) - Number(final[\"dt_promoprice\"])).toFixed(2);\n      final[\"dt_transacamt\"] = Number(Number(final[\"dt_promoprice\"]) * Number(final[\"dt_qty\"])).toFixed(2);\n      await this.setState({\n        final\n      });\n      this.handleBalanceUpdate();\n    };\n\n    this.handleBalanceUpdate = () => {\n      let {\n        TransactionPrice,\n        balancePaid,\n        sumPaid,\n        sumTotal,\n        balanceTotal\n      } = this.state;\n\n      if (TransactionPrice.priceChangeList.length > 0) {\n        sumPaid = 0;\n        sumTotal = 0;\n        TransactionPrice.priceChangeList.forEach(e => {\n          sumPaid += Number(e.dt_deposit);\n          sumTotal += Number(e.dt_transacamt);\n        });\n        let sumofpaid = Number(sumPaid).toFixed(2);\n        let sumoftotal = Number(sumTotal).toFixed(2);\n        let balPaid = Number(TransactionPrice.paid_amount) - Number(sumPaid);\n        let balTotal = Number(TransactionPrice.total_amount) - Number(sumTotal);\n        balancePaid = Number(balPaid).toFixed(2);\n        balanceTotal = Number(balTotal).toFixed(2);\n        sumPaid = Number(sumofpaid).toFixed(2);\n        sumTotal = Number(sumoftotal).toFixed(2);\n        this.setState({\n          balancePaid,\n          sumPaid,\n          sumTotal,\n          balanceTotal\n        });\n      }\n    };\n\n    this.handleupdate = () => {\n      let {\n        TransactionPrice,\n        balanceTotal,\n        balancePaid\n      } = this.state;\n\n      if (Number(balancePaid) == 0 && Number(balanceTotal) == 0) {\n        if (TransactionPrice.priceChangeList.length > 0) {\n          try {\n            let payload = [];\n            TransactionPrice.priceChangeList.forEach(e => {\n              payload.push({\n                id: e.id,\n                dt_price: e.dt_price,\n                dt_discamt: e.dt_discamt,\n                dt_promoprice: e.dt_promoprice,\n                dt_transacamt: e.dt_transacamt,\n                dt_deposit: e.dt_deposit\n              });\n            });\n            this.props.commonCreateApi(`transactionhistory/changeprice/`, payload).then(async res => {\n              if (res.status === 201) {\n                history.push(\"/admin/transactionhistory\");\n              }\n            });\n          } catch (e) {\n            console.log(\"pricechangeupdate\", e);\n          }\n        }\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Amount difference should be 0\"\n        });\n      }\n    };\n  }\n\n  render() {\n    let {\n      headerDetails,\n      TransactionPrice,\n      sumTotal,\n      balanceTotal,\n      sumPaid,\n      balancePaid\n    } = this.state;\n    let {\n      transaction_no,\n      customer_name,\n      date,\n      paid_amount,\n      total_amount,\n      priceChangeList\n    } = TransactionPrice;\n    let tra;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap mb-2 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-12 header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"fs-16 font-700 mb-3 title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fw-600\",\n      onClick: () => history.push(`/admin/transactionhistory/`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 15\n      }\n    }, t(\"Transaction History\")), \"\\xA0 >\\xA0\", t(\"Price Change\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      submitBtn: true,\n      label: \"Update\",\n      outline: false,\n      onClick: () => this.handleupdate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }\n    }, t(\"Transaction No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }\n    }, transaction_no)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 common-label-text mr-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 15\n      }\n    }, t(\"Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }, date)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 15\n      }\n    }, t(\"Customer Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }\n    }, customer_name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 15\n      }\n    }, t(\"Total Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 17\n      }\n    }, total_amount)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 15\n      }\n    }, t(\"Paid Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 17\n      }\n    }, paid_amount))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `d-flex`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination // pageMeta={pageMeta}\n      // isEmpty={tstaffList.length === 0 ? true:false}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }\n    }, priceChangeList.length > 0 ? priceChangeList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative status-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 25\n        }\n      }, index + 1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 25\n        }\n      }, item.record_detail_type)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 25\n        }\n      }, item.item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 25\n        }\n      }, item.item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        name: \"dt_price\",\n        value: item.dt_price,\n        onChange: e => this.handleChange(e, index),\n        disabled: item.is_edit ? false : true,\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        name: \"dt_discamt\",\n        value: item.dt_discamt,\n        onChange: e => this.handleChange(e, index),\n        disabled: item.is_edit ? false : true,\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        name: \"dt_promoprice\",\n        value: item.dt_promoprice,\n        onChange: e => this.handleChange(e, index),\n        disabled: item.is_edit ? false : true,\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 25\n        }\n      }, item.dt_qty)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        name: \"dt_transacamt\",\n        value: item.dt_transacamt,\n        onChange: e => this.handleChange(e, index),\n        disabled: item.is_edit ? false : true,\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        type: \"number\",\n        name: \"dt_deposit\",\n        value: item.dt_deposit,\n        onChange: e => this.handleChange(e, index),\n        disabled: item.is_edit ? false : true,\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 23\n        }\n      }, item.staff_name));\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-7 col-12 p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap justify-content-end p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 19\n      }\n    }, t(\"Original Invoice Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"text\",\n      name: \"total_amount\",\n      value: total_amount,\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 19\n      }\n    }, t(\"Sum of Current Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"text\",\n      name: \"sumTotal\",\n      value: sumTotal,\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-start p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 19\n      }\n    }, t(\"Difference\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      className: `${Number(balanceTotal) !== 0 ? `text-danger` : ``} form-control`,\n      type: \"text\",\n      name: \"balanceTotal\",\n      value: balanceTotal,\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 19\n      }\n    }, t(\"Original Paid Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"text\",\n      name: \"paid_amount\",\n      value: paid_amount,\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 19\n      }\n    }, t(\"Current Paid Amount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"text\",\n      name: \"sumPaid\",\n      value: sumPaid,\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 19\n      }\n    }, t(\"Difference\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      className: `${Number(balancePaid) !== 0 ? `text-danger` : ``} form-control`,\n      type: \"text\",\n      name: \"balancePaid\",\n      value: balancePaid,\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  selected_cstomer: state.common.selected_cstomer,\n  basicApptDetail: state.appointment.basicApptDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    // getCustomer,\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const TransactionPriceChange = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(TransactionPriceChangeClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/TransactionHistory/TransactionPriceChange.js"],"names":["React","Component","NormalButton","NormalInput","TableWrapper","_","history","connect","bindActionCreators","getCommonApi","commonCreateApi","SimpleReactValidator","Toast","withTranslation","TransactionPriceChangeClass","state","headerDetails","label","sortKey","divClass","width","TransactionPrice","transaction_no","customer_name","date","paid_amount","total_amount","priceChangeList","sumTotal","balanceTotal","sumPaid","balancePaid","changeTextIndex","changeTextLabel","componentDidMount","getSelectedTransactions","props","match","params","id","then","res","status","data","daud_lines","length","forEach","e","Number","dt_deposit","dt_transacamt","sumofpaid","toFixed","sumoftotal","balPaid","balTotal","setState","console","log","handleChange","index","target","name","value","debouncedFn","debounce","handleChangeValue","handlepromopriceChange","handlediscountpriceChange","handleTotalpriceChange","handleUnitpriceChange","handleBalanceUpdate","final","handleupdate","payload","push","dt_price","dt_discamt","dt_promoprice","type","message","render","tra","t","handlePagination","map","item","record_detail_type","item_code","item_desc","is_edit","dt_qty","staff_name","mapStateToProps","selected_cstomer","common","basicApptDetail","appointment","mapDispatchToProps","dispatch","TransactionPriceChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { NormalButton, NormalInput, TableWrapper } from \"component/common\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { Toast } from \"service/toast\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class TransactionPriceChangeClass extends Component {\r\n  state = {\r\n    headerDetails: [\r\n      {\r\n        label: \"S. No\",\r\n        sortKey: false,\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Type\", sortKey: false },\r\n      { label: \"Item Code\" },\r\n      { label: \"Description\", sortKey: false },\r\n      {\r\n        label: \"Price\",\r\n        sortKey: false,\r\n        width: \"150px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Discount Amount\",\r\n        sortKey: false,\r\n        width: \"150px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Price After Disc\",\r\n        sortKey: false,\r\n        width: \"150px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Qty\",\r\n        sortKey: false,\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Total Amount\",\r\n        sortKey: false,\r\n        width: \"150px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"Paid Amount\",\r\n        sortKey: false,\r\n        width: \"150px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      { label: \"Staff\", sortKey: false },\r\n    ],\r\n    TransactionPrice: {\r\n      transaction_no: \"\",\r\n      customer_name: \"\",\r\n      date: \"\",\r\n      paid_amount: \"\",\r\n      total_amount: \"\",\r\n      priceChangeList: [],\r\n    },\r\n    sumTotal: \"\",\r\n    balanceTotal: \"\",\r\n    sumPaid: \"\",\r\n    balancePaid: \"\",\r\n    changeTextIndex: \"\",\r\n    changeTextLabel: \"\",\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getSelectedTransactions();\r\n  };\r\n  getSelectedTransactions = () => {\r\n    try {\r\n      let { TransactionPrice, sumPaid, sumTotal, balanceTotal, balancePaid } =\r\n        this.state;\r\n\r\n      this.props\r\n        .getCommonApi(`transactionhistory/${this.props.match.params.id}`)\r\n\r\n        .then(async res => {\r\n          let { status, data } = res;\r\n          if (status == 200) {\r\n            TransactionPrice[\"customer_name\"] = data.customer_name;\r\n            TransactionPrice[\"date\"] = data.date;\r\n            TransactionPrice[\"paid_amount\"] = data.paid_amount;\r\n            TransactionPrice[\"total_amount\"] = data.total_amount;\r\n            TransactionPrice[\"transaction_no\"] = data.transaction_no;\r\n            TransactionPrice[\"priceChangeList\"] = data.daud_lines\r\n              ? data.daud_lines\r\n              : [];\r\n\r\n            if (data.daud_lines.length > 0) {\r\n              sumPaid = 0;\r\n              sumTotal = 0;\r\n              data.daud_lines.forEach(e => {\r\n                sumPaid += Number(e.dt_deposit);\r\n                sumTotal += Number(e.dt_transacamt);\r\n              });\r\n\r\n              let sumofpaid = Number(sumPaid).toFixed(2);\r\n              let sumoftotal = Number(sumTotal).toFixed(2);\r\n              let balPaid =\r\n                Number(TransactionPrice.paid_amount) - Number(sumPaid);\r\n              let balTotal =\r\n                Number(TransactionPrice.total_amount) - Number(sumTotal);\r\n\r\n              balancePaid = Number(balPaid).toFixed(2);\r\n              balanceTotal = Number(balTotal).toFixed(2);\r\n              sumPaid = Number(sumofpaid).toFixed(2);\r\n              sumTotal = Number(sumoftotal).toFixed(2);\r\n            } else {\r\n              sumPaid = Number(data.paid_amount).toFixed(2);\r\n              sumTotal = Number(data.total_amount).toFixed(2);\r\n              balancePaid = \"0.00\";\r\n              balanceTotal = \"0.00\";\r\n            }\r\n            this.setState({\r\n              TransactionPrice,\r\n              sumTotal,\r\n              sumPaid,\r\n              balanceTotal,\r\n              balancePaid,\r\n            });\r\n          }\r\n        });\r\n    } catch (e) {\r\n      console.log(e, \"catchexforpricechange\");\r\n    }\r\n  };\r\n\r\n  handleChange = async (e, index) => {\r\n    await this.setState({\r\n      changeTextLabel: e.target.name,\r\n      changeTextIndex: index,\r\n    });\r\n    try {\r\n      let { TransactionPrice } = this.state;\r\n\r\n      let data = e.target.value;\r\n      TransactionPrice.priceChangeList[index][e.target.name] = Number(data);\r\n\r\n      await this.setState({\r\n        TransactionPrice,\r\n      });\r\n      if (!this.debouncedFn) {\r\n        this.debouncedFn = _.debounce(async () => {\r\n          this.handleChangeValue();\r\n        }, 500);\r\n      }\r\n      this.debouncedFn();\r\n    } catch (e) {\r\n      console.log(e, \"pricechangecatchlog\");\r\n    }\r\n  };\r\n  handleChangeValue = () => {\r\n    let { changeTextLabel } = this.state;\r\n    if (changeTextLabel == \"dt_promoprice\") {\r\n      this.handlepromopriceChange();\r\n    } else if (changeTextLabel == \"dt_discamt\") {\r\n      this.handlediscountpriceChange();\r\n    } else if (changeTextLabel == \"dt_transacamt\") {\r\n      this.handleTotalpriceChange();\r\n    } else if (changeTextLabel == \"dt_price\") {\r\n      this.handleUnitpriceChange();\r\n    } else if (changeTextLabel == \"dt_deposit\") {\r\n      this.handleBalanceUpdate();\r\n    }\r\n  };\r\n  handleUnitpriceChange = async () => {\r\n    let { TransactionPrice, changeTextIndex } = this.state;\r\n    let final = TransactionPrice.priceChangeList[changeTextIndex];\r\n\r\n    final[\"dt_promoprice\"] = Number(final[\"dt_price\"]).toFixed(2);\r\n    final[\"dt_discamt\"] = Number(0).toFixed(2);\r\n    final[\"dt_transacamt\"] = Number(\r\n      Number(final[\"dt_promoprice\"]) * Number(final[\"dt_qty\"])\r\n    ).toFixed(2);\r\n    await this.setState({\r\n      final,\r\n    });\r\n    this.handleBalanceUpdate();\r\n  };\r\n\r\n  handleTotalpriceChange = async () => {\r\n    let { TransactionPrice, changeTextIndex } = this.state;\r\n    let final = TransactionPrice.priceChangeList[changeTextIndex];\r\n    final[\"dt_promoprice\"] = Number(\r\n      Number(final[\"dt_transacamt\"]) / Number(final[\"dt_qty\"])\r\n    ).toFixed(2);\r\n    final[\"dt_discamt\"] = Number(0).toFixed(2);\r\n    final[\"dt_price\"] = Number(\r\n      Number(final[\"dt_transacamt\"]) / Number(final[\"dt_qty\"])\r\n    ).toFixed(2);\r\n    await this.setState({\r\n      final,\r\n    });\r\n    this.handleBalanceUpdate();\r\n  };\r\n\r\n  handlediscountpriceChange = async () => {\r\n    let { TransactionPrice, changeTextIndex } = this.state;\r\n    let final = TransactionPrice.priceChangeList[changeTextIndex];\r\n    final[\"dt_promoprice\"] = Number(\r\n      Number(final[\"dt_price\"]) - Number(final[\"dt_discamt\"])\r\n    ).toFixed(2);\r\n    final[\"dt_transacamt\"] = Number(\r\n      (Number(final[\"dt_price\"]) - Number(final[\"dt_discamt\"])) *\r\n        Number(final[\"dt_qty\"])\r\n    ).toFixed(2);\r\n    await this.setState({\r\n      final,\r\n    });\r\n    this.handleBalanceUpdate();\r\n  };\r\n\r\n  handlepromopriceChange = async () => {\r\n    let { TransactionPrice, changeTextIndex } = this.state;\r\n    let final = TransactionPrice.priceChangeList[changeTextIndex];\r\n    final[\"dt_discamt\"] = Number(\r\n      Number(final[\"dt_price\"]) - Number(final[\"dt_promoprice\"])\r\n    ).toFixed(2);\r\n    final[\"dt_transacamt\"] = Number(\r\n      Number(final[\"dt_promoprice\"]) * Number(final[\"dt_qty\"])\r\n    ).toFixed(2);\r\n    await this.setState({\r\n      final,\r\n    });\r\n    this.handleBalanceUpdate();\r\n  };\r\n\r\n  handleBalanceUpdate = () => {\r\n    let { TransactionPrice, balancePaid, sumPaid, sumTotal, balanceTotal } =\r\n      this.state;\r\n\r\n    if (TransactionPrice.priceChangeList.length > 0) {\r\n      sumPaid = 0;\r\n      sumTotal = 0;\r\n      TransactionPrice.priceChangeList.forEach(e => {\r\n        sumPaid += Number(e.dt_deposit);\r\n        sumTotal += Number(e.dt_transacamt);\r\n      });\r\n      let sumofpaid = Number(sumPaid).toFixed(2);\r\n      let sumoftotal = Number(sumTotal).toFixed(2);\r\n      let balPaid = Number(TransactionPrice.paid_amount) - Number(sumPaid);\r\n      let balTotal = Number(TransactionPrice.total_amount) - Number(sumTotal);\r\n\r\n      balancePaid = Number(balPaid).toFixed(2);\r\n      balanceTotal = Number(balTotal).toFixed(2);\r\n      sumPaid = Number(sumofpaid).toFixed(2);\r\n      sumTotal = Number(sumoftotal).toFixed(2);\r\n\r\n      this.setState({ balancePaid, sumPaid, sumTotal, balanceTotal });\r\n    }\r\n  };\r\n\r\n  handleupdate = () => {\r\n    let { TransactionPrice, balanceTotal, balancePaid } = this.state;\r\n    if (Number(balancePaid) == 0 && Number(balanceTotal) == 0) {\r\n      if (TransactionPrice.priceChangeList.length > 0) {\r\n        try {\r\n          let payload = [];\r\n          TransactionPrice.priceChangeList.forEach(e => {\r\n            payload.push({\r\n              id: e.id,\r\n              dt_price: e.dt_price,\r\n              dt_discamt: e.dt_discamt,\r\n              dt_promoprice: e.dt_promoprice,\r\n              dt_transacamt: e.dt_transacamt,\r\n              dt_deposit: e.dt_deposit,\r\n            });\r\n          });\r\n\r\n          this.props\r\n            .commonCreateApi(`transactionhistory/changeprice/`, payload)\r\n            .then(async res => {\r\n              if (res.status === 201) {\r\n                history.push(\"/admin/transactionhistory\");\r\n              }\r\n            });\r\n        } catch (e) {\r\n          console.log(\"pricechangeupdate\", e);\r\n        }\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Amount difference should be 0\",\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      TransactionPrice,\r\n      sumTotal,\r\n      balanceTotal,\r\n      sumPaid,\r\n      balancePaid,\r\n    } = this.state;\r\n    let {\r\n      transaction_no,\r\n      customer_name,\r\n      date,\r\n      paid_amount,\r\n      total_amount,\r\n      priceChangeList,\r\n    } = TransactionPrice;\r\n    let tra;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"d-flex flex-wrap mb-2 mt-2\">\r\n          <div className=\"col-md-10 col-12 header\">\r\n            <p className=\"fs-16 font-700 mb-3 title\">\r\n              <span\r\n                className=\"fw-600\"\r\n                onClick={() => history.push(`/admin/transactionhistory/`)}\r\n              >\r\n                {t(\"Transaction History\")}\r\n              </span>\r\n              &nbsp; &gt;&nbsp;\r\n              {t(\"Price Change\")}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-md-2 col-12\">\r\n            <div className=\"col text-right\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                submitBtn={true}\r\n                label=\"Update\"\r\n                outline={false}\r\n                onClick={() => this.handleupdate()}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex flex-wrap p-2\">\r\n          <div className=\"col-md-2 col-12\">\r\n            <div className=\"\">\r\n              <label className=\"text-left w-100 text-black common-label-text mr-2 fw-500\">\r\n                {t(\"Transaction No\")}\r\n              </label>\r\n              <div className=\"input-group\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {transaction_no}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-2 col-12\">\r\n            <div className=\"\">\r\n              <label className=\"text-left w-100 common-label-text mr-2 fw-500\">\r\n                {t(\"Date\")}\r\n              </label>\r\n              <div className=\"input-group\">\r\n                <label className=\"text-left w-100 common-label-text mr-2\">\r\n                  {date}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-3 col-12\">\r\n            <div className=\"\">\r\n              <label className=\"text-left w-100 text-black common-label-text mr-2 fw-500\">\r\n                {t(\"Customer Name\")}\r\n              </label>\r\n              <div className=\"input-group\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {customer_name}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-2 col-12\">\r\n            <div className=\"\">\r\n              <label className=\"text-left w-100 text-black common-label-text mr-2 fw-500\">\r\n                {t(\"Total Amount\")}\r\n              </label>\r\n              <div className=\"input-group\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {total_amount}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-2 col-12\">\r\n            <div className=\"\">\r\n              <label className=\"text-left w-100 text-black common-label-text mr-2 fw-500\">\r\n                {t(\"Paid Amount\")}\r\n              </label>\r\n              <div className=\"input-group\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {paid_amount}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={`d-flex`}>\r\n          <TableWrapper\r\n            headerDetails={headerDetails}\r\n            queryHandler={this.handlePagination}\r\n            // pageMeta={pageMeta}\r\n            // isEmpty={tstaffList.length === 0 ? true:false}\r\n          >\r\n            {priceChangeList.length > 0\r\n              ? priceChangeList.map((item, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n                      <td className=\"position-relative status-type\">\r\n                        <div className=\"text-right\">{index + 1}</div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\">\r\n                          {item.record_detail_type}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\">{item.item_code}</div>\r\n                      </td>\r\n\r\n                      <td>\r\n                        <div className=\"text-left\">{item.item_desc}</div>\r\n                      </td>\r\n\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            type=\"number\"\r\n                            name=\"dt_price\"\r\n                            value={item.dt_price}\r\n                            onChange={e => this.handleChange(e, index)}\r\n                            disabled={item.is_edit ? false : true}\r\n                            className=\"text-right\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            type=\"number\"\r\n                            name=\"dt_discamt\"\r\n                            value={item.dt_discamt}\r\n                            onChange={e => this.handleChange(e, index)}\r\n                            disabled={item.is_edit ? false : true}\r\n                            className=\"text-right\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            type=\"number\"\r\n                            name=\"dt_promoprice\"\r\n                            value={item.dt_promoprice}\r\n                            onChange={e => this.handleChange(e, index)}\r\n                            disabled={item.is_edit ? false : true}\r\n                            className=\"text-right\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-right\">{item.dt_qty}</div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            type=\"number\"\r\n                            name=\"dt_transacamt\"\r\n                            value={item.dt_transacamt}\r\n                            onChange={e => this.handleChange(e, index)}\r\n                            disabled={item.is_edit ? false : true}\r\n                            className=\"text-right\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          <NormalInput\r\n                            type=\"number\"\r\n                            name=\"dt_deposit\"\r\n                            value={item.dt_deposit}\r\n                            onChange={e => this.handleChange(e, index)}\r\n                            disabled={item.is_edit ? false : true}\r\n                            className=\"text-right\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n\r\n                      <td className=\"text-left\">{item.staff_name}</td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              : null}\r\n          </TableWrapper>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-5 col-12\"></div>\r\n          <div className=\"col-md-7 col-12 p-1\">\r\n            <div className=\"d-flex flex-wrap justify-content-end p-1\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <div className=\"d-flex p-1\">\r\n                  <div className=\"col-7\">{t(\"Original Invoice Amount\")}</div>\r\n                  <div className=\"col-5\">\r\n                    <NormalInput\r\n                      type=\"text\"\r\n                      name=\"total_amount\"\r\n                      value={total_amount}\r\n                      onChange={() => {}}\r\n                      disabled={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex p-1\">\r\n                  <div className=\"col-7\">{t(\"Sum of Current Amount\")}</div>\r\n                  <div className=\"col-5\">\r\n                    <NormalInput\r\n                      type=\"text\"\r\n                      name=\"sumTotal\"\r\n                      value={sumTotal}\r\n                      onChange={() => {}}\r\n                      disabled={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start p-1\">\r\n                  <div className=\"col-7\">{t(\"Difference\")}</div>\r\n                  <div className=\"col-5\">\r\n                    <NormalInput\r\n                      className={`${\r\n                        Number(balanceTotal) !== 0 ? `text-danger` : ``\r\n                      } form-control`}\r\n                      type=\"text\"\r\n                      name=\"balanceTotal\"\r\n                      value={balanceTotal}\r\n                      onChange={() => {}}\r\n                      disabled={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-6 col-12\">\r\n                <div className=\"d-flex p-1\">\r\n                  <div className=\"col-7\">{t(\"Original Paid Amount\")}</div>\r\n                  <div className=\"col-5\">\r\n                    <NormalInput\r\n                      type=\"text\"\r\n                      name=\"paid_amount\"\r\n                      value={paid_amount}\r\n                      onChange={() => {}}\r\n                      disabled={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex p-1\">\r\n                  <div className=\"col-7\">{t(\"Current Paid Amount\")}</div>\r\n                  <div className=\"col-5\">\r\n                    <NormalInput\r\n                      type=\"text\"\r\n                      name=\"sumPaid\"\r\n                      value={sumPaid}\r\n                      onChange={() => {}}\r\n                      disabled={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex p-1\">\r\n                  <div className=\"col-7\">{t(\"Difference\")}</div>\r\n                  <div className=\"col-5\">\r\n                    <NormalInput\r\n                      className={`${\r\n                        Number(balancePaid) !== 0 ? `text-danger` : ``\r\n                      } form-control`}\r\n                      type=\"text\"\r\n                      name=\"balancePaid\"\r\n                      value={balancePaid}\r\n                      onChange={() => {}}\r\n                      disabled={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selected_cstomer: state.common.selected_cstomer,\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TransactionPriceChange = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(TransactionPriceChangeClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}