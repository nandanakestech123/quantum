{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalDateTime,NormalMultiSelect,NormalTextarea,TableWrapper,NormalCheckbox,InputSearch}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";import{getJobtitle,getCommonApi,commonCreateApi,commonUpdateApi,commonDeleteApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{NavLink}from\"react-router-dom\";import{createPO,updatePO,deletePO}from\"redux/actions/po\";import{getTokenDetails}from\"redux/actions/auth\";import{useLocation}from\"react-router-dom\";import _ from\"lodash\";import updateBtn from\"assets/images/edit1.png\";import deleteBtn from\"assets/images/delete1.png\";import saveBtn from\"assets/images/save.png\";import{history}from\"helpers\";import{Toast}from\"service/toast\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";import PDF from\"../../StocksPDF/StockTake/index\";import Blur from\"react-css-blur\";export var AddStockTakeClass=/*#__PURE__*/function(_Component){_inherits(AddStockTakeClass,_Component);var _super=_createSuper(AddStockTakeClass);function AddStockTakeClass(){var _this$state;var _this;_classCallCheck(this,AddStockTakeClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=(_this$state={formFields:{PHY_NO:\"\",PHY_REF:\"\",PHY_DATE:new Date(),STAFF_NAME:\"\",PHY_STATUS:\"\",STORE_NO:\"\",PHY_REMK1:\"\",PHY_TTLQTY:\"\",PHY_COUNTQTY:\"\"},headerDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"Brand\"},{label:\"Range\"},{label:\"UOM\"},{label:\"Unit Cost\"},{label:\"On Hand Qty\"},{label:\"Counted Qty\"},{label:\"\"}],headerSelectedDetails:[{label:\"Item Code\"},{label:\"Item Description\"},{label:\"UOM\"},{label:\"On Hand Qty\"},{label:\"Counted Qty\"},,{label:\"Variance\"},{label:\"Remarks\"},{label:\"\"},{label:\"\"}],searchFormFields:{dept:\"\",site:\"\",brand:\"\",item:\"\",range:\"\",// date:new Date(),\nQtyItem:false,inactiveItem:false},UOM:\"\",listDetail:{},isPrintPdfClick:false,siteAddr:[],statusOption:[],empOption:[],brandOption:[],deptOption:[],rangeOption:[],siteOption:[],itemOption:[],disableEdit:false,is_loading:true,isMounted:true,blur:false,detailsList:[],storedItemList:[],itemListBeforeEdit:[],pageMeta:{},active:false,search:\"\"},_defineProperty(_this$state,\"active\",false),_defineProperty(_this$state,\"currentIndex\",-1),_defineProperty(_this$state,\"page\",1),_defineProperty(_this$state,\"limit\",4),_defineProperty(_this$state,\"isOpenvoidCheckout\",false),_defineProperty(_this$state,\"isLoading\",true),_defineProperty(_this$state,\"isMounted\",true),_this$state);_this.componentWillMount=function(){// if (this.props.location.state){\n//   if(this.props.location.state.quoId){\n//     this.state.fkQuotation = this.props.location.state.quoId\n//     this.setState({fkQuotation : this.state.fkQuotation})\n//     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n//     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n//   }\n// }\n// this.getStatus();\n// this.getCountry();\n// this.getState();\n// this.getCity();\n_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){// if (this.props.location.state){\n//   if(this.props.location.state.projectFk){\n//     this.state.fkProject = this.props.location.state.projectFk\n//     this.setState({fkProject : this.state.fkProject})\n//     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n//     console.log(\"this.state.fkProject\",this.state.fkProject)\n//   }\n// this.state.fkQuotation = this.props.location.state.quoId\n// this.setState({fkQuotation : this.state.fkQuotation})\n// console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n// console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n// }\nconsole.log(\"this.props\",_this.props);console.log(\"this.state\",_this.state);// console.log(\"useLocation()\",useLocation())\n_this.getStatus();// this.getSup()\n_this.getBrand();_this.getDept();_this.getRange();_this.getSiteCode();_this.getSiteDetail();_this.handleUpdateTotal();};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var _this$state2,active,currentValue;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state2=_this.state,active=_this$state2.active,currentValue=_this$state2.currentValue;_context.next=3;return _this.setState({selectedMenu:key.id});case 3:_this.setState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// dateFormat(new Date())\nformFields=_this.state.formFields;formFields[name]=value;// formFields[name] = value;\n_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}();_this.getStatus=function(){var statusOption=_this.state.statusOption;statusOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"dropdown\").then(function(res){console.log(\"res.data\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;statusOption.push({value:key.id,label:key.AllDropdown_Item,code:key.AllDropdown_Desc,active:key.Active});}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Approved\"){statusOption.splice(i,1);}if(statusOption[i].label==\"Not Approved\"){statusOption.splice(i,1);}}if(!_this.props.match.params.id){for(var i=0;i<statusOption.length;i++){if(statusOption[i].label==\"Posted\"){statusOption.splice(i,1);}}}console.log(\"statusOption\",statusOption);_this.setState({statusOption:statusOption},function(){_this.getEmp();});});};_this.getEmp=function(){var _this$state3=_this.state,empOption=_this$state3.empOption,blur=_this$state3.blur;empOption=[];_this.props.getCommonApi(\"employeelist\").then(function(res){console.log(\"res.data\",res);var _iterator2=_createForOfIteratorHelper(res.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;empOption.push({value:key.Emp_no,label:key.Emp_name,code:key.Emp_code// active: key.itm_isactive,\n});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(\"empOption\",empOption);_this.setState({empOption:empOption},function(){_this.getDetails();_this.getItem();if(_this.props.match.params.id){_this.autoFillForm();}else{_this.prefillDefault();}if(_this.props.tokenDetail.role_code!==\"1\"&&_this.props.tokenDetail.role_code!==\"2\"){blur=true;_this.setState({blur:blur});}});});};_this.prefillDefault=function(){var _this$state4=_this.state,disableEdit=_this$state4.disableEdit,statusOption=_this$state4.statusOption,empOption=_this$state4.empOption,supOption=_this$state4.supOption;if(empOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"STAFF_NAME\"]=empOption.find(function(option){return option.label===_this.props.tokenDetail.username;}).value;}if(statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"PHY_STATUS\"]=statusOption.find(function(option){return option.label===\"Open\";}).value;}_this.state.formFields[\"STORE_NO\"]=1;_this.setState(_this.state.formFields);};_this.getBrand=function(){var brandOption=_this.state.brandOption;brandOption=[];_this.props.getCommonApi(\"itembrand\").then(function(res){console.log(\"res.data\",res);var _iterator3=_createForOfIteratorHelper(res.data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;brandOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_status});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}console.log(\"brandOption\",brandOption);_this.setState({brandOption:brandOption});});};_this.getDept=function(){var deptOption=_this.state.deptOption;deptOption=[];_this.props.getCommonApi(\"itemdeptdropdown\").then(function(res){console.log(\"res.data\",res);var _iterator4=_createForOfIteratorHelper(res.data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;deptOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code// active: key.itm_status,\n});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}console.log(\"deptOption\",deptOption);_this.setState({deptOption:deptOption});});};_this.getRange=function(){var rangeOption=_this.state.rangeOption;rangeOption=[];_this.props.getCommonApi(\"itemrange\").then(function(res){console.log(\"res.data\",res);var _iterator5=_createForOfIteratorHelper(res.data),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;rangeOption.push({value:key.itm_id,label:key.itm_desc,code:key.itm_code,active:key.itm_status});}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}console.log(\"rangeOption\",rangeOption);_this.setState({rangeOption:rangeOption});});};_this.getSiteCode=function(){var siteOption=_this.state.siteOption;siteOption=[];_this.props.getCommonApi(\"sitecode\").then(function(res){console.log(\"res.data\",res);var _iterator6=_createForOfIteratorHelper(res.data),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var key=_step6.value;siteOption.push({value:key.ItemSite_Code,label:key.ItemSite_Desc,id:key.ItemSite_ID// active: key.itm_isactive,\n});}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}console.log(\"siteOption\",siteOption);_this.setState({siteOption:siteOption});});};_this.getItem=function(){var itemOption=_this.state.itemOption;itemOption=[];console.log(\"this.props.tokenDetail.site_code in getitem\",_this.props.tokenDetail.site_code);_this.props.getCommonApi(\"allstocklist/?limit=2600&searchsitecode=\".concat(_this.props.tokenDetail.site_code)).then(function(res){console.log(\"res.data\",res);var _iterator7=_createForOfIteratorHelper(res.data.dataList),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var key=_step7.value;itemOption.push({value:key.Item_no,label:key.Item_Desc,code:key.item_code,active:key.IsActive});}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}console.log(\"itemOption\",itemOption);_this.setState({itemOption:itemOption});});};_this.getSiteDetail=function(){var siteAddr=_this.state.siteAddr;siteAddr=[];_this.props.getCommonApi(\"sitecode\").then(function(res){console.log(\"res.data\",res);siteAddr=res.data;console.log(\"siteAddr\",siteAddr);_this.setState({siteAddr:siteAddr});});};_this.getAutofillItemDetails=function(PHY_NO){_this.props.getCommonApi(\"stocktakeitem/?searchphyno=\".concat(PHY_NO,\"&limit=10000\")).then(function(res){console.log(\"res in getAutofillItemDetails\",res);// this.state.storedItemListStored = res.data.dataList\nif(res.status==200){var _iterator8=_createForOfIteratorHelper(res.data.dataList),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var item=_step8.value;_this.state.storedItemList.push({item_code:item.ITEMCODE,Item_Desc:item.ITEMDESC,UOM_DESC:item.PHY_UOMTYPE,ITEM_UOM:item.PHY_UOM,QTY:item.PHY_QTY,item_quantity:item.PHY_COUNTQTY,variance:item.PHY_VARIANCE,item_remarks:item.PHY_REMARK,editing:false});_this.state.itemListBeforeEdit.push({item_id:item.PHY_ID,item_code:item.ITEMCODE,UOM_DESC:item.PHY_UOMTYPE});}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}_this.setState(_this.state.storedItemList);_this.setState(_this.state.itemListBeforeEdit);}// this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\n// this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\n// this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\n// this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\n// this.setState(this.state.formFieldsDetailsStored)\n});};_this.autoFillForm=function(){var _this$state5=_this.state,disableEdit=_this$state5.disableEdit,statusOption=_this$state5.statusOption,empOption=_this$state5.empOption;_this.props.getCommonApi(\"stocktakelist/?searchphyid=\".concat(_this.props.match.params.id)).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"adj dataList\",res.data.dataList);_this.state.formFields[\"PHY_NO\"]=res.data.dataList[0].PHY_NO;// this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO\n_this.state.formFields[\"PHY_REF\"]=res.data.dataList[0].PHY_REF;_this.state.formFields[\"PHY_DATE\"]=res.data.dataList[0].PHY_DATE;// this.state.formFields[\"STAFF_NO\"] = res.data.dataList[0].STAFF_NO\nif(res.data.dataList[0].STAFF_NAME&&empOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"STAFF_NAME\"]=empOption.find(function(option){return option.label===res.data.dataList[0].STAFF_NAME;}).value;}console.log(\"statusOption in prefill\",_this.state.statusOption);console.log(\"res.data.dataList[0].status\",res.data.dataList[0].PHY_STATUS);// if status empty prevent err\nif(res.data.dataList[0].PHY_STATUS&&statusOption.length!==0){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"PHY_STATUS\"]=statusOption.find(function(option){return option.label===res.data.dataList[0].PHY_STATUS;}).value;console.log(\"res.data.dataList[0].PHY_STATUS\",res.data.dataList[0].PHY_STATUS);if(res.data.dataList[0].PHY_STATUS==\"Posted\"){disableEdit=true;// for (var i = 0; i < statusOption.length; i++){\n//   if(statusOption[i].label == \"Posted\") {\n//     statusOption = statusOption.filter(e => e.label !== 'Open')\n//   }\n// }\n// console.log(\"statusOption when status is posted\",statusOption)\n_this.setState({disableEdit:disableEdit});console.log(\"this.state.disableEdit\",disableEdit);}}_this.state.formFields[\"STORE_NO\"]=1;_this.state.formFields[\"PHY_REMK1\"]=res.data.dataList[0].PHY_REMK1;// if (res.data.dataList[0].STAFF_NO && empOption.length!==0) {\n//   //matching status name with the id to set prefill status in dropdown\n//   this.state.formFields[\"STAFF_NO\"] = empOption.find(option => option.label === res.data.dataList[0].STAFF_NO).value\n// }\n_this.state.formFields[\"PHY_TTLQTY\"]=res.data.dataList[0].PHY_TTLQTY;_this.state.formFields[\"PHY_COUNTQTY\"]=res.data.dataList[0].PHY_COUNTQTY;_this.updateState(_this.state.formFields);console.log(\"this.state.formFields\",_this.state.formFields);_this.getAutofillItemDetails(res.data.dataList[0].PHY_NO);case 15:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}());};_this.handleItemDetailsSubmit=function(resTAKE){var _this$state6=_this.state,storedItemList=_this$state6.storedItemList,itemListBeforeEdit=_this$state6.itemListBeforeEdit;var _iterator9=_createForOfIteratorHelper(itemListBeforeEdit),_step9;try{var _loop=function _loop(){var item=_step9.value;var found=storedItemList.some(function(el){return el.item_code===item.item_code&&el.UOM_DESC===item.UOM_DESC;});if(!found){_this.props.commonDeleteApi(\"stocktakeitem/\".concat(item.item_id,\"/\")).then(function(res){});}};for(_iterator9.s();!(_step9=_iterator9.n()).done;){_loop();}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}var _iterator10=_createForOfIteratorHelper(storedItemList),_step10;try{var _loop2=function _loop2(){var item=_step10.value;var formDataItem=new FormData();formDataItem.append(\"ITEMCODE\",item.item_code);formDataItem.append(\"ITEMDESC\",item.Item_Desc);formDataItem.append(\"PHY_UOM\",item.ITEM_UOM);formDataItem.append(\"PHY_UOMTYPE\",item.UOM_DESC);formDataItem.append(\"PHY_QTY\",item.QTY);formDataItem.append(\"PHY_COUNTQTY\",item.item_quantity);formDataItem.append(\"PHY_VARIANCE\",item.variance);formDataItem.append(\"PHY_REMARK\",item.item_remarks);formDataItem.append(\"STORE_NO\",_this.props.tokenDetail.site_code);_this.props.getCommonApi(\"stocktakeitem/?searchphyno=\".concat(resTAKE.data.PHY_NO,\"&searchitemcode=\").concat(item.item_code,\"&searchuom=\").concat(item.UOM_DESC)).then(function(resGetItem){console.log(\"resGetItem\",resGetItem);if(resGetItem.status==200){console.log(\"resGetItem\",resGetItem);_this.props.commonUpdateApi(\"stocktakeitem/\".concat(resGetItem.data.dataList[0].PHY_ID,\"/\"),formDataItem).then(function(resUpdateItem){console.log(\"resUpdateItem\",resUpdateItem);});}else if(resGetItem.status==204){formDataItem.append(\"PHY_NO\",resTAKE.data.PHY_NO);_this.props.commonCreateApi(\"stocktakeitem/\",formDataItem).then(function(resCreateItem){console.log(\"resCreateItem\",resCreateItem);});}});};for(_iterator10.s();!(_step10=_iterator10.n()).done;){_loop2();}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}};_this.handleSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(PHY_STATUS){var _this$state7,formFields,statusOption,empOption,formData,resTAKE;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;if(!_this.validator.allValid()){_context4.next=35;break;}_this$state7=_this.state,formFields=_this$state7.formFields,statusOption=_this$state7.statusOption,empOption=_this$state7.empOption;formData=new FormData();formData.append(\"PHY_REF\",formFields.PHY_REF);formData.append(\"PHY_DATE\",dateFormat(formFields.PHY_DATE)+\" 00:00:00\");formData.append(\"STAFF_NO\",formFields.STAFF_NAME?empOption.find(function(option){return option.value===parseInt(formFields.STAFF_NAME);}).code:\"\");if(PHY_STATUS){formData.append(\"PHY_STATUS\",\"Posted\");}else{formData.append(\"PHY_STATUS\",formFields.PHY_STATUS?statusOption.find(function(option){return option.value===parseInt(formFields.PHY_STATUS);}).label:\"\");}// console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\n// formData.append(\"STORE_NO\", formFields.STORE_NO);\nformData.append(\"STORE_NO\",_this.props.tokenDetail.site_code);formData.append(\"PHY_REMK1\",formFields.PHY_REMK1);formData.append(\"STAFF_NAME\",formFields.STAFF_NAME?empOption.find(function(option){return option.value===parseInt(formFields.STAFF_NAME);}).label:\"\");formData.append(\"PHY_TTLQTY\",formFields.PHY_TTLQTY);formData.append(\"PHY_COUNTQTY\",formFields.PHY_COUNTQTY);console.log(\"formData\",formData);if(!_this.props.match.params.id){_context4.next=25;break;}console.log(\"in if loop\");console.log(\"this.props.match.params.id\",_this.props.match.params.id);_context4.next=19;return _this.props.commonUpdateApi(\"stocktakelist/\".concat(_this.props.match.params.id,\"/\"),formData);case 19:resTAKE=_context4.sent;console.log(resTAKE);// this.handleAddressSubmit(resTAKE);\n_this.handleItemDetailsSubmit(resTAKE);// if(statusValue == \"Void\"){\n//   console.log(\"in void loop\")\n//   await this.props.deletePO(`${this.props.match.params.id}/`)\n// }\nhistory.push(\"/admin/inventory\");_context4.next=33;break;case 25:console.log(\"this.props before createPO\",_this.props);// if (this.props.location.state){\n//   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n//   formData.append(\"fk_project\", this.props.location.state.projectFk);\n// }\n// console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\n// formData.append(\"fk_project\", this.state.fkProject);\n// var resTAKE = await this.props.createPO(formData);\n_context4.next=28;return _this.props.commonCreateApi(\"stocktakelist/\",formData);case 28:resTAKE=_context4.sent;console.log(\"resTAKE in createPO\",resTAKE);console.log(\"resTAKE.data.id\",resTAKE.data.id);// this.handleAddressSubmit(resTAKE);\n_this.handleItemDetailsSubmit(resTAKE);history.push(\"/admin/inventory\");case 33:_context4.next=36;break;case 35:_this.validator.showMessages();case 36:_context4.next=41;break;case 38:_context4.prev=38;_context4.t0=_context4[\"catch\"](0);_this.updateState({is_loading:false});case 41:case\"end\":return _context4.stop();}}},_callee4,null,[[0,38]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();_this.getDetails=function(){_this.updateState({isLoading:true});var _this$state8=_this.state,detailsList=_this$state8.detailsList,pageMeta=_this$state8.pageMeta,page=_this$state8.page,limit=_this$state8.limit,search=_this$state8.search,searchFormFields=_this$state8.searchFormFields;// let { Item_Desc } = formField;\n// console.log(\"this.props.siteCode\",this.props.siteCode)\n//     console.log(typeof this.props.siteCode)\nconsole.log(\"searchFormFields\",searchFormFields);_this.props.getCommonApi(\"allstocklist/?searchactive=\".concat(searchFormFields.inactiveItem==false?\"no\":\"yes\",\"&searchqty=\").concat(searchFormFields.inactiveItem==false?\"\":\"yes\",\"&searchitemdesc=\").concat(searchFormFields.item,\"&searchdeptdesc=\").concat(searchFormFields.dept,\"&searchbranddesc=\").concat(searchFormFields.brand,\"&searchrangedesc=\").concat(searchFormFields.range,\"&searchsitecode=\").concat(_this.props.tokenDetail.site_code,\"&page=\").concat(page,\"&limit=\").concat(limit)).then(function(res){console.log(res,\"dsfdfaafg\");_this.setState({detailsList:[]});detailsList=res.data.dataList;// pageMeta = res.data.meta.pagination;\npageMeta=res.data.pagination;// pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\n// this.setState({ detailsList, pageMeta });\n// this.setState({ detailsList });\nconsole.log(\"res.data\",res.data);console.log(\"detailsList\",detailsList);console.log(\"pageMeta\",pageMeta);_this.updateState({detailsList:detailsList,pageMeta:pageMeta,isLoading:false});});};_this.handlePagination=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(pageNo){var page;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:page=_this.state.page;page=pageNo.page;_context5.next=4;return _this.setState({page:page});case 4:_this.getDetails();case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x6){return _ref6.apply(this,arguments);};}();_this.handlesearch=function(event){// event.persist();\nconsole.log(event.target.value);var search=_this.state.search;search=event.target.value;_this.setState({search:search});if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this.getDetails({});case 1:case\"end\":return _context6.stop();}}},_callee6);})),500);}_this.debouncedFn();};_this.handleChangeQuantity=function(_ref8){var _ref8$target=_ref8.target,value=_ref8$target.value,name=_ref8$target.name;var _this$state9=_this.state,detailsList=_this$state9.detailsList,UOM=_this$state9.UOM;console.log(\"value\",value);console.log(\"name\",name);for(var list in detailsList){if(detailsList[list].item_code==name&&detailsList[list].UOM_DESC==UOM){detailsList[list].item_quantity=value;}console.log(\"detailsList[list].item_code\",detailsList[list].item_code);}_this.setState({detailsList:detailsList});console.log(\"detailsList in handleChange\",detailsList);// current_item_quantity = value\n// this.setState({ current_item_quantity })\n};_this.handleSelect=function(item_code,Item_Desc,UOM_DESC,ITEM_UOM,QTY,item_quantity){var _this$state10=_this.state,storedItemList=_this$state10.storedItemList,detailsList=_this$state10.detailsList,formFields=_this$state10.formFields;// console.log(\"item_code\", item_code)\n// console.log(\"Item_Desc\", Item_Desc)\n// console.log(\"ITEM_COST\", ITEM_COST)\nvar _iterator11=_createForOfIteratorHelper(storedItemList),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var item=_step11.value;if(item.item_code==item_code&&item.UOM_DESC==UOM_DESC){Toast({type:\"error\",message:\"This item already exists\"});return;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}if(!item_quantity){Toast({type:\"error\",message:\"Counted Qty is empty!\"});return;}storedItemList.push({item_code:item_code,Item_Desc:Item_Desc,UOM_DESC:UOM_DESC,ITEM_UOM:ITEM_UOM,QTY:QTY,item_quantity:item_quantity,variance:item_quantity-QTY,item_remarks:\"\",editing:false});console.log(\"storedItemList\",storedItemList);_this.setState({storedItemList:storedItemList});_this.handleUpdateTotal();// this.props.storeItemDetails(storedItemList, formFields)\n};_this.handleRemoveStoredItem=function(item_code,UOM_DESC){var _this$state11=_this.state,storedItemList=_this$state11.storedItemList,formFields=_this$state11.formFields;for(var i=0;i<storedItemList.length;i++){if(storedItemList[i].item_code==item_code&&storedItemList[i].UOM_DESC==UOM_DESC){storedItemList.splice(i,1);}}console.log(\"storedItemList after remove\",storedItemList);_this.setState({storedItemList:storedItemList});// this.props.storeItemDetails(storedItemList, formFields)\n_this.handleUpdateTotal();};_this.handleEdit=function(item_code,UOM_DESC){var storedItemList=_this.state.storedItemList;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=true;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});};_this.handleSave=function(item_code,UOM_DESC){var _this$state12=_this.state,storedItemList=_this$state12.storedItemList,formFields=_this$state12.formFields;for(var list in storedItemList){if(storedItemList[list].item_code==item_code&&storedItemList[list].UOM_DESC==UOM_DESC){storedItemList[list].editing=false;}}console.log(\"storedItemList in handleedit\",storedItemList);_this.setState({storedItemList:storedItemList});// this.props.storeItemDetails(storedItemList, formFields)\n_this.handleUpdateTotal();};_this.handleEditChangeRemarks=function(_ref9){var _ref9$target=_ref9.target,value=_ref9$target.value,name=_ref9$target.name;var _this$state13=_this.state,storedItemList=_this$state13.storedItemList,UOM=_this$state13.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_remarks=value;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangePrice=function(_ref10){var _ref10$target=_ref10.target,value=_ref10$target.value,name=_ref10$target.name;var _this$state14=_this.state,storedItemList=_this$state14.storedItemList,UOM=_this$state14.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_cost=value;storedItemList[list].amount=Math.round(storedItemList[list].item_quantity*value*100)/100;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleEditChangeQuantity=function(_ref11){var _ref11$target=_ref11.target,value=_ref11$target.value,name=_ref11$target.name;var _this$state15=_this.state,storedItemList=_this$state15.storedItemList,UOM=_this$state15.UOM;for(var list in storedItemList){if(storedItemList[list].item_code==name&&storedItemList[list].UOM_DESC==UOM){storedItemList[list].item_quantity=value;storedItemList[list].variance=value-storedItemList[list].QTY;}// console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n}_this.setState({storedItemList:storedItemList});console.log(\"storedItemList in handleEditChange\",storedItemList);};_this.handleUpdateTotal=function(){var _this$state16=_this.state,storedItemList=_this$state16.storedItemList,formFields=_this$state16.formFields;formFields.PHY_TTLQTY=0;formFields.PHY_COUNTQTY=0;var _iterator12=_createForOfIteratorHelper(storedItemList),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var item=_step12.value;formFields.PHY_TTLQTY=parseInt(item.QTY)+formFields.PHY_TTLQTY;formFields.PHY_COUNTQTY=parseInt(!item.item_quantity?0:item.item_quantity)+formFields.PHY_COUNTQTY;}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}console.log(\"storedItemList in update total\",storedItemList);// formFields.DOC_AMT = Math.round(formFields.DOC_AMT * 100) / 100\n// console.log(\"formFields.DOC_AMT\",formFields.DOC_AMT, typeof formFields.DOC_AMT)\n_this.setState({formFields:formFields});};_this.setUOM=function(UOM_DESC){var UOM=_this.state.UOM;UOM=UOM_DESC;console.log(\"UOM in setUOM\",UOM);_this.setState({UOM:UOM});};_this.handleChangeCheckboxQty=function(){var searchFormFields=_this.state.searchFormFields;searchFormFields.QtyItem=!searchFormFields.QtyItem;_this.setState(searchFormFields);console.log(\"searchFormFields.QtyItem\",searchFormFields.QtyItem);};_this.handleChangeCheckboxInactive=function(){var searchFormFields=_this.state.searchFormFields;searchFormFields.inactiveItem=!searchFormFields.inactiveItem;_this.setState(searchFormFields);console.log(\"searchFormFields.inactiveItem\",searchFormFields.inactiveItem);};_this.handleMultiSelectBrand=function(e){var searchFormFields=_this.state.searchFormFields;console.log(\"e\",e);var tempArr=[];var _iterator13=_createForOfIteratorHelper(e),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var key=_step13.value;tempArr.push(key.label);}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}searchFormFields.brand=tempArr.toString();console.log(\"tempArr\",tempArr);console.log(\"searchFormFields.brand\",searchFormFields.brand);_this.setState({searchFormFields:searchFormFields});};_this.handleMultiSelectDept=function(e){var searchFormFields=_this.state.searchFormFields;console.log(\"e\",e);var tempArr=[];var _iterator14=_createForOfIteratorHelper(e),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var key=_step14.value;tempArr.push(key.label);}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}searchFormFields.dept=tempArr.toString();console.log(\"tempArr\",tempArr);console.log(\"searchFormFields.dept\",searchFormFields.dept);_this.setState({searchFormFields:searchFormFields});};_this.handleMultiSelectRange=function(e){var searchFormFields=_this.state.searchFormFields;console.log(\"e\",e);var tempArr=[];var _iterator15=_createForOfIteratorHelper(e),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var key=_step15.value;tempArr.push(key.label);}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}searchFormFields.range=tempArr.toString();console.log(\"tempArr\",tempArr);console.log(\"searchFormFields.range\",searchFormFields.range);_this.setState({searchFormFields:searchFormFields});};_this.handleMultiSelectItem=function(e){var searchFormFields=_this.state.searchFormFields;console.log(\"e\",e);var tempArr=[];var _iterator16=_createForOfIteratorHelper(e),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var key=_step16.value;tempArr.push(key.label);}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}searchFormFields.item=tempArr.toString();console.log(\"tempArr\",tempArr);console.log(\"searchFormFields.item\",searchFormFields.item);_this.setState({searchFormFields:searchFormFields});};_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};_this.getListDetail=function(){var _this$state17=_this.state,siteAddr=_this$state17.siteAddr,supOption=_this$state17.supOption,empOption=_this$state17.empOption,listDetail=_this$state17.listDetail,formFields=_this$state17.formFields,isPrintPdfClick=_this$state17.isPrintPdfClick;var addr=\"\";var _iterator17=_createForOfIteratorHelper(siteAddr),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var site=_step17.value;if(site.ItemSite_Code==_this.props.tokenDetail.site_code){addr=site.ItemSite_Address;}}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}listDetail={PHY_NO:formFields.PHY_NO,// \"Supplier\": formFields.SUPP_Code&&supOption ? supOption.find(option => option.value === formFields.SUPP_Code).label : \"\",\nSTAFF_NAME:formFields.STAFF_NAME&&empOption?empOption.find(function(option){return option.value===formFields.STAFF_NAME;}).label:\"\",PHY_DATE:formFields.PHY_DATE,PHY_REF:formFields.PHY_REF,PHY_REMK1:formFields.PHY_REMK1,storeName:_this.props.tokenDetail.branch,printedBy:_this.props.tokenDetail.username,totalQty:formFields.PHY_TTLQTY,totalCountedQty:formFields.PHY_COUNTQTY,addr:addr};console.log(\"listDetail in getListDetail\",listDetail);isPrintPdfClick=true;_this.setState({listDetail:listDetail,isPrintPdfClick:isPrintPdfClick});};return _this;}_createClass(AddStockTakeClass,[{key:\"componentWillUnmount\",value:// componentDidUpdate(prevProps) {\n//   // Typical usage (don't forget to compare props):\n//   if (this.props.tokenDetail !== prevProps.tokenDetail) {\n//     // this.fetchData(this.props.siteGstList);\n//     this.getItem()\n//   }\n// }\nfunction componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state18=this.state,formFields=_this$state18.formFields,searchFormFields=_this$state18.searchFormFields,statusOption=_this$state18.statusOption,headerDetails=_this$state18.headerDetails,headerSelectedDetails=_this$state18.headerSelectedDetails,disableEdit=_this$state18.disableEdit,pageMeta=_this$state18.pageMeta,empOption=_this$state18.empOption,brandOption=_this$state18.brandOption,deptOption=_this$state18.deptOption,rangeOption=_this$state18.rangeOption,siteOption=_this$state18.siteOption,itemOption=_this$state18.itemOption,detailsList=_this$state18.detailsList,storedItemList=_this$state18.storedItemList,isLoading=_this$state18.isLoading,isPrintPdfClick=_this$state18.isPrintPdfClick,listDetail=_this$state18.listDetail,blur=_this$state18.blur;var PHY_NO=formFields.PHY_NO,PHY_REF=formFields.PHY_REF,PHY_DATE=formFields.PHY_DATE,STAFF_NAME=formFields.STAFF_NAME,PHY_STATUS=formFields.PHY_STATUS,STORE_NO=formFields.STORE_NO,PHY_REMK1=formFields.PHY_REMK1,PHY_TTLQTY=formFields.PHY_TTLQTY,PHY_COUNTQTY=formFields.PHY_COUNTQTY;var QtyItem=searchFormFields.QtyItem,inactiveItem=searchFormFields.inactiveItem;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5  create-stocktake\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category cursor-pointer\",onClick:function onClick(){return history.push(\"/admin/inventory\");}},t(\"Stock Take\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" Stock Take\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"PO-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Phy No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{disabled:true,placeholder:\"Auto generated\",value:PHY_NO,name:\"PHY_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Ref\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:disableEdit,value:PHY_REF,name:\"PHY_REF\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Phy Date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalDateTime,{onChange:this.handleDatePick,inputcol:\"p-0 inTime\",value:PHY_DATE?new Date(PHY_DATE):new Date(),name:\"PHY_DATE\"//className=\"dob-pick\"\n,showYearDropdown:true,dateFormat:\"dd/MM/yyyy\"// maxDate={new Date(toDate)}\n,showDisabledMonthNavigation:true})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Phy Date\"),PHY_DATE,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Created By\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:empOption,disabled:disableEdit,value:STAFF_NAME,name:\"STAFF_NAME\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Created By\"),STAFF_NAME,t(\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:statusOption,disabled:disableEdit,value:PHY_STATUS,name:\"PHY_STATUS\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Status\"),PHY_STATUS,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Store Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-normal\"},/*#__PURE__*/React.createElement(NormalSelect,{options:[{value:1,label:this.props.tokenDetail.branch}],disabled:disableEdit,value:STORE_NO,name:\"STORE_NO\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Store Code\"),STORE_NO,t(\"required\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-desc\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter here\",disabled:disableEdit,value:PHY_REMK1,name:\"PHY_REMK1\",onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 stocktake-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text mr-2  pt-2\"},t(\"Dept\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalMultiSelect,{options:deptOption// name=\"dept\"\n,handleMultiSelect:this.handleMultiSelectDept})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text mr-2  pt-2\"},t(\"Brand\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalMultiSelect,{options:brandOption,className:\"pull-right\"// name=\"dept\"\n,handleMultiSelect:this.handleMultiSelectBrand})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text mr-2 pt-2\"},t(\"Range\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalMultiSelect,{options:rangeOption// name=\"dept\"\n,handleMultiSelect:this.handleMultiSelectRange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text mr-3  pt-2\"},t(\"Site\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalMultiSelect,{options:[{value:1,label:this.props.tokenDetail.branch}]// name=\"dept\"\n,onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text  mr-2 pt-2\"},t(\"Item\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalMultiSelect,{options:itemOption// name=\"dept\"\n,handleMultiSelect:this.handleMultiSelectItem}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text mr-2  pt-2\"},t(\"Show 0 Qty Items\")),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-2\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:QtyItem,name:\"QtyItem\",onChange:this.handleChangeCheckboxQty})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-30 text-black common-label-text mr-2  pt-2\"},t(\"Show Inactive Items\")),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-2\"},/*#__PURE__*/React.createElement(NormalCheckbox,{type:\"checkbox\",checked:inactiveItem,name:\"inactiveItem\",onChange:this.handleChangeCheckboxInactive})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12 \"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"confirm\",label:\"Load Stock Take Table\",onClick:function onClick(){return _this2.getDetails();}}))),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},t(\"Loading...\")))))):detailsList?detailsList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,brand_itm_desc=item.brand_itm_desc,range_itm_desc=item.range_itm_desc,UOM_DESC=item.UOM_DESC,ITEM_UOM=item.ITEM_UOM,ITEM_COST=item.ITEM_COST,QTY=item.QTY,item_quantity=item.item_quantity;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},brand_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},range_itm_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(Blur,{radius:blur?\"10px\":\"\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},ITEM_COST))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleChangeQuantity})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:_this2.props.disableEdit,mainbg:true,className:\"warning\",label:\"Select\",onClick:function onClick(){return _this2.handleSelect(item_code,Item_Desc,// brand_itm_desc,\n// range_itm_desc,\nUOM_DESC,ITEM_UOM,QTY,item_quantity);}}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"}),/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerSelectedDetails// queryHandler={this.handlePagination}\n// pageMeta={pageMeta}\n},storedItemList?storedItemList.map(function(item,index){var item_code=item.item_code,Item_Desc=item.Item_Desc,UOM_DESC=item.UOM_DESC,QTY=item.QTY,item_quantity=item.item_quantity,variance=item.variance,item_remarks=item.item_remarks,editing=item.editing;return editing==false?/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_quantity)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},variance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_remarks)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:updateBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent\",onClick:disableEdit==false?function(){return _this2.handleEdit(item_code,UOM_DESC);}:\"\"}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:deleteBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:disableEdit==false?function(){return _this2.handleRemoveStoredItem(item_code,UOM_DESC);}:\"\"})))):/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},Item_Desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},UOM_DESC)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},QTY)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_quantity,disabled:disableEdit,name:item_code,onKeyPress:function onKeyPress(event){if(!/[0-9]/.test(event.key)){event.preventDefault();}},onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeQuantity}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},variance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput,{value:item_remarks,disabled:disableEdit,name:item_code,onClick:function onClick(){return _this2.setUOM(UOM_DESC);},onChange:_this2.handleEditChangeRemarks}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:saveBtn,width:\"35\",height:\"35\",alt:\"\",className:\"action-img bg-transparent \",onClick:disableEdit==false?function(){return _this2.handleSave(item_code,UOM_DESC);}:\"\"}))));}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:PHY_TTLQTY,name:\"PHY_TTLQTY\"// onChange={this.handleChangeDetails}\n}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\"},t(\"Total Counted Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-address w-100\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",disabled:true,value:PHY_COUNTQTY,name:\"PHY_COUNTQTY\"// onChange={this.handleChangeDetails}\n})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:function onClick(){return history.push(\"/admin/inventory\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",disabled:disableEdit,mainbg:true,className:\"confirm\",label:\"Save\",onClick:function onClick(){return _this2.handleSubmit();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?disableEdit:true,mainbg:true,className:\"confirm\",label:\"Post\",outline:false,onClick:function onClick(){return _this2.handleSubmit(PHY_STATUS);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",disabled:this.props.match.params.id?false:true,mainbg:true,className:\"confirm\",label:\"Print PDF\",outline:false,onClick:function onClick(){return _this2.getListDetail();}})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(PDF,{listDetail:listDetail,itemDetail:storedItemList// Flag={activeTab !== \"detail\" ? 3 : 4}\n,landscape:false})},function(_ref12){var blob=_ref12.blob,url=_ref12.url,loading=_ref12.loading,error=_ref12.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null))));}}]);return AddStockTakeClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonUpdateApi:commonUpdateApi,commonDeleteApi:commonDeleteApi,updatePO:updatePO,createPO:createPO,deletePO:deletePO,getTokenDetails:getTokenDetails},dispatch);};export var AddStockTake=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddStockTakeClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Inventory/StockTake/AddStockTake/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","TableWrapper","NormalCheckbox","InputSearch","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","createPO","updatePO","deletePO","getTokenDetails","useLocation","_","updateBtn","deleteBtn","saveBtn","history","Toast","PDFViewer","PDFDownloadLink","BlobProvider","PDF","Blur","AddStockTakeClass","state","formFields","PHY_NO","PHY_REF","PHY_DATE","Date","STAFF_NAME","PHY_STATUS","STORE_NO","PHY_REMK1","PHY_TTLQTY","PHY_COUNTQTY","headerDetails","label","headerSelectedDetails","searchFormFields","dept","site","brand","item","range","QtyItem","inactiveItem","UOM","listDetail","isPrintPdfClick","siteAddr","statusOption","empOption","brandOption","deptOption","rangeOption","siteOption","itemOption","disableEdit","is_loading","isMounted","blur","detailsList","storedItemList","itemListBeforeEdit","pageMeta","active","search","componentWillMount","validator","validators","element","message","autoForceUpdate","componentDidMount","console","log","props","getStatus","getBrand","getDept","getRange","getSiteCode","getSiteDetail","handleUpdateTotal","updateState","data","setState","handleClick","key","currentValue","selectedMenu","id","selected","handleChange","target","value","name","Object","assign","handleDatePick","then","res","push","AllDropdown_Item","code","AllDropdown_Desc","Active","i","length","splice","match","params","getEmp","Emp_no","Emp_name","Emp_code","getDetails","getItem","autoFillForm","prefillDefault","tokenDetail","role_code","supOption","find","option","username","itm_id","itm_desc","itm_code","itm_status","ItemSite_Code","ItemSite_Desc","ItemSite_ID","site_code","dataList","Item_no","Item_Desc","item_code","IsActive","getAutofillItemDetails","status","ITEMCODE","ITEMDESC","UOM_DESC","PHY_UOMTYPE","ITEM_UOM","PHY_UOM","QTY","PHY_QTY","item_quantity","variance","PHY_VARIANCE","item_remarks","PHY_REMARK","editing","item_id","PHY_ID","handleItemDetailsSubmit","resTAKE","found","some","el","formDataItem","FormData","append","resGetItem","resUpdateItem","resCreateItem","handleSubmit","allValid","formData","parseInt","showMessages","isLoading","page","limit","pagination","handlePagination","pageNo","handlesearch","event","debouncedFn","debounce","handleChangeQuantity","list","handleSelect","type","handleRemoveStoredItem","handleEdit","handleSave","handleEditChangeRemarks","handleEditChangePrice","item_cost","amount","Math","round","handleEditChangeQuantity","setUOM","handleChangeCheckboxQty","handleChangeCheckboxInactive","handleMultiSelectBrand","e","tempArr","toString","handleMultiSelectDept","handleMultiSelectRange","handleMultiSelectItem","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","getListDetail","addr","ItemSite_Address","storeName","branch","printedBy","totalQty","totalCountedQty","t","map","index","brand_itm_desc","range_itm_desc","ITEM_COST","test","preventDefault","blob","loading","error","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddStockTake"],"mappings":"osCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,cAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wBAAjC,CACA,OACEC,WADF,CAEEC,YAFF,CAGEC,YAHF,CAIEC,cAJF,CAKEC,iBALF,CAMEC,cANF,CAOEC,YAPF,CAQEC,cARF,CASEC,WATF,KAUO,kBAVP,CAWA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,yBAAvC,CACA,OACEC,WADF,CAEEC,YAFF,CAGEC,eAHF,CAIEC,eAJF,CAKEC,eALF,KAMO,sBANP,CAOA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,SAAT,CAAoBC,KAApB,CAA2BC,KAA3B,KAAwC,YAAxC,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,QAAT,CAAmBC,QAAnB,CAA6BC,QAA7B,KAA6C,kBAA7C,CACA,OAASC,eAAT,KAAgC,oBAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,OAASC,OAAT,KAAwB,SAAxB,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,SAAT,CAAoBC,eAApB,CAAqCC,YAArC,KAAyD,qBAAzD,CACA,MAAOC,CAAAA,GAAP,KAAgB,iCAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,CAEA,UAAaC,CAAAA,iBAAb,uXACEC,KADF,eAEIC,UAAU,CAAE,CACVC,MAAM,CAAE,EADE,CAEVC,OAAO,CAAE,EAFC,CAGVC,QAAQ,CAAE,GAAIC,CAAAA,IAAJ,EAHA,CAIVC,UAAU,CAAE,EAJF,CAKVC,UAAU,CAAE,EALF,CAMVC,QAAQ,CAAE,EANA,CAOVC,SAAS,CAAE,EAPD,CAQVC,UAAU,CAAE,EARF,CASVC,YAAY,CAAE,EATJ,CAFhB,CAcIC,aAAa,CAAE,CACb,CAAEC,KAAK,CAAE,WAAT,CADa,CAEb,CAAEA,KAAK,CAAE,kBAAT,CAFa,CAGb,CAAEA,KAAK,CAAE,OAAT,CAHa,CAIb,CAAEA,KAAK,CAAE,OAAT,CAJa,CAKb,CAAEA,KAAK,CAAE,KAAT,CALa,CAMb,CAAEA,KAAK,CAAE,WAAT,CANa,CAOb,CAAEA,KAAK,CAAE,aAAT,CAPa,CAQb,CAAEA,KAAK,CAAE,aAAT,CARa,CAUb,CAAEA,KAAK,CAAE,EAAT,CAVa,CAdnB,CA0BIC,qBAAqB,CAAE,CACrB,CAAED,KAAK,CAAE,WAAT,CADqB,CAErB,CAAEA,KAAK,CAAE,kBAAT,CAFqB,CAGrB,CAAEA,KAAK,CAAE,KAAT,CAHqB,CAIrB,CAAEA,KAAK,CAAE,aAAT,CAJqB,CAKrB,CAAEA,KAAK,CAAE,aAAT,CALqB,EAOrB,CAAEA,KAAK,CAAE,UAAT,CAPqB,CAQrB,CAAEA,KAAK,CAAE,SAAT,CARqB,CASrB,CAAEA,KAAK,CAAE,EAAT,CATqB,CAUrB,CAAEA,KAAK,CAAE,EAAT,CAVqB,CA1B3B,CAuCIE,gBAAgB,CAAE,CAChBC,IAAI,CAAE,EADU,CAEhBC,IAAI,CAAE,EAFU,CAGhBC,KAAK,CAAE,EAHS,CAIhBC,IAAI,CAAE,EAJU,CAKhBC,KAAK,CAAE,EALS,CAMhB;AACAC,OAAO,CAAE,KAPO,CAQhBC,YAAY,CAAE,KARE,CAvCtB,CAkDIC,GAAG,CAAE,EAlDT,CAoDIC,UAAU,CAAE,EApDhB,CAqDIC,eAAe,CAAE,KArDrB,CAsDIC,QAAQ,CAAE,EAtDd,CAwDIC,YAAY,CAAE,EAxDlB,CAyDIC,SAAS,CAAE,EAzDf,CA0DIC,WAAW,CAAE,EA1DjB,CA2DIC,UAAU,CAAE,EA3DhB,CA4DIC,WAAW,CAAE,EA5DjB,CA6DIC,UAAU,CAAE,EA7DhB,CA8DIC,UAAU,CAAE,EA9DhB,CAgEIC,WAAW,CAAE,KAhEjB,CAiEIC,UAAU,CAAE,IAjEhB,CAkEIC,SAAS,CAAE,IAlEf,CAoEIC,IAAI,CAAE,KApEV,CAsEIC,WAAW,CAAE,EAtEjB,CAwEIC,cAAc,CAAE,EAxEpB,CAyEIC,kBAAkB,CAAE,EAzExB,CA0EIC,QAAQ,CAAE,EA1Ed,CA4EIC,MAAM,CAAE,KA5EZ,CA6EIC,MAAM,CAAE,EA7EZ,uCA8EY,KA9EZ,6CA+EkB,CAAC,CA/EnB,qCAgFU,CAhFV,sCAkFW,CAlFX,mDAmFwB,KAnFxB,0CAoFe,IApFf,0CAsFe,IAtFf,qBA+FEC,kBA/FF,CA+FuB,UAAM,CACzB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA,MAAKC,SAAL,CAAiB,GAAItF,CAAAA,oBAAJ,CAAyB,CACxCuF,UAAU,CAAE,EAD4B,CAExCC,OAAO,CAAE,iBAAAC,OAAO,qBACd,4BAAM,SAAS,CAAC,wCAAhB,EACGA,OADH,CADc,EAFwB,CAOxCC,eAAe,8BAPyB,CAAzB,CAAjB,CASD,CAtHH,OAwHEC,iBAxHF,CAwHsB,UAAM,CACxB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEAC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B,MAAKC,KAA/B,EAEAF,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B,MAAKpD,KAA/B,EACA;AACA,MAAKsD,SAAL,GAEA;AAEA,MAAKC,QAAL,GACA,MAAKC,OAAL,GACA,MAAKC,QAAL,GACA,MAAKC,WAAL,GACA,MAAKC,aAAL,GAEA,MAAKC,iBAAL,GACD,CAvJH,OAqKEC,WArKF,CAqKgB,SAAAC,IAAI,CAAI,CACpB,GAAI,MAAK9D,KAAL,CAAWoC,SAAf,CAA0B,MAAK2B,QAAL,CAAcD,IAAd,EAC3B,CAvKH,OAyKEE,WAzKF,0FAyKgB,iBAAMC,GAAN,oKACmB,MAAKjE,KADxB,CACN0C,MADM,cACNA,MADM,CACEwB,YADF,cACEA,YADF,uBAEN,OAAKH,QAAL,CAAc,CAClBI,YAAY,CAAEF,GAAG,CAACG,EADA,CAAd,CAFM,QAKZ,MAAKL,QAAL,CAAc,CACZrB,MAAM,CAAE,IADI,CAEZwB,YAAY,CAAED,GAAG,CAACA,GAFN,CAGZI,QAAQ,CAAEJ,GAAG,CAACG,EAHF,CAAd,EALY,sDAzKhB,qEAqLEE,YArLF,CAqLiB,eAAiC,wBAA9BC,MAA8B,CAApBC,KAAoB,cAApBA,KAAoB,CAAbC,IAAa,cAAbA,IAAa,CAC9C,GAAIxE,CAAAA,UAAU,CAAGyE,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkB,MAAK3E,KAAL,CAAWC,UAA7B,CAAjB,CAEAA,UAAU,CAACwE,IAAD,CAAV,CAAmBD,KAAnB,CAEA,MAAKX,WAAL,CAAiB,CACf5D,UAAU,CAAVA,UADe,CAAjB,EAGD,CA7LH,OA+LE2E,cA/LF,2FA+LmB,kBAAOH,IAAP,CAAaD,KAAb,qIACf;AACMvE,UAFS,CAEM,MAAKD,KAFX,CAETC,UAFS,CAGfA,UAAU,CAACwE,IAAD,CAAV,CAAmBD,KAAnB,CACA;AAJe,uBAKT,OAAKX,WAAL,CAAiB,CACrB5D,UAAU,CAAVA,UADqB,CAAjB,CALS,yDA/LnB,2EAyMEqD,SAzMF,CAyMc,UAAM,CAChB,GAAM3B,CAAAA,YAAN,CAAuB,MAAK3B,KAA5B,CAAM2B,YAAN,CACAA,YAAY,CAAG,EAAf,CACAwB,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B,MAAKC,KAAlC,EACA,MAAKA,KAAL,CAAWjF,YAAX,aAAoCyG,IAApC,CAAyC,SAAAC,GAAG,CAAI,CAC9C3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EAD8C,yCAE9BA,GAAG,CAAChB,IAF0B,YAE9C,+CAA0B,IAAjBG,CAAAA,GAAiB,aACxBtC,YAAY,CAACoD,IAAb,CAAkB,CAChBP,KAAK,CAAEP,GAAG,CAACG,EADK,CAEhBvD,KAAK,CAAEoD,GAAG,CAACe,gBAFK,CAGhBC,IAAI,CAAEhB,GAAG,CAACiB,gBAHM,CAIhBxC,MAAM,CAAEuB,GAAG,CAACkB,MAJI,CAAlB,EAMD,CAT6C,qDAU9C,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGzD,YAAY,CAAC0D,MAAjC,CAAyCD,CAAC,EAA1C,CAA8C,CAC5C,GAAIzD,YAAY,CAACyD,CAAD,CAAZ,CAAgBvE,KAAhB,EAAyB,UAA7B,CAAyC,CACvCc,YAAY,CAAC2D,MAAb,CAAoBF,CAApB,CAAuB,CAAvB,EACD,CACD,GAAIzD,YAAY,CAACyD,CAAD,CAAZ,CAAgBvE,KAAhB,EAAyB,cAA7B,CAA6C,CAC3Cc,YAAY,CAAC2D,MAAb,CAAoBF,CAApB,CAAuB,CAAvB,EACD,CACF,CACD,GAAI,CAAC,MAAK/B,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EAA7B,CAAiC,CAC/B,IAAK,GAAIgB,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGzD,YAAY,CAAC0D,MAAjC,CAAyCD,CAAC,EAA1C,CAA8C,CAC5C,GAAIzD,YAAY,CAACyD,CAAD,CAAZ,CAAgBvE,KAAhB,EAAyB,QAA7B,CAAuC,CACrCc,YAAY,CAAC2D,MAAb,CAAoBF,CAApB,CAAuB,CAAvB,EACD,CACF,CACF,CACDjC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BzB,YAA5B,EACA,MAAKoC,QAAL,CAAc,CAAEpC,YAAY,CAAZA,YAAF,CAAd,CAAgC,UAAM,CACpC,MAAK8D,MAAL,GACD,CAFD,EAGD,CA7BD,EA8BD,CA3OH,OA6OEA,MA7OF,CA6OW,UAAM,CACb,iBAA0B,MAAKzF,KAA/B,CAAM4B,SAAN,cAAMA,SAAN,CAAiBS,IAAjB,cAAiBA,IAAjB,CACAT,SAAS,CAAG,EAAZ,CACA,MAAKyB,KAAL,CAAWjF,YAAX,iBAAwCyG,IAAxC,CAA6C,SAAAC,GAAG,CAAI,CAClD3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EADkD,0CAElCA,GAAG,CAAChB,IAF8B,aAElD,kDAA0B,IAAjBG,CAAAA,GAAiB,cACxBrC,SAAS,CAACmD,IAAV,CAAe,CACbP,KAAK,CAAEP,GAAG,CAACyB,MADE,CAEb7E,KAAK,CAAEoD,GAAG,CAAC0B,QAFE,CAGbV,IAAI,CAAEhB,GAAG,CAAC2B,QACV;AAJa,CAAf,EAMD,CATiD,uDAUlDzC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBxB,SAAzB,EACA,MAAKmC,QAAL,CAAc,CAAEnC,SAAS,CAATA,SAAF,CAAd,CAA6B,UAAM,CACjC,MAAKiE,UAAL,GACA,MAAKC,OAAL,GACA,GAAI,MAAKzC,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EAA5B,CAAgC,CAC9B,MAAK2B,YAAL,GACD,CAFD,IAEO,CACL,MAAKC,cAAL,GACD,CACD,GACE,MAAK3C,KAAL,CAAW4C,WAAX,CAAuBC,SAAvB,GAAqC,GAArC,EACA,MAAK7C,KAAL,CAAW4C,WAAX,CAAuBC,SAAvB,GAAqC,GAFvC,CAGE,CACA7D,IAAI,CAAG,IAAP,CACA,MAAK0B,QAAL,CAAc,CAAE1B,IAAI,CAAJA,IAAF,CAAd,EACD,CACF,CAfD,EAgBD,CA3BD,EA4BD,CA5QH,OA8QE2D,cA9QF,CA8QmB,UAAM,CACrB,iBAA0D,MAAKhG,KAA/D,CAAMkC,WAAN,cAAMA,WAAN,CAAmBP,YAAnB,cAAmBA,YAAnB,CAAiCC,SAAjC,cAAiCA,SAAjC,CAA4CuE,SAA5C,cAA4CA,SAA5C,CAEA,GAAIvE,SAAS,CAACyD,MAAV,GAAqB,CAAzB,CAA4B,CAC1B;AACA,MAAKrF,KAAL,CAAWC,UAAX,CAAsB,YAAtB,EAAsC2B,SAAS,CAACwE,IAAV,CACpC,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACxF,KAAP,GAAiB,MAAKwC,KAAL,CAAW4C,WAAX,CAAuBK,QAA5C,EAD8B,EAEpC9B,KAFF,CAGD,CACD,GAAI7C,YAAY,CAAC0D,MAAb,GAAwB,CAA5B,CAA+B,CAC7B;AACA,MAAKrF,KAAL,CAAWC,UAAX,CAAsB,YAAtB,EAAsC0B,YAAY,CAACyE,IAAb,CACpC,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACxF,KAAP,GAAiB,MAArB,EAD8B,EAEpC2D,KAFF,CAGD,CAED,MAAKxE,KAAL,CAAWC,UAAX,CAAsB,UAAtB,EAAoC,CAApC,CACA,MAAK8D,QAAL,CAAc,MAAK/D,KAAL,CAAWC,UAAzB,EACD,CAhSH,OAkSEsD,QAlSF,CAkSa,UAAM,CACf,GAAM1B,CAAAA,WAAN,CAAsB,MAAK7B,KAA3B,CAAM6B,WAAN,CACAA,WAAW,CAAG,EAAd,CACA,MAAKwB,KAAL,CAAWjF,YAAX,cAAqCyG,IAArC,CAA0C,SAAAC,GAAG,CAAI,CAC/C3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EAD+C,0CAE/BA,GAAG,CAAChB,IAF2B,aAE/C,kDAA0B,IAAjBG,CAAAA,GAAiB,cACxBpC,WAAW,CAACkD,IAAZ,CAAiB,CACfP,KAAK,CAAEP,GAAG,CAACsC,MADI,CAEf1F,KAAK,CAAEoD,GAAG,CAACuC,QAFI,CAGfvB,IAAI,CAAEhB,GAAG,CAACwC,QAHK,CAIf/D,MAAM,CAAEuB,GAAG,CAACyC,UAJG,CAAjB,EAMD,CAT8C,uDAU/CvD,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BvB,WAA3B,EACA,MAAKkC,QAAL,CAAc,CAAElC,WAAW,CAAXA,WAAF,CAAd,EACD,CAZD,EAaD,CAlTH,OAoTE2B,OApTF,CAoTY,UAAM,CACd,GAAM1B,CAAAA,UAAN,CAAqB,MAAK9B,KAA1B,CAAM8B,UAAN,CACAA,UAAU,CAAG,EAAb,CACA,MAAKuB,KAAL,CAAWjF,YAAX,qBAA4CyG,IAA5C,CAAiD,SAAAC,GAAG,CAAI,CACtD3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EADsD,0CAEtCA,GAAG,CAAChB,IAFkC,aAEtD,kDAA0B,IAAjBG,CAAAA,GAAiB,cACxBnC,UAAU,CAACiD,IAAX,CAAgB,CACdP,KAAK,CAAEP,GAAG,CAACsC,MADG,CAEd1F,KAAK,CAAEoD,GAAG,CAACuC,QAFG,CAGdvB,IAAI,CAAEhB,GAAG,CAACwC,QACV;AAJc,CAAhB,EAMD,CATqD,uDAUtDtD,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BtB,UAA1B,EACA,MAAKiC,QAAL,CAAc,CAAEjC,UAAU,CAAVA,UAAF,CAAd,EACD,CAZD,EAaD,CApUH,OAsUE2B,QAtUF,CAsUa,UAAM,CACf,GAAM1B,CAAAA,WAAN,CAAsB,MAAK/B,KAA3B,CAAM+B,WAAN,CACAA,WAAW,CAAG,EAAd,CACA,MAAKsB,KAAL,CAAWjF,YAAX,cAAqCyG,IAArC,CAA0C,SAAAC,GAAG,CAAI,CAC/C3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EAD+C,0CAE/BA,GAAG,CAAChB,IAF2B,aAE/C,kDAA0B,IAAjBG,CAAAA,GAAiB,cACxBlC,WAAW,CAACgD,IAAZ,CAAiB,CACfP,KAAK,CAAEP,GAAG,CAACsC,MADI,CAEf1F,KAAK,CAAEoD,GAAG,CAACuC,QAFI,CAGfvB,IAAI,CAAEhB,GAAG,CAACwC,QAHK,CAIf/D,MAAM,CAAEuB,GAAG,CAACyC,UAJG,CAAjB,EAMD,CAT8C,uDAU/CvD,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BrB,WAA3B,EACA,MAAKgC,QAAL,CAAc,CAAEhC,WAAW,CAAXA,WAAF,CAAd,EACD,CAZD,EAaD,CAtVH,OAwVE2B,WAxVF,CAwVgB,UAAM,CAClB,GAAM1B,CAAAA,UAAN,CAAqB,MAAKhC,KAA1B,CAAMgC,UAAN,CACAA,UAAU,CAAG,EAAb,CACA,MAAKqB,KAAL,CAAWjF,YAAX,aAAoCyG,IAApC,CAAyC,SAAAC,GAAG,CAAI,CAC9C3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EAD8C,0CAE9BA,GAAG,CAAChB,IAF0B,aAE9C,kDAA0B,IAAjBG,CAAAA,GAAiB,cACxBjC,UAAU,CAAC+C,IAAX,CAAgB,CACdP,KAAK,CAAEP,GAAG,CAAC0C,aADG,CAEd9F,KAAK,CAAEoD,GAAG,CAAC2C,aAFG,CAGdxC,EAAE,CAAEH,GAAG,CAAC4C,WACR;AAJc,CAAhB,EAMD,CAT6C,uDAU9C1D,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BpB,UAA1B,EACA,MAAK+B,QAAL,CAAc,CAAE/B,UAAU,CAAVA,UAAF,CAAd,EACD,CAZD,EAaD,CAxWH,OA0WE8D,OA1WF,CA0WY,UAAM,CACd,GAAM7D,CAAAA,UAAN,CAAqB,MAAKjC,KAA1B,CAAMiC,UAAN,CACAA,UAAU,CAAG,EAAb,CACAkB,OAAO,CAACC,GAAR,CACE,6CADF,CAEE,MAAKC,KAAL,CAAW4C,WAAX,CAAuBa,SAFzB,EAIA,MAAKzD,KAAL,CACGjF,YADH,mDAE+C,MAAKiF,KAAL,CAAW4C,WAAX,CAAuBa,SAFtE,GAIGjC,IAJH,CAIQ,SAAAC,GAAG,CAAI,CACX3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EADW,0CAEKA,GAAG,CAAChB,IAAJ,CAASiD,QAFd,aAEX,kDAAmC,IAA1B9C,CAAAA,GAA0B,cACjChC,UAAU,CAAC8C,IAAX,CAAgB,CACdP,KAAK,CAAEP,GAAG,CAAC+C,OADG,CAEdnG,KAAK,CAAEoD,GAAG,CAACgD,SAFG,CAGdhC,IAAI,CAAEhB,GAAG,CAACiD,SAHI,CAIdxE,MAAM,CAAEuB,GAAG,CAACkD,QAJE,CAAhB,EAMD,CATU,uDAUXhE,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BnB,UAA1B,EACA,MAAK8B,QAAL,CAAc,CAAE9B,UAAU,CAAVA,UAAF,CAAd,EACD,CAhBH,EAiBD,CAlYH,OAoYE0B,aApYF,CAoYkB,UAAM,CACpB,GAAMjC,CAAAA,QAAN,CAAmB,MAAK1B,KAAxB,CAAM0B,QAAN,CACAA,QAAQ,CAAG,EAAX,CACA,MAAK2B,KAAL,CAAWjF,YAAX,aAAoCyG,IAApC,CAAyC,SAAAC,GAAG,CAAI,CAC9C3B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAxB,EACApD,QAAQ,CAAGoD,GAAG,CAAChB,IAAf,CACAX,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB1B,QAAxB,EACA,MAAKqC,QAAL,CAAc,CAAErC,QAAQ,CAARA,QAAF,CAAd,EACD,CALD,EAMD,CA7YH,OA+YE0F,sBA/YF,CA+Y2B,SAAAlH,MAAM,CAAI,CACjC,MAAKmD,KAAL,CACGjF,YADH,sCAC8C8B,MAD9C,kBAEG2E,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACX3B,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAA6C0B,GAA7C,EACA;AACA,GAAIA,GAAG,CAACuC,MAAJ,EAAc,GAAlB,CAAuB,2CACJvC,GAAG,CAAChB,IAAJ,CAASiD,QADL,aACrB,kDAAoC,IAA3B5F,CAAAA,IAA2B,cAClC,MAAKnB,KAAL,CAAWuC,cAAX,CAA0BwC,IAA1B,CAA+B,CAC7BmC,SAAS,CAAE/F,IAAI,CAACmG,QADa,CAE7BL,SAAS,CAAE9F,IAAI,CAACoG,QAFa,CAG7BC,QAAQ,CAAErG,IAAI,CAACsG,WAHc,CAI7BC,QAAQ,CAAEvG,IAAI,CAACwG,OAJc,CAK7BC,GAAG,CAAEzG,IAAI,CAAC0G,OALmB,CAM7BC,aAAa,CAAE3G,IAAI,CAACR,YANS,CAO7BoH,QAAQ,CAAE5G,IAAI,CAAC6G,YAPc,CAQ7BC,YAAY,CAAE9G,IAAI,CAAC+G,UARU,CAS7BC,OAAO,CAAE,KAToB,CAA/B,EAWA,MAAKnI,KAAL,CAAWwC,kBAAX,CAA8BuC,IAA9B,CAAmC,CACjCqD,OAAO,CAAEjH,IAAI,CAACkH,MADmB,CAEjCnB,SAAS,CAAE/F,IAAI,CAACmG,QAFiB,CAGjCE,QAAQ,CAAErG,IAAI,CAACsG,WAHkB,CAAnC,EAKD,CAlBoB,uDAmBrB,MAAK1D,QAAL,CAAc,MAAK/D,KAAL,CAAWuC,cAAzB,EACA,MAAKwB,QAAL,CAAc,MAAK/D,KAAL,CAAWwC,kBAAzB,EACD,CACD;AACA;AACA;AACA;AACA;AACD,CAhCH,EAiCD,CAjbH,OAmbEuD,YAnbF,CAmbiB,UAAM,CACnB,iBAA+C,MAAK/F,KAApD,CAAMkC,WAAN,cAAMA,WAAN,CAAmBP,YAAnB,cAAmBA,YAAnB,CAAiCC,SAAjC,cAAiCA,SAAjC,CAEA,MAAKyB,KAAL,CACGjF,YADH,sCAC8C,MAAKiF,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EADtE,GAEGS,IAFH,2FAEQ,kBAAMC,GAAN,sHACJ3B,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4B0B,GAAG,CAAChB,IAAJ,CAASiD,QAArC,EAEA,MAAK/G,KAAL,CAAWC,UAAX,CAAsB,QAAtB,EAAkC6E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqB7G,MAAvD,CACA;AAEA,MAAKF,KAAL,CAAWC,UAAX,CAAsB,SAAtB,EAAmC6E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqB5G,OAAxD,CACA,MAAKH,KAAL,CAAWC,UAAX,CAAsB,UAAtB,EAAoC6E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqB3G,QAAzD,CAEA;AACA,GAAI0E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBzG,UAArB,EAAmCsB,SAAS,CAACyD,MAAV,GAAqB,CAA5D,CAA+D,CAC7D;AACA,MAAKrF,KAAL,CAAWC,UAAX,CAAsB,YAAtB,EAAsC2B,SAAS,CAACwE,IAAV,CACpC,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACxF,KAAP,GAAiBiE,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBzG,UAA1C,EAD8B,EAEpCkE,KAFF,CAGD,CAEDrB,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuC,MAAKpD,KAAL,CAAW2B,YAAlD,EACAwB,OAAO,CAACC,GAAR,CACE,6BADF,CAEE0B,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBxG,UAFvB,EAIA;AACA,GAAIuE,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBxG,UAArB,EAAmCoB,YAAY,CAAC0D,MAAb,GAAwB,CAA/D,CAAkE,CAChE;AACA,MAAKrF,KAAL,CAAWC,UAAX,CAAsB,YAAtB,EAAsC0B,YAAY,CAACyE,IAAb,CACpC,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACxF,KAAP,GAAiBiE,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBxG,UAA1C,EAD8B,EAEpCiE,KAFF,CAGArB,OAAO,CAACC,GAAR,CACE,iCADF,CAEE0B,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBxG,UAFvB,EAIA,GAAIuE,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBxG,UAArB,EAAmC,QAAvC,CAAiD,CAC/C2B,WAAW,CAAG,IAAd,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAK6B,QAAL,CAAc,CAAE7B,WAAW,CAAXA,WAAF,CAAd,EACAiB,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsClB,WAAtC,EACD,CACF,CAED,MAAKlC,KAAL,CAAWC,UAAX,CAAsB,UAAtB,EAAoC,CAApC,CACA,MAAKD,KAAL,CAAWC,UAAX,CAAsB,WAAtB,EAAqC6E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBtG,SAA1D,CACA;AACA;AACA;AACA;AAEA,MAAKT,KAAL,CAAWC,UAAX,CAAsB,YAAtB,EAAsC6E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBrG,UAA3D,CACA,MAAKV,KAAL,CAAWC,UAAX,CAAsB,cAAtB,EACE6E,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqBpG,YADvB,CAGA,MAAKkD,WAAL,CAAiB,MAAK7D,KAAL,CAAWC,UAA5B,EACAkD,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqC,MAAKpD,KAAL,CAAWC,UAAhD,EACA,MAAKmH,sBAAL,CAA4BtC,GAAG,CAAChB,IAAJ,CAASiD,QAAT,CAAkB,CAAlB,EAAqB7G,MAAjD,EA5DI,yDAFR,kEAgED,CAtfH,OAwfEoI,uBAxfF,CAwf4B,SAAAC,OAAO,CAAI,CACnC,iBAA6C,MAAKvI,KAAlD,CAAMuC,cAAN,cAAMA,cAAN,CAAsBC,kBAAtB,cAAsBA,kBAAtB,CADmC,0CAGlBA,kBAHkB,2CAG1BrB,CAAAA,IAH0B,cAIjC,GAAIqH,CAAAA,KAAK,CAAGjG,cAAc,CAACkG,IAAf,CACV,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACxB,SAAH,GAAiB/F,IAAI,CAAC+F,SAAtB,EAAmCwB,EAAE,CAAClB,QAAH,GAAgBrG,IAAI,CAACqG,QAA5D,EADQ,CAAZ,CAGA,GAAI,CAACgB,KAAL,CAAY,CACV,MAAKnF,KAAL,CACG9E,eADH,yBACoC4C,IAAI,CAACiH,OADzC,OAEGvD,IAFH,CAEQ,SAAAC,GAAG,CAAI,CAAE,CAFjB,EAGD,CAXgC,EAGnC,kDAAqC,SASpC,CAZkC,kGAclBvC,cAdkB,8CAc1BpB,CAAAA,IAd0B,eAejC,GAAMwH,CAAAA,YAAY,CAAG,GAAIC,CAAAA,QAAJ,EAArB,CACAD,YAAY,CAACE,MAAb,CAAoB,UAApB,CAAgC1H,IAAI,CAAC+F,SAArC,EACAyB,YAAY,CAACE,MAAb,CAAoB,UAApB,CAAgC1H,IAAI,CAAC8F,SAArC,EACA0B,YAAY,CAACE,MAAb,CAAoB,SAApB,CAA+B1H,IAAI,CAACuG,QAApC,EACAiB,YAAY,CAACE,MAAb,CAAoB,aAApB,CAAmC1H,IAAI,CAACqG,QAAxC,EACAmB,YAAY,CAACE,MAAb,CAAoB,SAApB,CAA+B1H,IAAI,CAACyG,GAApC,EACAe,YAAY,CAACE,MAAb,CAAoB,cAApB,CAAoC1H,IAAI,CAAC2G,aAAzC,EACAa,YAAY,CAACE,MAAb,CAAoB,cAApB,CAAoC1H,IAAI,CAAC4G,QAAzC,EACAY,YAAY,CAACE,MAAb,CAAoB,YAApB,CAAkC1H,IAAI,CAAC8G,YAAvC,EACAU,YAAY,CAACE,MAAb,CAAoB,UAApB,CAAgC,MAAKxF,KAAL,CAAW4C,WAAX,CAAuBa,SAAvD,EAEA,MAAKzD,KAAL,CACGjF,YADH,sCAEkCmK,OAAO,CAACzE,IAAR,CAAa5D,MAF/C,4BAEwEiB,IAAI,CAAC+F,SAF7E,uBAEoG/F,IAAI,CAACqG,QAFzG,GAIG3C,IAJH,CAIQ,SAAAiE,UAAU,CAAI,CAClB3F,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B0F,UAA1B,EACA,GAAIA,UAAU,CAACzB,MAAX,EAAqB,GAAzB,CAA8B,CAC5BlE,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B0F,UAA1B,EACA,MAAKzF,KAAL,CACG/E,eADH,yBAEqBwK,UAAU,CAAChF,IAAX,CAAgBiD,QAAhB,CAAyB,CAAzB,EAA4BsB,MAFjD,MAGIM,YAHJ,EAKG9D,IALH,CAKQ,SAAAkE,aAAa,CAAI,CACrB5F,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B2F,aAA7B,EACD,CAPH,EAQD,CAVD,IAUO,IAAID,UAAU,CAACzB,MAAX,EAAqB,GAAzB,CAA8B,CACnCsB,YAAY,CAACE,MAAb,CAAoB,QAApB,CAA8BN,OAAO,CAACzE,IAAR,CAAa5D,MAA3C,EACA,MAAKmD,KAAL,CACGhF,eADH,kBACqCsK,YADrC,EAEG9D,IAFH,CAEQ,SAAAmE,aAAa,CAAI,CACrB7F,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B4F,aAA7B,EACD,CAJH,EAKD,CACF,CAxBH,EA1BiC,EAcnC,qDAAiC,UAqChC,CAnDkC,yDAoDpC,CA5iBH,OA8iBEC,YA9iBF,2FA8iBiB,kBAAM1I,UAAN,+MAEP,MAAKsC,SAAL,CAAeqG,QAAf,EAFO,wCAGqC,MAAKlJ,KAH1C,CAGHC,UAHG,cAGHA,UAHG,CAGS0B,YAHT,cAGSA,YAHT,CAGuBC,SAHvB,cAGuBA,SAHvB,CAKHuH,QALG,CAKQ,GAAIP,CAAAA,QAAJ,EALR,CAOTO,QAAQ,CAACN,MAAT,CAAgB,SAAhB,CAA2B5I,UAAU,CAACE,OAAtC,EACAgJ,QAAQ,CAACN,MAAT,CACE,UADF,CAEE3K,UAAU,CAAC+B,UAAU,CAACG,QAAZ,CAAV,CAAkC,WAFpC,EAIA+I,QAAQ,CAACN,MAAT,CACE,UADF,CAEE5I,UAAU,CAACK,UAAX,CACIsB,SAAS,CAACwE,IAAV,CACE,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAAC7B,KAAP,GAAiB4E,QAAQ,CAACnJ,UAAU,CAACK,UAAZ,CAA7B,EADR,EAEE2E,IAHN,CAII,EANN,EASA,GAAI1E,UAAJ,CAAgB,CACd4I,QAAQ,CAACN,MAAT,CAAgB,YAAhB,CAA8B,QAA9B,EACD,CAFD,IAEO,CACLM,QAAQ,CAACN,MAAT,CACE,YADF,CAEE5I,UAAU,CAACM,UAAX,CACIoB,YAAY,CAACyE,IAAb,CACE,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAAC7B,KAAP,GAAiB4E,QAAQ,CAACnJ,UAAU,CAACM,UAAZ,CAA7B,EADR,EAEEM,KAHN,CAII,EANN,EAQD,CAED;AAEA;AACAsI,QAAQ,CAACN,MAAT,CAAgB,UAAhB,CAA4B,MAAKxF,KAAL,CAAW4C,WAAX,CAAuBa,SAAnD,EACAqC,QAAQ,CAACN,MAAT,CAAgB,WAAhB,CAA6B5I,UAAU,CAACQ,SAAxC,EAEA0I,QAAQ,CAACN,MAAT,CACE,YADF,CAEE5I,UAAU,CAACK,UAAX,CACIsB,SAAS,CAACwE,IAAV,CACE,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAAC7B,KAAP,GAAiB4E,QAAQ,CAACnJ,UAAU,CAACK,UAAZ,CAA7B,EADR,EAEEO,KAHN,CAII,EANN,EASAsI,QAAQ,CAACN,MAAT,CAAgB,YAAhB,CAA8B5I,UAAU,CAACS,UAAzC,EACAyI,QAAQ,CAACN,MAAT,CAAgB,cAAhB,CAAgC5I,UAAU,CAACU,YAA3C,EAEAwC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB+F,QAAxB,EApDS,IAqDL,MAAK9F,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EArDnB,2BAsDPjB,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0C,MAAKC,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EAAlE,EAvDO,wBAwDa,OAAKf,KAAL,CAAW/E,eAAX,yBACD,MAAK+E,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EADvB,MAElB+E,QAFkB,CAxDb,SAwDHZ,OAxDG,gBA6DPpF,OAAO,CAACC,GAAR,CAAYmF,OAAZ,EACA;AACA,MAAKD,uBAAL,CAA6BC,OAA7B,EACA;AACA;AACA;AACA;AAEA/I,OAAO,CAACuF,IAAR,qBArEO,gCAuEP5B,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0C,MAAKC,KAA/C,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9EO,wBAgFa,OAAKA,KAAL,CAAWhF,eAAX,kBAElB8K,QAFkB,CAhFb,SAgFHZ,OAhFG,gBAqFPpF,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCmF,OAAnC,EACApF,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BmF,OAAO,CAACzE,IAAR,CAAaM,EAA5C,EAEA;AACA,MAAKkE,uBAAL,CAA6BC,OAA7B,EACA/I,OAAO,CAACuF,IAAR,qBA1FO,wCA6FT,MAAKlC,SAAL,CAAewG,YAAf,GA7FS,6FAiGX,MAAKxF,WAAL,CAAiB,CAAE1B,UAAU,CAAE,KAAd,CAAjB,EAjGW,uEA9iBjB,uEAmpBE0D,UAnpBF,CAmpBe,UAAM,CACjB,MAAKhC,WAAL,CAAiB,CAAEyF,SAAS,CAAE,IAAb,CAAjB,EACA,iBACE,MAAKtJ,KADP,CAAMsC,WAAN,cAAMA,WAAN,CAAmBG,QAAnB,cAAmBA,QAAnB,CAA6B8G,IAA7B,cAA6BA,IAA7B,CAAmCC,KAAnC,cAAmCA,KAAnC,CAA0C7G,MAA1C,cAA0CA,MAA1C,CAAkD5B,gBAAlD,cAAkDA,gBAAlD,CAEA;AACA;AACA;AACAoC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCrC,gBAAhC,EAEA,MAAKsC,KAAL,CACGjF,YADH,sCAGM2C,gBAAgB,CAACO,YAAjB,EAAiC,KAAjC,CAAyC,IAAzC,CAAgD,KAHtD,uBAKMP,gBAAgB,CAACO,YAAjB,EAAiC,KAAjC,CAAyC,EAAzC,CAA8C,KALpD,4BAMuBP,gBAAgB,CAACI,IANxC,4BAOMJ,gBAAgB,CAACC,IAPvB,6BAQwBD,gBAAgB,CAACG,KARzC,6BASMH,gBAAgB,CAACK,KATvB,4BAWM,MAAKiC,KAAL,CAAW4C,WAAX,CAAuBa,SAX7B,kBAYayC,IAZb,mBAY2BC,KAZ3B,GAcG3E,IAdH,CAcQ,SAAAC,GAAG,CAAI,CACX3B,OAAO,CAACC,GAAR,CAAY0B,GAAZ,CAAiB,WAAjB,EACA,MAAKf,QAAL,CAAc,CAAEzB,WAAW,CAAE,EAAf,CAAd,EACAA,WAAW,CAAGwC,GAAG,CAAChB,IAAJ,CAASiD,QAAvB,CACA;AACAtE,QAAQ,CAAGqC,GAAG,CAAChB,IAAJ,CAAS2F,UAApB,CACA;AACA;AACA;AAEAtG,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB0B,GAAG,CAAChB,IAA5B,EACAX,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2Bd,WAA3B,EACAa,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBX,QAAxB,EACA,MAAKoB,WAAL,CAAiB,CACfvB,WAAW,CAAXA,WADe,CAEfG,QAAQ,CAARA,QAFe,CAGf6G,SAAS,CAAE,KAHI,CAAjB,EAKD,CAhCH,EAiCD,CA7rBH,OA+rBEI,gBA/rBF,2FA+rBqB,kBAAMC,MAAN,+HACXJ,IADW,CACF,MAAKvJ,KADH,CACXuJ,IADW,CAEjBA,IAAI,CAAGI,MAAM,CAACJ,IAAd,CAFiB,uBAGX,OAAKxF,QAAL,CAAc,CAClBwF,IAAI,CAAJA,IADkB,CAAd,CAHW,QAMjB,MAAK1D,UAAL,GANiB,wDA/rBrB,uEAwsBE+D,YAxsBF,CAwsBiB,SAAAC,KAAK,CAAI,CACtB;AACA1G,OAAO,CAACC,GAAR,CAAYyG,KAAK,CAACtF,MAAN,CAAaC,KAAzB,EACA,GAAM7B,CAAAA,MAAN,CAAiB,MAAK3C,KAAtB,CAAM2C,MAAN,CACAA,MAAM,CAAGkH,KAAK,CAACtF,MAAN,CAAaC,KAAtB,CACA,MAAKT,QAAL,CAAc,CAAEpB,MAAM,CAANA,MAAF,CAAd,EACA,GAAI,CAAC,MAAKmH,WAAV,CAAuB,CACrB,MAAKA,WAAL,CAAmB1K,CAAC,CAAC2K,QAAF,sEAAW,wIAC5B,MAAKlE,UAAL,CAAgB,EAAhB,EAD4B,wDAAX,GAEhB,GAFgB,CAAnB,CAGD,CACD,MAAKiE,WAAL,GACD,CAptBH,OAstBEE,oBAttBF,CAstByB,eAAiC,wBAA9BzF,MAA8B,CAApBC,KAAoB,cAApBA,KAAoB,CAAbC,IAAa,cAAbA,IAAa,CACtD,iBAA2B,MAAKzE,KAAhC,CAAMsC,WAAN,cAAMA,WAAN,CAAmBf,GAAnB,cAAmBA,GAAnB,CACA4B,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBoB,KAArB,EACArB,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBqB,IAApB,EAEA,IAAK,GAAIwF,CAAAA,IAAT,GAAiB3H,CAAAA,WAAjB,CAA8B,CAC5B,GACEA,WAAW,CAAC2H,IAAD,CAAX,CAAkB/C,SAAlB,EAA+BzC,IAA/B,EACAnC,WAAW,CAAC2H,IAAD,CAAX,CAAkBzC,QAAlB,EAA8BjG,GAFhC,CAGE,CACAe,WAAW,CAAC2H,IAAD,CAAX,CAAkBnC,aAAlB,CAAkCtD,KAAlC,CACD,CACDrB,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2Cd,WAAW,CAAC2H,IAAD,CAAX,CAAkB/C,SAA7D,EACD,CAED,MAAKnD,QAAL,CAAc,CACZzB,WAAW,CAAXA,WADY,CAAd,EAGAa,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2Cd,WAA3C,EACA;AACA;AACD,CA3uBH,OA6uBE4H,YA7uBF,CA6uBiB,SACbhD,SADa,CAEbD,SAFa,CAGbO,QAHa,CAIbE,QAJa,CAKbE,GALa,CAMbE,aANa,CAOV,CACH,kBAAkD,MAAK9H,KAAvD,CAAMuC,cAAN,eAAMA,cAAN,CAAsBD,WAAtB,eAAsBA,WAAtB,CAAmCrC,UAAnC,eAAmCA,UAAnC,CACA;AACA;AACA;AAJG,2CAMcsC,cANd,cAMH,qDAAiC,IAAxBpB,CAAAA,IAAwB,eAC/B,GAAIA,IAAI,CAAC+F,SAAL,EAAkBA,SAAlB,EAA+B/F,IAAI,CAACqG,QAAL,EAAiBA,QAApD,CAA8D,CAC5D/H,KAAK,CAAC,CACJ0K,IAAI,CAAE,OADF,CAEJnH,OAAO,CAAE,0BAFL,CAAD,CAAL,CAIA,OACD,CACF,CAdE,yDAgBH,GAAI,CAAC8E,aAAL,CAAoB,CAClBrI,KAAK,CAAC,CACJ0K,IAAI,CAAE,OADF,CAEJnH,OAAO,CAAE,uBAFL,CAAD,CAAL,CAIA,OACD,CAEDT,cAAc,CAACwC,IAAf,CAAoB,CAClBmC,SAAS,CAAEA,SADO,CAElBD,SAAS,CAAEA,SAFO,CAGlBO,QAAQ,CAAEA,QAHQ,CAIlBE,QAAQ,CAAEA,QAJQ,CAKlBE,GAAG,CAAEA,GALa,CAMlBE,aAAa,CAAEA,aANG,CAOlBC,QAAQ,CAAED,aAAa,CAAGF,GAPR,CAQlBK,YAAY,CAAE,EARI,CASlBE,OAAO,CAAE,KATS,CAApB,EAYAhF,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8Bb,cAA9B,EACA,MAAKwB,QAAL,CAAc,CAAExB,cAAc,CAAdA,cAAF,CAAd,EACA,MAAKqB,iBAAL,GACA;AACD,CA5xBH,OA8xBEwG,sBA9xBF,CA8xB2B,SAAClD,SAAD,CAAYM,QAAZ,CAAyB,CAChD,kBAAqC,MAAKxH,KAA1C,CAAMuC,cAAN,eAAMA,cAAN,CAAsBtC,UAAtB,eAAsBA,UAAtB,CACA,IAAK,GAAImF,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG7C,cAAc,CAAC8C,MAAnC,CAA2CD,CAAC,EAA5C,CAAgD,CAC9C,GACE7C,cAAc,CAAC6C,CAAD,CAAd,CAAkB8B,SAAlB,EAA+BA,SAA/B,EACA3E,cAAc,CAAC6C,CAAD,CAAd,CAAkBoC,QAAlB,EAA8BA,QAFhC,CAGE,CACAjF,cAAc,CAAC+C,MAAf,CAAsBF,CAAtB,CAAyB,CAAzB,EACD,CACF,CACDjC,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2Cb,cAA3C,EACA,MAAKwB,QAAL,CAAc,CAAExB,cAAc,CAAdA,cAAF,CAAd,EACA;AACA,MAAKqB,iBAAL,GACD,CA5yBH,OA8yBEyG,UA9yBF,CA8yBe,SAACnD,SAAD,CAAYM,QAAZ,CAAyB,CACpC,GAAMjF,CAAAA,cAAN,CAAyB,MAAKvC,KAA9B,CAAMuC,cAAN,CACA,IAAK,GAAI0H,CAAAA,IAAT,GAAiB1H,CAAAA,cAAjB,CAAiC,CAC/B,GACEA,cAAc,CAAC0H,IAAD,CAAd,CAAqB/C,SAArB,EAAkCA,SAAlC,EACA3E,cAAc,CAAC0H,IAAD,CAAd,CAAqBzC,QAArB,EAAiCA,QAFnC,CAGE,CACAjF,cAAc,CAAC0H,IAAD,CAAd,CAAqB9B,OAArB,CAA+B,IAA/B,CACD,CACF,CACDhF,OAAO,CAACC,GAAR,CAAY,8BAAZ,CAA4Cb,cAA5C,EAEA,MAAKwB,QAAL,CAAc,CAAExB,cAAc,CAAdA,cAAF,CAAd,EACD,CA3zBH,OA6zBE+H,UA7zBF,CA6zBe,SAACpD,SAAD,CAAYM,QAAZ,CAAyB,CACpC,kBAAqC,MAAKxH,KAA1C,CAAMuC,cAAN,eAAMA,cAAN,CAAsBtC,UAAtB,eAAsBA,UAAtB,CACA,IAAK,GAAIgK,CAAAA,IAAT,GAAiB1H,CAAAA,cAAjB,CAAiC,CAC/B,GACEA,cAAc,CAAC0H,IAAD,CAAd,CAAqB/C,SAArB,EAAkCA,SAAlC,EACA3E,cAAc,CAAC0H,IAAD,CAAd,CAAqBzC,QAArB,EAAiCA,QAFnC,CAGE,CACAjF,cAAc,CAAC0H,IAAD,CAAd,CAAqB9B,OAArB,CAA+B,KAA/B,CACD,CACF,CACDhF,OAAO,CAACC,GAAR,CAAY,8BAAZ,CAA4Cb,cAA5C,EAEA,MAAKwB,QAAL,CAAc,CAAExB,cAAc,CAAdA,cAAF,CAAd,EACA;AACA,MAAKqB,iBAAL,GACD,CA50BH,OA80BE2G,uBA90BF,CA80B4B,eAAiC,wBAA9BhG,MAA8B,CAApBC,KAAoB,cAApBA,KAAoB,CAAbC,IAAa,cAAbA,IAAa,CACzD,kBAA8B,MAAKzE,KAAnC,CAAMuC,cAAN,eAAMA,cAAN,CAAsBhB,GAAtB,eAAsBA,GAAtB,CAEA,IAAK,GAAI0I,CAAAA,IAAT,GAAiB1H,CAAAA,cAAjB,CAAiC,CAC/B,GACEA,cAAc,CAAC0H,IAAD,CAAd,CAAqB/C,SAArB,EAAkCzC,IAAlC,EACAlC,cAAc,CAAC0H,IAAD,CAAd,CAAqBzC,QAArB,EAAiCjG,GAFnC,CAGE,CACAgB,cAAc,CAAC0H,IAAD,CAAd,CAAqBhC,YAArB,CAAoCzD,KAApC,CACD,CACD;AACD,CAED,MAAKT,QAAL,CAAc,CACZxB,cAAc,CAAdA,cADY,CAAd,EAIAY,OAAO,CAACC,GAAR,CAAY,oCAAZ,CAAkDb,cAAlD,EACD,CAh2BH,OAk2BEiI,qBAl2BF,CAk2B0B,gBAAiC,0BAA9BjG,MAA8B,CAApBC,KAAoB,eAApBA,KAAoB,CAAbC,IAAa,eAAbA,IAAa,CACvD,kBAA8B,MAAKzE,KAAnC,CAAMuC,cAAN,eAAMA,cAAN,CAAsBhB,GAAtB,eAAsBA,GAAtB,CAEA,IAAK,GAAI0I,CAAAA,IAAT,GAAiB1H,CAAAA,cAAjB,CAAiC,CAC/B,GACEA,cAAc,CAAC0H,IAAD,CAAd,CAAqB/C,SAArB,EAAkCzC,IAAlC,EACAlC,cAAc,CAAC0H,IAAD,CAAd,CAAqBzC,QAArB,EAAiCjG,GAFnC,CAGE,CACAgB,cAAc,CAAC0H,IAAD,CAAd,CAAqBQ,SAArB,CAAiCjG,KAAjC,CACAjC,cAAc,CAAC0H,IAAD,CAAd,CAAqBS,MAArB,CACEC,IAAI,CAACC,KAAL,CAAWrI,cAAc,CAAC0H,IAAD,CAAd,CAAqBnC,aAArB,CAAqCtD,KAArC,CAA6C,GAAxD,EAA+D,GADjE,CAED,CACD;AACD,CAED,MAAKT,QAAL,CAAc,CACZxB,cAAc,CAAdA,cADY,CAAd,EAGAY,OAAO,CAACC,GAAR,CAAY,oCAAZ,CAAkDb,cAAlD,EACD,CAr3BH,OAu3BEsI,wBAv3BF,CAu3B6B,gBAAiC,0BAA9BtG,MAA8B,CAApBC,KAAoB,eAApBA,KAAoB,CAAbC,IAAa,eAAbA,IAAa,CAC1D,kBAA8B,MAAKzE,KAAnC,CAAMuC,cAAN,eAAMA,cAAN,CAAsBhB,GAAtB,eAAsBA,GAAtB,CAEA,IAAK,GAAI0I,CAAAA,IAAT,GAAiB1H,CAAAA,cAAjB,CAAiC,CAC/B,GACEA,cAAc,CAAC0H,IAAD,CAAd,CAAqB/C,SAArB,EAAkCzC,IAAlC,EACAlC,cAAc,CAAC0H,IAAD,CAAd,CAAqBzC,QAArB,EAAiCjG,GAFnC,CAGE,CACAgB,cAAc,CAAC0H,IAAD,CAAd,CAAqBnC,aAArB,CAAqCtD,KAArC,CACAjC,cAAc,CAAC0H,IAAD,CAAd,CAAqBlC,QAArB,CAAgCvD,KAAK,CAAGjC,cAAc,CAAC0H,IAAD,CAAd,CAAqBrC,GAA7D,CACD,CACD;AACD,CAED,MAAK7D,QAAL,CAAc,CACZxB,cAAc,CAAdA,cADY,CAAd,EAGAY,OAAO,CAACC,GAAR,CAAY,oCAAZ,CAAkDb,cAAlD,EACD,CAz4BH,OA24BEqB,iBA34BF,CA24BsB,UAAM,CACxB,kBAAqC,MAAK5D,KAA1C,CAAMuC,cAAN,eAAMA,cAAN,CAAsBtC,UAAtB,eAAsBA,UAAtB,CAEAA,UAAU,CAACS,UAAX,CAAwB,CAAxB,CACAT,UAAU,CAACU,YAAX,CAA0B,CAA1B,CAJwB,2CAMP4B,cANO,cAMxB,qDAAiC,IAAxBpB,CAAAA,IAAwB,eAC/BlB,UAAU,CAACS,UAAX,CAAwB0I,QAAQ,CAACjI,IAAI,CAACyG,GAAN,CAAR,CAAqB3H,UAAU,CAACS,UAAxD,CACAT,UAAU,CAACU,YAAX,CACEyI,QAAQ,CAAC,CAACjI,IAAI,CAAC2G,aAAN,CAAsB,CAAtB,CAA0B3G,IAAI,CAAC2G,aAAhC,CAAR,CACA7H,UAAU,CAACU,YAFb,CAGD,CAXuB,yDAYxBwC,OAAO,CAACC,GAAR,CAAY,gCAAZ,CAA8Cb,cAA9C,EACA;AACA;AACA,MAAKwB,QAAL,CAAc,CAAE9D,UAAU,CAAVA,UAAF,CAAd,EACD,CA35BH,OA65BE6K,MA75BF,CA65BW,SAAAtD,QAAQ,CAAI,CACnB,GAAMjG,CAAAA,GAAN,CAAc,MAAKvB,KAAnB,CAAMuB,GAAN,CACAA,GAAG,CAAGiG,QAAN,CACArE,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B7B,GAA7B,EACA,MAAKwC,QAAL,CAAc,CAAExC,GAAG,CAAHA,GAAF,CAAd,EACD,CAl6BH,OAo6BEwJ,uBAp6BF,CAo6B4B,UAAM,CAC9B,GAAMhK,CAAAA,gBAAN,CAA2B,MAAKf,KAAhC,CAAMe,gBAAN,CACAA,gBAAgB,CAACM,OAAjB,CAA2B,CAACN,gBAAgB,CAACM,OAA7C,CACA,MAAK0C,QAAL,CAAchD,gBAAd,EACAoC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCrC,gBAAgB,CAACM,OAAzD,EACD,CAz6BH,OA26BE2J,4BA36BF,CA26BiC,UAAM,CACnC,GAAMjK,CAAAA,gBAAN,CAA2B,MAAKf,KAAhC,CAAMe,gBAAN,CACAA,gBAAgB,CAACO,YAAjB,CAAgC,CAACP,gBAAgB,CAACO,YAAlD,CACA,MAAKyC,QAAL,CAAchD,gBAAd,EACAoC,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAA6CrC,gBAAgB,CAACO,YAA9D,EACD,CAh7BH,OAk7BE2J,sBAl7BF,CAk7B2B,SAAAC,CAAC,CAAI,CAC5B,GAAMnK,CAAAA,gBAAN,CAA2B,MAAKf,KAAhC,CAAMe,gBAAN,CACAoC,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiB8H,CAAjB,EAEA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAJ4B,2CAMZD,CANY,cAM5B,qDAAmB,IAAVjH,CAAAA,GAAU,eACjBkH,OAAO,CAACpG,IAAR,CAAad,GAAG,CAACpD,KAAjB,EACD,CAR2B,yDAS5BE,gBAAgB,CAACG,KAAjB,CAAyBiK,OAAO,CAACC,QAAR,EAAzB,CACAjI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuB+H,OAAvB,EACAhI,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCrC,gBAAgB,CAACG,KAAvD,EACA,MAAK6C,QAAL,CAAc,CACZhD,gBAAgB,CAAhBA,gBADY,CAAd,EAGD,CAj8BH,OAm8BEsK,qBAn8BF,CAm8B0B,SAAAH,CAAC,CAAI,CAC3B,GAAMnK,CAAAA,gBAAN,CAA2B,MAAKf,KAAhC,CAAMe,gBAAN,CACAoC,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiB8H,CAAjB,EAEA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAJ2B,2CAMXD,CANW,cAM3B,qDAAmB,IAAVjH,CAAAA,GAAU,eACjBkH,OAAO,CAACpG,IAAR,CAAad,GAAG,CAACpD,KAAjB,EACD,CAR0B,yDAS3BE,gBAAgB,CAACC,IAAjB,CAAwBmK,OAAO,CAACC,QAAR,EAAxB,CACAjI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuB+H,OAAvB,EACAhI,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCrC,gBAAgB,CAACC,IAAtD,EACA,MAAK+C,QAAL,CAAc,CACZhD,gBAAgB,CAAhBA,gBADY,CAAd,EAGD,CAl9BH,OAo9BEuK,sBAp9BF,CAo9B2B,SAAAJ,CAAC,CAAI,CAC5B,GAAMnK,CAAAA,gBAAN,CAA2B,MAAKf,KAAhC,CAAMe,gBAAN,CACAoC,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiB8H,CAAjB,EAEA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAJ4B,2CAMZD,CANY,cAM5B,qDAAmB,IAAVjH,CAAAA,GAAU,eACjBkH,OAAO,CAACpG,IAAR,CAAad,GAAG,CAACpD,KAAjB,EACD,CAR2B,yDAS5BE,gBAAgB,CAACK,KAAjB,CAAyB+J,OAAO,CAACC,QAAR,EAAzB,CACAjI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuB+H,OAAvB,EACAhI,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCrC,gBAAgB,CAACK,KAAvD,EACA,MAAK2C,QAAL,CAAc,CACZhD,gBAAgB,CAAhBA,gBADY,CAAd,EAGD,CAn+BH,OAq+BEwK,qBAr+BF,CAq+B0B,SAAAL,CAAC,CAAI,CAC3B,GAAMnK,CAAAA,gBAAN,CAA2B,MAAKf,KAAhC,CAAMe,gBAAN,CACAoC,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiB8H,CAAjB,EAEA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAJ2B,2CAMXD,CANW,cAM3B,qDAAmB,IAAVjH,CAAAA,GAAU,eACjBkH,OAAO,CAACpG,IAAR,CAAad,GAAG,CAACpD,KAAjB,EACD,CAR0B,yDAS3BE,gBAAgB,CAACI,IAAjB,CAAwBgK,OAAO,CAACC,QAAR,EAAxB,CACAjI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuB+H,OAAvB,EACAhI,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCrC,gBAAgB,CAACI,IAAtD,EACA,MAAK4C,QAAL,CAAc,CACZhD,gBAAgB,CAAhBA,gBADY,CAAd,EAGD,CAp/BH,OAs/BEyK,oBAt/BF,CAs/ByB,SAAAC,GAAG,CAAI,CAC5B,MAAK1H,QAAL,CAAc,CACZtC,eAAe,CAAE,KADL,CAAd,EAGA,GAAIiK,CAAAA,CAAC,CAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAR,CACAF,CAAC,CAACG,YAAF,CAAe,UAAf,WAA8B,GAAIxL,CAAAA,IAAJ,EAA9B,UACAqL,CAAC,CAACG,YAAF,CAAe,MAAf,CAAuBJ,GAAvB,EACAC,CAAC,CAACI,KAAF,GACAC,MAAM,CAACC,IAAP,CAAYP,GAAZ,EACD,CA//BH,OAigCEQ,aAjgCF,CAigCkB,UAAM,CACpB,kBAOI,MAAKjM,KAPT,CACE0B,QADF,eACEA,QADF,CAEEyE,SAFF,eAEEA,SAFF,CAGEvE,SAHF,eAGEA,SAHF,CAIEJ,UAJF,eAIEA,UAJF,CAKEvB,UALF,eAKEA,UALF,CAMEwB,eANF,eAMEA,eANF,CASA,GAAIyK,CAAAA,IAAI,CAAG,EAAX,CAVoB,2CAYHxK,QAZG,cAYpB,qDAA2B,IAAlBT,CAAAA,IAAkB,eACzB,GAAIA,IAAI,CAAC0F,aAAL,EAAsB,MAAKtD,KAAL,CAAW4C,WAAX,CAAuBa,SAAjD,CAA4D,CAC1DoF,IAAI,CAAGjL,IAAI,CAACkL,gBAAZ,CACD,CACF,CAhBmB,yDAkBpB3K,UAAU,CAAG,CACXtB,MAAM,CAAED,UAAU,CAACC,MADR,CAEX;AACAI,UAAU,CACRL,UAAU,CAACK,UAAX,EAAyBsB,SAAzB,CACIA,SAAS,CAACwE,IAAV,CAAe,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAAC7B,KAAP,GAAiBvE,UAAU,CAACK,UAAhC,EAArB,EACGO,KAFP,CAGI,EAPK,CAQXT,QAAQ,CAAEH,UAAU,CAACG,QARV,CASXD,OAAO,CAAEF,UAAU,CAACE,OATT,CAWXM,SAAS,CAAER,UAAU,CAACQ,SAXX,CAYX2L,SAAS,CAAE,MAAK/I,KAAL,CAAW4C,WAAX,CAAuBoG,MAZvB,CAaXC,SAAS,CAAE,MAAKjJ,KAAL,CAAW4C,WAAX,CAAuBK,QAbvB,CAcXiG,QAAQ,CAAEtM,UAAU,CAACS,UAdV,CAeX8L,eAAe,CAAEvM,UAAU,CAACU,YAfjB,CAgBXuL,IAAI,CAAEA,IAhBK,CAAb,CAkBA/I,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2C5B,UAA3C,EAEAC,eAAe,CAAG,IAAlB,CACA,MAAKsC,QAAL,CAAc,CAAEvC,UAAU,CAAVA,UAAF,CAAcC,eAAe,CAAfA,eAAd,CAAd,EACD,CAziCH,iFAyJE;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,+BAAuB,CACrB,KAAKzB,KAAL,CAAWoC,SAAX,CAAuB,KAAvB,CACD,CAnKH,sBA2iCE,iBAAS,iBACP,kBAoBI,KAAKpC,KApBT,CACEC,UADF,eACEA,UADF,CAEEc,gBAFF,eAEEA,gBAFF,CAGEY,YAHF,eAGEA,YAHF,CAIEf,aAJF,eAIEA,aAJF,CAKEE,qBALF,eAKEA,qBALF,CAMEoB,WANF,eAMEA,WANF,CAOEO,QAPF,eAOEA,QAPF,CAQEb,SARF,eAQEA,SARF,CASEC,WATF,eASEA,WATF,CAUEC,UAVF,eAUEA,UAVF,CAWEC,WAXF,eAWEA,WAXF,CAYEC,UAZF,eAYEA,UAZF,CAaEC,UAbF,eAaEA,UAbF,CAcEK,WAdF,eAcEA,WAdF,CAeEC,cAfF,eAeEA,cAfF,CAgBE+G,SAhBF,eAgBEA,SAhBF,CAiBE7H,eAjBF,eAiBEA,eAjBF,CAkBED,UAlBF,eAkBEA,UAlBF,CAmBEa,IAnBF,eAmBEA,IAnBF,CAsBA,GACEnC,CAAAA,MADF,CAUID,UAVJ,CACEC,MADF,CAEEC,OAFF,CAUIF,UAVJ,CAEEE,OAFF,CAGEC,QAHF,CAUIH,UAVJ,CAGEG,QAHF,CAIEE,UAJF,CAUIL,UAVJ,CAIEK,UAJF,CAKEC,UALF,CAUIN,UAVJ,CAKEM,UALF,CAMEC,QANF,CAUIP,UAVJ,CAMEO,QANF,CAOEC,SAPF,CAUIR,UAVJ,CAOEQ,SAPF,CAQEC,UARF,CAUIT,UAVJ,CAQES,UARF,CASEC,YATF,CAUIV,UAVJ,CASEU,YATF,CAYA,GAAMU,CAAAA,OAAN,CAAgCN,gBAAhC,CAAMM,OAAN,CAAeC,YAAf,CAAgCP,gBAAhC,CAAeO,YAAf,CAEA,GAAMmL,CAAAA,CAAN,CAAY,KAAKpJ,KAAjB,CAAMoJ,CAAN,CACA,mBACE,2BAAK,SAAS,CAAC,wBAAf,eACE,2BAAK,SAAS,CAAC,gBAAf,eACE,yBACE,SAAS,CAAC,yBADZ,CAEE,OAAO,CAAE,yBAAMjN,CAAAA,OAAO,CAACuF,IAAR,oBAAN,EAFX,EAIG0H,CAAC,CAAC,YAAD,CAJJ,CADF,cAOE,yBAAG,SAAS,CAAC,oBAAb,EAPF,cAQE,yBAAG,SAAS,CAAC,cAAb,EACGA,CAAC,WAAI,KAAKpJ,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EAAxB,CAA6B,MAA7B,CAAsC,KAA1C,gBADJ,CARF,CADF,cAaE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,6BAAO,SAAS,CAAC,mDAAjB,EACGqI,CAAC,CAAC,QAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,WAAD,EACE,QAAQ,CAAE,IADZ,CAEE,WAAW,CAAC,gBAFd,CAGE,KAAK,CAAEvM,MAHT,CAIE,IAAI,CAAC,QAJP,CAKE,QAAQ,CAAE,KAAKoE,YALjB,EADF,CAJF,cAqBE,6BAAO,SAAS,CAAC,mDAAjB,EACGmI,CAAC,CAAC,KAAD,CADJ,CArBF,cAwBE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,WAAD,EACE,WAAW,CAAC,YADd,CAEE,QAAQ,CAAEvK,WAFZ,CAGE,KAAK,CAAE/B,OAHT,CAIE,IAAI,CAAC,SAJP,CAKE,QAAQ,CAAE,KAAKmE,YALjB,EADF,CAxBF,CADF,cA2CE,2BAAK,SAAS,CAAC,iBAAf,eACE,6BAAO,SAAS,CAAC,mDAAjB,EACGmI,CAAC,CAAC,UAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,cAAD,EACE,QAAQ,CAAE,KAAK7H,cADjB,CAEE,QAAQ,CAAC,YAFX,CAGE,KAAK,CAAExE,QAAQ,CAAG,GAAIC,CAAAA,IAAJ,CAASD,QAAT,CAAH,CAAwB,GAAIC,CAAAA,IAAJ,EAHzC,CAIE,IAAI,CAAC,UACL;AALF,CAME,gBAAgB,CAAE,IANpB,CAOE,UAAU,CAAC,YACX;AARF,CASE,2BAA2B,KAT7B,EADF,CAJF,cAiBE,+BACG,KAAKwC,SAAL,CAAeG,OAAf,CACCyJ,CAAC,CAAC,UAAD,CADF,CAECrM,QAFD,CAGCqM,CAAC,CAAC,UAAD,CAHF,CADH,CAjBF,cAyBE,6BAAO,SAAS,CAAC,mDAAjB,EACGA,CAAC,CAAC,YAAD,CADJ,CAzBF,cA4BE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,YAAD,EACE,OAAO,CAAE7K,SADX,CAEE,QAAQ,CAAEM,WAFZ,CAGE,KAAK,CAAE5B,UAHT,CAIE,IAAI,CAAC,YAJP,CAKE,QAAQ,CAAE,KAAKgE,YALjB,EADF,CA5BF,cAqCE,+BACG,KAAKzB,SAAL,CAAeG,OAAf,CACCyJ,CAAC,CAAC,YAAD,CADF,CAECnM,UAFD,CAGCmM,CAAC,CAAC,UAAD,CAHF,CADH,CArCF,CA3CF,cAyFE,2BAAK,SAAS,CAAC,iBAAf,eACE,6BAAO,SAAS,CAAC,mDAAjB,EACGA,CAAC,CAAC,QAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,YAAD,EACE,OAAO,CAAE9K,YADX,CAEE,QAAQ,CAAEO,WAFZ,CAGE,KAAK,CAAE3B,UAHT,CAIE,IAAI,CAAC,YAJP,CAKE,QAAQ,CAAE,KAAK+D,YALjB,EADF,CAJF,cAaE,+BACG,KAAKzB,SAAL,CAAeG,OAAf,CACCyJ,CAAC,CAAC,QAAD,CADF,CAEClM,UAFD,CAGCkM,CAAC,CAAC,UAAD,CAHF,CADH,CAbF,cAqBE,6BAAO,SAAS,CAAC,mDAAjB,EACGA,CAAC,CAAC,YAAD,CADJ,CArBF,cAwBE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,YAAD,EACE,OAAO,CAAE,CACP,CAAEjI,KAAK,CAAE,CAAT,CAAY3D,KAAK,CAAE,KAAKwC,KAAL,CAAW4C,WAAX,CAAuBoG,MAA1C,CADO,CADX,CAIE,QAAQ,CAAEnK,WAJZ,CAKE,KAAK,CAAE1B,QALT,CAME,IAAI,CAAC,UANP,CAOE,QAAQ,CAAE,KAAK8D,YAPjB,EADF,CAxBF,cAmCE,+BACG,KAAKzB,SAAL,CAAeG,OAAf,CACCyJ,CAAC,CAAC,YAAD,CADF,CAECjM,QAFD,CAGCiM,CAAC,CAAC,UAAD,CAHF,CADH,CAnCF,CAzFF,CADF,cAuIE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,6BAAO,SAAS,CAAC,mDAAjB,EACGA,CAAC,CAAC,SAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,cAAD,EACE,WAAW,CAAC,YADd,CAEE,QAAQ,CAAEvK,WAFZ,CAGE,KAAK,CAAEzB,SAHT,CAIE,IAAI,CAAC,WAJP,CAKE,QAAQ,CAAE,KAAK6D,YALjB,EADF,CAJF,CADF,CAvIF,cAwJE,2BAAK,SAAS,CAAC,6BAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eAeE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,EACGmI,CAAC,CAAC,MAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,iBAAD,EACE,OAAO,CAAE3K,UACT;AAFF,CAGE,iBAAiB,CAAE,KAAKuJ,qBAH1B,EADF,CAJF,CADF,CADF,cAgBE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,EACGoB,CAAC,CAAC,OAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,iBAAD,EACE,OAAO,CAAE5K,WADX,CAEE,SAAS,CAAE,YACX;AAHF,CAIE,iBAAiB,CAAE,KAAKoJ,sBAJ1B,EADF,CAJF,CADF,CAhBF,cAgCE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,uDAAjB,EACGwB,CAAC,CAAC,OAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,iBAAD,EACE,OAAO,CAAE1K,WACT;AAFF,CAGE,iBAAiB,CAAE,KAAKuJ,sBAH1B,EADF,CAJF,CADF,CAhCF,CAfF,cA+DE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,EACGmB,CAAC,CAAC,MAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,iBAAD,EACE,OAAO,CAAE,CACP,CACEjI,KAAK,CAAE,CADT,CAEE3D,KAAK,CAAE,KAAKwC,KAAL,CAAW4C,WAAX,CAAuBoG,MAFhC,CADO,CAMT;AAPF,CAQE,QAAQ,CAAE,KAAK/H,YARjB,EADF,CAJF,CADF,CADF,cAqBE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,EACGmI,CAAC,CAAC,MAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,iBAAD,EACE,OAAO,CAAExK,UACT;AAFF,CAGE,iBAAiB,CAAE,KAAKsJ,qBAH1B,EADF,CAJF,CADF,CArBF,CA/DF,cAmGE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,EACGkB,CAAC,CAAC,kBAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,cAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,CAAEpL,OAFX,CAGE,IAAI,CAAC,SAHP,CAIE,QAAQ,CAAE,KAAK0J,uBAJjB,EADF,CAJF,CADF,CADF,cAgBE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,EACG0B,CAAC,CAAC,qBAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,cAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,CAAEnL,YAFX,CAGE,IAAI,CAAC,cAHP,CAIE,QAAQ,CAAE,KAAK0J,4BAJjB,EADF,CAJF,CADF,CAhBF,cAgCE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,YAAD,EACE,WAAW,CAAE,MADf,CAEE,MAAM,CAAE,IAFV,CAGE,SAAS,CAAC,SAHZ,CAIE,KAAK,CAAC,uBAJR,CAKE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnF,UAAL,EAAN,EALX,EADF,CAhCF,CAnGF,cA8IE,oBAAC,YAAD,EACE,aAAa,CAAEjF,aADjB,CAEE,YAAY,CAAE,KAAK8I,gBAFrB,CAGE,QAAQ,CAAEjH,QAHZ,EAKG6G,SAAS,cACR,2CACE,0BAAI,OAAO,CAAC,GAAZ,eACE,2BAAK,KAAK,CAAC,uDAAX,eACE,2BAAK,KAAK,CAAC,gBAAX,CAA4B,IAAI,CAAC,QAAjC,eACE,4BAAM,KAAK,CAAC,SAAZ,EAAuBmD,CAAC,CAAC,YAAD,CAAxB,CADF,CADF,CADF,CADF,CADQ,CAUNnK,WAAW,CACbA,WAAW,CAACoK,GAAZ,CAAgB,SAACvL,IAAD,CAAOwL,KAAP,CAAiB,CAC/B,GACEzF,CAAAA,SADF,CAUI/F,IAVJ,CACE+F,SADF,CAEED,SAFF,CAUI9F,IAVJ,CAEE8F,SAFF,CAGE2F,cAHF,CAUIzL,IAVJ,CAGEyL,cAHF,CAIEC,cAJF,CAUI1L,IAVJ,CAIE0L,cAJF,CAKErF,QALF,CAUIrG,IAVJ,CAKEqG,QALF,CAMEE,QANF,CAUIvG,IAVJ,CAMEuG,QANF,CAOEoF,SAPF,CAUI3L,IAVJ,CAOE2L,SAPF,CAQElF,GARF,CAUIzG,IAVJ,CAQEyG,GARF,CASEE,aATF,CAUI3G,IAVJ,CASE2G,aATF,CAWA,mBACE,0BAAI,GAAG,CAAE6E,KAAT,eACE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGzF,SADH,CADF,CADF,cAME,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGD,SADH,CADF,CANF,cAYE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACG2F,cADH,CADF,CAZF,cAiBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,cADH,CADF,CAjBF,cAsBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGrF,QADH,CADF,CAtBF,cA2BE,oBAAC,IAAD,EAAM,MAAM,CAAEnF,IAAI,CAAG,MAAH,CAAY,EAA9B,eACE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGyK,SADH,CADF,CADF,CA3BF,cAkCE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGlF,GADH,CADF,CAlCF,cAwCE,2CAEE,oBAAC,WAAD,EACE,KAAK,CAAEE,aADT,CAEE,QAAQ,CAAE5F,WAFZ,CAGE,IAAI,CAAEgF,SAHR,CAIE,UAAU,CAAE,oBAAA2C,KAAK,CAAI,CACnB,GAAI,CAAC,QAAQkD,IAAR,CAAalD,KAAK,CAAC5F,GAAnB,CAAL,CAA8B,CAC5B4F,KAAK,CAACmD,cAAN,GACD,CACF,CARH,CASE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClC,MAAL,CAAYtD,QAAZ,CAAN,EATX,CAUE,QAAQ,CAAE,MAAI,CAACwC,oBAVjB,EAFF,CAxCF,cAyDE,2CACE,2BAAK,SAAS,CAAC,kDAAf,eACE,oBAAC,YAAD,EACE,WAAW,CAAE,MADf,CAEE,QAAQ,CAAE,MAAI,CAAC3G,KAAL,CAAWnB,WAFvB,CAGE,MAAM,CAAE,IAHV,CAIE,SAAS,CAAC,SAJZ,CAKE,KAAK,CAAC,QALR,CAME,OAAO,CAAE,yBACP,CAAA,MAAI,CAACgI,YAAL,CACEhD,SADF,CAEED,SAFF,CAGE;AACA;AACAO,QALF,CAMEE,QANF,CAOEE,GAPF,CAQEE,aARF,CADO,EANX,EADF,CADF,CAzDF,CADF,CAmFD,CA/FD,CADa,CAiGX,IAhHN,CA9IF,cAiQE,2BAAK,SAAS,CAAC,UAAf,EAjQF,cAkQE,oBAAC,YAAD,EACE,aAAa,CAAEhH,qBACf;AACA;AAHF,EAKGyB,cAAc,CACXA,cAAc,CAACmK,GAAf,CAAmB,SAACvL,IAAD,CAAOwL,KAAP,CAAiB,CAClC,GACEzF,CAAAA,SADF,CASI/F,IATJ,CACE+F,SADF,CAEED,SAFF,CASI9F,IATJ,CAEE8F,SAFF,CAGEO,QAHF,CASIrG,IATJ,CAGEqG,QAHF,CAIEI,GAJF,CASIzG,IATJ,CAIEyG,GAJF,CAKEE,aALF,CASI3G,IATJ,CAKE2G,aALF,CAMEC,QANF,CASI5G,IATJ,CAME4G,QANF,CAOEE,YAPF,CASI9G,IATJ,CAOE8G,YAPF,CAQEE,OARF,CASIhH,IATJ,CAQEgH,OARF,CAUA,MAAOA,CAAAA,OAAO,EAAI,KAAX,cACL,0BAAI,GAAG,CAAEwE,KAAT,eACE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGzF,SADH,CADF,CADF,cAME,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGD,SADH,CADF,CANF,cAYE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGO,QADH,CADF,CAZF,cAkBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGI,GADH,CADF,CAlBF,cAuBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGE,aADH,CADF,CAvBF,cA4BE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGC,QADH,CADF,CA5BF,cAiCE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGE,YADH,CADF,CAjCF,cAsCE,2CACE,2BAAK,SAAS,CAAC,kDAAf,eACE,2BACE,GAAG,CAAE5I,SADP,CAEE,KAAK,CAAC,IAFR,CAGE,MAAM,CAAC,IAHT,CAIE,GAAG,CAAC,EAJN,CAKE,SAAS,CAAC,2BALZ,CAME,OAAO,CACL6C,WAAW,EAAI,KAAf,CACI,iBACE,CAAA,MAAI,CAACmI,UAAL,CAAgBnD,SAAhB,CAA2BM,QAA3B,CADF,EADJ,CAGI,EAVR,EADF,CADF,CAtCF,cAuDE,2CACE,2BAAK,SAAS,CAAC,kDAAf,eACE,2BACE,GAAG,CAAElI,SADP,CAEE,KAAK,CAAC,IAFR,CAGE,MAAM,CAAC,IAHT,CAIE,GAAG,CAAC,EAJN,CAKE,SAAS,CAAC,4BALZ,CAME,OAAO,CACL4C,WAAW,EAAI,KAAf,CACI,iBACE,CAAA,MAAI,CAACkI,sBAAL,CACElD,SADF,CAEEM,QAFF,CADF,EADJ,CAMI,EAbR,EADF,CADF,CAvDF,CADK,cA8EL,0BAAI,GAAG,CAAEmF,KAAT,eACE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGzF,SADH,CADF,CADF,cAME,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGD,SADH,CADF,CANF,cAYE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGO,QADH,CADF,CAZF,cAkBE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACGI,GADH,CADF,CAlBF,cAwCE,2CACE,2BAAK,SAAS,CAAC,kDAAf,eACE,oBAAC,WAAD,EACE,KAAK,CAAEE,aADT,CAEE,QAAQ,CAAE5F,WAFZ,CAGE,IAAI,CAAEgF,SAHR,CAIE,UAAU,CAAE,oBAAA2C,KAAK,CAAI,CACnB,GAAI,CAAC,QAAQkD,IAAR,CAAalD,KAAK,CAAC5F,GAAnB,CAAL,CAA8B,CAC5B4F,KAAK,CAACmD,cAAN,GACD,CACF,CARH,CASE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClC,MAAL,CAAYtD,QAAZ,CAAN,EATX,CAUE,QAAQ,CAAE,MAAI,CAACqD,wBAVjB,EADF,CADF,CAxCF,cAyDE,2CACE,2BAAK,SAAS,CAAC,kDAAf,EACG9C,QADH,CADF,CAzDF,cA+DE,2CACE,2BAAK,SAAS,CAAC,kDAAf,eACE,oBAAC,WAAD,EACE,KAAK,CAAEE,YADT,CAEE,QAAQ,CAAE/F,WAFZ,CAGE,IAAI,CAAEgF,SAHR,CAIE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC4D,MAAL,CAAYtD,QAAZ,CAAN,EAJX,CAKE,QAAQ,CAAE,MAAI,CAAC+C,uBALjB,EADF,CADF,CA/DF,cAuFE,2CACE,2BAAK,SAAS,CAAC,kDAAf,eACE,2BACE,GAAG,CAAEhL,OADP,CAEE,KAAK,CAAC,IAFR,CAGE,MAAM,CAAC,IAHT,CAIE,GAAG,CAAC,EAJN,CAKE,SAAS,CAAC,4BALZ,CAME,OAAO,CACL2C,WAAW,EAAI,KAAf,CACI,iBACE,CAAA,MAAI,CAACoI,UAAL,CAAgBpD,SAAhB,CAA2BM,QAA3B,CADF,EADJ,CAGI,EAVR,EADF,CADF,CAvFF,CA9EF,CAwLD,CAnMD,CADW,CAqMX,IA1MN,CAlQF,cA+cE,2BAAK,SAAS,CAAC,8BAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,8DAAjB,EACGiF,CAAC,CAAC,gBAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,2BAAf,eACE,oBAAC,WAAD,EACE,WAAW,CAAC,YADd,CAEE,QAAQ,CAAE,IAFZ,CAGE,KAAK,CAAE/L,UAHT,CAIE,IAAI,CAAC,YACL;AALF,EADF,CAJF,CADF,cAuBE,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,8DAAjB,EACG+L,CAAC,CAAC,wBAAD,CADJ,CADF,cAIE,2BAAK,SAAS,CAAC,2BAAf,eACE,oBAAC,WAAD,EACE,WAAW,CAAC,YADd,CAEE,QAAQ,CAAE,IAFZ,CAGE,KAAK,CAAE9L,YAHT,CAIE,IAAI,CAAC,cACL;AALF,EADF,CAJF,CAvBF,CADF,CA/cF,CADF,CADF,CAxJF,cA4pBE,2BAAK,SAAS,CAAC,yBAAf,eACE,2BAAK,SAAS,CAAC,sBAAf,eACE,oBAAC,YAAD,EACE,WAAW,CAAE,WADf,CAEE,MAAM,CAAE,IAFV,CAGE,SAAS,CAAC,SAHZ,CAIE,KAAK,CAAC,QAJR,CAKE,OAAO,CAAE,KALX,CAME,OAAO,CAAE,yBAAMnB,CAAAA,OAAO,CAACuF,IAAR,oBAAN,EANX,EADF,CADF,cAYE,2BAAK,SAAS,CAAC,sBAAf,eACE,oBAAC,YAAD,EACE,WAAW,CAAE,MADf,CAEE,QAAQ,CAAE7C,WAFZ,CAGE,MAAM,CAAE,IAHV,CAIE,SAAS,CAAC,SAJZ,CAKE,KAAK,CAAC,MALR,CAME,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC+G,YAAL,EAAN,EANX,EADF,CAZF,cAuBE,2BAAK,SAAS,CAAC,sBAAf,eACE,oBAAC,YAAD,EACE,WAAW,CAAE,WADf,CAEE,QAAQ,CAAE,KAAK5F,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EAAxB,CAA6BlC,WAA7B,CAA2C,IAFvD,CAGE,MAAM,CAAE,IAHV,CAIE,SAAS,CAAC,SAJZ,CAKE,KAAK,CAAC,MALR,CAME,OAAO,CAAE,KANX,CAOE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC+G,YAAL,CAAkB1I,UAAlB,CAAN,EAPX,EADF,CAvBF,cAmCE,2BAAK,SAAS,CAAC,sBAAf,eACE,oBAAC,YAAD,EACE,WAAW,CAAE,WADf,CAEE,QAAQ,CAAE,KAAK8C,KAAL,CAAWkC,KAAX,CAAiBC,MAAjB,CAAwBpB,EAAxB,CAA6B,KAA7B,CAAqC,IAFjD,CAGE,MAAM,CAAE,IAHV,CAIE,SAAS,CAAC,SAJZ,CAKE,KAAK,CAAC,WALR,CAME,OAAO,CAAE,KANX,CAOE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC6H,aAAL,EAAN,EAPX,EADF,CAnCF,CA8CGxK,eAAe,cACd,oBAAC,eAAD,EACE,QAAQ,cACN,oBAAC,GAAD,EACE,UAAU,CAAED,UADd,CAEE,UAAU,CAAEe,cACZ;AAHF,CAIE,SAAS,CAAE,KAJb,EAFJ,EAUG,oBAAG0K,CAAAA,IAAH,QAAGA,IAAH,CAASxB,GAAT,QAASA,GAAT,CAAcyB,OAAd,QAAcA,OAAd,CAAuBC,KAAvB,QAAuBA,KAAvB,OACC,CAACD,OAAD,EAAYzB,GAAZ,CAAkB,MAAI,CAACD,oBAAL,CAA0BC,GAA1B,CAAlB,CAAmD,IADpD,EAVH,CADc,CAeZ,IA7DN,CA5pBF,CADF,CAbF,CADF,CA+uBD,CAh0DH,+BAAuCpO,SAAvC,EAm0DA,GAAM+P,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAApN,KAAK,QAAK,CAChCiG,WAAW,CAAEjG,KAAK,CAACqN,SAAN,CAAgBC,YADG,CAAL,EAA7B,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO/O,CAAAA,kBAAkB,CACvB,CACEL,YAAY,CAAZA,YADF,CAEEC,eAAe,CAAfA,eAFF,CAGEC,eAAe,CAAfA,eAHF,CAIEC,eAAe,CAAfA,eAJF,CAKES,QAAQ,CAARA,QALF,CAMED,QAAQ,CAARA,QANF,CAOEE,QAAQ,CAARA,QAPF,CAQEC,eAAe,CAAfA,eARF,CADuB,CAWvBsO,QAXuB,CAAzB,CAaD,CAdD,CAgBA,MAAO,IAAMC,CAAAA,YAAY,CAAG5O,eAAe,GACzCL,OAAO,CAAC4O,eAAD,CAAkBG,kBAAlB,CAAP,CAA6CxN,iBAA7C,CADyC,CAApC","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n  TableWrapper,\r\n  NormalCheckbox,\r\n  InputSearch,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport updateBtn from \"assets/images/edit1.png\";\r\nimport deleteBtn from \"assets/images/delete1.png\";\r\nimport saveBtn from \"assets/images/save.png\";\r\nimport { history } from \"helpers\";\r\nimport { Toast } from \"service/toast\";\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport PDF from \"../../StocksPDF/StockTake/index\";\r\nimport Blur from \"react-css-blur\";\r\n\r\nexport class AddStockTakeClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      PHY_NO: \"\",\r\n      PHY_REF: \"\",\r\n      PHY_DATE: new Date(),\r\n      STAFF_NAME: \"\",\r\n      PHY_STATUS: \"\",\r\n      STORE_NO: \"\",\r\n      PHY_REMK1: \"\",\r\n      PHY_TTLQTY: \"\",\r\n      PHY_COUNTQTY: \"\",\r\n    },\r\n\r\n    headerDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Brand\" },\r\n      { label: \"Range\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Unit Cost\" },\r\n      { label: \"On Hand Qty\" },\r\n      { label: \"Counted Qty\" },\r\n\r\n      { label: \"\" },\r\n    ],\r\n    headerSelectedDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"UOM\" },\r\n      { label: \"On Hand Qty\" },\r\n      { label: \"Counted Qty\" },\r\n      ,\r\n      { label: \"Variance\" },\r\n      { label: \"Remarks\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n    ],\r\n\r\n    searchFormFields: {\r\n      dept: \"\",\r\n      site: \"\",\r\n      brand: \"\",\r\n      item: \"\",\r\n      range: \"\",\r\n      // date:new Date(),\r\n      QtyItem: false,\r\n      inactiveItem: false,\r\n    },\r\n\r\n    UOM: \"\",\r\n\r\n    listDetail: {},\r\n    isPrintPdfClick: false,\r\n    siteAddr: [],\r\n\r\n    statusOption: [],\r\n    empOption: [],\r\n    brandOption: [],\r\n    deptOption: [],\r\n    rangeOption: [],\r\n    siteOption: [],\r\n    itemOption: [],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n    blur: false,\r\n\r\n    detailsList: [],\r\n\r\n    storedItemList: [],\r\n    itemListBeforeEdit: [],\r\n    pageMeta: {},\r\n\r\n    active: false,\r\n    search: \"\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    // limit: 10,\r\n    limit: 4,\r\n    isOpenvoidCheckout: false,\r\n    isLoading: true,\r\n    // is_loading: false,\r\n    isMounted: true,\r\n    // currentValue: 0,\r\n    // navLinks: [\r\n    //   { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n    //   { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    // ],\r\n    // selectedMenu: \"Details\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.quoId){\r\n    //     this.state.fkQuotation = this.props.location.state.quoId\r\n    //     this.setState({fkQuotation : this.state.fkQuotation})\r\n    //     console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    //     console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    //   }\r\n\r\n    // }\r\n    // this.getStatus();\r\n    // this.getCountry();\r\n    // this.getState();\r\n    // this.getCity();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // if (this.props.location.state){\r\n    //   if(this.props.location.state.projectFk){\r\n    //     this.state.fkProject = this.props.location.state.projectFk\r\n    //     this.setState({fkProject : this.state.fkProject})\r\n    //     console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n    //     console.log(\"this.state.fkProject\",this.state.fkProject)\r\n    //   }\r\n\r\n    // this.state.fkQuotation = this.props.location.state.quoId\r\n    // this.setState({fkQuotation : this.state.fkQuotation})\r\n\r\n    // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n    // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    // }\r\n\r\n    console.log(\"this.props\", this.props);\r\n\r\n    console.log(\"this.state\", this.state);\r\n    // console.log(\"useLocation()\",useLocation())\r\n    this.getStatus();\r\n\r\n    // this.getSup()\r\n\r\n    this.getBrand();\r\n    this.getDept();\r\n    this.getRange();\r\n    this.getSiteCode();\r\n    this.getSiteDetail();\r\n\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  // componentDidUpdate(prevProps) {\r\n  //   // Typical usage (don't forget to compare props):\r\n  //   if (this.props.tokenDetail !== prevProps.tokenDetail) {\r\n  //     // this.fetchData(this.props.siteGstList);\r\n  //     this.getItem()\r\n  //   }\r\n  // }\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.AllDropdown_Item,\r\n          code: key.AllDropdown_Desc,\r\n          active: key.Active,\r\n        });\r\n      }\r\n      for (var i = 0; i < statusOption.length; i++) {\r\n        if (statusOption[i].label == \"Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n        if (statusOption[i].label == \"Not Approved\") {\r\n          statusOption.splice(i, 1);\r\n        }\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Posted\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption }, () => {\r\n        this.getEmp();\r\n      });\r\n    });\r\n  };\r\n\r\n  getEmp = () => {\r\n    let { empOption, blur } = this.state;\r\n    empOption = [];\r\n    this.props.getCommonApi(`employeelist`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        empOption.push({\r\n          value: key.Emp_no,\r\n          label: key.Emp_name,\r\n          code: key.Emp_code,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"empOption\", empOption);\r\n      this.setState({ empOption }, () => {\r\n        this.getDetails();\r\n        this.getItem();\r\n        if (this.props.match.params.id) {\r\n          this.autoFillForm();\r\n        } else {\r\n          this.prefillDefault();\r\n        }\r\n        if (\r\n          this.props.tokenDetail.role_code !== \"1\" &&\r\n          this.props.tokenDetail.role_code !== \"2\"\r\n        ) {\r\n          blur = true;\r\n          this.setState({ blur });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  prefillDefault = () => {\r\n    let { disableEdit, statusOption, empOption, supOption } = this.state;\r\n\r\n    if (empOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"STAFF_NAME\"] = empOption.find(\r\n        option => option.label === this.props.tokenDetail.username\r\n      ).value;\r\n    }\r\n    if (statusOption.length !== 0) {\r\n      //matching status name with the id to set prefill status in dropdown\r\n      this.state.formFields[\"PHY_STATUS\"] = statusOption.find(\r\n        option => option.label === \"Open\"\r\n      ).value;\r\n    }\r\n\r\n    this.state.formFields[\"STORE_NO\"] = 1;\r\n    this.setState(this.state.formFields);\r\n  };\r\n\r\n  getBrand = () => {\r\n    let { brandOption } = this.state;\r\n    brandOption = [];\r\n    this.props.getCommonApi(`itembrand`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        brandOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_status,\r\n        });\r\n      }\r\n      console.log(\"brandOption\", brandOption);\r\n      this.setState({ brandOption });\r\n    });\r\n  };\r\n\r\n  getDept = () => {\r\n    let { deptOption } = this.state;\r\n    deptOption = [];\r\n    this.props.getCommonApi(`itemdeptdropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        deptOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          // active: key.itm_status,\r\n        });\r\n      }\r\n      console.log(\"deptOption\", deptOption);\r\n      this.setState({ deptOption });\r\n    });\r\n  };\r\n\r\n  getRange = () => {\r\n    let { rangeOption } = this.state;\r\n    rangeOption = [];\r\n    this.props.getCommonApi(`itemrange`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        rangeOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_status,\r\n        });\r\n      }\r\n      console.log(\"rangeOption\", rangeOption);\r\n      this.setState({ rangeOption });\r\n    });\r\n  };\r\n\r\n  getSiteCode = () => {\r\n    let { siteOption } = this.state;\r\n    siteOption = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        siteOption.push({\r\n          value: key.ItemSite_Code,\r\n          label: key.ItemSite_Desc,\r\n          id: key.ItemSite_ID,\r\n          // active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"siteOption\", siteOption);\r\n      this.setState({ siteOption });\r\n    });\r\n  };\r\n\r\n  getItem = () => {\r\n    let { itemOption } = this.state;\r\n    itemOption = [];\r\n    console.log(\r\n      \"this.props.tokenDetail.site_code in getitem\",\r\n      this.props.tokenDetail.site_code\r\n    );\r\n    this.props\r\n      .getCommonApi(\r\n        `allstocklist/?limit=2600&searchsitecode=${this.props.tokenDetail.site_code}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data.dataList) {\r\n          itemOption.push({\r\n            value: key.Item_no,\r\n            label: key.Item_Desc,\r\n            code: key.item_code,\r\n            active: key.IsActive,\r\n          });\r\n        }\r\n        console.log(\"itemOption\", itemOption);\r\n        this.setState({ itemOption });\r\n      });\r\n  };\r\n\r\n  getSiteDetail = () => {\r\n    let { siteAddr } = this.state;\r\n    siteAddr = [];\r\n    this.props.getCommonApi(`sitecode`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      siteAddr = res.data;\r\n      console.log(\"siteAddr\", siteAddr);\r\n      this.setState({ siteAddr });\r\n    });\r\n  };\r\n\r\n  getAutofillItemDetails = PHY_NO => {\r\n    this.props\r\n      .getCommonApi(`stocktakeitem/?searchphyno=${PHY_NO}&limit=10000`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemList.push({\r\n              item_code: item.ITEMCODE,\r\n              Item_Desc: item.ITEMDESC,\r\n              UOM_DESC: item.PHY_UOMTYPE,\r\n              ITEM_UOM: item.PHY_UOM,\r\n              QTY: item.PHY_QTY,\r\n              item_quantity: item.PHY_COUNTQTY,\r\n              variance: item.PHY_VARIANCE,\r\n              item_remarks: item.PHY_REMARK,\r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.PHY_ID,\r\n              item_code: item.ITEMCODE,\r\n              UOM_DESC: item.PHY_UOMTYPE,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemList);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n        }\r\n        // this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\r\n        // this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\r\n        // this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\r\n        // this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\r\n        // this.setState(this.state.formFieldsDetailsStored)\r\n      });\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption, empOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`stocktakelist/?searchphyid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"adj dataList\", res.data.dataList);\r\n\r\n        this.state.formFields[\"PHY_NO\"] = res.data.dataList[0].PHY_NO;\r\n        // this.state.formFields[\"SUPPLY_NO\"] = res.data.dataList[0].SUPPLY_NO\r\n\r\n        this.state.formFields[\"PHY_REF\"] = res.data.dataList[0].PHY_REF;\r\n        this.state.formFields[\"PHY_DATE\"] = res.data.dataList[0].PHY_DATE;\r\n\r\n        // this.state.formFields[\"STAFF_NO\"] = res.data.dataList[0].STAFF_NO\r\n        if (res.data.dataList[0].STAFF_NAME && empOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"STAFF_NAME\"] = empOption.find(\r\n            option => option.label === res.data.dataList[0].STAFF_NAME\r\n          ).value;\r\n        }\r\n\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\r\n          \"res.data.dataList[0].status\",\r\n          res.data.dataList[0].PHY_STATUS\r\n        );\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].PHY_STATUS && statusOption.length !== 0) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"PHY_STATUS\"] = statusOption.find(\r\n            option => option.label === res.data.dataList[0].PHY_STATUS\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].PHY_STATUS\",\r\n            res.data.dataList[0].PHY_STATUS\r\n          );\r\n          if (res.data.dataList[0].PHY_STATUS == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            // for (var i = 0; i < statusOption.length; i++){\r\n            //   if(statusOption[i].label == \"Posted\") {\r\n            //     statusOption = statusOption.filter(e => e.label !== 'Open')\r\n            //   }\r\n            // }\r\n            // console.log(\"statusOption when status is posted\",statusOption)\r\n\r\n            this.setState({ disableEdit });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n\r\n        this.state.formFields[\"STORE_NO\"] = 1;\r\n        this.state.formFields[\"PHY_REMK1\"] = res.data.dataList[0].PHY_REMK1;\r\n        // if (res.data.dataList[0].STAFF_NO && empOption.length!==0) {\r\n        //   //matching status name with the id to set prefill status in dropdown\r\n        //   this.state.formFields[\"STAFF_NO\"] = empOption.find(option => option.label === res.data.dataList[0].STAFF_NO).value\r\n        // }\r\n\r\n        this.state.formFields[\"PHY_TTLQTY\"] = res.data.dataList[0].PHY_TTLQTY;\r\n        this.state.formFields[\"PHY_COUNTQTY\"] =\r\n          res.data.dataList[0].PHY_COUNTQTY;\r\n\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n        this.getAutofillItemDetails(res.data.dataList[0].PHY_NO);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = resTAKE => {\r\n    let { storedItemList, itemListBeforeEdit } = this.state;\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemList.some(\r\n        el => el.item_code === item.item_code && el.UOM_DESC === item.UOM_DESC\r\n      );\r\n      if (!found) {\r\n        this.props\r\n          .commonDeleteApi(`stocktakeitem/${item.item_id}/`)\r\n          .then(res => {});\r\n      }\r\n    }\r\n\r\n    for (let item of storedItemList) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"ITEMCODE\", item.item_code);\r\n      formDataItem.append(\"ITEMDESC\", item.Item_Desc);\r\n      formDataItem.append(\"PHY_UOM\", item.ITEM_UOM);\r\n      formDataItem.append(\"PHY_UOMTYPE\", item.UOM_DESC);\r\n      formDataItem.append(\"PHY_QTY\", item.QTY);\r\n      formDataItem.append(\"PHY_COUNTQTY\", item.item_quantity);\r\n      formDataItem.append(\"PHY_VARIANCE\", item.variance);\r\n      formDataItem.append(\"PHY_REMARK\", item.item_remarks);\r\n      formDataItem.append(\"STORE_NO\", this.props.tokenDetail.site_code);\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `stocktakeitem/?searchphyno=${resTAKE.data.PHY_NO}&searchitemcode=${item.item_code}&searchuom=${item.UOM_DESC}`\r\n        )\r\n        .then(resGetItem => {\r\n          console.log(\"resGetItem\", resGetItem);\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `stocktakeitem/${resGetItem.data.dataList[0].PHY_ID}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"PHY_NO\", resTAKE.data.PHY_NO);\r\n            this.props\r\n              .commonCreateApi(`stocktakeitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleSubmit = async PHY_STATUS => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let { formFields, statusOption, empOption } = this.state;\r\n\r\n        const formData = new FormData();\r\n\r\n        formData.append(\"PHY_REF\", formFields.PHY_REF);\r\n        formData.append(\r\n          \"PHY_DATE\",\r\n          dateFormat(formFields.PHY_DATE) + \" 00:00:00\"\r\n        );\r\n        formData.append(\r\n          \"STAFF_NO\",\r\n          formFields.STAFF_NAME\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.STAFF_NAME)\r\n              ).code\r\n            : \"\"\r\n        );\r\n\r\n        if (PHY_STATUS) {\r\n          formData.append(\"PHY_STATUS\", \"Posted\");\r\n        } else {\r\n          formData.append(\r\n            \"PHY_STATUS\",\r\n            formFields.PHY_STATUS\r\n              ? statusOption.find(\r\n                  option => option.value === parseInt(formFields.PHY_STATUS)\r\n                ).label\r\n              : \"\"\r\n          );\r\n        }\r\n\r\n        // console.log(statusOption.find(option => option.value === parseInt(formFields.DOC_STATUS)).label)\r\n\r\n        // formData.append(\"STORE_NO\", formFields.STORE_NO);\r\n        formData.append(\"STORE_NO\", this.props.tokenDetail.site_code);\r\n        formData.append(\"PHY_REMK1\", formFields.PHY_REMK1);\r\n\r\n        formData.append(\r\n          \"STAFF_NAME\",\r\n          formFields.STAFF_NAME\r\n            ? empOption.find(\r\n                option => option.value === parseInt(formFields.STAFF_NAME)\r\n              ).label\r\n            : \"\"\r\n        );\r\n\r\n        formData.append(\"PHY_TTLQTY\", formFields.PHY_TTLQTY);\r\n        formData.append(\"PHY_COUNTQTY\", formFields.PHY_COUNTQTY);\r\n\r\n        console.log(\"formData\", formData);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resTAKE = await this.props.commonUpdateApi(\r\n            `stocktakelist/${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          console.log(resTAKE);\r\n          // this.handleAddressSubmit(resTAKE);\r\n          this.handleItemDetailsSubmit(resTAKE);\r\n          // if(statusValue == \"Void\"){\r\n          //   console.log(\"in void loop\")\r\n          //   await this.props.deletePO(`${this.props.match.params.id}/`)\r\n          // }\r\n\r\n          history.push(`/admin/inventory`);\r\n        } else {\r\n          console.log(\"this.props before createPO\", this.props);\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          // console.log(\"this.state.fkProject before createPO\",this.state.fkProject)\r\n          // formData.append(\"fk_project\", this.state.fkProject);\r\n          // var resTAKE = await this.props.createPO(formData);\r\n\r\n          var resTAKE = await this.props.commonCreateApi(\r\n            `stocktakelist/`,\r\n            formData\r\n          );\r\n\r\n          console.log(\"resTAKE in createPO\", resTAKE);\r\n          console.log(\"resTAKE.data.id\", resTAKE.data.id);\r\n\r\n          // this.handleAddressSubmit(resTAKE);\r\n          this.handleItemDetailsSubmit(resTAKE);\r\n          history.push(`/admin/inventory`);\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  getDetails = () => {\r\n    this.updateState({ isLoading: true });\r\n    let { detailsList, pageMeta, page, limit, search, searchFormFields } =\r\n      this.state;\r\n    // let { Item_Desc } = formField;\r\n    // console.log(\"this.props.siteCode\",this.props.siteCode)\r\n    //     console.log(typeof this.props.siteCode)\r\n    console.log(\"searchFormFields\", searchFormFields);\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `allstocklist/?searchactive=${\r\n          searchFormFields.inactiveItem == false ? \"no\" : \"yes\"\r\n        }&searchqty=${\r\n          searchFormFields.inactiveItem == false ? \"\" : \"yes\"\r\n        }&searchitemdesc=${searchFormFields.item}&searchdeptdesc=${\r\n          searchFormFields.dept\r\n        }&searchbranddesc=${searchFormFields.brand}&searchrangedesc=${\r\n          searchFormFields.range\r\n        }&searchsitecode=${\r\n          this.props.tokenDetail.site_code\r\n        }&page=${page}&limit=${limit}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        this.setState({ detailsList: [] });\r\n        detailsList = res.data.dataList;\r\n        // pageMeta = res.data.meta.pagination;\r\n        pageMeta = res.data.pagination;\r\n        // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\r\n        // this.setState({ detailsList, pageMeta });\r\n        // this.setState({ detailsList });\r\n\r\n        console.log(\"res.data\", res.data);\r\n        console.log(\"detailsList\", detailsList);\r\n        console.log(\"pageMeta\", pageMeta);\r\n        this.updateState({\r\n          detailsList,\r\n          pageMeta,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handlePagination = async pageNo => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getDetails();\r\n  };\r\n\r\n  handlesearch = event => {\r\n    // event.persist();\r\n    console.log(event.target.value);\r\n    let { search } = this.state;\r\n    search = event.target.value;\r\n    this.setState({ search });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getDetails({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleChangeQuantity = ({ target: { value, name } }) => {\r\n    let { detailsList, UOM } = this.state;\r\n    console.log(\"value\", value);\r\n    console.log(\"name\", name);\r\n\r\n    for (let list in detailsList) {\r\n      if (\r\n        detailsList[list].item_code == name &&\r\n        detailsList[list].UOM_DESC == UOM\r\n      ) {\r\n        detailsList[list].item_quantity = value;\r\n      }\r\n      console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\r\n    }\r\n\r\n    this.setState({\r\n      detailsList,\r\n    });\r\n    console.log(\"detailsList in handleChange\", detailsList);\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleSelect = (\r\n    item_code,\r\n    Item_Desc,\r\n    UOM_DESC,\r\n    ITEM_UOM,\r\n    QTY,\r\n    item_quantity\r\n  ) => {\r\n    let { storedItemList, detailsList, formFields } = this.state;\r\n    // console.log(\"item_code\", item_code)\r\n    // console.log(\"Item_Desc\", Item_Desc)\r\n    // console.log(\"ITEM_COST\", ITEM_COST)\r\n\r\n    for (let item of storedItemList) {\r\n      if (item.item_code == item_code && item.UOM_DESC == UOM_DESC) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This item already exists\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!item_quantity) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Counted Qty is empty!\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    storedItemList.push({\r\n      item_code: item_code,\r\n      Item_Desc: Item_Desc,\r\n      UOM_DESC: UOM_DESC,\r\n      ITEM_UOM: ITEM_UOM,\r\n      QTY: QTY,\r\n      item_quantity: item_quantity,\r\n      variance: item_quantity - QTY,\r\n      item_remarks: \"\",\r\n      editing: false,\r\n    });\r\n\r\n    console.log(\"storedItemList\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    this.handleUpdateTotal();\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n  };\r\n\r\n  handleRemoveStoredItem = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (var i = 0; i < storedItemList.length; i++) {\r\n      if (\r\n        storedItemList[i].item_code == item_code &&\r\n        storedItemList[i].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(\"storedItemList after remove\", storedItemList);\r\n    this.setState({ storedItemList });\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEdit = (item_code, UOM_DESC) => {\r\n    let { storedItemList } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = true;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n  };\r\n\r\n  handleSave = (item_code, UOM_DESC) => {\r\n    let { storedItemList, formFields } = this.state;\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == item_code &&\r\n        storedItemList[list].UOM_DESC == UOM_DESC\r\n      ) {\r\n        storedItemList[list].editing = false;\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList);\r\n\r\n    this.setState({ storedItemList });\r\n    // this.props.storeItemDetails(storedItemList, formFields)\r\n    this.handleUpdateTotal();\r\n  };\r\n\r\n  handleEditChangeRemarks = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_remarks = value;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangePrice = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_cost = value;\r\n        storedItemList[list].amount =\r\n          Math.round(storedItemList[list].item_quantity * value * 100) / 100;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleEditChangeQuantity = ({ target: { value, name } }) => {\r\n    let { storedItemList, UOM } = this.state;\r\n\r\n    for (let list in storedItemList) {\r\n      if (\r\n        storedItemList[list].item_code == name &&\r\n        storedItemList[list].UOM_DESC == UOM\r\n      ) {\r\n        storedItemList[list].item_quantity = value;\r\n        storedItemList[list].variance = value - storedItemList[list].QTY;\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n    }\r\n\r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList);\r\n  };\r\n\r\n  handleUpdateTotal = () => {\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    formFields.PHY_TTLQTY = 0;\r\n    formFields.PHY_COUNTQTY = 0;\r\n\r\n    for (let item of storedItemList) {\r\n      formFields.PHY_TTLQTY = parseInt(item.QTY) + formFields.PHY_TTLQTY;\r\n      formFields.PHY_COUNTQTY =\r\n        parseInt(!item.item_quantity ? 0 : item.item_quantity) +\r\n        formFields.PHY_COUNTQTY;\r\n    }\r\n    console.log(\"storedItemList in update total\", storedItemList);\r\n    // formFields.DOC_AMT = Math.round(formFields.DOC_AMT * 100) / 100\r\n    // console.log(\"formFields.DOC_AMT\",formFields.DOC_AMT, typeof formFields.DOC_AMT)\r\n    this.setState({ formFields });\r\n  };\r\n\r\n  setUOM = UOM_DESC => {\r\n    let { UOM } = this.state;\r\n    UOM = UOM_DESC;\r\n    console.log(\"UOM in setUOM\", UOM);\r\n    this.setState({ UOM });\r\n  };\r\n\r\n  handleChangeCheckboxQty = () => {\r\n    let { searchFormFields } = this.state;\r\n    searchFormFields.QtyItem = !searchFormFields.QtyItem;\r\n    this.setState(searchFormFields);\r\n    console.log(\"searchFormFields.QtyItem\", searchFormFields.QtyItem);\r\n  };\r\n\r\n  handleChangeCheckboxInactive = () => {\r\n    let { searchFormFields } = this.state;\r\n    searchFormFields.inactiveItem = !searchFormFields.inactiveItem;\r\n    this.setState(searchFormFields);\r\n    console.log(\"searchFormFields.inactiveItem\", searchFormFields.inactiveItem);\r\n  };\r\n\r\n  handleMultiSelectBrand = e => {\r\n    let { searchFormFields } = this.state;\r\n    console.log(\"e\", e);\r\n\r\n    let tempArr = [];\r\n\r\n    for (let key of e) {\r\n      tempArr.push(key.label);\r\n    }\r\n    searchFormFields.brand = tempArr.toString();\r\n    console.log(\"tempArr\", tempArr);\r\n    console.log(\"searchFormFields.brand\", searchFormFields.brand);\r\n    this.setState({\r\n      searchFormFields,\r\n    });\r\n  };\r\n\r\n  handleMultiSelectDept = e => {\r\n    let { searchFormFields } = this.state;\r\n    console.log(\"e\", e);\r\n\r\n    let tempArr = [];\r\n\r\n    for (let key of e) {\r\n      tempArr.push(key.label);\r\n    }\r\n    searchFormFields.dept = tempArr.toString();\r\n    console.log(\"tempArr\", tempArr);\r\n    console.log(\"searchFormFields.dept\", searchFormFields.dept);\r\n    this.setState({\r\n      searchFormFields,\r\n    });\r\n  };\r\n\r\n  handleMultiSelectRange = e => {\r\n    let { searchFormFields } = this.state;\r\n    console.log(\"e\", e);\r\n\r\n    let tempArr = [];\r\n\r\n    for (let key of e) {\r\n      tempArr.push(key.label);\r\n    }\r\n    searchFormFields.range = tempArr.toString();\r\n    console.log(\"tempArr\", tempArr);\r\n    console.log(\"searchFormFields.range\", searchFormFields.range);\r\n    this.setState({\r\n      searchFormFields,\r\n    });\r\n  };\r\n\r\n  handleMultiSelectItem = e => {\r\n    let { searchFormFields } = this.state;\r\n    console.log(\"e\", e);\r\n\r\n    let tempArr = [];\r\n\r\n    for (let key of e) {\r\n      tempArr.push(key.label);\r\n    }\r\n    searchFormFields.item = tempArr.toString();\r\n    console.log(\"tempArr\", tempArr);\r\n    console.log(\"searchFormFields.item\", searchFormFields.item);\r\n    this.setState({\r\n      searchFormFields,\r\n    });\r\n  };\r\n\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  getListDetail = () => {\r\n    let {\r\n      siteAddr,\r\n      supOption,\r\n      empOption,\r\n      listDetail,\r\n      formFields,\r\n      isPrintPdfClick,\r\n    } = this.state;\r\n\r\n    let addr = \"\";\r\n\r\n    for (let site of siteAddr) {\r\n      if (site.ItemSite_Code == this.props.tokenDetail.site_code) {\r\n        addr = site.ItemSite_Address;\r\n      }\r\n    }\r\n\r\n    listDetail = {\r\n      PHY_NO: formFields.PHY_NO,\r\n      // \"Supplier\": formFields.SUPP_Code&&supOption ? supOption.find(option => option.value === formFields.SUPP_Code).label : \"\",\r\n      STAFF_NAME:\r\n        formFields.STAFF_NAME && empOption\r\n          ? empOption.find(option => option.value === formFields.STAFF_NAME)\r\n              .label\r\n          : \"\",\r\n      PHY_DATE: formFields.PHY_DATE,\r\n      PHY_REF: formFields.PHY_REF,\r\n\r\n      PHY_REMK1: formFields.PHY_REMK1,\r\n      storeName: this.props.tokenDetail.branch,\r\n      printedBy: this.props.tokenDetail.username,\r\n      totalQty: formFields.PHY_TTLQTY,\r\n      totalCountedQty: formFields.PHY_COUNTQTY,\r\n      addr: addr,\r\n    };\r\n    console.log(\"listDetail in getListDetail\", listDetail);\r\n\r\n    isPrintPdfClick = true;\r\n    this.setState({ listDetail, isPrintPdfClick });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      searchFormFields,\r\n      statusOption,\r\n      headerDetails,\r\n      headerSelectedDetails,\r\n      disableEdit,\r\n      pageMeta,\r\n      empOption,\r\n      brandOption,\r\n      deptOption,\r\n      rangeOption,\r\n      siteOption,\r\n      itemOption,\r\n      detailsList,\r\n      storedItemList,\r\n      isLoading,\r\n      isPrintPdfClick,\r\n      listDetail,\r\n      blur,\r\n    } = this.state;\r\n\r\n    let {\r\n      PHY_NO,\r\n      PHY_REF,\r\n      PHY_DATE,\r\n      STAFF_NAME,\r\n      PHY_STATUS,\r\n      STORE_NO,\r\n      PHY_REMK1,\r\n      PHY_TTLQTY,\r\n      PHY_COUNTQTY,\r\n    } = formFields;\r\n\r\n    let { QtyItem, inactiveItem } = searchFormFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5  create-stocktake\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category cursor-pointer\"\r\n            onClick={() => history.push(`/admin/inventory`)}\r\n          >\r\n            {t(\"Stock Take\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Stock Take`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"PO-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Phy No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={PHY_NO}\r\n                    name=\"PHY_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"PO No\"),\r\n                      PONumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Ref\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={PHY_REF}\r\n                    name=\"PHY_REF\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Ref\"),\r\n                      PHY_REF,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Phy Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={PHY_DATE ? new Date(PHY_DATE) : new Date()}\r\n                    name=\"PHY_DATE\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Phy Date\"),\r\n                    PHY_DATE,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Created By\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={empOption}\r\n                    disabled={disableEdit}\r\n                    value={STAFF_NAME}\r\n                    name=\"STAFF_NAME\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Created By\"),\r\n                    STAFF_NAME,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    disabled={disableEdit}\r\n                    value={PHY_STATUS}\r\n                    name=\"PHY_STATUS\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Status\"),\r\n                    PHY_STATUS,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Store Code\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={[\r\n                      { value: 1, label: this.props.tokenDetail.branch },\r\n                    ]}\r\n                    disabled={disableEdit}\r\n                    value={STORE_NO}\r\n                    name=\"STORE_NO\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Store Code\"),\r\n                    STORE_NO,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={PHY_REMK1}\r\n                    name=\"PHY_REMK1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 stocktake-content\">\r\n              <div className=\"py-4\">\r\n                <div className=\"table-container\">\r\n                  {/* <div className=\"row\">\r\n                    <div className=\"col-8\"></div>\r\n\r\n                    <div className='col-4 mb-3'>\r\n                      <div className=\"w-100\">\r\n                        <InputSearch\r\n                          placeholder=\"Search Item\"\r\n                          onChange={this.handlesearch}\r\n                        />\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div> */}\r\n\r\n                  <div className=\"row mb-2\">\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text mr-2  pt-2\">\r\n                          {t(\"Dept\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalMultiSelect\r\n                            options={deptOption}\r\n                            // name=\"dept\"\r\n                            handleMultiSelect={this.handleMultiSelectDept}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text mr-2  pt-2\">\r\n                          {t(\"Brand\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalMultiSelect\r\n                            options={brandOption}\r\n                            className={\"pull-right\"}\r\n                            // name=\"dept\"\r\n                            handleMultiSelect={this.handleMultiSelectBrand}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text mr-2 pt-2\">\r\n                          {t(\"Range\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalMultiSelect\r\n                            options={rangeOption}\r\n                            // name=\"dept\"\r\n                            handleMultiSelect={this.handleMultiSelectRange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row mb-2\">\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text mr-3  pt-2\">\r\n                          {t(\"Site\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalMultiSelect\r\n                            options={[\r\n                              {\r\n                                value: 1,\r\n                                label: this.props.tokenDetail.branch,\r\n                              },\r\n                            ]}\r\n                            // name=\"dept\"\r\n                            onChange={this.handleChange}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text  mr-2 pt-2\">\r\n                          {t(\"Item\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalMultiSelect\r\n                            options={itemOption}\r\n                            // name=\"dept\"\r\n                            handleMultiSelect={this.handleMultiSelectItem}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row mb-2\">\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text mr-2  pt-2\">\r\n                          {t(\"Show 0 Qty Items\")}\r\n                        </label>\r\n                        <div className=\"pt-2\">\r\n                          <NormalCheckbox\r\n                            type=\"checkbox\"\r\n                            checked={QtyItem}\r\n                            name=\"QtyItem\"\r\n                            onChange={this.handleChangeCheckboxQty}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <div className=\"d-flex mb-2\">\r\n                        <label className=\"text-left w-30 text-black common-label-text mr-2  pt-2\">\r\n                          {t(\"Show Inactive Items\")}\r\n                        </label>\r\n                        <div className=\"pt-2\">\r\n                          <NormalCheckbox\r\n                            type=\"checkbox\"\r\n                            checked={inactiveItem}\r\n                            name=\"inactiveItem\"\r\n                            onChange={this.handleChangeCheckboxInactive}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12 \">\r\n                      <NormalButton\r\n                        buttonClass={\"mx-2\"}\r\n                        mainbg={true}\r\n                        className=\"confirm\"\r\n                        label=\"Load Stock Take Table\"\r\n                        onClick={() => this.getDetails()}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <TableWrapper\r\n                    headerDetails={headerDetails}\r\n                    queryHandler={this.handlePagination}\r\n                    pageMeta={pageMeta}\r\n                  >\r\n                    {isLoading ? (\r\n                      <tr>\r\n                        <td colSpan=\"7\">\r\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                            <div class=\"spinner-border\" role=\"status\">\r\n                              <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ) : detailsList ? (\r\n                      detailsList.map((item, index) => {\r\n                        let {\r\n                          item_code,\r\n                          Item_Desc,\r\n                          brand_itm_desc,\r\n                          range_itm_desc,\r\n                          UOM_DESC,\r\n                          ITEM_UOM,\r\n                          ITEM_COST,\r\n                          QTY,\r\n                          item_quantity,\r\n                        } = item;\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {item_code}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {Item_Desc}\r\n                              </div>\r\n                            </td>\r\n\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {brand_itm_desc}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {range_itm_desc}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {UOM_DESC}\r\n                              </div>\r\n                            </td>\r\n                            <Blur radius={blur ? \"10px\" : \"\"}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {ITEM_COST}\r\n                                </div>\r\n                              </td>\r\n                            </Blur>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {QTY}\r\n                              </div>\r\n                            </td>\r\n\r\n                            <td>\r\n                              {/* <div className=\"input-group\"> */}\r\n                              <NormalInput\r\n                                value={item_quantity}\r\n                                disabled={disableEdit}\r\n                                name={item_code}\r\n                                onKeyPress={event => {\r\n                                  if (!/[0-9]/.test(event.key)) {\r\n                                    event.preventDefault();\r\n                                  }\r\n                                }}\r\n                                onClick={() => this.setUOM(UOM_DESC)}\r\n                                onChange={this.handleChangeQuantity}\r\n                              />\r\n                              {/* </div> */}\r\n                            </td>\r\n\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <NormalButton\r\n                                  buttonClass={\"mx-2\"}\r\n                                  disabled={this.props.disableEdit}\r\n                                  mainbg={true}\r\n                                  className=\"warning\"\r\n                                  label=\"Select\"\r\n                                  onClick={() =>\r\n                                    this.handleSelect(\r\n                                      item_code,\r\n                                      Item_Desc,\r\n                                      // brand_itm_desc,\r\n                                      // range_itm_desc,\r\n                                      UOM_DESC,\r\n                                      ITEM_UOM,\r\n                                      QTY,\r\n                                      item_quantity\r\n                                    )\r\n                                  }\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    ) : null}\r\n                  </TableWrapper>\r\n\r\n                  <div className=\"row mt-5\"></div>\r\n                  <TableWrapper\r\n                    headerDetails={headerSelectedDetails}\r\n                    // queryHandler={this.handlePagination}\r\n                    // pageMeta={pageMeta}\r\n                  >\r\n                    {storedItemList\r\n                      ? storedItemList.map((item, index) => {\r\n                          let {\r\n                            item_code,\r\n                            Item_Desc,\r\n                            UOM_DESC,\r\n                            QTY,\r\n                            item_quantity,\r\n                            variance,\r\n                            item_remarks,\r\n                            editing,\r\n                          } = item;\r\n                          return editing == false ? (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_code}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {Item_Desc}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {UOM_DESC}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {QTY}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_quantity}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {variance}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_remarks}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={updateBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent\"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleEdit(item_code, UOM_DESC)\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={deleteBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent \"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleRemoveStoredItem(\r\n                                              item_code,\r\n                                              UOM_DESC\r\n                                            )\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ) : (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {item_code}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {Item_Desc}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {UOM_DESC}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {QTY}\r\n                                </div>\r\n                              </td>\r\n\r\n                              {/* <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_cost}\r\n                                    disabled={this.props.disableEdit}\r\n                                    name={item_code}\r\n                                    onKeyPress={(event) => {\r\n                                      if (!/[0-9]/.test(event.key) && !/\\./.test(event.key)) {\r\n                                        event.preventDefault();\r\n                                      }\r\n                                    }}\r\n                                    onChange={this.handleEditChangePrice}\r\n                                  />\r\n                                  </div>\r\n                                </td> */}\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_quantity}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onKeyPress={event => {\r\n                                      if (!/[0-9]/.test(event.key)) {\r\n                                        event.preventDefault();\r\n                                      }\r\n                                    }}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={this.handleEditChangeQuantity}\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {variance}\r\n                                </div>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <NormalInput\r\n                                    value={item_remarks}\r\n                                    disabled={disableEdit}\r\n                                    name={item_code}\r\n                                    onClick={() => this.setUOM(UOM_DESC)}\r\n                                    onChange={this.handleEditChangeRemarks}\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n\r\n                              {/* <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <img\r\n                                      src={closeBtn}\r\n                                      width=\"35\"\r\n                                      height=\"35\"\r\n                                      alt=\"\"\r\n                                      className=\"action-img bg-transparent\"\r\n                                      onClick={() =>this.handleClose(item_code)}\r\n                                    />\r\n                                  </div>\r\n                                </td> */}\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  <img\r\n                                    src={saveBtn}\r\n                                    width=\"35\"\r\n                                    height=\"35\"\r\n                                    alt=\"\"\r\n                                    className=\"action-img bg-transparent \"\r\n                                    onClick={\r\n                                      disableEdit == false\r\n                                        ? () =>\r\n                                            this.handleSave(item_code, UOM_DESC)\r\n                                        : \"\"\r\n                                    }\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })\r\n                      : null}\r\n                  </TableWrapper>\r\n\r\n                  <div className=\"row justify-content-end mt-5\">\r\n                    <div className=\"col-4\">\r\n                      <div className=\"d-flex mb-3\">\r\n                        <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                          {t(\"Total Quantity\")}\r\n                        </label>\r\n                        <div className=\"input-group-address w-100\">\r\n                          <NormalInput\r\n                            placeholder=\"Enter here\"\r\n                            disabled={true}\r\n                            value={PHY_TTLQTY}\r\n                            name=\"PHY_TTLQTY\"\r\n                            // onChange={this.handleChangeDetails}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      {/* <div>\r\n                            {this.validator.message(\r\n                              t(\"Total Quantity\"),\r\n                              PHY_TTLQTY,\r\n                              t(\"required\")\r\n                            )}\r\n                        </div> */}\r\n\r\n                      <div className=\"d-flex mb-3\">\r\n                        <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                          {t(\"Total Counted Quantity\")}\r\n                        </label>\r\n                        <div className=\"input-group-address w-100\">\r\n                          <NormalInput\r\n                            placeholder=\"Enter here\"\r\n                            disabled={true}\r\n                            value={PHY_COUNTQTY}\r\n                            name=\"PHY_COUNTQTY\"\r\n                            // onChange={this.handleChangeDetails}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      {/* <div>\r\n                            {this.validator.message(\r\n                              t(\"Total Cost\"),\r\n                              PHY_COUNTQTY,\r\n                              t(\"required\")\r\n                            )}\r\n                        </div> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row justify-content-end\">\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => history.push(`/admin/inventory`)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  disabled={disableEdit}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? disableEdit : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(PHY_STATUS)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  disabled={this.props.match.params.id ? false : true}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Print PDF\"\r\n                  outline={false}\r\n                  onClick={() => this.getListDetail()}\r\n                />\r\n              </div>\r\n              {isPrintPdfClick ? (\r\n                <PDFDownloadLink\r\n                  document={\r\n                    <PDF\r\n                      listDetail={listDetail}\r\n                      itemDetail={storedItemList}\r\n                      // Flag={activeTab !== \"detail\" ? 3 : 4}\r\n                      landscape={false}\r\n                    />\r\n                  }\r\n                >\r\n                  {({ blob, url, loading, error }) =>\r\n                    !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                  }\r\n                </PDFDownloadLink>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      commonDeleteApi,\r\n      updatePO,\r\n      createPO,\r\n      deletePO,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddStockTake = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddStockTakeClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}