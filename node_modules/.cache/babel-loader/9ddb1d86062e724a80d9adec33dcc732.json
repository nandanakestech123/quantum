{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\StaffPlus\\\\AddStaffPlus\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { NormalInput, NormalSelect, NormalButton, NormalDateTime } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { DragFileUpload } from \"../../../common\";\nimport { createStaffPlus, getStaffPlus, updateStaffPlus, getWorkSchedule, updateWorkSchedule } from \"redux/actions/staffPlus\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { ScheduleTable } from \"./ScheduleTable\";\nexport class AddStaffClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        emp_name: \"\",\n        emp_nric: \"\",\n        display_name: \"\",\n        emp_joindate: \"\",\n        defaultSiteCodeid: \"\",\n        EMP_TYPEid: \"\",\n        emp_pic: \"\",\n        emp_isactive: false,\n        is_login: false,\n        pw_password: \"\",\n        LEVEL_ItmIDid: \"\",\n        show_in_sales: false,\n        show_in_appt: false,\n        show_in_trmt: false,\n        max_disc: \"\",\n        work_schedule: {\n          monday: \"YES\",\n          tuesday: \"YES\",\n          wednesday: \"YES\",\n          thursday: \"YES\",\n          friday: \"YES\",\n          saturday: \"NO\",\n          sunday: \"NO\"\n        },\n        defaultSiteCodeid: \"\"\n      },\n      scheduleOptions: [],\n      jobOption: [],\n      locationOption: [],\n      levelList: [],\n      is_loading: false,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.getStaffDetail = async () => {\n      this.updateState({\n        is_loading: true\n      });\n      await this.props.getStaffPlus(`${this.props.match.params.id}/`);\n      await this.props.getWorkSchedule(`${this.props.match.params.id}`);\n      this.setDataFromStore();\n      this.updateState({\n        is_loading: false\n      });\n    };\n\n    this.getDatafromStore = async type => {\n      let {\n        branchList,\n        jobtitleList\n      } = this.props;\n      let {\n        jobOption,\n        locationOption\n      } = this.state;\n\n      if (type === \"jobtitle\") {\n        for (let key of jobtitleList) {\n          jobOption.push({\n            label: key.level_desc,\n            value: key.id\n          });\n        }\n      } else if (type === \"branch\") {\n        for (let key of branchList) {\n          locationOption.push({\n            label: key.itemsite_desc,\n            value: key.id\n          });\n        }\n      }\n\n      this.updateState({\n        locationOption,\n        jobOption\n      });\n    };\n\n    this.setDataFromStore = () => {\n      let {\n        staffPlusDetail,\n        staffPlusWorkScheduleDetails\n      } = this.props;\n      let {\n        formFields\n      } = this.state;\n      formFields[\"emp_name\"] = staffPlusDetail.emp_name;\n      formFields[\"display_name\"] = staffPlusDetail.display_name;\n      formFields[\"emp_joindate\"] = new Date(staffPlusDetail.emp_joindate);\n      formFields[\"defaultSiteCodeid\"] = staffPlusDetail.defaultSiteCodeid;\n      formFields[\"EMP_TYPEid\"] = staffPlusDetail.EMP_TYPEid;\n      formFields[\"emp_pic\"] = staffPlusDetail.emp_pic;\n      formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\n      formFields[\"is_login\"] = staffPlusDetail.is_login;\n      formFields[\"emp_isactive\"] = staffPlusDetail.emp_isactive;\n      formFields[\"max_disc\"] = staffPlusDetail.max_disc;\n      formFields[\"LEVEL_ItmIDid\"] = staffPlusDetail.LEVEL_ItmIDid;\n      formFields[\"show_in_sales\"] = staffPlusDetail.show_in_sales;\n      formFields[\"show_in_appt\"] = staffPlusDetail.show_in_appt;\n      formFields[\"show_in_trmt\"] = staffPlusDetail.show_in_trmt;\n      formFields.work_schedule.monday = staffPlusWorkScheduleDetails.monday;\n      formFields.work_schedule.tuesday = staffPlusWorkScheduleDetails.tuesday;\n      formFields.work_schedule.wednesday = staffPlusWorkScheduleDetails.wednesday;\n      formFields.work_schedule.thursday = staffPlusWorkScheduleDetails.thursday;\n      formFields.work_schedule.friday = staffPlusWorkScheduleDetails.friday;\n      formFields.work_schedule.saturday = staffPlusWorkScheduleDetails.saturday;\n      formFields.work_schedule.sunday = staffPlusWorkScheduleDetails.sunday;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleDatePick = async (name, value) => {\n      // dateFormat(new Date())\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.updateState({\n        formFields\n      });\n    };\n\n    this.handleInput = ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value === true ? 1 : value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleImageUpload = file => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"emp_pic\"] = file;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.removepostImage = (e, name) => {\n      let {\n        staffImage\n      } = this.state.formFields;\n      let index = staffImage.indexOf(name);\n\n      if (index === 0) {\n        staffImage.shift();\n      } else {\n        staffImage.pop();\n      }\n\n      this.updateState({\n        staffImage\n      });\n    };\n\n    this.handleSubmit = async () => {\n      try {\n        if (this.validator.allValid()) {\n          this.updateState({\n            is_loading: true\n          });\n          let {\n            formFields\n          } = this.state;\n          const formData = new FormData();\n          formData.append(\"emp_name\", formFields.emp_name);\n          formData.append(\"display_name\", formFields.display_name);\n          formData.append(\"pw_password\", formFields.pw_password);\n          formData.append(\"emp_joindate\", dateFormat(formFields.emp_joindate));\n          formData.append(\"defaultSiteCodeid\", formFields.defaultSiteCodeid);\n          formData.append(\"EMP_TYPEid\", formFields.EMP_TYPEid);\n          if (typeof formFields.emp_pic === \"object\") formData.append(\"emp_pic\", formFields.emp_pic);\n          formData.append(\"emp_nric\", formFields.emp_nric);\n          formData.append(\"is_login\", formFields.is_login);\n          formData.append(\"emp_isactive\", formFields.emp_isactive);\n          formData.append(\"max_disc\", formFields.max_disc);\n          formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\n          formData.append(\"show_in_sales\", formFields.show_in_sales);\n          formData.append(\"show_in_appt\", formFields.show_in_appt);\n          formData.append(\"show_in_trmt\", formFields.show_in_trmt);\n          const scheduleData = new FormData();\n          scheduleData.append(\"monday\", formFields.work_schedule.monday);\n          scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n          scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\n          scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n          scheduleData.append(\"friday\", formFields.work_schedule.friday);\n          scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\n          scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\n\n          if (this.props.match.params.id) {\n            var res = await this.props.updateStaffPlus(`${this.props.match.params.id}/`, formData);\n            console.log(res);\n\n            if (res.status === 200) {\n              await this.props.updateWorkSchedule(this.props.match.params.id, scheduleData);\n            }\n\n            await this.getStaffDetail();\n          } else {\n            var res = await this.props.createStaffPlus(formData);\n            console.log(res);\n\n            if (res.status === 201) {\n              var res2 = await this.props.updateWorkSchedule(res.data.id, scheduleData);\n              if (res2.status === 200) this.props.history.push(`/admin/staffPlus/${res.data.id}/editStaff`);\n            }\n          }\n        } else {\n          this.validator.showMessages();\n        }\n\n        this.updateState({\n          is_loading: false\n        });\n      } catch (e) {\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n\n    this.handleChangeBox = event => {\n      let formFields = Object.assign({}, this.state.formFields); //formFields[event.target.name] = event.target.checked;\n\n      formFields[event.target.name] = event.target.checked ? 'True' : 'False';\n      this.updateState({\n        formFields\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentWillMount() {\n    this.validator = new SimpleReactValidator({\n      validators: {\n        contactNumber: {\n          message: \"The :attribute must be a valid format.\",\n          rule: (val, params, validator) => {\n            return validator.helpers.testRegex(val, /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/) && params.indexOf(val) === -1;\n          },\n          messageReplace: (message, params) => message.replace(\"\", this.helpers.toSentence(params)),\n          required: true\n        }\n      },\n      element: message => /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error-message text-danger validNo fs14\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, message),\n      autoForceUpdate: this\n    }); // branch option api\n\n    this.props.getCommonApi(\"branchlist/\").then(res => {\n      let {\n        locationOption\n      } = this.state;\n\n      for (let key of res.data) {\n        locationOption.push({\n          value: key.id,\n          label: key.itemsite_desc\n        });\n      }\n\n      this.updateState({\n        locationOption\n      });\n    }); // level option api\n\n    this.props.getCommonApi(\"securities/\").then(res => {\n      let {\n        levelList\n      } = this.state;\n\n      for (let key of res.data) {\n        levelList.push({\n          value: key.id,\n          label: key.level_name\n        });\n      }\n\n      this.updateState({\n        levelList\n      });\n    }); // schedule hours api\n\n    this.props.getCommonApi(\"WorkScheduleHours/\").then(res => {\n      let {\n        scheduleOptions\n      } = this.state;\n\n      for (let key of res.schedules) {\n        scheduleOptions.push({\n          id: key.id,\n          value: key.itm_code,\n          label: key.itm_desc,\n          color: key.itm_color,\n          shortDesc: key.shortDesc\n        });\n      }\n\n      this.updateState({\n        scheduleOptions\n      });\n    }); // jobtitle option api\n\n    this.props.getJobtitle().then(() => {\n      this.getDatafromStore(\"jobtitle\");\n    }); // get api for staff while\n\n    if (this.props.match.params.id) {\n      this.getStaffDetail();\n    }\n  } // get api for staff\n\n\n  render() {\n    let {\n      formFields,\n      jobOption,\n      locationOption,\n      is_loading,\n      levelList,\n      scheduleOptions\n    } = this.state;\n    let {\n      emp_name,\n      emp_nric,\n      display_name,\n      is_login,\n      EMP_TYPEid,\n      emp_joindate,\n      emp_pic,\n      emp_isactive,\n      pw_password,\n      LEVEL_ItmIDid,\n      show_in_sales,\n      show_in_appt,\n      show_in_trmt,\n      defaultSiteCodeid,\n      max_disc,\n      work_schedule\n    } = formFields;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5 container create-staff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }\n    }, \"StaffPlus\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }\n    }, this.props.match.params.id ? \"Edit\" : \"New\", \" Staff\")), is_loading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 15\n      }\n    }, \"Loading...\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"staff-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 19\n      }\n    }, \"Upload Staff Photo\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DragFileUpload, {\n      className: `file-uploader size-lg ${emp_pic ? \"\" : \"no-img\"}`,\n      label: \"Upload Thumbnail\",\n      handleFileUpload: this.handleImageUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 21\n      }\n    }), emp_pic ? /*#__PURE__*/React.createElement(React.Fragment, null, typeof emp_pic == \"string\" ? /*#__PURE__*/React.createElement(\"img\", {\n      src: emp_pic,\n      alt: \"\",\n      width: \"50%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 27\n      }\n    }) : null) : null)), this.props.match.params.id ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/\" + this.props.match.params.id + \"/empinfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Emp Info\",\n      outline: true,\n      className: \"mr-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 23\n      }\n    }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pb-4 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: emp_isactive,\n      name: \"emp_isactive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 23\n      }\n    }), \" \", \"Active\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 19\n      }\n    }, \"Employee Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: display_name,\n      name: \"display_name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 21\n      }\n    })), this.validator.message(\"staff name\", display_name, \"required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 19\n      }\n    }, \"NRIC/WP\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: emp_nric,\n      name: \"emp_nric\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 19\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: emp_name,\n      name: \"emp_name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 21\n      }\n    })), this.validator.message(\"display_name\", emp_name, \"required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 19\n      }\n    }, \"Employee Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: jobOption,\n      value: EMP_TYPEid,\n      name: \"EMP_TYPEid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 21\n      }\n    })), this.validator.message(\"employee type\", EMP_TYPEid, \"required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 19\n      }\n    }, \"Discount Limit\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      type: \"number\",\n      placeholder: \"Enter here\",\n      value: max_disc,\n      name: \"max_disc\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 21\n      }\n    })), this.validator.message(\"discount limit\", max_disc, \"required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 19\n      }\n    }, \"Join Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: emp_joindate,\n      name: \"emp_joindate\",\n      className: \"dob-pick\",\n      showYearDropdown: true,\n      dateFormat: \"MM/dd/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 21\n      }\n    })), this.validator.message(\"join date\", emp_joindate, \"required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 19\n      }\n    }, \"Site List\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: locationOption,\n      value: defaultSiteCodeid,\n      name: \"defaultSiteCodeid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pb-4 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: is_login,\n      name: \"is_login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 23\n      }\n    }), \"Security AC\"))), is_login ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 23\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: pw_password,\n      name: \"pw_password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 23\n      }\n    }, \"Employee Level\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: levelList,\n      value: LEVEL_ItmIDid,\n      name: \"LEVEL_ItmIDid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 25\n      }\n    })), this.validator.message(\"employee level\", LEVEL_ItmIDid, \"required\"))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 19\n      }\n    }, \"To Show At\"), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: show_in_sales,\n      name: \"show_in_sales\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 23\n      }\n    }), \"Sales\")), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: show_in_trmt,\n      name: \"show_in_trmt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 23\n      }\n    }), \"Treatment\")), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      onChange: this.handleChangeBox,\n      checked: show_in_appt,\n      name: \"show_in_appt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 23\n      }\n    }), \"Appointment\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 21\n      }\n    }, \"Work Schedule\"), /*#__PURE__*/React.createElement(ScheduleTable, {\n      data: work_schedule,\n      optionList: scheduleOptions,\n      onChange: data => {\n        let {\n          formFields\n        } = this.state;\n        formFields[\"work_schedule\"] = data;\n        this.updateState({\n          formFields\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-5 d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Cancel\",\n      danger: true,\n      className: \"mr-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      onClick: () => this.handleSubmit(),\n      label: \"Save\",\n      success: true,\n      className: \"mr-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  branchList: state.common.branchList,\n  jobtitleList: state.common.jobtitleList,\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\n  staffPlusWorkScheduleDetails: state.staffPlus.staffPlusWorkScheduleDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    createStaffPlus,\n    getJobtitle,\n    getStaffPlus,\n    updateStaffPlus,\n    getCommonApi,\n    getWorkSchedule,\n    updateWorkSchedule\n  }, dispatch);\n};\n\nexport const AddStaffPlus = connect(mapStateToProps, mapDispatchToProps)(AddStaffClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/AddStaffPlus/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","displayImg","dateFormat","DragFileUpload","createStaffPlus","getStaffPlus","updateStaffPlus","getWorkSchedule","updateWorkSchedule","getJobtitle","getCommonApi","connect","bindActionCreators","FormGroup","Label","Input","ScheduleTable","AddStaffClass","state","formFields","emp_name","emp_nric","display_name","emp_joindate","defaultSiteCodeid","EMP_TYPEid","emp_pic","emp_isactive","is_login","pw_password","LEVEL_ItmIDid","show_in_sales","show_in_appt","show_in_trmt","max_disc","work_schedule","monday","tuesday","wednesday","thursday","friday","saturday","sunday","scheduleOptions","jobOption","locationOption","levelList","is_loading","isMounted","updateState","data","setState","getStaffDetail","props","match","params","id","setDataFromStore","getDatafromStore","type","branchList","jobtitleList","key","push","label","level_desc","value","itemsite_desc","staffPlusDetail","staffPlusWorkScheduleDetails","Date","handleChange","target","name","Object","assign","handleDatePick","handleInput","handleImageUpload","file","removepostImage","e","staffImage","index","indexOf","shift","pop","handleSubmit","validator","allValid","formData","FormData","append","scheduleData","res","console","log","status","res2","history","showMessages","handleChangeBox","event","checked","componentWillUnmount","componentWillMount","validators","contactNumber","message","rule","val","helpers","testRegex","messageReplace","replace","toSentence","required","element","autoForceUpdate","then","level_name","schedules","itm_code","itm_desc","color","itm_color","shortDesc","render","mapStateToProps","common","staffPlus","mapDispatchToProps","dispatch","AddStaffPlus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  NormalInput,\n  NormalSelect,\n  NormalButton,\n  NormalDateTime,\n} from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { DragFileUpload } from \"../../../common\";\nimport {\n  createStaffPlus,\n  getStaffPlus,\n  updateStaffPlus,\n  getWorkSchedule,\n  updateWorkSchedule,\n} from \"redux/actions/staffPlus\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { ScheduleTable } from \"./ScheduleTable\";\n\nexport class AddStaffClass extends Component {\n  state = {\n    formFields: {\n      emp_name: \"\",\n      emp_nric: \"\",\n      display_name: \"\",\n      emp_joindate: \"\",\n      defaultSiteCodeid: \"\",\n      EMP_TYPEid: \"\",\n      emp_pic: \"\",\n      emp_isactive: false,\n      is_login: false,\n      pw_password: \"\",\n      LEVEL_ItmIDid: \"\",\n      show_in_sales: false,\n      show_in_appt: false,\n      show_in_trmt: false,\n      max_disc: \"\",\n      work_schedule: {\n        monday: \"YES\",\n        tuesday: \"YES\",\n        wednesday: \"YES\",\n        thursday: \"YES\",\n        friday: \"YES\",\n        saturday: \"NO\",\n        sunday: \"NO\",\n      },\n      defaultSiteCodeid: \"\",\n    },\n    scheduleOptions: [],\n    jobOption: [],\n    locationOption: [],\n    levelList: [],\n    is_loading: false,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentWillMount() {\n    this.validator = new SimpleReactValidator({\n      validators: {\n        contactNumber: {\n          message: \"The :attribute must be a valid format.\",\n          rule: (val, params, validator) => {\n            return (\n              validator.helpers.testRegex(\n                val,\n                /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/\n              ) && params.indexOf(val) === -1\n            );\n          },\n          messageReplace: (message, params) =>\n            message.replace(\"\", this.helpers.toSentence(params)),\n          required: true,\n        },\n      },\n      element: (message) => (\n        <span className=\"error-message text-danger validNo fs14\">\n          {message}\n        </span>\n      ),\n      autoForceUpdate: this,\n    });\n\n    // branch option api\n    this.props.getCommonApi(\"branchlist/\").then((res) => {\n      let { locationOption } = this.state;\n      for (let key of res.data) {\n        locationOption.push({ value: key.id, label: key.itemsite_desc });\n      }\n      this.updateState({ locationOption });\n    });\n\n    // level option api\n    this.props.getCommonApi(\"securities/\").then((res) => {\n      let { levelList } = this.state;\n      for (let key of res.data) {\n        levelList.push({ value: key.id, label: key.level_name });\n      }\n      this.updateState({ levelList });\n    });\n\n    // schedule hours api\n    this.props.getCommonApi(\"WorkScheduleHours/\").then((res) => {\n      let { scheduleOptions } = this.state;\n      for (let key of res.schedules) {\n        scheduleOptions.push({\n          id: key.id,\n          value: key.itm_code,\n          label: key.itm_desc,\n          color: key.itm_color,\n          shortDesc: key.shortDesc,\n        });\n      }\n      this.updateState({ scheduleOptions });\n    });\n\n    // jobtitle option api\n    this.props.getJobtitle().then(() => {\n      this.getDatafromStore(\"jobtitle\");\n    });\n\n    // get api for staff while\n    if (this.props.match.params.id) {\n      this.getStaffDetail();\n    }\n  }\n\n  // get api for staff\n  getStaffDetail = async () => {\n    this.updateState({ is_loading: true });\n    await this.props.getStaffPlus(`${this.props.match.params.id}/`);\n    await this.props.getWorkSchedule(`${this.props.match.params.id}`);\n    this.setDataFromStore();\n    this.updateState({ is_loading: false });\n  };\n\n  // set dropdown data from response\n  getDatafromStore = async (type) => {\n    let { branchList, jobtitleList } = this.props;\n    let { jobOption, locationOption } = this.state;\n    if (type === \"jobtitle\") {\n      for (let key of jobtitleList) {\n        jobOption.push({ label: key.level_desc, value: key.id });\n      }\n    } else if (type === \"branch\") {\n      for (let key of branchList) {\n        locationOption.push({ label: key.itemsite_desc, value: key.id });\n      }\n    }\n    this.updateState({\n      locationOption,\n      jobOption,\n    });\n  };\n\n  // set data to formfield from response while edit\n  setDataFromStore = () => {\n    let { staffPlusDetail, staffPlusWorkScheduleDetails } = this.props;\n    let { formFields } = this.state;\n    formFields[\"emp_name\"] = staffPlusDetail.emp_name;\n    formFields[\"display_name\"] = staffPlusDetail.display_name;\n    formFields[\"emp_joindate\"] = new Date(staffPlusDetail.emp_joindate);\n    formFields[\"defaultSiteCodeid\"] = staffPlusDetail.defaultSiteCodeid;\n    formFields[\"EMP_TYPEid\"] = staffPlusDetail.EMP_TYPEid;\n    formFields[\"emp_pic\"] = staffPlusDetail.emp_pic;\n    formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\n    formFields[\"is_login\"] = staffPlusDetail.is_login;\n    formFields[\"emp_isactive\"] = staffPlusDetail.emp_isactive;\n    formFields[\"max_disc\"] = staffPlusDetail.max_disc;\n    formFields[\"LEVEL_ItmIDid\"] = staffPlusDetail.LEVEL_ItmIDid;\n    formFields[\"show_in_sales\"] = staffPlusDetail.show_in_sales;\n    formFields[\"show_in_appt\"] = staffPlusDetail.show_in_appt;\n    formFields[\"show_in_trmt\"] = staffPlusDetail.show_in_trmt;\n    formFields.work_schedule.monday = staffPlusWorkScheduleDetails.monday;\n    formFields.work_schedule.tuesday = staffPlusWorkScheduleDetails.tuesday;\n    formFields.work_schedule.wednesday = staffPlusWorkScheduleDetails.wednesday;\n    formFields.work_schedule.thursday = staffPlusWorkScheduleDetails.thursday;\n    formFields.work_schedule.friday = staffPlusWorkScheduleDetails.friday;\n    formFields.work_schedule.saturday = staffPlusWorkScheduleDetails.saturday;\n    formFields.work_schedule.sunday = staffPlusWorkScheduleDetails.sunday;\n    this.updateState({ formFields });\n  };\n\n  handleChange = ({ target: { value, name } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n\n    formFields[name] = value;\n\n    this.updateState({\n      formFields,\n    });\n  };\n\n  handleDatePick = async (name, value) => {\n    // dateFormat(new Date())\n    let { formFields } = this.state;\n    formFields[name] = value;\n    // formFields[name] = value;\n    await this.updateState({\n      formFields,\n    });\n  };\n\n  handleInput = ({ target: { name, value } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n    formFields[name] = value === true ? 1 : value;\n    this.updateState({\n      formFields,\n    });\n  };\n\n  // upload imag to formfield\n  handleImageUpload = (file) => {\n    let { formFields } = this.state;\n    formFields[\"emp_pic\"] = file;\n    this.updateState({\n      formFields,\n    });\n  };\n\n  // remove image to formfield\n  removepostImage = (e, name) => {\n    let { staffImage } = this.state.formFields;\n    let index = staffImage.indexOf(name);\n    if (index === 0) {\n      staffImage.shift();\n    } else {\n      staffImage.pop();\n    }\n    this.updateState({\n      staffImage,\n    });\n  };\n\n  // submit to create/update staff\n  handleSubmit = async () => {\n    try {\n      if (this.validator.allValid()) {\n        this.updateState({ is_loading: true });\n        let { formFields } = this.state;\n        const formData = new FormData();\n        formData.append(\"emp_name\", formFields.emp_name);\n        formData.append(\"display_name\", formFields.display_name);\n        formData.append(\"pw_password\", formFields.pw_password);\n        formData.append(\"emp_joindate\", dateFormat(formFields.emp_joindate));\n        formData.append(\"defaultSiteCodeid\", formFields.defaultSiteCodeid);\n        formData.append(\"EMP_TYPEid\", formFields.EMP_TYPEid);\n        if (typeof formFields.emp_pic === \"object\")\n          formData.append(\"emp_pic\", formFields.emp_pic);\n        formData.append(\"emp_nric\", formFields.emp_nric);\n        formData.append(\"is_login\", formFields.is_login);\n        formData.append(\"emp_isactive\", formFields.emp_isactive);\n        formData.append(\"max_disc\", formFields.max_disc);\n        formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\n        formData.append(\"show_in_sales\", formFields.show_in_sales);\n        formData.append(\"show_in_appt\", formFields.show_in_appt);\n        formData.append(\"show_in_trmt\", formFields.show_in_trmt);\n        const scheduleData = new FormData();\n        scheduleData.append(\"monday\", formFields.work_schedule.monday);\n        scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n        scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\n        scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n        scheduleData.append(\"friday\", formFields.work_schedule.friday);\n        scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\n        scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\n        if (this.props.match.params.id) {\n          var res = await this.props.updateStaffPlus(\n            `${this.props.match.params.id}/`,\n            formData\n          );\n          console.log(res);\n          if (res.status === 200) {\n            await this.props.updateWorkSchedule(\n              this.props.match.params.id,\n              scheduleData\n            );\n          }\n          await this.getStaffDetail();\n        } else {\n          var res = await this.props.createStaffPlus(formData);\n          console.log(res);\n          if (res.status === 201) {\n            var res2 = await this.props.updateWorkSchedule(\n              res.data.id,\n              scheduleData\n            );\n            if (res2.status === 200)\n              this.props.history.push(\n                `/admin/staffPlus/${res.data.id}/editStaff`\n              );\n          }\n        }\n      } else {\n        this.validator.showMessages();\n      }\n      this.updateState({ is_loading: false });\n    } catch (e) {\n      this.updateState({ is_loading: false });\n    }\n  };\n\n  handleChangeBox = (event) => {\n    let formFields = Object.assign({}, this.state.formFields);\n    //formFields[event.target.name] = event.target.checked;\n    formFields[event.target.name] = event.target.checked ? 'True' : 'False';\n\n    this.updateState({\n      formFields,\n    });\n  };\n\n  render() {\n    let {\n      formFields,\n      jobOption,\n      locationOption,\n      is_loading,\n      levelList,\n      scheduleOptions,\n    } = this.state;\n\n    let {\n      emp_name,\n      emp_nric,\n      display_name,\n      is_login,\n      EMP_TYPEid,\n      emp_joindate,\n      emp_pic,\n      emp_isactive,\n      pw_password,\n      LEVEL_ItmIDid,\n      show_in_sales,\n      show_in_appt,\n      show_in_trmt,\n      defaultSiteCodeid,\n      max_disc,\n      work_schedule,\n    } = formFields;\n    return (\n      <div className=\"px-5 container create-staff\">\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Staff</p> */}\n        <div className=\"head-label-nav\">\n          <p className=\"category\">StaffPlus</p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">\n            {this.props.match.params.id ? \"Edit\" : \"New\"} Staff\n          </p>\n        </div>\n        {is_loading ? (\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n            <div class=\"spinner-border\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        ) : (\n          <div className=\"staff-detail\">\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Upload Staff Photo\n                  </label>\n                  <div className=\"col-md-12 p-0\">\n                    <DragFileUpload\n                      className={`file-uploader size-lg ${\n                        emp_pic ? \"\" : \"no-img\"\n                      }`}\n                      label=\"Upload Thumbnail\"\n                      handleFileUpload={this.handleImageUpload}\n                    ></DragFileUpload>\n\n                    {emp_pic ? (\n                      <>\n                        {typeof emp_pic == \"string\" ? (\n                          <img src={emp_pic} alt=\"\" width=\"50%\" />\n                        ) : null}\n                      </>\n                    ) : null}\n                  </div>\n                </div>\n                {this.props.match.params.id ? (\n                  <div className=\"col-6\">\n                    <Link\n                      to={\n                        \"/admin/staffplus/\" +\n                        this.props.match.params.id +\n                        \"/empinfo\"\n                      }\n                    >\n                      <NormalButton\n                        label=\"Emp Info\"\n                        outline={true}\n                        className=\"mr-2 col-12\"\n                      />\n                    </Link>\n                  </div>\n                ) : null}\n                <div className=\"col-12 pb-4 pt-4\">\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={emp_isactive}\n                        name=\"emp_isactive\"\n                      />{\" \"}\n                      Active\n                    </Label>\n                  </FormGroup>\n                </div>\n\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Employee Name\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={display_name}\n                      name=\"display_name\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    \"staff name\",\n                    display_name,\n                    \"required\"\n                  )}\n                </div>\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    NRIC/WP\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_nric}\n                      name=\"emp_nric\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    User Name\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_name}\n                      name=\"emp_name\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\"display_name\", emp_name, \"required\")}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Employee Type\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      options={jobOption}\n                      value={EMP_TYPEid}\n                      name=\"EMP_TYPEid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    \"employee type\",\n                    EMP_TYPEid,\n                    \"required\"\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Discount Limit\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      type=\"number\"\n                      placeholder=\"Enter here\"\n                      value={max_disc}\n                      name=\"max_disc\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.validator.message(\n                    \"discount limit\",\n                    max_disc,\n                    \"required\"\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Join Date\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalDateTime\n                      onChange={this.handleDatePick}\n                      inputcol=\"p-0 inTime\"\n                      value={emp_joindate}\n                      name=\"emp_joindate\"\n                      className=\"dob-pick\"\n                      showYearDropdown={true}\n                      dateFormat=\"MM/dd/yyyy\"\n                    />\n                  </div>\n                  {this.validator.message(\n                    \"join date\",\n                    emp_joindate,\n                    \"required\"\n                  )}\n                </div>\n                <div className=\"col-6 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Site List\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      options={locationOption}\n                      value={defaultSiteCodeid}\n                      name=\"defaultSiteCodeid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-12 pb-4 pt-4\">\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={is_login}\n                        name=\"is_login\"\n                      />\n                      Security AC\n                    </Label>\n                  </FormGroup>\n                </div>\n                {is_login ? (\n                  <div>\n                    <div className=\"col-12 mb-4\">\n                      <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                        Password\n                      </label>\n                      <div className=\"input-group\">\n                        <NormalInput\n                          placeholder=\"Enter here\"\n                          value={pw_password}\n                          name=\"pw_password\"\n                          onChange={this.handleChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-12 mb-4\">\n                      <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                        Employee Level\n                      </label>\n                      <div className=\"input-group\">\n                        <NormalSelect\n                          options={levelList}\n                          value={LEVEL_ItmIDid}\n                          name=\"LEVEL_ItmIDid\"\n                          onChange={this.handleChange}\n                        />\n                      </div>\n                      {this.validator.message(\n                        \"employee level\",\n                        LEVEL_ItmIDid,\n                        \"required\"\n                      )}\n                    </div>\n                  </div>\n                ) : null}\n                <div className=\"col-12 mb-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    To Show At\n                  </label>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={show_in_sales}\n                        name=\"show_in_sales\"\n                      />\n                      Sales\n                    </Label>\n                  </FormGroup>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={show_in_trmt}\n                        name=\"show_in_trmt\"\n                      />\n                      Treatment\n                    </Label>\n                  </FormGroup>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        onChange={this.handleChangeBox}\n                        checked={show_in_appt}\n                        name=\"show_in_appt\"\n                      />\n                      Appointment\n                    </Label>\n                  </FormGroup>\n                </div>\n              </div>\n\n              <div className=\"form-group mb-4 pb-2\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                      Work Schedule\n                    </label>\n                    <ScheduleTable\n                      data={work_schedule}\n                      optionList={scheduleOptions}\n                      onChange={(data) => {\n                        let { formFields } = this.state;\n                        formFields[\"work_schedule\"] = data;\n                        this.updateState({\n                          formFields,\n                        });\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"pt-5 d-flex justify-content-center\">\n                <div className=\"col-md-3 col-lg-2\">\n                  <Link to=\"/admin/staffplus\">\n                    <NormalButton\n                      label=\"Cancel\"\n                      danger={true}\n                      className=\"mr-2 col-12\"\n                    />\n                  </Link>\n                </div>\n                <div className=\"col-md-3 col-lg-2\">\n                  <NormalButton\n                    onClick={() => this.handleSubmit()}\n                    label=\"Save\"\n                    success={true}\n                    className=\"mr-2 col-12\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  branchList: state.common.branchList,\n  jobtitleList: state.common.jobtitleList,\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\n  staffPlusWorkScheduleDetails: state.staffPlus.staffPlusWorkScheduleDetails,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      createStaffPlus,\n      getJobtitle,\n      getStaffPlus,\n      updateStaffPlus,\n      getCommonApi,\n      getWorkSchedule,\n      updateWorkSchedule,\n    },\n    dispatch\n  );\n};\n\nexport const AddStaffPlus = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddStaffClass);\n"]},"metadata":{},"sourceType":"module"}