{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.notification.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\n\nvar _popup = _interopRequireDefault(require(\"../popup\"));\n\nvar _ui2 = _interopRequireDefault(require(\"../drawer/ui.drawer\"));\n\nvar _uiFile_managerNotification = _interopRequireDefault(require(\"./ui.file_manager.notification.progress_panel\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function (target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var result,\n        Super = _getPrototypeOf(Derived);\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" === typeof Reflect || !Reflect.construct) {\n    return false;\n  }\n\n  if (Reflect.construct.sham) {\n    return false;\n  }\n\n  if (\"function\" === typeof Proxy) {\n    return true;\n  }\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar window = (0, _window.getWindow)();\nvar ADAPTIVE_STATE_SCREEN_WIDTH = 1e3;\nvar FILE_MANAGER_NOTIFICATION_CLASS = \"dx-filemanager-notification\";\nvar FILE_MANAGER_NOTIFICATION_DRAWER_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-drawer\");\nvar FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS, \"-panel\");\nvar FILE_MANAGER_NOTIFICATION_POPUP_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup\");\nvar FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup-error\");\nvar FILE_MANAGER_NOTIFICATION_COMMON_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common\");\nvar FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-separator\");\nvar FILE_MANAGER_NOTIFICATION_DETAILS_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-details\");\nvar FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common-no-item\");\n\nvar FileManagerNotificationControl = function (_Widget) {\n  _inherits(FileManagerNotificationControl, _Widget);\n\n  var _super = _createSuper(FileManagerNotificationControl);\n\n  function FileManagerNotificationControl() {\n    _classCallCheck(this, FileManagerNotificationControl);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FileManagerNotificationControl, [{\n    key: \"_initMarkup\",\n    value: function () {\n      var _this = this;\n\n      _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_initMarkup\", this).call(this);\n\n      this._initActions();\n\n      this._actionProgressStatus = \"default\";\n      this._operationInProgressCount = 0;\n      this._failedOperationCount = 0;\n      this._isInAdaptiveState = this._isSmallScreen();\n      var $progressPanelContainer = this.option(\"progressPanelContainer\");\n      var $progressDrawer = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo($progressPanelContainer);\n      (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS).appendTo($progressDrawer);\n      var drawerOptions = (0, _extend.extend)({\n        opened: false,\n        position: \"right\",\n        template: function (container) {\n          return _this._ensureProgressPanelCreated(container);\n        }\n      }, this._getProgressDrawerAdaptiveOptions());\n      this._progressDrawer = this._createComponent($progressDrawer, _ui2.default, drawerOptions);\n      var $drawerContent = $progressDrawer.find(\".\".concat(FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS)).first();\n      var contentRenderer = this.option(\"contentTemplate\");\n\n      if ((0, _type.isFunction)(contentRenderer)) {\n        contentRenderer($drawerContent);\n      }\n    }\n  }, {\n    key: \"tryShowProgressPanel\",\n    value: function () {\n      var _this2 = this;\n\n      var promise = new _deferred.Deferred();\n\n      if (\"default\" === this._actionProgressStatus || this._isProgressDrawerOpened()) {\n        return promise.resolve().promise();\n      }\n\n      setTimeout(function () {\n        _this2._progressDrawer.show().done(promise.resolve);\n\n        _this2._getNotificationPopup().hide();\n\n        _this2._tryHideActionProgress();\n      });\n      return promise.promise();\n    }\n  }, {\n    key: \"addOperation\",\n    value: function (processingMessage, allowCancel, allowProgressAutoUpdate) {\n      this._operationInProgressCount++;\n\n      var operationInfo = this._progressPanel.addOperation(processingMessage, allowCancel, allowProgressAutoUpdate);\n\n      this._updateActionProgress(processingMessage, \"progress\");\n\n      return operationInfo;\n    }\n  }, {\n    key: \"addOperationDetails\",\n    value: function (info, details, showCloseButton) {\n      this._progressPanel.addOperationDetails(info, details, showCloseButton);\n    }\n  }, {\n    key: \"updateOperationItemProgress\",\n    value: function (operationInfo, itemIndex, itemProgress, commonProgress) {\n      this._progressPanel.updateOperationItemProgress(operationInfo, itemIndex, itemProgress, commonProgress);\n    }\n  }, {\n    key: \"completeOperationItem\",\n    value: function (operationInfo, itemIndex, commonProgress) {\n      this._progressPanel.completeOperationItem(operationInfo, itemIndex, commonProgress);\n    }\n  }, {\n    key: \"completeOperation\",\n    value: function (info, commonText, isError, statusText) {\n      this._operationInProgressCount--;\n\n      if (isError) {\n        this._failedOperationCount++;\n      } else {\n        this._showPopup(commonText);\n      }\n\n      this._progressPanel.completeOperation(info, commonText, isError, statusText);\n\n      if (!this._isProgressDrawerOpened() || !this._tryHideActionProgress()) {\n        var status = 0 === this._failedOperationCount ? \"success\" : \"error\";\n\n        this._updateActionProgress(\"\", status);\n      }\n    }\n  }, {\n    key: \"completeSingleOperationWithError\",\n    value: function (operationInfo, errorInfo) {\n      this._progressPanel.completeSingleOperationWithError(operationInfo, errorInfo.detailErrorText);\n\n      this._notifyError(errorInfo);\n    }\n  }, {\n    key: \"addOperationDetailsError\",\n    value: function (operationInfo, errorInfo) {\n      this._progressPanel.addOperationDetailsError(operationInfo, errorInfo.itemIndex, errorInfo.detailErrorText);\n\n      this._notifyError(errorInfo);\n    }\n  }, {\n    key: \"_hideProgressPanel\",\n    value: function () {\n      var _this3 = this;\n\n      setTimeout(function () {\n        return _this3._progressDrawer.hide();\n      });\n    }\n  }, {\n    key: \"_tryHideActionProgress\",\n    value: function () {\n      if (0 === this._operationInProgressCount && 0 === this._failedOperationCount) {\n        this._updateActionProgress(\"\", \"default\");\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_updateActionProgress\",\n    value: function (message, status) {\n      this._actionProgressStatus = status;\n\n      this._raiseActionProgress(message, status);\n    }\n  }, {\n    key: \"_isSmallScreen\",\n    value: function () {\n      if (!(0, _window.hasWindow)()) {\n        return false;\n      }\n\n      return (0, _renderer.default)(window).width() <= ADAPTIVE_STATE_SCREEN_WIDTH;\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function (dimension) {\n      if (!dimension || \"height\" !== dimension) {\n        this._checkAdaptiveState();\n      }\n    }\n  }, {\n    key: \"_checkAdaptiveState\",\n    value: function () {\n      var oldState = this._isInAdaptiveState;\n      this._isInAdaptiveState = this._isSmallScreen();\n\n      if (this._progressDrawer && oldState !== this._isInAdaptiveState) {\n        if (this._progressPanel) {\n          this._progressPanel.$element().detach();\n        }\n\n        var options = this._getProgressDrawerAdaptiveOptions();\n\n        this._progressDrawer.option(options);\n      }\n    }\n  }, {\n    key: \"_getProgressDrawerAdaptiveOptions\",\n    value: function () {\n      if (this._isInAdaptiveState) {\n        return {\n          openedStateMode: \"overlap\",\n          shading: true,\n          closeOnOutsideClick: true\n        };\n      } else {\n        return {\n          openedStateMode: \"shrink\",\n          shading: false,\n          closeOnOutsideClick: false\n        };\n      }\n    }\n  }, {\n    key: \"_ensureProgressPanelCreated\",\n    value: function (container) {\n      var _this4 = this;\n\n      if (!this._progressPanel) {\n        var $progressPanelElement = (0, _renderer.default)(\"<div>\").appendTo(container);\n        this._progressPanel = this._createComponent($progressPanelElement, this._getProgressPanelComponent(), {\n          onOperationClosed: function (_ref) {\n            var info = _ref.info;\n            return _this4._onProgressPanelOperationClosed(info);\n          },\n          onOperationCanceled: function (_ref2) {\n            var info = _ref2.info;\n            return _this4._raiseOperationCanceled(info);\n          },\n          onOperationItemCanceled: function (_ref3) {\n            var item = _ref3.item,\n                itemIndex = _ref3.itemIndex;\n            return _this4._raiseOperationItemCanceled(item, itemIndex);\n          },\n          onPanelClosed: function () {\n            return _this4._hideProgressPanel();\n          }\n        });\n      } else {\n        this._progressPanel.$element().appendTo(container);\n      }\n    }\n  }, {\n    key: \"_getProgressPanelComponent\",\n    value: function () {\n      return _uiFile_managerNotification.default;\n    }\n  }, {\n    key: \"_notifyError\",\n    value: function (errorInfo) {\n      this._showPopupError(errorInfo);\n\n      this._updateActionProgress(errorInfo.commonErrorText, \"error\");\n    }\n  }, {\n    key: \"_onProgressPanelOperationClosed\",\n    value: function (info) {\n      if (info.hasError) {\n        this._failedOperationCount--;\n\n        this._tryHideActionProgress();\n      }\n    }\n  }, {\n    key: \"_isProgressDrawerOpened\",\n    value: function () {\n      return this._progressDrawer.option(\"opened\");\n    }\n  }, {\n    key: \"_showPopup\",\n    value: function (content, errorMode) {\n      if (this._isProgressDrawerOpened()) {\n        return;\n      }\n\n      this._getNotificationPopup()._wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS, !!errorMode);\n\n      this._getNotificationPopup().option(\"contentTemplate\", content);\n\n      if (!this._getNotificationPopup().option(\"visible\")) {\n        this._getNotificationPopup().show();\n      }\n    }\n  }, {\n    key: \"_showPopupError\",\n    value: function (errorInfo) {\n      var $content = (0, _renderer.default)(\"<div>\");\n      var $message = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(errorInfo.commonErrorText);\n      var $separator = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);\n      (0, _renderer.default)(\"<div>\").appendTo($separator);\n      var $details = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);\n\n      if (errorInfo.item) {\n        this._progressPanel.createErrorDetailsProgressBox($details, errorInfo.item, errorInfo.detailErrorText);\n      } else {\n        $message.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS);\n\n        this._progressPanel.renderError($details, $separator, errorInfo.detailErrorText);\n      }\n\n      $content.append($message, $separator, $details);\n\n      this._showPopup($content, true);\n    }\n  }, {\n    key: \"_getNotificationPopup\",\n    value: function () {\n      if (!this._notificationPopup) {\n        var $popup = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_POPUP_CLASS).appendTo(this.$element());\n        this._notificationPopup = this._createComponent($popup, _popup.default, {\n          container: this.$element(),\n          width: \"auto\",\n          height: \"auto\",\n          showTitle: false,\n          dragEnabled: false,\n          shading: false,\n          visible: false,\n          closeOnOutsideClick: true,\n          animation: {\n            duration: 0\n          },\n          position: {\n            my: \"right top\",\n            at: \"right top\",\n            of: this.option(\"positionTarget\"),\n            offset: \"-10 -5\"\n          }\n        });\n      }\n\n      return this._notificationPopup;\n    }\n  }, {\n    key: \"_raiseActionProgress\",\n    value: function (message, status) {\n      this._actions.onActionProgress({\n        message: message,\n        status: status\n      });\n    }\n  }, {\n    key: \"_raiseOperationCanceled\",\n    value: function (info) {\n      this._actions.onOperationCanceled({\n        info: info\n      });\n    }\n  }, {\n    key: \"_raiseOperationItemCanceled\",\n    value: function (item, index) {\n      this._actions.onOperationItemCanceled({\n        item: item,\n        itemIndex: index\n      });\n    }\n  }, {\n    key: \"_initActions\",\n    value: function () {\n      this._actions = {\n        onActionProgress: this._createActionByOption(\"onActionProgress\"),\n        onOperationCanceled: this._createActionByOption(\"onOperationCanceled\"),\n        onOperationItemCanceled: this._createActionByOption(\"onOperationItemCanceled\")\n      };\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function () {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_getDefaultOptions\", this).call(this), {\n        progressPanelContainer: null,\n        contentTemplate: null,\n        onActionProgress: null,\n        onOperationCanceled: null,\n        onOperationItemCanceled: null\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function (args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"progressPanelContainer\":\n        case \"contentTemplate\":\n          break;\n\n        case \"onActionProgress\":\n        case \"onOperationCanceled\":\n        case \"onOperationItemCanceled\":\n          this._actions[name] = this._createActionByOption(name);\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return FileManagerNotificationControl;\n}(_ui.default);\n\nexports.default = FileManagerNotificationControl;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/file_manager/ui.file_manager.notification.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_renderer","_interopRequireDefault","require","_extend","_type","_deferred","_window","_ui","_popup","_ui2","_uiFile_managerNotification","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","window","getWindow","ADAPTIVE_STATE_SCREEN_WIDTH","FILE_MANAGER_NOTIFICATION_CLASS","FILE_MANAGER_NOTIFICATION_DRAWER_CLASS","concat","FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS","FILE_MANAGER_NOTIFICATION_POPUP_CLASS","FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS","FILE_MANAGER_NOTIFICATION_COMMON_CLASS","FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS","FILE_MANAGER_NOTIFICATION_DETAILS_CLASS","FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS","FileManagerNotificationControl","_Widget","_super","_this","_initActions","_actionProgressStatus","_operationInProgressCount","_failedOperationCount","_isInAdaptiveState","_isSmallScreen","$progressPanelContainer","option","$progressDrawer","addClass","appendTo","drawerOptions","extend","opened","position","template","container","_ensureProgressPanelCreated","_getProgressDrawerAdaptiveOptions","_progressDrawer","_createComponent","$drawerContent","find","first","contentRenderer","isFunction","_this2","promise","Deferred","_isProgressDrawerOpened","resolve","setTimeout","show","done","_getNotificationPopup","hide","_tryHideActionProgress","processingMessage","allowCancel","allowProgressAutoUpdate","operationInfo","_progressPanel","addOperation","_updateActionProgress","info","details","showCloseButton","addOperationDetails","itemIndex","itemProgress","commonProgress","updateOperationItemProgress","completeOperationItem","commonText","isError","statusText","_showPopup","completeOperation","status","errorInfo","completeSingleOperationWithError","detailErrorText","_notifyError","addOperationDetailsError","_this3","message","_raiseActionProgress","hasWindow","width","dimension","_checkAdaptiveState","oldState","$element","detach","options","openedStateMode","shading","closeOnOutsideClick","_this4","$progressPanelElement","_getProgressPanelComponent","onOperationClosed","_ref","_onProgressPanelOperationClosed","onOperationCanceled","_ref2","_raiseOperationCanceled","onOperationItemCanceled","_ref3","item","_raiseOperationItemCanceled","onPanelClosed","_hideProgressPanel","_showPopupError","commonErrorText","hasError","content","errorMode","_wrapper","toggleClass","$content","$message","text","$separator","$details","createErrorDetailsProgressBox","renderError","append","_notificationPopup","$popup","height","showTitle","dragEnabled","visible","animation","duration","my","at","of","offset","_actions","onActionProgress","index","_createActionByOption","progressPanelContainer","contentTemplate","args","name","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.notification.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\nvar _popup = _interopRequireDefault(require(\"../popup\"));\r\nvar _ui2 = _interopRequireDefault(require(\"../drawer/ui.drawer\"));\r\nvar _uiFile_managerNotification = _interopRequireDefault(require(\"./ui.file_manager.notification.progress_panel\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar ADAPTIVE_STATE_SCREEN_WIDTH = 1e3;\r\nvar FILE_MANAGER_NOTIFICATION_CLASS = \"dx-filemanager-notification\";\r\nvar FILE_MANAGER_NOTIFICATION_DRAWER_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-drawer\");\r\nvar FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS, \"-panel\");\r\nvar FILE_MANAGER_NOTIFICATION_POPUP_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup\");\r\nvar FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup-error\");\r\nvar FILE_MANAGER_NOTIFICATION_COMMON_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common\");\r\nvar FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-separator\");\r\nvar FILE_MANAGER_NOTIFICATION_DETAILS_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-details\");\r\nvar FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common-no-item\");\r\nvar FileManagerNotificationControl = function(_Widget) {\r\n    _inherits(FileManagerNotificationControl, _Widget);\r\n    var _super = _createSuper(FileManagerNotificationControl);\r\n\r\n    function FileManagerNotificationControl() {\r\n        _classCallCheck(this, FileManagerNotificationControl);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(FileManagerNotificationControl, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            var _this = this;\r\n            _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_initMarkup\", this).call(this);\r\n            this._initActions();\r\n            this._actionProgressStatus = \"default\";\r\n            this._operationInProgressCount = 0;\r\n            this._failedOperationCount = 0;\r\n            this._isInAdaptiveState = this._isSmallScreen();\r\n            var $progressPanelContainer = this.option(\"progressPanelContainer\");\r\n            var $progressDrawer = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo($progressPanelContainer);\r\n            (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS).appendTo($progressDrawer);\r\n            var drawerOptions = (0, _extend.extend)({\r\n                opened: false,\r\n                position: \"right\",\r\n                template: function(container) {\r\n                    return _this._ensureProgressPanelCreated(container)\r\n                }\r\n            }, this._getProgressDrawerAdaptiveOptions());\r\n            this._progressDrawer = this._createComponent($progressDrawer, _ui2.default, drawerOptions);\r\n            var $drawerContent = $progressDrawer.find(\".\".concat(FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS)).first();\r\n            var contentRenderer = this.option(\"contentTemplate\");\r\n            if ((0, _type.isFunction)(contentRenderer)) {\r\n                contentRenderer($drawerContent)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"tryShowProgressPanel\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var promise = new _deferred.Deferred;\r\n            if (\"default\" === this._actionProgressStatus || this._isProgressDrawerOpened()) {\r\n                return promise.resolve().promise()\r\n            }\r\n            setTimeout(function() {\r\n                _this2._progressDrawer.show().done(promise.resolve);\r\n                _this2._getNotificationPopup().hide();\r\n                _this2._tryHideActionProgress()\r\n            });\r\n            return promise.promise()\r\n        }\r\n    }, {\r\n        key: \"addOperation\",\r\n        value: function(processingMessage, allowCancel, allowProgressAutoUpdate) {\r\n            this._operationInProgressCount++;\r\n            var operationInfo = this._progressPanel.addOperation(processingMessage, allowCancel, allowProgressAutoUpdate);\r\n            this._updateActionProgress(processingMessage, \"progress\");\r\n            return operationInfo\r\n        }\r\n    }, {\r\n        key: \"addOperationDetails\",\r\n        value: function(info, details, showCloseButton) {\r\n            this._progressPanel.addOperationDetails(info, details, showCloseButton)\r\n        }\r\n    }, {\r\n        key: \"updateOperationItemProgress\",\r\n        value: function(operationInfo, itemIndex, itemProgress, commonProgress) {\r\n            this._progressPanel.updateOperationItemProgress(operationInfo, itemIndex, itemProgress, commonProgress)\r\n        }\r\n    }, {\r\n        key: \"completeOperationItem\",\r\n        value: function(operationInfo, itemIndex, commonProgress) {\r\n            this._progressPanel.completeOperationItem(operationInfo, itemIndex, commonProgress)\r\n        }\r\n    }, {\r\n        key: \"completeOperation\",\r\n        value: function(info, commonText, isError, statusText) {\r\n            this._operationInProgressCount--;\r\n            if (isError) {\r\n                this._failedOperationCount++\r\n            } else {\r\n                this._showPopup(commonText)\r\n            }\r\n            this._progressPanel.completeOperation(info, commonText, isError, statusText);\r\n            if (!this._isProgressDrawerOpened() || !this._tryHideActionProgress()) {\r\n                var status = 0 === this._failedOperationCount ? \"success\" : \"error\";\r\n                this._updateActionProgress(\"\", status)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"completeSingleOperationWithError\",\r\n        value: function(operationInfo, errorInfo) {\r\n            this._progressPanel.completeSingleOperationWithError(operationInfo, errorInfo.detailErrorText);\r\n            this._notifyError(errorInfo)\r\n        }\r\n    }, {\r\n        key: \"addOperationDetailsError\",\r\n        value: function(operationInfo, errorInfo) {\r\n            this._progressPanel.addOperationDetailsError(operationInfo, errorInfo.itemIndex, errorInfo.detailErrorText);\r\n            this._notifyError(errorInfo)\r\n        }\r\n    }, {\r\n        key: \"_hideProgressPanel\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            setTimeout(function() {\r\n                return _this3._progressDrawer.hide()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryHideActionProgress\",\r\n        value: function() {\r\n            if (0 === this._operationInProgressCount && 0 === this._failedOperationCount) {\r\n                this._updateActionProgress(\"\", \"default\");\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_updateActionProgress\",\r\n        value: function(message, status) {\r\n            this._actionProgressStatus = status;\r\n            this._raiseActionProgress(message, status)\r\n        }\r\n    }, {\r\n        key: \"_isSmallScreen\",\r\n        value: function() {\r\n            if (!(0, _window.hasWindow)()) {\r\n                return false\r\n            }\r\n            return (0, _renderer.default)(window).width() <= ADAPTIVE_STATE_SCREEN_WIDTH\r\n        }\r\n    }, {\r\n        key: \"_dimensionChanged\",\r\n        value: function(dimension) {\r\n            if (!dimension || \"height\" !== dimension) {\r\n                this._checkAdaptiveState()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_checkAdaptiveState\",\r\n        value: function() {\r\n            var oldState = this._isInAdaptiveState;\r\n            this._isInAdaptiveState = this._isSmallScreen();\r\n            if (this._progressDrawer && oldState !== this._isInAdaptiveState) {\r\n                if (this._progressPanel) {\r\n                    this._progressPanel.$element().detach()\r\n                }\r\n                var options = this._getProgressDrawerAdaptiveOptions();\r\n                this._progressDrawer.option(options)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getProgressDrawerAdaptiveOptions\",\r\n        value: function() {\r\n            if (this._isInAdaptiveState) {\r\n                return {\r\n                    openedStateMode: \"overlap\",\r\n                    shading: true,\r\n                    closeOnOutsideClick: true\r\n                }\r\n            } else {\r\n                return {\r\n                    openedStateMode: \"shrink\",\r\n                    shading: false,\r\n                    closeOnOutsideClick: false\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_ensureProgressPanelCreated\",\r\n        value: function(container) {\r\n            var _this4 = this;\r\n            if (!this._progressPanel) {\r\n                var $progressPanelElement = (0, _renderer.default)(\"<div>\").appendTo(container);\r\n                this._progressPanel = this._createComponent($progressPanelElement, this._getProgressPanelComponent(), {\r\n                    onOperationClosed: function(_ref) {\r\n                        var info = _ref.info;\r\n                        return _this4._onProgressPanelOperationClosed(info)\r\n                    },\r\n                    onOperationCanceled: function(_ref2) {\r\n                        var info = _ref2.info;\r\n                        return _this4._raiseOperationCanceled(info)\r\n                    },\r\n                    onOperationItemCanceled: function(_ref3) {\r\n                        var item = _ref3.item,\r\n                            itemIndex = _ref3.itemIndex;\r\n                        return _this4._raiseOperationItemCanceled(item, itemIndex)\r\n                    },\r\n                    onPanelClosed: function() {\r\n                        return _this4._hideProgressPanel()\r\n                    }\r\n                })\r\n            } else {\r\n                this._progressPanel.$element().appendTo(container)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getProgressPanelComponent\",\r\n        value: function() {\r\n            return _uiFile_managerNotification.default\r\n        }\r\n    }, {\r\n        key: \"_notifyError\",\r\n        value: function(errorInfo) {\r\n            this._showPopupError(errorInfo);\r\n            this._updateActionProgress(errorInfo.commonErrorText, \"error\")\r\n        }\r\n    }, {\r\n        key: \"_onProgressPanelOperationClosed\",\r\n        value: function(info) {\r\n            if (info.hasError) {\r\n                this._failedOperationCount--;\r\n                this._tryHideActionProgress()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isProgressDrawerOpened\",\r\n        value: function() {\r\n            return this._progressDrawer.option(\"opened\")\r\n        }\r\n    }, {\r\n        key: \"_showPopup\",\r\n        value: function(content, errorMode) {\r\n            if (this._isProgressDrawerOpened()) {\r\n                return\r\n            }\r\n            this._getNotificationPopup()._wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS, !!errorMode);\r\n            this._getNotificationPopup().option(\"contentTemplate\", content);\r\n            if (!this._getNotificationPopup().option(\"visible\")) {\r\n                this._getNotificationPopup().show()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showPopupError\",\r\n        value: function(errorInfo) {\r\n            var $content = (0, _renderer.default)(\"<div>\");\r\n            var $message = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(errorInfo.commonErrorText);\r\n            var $separator = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);\r\n            (0, _renderer.default)(\"<div>\").appendTo($separator);\r\n            var $details = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);\r\n            if (errorInfo.item) {\r\n                this._progressPanel.createErrorDetailsProgressBox($details, errorInfo.item, errorInfo.detailErrorText)\r\n            } else {\r\n                $message.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS);\r\n                this._progressPanel.renderError($details, $separator, errorInfo.detailErrorText)\r\n            }\r\n            $content.append($message, $separator, $details);\r\n            this._showPopup($content, true)\r\n        }\r\n    }, {\r\n        key: \"_getNotificationPopup\",\r\n        value: function() {\r\n            if (!this._notificationPopup) {\r\n                var $popup = (0, _renderer.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_POPUP_CLASS).appendTo(this.$element());\r\n                this._notificationPopup = this._createComponent($popup, _popup.default, {\r\n                    container: this.$element(),\r\n                    width: \"auto\",\r\n                    height: \"auto\",\r\n                    showTitle: false,\r\n                    dragEnabled: false,\r\n                    shading: false,\r\n                    visible: false,\r\n                    closeOnOutsideClick: true,\r\n                    animation: {\r\n                        duration: 0\r\n                    },\r\n                    position: {\r\n                        my: \"right top\",\r\n                        at: \"right top\",\r\n                        of: this.option(\"positionTarget\"),\r\n                        offset: \"-10 -5\"\r\n                    }\r\n                })\r\n            }\r\n            return this._notificationPopup\r\n        }\r\n    }, {\r\n        key: \"_raiseActionProgress\",\r\n        value: function(message, status) {\r\n            this._actions.onActionProgress({\r\n                message: message,\r\n                status: status\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOperationCanceled\",\r\n        value: function(info) {\r\n            this._actions.onOperationCanceled({\r\n                info: info\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOperationItemCanceled\",\r\n        value: function(item, index) {\r\n            this._actions.onOperationItemCanceled({\r\n                item: item,\r\n                itemIndex: index\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            this._actions = {\r\n                onActionProgress: this._createActionByOption(\"onActionProgress\"),\r\n                onOperationCanceled: this._createActionByOption(\"onOperationCanceled\"),\r\n                onOperationItemCanceled: this._createActionByOption(\"onOperationItemCanceled\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                progressPanelContainer: null,\r\n                contentTemplate: null,\r\n                onActionProgress: null,\r\n                onOperationCanceled: null,\r\n                onOperationItemCanceled: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"progressPanelContainer\":\r\n                case \"contentTemplate\":\r\n                    break;\r\n                case \"onActionProgress\":\r\n                case \"onOperationCanceled\":\r\n                case \"onOperationItemCanceled\":\r\n                    this._actions[name] = this._createActionByOption(name);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }]);\r\n    return FileManagerNotificationControl\r\n}(_ui.default);\r\nexports.default = FileManagerNotificationControl;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}