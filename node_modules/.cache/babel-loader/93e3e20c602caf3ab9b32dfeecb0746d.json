{"ast":null,"code":"/*!\n * DevExpress Gantt (dx-gantt)\n * Version: 2.0.18\n * Build date: Fri Dec 25 2020\n * \n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Gantt\"] = factory();else root[\"DevExpress\"] = root[\"DevExpress\"] || {}, root[\"DevExpress\"][\"Gantt\"] = factory();\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 52);\n      /******/\n    }([\n      /* 0 */\n\n      /***/\n\n      /* 1 */\n\n      /***/\n\n      /* 2 */\n\n      /***/\n\n      /* 3 */\n\n      /***/\n\n      /* 4 */\n\n      /***/\n\n      /* 5 */\n\n      /***/\n\n      /* 6 */\n\n      /***/\n\n      /* 7 */\n\n      /***/\n\n      /* 8 */\n\n      /***/\n\n      /* 9 */\n\n      /***/\n\n      /* 10 */\n\n      /***/\n\n      /* 11 */\n\n      /***/\n\n      /* 12 */\n\n      /***/\n\n      /* 13 */\n\n      /***/\n\n      /* 14 */\n\n      /***/\n\n      /* 15 */\n\n      /***/\n\n      /* 16 */\n\n      /***/\n\n      /* 17 */\n\n      /***/\n\n      /* 18 */\n\n      /***/\n\n      /* 19 */\n\n      /***/\n\n      /* 20 */\n\n      /***/\n\n      /* 21 */\n\n      /***/\n\n      /* 22 */\n\n      /***/\n\n      /* 23 */\n\n      /***/\n\n      /* 24 */\n\n      /***/\n\n      /* 25 */\n\n      /***/\n\n      /* 26 */\n\n      /***/\n\n      /* 27 */\n\n      /***/\n\n      /* 28 */\n\n      /***/\n\n      /* 29 */\n\n      /***/\n\n      /* 30 */\n\n      /***/\n\n      /* 31 */\n\n      /***/\n\n      /* 32 */\n\n      /***/\n\n      /* 33 */\n\n      /***/\n\n      /* 34 */\n\n      /***/\n\n      /* 35 */\n\n      /***/\n\n      /* 36 */\n\n      /***/\n\n      /* 37 */\n\n      /***/\n\n      /* 38 */\n\n      /***/\n\n      /* 39 */\n\n      /***/\n\n      /* 40 */\n\n      /***/\n\n      /* 41 */\n\n      /***/\n\n      /* 42 */\n\n      /***/\n\n      /* 43 */\n\n      /***/\n\n      /* 44 */\n\n      /***/\n\n      /* 45 */\n\n      /***/\n\n      /* 46 */\n\n      /***/\n\n      /* 47 */\n\n      /***/\n\n      /* 48 */\n\n      /***/\n\n      /* 49 */\n\n      /***/\n\n      /* 50 */\n\n      /***/\n\n      /* 51 */\n\n      /***/\n\n      /* 52 */\n\n      /***/\n\n      /* 53 */\n\n      /***/\n\n      /* 54 */\n\n      /***/\n\n      /* 55 */\n\n      /***/\n\n      /* 56 */\n\n      /***/\n\n      /* 57 */\n\n      /***/\n\n      /* 58 */\n\n      /***/\n\n      /* 59 */\n\n      /***/\n\n      /* 60 */\n\n      /***/\n\n      /* 61 */\n\n      /***/\n\n      /* 62 */\n\n      /***/\n\n      /* 63 */\n\n      /***/\n\n      /* 64 */\n\n      /***/\n\n      /* 65 */\n\n      /***/\n\n      /* 66 */\n\n      /***/\n\n      /* 67 */\n\n      /***/\n\n      /* 68 */\n\n      /***/\n\n      /* 69 */\n\n      /***/\n\n      /* 70 */\n\n      /***/\n\n      /* 71 */\n\n      /***/\n\n      /* 72 */\n\n      /***/\n\n      /* 73 */\n\n      /***/\n\n      /* 74 */\n\n      /***/\n\n      /* 75 */\n\n      /***/\n\n      /* 76 */\n\n      /***/\n\n      /* 77 */\n\n      /***/\n\n      /* 78 */\n\n      /***/\n\n      /* 79 */\n\n      /***/\n\n      /* 80 */\n\n      /***/\n\n      /* 81 */\n\n      /***/\n\n      /* 82 */\n\n      /***/\n\n      /* 83 */\n\n      /***/\n\n      /* 84 */\n\n      /***/\n\n      /* 85 */\n\n      /***/\n\n      /* 86 */\n\n      /***/\n\n      /* 87 */\n\n      /***/\n\n      /* 88 */\n\n      /***/\n\n      /* 89 */\n\n      /***/\n\n      /* 90 */\n\n      /***/\n\n      /* 91 */\n\n      /***/\n\n      /* 92 */\n\n      /***/\n\n      /* 93 */\n\n      /***/\n\n      /* 94 */\n\n      /***/\n\n      /* 95 */\n\n      /***/\n\n      /* 96 */\n\n      /***/\n\n      /* 97 */\n\n      /***/\n\n      /* 98 */\n\n      /***/\n\n      /* 99 */\n\n      /***/\n\n      /* 100 */\n\n      /***/\n\n      /* 101 */\n\n      /***/\n\n      /* 102 */\n\n      /***/\n\n      /* 103 */\n\n      /***/\n\n      /* 104 */\n\n      /***/\n\n      /* 105 */\n\n      /***/\n\n      /* 106 */\n\n      /***/\n\n      /* 107 */\n\n      /***/\n\n      /* 108 */\n\n      /***/\n\n      /* 109 */\n\n      /***/\n\n      /* 110 */\n\n      /***/\n\n      /* 111 */\n\n      /***/\n\n      /* 112 */\n\n      /***/\n\n      /* 113 */\n\n      /***/\n\n      /* 114 */\n\n      /***/\n\n      /* 115 */\n\n      /***/\n\n      /* 116 */\n\n      /***/\n\n      /* 117 */\n\n      /***/\n\n      /* 118 */\n\n      /***/\n\n      /* 119 */\n\n      /***/\n\n      /* 120 */\n\n      /***/\n\n      /* 121 */\n\n      /***/\n\n      /* 122 */\n\n      /***/\n\n      /* 123 */\n\n      /***/\n\n      /* 124 */\n\n      /***/\n\n      /******/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__);\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__extends\", function () {\n        return __extends;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__assign\", function () {\n        return __assign;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__rest\", function () {\n        return __rest;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__decorate\", function () {\n        return __decorate;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__param\", function () {\n        return __param;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__metadata\", function () {\n        return __metadata;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__awaiter\", function () {\n        return __awaiter;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__generator\", function () {\n        return __generator;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__createBinding\", function () {\n        return __createBinding;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__exportStar\", function () {\n        return __exportStar;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__values\", function () {\n        return __values;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__read\", function () {\n        return __read;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__spread\", function () {\n        return __spread;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__spreadArrays\", function () {\n        return __spreadArrays;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__await\", function () {\n        return __await;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__asyncGenerator\", function () {\n        return __asyncGenerator;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__asyncDelegator\", function () {\n        return __asyncDelegator;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__asyncValues\", function () {\n        return __asyncValues;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__makeTemplateObject\", function () {\n        return __makeTemplateObject;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__importStar\", function () {\n        return __importStar;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__importDefault\", function () {\n        return __importDefault;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldGet\", function () {\n        return __classPrivateFieldGet;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldSet\", function () {\n        return __classPrivateFieldSet;\n      });\n      /*! *****************************************************************************\r\n      Copyright (c) Microsoft Corporation.\r\n      \r\n      Permission to use, copy, modify, and/or distribute this software for any\r\n      purpose with or without fee is hereby granted.\r\n      \r\n      THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n      PERFORMANCE OF THIS SOFTWARE.\r\n      ***************************************************************************** */\n\n      /* global Reflect, Promise */\n\n\n      var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n\n        return extendStatics(d, b);\n      };\n\n      function __extends(d, b) {\n        extendStatics(d, b);\n\n        function __() {\n          this.constructor = d;\n        }\n\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n      }\n\n      var __assign = function () {\n        __assign = Object.assign || function __assign(t) {\n          for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n          }\n\n          return t;\n        };\n\n        return __assign.apply(this, arguments);\n      };\n\n      function __rest(s, e) {\n        var t = {};\n\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n        }\n        return t;\n      }\n\n      function __decorate(decorators, target, key, desc) {\n        var c = arguments.length,\n            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n            d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n      }\n\n      function __param(paramIndex, decorator) {\n        return function (target, key) {\n          decorator(target, key, paramIndex);\n        };\n      }\n\n      function __metadata(metadataKey, metadataValue) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n      }\n\n      function __awaiter(thisArg, _arguments, P, generator) {\n        function adopt(value) {\n          return value instanceof P ? value : new P(function (resolve) {\n            resolve(value);\n          });\n        }\n\n        return new (P || (P = Promise))(function (resolve, reject) {\n          function fulfilled(value) {\n            try {\n              step(generator.next(value));\n            } catch (e) {\n              reject(e);\n            }\n          }\n\n          function rejected(value) {\n            try {\n              step(generator[\"throw\"](value));\n            } catch (e) {\n              reject(e);\n            }\n          }\n\n          function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n          }\n\n          step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n      }\n\n      function __generator(thisArg, body) {\n        var _ = {\n          label: 0,\n          sent: function () {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n          },\n          trys: [],\n          ops: []\n        },\n            f,\n            y,\n            t,\n            g;\n        return g = {\n          next: verb(0),\n          \"throw\": verb(1),\n          \"return\": verb(2)\n        }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n          return this;\n        }), g;\n\n        function verb(n) {\n          return function (v) {\n            return step([n, v]);\n          };\n        }\n\n        function step(op) {\n          if (f) throw new TypeError(\"Generator is already executing.\");\n\n          while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n\n            switch (op[0]) {\n              case 0:\n              case 1:\n                t = op;\n                break;\n\n              case 4:\n                _.label++;\n                return {\n                  value: op[1],\n                  done: false\n                };\n\n              case 5:\n                _.label++;\n                y = op[1];\n                op = [0];\n                continue;\n\n              case 7:\n                op = _.ops.pop();\n\n                _.trys.pop();\n\n                continue;\n\n              default:\n                if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                  _ = 0;\n                  continue;\n                }\n\n                if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                  _.label = op[1];\n                  break;\n                }\n\n                if (op[0] === 6 && _.label < t[1]) {\n                  _.label = t[1];\n                  t = op;\n                  break;\n                }\n\n                if (t && _.label < t[2]) {\n                  _.label = t[2];\n\n                  _.ops.push(op);\n\n                  break;\n                }\n\n                if (t[2]) _.ops.pop();\n\n                _.trys.pop();\n\n                continue;\n            }\n\n            op = body.call(thisArg, _);\n          } catch (e) {\n            op = [6, e];\n            y = 0;\n          } finally {\n            f = t = 0;\n          }\n\n          if (op[0] & 5) throw op[1];\n          return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n          };\n        }\n      }\n\n      var __createBinding = Object.create ? function (o, m, k, k2) {\n        if (k2 === undefined) k2 = k;\n        Object.defineProperty(o, k2, {\n          enumerable: true,\n          get: function () {\n            return m[k];\n          }\n        });\n      } : function (o, m, k, k2) {\n        if (k2 === undefined) k2 = k;\n        o[k2] = m[k];\n      };\n\n      function __exportStar(m, o) {\n        for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n      }\n\n      function __values(o) {\n        var s = typeof Symbol === \"function\" && Symbol.iterator,\n            m = s && o[s],\n            i = 0;\n        if (m) return m.call(o);\n        if (o && typeof o.length === \"number\") return {\n          next: function () {\n            if (o && i >= o.length) o = void 0;\n            return {\n              value: o && o[i++],\n              done: !o\n            };\n          }\n        };\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n      }\n\n      function __read(o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m) return o;\n        var i = m.call(o),\n            r,\n            ar = [],\n            e;\n\n        try {\n          while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n        } catch (error) {\n          e = {\n            error: error\n          };\n        } finally {\n          try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n          } finally {\n            if (e) throw e.error;\n          }\n        }\n\n        return ar;\n      }\n\n      function __spread() {\n        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n        return ar;\n      }\n\n      function __spreadArrays() {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n        for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n        return r;\n      }\n\n      ;\n\n      function __await(v) {\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\n      }\n\n      function __asyncGenerator(thisArg, _arguments, generator) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var g = generator.apply(thisArg, _arguments || []),\n            i,\n            q = [];\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n          return this;\n        }, i;\n\n        function verb(n) {\n          if (g[n]) i[n] = function (v) {\n            return new Promise(function (a, b) {\n              q.push([n, v, a, b]) > 1 || resume(n, v);\n            });\n          };\n        }\n\n        function resume(n, v) {\n          try {\n            step(g[n](v));\n          } catch (e) {\n            settle(q[0][3], e);\n          }\n        }\n\n        function step(r) {\n          r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n        }\n\n        function fulfill(value) {\n          resume(\"next\", value);\n        }\n\n        function reject(value) {\n          resume(\"throw\", value);\n        }\n\n        function settle(f, v) {\n          if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n        }\n      }\n\n      function __asyncDelegator(o) {\n        var i, p;\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n          throw e;\n        }), verb(\"return\"), i[Symbol.iterator] = function () {\n          return this;\n        }, i;\n\n        function verb(n, f) {\n          i[n] = o[n] ? function (v) {\n            return (p = !p) ? {\n              value: __await(o[n](v)),\n              done: n === \"return\"\n            } : f ? f(v) : v;\n          } : f;\n        }\n      }\n\n      function __asyncValues(o) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var m = o[Symbol.asyncIterator],\n            i;\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n          return this;\n        }, i);\n\n        function verb(n) {\n          i[n] = o[n] && function (v) {\n            return new Promise(function (resolve, reject) {\n              v = o[n](v), settle(resolve, reject, v.done, v.value);\n            });\n          };\n        }\n\n        function settle(resolve, reject, d, v) {\n          Promise.resolve(v).then(function (v) {\n            resolve({\n              value: v,\n              done: d\n            });\n          }, reject);\n        }\n      }\n\n      function __makeTemplateObject(cooked, raw) {\n        if (Object.defineProperty) {\n          Object.defineProperty(cooked, \"raw\", {\n            value: raw\n          });\n        } else {\n          cooked.raw = raw;\n        }\n\n        return cooked;\n      }\n\n      ;\n\n      var __setModuleDefault = Object.create ? function (o, v) {\n        Object.defineProperty(o, \"default\", {\n          enumerable: true,\n          value: v\n        });\n      } : function (o, v) {\n        o[\"default\"] = v;\n      };\n\n      function __importStar(mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n        __setModuleDefault(result, mod);\n\n        return result;\n      }\n\n      function __importDefault(mod) {\n        return mod && mod.__esModule ? mod : {\n          default: mod\n        };\n      }\n\n      function __classPrivateFieldGet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n          throw new TypeError(\"attempted to get private field on non-instance\");\n        }\n\n        return privateMap.get(receiver);\n      }\n\n      function __classPrivateFieldSet(receiver, privateMap, value) {\n        if (!privateMap.has(receiver)) {\n          throw new TypeError(\"attempted to set private field on non-instance\");\n        }\n\n        privateMap.set(receiver, value);\n        return value;\n      }\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var string_1 = __webpack_require__(27);\n\n      function isDefined(value) {\n        return value !== undefined && value !== null;\n      }\n\n      exports.isDefined = isDefined;\n\n      function boolToInt(value) {\n        return value ? 1 : 0;\n      }\n\n      exports.boolToInt = boolToInt;\n\n      function boolToString(value) {\n        return value ? '1' : '0';\n      }\n\n      exports.boolToString = boolToString;\n\n      function isNumber(obj) {\n        return typeof obj === 'number';\n      }\n\n      exports.isNumber = isNumber;\n\n      function isString(obj) {\n        return typeof obj === 'string';\n      }\n\n      exports.isString = isString;\n\n      function isNonNullString(str) {\n        return !!str;\n      }\n\n      exports.isNonNullString = isNonNullString;\n\n      function isEven(num) {\n        return num % 2 !== 0;\n      }\n\n      exports.isEven = isEven;\n\n      function isOdd(num) {\n        return num % 2 === 0;\n      }\n\n      exports.isOdd = isOdd;\n\n      function numberToStringBin(num, minLength) {\n        if (minLength === void 0) {\n          minLength = 0;\n        }\n\n        return string_1.StringUtils.padLeft(num.toString(2), minLength, '0');\n      }\n\n      exports.numberToStringBin = numberToStringBin;\n\n      function numberToStringHex(num, minLength) {\n        if (minLength === void 0) {\n          minLength = 0;\n        }\n\n        return string_1.StringUtils.padLeft(num.toString(16), minLength, '0');\n      }\n\n      exports.numberToStringHex = numberToStringHex;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DateTimeUtils = void 0;\n\n      var Time_1 = __webpack_require__(36);\n\n      var TimeRange_1 = __webpack_require__(37);\n\n      var common_1 = __webpack_require__(1);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var DayOfWeekMonthlyOccurrence_1 = __webpack_require__(38);\n\n      var DateTimeUtils = function () {\n        function DateTimeUtils() {}\n\n        DateTimeUtils.compareDates = function (date1, date2) {\n          if (!date1 || !date2) return -1;\n          return date2.getTime() - date1.getTime();\n        };\n\n        DateTimeUtils.areDatesEqual = function (date1, date2) {\n          return this.compareDates(date1, date2) == 0;\n        };\n\n        DateTimeUtils.getMaxDate = function (date1, date2) {\n          if (!date1 && !date2) return null;\n          if (!date1) return date2;\n          if (!date2) return date1;\n          var diff = this.compareDates(date1, date2);\n          return diff > 0 ? date2 : date1;\n        };\n\n        DateTimeUtils.getMinDate = function (date1, date2) {\n          if (!date1 && !date2) return null;\n          if (!date1) return date2;\n          if (!date2) return date1;\n          var diff = this.compareDates(date1, date2);\n          return diff > 0 ? date1 : date2;\n        };\n\n        DateTimeUtils.getDaysBetween = function (start, end) {\n          var diff = Math.abs(end.getTime() - start.getTime());\n          return Math.ceil(diff / this.msInDay);\n        };\n\n        DateTimeUtils.getWeeksBetween = function (start, end) {\n          var daysBetween = this.getDaysBetween(start, end);\n          var numWeeks = Math.floor(daysBetween / 7);\n          if (start.getDay() > end.getDay()) numWeeks++;\n          return numWeeks;\n        };\n\n        DateTimeUtils.getMonthsDifference = function (start, end) {\n          var dateDiff = this.compareDates(start, end);\n          var from = dateDiff >= 0 ? start : end;\n          var to = dateDiff >= 0 ? end : start;\n          var yearsDiff = to.getFullYear() - from.getFullYear();\n          var monthDiff = yearsDiff * 12 + (to.getMonth() - from.getMonth());\n          return monthDiff;\n        };\n\n        DateTimeUtils.getYearsDifference = function (start, end) {\n          return Math.abs(end.getFullYear() - start.getFullYear());\n        };\n\n        DateTimeUtils.getDayNumber = function (date) {\n          return Math.ceil(date.getTime() / this.msInDay);\n        };\n\n        DateTimeUtils.getDateByDayNumber = function (num) {\n          var date = new Date(num * this.msInDay);\n          date.setHours(0);\n          date.setMinutes(0);\n          date.setSeconds(0);\n          return date;\n        };\n\n        DateTimeUtils.addDays = function (date, days) {\n          return new Date(date.getTime() + days * this.msInDay);\n        };\n\n        DateTimeUtils.checkDayOfMonth = function (day, date) {\n          return day == date.getDate();\n        };\n\n        DateTimeUtils.checkDayOfWeek = function (day, date) {\n          return day == date.getDay();\n        };\n\n        DateTimeUtils.checkMonth = function (month, date) {\n          return month == date.getMonth();\n        };\n\n        DateTimeUtils.checkYear = function (year, date) {\n          return year == date.getFullYear();\n        };\n\n        DateTimeUtils.checkDayOfWeekOccurrenceInMonth = function (date, dayOfWeek, occurrence) {\n          var dayOfWeekInMonthDates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, date.getFullYear(), date.getMonth());\n          if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) return this.areDatesEqual(date, dayOfWeekInMonthDates[dayOfWeekInMonthDates.length - 1]);\n          return this.areDatesEqual(date, dayOfWeekInMonthDates[occurrence]);\n        };\n\n        DateTimeUtils.getFirstDayOfWeekInMonth = function (year, month) {\n          var date = new Date(year, month, 1);\n          return date.getDay();\n        };\n\n        DateTimeUtils.getSpecificDayOfWeekInMonthDates = function (dayOfWeek, year, month) {\n          var firstDayOfWeekInMonth = this.getFirstDayOfWeekInMonth(year, month);\n          var diffDays = dayOfWeek >= firstDayOfWeekInMonth ? dayOfWeek - firstDayOfWeekInMonth : dayOfWeek + 7 - firstDayOfWeekInMonth;\n          var res = new Array();\n          var specificDayOfWeekDate = new Date(year, month, diffDays + 1);\n\n          while (specificDayOfWeekDate.getMonth() == month) {\n            res.push(specificDayOfWeekDate);\n            specificDayOfWeekDate = this.addDays(specificDayOfWeekDate, 7);\n          }\n\n          return res;\n        };\n\n        DateTimeUtils.getSpecificDayOfWeekInMonthDate = function (dayOfWeek, year, month, occurrence) {\n          var dates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, year, month);\n          if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) return dates[dates.length - 1];\n          return dates[occurrence];\n        };\n\n        DateTimeUtils.checkValidDayInMonth = function (year, month, day) {\n          if (day < 1 || day > 31 || new Date(year, month, day).getMonth() != month) return false;\n          return true;\n        };\n\n        DateTimeUtils.getNextMonth = function (month, inc) {\n          if (inc === void 0) {\n            inc = 1;\n          }\n\n          return (month + inc) % 12;\n        };\n\n        DateTimeUtils.convertToDate = function (src) {\n          if (src instanceof Date) return new Date(src);\n          var ms = Date.parse(src);\n          if (!isNaN(ms)) return new Date(ms);\n          return null;\n        };\n\n        DateTimeUtils.convertTimeRangeToDateRange = function (timeRange, dayNumber) {\n          var date = this.getDateByDayNumber(dayNumber);\n          var year = date.getFullYear();\n          var month = date.getMonth();\n          var day = date.getDate();\n          var startT = timeRange.start;\n          var start = new Date(year, month, day, startT.hour, startT.min, startT.sec, startT.msec);\n          var endT = timeRange.end;\n          var end = new Date(year, month, day, endT.hour, endT.min, endT.sec, endT.msec);\n          return new DateRange_1.DateRange(start, end);\n        };\n\n        DateTimeUtils.convertToTimeRanges = function (src) {\n          var _this = this;\n\n          if (src instanceof Array) return src.map(function (x) {\n            return _this.convertToTimeRange(x);\n          });\n          return this.parseTimeRanges(src);\n        };\n\n        DateTimeUtils.convertToTimeRange = function (src) {\n          if (!src) return null;\n          if (src instanceof TimeRange_1.TimeRange) return src;\n          if (common_1.isDefined(src.start) && common_1.isDefined(src.end)) return new TimeRange_1.TimeRange(this.convertToTime(src.start), this.convertToTime(src.end));\n          return this.parseTimeRange(src);\n        };\n\n        DateTimeUtils.convertToTime = function (src) {\n          if (!src) return null;\n          if (src instanceof Time_1.Time) return src;\n          if (src instanceof Date) return this.getTimeGromJsDate(src);\n          return this.parseTime(src);\n        };\n\n        DateTimeUtils.parseTimeRanges = function (src) {\n          var _this = this;\n\n          if (!src) return null;\n          var parts = src.split(/;|,/);\n          return parts.map(function (p) {\n            return _this.parseTimeRange(p);\n          }).filter(function (r) {\n            return !!r;\n          });\n        };\n\n        DateTimeUtils.parseTimeRange = function (src) {\n          if (!src) return null;\n          var parts = src.split(\"-\");\n          var start = parts[0];\n          var end = parts[1];\n          if (common_1.isDefined(start) && common_1.isDefined(end)) return new TimeRange_1.TimeRange(this.parseTime(start), this.parseTime(end));\n          return null;\n        };\n\n        DateTimeUtils.parseTime = function (src) {\n          if (!src) return null;\n          var parts = src.split(\":\");\n          var h = parseInt(parts[0]) || 0;\n          var m = parseInt(parts[1]) || 0;\n          var s = parseInt(parts[2]) || 0;\n          var ms = parseInt(parts[3]) || 0;\n          return new Time_1.Time(h, m, s, ms);\n        };\n\n        DateTimeUtils.getTimeGromJsDate = function (date) {\n          if (!date) return null;\n          var h = date.getHours();\n          var m = date.getMinutes();\n          var s = date.getSeconds();\n          var ms = date.getMilliseconds();\n          return new Time_1.Time(h, m, s, ms);\n        };\n\n        DateTimeUtils.caclTimeDifference = function (time1, time2) {\n          return time2.getTimeInMilleconds() - time1.getTimeInMilleconds();\n        };\n\n        DateTimeUtils.areTimesEqual = function (time1, time2) {\n          return this.caclTimeDifference(time1, time2) == 0;\n        };\n\n        DateTimeUtils.getMaxTime = function (time1, time2) {\n          if (!time1 && !time2) return null;\n          if (!time1) return time2;\n          if (!time2) return time1;\n          var diff = this.caclTimeDifference(time1, time2);\n          return diff > 0 ? time2 : time1;\n        };\n\n        DateTimeUtils.getMinTime = function (time1, time2) {\n          if (!time1 && !time2) return null;\n          if (!time1) return time2;\n          if (!time2) return time1;\n          var diff = this.caclTimeDifference(time1, time2);\n          return diff > 0 ? time1 : time2;\n        };\n\n        DateTimeUtils.getLastTimeOfDay = function () {\n          return new Time_1.Time(23, 59, 59, 999);\n        };\n\n        DateTimeUtils.msInDay = 24 * 3600 * 1000;\n        return DateTimeUtils;\n      }();\n\n      exports.DateTimeUtils = DateTimeUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var browser_1 = __webpack_require__(5);\n\n      var common_1 = __webpack_require__(1);\n\n      var math_1 = __webpack_require__(34);\n\n      var string_1 = __webpack_require__(27);\n\n      var DomUtils = function () {\n        function DomUtils() {}\n\n        DomUtils.clearInnerHtml = function (element) {\n          while (element.firstChild) element.removeChild(element.firstChild);\n        };\n\n        DomUtils.setStylePosition = function (style, point) {\n          style.left = math_1.MathUtils.round(point.x, 3) + 'px';\n          style.top = math_1.MathUtils.round(point.y, 3) + 'px';\n        };\n\n        DomUtils.setStyleSize = function (style, size) {\n          style.width = math_1.MathUtils.round(size.width, 3) + 'px';\n          style.height = math_1.MathUtils.round(size.height, 3) + 'px';\n        };\n\n        DomUtils.setStyleSizeAndPosition = function (style, rectangle) {\n          DomUtils.setStylePosition(style, rectangle);\n          DomUtils.setStyleSize(style, rectangle);\n        };\n\n        DomUtils.hideNode = function (node) {\n          if (node) {\n            var parentNode = node.parentNode;\n            if (parentNode) parentNode.removeChild(node);\n          }\n        };\n\n        DomUtils.isHTMLElementNode = function (node) {\n          return node.nodeType === Node.ELEMENT_NODE;\n        };\n\n        DomUtils.isTextNode = function (node) {\n          return node.nodeType === Node.TEXT_NODE;\n        };\n\n        DomUtils.isElementNode = function (node) {\n          return node.nodeType === Node.ELEMENT_NODE;\n        };\n\n        DomUtils.isHTMLTableRowElement = function (element) {\n          return element.tagName === 'TR';\n        };\n\n        DomUtils.isItParent = function (parentElement, element) {\n          if (!parentElement || !element) return false;\n\n          while (element) {\n            if (element === parentElement) return true;\n            if (element.tagName === 'BODY') return false;\n            element = element.parentNode;\n          }\n\n          return false;\n        };\n\n        DomUtils.getParentByTagName = function (element, tagName) {\n          tagName = tagName.toUpperCase();\n\n          while (element) {\n            if (element.tagName === 'BODY') return null;\n            if (element.tagName === tagName) return element;\n            element = element.parentNode;\n          }\n\n          return null;\n        };\n\n        DomUtils.getDocumentScrollTop = function () {\n          var isScrollBodyIE = browser_1.Browser.IE && DomUtils.getCurrentStyle(document.body).overflow === 'hidden' && document.body.scrollTop > 0;\n\n          if (browser_1.Browser.WebKitFamily || browser_1.Browser.Edge || isScrollBodyIE) {\n            if (browser_1.Browser.MacOSMobilePlatform) return window.pageYOffset;\n            if (browser_1.Browser.WebKitFamily) return document.documentElement.scrollTop || document.body.scrollTop;\n            return document.body.scrollTop;\n          } else return document.documentElement.scrollTop;\n        };\n\n        DomUtils.getDocumentScrollLeft = function () {\n          var isScrollBodyIE = browser_1.Browser.IE && DomUtils.getCurrentStyle(document.body).overflow === 'hidden' && document.body.scrollLeft > 0;\n          if (browser_1.Browser.Edge || isScrollBodyIE) return document.body ? document.body.scrollLeft : document.documentElement.scrollLeft;\n          if (browser_1.Browser.WebKitFamily) return document.documentElement.scrollLeft || document.body.scrollLeft;\n          return document.documentElement.scrollLeft;\n        };\n\n        DomUtils.getCurrentStyle = function (element) {\n          if (element.currentStyle) return element.currentStyle;else if (document.defaultView && document.defaultView.getComputedStyle) {\n            var result = document.defaultView.getComputedStyle(element, null);\n\n            if (!result && browser_1.Browser.Firefox && window.frameElement) {\n              var changes = [];\n              var curElement = window.frameElement;\n\n              while (!(result = document.defaultView.getComputedStyle(element, null))) {\n                changes.push([curElement, curElement.style.display]);\n                curElement.style.setProperty('display', 'block', 'important');\n                curElement = curElement.tagName === 'BODY' ? curElement.ownerDocument.defaultView.frameElement : curElement.parentNode;\n              }\n\n              result = cloneObject(result);\n\n              for (var ch = void 0, i = 0; ch = changes[i]; i++) ch[0].style.display = ch[1];\n\n              document.body.offsetWidth;\n            }\n\n            return result;\n          }\n          return window.getComputedStyle(element, null);\n        };\n\n        DomUtils.setFocus = function (element) {\n          function focusCore() {\n            try {\n              element.focus();\n              if (browser_1.Browser.IE && document.activeElement !== element) element.focus();\n            } catch (e) {}\n          }\n\n          if (browser_1.Browser.MacOSMobilePlatform) focusCore();else {\n            setTimeout(function () {\n              focusCore();\n            }, 100);\n          }\n        };\n\n        DomUtils.hasClassName = function (element, className) {\n          try {\n            var classNames = className.split(' ');\n            var classList = element.classList;\n\n            if (classList) {\n              for (var i = classNames.length - 1; i >= 0; i--) {\n                if (!classList.contains(classNames[i])) return false;\n              }\n            } else {\n              var elementClassName = element.getAttribute && element.getAttribute('class');\n              if (!elementClassName) return false;\n              var elementClasses = elementClassName.split(' ');\n\n              for (var i = classNames.length - 1; i >= 0; i--) {\n                if (elementClasses.indexOf(classNames[i]) < 0) return false;\n              }\n            }\n\n            return true;\n          } catch (e) {\n            return false;\n          }\n        };\n\n        DomUtils.addClassName = function (element, className) {\n          if (!DomUtils.hasClassName(element, className)) {\n            var elementClassName = element.getAttribute && element.getAttribute('class');\n            element.setAttribute('class', elementClassName === '' ? className : elementClassName + \" \" + className);\n          }\n        };\n\n        DomUtils.removeClassName = function (element, className) {\n          var elementClassName = element.getAttribute && element.getAttribute('class');\n          var updClassName = \" \" + elementClassName + \" \";\n          var newClassName = updClassName.replace(\" \" + className + \" \", ' ');\n          if (updClassName.length !== newClassName.length) element.setAttribute('class', string_1.StringUtils.trim(newClassName));\n        };\n\n        DomUtils.toggleClassName = function (element, className, toggle) {\n          if (toggle === undefined) {\n            if (DomUtils.hasClassName(element, className)) DomUtils.removeClassName(element, className);else DomUtils.addClassName(element, className);\n          } else {\n            if (toggle) DomUtils.addClassName(element, className);else DomUtils.removeClassName(element, className);\n          }\n        };\n\n        DomUtils.pxToInt = function (px) {\n          return pxToNumber(px, parseInt);\n        };\n\n        DomUtils.pxToFloat = function (px) {\n          return pxToNumber(px, parseFloat);\n        };\n\n        DomUtils.getAbsolutePositionY = function (element) {\n          function getAbsolutePositionY_IE(element) {\n            return browser_1.Browser.IE && element.parentNode === null ? 0 : element.getBoundingClientRect().top + DomUtils.getDocumentScrollTop();\n          }\n\n          function getAbsolutePositionY_FF3(element) {\n            return Math.round(element.getBoundingClientRect().top + DomUtils.getDocumentScrollTop());\n          }\n\n          function getAbsolutePositionY_Opera(curEl) {\n            var isFirstCycle = true;\n            if (curEl && DomUtils.isHTMLTableRowElement(curEl) && curEl.cells.length > 0) curEl = curEl.cells[0];\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, false);\n\n            while (curEl != null) {\n              pos += curEl.offsetTop;\n              if (!isFirstCycle) pos -= curEl.scrollTop;\n              curEl = curEl.offsetParent;\n              isFirstCycle = false;\n            }\n\n            pos += document.body.scrollTop;\n            return pos;\n          }\n\n          function getAbsolutePositionY_NS(curEl) {\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, false);\n            var isFirstCycle = true;\n\n            while (curEl != null) {\n              pos += curEl.offsetTop;\n              if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollTop;\n\n              if (!isFirstCycle && browser_1.Browser.Firefox) {\n                var style = DomUtils.getCurrentStyle(curEl);\n                if (curEl.tagName === 'DIV' && style.overflow !== 'visible') pos += DomUtils.pxToInt(style.borderTopWidth);\n              }\n\n              isFirstCycle = false;\n              curEl = curEl.offsetParent;\n            }\n\n            return pos;\n          }\n\n          function getAbsolutePositionY_Other(curEl) {\n            var pos = 0;\n            var isFirstCycle = true;\n\n            while (curEl != null) {\n              pos += curEl.offsetTop;\n              if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollTop;\n              isFirstCycle = false;\n              curEl = curEl.offsetParent;\n            }\n\n            return pos;\n          }\n\n          if (!element) return 0;\n          if (browser_1.Browser.IE) return getAbsolutePositionY_IE(element);else if (browser_1.Browser.Firefox && browser_1.Browser.Version >= 3) return getAbsolutePositionY_FF3(element);else if (browser_1.Browser.Opera) return getAbsolutePositionY_Opera(element);else if (browser_1.Browser.NetscapeFamily && (!browser_1.Browser.Firefox || browser_1.Browser.Version < 3)) return getAbsolutePositionY_NS(element);else if (browser_1.Browser.WebKitFamily || browser_1.Browser.Edge) return getAbsolutePositionY_FF3(element);\n          return getAbsolutePositionY_Other(element);\n        };\n\n        DomUtils.getAbsolutePositionX = function (element) {\n          function getAbsolutePositionX_IE(element) {\n            return browser_1.Browser.IE && element.parentNode === null ? 0 : element.getBoundingClientRect().left + DomUtils.getDocumentScrollLeft();\n          }\n\n          function getAbsolutePositionX_FF3(element) {\n            return Math.round(element.getBoundingClientRect().left + DomUtils.getDocumentScrollLeft());\n          }\n\n          function getAbsolutePositionX_Opera(curEl) {\n            var isFirstCycle = true;\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, true);\n\n            while (curEl != null) {\n              pos += curEl.offsetLeft;\n              if (!isFirstCycle) pos -= curEl.scrollLeft;\n              curEl = curEl.offsetParent;\n              isFirstCycle = false;\n            }\n\n            pos += document.body.scrollLeft;\n            return pos;\n          }\n\n          function getAbsolutePositionX_NS(curEl) {\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, true);\n            var isFirstCycle = true;\n\n            while (curEl != null) {\n              pos += curEl.offsetLeft;\n              if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollLeft;\n\n              if (!isFirstCycle && browser_1.Browser.Firefox) {\n                var style = DomUtils.getCurrentStyle(curEl);\n                if (curEl.tagName === 'DIV' && style.overflow !== 'visible') pos += DomUtils.pxToInt(style.borderLeftWidth);\n              }\n\n              isFirstCycle = false;\n              curEl = curEl.offsetParent;\n            }\n\n            return pos;\n          }\n\n          function getAbsolutePositionX_Other(curEl) {\n            var pos = 0;\n            var isFirstCycle = true;\n\n            while (curEl != null) {\n              pos += curEl.offsetLeft;\n              if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollLeft;\n              isFirstCycle = false;\n              curEl = curEl.offsetParent;\n            }\n\n            return pos;\n          }\n\n          if (!element) return 0;\n          if (browser_1.Browser.IE) return getAbsolutePositionX_IE(element);else if (browser_1.Browser.Firefox && browser_1.Browser.Version >= 3) return getAbsolutePositionX_FF3(element);else if (browser_1.Browser.Opera) return getAbsolutePositionX_Opera(element);else if (browser_1.Browser.NetscapeFamily && (!browser_1.Browser.Firefox || browser_1.Browser.Version < 3)) return getAbsolutePositionX_NS(element);else if (browser_1.Browser.WebKitFamily || browser_1.Browser.Edge) return getAbsolutePositionX_FF3(element);else return getAbsolutePositionX_Other(element);\n        };\n\n        DomUtils.isInteractiveControl = function (element) {\n          return ['A', 'INPUT', 'SELECT', 'OPTION', 'TEXTAREA', 'BUTTON', 'IFRAME'].indexOf(element.tagName) > -1;\n        };\n\n        DomUtils.getClearClientHeight = function (element) {\n          return element.offsetHeight - (DomUtils.getTopBottomPaddings(element) + DomUtils.getVerticalBordersWidth(element));\n        };\n\n        DomUtils.getTopBottomPaddings = function (element, style) {\n          var currentStyle = style ? style : DomUtils.getCurrentStyle(element);\n          return DomUtils.pxToInt(currentStyle.paddingTop) + DomUtils.pxToInt(currentStyle.paddingBottom);\n        };\n\n        DomUtils.getVerticalBordersWidth = function (element, style) {\n          if (!common_1.isDefined(style)) style = browser_1.Browser.IE && browser_1.Browser.MajorVersion !== 9 && window.getComputedStyle ? window.getComputedStyle(element) : DomUtils.getCurrentStyle(element);\n          var res = 0;\n          if (style.borderTopStyle !== 'none') res += DomUtils.pxToFloat(style.borderTopWidth);\n          if (style.borderBottomStyle !== 'none') res += DomUtils.pxToFloat(style.borderBottomWidth);\n          return res;\n        };\n\n        DomUtils.getNodes = function (parent, predicate) {\n          var collection = parent.all || parent.getElementsByTagName('*');\n          var result = [];\n\n          for (var i = 0; i < collection.length; i++) {\n            var element = collection[i];\n            if (predicate(element)) result.push(element);\n          }\n\n          return result;\n        };\n\n        DomUtils.getChildNodes = function (parent, predicate) {\n          var collection = parent.childNodes;\n          var result = [];\n\n          for (var i = 0; i < collection.length; i++) {\n            var element = collection[i];\n            if (predicate(element)) result.push(element);\n          }\n\n          return result;\n        };\n\n        DomUtils.getNodesByClassName = function (parent, className) {\n          if (parent.querySelectorAll) {\n            var children = parent.querySelectorAll(\".\" + className);\n            var result_1 = [];\n            children.forEach(function (element) {\n              return result_1.push(element);\n            });\n            return result_1;\n          } else return DomUtils.getNodes(parent, function (elem) {\n            return DomUtils.hasClassName(elem, className);\n          });\n        };\n\n        DomUtils.getChildNodesByClassName = function (parent, className) {\n          function nodeListToArray(nodeList, filter) {\n            var result = [];\n            nodeList.forEach(function (element) {\n              if (filter(element)) result.push(element);\n            });\n            return result;\n          }\n\n          if (parent.querySelectorAll) {\n            var children = parent.querySelectorAll(\".\" + className);\n            return nodeListToArray(children, function (element) {\n              return element.parentNode === parent;\n            });\n          } else {\n            return DomUtils.getChildNodes(parent, function (elem) {\n              if (DomUtils.isElementNode(elem)) return common_1.isNonNullString(elem.className) && DomUtils.hasClassName(elem, elem.className);else return false;\n            });\n          }\n        };\n\n        DomUtils.getVerticalScrollBarWidth = function () {\n          if (DomUtils.verticalScrollBarWidth === undefined) {\n            var container = document.createElement('DIV');\n            container.style.cssText = 'position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box';\n            document.body.appendChild(container);\n            var child = document.createElement('P');\n            container.appendChild(child);\n            child.style.cssText = 'width: 100%; height: 200px;';\n            var widthWithoutScrollBar = child.offsetWidth;\n            container.style.overflow = 'scroll';\n            var widthWithScrollBar = child.offsetWidth;\n            if (widthWithoutScrollBar === widthWithScrollBar) widthWithScrollBar = container.clientWidth;\n            DomUtils.verticalScrollBarWidth = widthWithoutScrollBar - widthWithScrollBar;\n            document.body.removeChild(container);\n          }\n\n          return DomUtils.verticalScrollBarWidth;\n        };\n\n        DomUtils.getHorizontalBordersWidth = function (element, style) {\n          if (!common_1.isDefined(style)) style = browser_1.Browser.IE && window.getComputedStyle ? window.getComputedStyle(element) : DomUtils.getCurrentStyle(element);\n          var res = 0;\n          if (style.borderLeftStyle !== 'none') res += DomUtils.pxToFloat(style.borderLeftWidth);\n          if (style.borderRightStyle !== 'none') res += DomUtils.pxToFloat(style.borderRightWidth);\n          return res;\n        };\n\n        DomUtils.getFontFamiliesFromCssString = function (cssString) {\n          return cssString.split(',').map(function (fam) {\n            return string_1.StringUtils.trim(fam.replace(/'|\"/gi, ''));\n          });\n        };\n\n        DomUtils.getInnerText = function (container) {\n          if (browser_1.Browser.Safari && browser_1.Browser.MajorVersion <= 5) {\n            if (DomUtils.html2PlainTextFilter === null) {\n              DomUtils.html2PlainTextFilter = document.createElement('DIV');\n              DomUtils.html2PlainTextFilter.style.width = '0';\n              DomUtils.html2PlainTextFilter.style.height = '0';\n              DomUtils.html2PlainTextFilter.style.overflow = 'visible';\n              DomUtils.html2PlainTextFilter.style.display = 'none';\n              document.body.appendChild(DomUtils.html2PlainTextFilter);\n            }\n\n            var filter = DomUtils.html2PlainTextFilter;\n            filter.innerHTML = container.innerHTML;\n            filter.style.display = '';\n            var innerText = filter.innerText;\n            filter.style.display = 'none';\n            return innerText;\n          } else if (browser_1.Browser.NetscapeFamily || browser_1.Browser.WebKitFamily || browser_1.Browser.IE && browser_1.Browser.Version >= 9 || browser_1.Browser.Edge) return container.textContent;else return container.innerText;\n        };\n\n        DomUtils.html2PlainTextFilter = null;\n        DomUtils.verticalScrollBarWidth = undefined;\n        return DomUtils;\n      }();\n\n      exports.DomUtils = DomUtils;\n\n      function cloneObject(srcObject) {\n        if (typeof srcObject !== 'object' || !common_1.isDefined(srcObject)) return srcObject;\n        var newObject = {};\n\n        for (var i in srcObject) newObject[i] = srcObject[i];\n\n        return newObject;\n      }\n\n      function pxToNumber(px, parseFunction) {\n        var result = 0;\n\n        if (common_1.isDefined(px) && px !== '') {\n          try {\n            var indexOfPx = px.indexOf('px');\n            if (indexOfPx > -1) result = parseFunction(px.substr(0, indexOfPx));\n          } catch (e) {}\n        }\n\n        return result;\n      }\n\n      function getAbsoluteScrollOffset_OperaFF(curEl, isX) {\n        var pos = 0;\n        var isFirstCycle = true;\n\n        while (curEl != null) {\n          if (curEl.tagName === 'BODY') break;\n          var style = DomUtils.getCurrentStyle(curEl);\n          if (style.position === 'absolute') break;\n          if (!isFirstCycle && curEl.tagName === 'DIV' && (style.position === '' || style.position === 'static')) pos -= isX ? curEl.scrollLeft : curEl.scrollTop;\n          curEl = curEl.parentNode;\n          isFirstCycle = false;\n        }\n\n        return pos;\n      }\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point = function () {\n        function Point(x, y) {\n          this.x = x;\n          this.y = y;\n        }\n\n        Point.zero = function () {\n          return new Point(0, 0);\n        };\n\n        Point.fromNumber = function (num) {\n          return new Point(num, num);\n        };\n\n        Point.prototype.isZero = function () {\n          return this.x === 0 && this.y === 0;\n        };\n\n        Point.prototype.toString = function () {\n          return JSON.stringify(this);\n        };\n\n        Point.prototype.copyFrom = function (obj) {\n          this.x = obj.x;\n          this.y = obj.y;\n        };\n\n        Point.prototype.clone = function () {\n          return new Point(this.x, this.y);\n        };\n\n        Point.prototype.equals = function (obj) {\n          return this.x === obj.x && this.y === obj.y;\n        };\n\n        Point.prototype.offset = function (offsetX, offsetY) {\n          this.x += offsetX;\n          this.y += offsetY;\n          return this;\n        };\n\n        Point.prototype.offsetByPoint = function (offset) {\n          this.x += offset.x;\n          this.y += offset.y;\n          return this;\n        };\n\n        Point.prototype.multiply = function (multiplierX, multiplierY) {\n          this.x *= multiplierX;\n          this.y *= multiplierY;\n          return this;\n        };\n\n        Point.prototype.negative = function () {\n          this.x *= -1;\n          this.y *= -1;\n          return this;\n        };\n\n        Point.prototype.applyConverter = function (converter) {\n          this.x = converter(this.x);\n          this.y = converter(this.y);\n          return this;\n        };\n\n        Point.plus = function (a, b) {\n          return new Point(a.x + b.x, a.y + b.y);\n        };\n\n        Point.minus = function (a, b) {\n          return new Point(a.x - b.x, a.y - b.y);\n        };\n\n        Point.xComparer = function (a, b) {\n          return a.x - b.x;\n        };\n\n        Point.yComparer = function (a, b) {\n          return a.y - b.y;\n        };\n\n        Point.equals = function (a, b) {\n          return a.x === b.x && a.y === b.y;\n        };\n\n        return Point;\n      }();\n\n      exports.Point = Point;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Browser = function () {\n        function Browser() {}\n\n        Browser.IdentUserAgent = function (userAgent, ignoreDocumentMode) {\n          if (ignoreDocumentMode === void 0) {\n            ignoreDocumentMode = false;\n          }\n\n          var browserTypesOrderedList = ['Mozilla', 'IE', 'Firefox', 'Netscape', 'Safari', 'Chrome', 'Opera', 'Opera10', 'Edge'];\n          var defaultBrowserType = 'IE';\n          var defaultPlatform = 'Win';\n          var defaultVersions = {\n            Safari: 2,\n            Chrome: 0.1,\n            Mozilla: 1.9,\n            Netscape: 8,\n            Firefox: 2,\n            Opera: 9,\n            IE: 6,\n            Edge: 12\n          };\n\n          if (!userAgent || userAgent.length === 0) {\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\n            return;\n          }\n\n          userAgent = userAgent.toLowerCase();\n          Browser.indentPlatformMajorVersion(userAgent);\n\n          try {\n            var platformIdentStrings = {\n              'Windows': 'Win',\n              'Macintosh': 'Mac',\n              'Mac OS': 'Mac',\n              'Mac_PowerPC': 'Mac',\n              'cpu os': 'MacMobile',\n              'cpu iphone os': 'MacMobile',\n              'Android': 'Android',\n              '!Windows Phone': 'WinPhone',\n              '!WPDesktop': 'WinPhone',\n              '!ZuneWP': 'WinPhone'\n            };\n            var optSlashOrSpace = '(?:/|\\\\s*)?';\n            var versionString = '(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?';\n            var optVersion = '(?:' + versionString + ')?';\n            var patterns = {\n              Safari: 'applewebkit(?:.*?(?:version/' + versionString + '[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile/\\\\S*)?\\\\s+safari))?',\n              Chrome: '(?:chrome|crios)(?!frame)' + optSlashOrSpace + optVersion,\n              Mozilla: 'mozilla(?:.*rv:' + optVersion + '.*Gecko)?',\n              Netscape: '(?:netscape|navigator)\\\\d*/?\\\\s*' + optVersion,\n              Firefox: 'firefox' + optSlashOrSpace + optVersion,\n              Opera: '(?:opera|\\\\sopr)' + optSlashOrSpace + optVersion,\n              Opera10: 'opera.*\\\\s*version' + optSlashOrSpace + optVersion,\n              IE: 'msie\\\\s*' + optVersion,\n              Edge: 'edge' + optSlashOrSpace + optVersion\n            };\n            var browserType = null;\n            var version = -1;\n\n            for (var i = 0; i < browserTypesOrderedList.length; i++) {\n              var browserTypeCandidate = browserTypesOrderedList[i];\n              var regExp = new RegExp(patterns[browserTypeCandidate], 'i');\n              var matches = regExp.exec(userAgent);\n\n              if (matches && matches.index >= 0) {\n                if (browserType === 'IE' && version >= 11 && browserTypeCandidate === 'Safari') continue;\n                browserType = browserTypeCandidate;\n                if (browserType === 'Opera10') browserType = 'Opera';\n                var tridentPattern = 'trident' + optSlashOrSpace + optVersion;\n                version = Browser.GetBrowserVersion(userAgent, matches, tridentPattern, Browser.getIECompatibleVersionString());\n                if (browserType === 'Mozilla' && version >= 11) browserType = 'IE';\n              }\n            }\n\n            if (!browserType) browserType = defaultBrowserType;\n            var browserVersionDetected = version !== -1;\n            if (!browserVersionDetected) version = defaultVersions[browserType];\n            var platform = null;\n            var minOccurenceIndex = Number.MAX_VALUE;\n\n            for (var identStr in platformIdentStrings) {\n              if (!Object.prototype.hasOwnProperty.call(platformIdentStrings, identStr)) continue;\n              var importantIdent = identStr.substr(0, 1) === '!';\n              var occurenceIndex = userAgent.indexOf((importantIdent ? identStr.substr(1) : identStr).toLowerCase());\n\n              if (occurenceIndex >= 0 && (occurenceIndex < minOccurenceIndex || importantIdent)) {\n                minOccurenceIndex = importantIdent ? 0 : occurenceIndex;\n                platform = platformIdentStrings[identStr];\n              }\n            }\n\n            var samsungPattern = 'SM-[A-Z]';\n            var m = userAgent.toUpperCase().match(samsungPattern);\n            var isSamsungAndroidDevice = m && m.length > 0;\n            if (platform === 'WinPhone' && version < 9) version = Math.floor(Browser.getVersionFromTrident(userAgent, 'trident' + optSlashOrSpace + optVersion));\n            if (!ignoreDocumentMode && browserType === 'IE' && version > 7 && document.documentMode < version) version = document.documentMode;\n            if (platform === 'WinPhone') version = Math.max(9, version);\n            if (!platform) platform = defaultPlatform;\n            if (platform === platformIdentStrings['cpu os'] && !browserVersionDetected) version = 4;\n            Browser.fillUserAgentInfo(browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice);\n          } catch (e) {\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\n          }\n        };\n\n        Browser.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\n          var version = Browser.getVersionFromMatches(matches);\n\n          if (ieCompatibleVersionString) {\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\n            if (ieCompatibleVersionString === 'edge' || parseInt(ieCompatibleVersionString) === versionFromTrident) return versionFromTrident;\n          }\n\n          return version;\n        };\n\n        Browser.getIECompatibleVersionString = function () {\n          if (document.compatible) {\n            for (var i = 0; i < document.compatible.length; i++) {\n              if (document.compatible[i].userAgent === 'IE' && document.compatible[i].version) return document.compatible[i].version.toLowerCase();\n            }\n          }\n\n          return '';\n        };\n\n        Browser.isTouchEnabled = function () {\n          return 'ontouchstart' in window || navigator['maxTouchPoints'] > 0 || navigator['msMaxTouchPoints'] > 0;\n        };\n\n        Browser.fillUserAgentInfo = function (browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice) {\n          if (isSamsungAndroidDevice === void 0) {\n            isSamsungAndroidDevice = false;\n          }\n\n          for (var i = 0; i < browserTypesOrderedList.length; i++) {\n            var type = browserTypesOrderedList[i];\n            Browser[type] = type === browserType;\n          }\n\n          Browser.Version = Math.floor(10.0 * version) / 10.0;\n          Browser.MajorVersion = Math.floor(Browser.Version);\n          Browser.WindowsPlatform = platform === 'Win' || platform === 'WinPhone';\n          Browser.MacOSMobilePlatform = platform === 'MacMobile' || platform === 'Mac' && Browser.isTouchEnabled();\n          Browser.MacOSPlatform = platform === 'Mac' && !Browser.MacOSMobilePlatform;\n          Browser.AndroidMobilePlatform = platform === 'Android';\n          Browser.WindowsPhonePlatform = platform === 'WinPhone';\n          Browser.WebKitFamily = Browser.Safari || Browser.Chrome || Browser.Opera && Browser.MajorVersion >= 15;\n          Browser.NetscapeFamily = Browser.Netscape || Browser.Mozilla || Browser.Firefox;\n          Browser.HardwareAcceleration = Browser.IE && Browser.MajorVersion >= 9 || Browser.Firefox && Browser.MajorVersion >= 4 || Browser.AndroidMobilePlatform && Browser.Chrome || Browser.Chrome && Browser.MajorVersion >= 37 || Browser.Safari && !Browser.WindowsPlatform || Browser.Edge || Browser.Opera && Browser.MajorVersion >= 46;\n          Browser.WebKitTouchUI = Browser.MacOSMobilePlatform || Browser.AndroidMobilePlatform;\n          var isIETouchUI = Browser.IE && Browser.MajorVersion > 9 && Browser.WindowsPlatform && Browser.UserAgent.toLowerCase().indexOf('touch') >= 0;\n          Browser.MSTouchUI = isIETouchUI || Browser.Edge && !!window.navigator.maxTouchPoints;\n          Browser.TouchUI = Browser.WebKitTouchUI || Browser.MSTouchUI;\n          Browser.MobileUI = Browser.WebKitTouchUI || Browser.WindowsPhonePlatform;\n          Browser.AndroidDefaultBrowser = Browser.AndroidMobilePlatform && !Browser.Chrome;\n          Browser.AndroidChromeBrowser = Browser.AndroidMobilePlatform && Browser.Chrome;\n          if (isSamsungAndroidDevice) Browser.SamsungAndroidDevice = isSamsungAndroidDevice;\n\n          if (Browser.MSTouchUI) {\n            var isARMArchitecture = Browser.UserAgent.toLowerCase().indexOf('arm;') > -1;\n            Browser.VirtualKeyboardSupported = isARMArchitecture || Browser.WindowsPhonePlatform;\n          } else Browser.VirtualKeyboardSupported = Browser.WebKitTouchUI;\n\n          Browser.fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList);\n        };\n\n        Browser.indentPlatformMajorVersion = function (userAgent) {\n          var regex = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/;\n          var matches = regex.exec(userAgent);\n          if (matches) Browser.PlaformMajorVersion = matches[1];\n        };\n\n        Browser.getVersionFromMatches = function (matches) {\n          var result = -1;\n          var versionStr = '';\n\n          if (matches) {\n            if (matches[1]) {\n              versionStr += matches[1];\n              if (matches[2]) versionStr += '.' + matches[2];\n            }\n\n            if (versionStr !== '') {\n              result = parseFloat(versionStr);\n              if (isNaN(result)) result = -1;\n            }\n          }\n\n          return result;\n        };\n\n        Browser.getVersionFromTrident = function (userAgent, tridentPattern) {\n          var tridentDiffFromVersion = 4;\n          var matches = new RegExp(tridentPattern, 'i').exec(userAgent);\n          return Browser.getVersionFromMatches(matches) + tridentDiffFromVersion;\n        };\n\n        Browser.fillDocumentElementBrowserTypeClassNames = function (browserTypesOrderedList) {\n          var documentElementClassName = '';\n          var browserTypeslist = browserTypesOrderedList.concat(['WindowsPlatform', 'MacOSPlatform', 'MacOSMobilePlatform', 'AndroidMobilePlatform', 'WindowsPhonePlatform', 'WebKitFamily', 'WebKitTouchUI', 'MSTouchUI', 'TouchUI', 'AndroidDefaultBrowser']);\n\n          for (var i = 0; i < browserTypeslist.length; i++) {\n            var type = browserTypeslist[i];\n            if (Browser[type]) documentElementClassName += 'dx' + type + ' ';\n          }\n\n          documentElementClassName += 'dxBrowserVersion-' + Browser.MajorVersion;\n\n          if (typeof document !== 'undefined' && document && document.documentElement) {\n            if (document.documentElement.className !== '') documentElementClassName = ' ' + documentElementClassName;\n            document.documentElement.className += documentElementClassName;\n            Browser.Info = documentElementClassName;\n          }\n        };\n\n        Browser.getUserAgent = function () {\n          return typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\n        };\n\n        Browser.UserAgent = Browser.getUserAgent();\n        Browser._foo = Browser.IdentUserAgent(Browser.UserAgent);\n        return Browser;\n      }();\n\n      exports.Browser = Browser;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var browser_1 = __webpack_require__(5);\n\n      var common_1 = __webpack_require__(1);\n\n      var dom_1 = __webpack_require__(3);\n\n      var touch_1 = __webpack_require__(15);\n\n      var EvtUtils = function () {\n        function EvtUtils() {}\n\n        EvtUtils.preventEvent = function (evt) {\n          if (evt.preventDefault) evt.preventDefault();else evt.returnValue = false;\n        };\n\n        EvtUtils.getEventSource = function (evt) {\n          if (!common_1.isDefined(evt)) return null;\n          return evt.srcElement ? evt.srcElement : evt.target;\n        };\n\n        EvtUtils.getEventSourceByPosition = function (evt) {\n          if (!common_1.isDefined(evt)) return null;\n          if (document.elementFromPoint && EvtUtils.getEventX(evt) !== undefined && EvtUtils.getEventY(evt) !== undefined) return document.elementFromPoint(EvtUtils.getEventX(evt), EvtUtils.getEventY(evt));\n          return evt.srcElement ? evt.srcElement : evt.target;\n        };\n\n        EvtUtils.getMouseWheelEventName = function () {\n          if (browser_1.Browser.Safari) return 'mousewheel';\n          if (browser_1.Browser.NetscapeFamily && browser_1.Browser.MajorVersion < 17) return 'DOMMouseScroll';\n          return 'wheel';\n        };\n\n        EvtUtils.isLeftButtonPressed = function (evt) {\n          if (touch_1.TouchUtils.isTouchEvent(evt)) return true;\n          evt = browser_1.Browser.IE && common_1.isDefined(event) ? event : evt;\n          if (!evt) return false;\n\n          if (browser_1.Browser.IE && browser_1.Browser.Version < 11) {\n            if (browser_1.Browser.MSTouchUI) return true;\n            return evt.button % 2 === 1;\n          } else if (browser_1.Browser.WebKitFamily) {\n            if (evt.type === 'pointermove') return evt.buttons === 1;\n            return evt.which === 1;\n          } else if (browser_1.Browser.NetscapeFamily || browser_1.Browser.Edge || browser_1.Browser.IE && browser_1.Browser.Version >= 11) {\n            if (evt.type === touch_1.TouchUtils.touchMouseMoveEventName) return evt.buttons === 1;\n            return evt.which === 1;\n          } else if (browser_1.Browser.Opera) return evt.button === 0;\n\n          return true;\n        };\n\n        EvtUtils.preventEventAndBubble = function (evt) {\n          EvtUtils.preventEvent(evt);\n          if (evt.stopPropagation) evt.stopPropagation();\n          evt.cancelBubble = true;\n        };\n\n        EvtUtils.clientEventRequiresDocScrollCorrection = function () {\n          var isSafariVerLess3 = browser_1.Browser.Safari && browser_1.Browser.Version < 3;\n          var isMacOSMobileVerLess51 = browser_1.Browser.MacOSMobilePlatform && browser_1.Browser.Version < 5.1;\n          return browser_1.Browser.AndroidDefaultBrowser || browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\n        };\n\n        EvtUtils.getEventX = function (evt) {\n          if (touch_1.TouchUtils.isTouchEvent(evt)) return touch_1.TouchUtils.getEventX(evt);\n          return evt.clientX + (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollLeft() : 0);\n        };\n\n        EvtUtils.getEventY = function (evt) {\n          if (touch_1.TouchUtils.isTouchEvent(evt)) return touch_1.TouchUtils.getEventY(evt);\n          return evt.clientY + (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollTop() : 0);\n        };\n\n        EvtUtils.cancelBubble = function (evt) {\n          evt.cancelBubble = true;\n        };\n\n        EvtUtils.getWheelDelta = function (evt) {\n          var ret;\n          if (browser_1.Browser.NetscapeFamily && browser_1.Browser.MajorVersion < 17) ret = -evt.detail;else if (browser_1.Browser.Safari) ret = evt.wheelDelta;else ret = -evt.deltaY;\n          if (browser_1.Browser.Opera && browser_1.Browser.Version < 9) ret = -ret;\n          return ret;\n        };\n\n        return EvtUtils;\n      }();\n\n      exports.EvtUtils = EvtUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SimpleCommandState = exports.CommandBase = void 0;\n\n      var CommandBase = function () {\n        function CommandBase(control) {\n          this.control = control;\n        }\n\n        Object.defineProperty(CommandBase.prototype, \"modelManipulator\", {\n          get: function () {\n            return this.control.modelManipulator;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"history\", {\n          get: function () {\n            return this.control.history;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"validationController\", {\n          get: function () {\n            return this.control.validationController;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"state\", {\n          get: function () {\n            if (!this._state) this._state = this.getState();\n            return this._state;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        CommandBase.prototype.execute = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          if (!this.state.enabled) return false;\n          var executed = this.executeInternal.apply(this, parameters);\n          if (executed) this.control.barManager.updateItemsState([]);\n          return executed;\n        };\n\n        CommandBase.prototype.isEnabled = function () {\n          return this.control.settings.editing.enabled;\n        };\n\n        CommandBase.prototype.executeInternal = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          throw new Error(\"Not implemented\");\n        };\n\n        return CommandBase;\n      }();\n\n      exports.CommandBase = CommandBase;\n\n      var SimpleCommandState = function () {\n        function SimpleCommandState(enabled, value) {\n          this.visible = true;\n          this.enabled = enabled;\n          this.value = value;\n        }\n\n        return SimpleCommandState;\n      }();\n\n      exports.SimpleCommandState = SimpleCommandState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskAreaManager = exports.MouseEventSource = void 0;\n\n      var browser_1 = __webpack_require__(5);\n\n      var point_1 = __webpack_require__(4);\n\n      var dom_1 = __webpack_require__(3);\n\n      var evt_1 = __webpack_require__(6);\n\n      var touch_1 = __webpack_require__(15);\n\n      var GridLayoutCalculator_1 = __webpack_require__(17);\n\n      var MouseEventSource;\n\n      (function (MouseEventSource) {\n        MouseEventSource[MouseEventSource[\"TaskArea\"] = 0] = \"TaskArea\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Frame\"] = 1] = \"TaskEdit_Frame\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Progress\"] = 2] = \"TaskEdit_Progress\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Start\"] = 3] = \"TaskEdit_Start\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_End\"] = 4] = \"TaskEdit_End\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_DependencyStart\"] = 5] = \"TaskEdit_DependencyStart\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_DependencyFinish\"] = 6] = \"TaskEdit_DependencyFinish\";\n        MouseEventSource[MouseEventSource[\"Successor_Wrapper\"] = 7] = \"Successor_Wrapper\";\n        MouseEventSource[MouseEventSource[\"Successor_DependencyStart\"] = 8] = \"Successor_DependencyStart\";\n        MouseEventSource[MouseEventSource[\"Successor_DependencyFinish\"] = 9] = \"Successor_DependencyFinish\";\n      })(MouseEventSource = exports.MouseEventSource || (exports.MouseEventSource = {}));\n\n      var TaskAreaManager = function () {\n        function TaskAreaManager(ganttView) {\n          this.time = new Date();\n          this.touchTime = new Date();\n          this.ganttView = ganttView;\n          this.eventManager = ganttView.eventManager;\n          this.position = new point_1.Point(-1, -1);\n          if (!browser_1.Browser.WebKitTouchUI) this.initMouseEvents();\n          if (browser_1.Browser.isTouchEnabled()) this.initTouchEvents();\n        }\n\n        TaskAreaManager.prototype.initMouseEvents = function () {\n          var _this = this;\n\n          this.ganttView.taskArea.addEventListener(\"click\", function (evt) {\n            _this.onTaskAreaClick(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"dblclick\", function (evt) {\n            _this.onTaskAreaDblClick(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"scroll\", this.ganttView.updateView.bind(this.ganttView));\n          this.ganttView.taskArea.addEventListener(\"contextmenu\", function (evt) {\n            _this.onContextMenu(evt);\n          });\n          this.ganttView.taskArea.addEventListener(evt_1.EvtUtils.getMouseWheelEventName(), function (evt) {\n            _this.onMouseWheel(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"mousedown\", function (evt) {\n            _this.onMouseDown(evt);\n          });\n          document.addEventListener(\"mousemove\", function (evt) {\n            _this.onDocumentMouseMove(evt);\n          });\n          document.addEventListener(\"mouseup\", function (evt) {\n            _this.onDocumentMouseUp(evt);\n          });\n          document.addEventListener(\"keydown\", function (evt) {\n            _this.onDocumentKeyDown(evt);\n          });\n        };\n\n        TaskAreaManager.prototype.initTouchEvents = function () {\n          var _this = this;\n\n          if (browser_1.Browser.WebKitTouchUI || browser_1.Browser.WindowsPlatform && !browser_1.Browser.Edge && !browser_1.Browser.IE) {\n            this.ganttView.taskArea.addEventListener(\"touchstart\", function (evt) {\n              _this.onTouchStart(evt);\n            });\n            this.ganttView.taskArea.addEventListener(\"touchend\", function (evt) {\n              _this.onTouchEnd(evt);\n            });\n            this.ganttView.taskArea.addEventListener(\"touchmove\", function (evt) {\n              _this.onTouchMove(evt);\n            });\n          } else if (browser_1.Browser.MSTouchUI) {\n            this.ganttView.taskArea.classList.add(TaskAreaManager.MS_POINTER_ACTIVE_CLASS);\n            this.ganttView.taskArea.addEventListener(\"pointerdown\", function (evt) {\n              _this.onMouseDown(evt);\n            });\n            this.ganttView.taskArea.addEventListener(\"pointerup\", function (evt) {\n              _this.onDocumentMouseUp(evt);\n            });\n            this.ganttView.taskArea.addEventListener(\"pointermove\", function (evt) {\n              _this.onDocumentMouseMove(evt);\n            });\n          }\n        };\n\n        TaskAreaManager.prototype.attachEventsOnTask = function (taskElement) {\n          var _this = this;\n\n          taskElement.addEventListener(\"mouseenter\", function (evt) {\n            if (browser_1.Browser.MSTouchUI) setTimeout(function () {\n              return _this.onTaskElementHover(evt);\n            }, 0);else _this.onTaskElementHover(evt);\n          });\n        };\n\n        TaskAreaManager.prototype.onMouseDown = function (evt) {\n          this.eventManager.onMouseDown(evt);\n          this.preventSelect = false;\n          this.position = new point_1.Point(evt.clientX, evt.clientY);\n        };\n\n        TaskAreaManager.prototype.onDocumentMouseUp = function (evt) {\n          var _this = this;\n\n          this.ganttView.isFocus = dom_1.DomUtils.isItParent(this.ganttView.taskArea, evt_1.EvtUtils.getEventSource(evt)) ? true : false;\n          if (this.ganttView.isFocus && !this.preventSelect && this.ganttView.settings.allowSelectTask && !this.isConnectorLine(evt)) setTimeout(function () {\n            _this.changeTaskSelection(_this.getClickedTaskIndex(evt));\n          }, 0);\n          this.eventManager.onMouseUp(evt);\n        };\n\n        TaskAreaManager.prototype.onMouseWheel = function (evt) {\n          this.eventManager.onMouseWheel(evt);\n        };\n\n        TaskAreaManager.prototype.onDocumentKeyDown = function (evt) {\n          this.eventManager.onKeyDown(evt);\n        };\n\n        TaskAreaManager.prototype.onDocumentMouseMove = function (evt) {\n          if (this.position.x != evt.clientX || this.position.y != evt.clientY) {\n            this.eventManager.onMouseMove(evt);\n            this.preventSelect = true;\n          }\n        };\n\n        TaskAreaManager.prototype.onTouchStart = function (evt) {\n          this.position = new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt));\n          var clickedItem = this.ganttView.viewModel.items[this.getClickedTaskIndex(evt)];\n          var now = new Date();\n\n          if (evt.touches.length === 1 && now.getTime() - this.touchTime.getTime() < TaskAreaManager.DBLCLICK_INTERVAL) {\n            evt.preventDefault();\n            if (clickedItem && this.ganttView.onTaskDblClick(clickedItem.task.id, evt)) this.ganttView.commandManager.showTaskEditDialog.execute(clickedItem.task);\n          } else this.eventManager.onTouchStart(evt);\n\n          if (clickedItem && this.ganttView.onTaskClick(clickedItem.task.id, evt)) this.touchTime = now;\n          this.preventSelect = false;\n        };\n\n        TaskAreaManager.prototype.onTouchEnd = function (evt) {\n          this.eventManager.onTouchEnd(evt);\n        };\n\n        TaskAreaManager.prototype.onTouchMove = function (evt) {\n          if (this.position.x != touch_1.TouchUtils.getEventX(evt) || this.position.y != touch_1.TouchUtils.getEventY(evt)) {\n            this.eventManager.onTouchMove(evt);\n            this.preventSelect = true;\n          }\n        };\n\n        TaskAreaManager.prototype.onContextMenu = function (evt) {\n          var source = evt_1.EvtUtils.getEventSource(evt);\n          var isDependency = this.isConnectorLine(evt);\n          var type = isDependency ? \"dependency\" : \"task\";\n          var key = isDependency ? source.getAttribute(\"dependency-id\") : this.getClickedTaskKey(this.getClickedTaskIndex(evt));\n          if (evt.stopPropagation) evt.stopPropagation();\n          if (evt.preventDefault) evt.preventDefault();\n          if (browser_1.Browser.WebKitFamily) evt.returnValue = false;\n\n          if (this.ganttView.ganttOwner.onGanttViewContextMenu(evt, key, type)) {\n            var info = {\n              event: evt,\n              type: type,\n              key: key,\n              position: new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt))\n            };\n            this.ganttView.ganttOwner.showPopupMenu(info);\n          }\n        };\n\n        TaskAreaManager.prototype.onTaskElementHover = function (evt) {\n          evt.preventDefault();\n          var hoveredTaskIndex = this.getClickedTaskIndex(evt);\n          this.ganttView.taskEditController.show(hoveredTaskIndex);\n          this.ganttView.taskEditController.showTaskInfo(evt_1.EvtUtils.getEventX(evt));\n        };\n\n        TaskAreaManager.prototype.getClickedTaskIndex = function (evt) {\n          var y = evt_1.EvtUtils.getEventY(evt);\n          var taskAreaY = dom_1.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);\n          var relativeY = y - taskAreaY;\n          return Math.floor(relativeY / this.ganttView.tickSize.height);\n        };\n\n        TaskAreaManager.prototype.getClickedTaskKey = function (index) {\n          var clickedItem = this.ganttView.viewModel.items[index];\n          return clickedItem && clickedItem.task && clickedItem.task.id;\n        };\n\n        TaskAreaManager.prototype.changeTaskSelection = function (index) {\n          var clickedTask = this.ganttView.viewModel.items[index];\n          if (clickedTask) this.ganttView.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\n        };\n\n        TaskAreaManager.prototype.onTaskAreaClick = function (evt) {\n          var clickedTaskIndex = this.getClickedTaskIndex(evt);\n          var clickedItem = this.ganttView.viewModel.items[clickedTaskIndex];\n          if (clickedItem) this.ganttView.onTaskClick(clickedItem.task.id, evt);\n        };\n\n        TaskAreaManager.prototype.onTaskAreaDblClick = function (evt) {\n          evt.preventDefault();\n          var clickedTaskIndex = this.getClickedTaskIndex(evt);\n          var clickedItem = this.ganttView.viewModel.items[clickedTaskIndex];\n          if (clickedItem && this.ganttView.onTaskDblClick(clickedItem.task.id, evt)) this.ganttView.commandManager.showTaskEditDialog.execute(clickedItem.task);\n        };\n\n        TaskAreaManager.prototype.isConnectorLine = function (evt) {\n          var source = evt_1.EvtUtils.getEventSource(evt);\n          return dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) || dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL);\n        };\n\n        TaskAreaManager.DBLCLICK_INTERVAL = 300;\n        TaskAreaManager.MS_POINTER_ACTIVE_CLASS = \"ms-pointer-active\";\n        return TaskAreaManager;\n      }();\n\n      exports.TaskAreaManager = TaskAreaManager;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DateRange = void 0;\n\n      var DateRange = function () {\n        function DateRange(start, end) {\n          this.start = start;\n          this.end = end;\n        }\n\n        return DateRange;\n      }();\n\n      exports.DateRange = DateRange;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DataObject = void 0;\n\n      var common_1 = __webpack_require__(1);\n\n      var math_1 = __webpack_require__(34);\n\n      var DataObject = function () {\n        function DataObject() {\n          this.internalId = math_1.MathUtils.generateGuid();\n        }\n\n        DataObject.prototype.assignFromObject = function (sourceObj) {\n          if (!common_1.isDefined(sourceObj)) return;\n\n          if (common_1.isDefined(sourceObj.id)) {\n            this.id = sourceObj.id;\n            this.internalId = String(sourceObj.id);\n          }\n        };\n\n        return DataObject;\n      }();\n\n      exports.DataObject = DataObject;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Dependency = exports.DependencyType = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(10);\n\n      var common_1 = __webpack_require__(1);\n\n      var DependencyType;\n\n      (function (DependencyType) {\n        DependencyType[DependencyType[\"FS\"] = 0] = \"FS\";\n        DependencyType[DependencyType[\"SS\"] = 1] = \"SS\";\n        DependencyType[DependencyType[\"FF\"] = 2] = \"FF\";\n        DependencyType[DependencyType[\"SF\"] = 3] = \"SF\";\n      })(DependencyType = exports.DependencyType || (exports.DependencyType = {}));\n\n      var Dependency = function (_super) {\n        tslib_1.__extends(Dependency, _super);\n\n        function Dependency() {\n          var _this = _super.call(this) || this;\n\n          _this.predecessorId = \"\";\n          _this.successorId = \"\";\n          _this.type = null;\n          return _this;\n        }\n\n        Dependency.prototype.assignFromObject = function (sourceObj) {\n          if (common_1.isDefined(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.internalId = String(sourceObj.id);\n            this.predecessorId = String(sourceObj.predecessorId);\n            this.successorId = String(sourceObj.successorId);\n            this.type = this.parseType(sourceObj.type);\n          }\n        };\n\n        Dependency.prototype.parseType = function (type) {\n          if (common_1.isDefined(type)) {\n            var text = type.toString().toUpperCase();\n\n            switch (text) {\n              case \"SS\":\n              case \"1\":\n                return DependencyType.SS;\n\n              case \"FF\":\n              case \"2\":\n                return DependencyType.FF;\n\n              case \"SF\":\n              case \"3\":\n                return DependencyType.SF;\n\n              default:\n                return DependencyType.FS;\n            }\n          } else return DependencyType.FS;\n        };\n\n        return Dependency;\n      }(DataObject_1.DataObject);\n\n      exports.Dependency = Dependency;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CompositionHistoryItem = exports.HistoryItem = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItem = function () {\n        function HistoryItem(modelManipulator) {\n          this.modelManipulator = modelManipulator;\n        }\n\n        return HistoryItem;\n      }();\n\n      exports.HistoryItem = HistoryItem;\n\n      var CompositionHistoryItem = function (_super) {\n        tslib_1.__extends(CompositionHistoryItem, _super);\n\n        function CompositionHistoryItem() {\n          var _this = _super.call(this, null) || this;\n\n          _this.historyItems = [];\n          return _this;\n        }\n\n        CompositionHistoryItem.prototype.redo = function () {\n          var item;\n\n          for (var i = 0; item = this.historyItems[i]; i++) item.redo();\n        };\n\n        CompositionHistoryItem.prototype.undo = function () {\n          var item;\n\n          for (var i = this.historyItems.length - 1; item = this.historyItems[i]; i--) item.undo();\n        };\n\n        CompositionHistoryItem.prototype.add = function (historyItem) {\n          if (historyItem == null) throw new Error(\"Can't add null HistoryItem\");\n          this.historyItems.push(historyItem);\n        };\n\n        CompositionHistoryItem.prototype.undoItemsQuery = function () {\n          this.undo();\n        };\n\n        return CompositionHistoryItem;\n      }(HistoryItem);\n\n      exports.CompositionHistoryItem = CompositionHistoryItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CollectionBase = void 0;\n\n      var common_1 = __webpack_require__(1);\n\n      var Utils_1 = __webpack_require__(56);\n\n      var CollectionBase = function () {\n        function CollectionBase() {\n          this._items = new Array();\n          this._isGanttCollection = true;\n        }\n\n        CollectionBase.prototype.add = function (element) {\n          if (!common_1.isDefined(element)) return;\n          if (!!this.getItemById(element.internalId)) throw \"The collection item with id ='\" + element.internalId + \"' already exists.\";\n\n          this._items.push(element);\n        };\n\n        CollectionBase.prototype.addRange = function (range) {\n          for (var i = 0; i < range.length; i++) this.add(range[i]);\n        };\n\n        CollectionBase.prototype.remove = function (element) {\n          var index = this._items.indexOf(element);\n\n          if (index > -1 && index < this._items.length) this._items.splice(index, 1);\n        };\n\n        CollectionBase.prototype.clear = function () {\n          this._items.splice(0, this._items.length);\n        };\n\n        Object.defineProperty(CollectionBase.prototype, \"items\", {\n          get: function () {\n            return this._items.slice();\n          },\n          set: function (value) {\n            if (value) this._items = value.slice();\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CollectionBase.prototype, \"length\", {\n          get: function () {\n            return this._items.length;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        CollectionBase.prototype.getItem = function (index) {\n          if (index > -1 && index < this._items.length) return this._items[index];\n          return null;\n        };\n\n        CollectionBase.prototype.getItemById = function (id) {\n          return this._items.filter(function (val) {\n            return val.internalId === id;\n          })[0];\n        };\n\n        CollectionBase.prototype.getItemByPublicId = function (id) {\n          return this._items.filter(function (val) {\n            return val.id === id || val.id.toString() === id;\n          })[0];\n        };\n\n        CollectionBase.prototype.assign = function (sourceCollection) {\n          if (!common_1.isDefined(sourceCollection)) return;\n          this.items = sourceCollection.items;\n        };\n\n        CollectionBase.prototype.importFromObject = function (source) {\n          if (!common_1.isDefined(source)) return;\n          this.clear();\n          if (source._isGanttCollection) this.assign(source);else if (source instanceof Array) this.importFromArray(source);else this.createItemFromObjectAndAdd(source);\n        };\n\n        CollectionBase.prototype.createItemFromObjectAndAdd = function (source) {\n          if (common_1.isDefined(source)) {\n            var item = this.createItem();\n            item.assignFromObject(source);\n            this.add(item);\n          }\n        };\n\n        CollectionBase.prototype.importFromArray = function (values) {\n          for (var i = 0; i < values.length; i++) this.createItemFromObjectAndAdd(values[i]);\n        };\n\n        CollectionBase.prototype.importFromJSON = function (json) {\n          this.importFromObject(Utils_1.GanttJsonUtils.evalJson(json));\n        };\n\n        return CollectionBase;\n      }();\n\n      exports.CollectionBase = CollectionBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskTitlePosition = exports.Position = exports.ViewType = void 0;\n      var ViewType;\n\n      (function (ViewType) {\n        ViewType[ViewType[\"TenMinutes\"] = 0] = \"TenMinutes\";\n        ViewType[ViewType[\"Hours\"] = 1] = \"Hours\";\n        ViewType[ViewType[\"SixHours\"] = 2] = \"SixHours\";\n        ViewType[ViewType[\"Days\"] = 3] = \"Days\";\n        ViewType[ViewType[\"Weeks\"] = 4] = \"Weeks\";\n        ViewType[ViewType[\"Months\"] = 5] = \"Months\";\n        ViewType[ViewType[\"Quarter\"] = 6] = \"Quarter\";\n        ViewType[ViewType[\"Years\"] = 7] = \"Years\";\n        ViewType[ViewType[\"FiveYears\"] = 8] = \"FiveYears\";\n      })(ViewType = exports.ViewType || (exports.ViewType = {}));\n\n      var Position;\n\n      (function (Position) {\n        Position[Position[\"Left\"] = 0] = \"Left\";\n        Position[Position[\"Top\"] = 1] = \"Top\";\n        Position[Position[\"Right\"] = 2] = \"Right\";\n        Position[Position[\"Bottom\"] = 3] = \"Bottom\";\n      })(Position = exports.Position || (exports.Position = {}));\n\n      var TaskTitlePosition;\n\n      (function (TaskTitlePosition) {\n        TaskTitlePosition[TaskTitlePosition[\"Inside\"] = 0] = \"Inside\";\n        TaskTitlePosition[TaskTitlePosition[\"Outside\"] = 1] = \"Outside\";\n        TaskTitlePosition[TaskTitlePosition[\"None\"] = 2] = \"None\";\n      })(TaskTitlePosition = exports.TaskTitlePosition || (exports.TaskTitlePosition = {}));\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var browser_1 = __webpack_require__(5);\n\n      var common_1 = __webpack_require__(1);\n\n      var TouchUtils = function () {\n        function TouchUtils() {}\n\n        TouchUtils.onEventAttachingToDocument = function (eventName, func) {\n          if (browser_1.Browser.MacOSMobilePlatform && TouchUtils.isTouchEventName(eventName)) {\n            if (!TouchUtils.documentTouchHandlers[eventName]) TouchUtils.documentTouchHandlers[eventName] = [];\n            TouchUtils.documentTouchHandlers[eventName].push(func);\n            return TouchUtils.documentEventAttachingAllowed;\n          }\n\n          return true;\n        };\n\n        TouchUtils.isTouchEventName = function (eventName) {\n          return browser_1.Browser.WebKitTouchUI && (eventName.indexOf('touch') > -1 || eventName.indexOf('gesture') > -1);\n        };\n\n        TouchUtils.isTouchEvent = function (evt) {\n          return browser_1.Browser.WebKitTouchUI && common_1.isDefined(evt.changedTouches);\n        };\n\n        TouchUtils.getEventX = function (evt) {\n          return browser_1.Browser.IE ? evt.pageX : evt.changedTouches[0].pageX;\n        };\n\n        TouchUtils.getEventY = function (evt) {\n          return browser_1.Browser.IE ? evt.pageY : evt.changedTouches[0].pageY;\n        };\n\n        TouchUtils.touchMouseDownEventName = browser_1.Browser.WebKitTouchUI ? 'touchstart' : browser_1.Browser.Edge && browser_1.Browser.MSTouchUI && window.PointerEvent ? 'pointerdown' : 'mousedown';\n        TouchUtils.touchMouseUpEventName = browser_1.Browser.WebKitTouchUI ? 'touchend' : browser_1.Browser.Edge && browser_1.Browser.MSTouchUI && window.PointerEvent ? 'pointerup' : 'mouseup';\n        TouchUtils.touchMouseMoveEventName = browser_1.Browser.WebKitTouchUI ? 'touchmove' : browser_1.Browser.Edge && browser_1.Browser.MSTouchUI && window.PointerEvent ? 'pointermove' : 'mousemove';\n        TouchUtils.msTouchDraggableClassName = 'dxMSTouchDraggable';\n        TouchUtils.documentTouchHandlers = {};\n        TouchUtils.documentEventAttachingAllowed = true;\n        return TouchUtils;\n      }();\n\n      exports.TouchUtils = TouchUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.RecurrenceBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(10);\n\n      var DayOfWeek_1 = __webpack_require__(70);\n\n      var DayOfWeekMonthlyOccurrence_1 = __webpack_require__(38);\n\n      var Month_1 = __webpack_require__(71);\n\n      var common_1 = __webpack_require__(1);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var RecurrenceFactory_1 = __webpack_require__(39);\n\n      var RecurrenceBase = function (_super) {\n        tslib_1.__extends(RecurrenceBase, _super);\n\n        function RecurrenceBase(start, end, interval, occurrenceCount) {\n          if (start === void 0) {\n            start = null;\n          }\n\n          if (end === void 0) {\n            end = null;\n          }\n\n          if (interval === void 0) {\n            interval = 1;\n          }\n\n          if (occurrenceCount === void 0) {\n            occurrenceCount = 0;\n          }\n\n          var _this = _super.call(this) || this;\n\n          _this._start = null;\n          _this._end = null;\n          _this._interval = 1;\n          _this._occurrenceCount = 0;\n          _this._dayOfWeek = 0;\n          _this._day = 1;\n          _this._dayOfWeekOccurrence = 0;\n          _this._month = 0;\n          _this._calculateByDayOfWeek = false;\n          _this.start = start;\n          _this.end = end;\n          _this.interval = interval;\n          _this.occurrenceCount = occurrenceCount;\n          return _this;\n        }\n\n        RecurrenceBase.prototype.assignFromObject = function (sourceObj) {\n          if (common_1.isDefined(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.start = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.start);\n            this.end = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.end);\n            if (common_1.isDefined(sourceObj.interval)) this.interval = sourceObj.interval;\n            if (common_1.isDefined(sourceObj.occurrenceCount)) this.occurrenceCount = sourceObj.occurrenceCount;\n            if (common_1.isDefined(sourceObj.dayOfWeek)) this.dayOfWeekInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeek_1.DayOfWeek, sourceObj.dayOfWeek);\n            if (common_1.isDefined(sourceObj.day)) this.dayInternal = sourceObj.day;\n            if (common_1.isDefined(sourceObj.dayOfWeekOccurrence)) this.dayOfWeekOccurrenceInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence, sourceObj.dayOfWeekOccurrence);\n            if (common_1.isDefined(sourceObj.month)) this.monthInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(Month_1.Month, sourceObj.month);\n            if (common_1.isDefined(sourceObj.calculateByDayOfWeek)) this._calculateByDayOfWeek = !!sourceObj.calculateByDayOfWeek;\n          }\n        };\n\n        RecurrenceBase.prototype.calculatePoints = function (start, end) {\n          if (!start || !end) return new Array();\n          var from = DateTimeUtils_1.DateTimeUtils.getMaxDate(start, this._start);\n          var to = DateTimeUtils_1.DateTimeUtils.getMinDate(end, this._end);\n          if (this._occurrenceCount > 0) return this.calculatePointsByOccurrenceCount(from, to);\n          return this.calculatePointsByDateRange(from, to);\n        };\n\n        RecurrenceBase.prototype.calculatePointsByOccurrenceCount = function (start, end) {\n          var points = new Array();\n          var point = this.getFirstPoint(start);\n\n          while (!!point && points.length < this._occurrenceCount && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\n            if (this.isRecurrencePoint(point)) points.push(point);\n            point = this.getNextPoint(point);\n          }\n\n          return points;\n        };\n\n        RecurrenceBase.prototype.calculatePointsByDateRange = function (start, end) {\n          var points = new Array();\n          var point = this.getFirstPoint(start);\n\n          while (!!point && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\n            if (this.isRecurrencePoint(point)) points.push(point);\n            point = this.getNextPoint(point);\n          }\n\n          return points;\n        };\n\n        RecurrenceBase.prototype.getFirstPoint = function (start) {\n          if (this.isRecurrencePoint(start)) return start;\n          return this.getNextPoint(start);\n        };\n\n        RecurrenceBase.prototype.isRecurrencePoint = function (date) {\n          return this.isDateInRange(date) && this.checkDate(date) && (!this.useIntervalInCalc() || this.checkInterval(date));\n        };\n\n        RecurrenceBase.prototype.isDateInRange = function (date) {\n          if (!date) return false;\n          if (this._start && DateTimeUtils_1.DateTimeUtils.compareDates(this.start, date) < 0) return false;\n          if (this._occurrenceCount == 0 && this.end && DateTimeUtils_1.DateTimeUtils.compareDates(date, this.end) < 0) return false;\n          return true;\n        };\n\n        RecurrenceBase.prototype.useIntervalInCalc = function () {\n          return this.interval > 1 && !!this._start;\n        };\n\n        RecurrenceBase.prototype.getNextPoint = function (date) {\n          if (!this.isDateInRange(date)) return null;\n          if (this.useIntervalInCalc()) return this.calculatePointByInterval(date);\n          return this.calculateNearestPoint(date);\n        };\n\n        RecurrenceBase.prototype.getSpecDayInMonth = function (year, month) {\n          var date;\n          if (this._calculateByDayOfWeek) date = DateTimeUtils_1.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal, year, month, this.dayOfWeekOccurrenceInternal);else date = new Date(year, month, this.dayInternal);\n          return date;\n        };\n\n        Object.defineProperty(RecurrenceBase.prototype, \"dayInternal\", {\n          get: function () {\n            return this._day;\n          },\n          set: function (value) {\n            if (value > 0 && value <= 31) this._day = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekInternal\", {\n          get: function () {\n            return this._dayOfWeek;\n          },\n          set: function (dayOfWeek) {\n            if (dayOfWeek >= DayOfWeek_1.DayOfWeek.Sunday && dayOfWeek <= DayOfWeek_1.DayOfWeek.Saturday) this._dayOfWeek = dayOfWeek;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekOccurrenceInternal\", {\n          get: function () {\n            return this._dayOfWeekOccurrence;\n          },\n          set: function (value) {\n            if (value >= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.First && value <= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) this._dayOfWeekOccurrence = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"monthInternal\", {\n          get: function () {\n            return this._month;\n          },\n          set: function (value) {\n            if (value >= Month_1.Month.January && value <= Month_1.Month.December) this._month = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"start\", {\n          get: function () {\n            return this._start;\n          },\n          set: function (date) {\n            if (!date) return;\n            this._start = date;\n            if (!!this._end && date > this._end) this._end = date;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"end\", {\n          get: function () {\n            return this._end;\n          },\n          set: function (date) {\n            if (!date) return;\n            this._end = date;\n            if (!!this._start && date < this._start) this._start = date;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"occurrenceCount\", {\n          get: function () {\n            return this._occurrenceCount;\n          },\n          set: function (value) {\n            if (value < 0) value = 0;\n            this._occurrenceCount = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(RecurrenceBase.prototype, \"interval\", {\n          get: function () {\n            return this._interval;\n          },\n          set: function (value) {\n            if (value > 0) this._interval = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return RecurrenceBase;\n      }(DataObject_1.DataObject);\n\n      exports.RecurrenceBase = RecurrenceBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GridLayoutCalculator = void 0;\n\n      var size_1 = __webpack_require__(28);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var Enums_1 = __webpack_require__(14);\n\n      var GridElementInfo_1 = __webpack_require__(42);\n\n      var Utils_1 = __webpack_require__(41);\n\n      var point_1 = __webpack_require__(4);\n\n      var Dependency_1 = __webpack_require__(11);\n\n      var Settings_1 = __webpack_require__(43);\n\n      var GridLayoutCalculator = function () {\n        function GridLayoutCalculator() {\n          this.tileToDependencyMap = [];\n          this.tileToNoWorkingIntervalsMap = [];\n          this.minLineLength = 10;\n          this.resourceMaxWidth = 500;\n          this.minTaskWidth = 2;\n        }\n\n        GridLayoutCalculator.prototype.setSettings = function (visibleTaskAreaSize, tickSize, elementSizeValues, range, viewModel, viewType, scrollBarHeight) {\n          if (scrollBarHeight === void 0) {\n            scrollBarHeight = 0;\n          }\n\n          this.visibleTaskAreaSize = visibleTaskAreaSize;\n          this.tickSize = tickSize;\n          this.viewType = viewType;\n          this.range = range;\n          this.verticalTickCount = viewModel.itemCount;\n          this.viewModel = viewModel;\n          this.elementSizeValues = elementSizeValues;\n          this.taskHeight = elementSizeValues.taskHeight;\n          this.parentTaskHeight = elementSizeValues.parentTaskHeight;\n          this.milestoneWidth = elementSizeValues.milestoneWidth;\n          this.scaleHeight = elementSizeValues.scaleItemHeight;\n          this.arrowSize = new size_1.Size(elementSizeValues.connectorArrowWidth, elementSizeValues.connectorArrowWidth);\n          this.lineThickness = elementSizeValues.connectorLineThickness;\n          this.minConnectorSpaceFromTask = (this.tickSize.height - this.taskHeight) / 2;\n          this.tickTimeSpan = Utils_1.DateUtils.getTickTimeSpan(viewType);\n          this.horizontalTickCount = this.getTotalTickCount();\n          this.scrollBarHeight = scrollBarHeight;\n          this.createTileToConnectorLinesMap();\n          this.createTileToNonWorkingIntervalsMap();\n        };\n\n        GridLayoutCalculator.prototype.getTaskAreaBorderInfo = function (index, isVertical) {\n          var sizeValue = isVertical ? this.getVerticalGridLineHeight() : this.tickSize.width * this.horizontalTickCount;\n          return this.getGridBorderInfo(index, isVertical, sizeValue);\n        };\n\n        GridLayoutCalculator.prototype.getScaleBorderInfo = function (index, scaleType) {\n          var result = this.getGridBorderInfo(index, true, this.scaleHeight);\n          result.position.x *= this.getScaleItemColSpan(scaleType);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderInfo = function (index, isVertical, size) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.setPosition(this.getGridBorderPosition(index, isVertical));\n          if (size) result.setSize(this.getGridBorderSize(isVertical, size));\n          result.className = isVertical ? \"dx-gantt-vb\" : \"dx-gantt-hb\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderPosition = function (index, isVertical) {\n          var result = new point_1.Point(undefined, undefined);\n          var posValue = (index + 1) * (isVertical ? this.tickSize.width : this.tickSize.height);\n          if (isVertical) result.x = posValue;else result.y = posValue;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderSize = function (isVertical, sizeValue) {\n          var result = new size_1.Size(0, 0);\n          if (isVertical) result.height = sizeValue;else result.width = sizeValue;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getScaleElementInfo = function (index, scaleType) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.setPosition(this.getScaleItemPosition(index, scaleType));\n          result.setSize(this.getScaleItemSize(scaleType));\n          result.className = this.getScaleItemClassName(scaleType, result, this.getRenderedNoWorkingIntervals(result.position.x));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemClassName = function (scaleType, scaleItemInfo, noWorkingIntervals) {\n          var result = \"dx-gantt-si\";\n          if (scaleType.valueOf() == this.viewType.valueOf() && this.isScaleItemInsideNoWorkingInterval(scaleItemInfo, noWorkingIntervals)) result += \" dx-gantt-holiday-scaleItem\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.isScaleItemInsideNoWorkingInterval = function (scaleItemInfo, noWorkingIntervals) {\n          var scaleItemLeft = scaleItemInfo.position.x;\n          var scaleItemRight = scaleItemInfo.position.x + scaleItemInfo.size.width;\n\n          for (var i = 0; i < noWorkingIntervals.length; i++) {\n            var noWorkingIntervalLeft = noWorkingIntervals[i].position.x;\n            var noWorkingIntervalRight = noWorkingIntervals[i].position.x + noWorkingIntervals[i].size.width;\n            if (scaleItemLeft >= noWorkingIntervalLeft && scaleItemRight <= noWorkingIntervalRight) return true;\n          }\n\n          return false;\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemPosition = function (index, scaleType) {\n          return new point_1.Point(index * this.tickSize.width * this.getScaleItemColSpan(scaleType), undefined);\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemSize = function (scaleType) {\n          return new size_1.Size(this.tickSize.width * this.getScaleItemColSpan(scaleType), 0);\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemColSpan = function (scaleType) {\n          if (scaleType.valueOf() == this.viewType.valueOf()) return 1;\n          if (this.viewType == Enums_1.ViewType.TenMinutes) return 6;\n          if (this.viewType == Enums_1.ViewType.Hours) return 24;\n          if (this.viewType == Enums_1.ViewType.SixHours) return 4;\n          if (this.viewType == Enums_1.ViewType.Days) return 7;\n          if (this.viewType == Enums_1.ViewType.Weeks) return 4.29;\n          if (this.viewType == Enums_1.ViewType.Months) return 12;\n          if (this.viewType == Enums_1.ViewType.Quarter) return 4;\n          if (this.viewType == Enums_1.ViewType.Years) return 5;\n          return 1;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = this.getTaskWrapperClassName(index);\n          result.setPosition(this.getTaskWrapperPoint(index));\n          result.setAttribute(\"task-index\", index);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperClassName = function (index) {\n          var result = \"dx-gantt-taskWrapper\";\n          if (this.getTask(index).isMilestone()) result = \"dx-gantt-milestoneWrapper\";\n          if (this.viewModel.items[index].selected) result += \" dx-gantt-selectedTask\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperPoint = function (index) {\n          var height = this.getTaskHeight(index);\n          var y = index * this.tickSize.height + (this.tickSize.height - height) / 2;\n          var result = new point_1.Point(this.getPosByDate(this.getTask(index).start), y);\n\n          if (this.getTask(index).isMilestone()) {\n            var height_1 = this.getTaskHeight(index);\n            result.x -= height_1 / 2;\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskElementInfo = function (index, textOutsideTask) {\n          if (textOutsideTask === void 0) {\n            textOutsideTask = false;\n          }\n\n          var result = new GridElementInfo_1.GridElementInfo();\n          var task = this.getTask(index);\n          var autoCalculatedParent = this.viewModel.parentAutoCalc && this.viewModel.taskHasChildrenByIndex(index);\n\n          if (!task.isMilestone()) {\n            result.size.width = this.getTaskWidth(index);\n            if (textOutsideTask) result.size.height = this.getTaskHeight(index);\n          }\n\n          result.className = this.getTaskClassName(index, result.size.width);\n\n          if (task.color) {\n            result.style.backgroundColor = task.color;\n\n            if (autoCalculatedParent) {\n              result.style.borderLeftColor = task.color;\n              result.style.borderRightColor = task.color;\n              result.style.borderTopColor = task.color;\n            }\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskClassName = function (index, taskWidth) {\n          var result = \"dx-gantt-task\";\n          var task = this.getTask(index);\n          var autoCalculatedParent = this.viewModel.parentAutoCalc && this.viewModel.taskHasChildrenByIndex(index);\n          if (task.isMilestone()) result += \" dx-gantt-milestone\";else if (taskWidth <= this.elementSizeValues.smallTaskWidth) result += \" dx-gantt-smallTask\";\n          if (autoCalculatedParent) result += this.getAutoCalcParentTaskClassName(task);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getAutoCalcParentTaskClassName = function (task) {\n          var result = \" dx-gantt-parent\";\n          if (task.progress == 0) result += \" dx-gantt-noPrg\";\n          if (task.progress >= 100) result += \" dx-gantt-cmpl\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskPoint = function (index) {\n          var result = this.getTaskWrapperPoint(index);\n          if (!this.getTask(index).isMilestone()) result.y += this.elementSizeValues.taskWrapperTopPadding;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskSize = function (index) {\n          return new size_1.Size(this.getTaskWidth(index), this.getTaskHeight(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskWidth = function (index) {\n          var task = this.getTask(index);\n          return task.isMilestone() ? this.getTaskHeight(index) : Math.max(this.getWidthByDateRange(task.start, task.end), this.minTaskWidth);\n        };\n\n        GridLayoutCalculator.prototype.getTaskHeight = function (index) {\n          var task = this.getTask(index);\n          if (task.isMilestone()) return this.milestoneWidth;\n          if (this.viewModel.isTaskToCalculateByChildren(task.id)) return this.parentTaskHeight;\n          return this.taskHeight;\n        };\n\n        GridLayoutCalculator.prototype.getTask = function (index) {\n          return this.viewModel.items[index].task;\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-tPrg\";\n          result.setSize(this.getTaskProgressSize(index));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressSize = function (index) {\n          return new size_1.Size(this.getTaskProgressWidth(index), 0);\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressWidth = function (index) {\n          return this.getTaskWidth(index) * this.getTask(index).progress / 100;\n        };\n\n        GridLayoutCalculator.prototype.getTaskTextElementInfo = function (index, isInsideText) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = this.getTaskTextElementClassName(isInsideText);\n\n          if (!isInsideText) {\n            var taskX = this.getTaskPoint(index).x;\n\n            if (taskX < this.elementSizeValues.outsideTaskTextDefaultWidth) {\n              result.size.width = taskX;\n              result.margins.left = -taskX;\n            }\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskTextElementClassName = function (isInsideText) {\n          var result = \"dx-gantt-taskTitle\";\n          result += isInsideText ? \" dx-gantt-titleIn\" : \" dx-gantt-titleOut\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskResourcesWrapperElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var width = this.getTaskSize(index).width;\n          result.className = \"dx-gantt-taskResWrapper\";\n          result.setPosition(this.getTaskWrapperPoint(index));\n          result.position.x = result.position.x + width;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskResourceElementInfo = function () {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-taskRes\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getSelectionElementInfo = function (index) {\n          return this.getRowElementInfo(index, \"dx-gantt-sel\");\n        };\n\n        GridLayoutCalculator.prototype.getSelectionPosition = function (index) {\n          var result = new point_1.Point(undefined, undefined);\n          result.y = index * this.tickSize.height;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getSelectionSize = function () {\n          return new size_1.Size(this.tickSize.width * this.horizontalTickCount, this.tickSize.height);\n        };\n\n        GridLayoutCalculator.prototype.getHighlightRowInfo = function (index) {\n          return this.getRowElementInfo(index, \"dx-gantt-altRow\");\n        };\n\n        GridLayoutCalculator.prototype.getRowElementInfo = function (index, className) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = className;\n          result.setPosition(this.getSelectionPosition(index));\n          result.setSize(this.getSelectionSize());\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalInfo = function (noWorkingDateRange) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-nwi\";\n          result.setPosition(this.getNoWorkingIntervalPosition(noWorkingDateRange.start));\n          result.setSize(this.getNoWorkingIntervalSize(noWorkingDateRange));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalPosition = function (intervalStart) {\n          var result = new point_1.Point(undefined, undefined);\n          result.x = this.getPosByDate(intervalStart);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalSize = function (noWorkingInterval) {\n          return new size_1.Size(this.getWidthByDateRange(noWorkingInterval.start, noWorkingInterval.end), this.getVerticalGridLineHeight());\n        };\n\n        GridLayoutCalculator.prototype.getVerticalGridLineHeight = function () {\n          return Math.max(this.visibleTaskAreaSize.height - this.scrollBarHeight, this.tickSize.height * this.verticalTickCount);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorInfo = function (id, predessorIndex, successorIndex, connectorType) {\n          var result = new Array();\n          var connectorPoints = this.getConnectorPoints(predessorIndex, successorIndex, connectorType);\n\n          for (var i = 0; i < connectorPoints.length - 1; i++) result.push(this.getConnectorLineInfo(id, connectorPoints[i], connectorPoints[i + 1], i == 0 || i == connectorPoints.length - 2));\n\n          result.push(this.getArrowInfo(id, connectorPoints, result, predessorIndex, successorIndex));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorLineInfo = function (id, startPoint, endPoint, isEdgeLine) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var isVertical = startPoint.x == endPoint.x;\n          result.className = this.getConnectorClassName(isVertical);\n          result.setPosition(this.getConnectorPosition(startPoint, endPoint));\n          result.setSize(this.getConnectorSize(startPoint, endPoint, isVertical, isEdgeLine));\n          result.setAttribute(\"dependency-id\", id);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorClassName = function (isVertical) {\n          return isVertical ? GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL : GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPosition = function (startPoint, endPoint) {\n          return new point_1.Point(Math.min(startPoint.x, endPoint.x), Math.min(startPoint.y, endPoint.y));\n        };\n\n        GridLayoutCalculator.prototype.getConnectorSize = function (startPoint, endPoint, isVertical, isEdgeLine) {\n          var result = new size_1.Size(0, 0);\n          var sizeCorrection = isEdgeLine ? 0 : 1;\n          if (isVertical) result.height = Math.abs(endPoint.y - startPoint.y) + sizeCorrection;else result.width = Math.abs(endPoint.x - startPoint.x) + sizeCorrection;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getArrowInfo = function (id, connectorPoints, connectorLines, predessorIndex, successorIndex) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var lineInfo = this.findArrowLineInfo(connectorLines, predessorIndex, successorIndex);\n          var arrowPosition = this.getArrowPosition(connectorPoints, predessorIndex, successorIndex);\n          result.className = this.getArrowClassName(arrowPosition);\n          result.setPosition(this.getArrowPoint(lineInfo, arrowPosition));\n          result.setAttribute(\"dependency-id\", id);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.findArrowLineInfo = function (connectorLines, predessorIndex, successorIndex) {\n          var arrowLineIndex = predessorIndex < successorIndex ? connectorLines.length - 1 : 0;\n          return connectorLines[arrowLineIndex];\n        };\n\n        GridLayoutCalculator.prototype.getArrowPosition = function (connectorPoints, predessorIndex, successorIndex) {\n          var prevLastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 2 : 1];\n          var lastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 1 : 0];\n          if (prevLastPoint.x == lastPoint.x) return prevLastPoint.y > lastPoint.y ? Enums_1.Position.Top : Enums_1.Position.Bottom;\n          return prevLastPoint.x > lastPoint.x ? Enums_1.Position.Left : Enums_1.Position.Right;\n        };\n\n        GridLayoutCalculator.prototype.getArrowClassName = function (arrowPosition) {\n          var result = \"dx-gantt-arrow\";\n\n          switch (arrowPosition) {\n            case Enums_1.Position.Left:\n              result += \" dx-gantt-LA\";\n              break;\n\n            case Enums_1.Position.Top:\n              result += \" dx-gantt-TA\";\n              break;\n\n            case Enums_1.Position.Right:\n              result += \" dx-gantt-RA\";\n              break;\n\n            case Enums_1.Position.Bottom:\n              result += \" dx-gantt-BA\";\n              break;\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getArrowPoint = function (lineInfo, arrowPosition) {\n          return new point_1.Point(this.getArrowX(lineInfo, arrowPosition), this.getArrowY(lineInfo, arrowPosition));\n        };\n\n        GridLayoutCalculator.prototype.getArrowX = function (lineInfo, arrowPosition) {\n          switch (arrowPosition) {\n            case Enums_1.Position.Left:\n              return lineInfo.position.x - this.arrowSize.width / 2;\n\n            case Enums_1.Position.Right:\n              return lineInfo.position.x + lineInfo.size.width - this.arrowSize.width / 2;\n\n            case Enums_1.Position.Top:\n            case Enums_1.Position.Bottom:\n              return lineInfo.position.x - (this.arrowSize.width - this.lineThickness) / 2;\n          }\n        };\n\n        GridLayoutCalculator.prototype.getArrowY = function (lineInfo, arrowPosition) {\n          switch (arrowPosition) {\n            case Enums_1.Position.Top:\n              return lineInfo.position.y - this.arrowSize.height / 2;\n\n            case Enums_1.Position.Bottom:\n              return lineInfo.position.y + lineInfo.size.height - this.arrowSize.height / 2;\n\n            case Enums_1.Position.Left:\n            case Enums_1.Position.Right:\n              return lineInfo.position.y - (this.arrowSize.height - this.lineThickness) / 2;\n          }\n        };\n\n        GridLayoutCalculator.prototype.getPosByDate = function (date) {\n          return this.getWidthByDateRange(this.range.start, date);\n        };\n\n        GridLayoutCalculator.prototype.getWidthByDateRange = function (start, end) {\n          return this.getRangeTickCount(start, end) * this.tickSize.width;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCount = function (start, end) {\n          if (this.viewType == Enums_1.ViewType.Months) return this.getRangeTickCountInMonthsViewType(start, end);\n          if (this.viewType == Enums_1.ViewType.Quarter) return this.getRangeTickCountInQuarterViewType(start, end);\n          return (end.getTime() - start.getTime()) / this.tickTimeSpan;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCountInMonthsViewType = function (start, end) {\n          var startMonthStartDate = new Date(start.getFullYear(), start.getMonth(), 1);\n          var endMonthStartDate = new Date(end.getFullYear(), end.getMonth(), 1);\n          var monthOffset = Utils_1.DateUtils.getOffsetInMonths(startMonthStartDate, endMonthStartDate);\n          var endFromMonthStartDateOffset = end.getTime() - endMonthStartDate.getTime();\n          var startFromMonthStartDateOffset = start.getTime() - startMonthStartDate.getTime();\n          return monthOffset + (endFromMonthStartDateOffset - startFromMonthStartDateOffset) / Utils_1.DateUtils.msPerMonth;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCountInQuarterViewType = function (start, end) {\n          var startQuarterStartDate = new Date(start.getFullYear(), Math.floor(start.getMonth() / 3) * 3, 1);\n          var endQuarterStartDate = new Date(end.getFullYear(), Math.floor(end.getMonth() / 3) * 3, 1);\n          var quarterOffset = Utils_1.DateUtils.getOffsetInQuarters(startQuarterStartDate, endQuarterStartDate);\n          var endFromQuarterStartDateOffset = end.getTime() - endQuarterStartDate.getTime();\n          var startFromQuarterStartDateOffset = start.getTime() - startQuarterStartDate.getTime();\n          return quarterOffset + (endFromQuarterStartDateOffset - startFromQuarterStartDateOffset) / (Utils_1.DateUtils.msPerMonth * 3);\n        };\n\n        GridLayoutCalculator.prototype.getDateByPos = function (position) {\n          var preResult = position / this.tickSize.width;\n          var start = new Date(this.range.start);\n\n          if (this.viewType == Enums_1.ViewType.Months || this.viewType == Enums_1.ViewType.Quarter) {\n            var monthFromStart = Math.floor(preResult);\n            start = new Date(start.setMonth(start.getMonth() + (this.viewType == Enums_1.ViewType.Months ? monthFromStart : monthFromStart * 3)));\n            preResult = (position - this.getPosByDate(start)) / this.tickSize.width;\n          }\n\n          var time = preResult * this.tickTimeSpan + start.getTime();\n          var result = new Date();\n          result.setTime(time);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTotalTickCount = function () {\n          return this.getRangeTickCount(this.range.start, this.range.end);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints = function (predessorIndex, successorIndex, connectorType) {\n          switch (connectorType) {\n            case Dependency_1.DependencyType.FS:\n              return this.getFinishToStartConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.SF:\n              return this.getStartToFinishConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.SS:\n              return this.getStartToStartConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.FF:\n              return this.getFinishToFinishConnectorPoints(predessorIndex, successorIndex);\n\n            default:\n              return new Array();\n          }\n        };\n\n        GridLayoutCalculator.prototype.getFinishToStartConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start) return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(predessorIndex, successorIndex, false);\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(predessorIndex, successorIndex, false);\n          }\n\n          if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start) return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(successorIndex, predessorIndex, false);\n          return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(successorIndex, predessorIndex, true);\n        };\n\n        GridLayoutCalculator.prototype.getFinishToFinishConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(predessorIndex, successorIndex);\n          return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(successorIndex, predessorIndex);\n        };\n\n        GridLayoutCalculator.prototype.getStartToStartConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(predessorIndex, successorIndex);\n          return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(successorIndex, predessorIndex);\n        };\n\n        GridLayoutCalculator.prototype.getStartToFinishConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end) return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(predessorIndex, successorIndex, true);\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(predessorIndex, successorIndex, false);\n          }\n\n          if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end) return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\n          return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new point_1.Point(Math.floor(topTaskRightCenter.x), Math.floor(topTaskRightCenter.y)));\n          result.push(new point_1.Point(Math.floor(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent), Math.floor(result[0].y)));\n          result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskTopCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new point_1.Point(Math.floor(topTaskRightCenter.x), Math.floor(topTaskRightCenter.y)));\n          result.push(new point_1.Point(Math.floor(Math.max(topTaskRightCenter.x, bottomTaskRightCenter.x) + this.minLineLength), Math.floor(result[0].y)));\n          result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskRightCenter.y)));\n          result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x), Math.floor(bottomTaskRightCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new point_1.Point(Math.floor(topTaskRightCenter.x), Math.floor(topTaskRightCenter.y)));\n          result.push(new point_1.Point(Math.floor(result[0].x + this.minLineLength), Math.floor(result[0].y)));\n          result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(shiftToTop ? topTaskBottomCenter.y + this.minConnectorSpaceFromTask : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask)));\n          result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x - this.minLineLength), Math.floor(result[2].y)));\n          result.push(new point_1.Point(Math.floor(result[3].x), Math.floor(bottomTaskLeftCenter.y)));\n          result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x), Math.floor(bottomTaskLeftCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new point_1.Point(Math.floor(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent), Math.floor(topTaskBottomCenter.y)));\n          result.push(new point_1.Point(Math.floor(result[0].x), Math.floor(bottomTaskRightCenter.y)));\n          result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x), Math.floor(bottomTaskRightCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new point_1.Point(Math.floor(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent), Math.floor(topTaskBottomCenter.y)));\n          result.push(new point_1.Point(Math.floor(result[0].x), Math.floor(bottomTaskLeftCenter.y)));\n          result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x), Math.floor(bottomTaskLeftCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\n          var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new point_1.Point(Math.floor(topTaskLeftCenter.x), Math.floor(topTaskLeftCenter.y)));\n          result.push(new point_1.Point(Math.floor(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent), Math.floor(result[0].y)));\n          result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskTopCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new point_1.Point(Math.floor(topTaskLeftCenter.x), topTaskLeftCenter.y));\n          result.push(new point_1.Point(Math.floor(result[0].x - this.minLineLength), result[0].y));\n          result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(shiftToTop ? topTaskBottomCenter.y + this.minConnectorSpaceFromTask : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask)));\n          result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x + this.minLineLength), Math.floor(result[2].y)));\n          result.push(new point_1.Point(Math.floor(result[3].x), Math.floor(bottomTaskRightCenter.y)));\n          result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x), Math.floor(bottomTaskRightCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new point_1.Point(Math.floor(topTaskLeftCenter.x), Math.floor(topTaskLeftCenter.y)));\n          result.push(new point_1.Point(Math.floor(Math.min(topTaskLeftCenter.x, bottomTaskLeftCenter.x) - this.minLineLength), Math.floor(result[0].y)));\n          result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskLeftCenter.y)));\n          result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x), Math.floor(bottomTaskLeftCenter.y)));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskLeftCenter = function (taskPoint, index) {\n          return new point_1.Point(taskPoint.x - this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\n        };\n\n        GridLayoutCalculator.prototype.getTaskRightCenter = function (taskPoint, index) {\n          return new point_1.Point(taskPoint.x + this.getTaskWidth(index) + this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\n        };\n\n        GridLayoutCalculator.prototype.getTaskTopCenter = function (taskPoint, index) {\n          return new point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y - this.getTaskEdgeCorrection(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskBottomCenter = function (taskPoint, index) {\n          return new point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y + this.getTaskHeight(index) + this.getTaskEdgeCorrection(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskEdgeCorrection = function (index) {\n          var isMilestone = this.viewModel.items[index].task.isMilestone();\n          return isMilestone ? this.getTaskHeight(index) * (Math.sqrt(2) - 1) / 2 : 0;\n        };\n\n        GridLayoutCalculator.prototype.getRenderedRowColumnIndices = function (scrollPos, isVertical) {\n          var visibleAreaSizeValue = isVertical ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\n          var tickSizeValue = isVertical ? this.tickSize.height : this.tickSize.width;\n          var tickCount = isVertical ? this.verticalTickCount : this.horizontalTickCount;\n          var firstVisibleIndex = this.getFirstVisibleGridCellIndex(scrollPos, tickSizeValue);\n          var lastVisibleIndex = this.getLastVisibleGridCellIndex(scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount);\n          var result = new Array();\n\n          for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++) result.push(i);\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getRenderedScaleItemIndices = function (scaleType, renderedColIndices) {\n          var scaleItemColSpan = this.getScaleItemColSpan(scaleType);\n          var firstVisibleIndex = Math.floor(renderedColIndices[0] / scaleItemColSpan);\n          var lastVisibleIndex = Math.floor(renderedColIndices[renderedColIndices.length - 1] / scaleItemColSpan);\n          var result = new Array();\n\n          for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++) result.push(i);\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getFirstVisibleGridCellIndex = function (scrollPos, tickSizeValue) {\n          var result = Math.floor(scrollPos / tickSizeValue);\n          result = Math.max(result - 10, 0);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getLastVisibleGridCellIndex = function (scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount) {\n          var result = Math.floor((scrollPos + visibleAreaSizeValue) / tickSizeValue);\n          result = Math.min(result + 10, tickCount - 1);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.createTileToConnectorLinesMap = function () {\n          this.tileToDependencyMap = [];\n\n          for (var i = 0; i < this.viewModel.items.length; i++) for (var j = 0; j < this.viewModel.items[i].dependencies.length; j++) this.createConnecotInfo(this.viewModel.items[i].dependencies[j], this.viewModel.items[i].visibleIndex);\n        };\n\n        GridLayoutCalculator.prototype.updateTileToConnectorLinesMap = function (dependencyId) {\n          this.tileToDependencyMap.forEach(function (map, index, tileToDependencyMap) {\n            tileToDependencyMap[index] = map.filter(function (info) {\n              return info.attr[\"dependency-id\"] != dependencyId;\n            });\n          });\n          var result = [];\n          var item = this.viewModel.items.filter(function (item) {\n            return item.dependencies.filter(function (d) {\n              return d.id == dependencyId;\n            }).length > 0;\n          })[0];\n\n          if (item) {\n            var dependency = item.dependencies.filter(function (d) {\n              return d.id === dependencyId;\n            })[0];\n            result = this.createConnecotInfo(dependency, item.visibleIndex);\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.createConnecotInfo = function (dependencyInfo, successorIndex) {\n          var _this = this;\n\n          var predessorIndex = dependencyInfo.predecessor.visibleIndex;\n          var type = dependencyInfo.type;\n          var id = dependencyInfo.id;\n          var connectorInfo = this.getConnectorInfo(id, predessorIndex, successorIndex, type);\n          connectorInfo.forEach(function (connectorLine) {\n            _this.addElementInfoToTileMap(connectorLine, _this.tileToDependencyMap, true);\n          });\n          return connectorInfo;\n        };\n\n        GridLayoutCalculator.prototype.createTileToNonWorkingIntervalsMap = function () {\n          this.tileToNoWorkingIntervalsMap = [];\n\n          for (var i = 0; i < this.viewModel.noWorkingIntervals.length; i++) {\n            var noWorkingDateRange = this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[i]);\n            if (!noWorkingDateRange) continue;\n            var noWorkingIntervalInfo = this.getNoWorkingIntervalInfo(noWorkingDateRange);\n            this.addElementInfoToTileMap(noWorkingIntervalInfo, this.tileToNoWorkingIntervalsMap, false);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getAdjustedNoWorkingInterval = function (modelInterval) {\n          if (modelInterval.end.getTime() - modelInterval.start.getTime() < this.tickTimeSpan - 1) return null;\n          return new DateRange_1.DateRange(Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.start, this.range, this.tickTimeSpan, this.viewType), Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.end, this.range, this.tickTimeSpan, this.viewType));\n        };\n\n        GridLayoutCalculator.prototype.addElementInfoToTileMap = function (info, map, isVerticalTile) {\n          var infoPointValue = isVerticalTile ? info.position.y : info.position.x;\n          var infoSizeValue = isVerticalTile ? info.size.height : info.size.width;\n          var tileSizeValue = (isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width) * 2;\n          var firstTileIndex = Math.floor(infoPointValue / tileSizeValue);\n          var lastTileIndex = Math.floor((infoPointValue + infoSizeValue) / tileSizeValue);\n\n          for (var i = firstTileIndex; i <= lastTileIndex; i++) {\n            if (!map[i]) map[i] = new Array();\n            map[i].push(info);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getRenderedConnectorLines = function (scrollPos) {\n          return this.getElementsInRenderedTiles(this.tileToDependencyMap, true, scrollPos);\n        };\n\n        GridLayoutCalculator.prototype.getRenderedNoWorkingIntervals = function (scrollPos) {\n          return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap, false, scrollPos);\n        };\n\n        GridLayoutCalculator.prototype.getRenderedStripLines = function (settings) {\n          var result = new Array();\n          var stripLines = settings.stripLines.map(function (t) {\n            return t.clone();\n          });\n          if (settings.showCurrentTime) stripLines.push(new Settings_1.StripLine(new Date(), null, settings.currentTimeTitle, settings.currentTimeCssClass, true));\n\n          for (var i = 0, stripLine = void 0; stripLine = stripLines[i]; i++) {\n            var start = Utils_1.DateUtils.parse(stripLine.start);\n            var end = stripLine.end ? Utils_1.DateUtils.parse(stripLine.end) : null;\n\n            if (start >= this.range.start && start <= this.range.end || end && end >= this.range.start && end <= this.range.end) {\n              var renderedStart = start > this.range.start ? start : this.range.start;\n              var info = new GridElementInfo_1.GridElementInfo();\n              info.size.height = this.getVerticalGridLineHeight();\n              info.position.x = this.getPosByDate(renderedStart);\n              info.size.width = end ? this.getWidthByDateRange(renderedStart, end < this.range.end ? end : this.range.end) : 0;\n              info.className = stripLine.isCurrent ? \"dx-gantt-tc\" : end ? \"dx-gantt-ti\" : \"dx-gantt-tm\";\n              info.className += stripLine.cssClass ? \" \" + stripLine.cssClass : \"\";\n              info.attr.title = stripLine.title;\n              result.push(info);\n            }\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getElementsInRenderedTiles = function (map, isVerticalTile, scrollPos) {\n          var result = new Array();\n          var visibleAreaSizeValue = isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\n\n          if (visibleAreaSizeValue > 0) {\n            var firstVisibleTileIndex = Math.floor(scrollPos / (visibleAreaSizeValue * 2));\n            var lastVisibleTileIndex = Math.floor((scrollPos + visibleAreaSizeValue) / (visibleAreaSizeValue * 2));\n\n            for (var i = firstVisibleTileIndex; i <= lastVisibleTileIndex; i++) {\n              if (!map[i]) continue;\n              map[i].forEach(function (info) {\n                if (result.indexOf(info) == -1) result.push(info);\n              });\n            }\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.CLASSNAMES = {\n          CONNECTOR_VERTICAL: \"dx-gantt-conn-v\",\n          CONNECTOR_HORIZONTAL: \"dx-gantt-conn-h\"\n        };\n        return GridLayoutCalculator;\n      }();\n\n      exports.GridLayoutCalculator = GridLayoutCalculator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskPropertyManipulator = exports.TaskPropertiesManipulator = exports.BaseManipulator = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItemState_1 = __webpack_require__(45);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var BaseManipulator = function () {\n        function BaseManipulator(viewModel, dispatcher) {\n          this.viewModel = viewModel;\n          this.dispatcher = dispatcher;\n        }\n\n        BaseManipulator.prototype.getErrorCallback = function () {\n          return this.viewModel.getDataUpdateErrorCallback();\n        };\n\n        return BaseManipulator;\n      }();\n\n      exports.BaseManipulator = BaseManipulator;\n\n      var TaskPropertiesManipulator = function (_super) {\n        tslib_1.__extends(TaskPropertiesManipulator, _super);\n\n        function TaskPropertiesManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.title = new TaskTitleManipulator(viewModel, dispatcher);\n          _this.description = new TaskDescriptionManipulator(viewModel, dispatcher);\n          _this.progress = new TaskProgressManipulator(viewModel, dispatcher);\n          _this.start = new TaskStartDateManipulator(viewModel, dispatcher);\n          _this.end = new TaskEndDateManipulator(viewModel, dispatcher);\n          _this.move = new TaskMoveManipulator(viewModel, dispatcher);\n          _this.color = new TaskColorManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        return TaskPropertiesManipulator;\n      }(BaseManipulator);\n\n      exports.TaskPropertiesManipulator = TaskPropertiesManipulator;\n\n      var TaskPropertyManipulator = function (_super) {\n        tslib_1.__extends(TaskPropertyManipulator, _super);\n\n        function TaskPropertyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyManipulator.prototype.setValue = function (id, newValue) {\n          var task = this.viewModel.tasks.getItemById(id);\n          var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(task));\n          this.setPropertyValue(task, newValue);\n          var viewItem = this.viewModel.findItem(id);\n          if (viewItem) this.viewModel.owner.recreateTaskElement(viewItem.visibleIndex);\n          return oldState;\n        };\n\n        TaskPropertyManipulator.prototype.restoreValue = function (state) {\n          if (!state) return;\n          var task = this.viewModel.tasks.getItemById(state.id);\n          this.setPropertyValue(task, state.value);\n          var viewItem = this.viewModel.findItem(state.id);\n          if (viewItem) this.viewModel.owner.recreateTaskElement(viewItem.visibleIndex);\n        };\n\n        return TaskPropertyManipulator;\n      }(BaseManipulator);\n\n      exports.TaskPropertyManipulator = TaskPropertyManipulator;\n\n      var TaskTitleManipulator = function (_super) {\n        tslib_1.__extends(TaskTitleManipulator, _super);\n\n        function TaskTitleManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleManipulator.prototype.getPropertyValue = function (task) {\n          return task.title;\n        };\n\n        TaskTitleManipulator.prototype.setPropertyValue = function (task, value) {\n          task.title = value;\n          this.dispatcher.notifyTaskTitleChanged(task.id, value, this.getErrorCallback());\n        };\n\n        return TaskTitleManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskDescriptionManipulator = function (_super) {\n        tslib_1.__extends(TaskDescriptionManipulator, _super);\n\n        function TaskDescriptionManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionManipulator.prototype.getPropertyValue = function (task) {\n          return task.description;\n        };\n\n        TaskDescriptionManipulator.prototype.setPropertyValue = function (task, value) {\n          task.description = value;\n          this.dispatcher.notifyTaskDescriptionChanged(task.id, value, this.getErrorCallback());\n        };\n\n        return TaskDescriptionManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskProgressManipulator = function (_super) {\n        tslib_1.__extends(TaskProgressManipulator, _super);\n\n        function TaskProgressManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressManipulator.prototype.getPropertyValue = function (task) {\n          return task.progress;\n        };\n\n        TaskProgressManipulator.prototype.setPropertyValue = function (task, value) {\n          value = value < 0 ? 0 : value > 100 ? 100 : value;\n          task.progress = value;\n          this.dispatcher.notifyTaskProgressChanged(task.id, value, this.getErrorCallback());\n        };\n\n        return TaskProgressManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskStartDateManipulator = function (_super) {\n        tslib_1.__extends(TaskStartDateManipulator, _super);\n\n        function TaskStartDateManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartDateManipulator.prototype.getPropertyValue = function (task) {\n          return task.start;\n        };\n\n        TaskStartDateManipulator.prototype.setPropertyValue = function (task, value) {\n          task.start = value;\n          this.dispatcher.notifyTaskStartChanged(task.id, value, this.getErrorCallback());\n        };\n\n        return TaskStartDateManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskEndDateManipulator = function (_super) {\n        tslib_1.__extends(TaskEndDateManipulator, _super);\n\n        function TaskEndDateManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndDateManipulator.prototype.getPropertyValue = function (task) {\n          return task.end;\n        };\n\n        TaskEndDateManipulator.prototype.setPropertyValue = function (task, value) {\n          task.end = value;\n          this.dispatcher.notifyTaskEndChanged(task.id, value, this.getErrorCallback());\n        };\n\n        return TaskEndDateManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskMoveManipulator = function (_super) {\n        tslib_1.__extends(TaskMoveManipulator, _super);\n\n        function TaskMoveManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskMoveManipulator.prototype.getPropertyValue = function (task) {\n          return new DateRange_1.DateRange(task.start, task.end);\n        };\n\n        TaskMoveManipulator.prototype.setPropertyValue = function (task, value) {\n          task.start = value.start;\n          task.end = value.end;\n          this.dispatcher.notifyTaskStartChanged(task.id, value.start, this.getErrorCallback());\n          this.dispatcher.notifyTaskEndChanged(task.id, value.end, this.getErrorCallback());\n        };\n\n        return TaskMoveManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskColorManipulator = function (_super) {\n        tslib_1.__extends(TaskColorManipulator, _super);\n\n        function TaskColorManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskColorManipulator.prototype.getPropertyValue = function (task) {\n          return task.color;\n        };\n\n        TaskColorManipulator.prototype.setPropertyValue = function (task, value) {\n          task.color = value;\n          this.dispatcher.notifyTaskColorChanged(task.id, value, this.getErrorCallback());\n        };\n\n        return TaskColorManipulator;\n      }(TaskPropertyManipulator);\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.HandlerStateBase = void 0;\n\n      var point_1 = __webpack_require__(4);\n\n      var dom_1 = __webpack_require__(3);\n\n      var HandlerStateBase = function () {\n        function HandlerStateBase(handler) {\n          this.handler = handler;\n        }\n\n        HandlerStateBase.prototype.start = function () {};\n\n        HandlerStateBase.prototype.finish = function () {};\n\n        HandlerStateBase.prototype.getRelativePos = function (absolutePos) {\n          var taskAreaX = dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskArea);\n          var taskAreaY = dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\n          return new point_1.Point(absolutePos.x - taskAreaX, absolutePos.y - taskAreaY);\n        };\n\n        return HandlerStateBase;\n      }();\n\n      exports.HandlerStateBase = HandlerStateBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BaseArguments = void 0;\n\n      var BaseArguments = function () {\n        function BaseArguments(key) {\n          this.cancel = false;\n          this.values = {};\n          this.key = key;\n        }\n\n        return BaseArguments;\n      }();\n\n      exports.BaseArguments = BaseArguments;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.RemoveDependencyHistoryItem = exports.InsertDependencyHistoryItem = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItem_1 = __webpack_require__(12);\n\n      var InsertDependencyHistoryItem = function (_super) {\n        tslib_1.__extends(InsertDependencyHistoryItem, _super);\n\n        function InsertDependencyHistoryItem(modelManipulator, predecessorId, successorId, type) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.predecessorId = predecessorId;\n          _this.successorId = successorId;\n          _this.type = type;\n          return _this;\n        }\n\n        InsertDependencyHistoryItem.prototype.redo = function () {\n          this.dependency = this.modelManipulator.dependency.insertDependency(this.predecessorId, this.successorId, this.type, this.dependency ? this.dependency.internalId : null);\n        };\n\n        InsertDependencyHistoryItem.prototype.undo = function () {\n          this.modelManipulator.dependency.removeDependency(this.dependency.internalId);\n        };\n\n        return InsertDependencyHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.InsertDependencyHistoryItem = InsertDependencyHistoryItem;\n\n      var RemoveDependencyHistoryItem = function (_super) {\n        tslib_1.__extends(RemoveDependencyHistoryItem, _super);\n\n        function RemoveDependencyHistoryItem(modelManipulator, dependencyId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.dependencyId = dependencyId;\n          return _this;\n        }\n\n        RemoveDependencyHistoryItem.prototype.redo = function () {\n          this.dependency = this.modelManipulator.dependency.removeDependency(this.dependencyId);\n        };\n\n        RemoveDependencyHistoryItem.prototype.undo = function () {\n          this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId, this.dependency.successorId, this.dependency.type, this.dependencyId);\n        };\n\n        return RemoveDependencyHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveDependencyHistoryItem = RemoveDependencyHistoryItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DeassignResourceHistoryItem = exports.AssignResourceHistoryItem = exports.RemoveResourceHistoryItem = exports.CreateResourceHistoryItem = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItem_1 = __webpack_require__(12);\n\n      var CreateResourceHistoryItem = function (_super) {\n        tslib_1.__extends(CreateResourceHistoryItem, _super);\n\n        function CreateResourceHistoryItem(modelManipulator, text, color, callback) {\n          if (color === void 0) {\n            color = \"\";\n          }\n\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.text = text;\n          _this.color = color;\n          _this.createCallback = callback;\n          return _this;\n        }\n\n        CreateResourceHistoryItem.prototype.redo = function () {\n          this.resource = this.modelManipulator.resource.create(this.text, this.color, this.resource ? this.resource.internalId : null, this.createCallback);\n        };\n\n        CreateResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.remove(this.resource.internalId);\n        };\n\n        return CreateResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.CreateResourceHistoryItem = CreateResourceHistoryItem;\n\n      var RemoveResourceHistoryItem = function (_super) {\n        tslib_1.__extends(RemoveResourceHistoryItem, _super);\n\n        function RemoveResourceHistoryItem(modelManipulator, resourceId) {\n          var _this = _super.call(this) || this;\n\n          _this.modelManipulator = modelManipulator;\n          _this.resourceId = resourceId;\n          return _this;\n        }\n\n        RemoveResourceHistoryItem.prototype.redo = function () {\n          _super.prototype.redo.call(this);\n\n          this.resource = this.modelManipulator.resource.remove(this.resourceId);\n        };\n\n        RemoveResourceHistoryItem.prototype.undo = function () {\n          var _this = this;\n\n          this.modelManipulator.resource.create(this.resource.text, this.resource.color, this.resourceId, function () {\n            if (_this.resource.color) _this.modelManipulator.resource.properties.color.setValue(_this.resource.internalId, _this.resource.color);\n\n            _super.prototype.undo.call(_this);\n          });\n        };\n\n        RemoveResourceHistoryItem.prototype.undoItemsQuery = function () {\n          this.modelManipulator.resource.create(this.resource.text, this.resource.color, this.resourceId, function () {});\n          if (this.resource.color) this.modelManipulator.resource.properties.color.setValue(this.resource.internalId, this.resource.color);\n\n          _super.prototype.undo.call(this);\n        };\n\n        return RemoveResourceHistoryItem;\n      }(HistoryItem_1.CompositionHistoryItem);\n\n      exports.RemoveResourceHistoryItem = RemoveResourceHistoryItem;\n\n      var AssignResourceHistoryItem = function (_super) {\n        tslib_1.__extends(AssignResourceHistoryItem, _super);\n\n        function AssignResourceHistoryItem(modelManipulator, resourceId, taskId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.resourceId = resourceId;\n          _this.taskId = taskId;\n          return _this;\n        }\n\n        AssignResourceHistoryItem.prototype.redo = function () {\n          this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);\n        };\n\n        AssignResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.deassig(this.assignment.internalId);\n        };\n\n        return AssignResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.AssignResourceHistoryItem = AssignResourceHistoryItem;\n\n      var DeassignResourceHistoryItem = function (_super) {\n        tslib_1.__extends(DeassignResourceHistoryItem, _super);\n\n        function DeassignResourceHistoryItem(modelManipulator, assignmentId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.assignmentId = assignmentId;\n          return _this;\n        }\n\n        DeassignResourceHistoryItem.prototype.redo = function () {\n          this.assignment = this.modelManipulator.resource.deassig(this.assignmentId);\n        };\n\n        DeassignResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.assign(this.assignment.resourceId, this.assignment.taskId, this.assignmentId);\n        };\n\n        return DeassignResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.DeassignResourceHistoryItem = DeassignResourceHistoryItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ConfirmationDialogParameters = exports.ConfirmationDialog = exports.ConfirmationType = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DialogBase_1 = __webpack_require__(24);\n\n      var ConfirmationType;\n\n      (function (ConfirmationType) {\n        ConfirmationType[ConfirmationType[\"TaskDelete\"] = 0] = \"TaskDelete\";\n        ConfirmationType[ConfirmationType[\"DependencyDelete\"] = 1] = \"DependencyDelete\";\n        ConfirmationType[ConfirmationType[\"ResourcesDelete\"] = 2] = \"ResourcesDelete\";\n      })(ConfirmationType = exports.ConfirmationType || (exports.ConfirmationType = {}));\n\n      var ConfirmationDialog = function (_super) {\n        tslib_1.__extends(ConfirmationDialog, _super);\n\n        function ConfirmationDialog() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ConfirmationDialog.prototype.applyParameters = function (_newParameters, oldParameters) {\n          this.history.beginTransaction();\n          oldParameters.callback();\n          this.history.endTransaction();\n          this.control.barManager.updateItemsState([]);\n          return true;\n        };\n\n        ConfirmationDialog.prototype.createParameters = function (options) {\n          return options;\n        };\n\n        ConfirmationDialog.prototype.getDialogName = function () {\n          return \"Confirmation\";\n        };\n\n        return ConfirmationDialog;\n      }(DialogBase_1.DialogBase);\n\n      exports.ConfirmationDialog = ConfirmationDialog;\n\n      var ConfirmationDialogParameters = function (_super) {\n        tslib_1.__extends(ConfirmationDialogParameters, _super);\n\n        function ConfirmationDialogParameters(type, callback) {\n          var _this = _super.call(this) || this;\n\n          _this.type = type;\n          _this.callback = callback;\n          return _this;\n        }\n\n        ConfirmationDialogParameters.prototype.clone = function () {\n          var result = new ConfirmationDialogParameters(this.type, this.callback);\n          result.message = this.message;\n          return result;\n        };\n\n        return ConfirmationDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ConfirmationDialogParameters = ConfirmationDialogParameters;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DialogParametersBase = exports.DialogBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var DialogBase = function (_super) {\n        tslib_1.__extends(DialogBase, _super);\n\n        function DialogBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DialogBase.prototype.executeInternal = function (options) {\n          var _this = this;\n\n          var params = this.createParameters(options);\n          var initParams = params.clone();\n          if (!this.onBeforeDialogShow(params)) return false;\n          this.control.ganttOwner.showDialog(this.getDialogName(), params, function (result) {\n            if (result) _this.applyParameters(result, initParams);\n          }, function () {\n            _this.afterClosing();\n          });\n          return true;\n        };\n\n        DialogBase.prototype.onBeforeDialogShow = function (params) {\n          return true;\n        };\n\n        DialogBase.prototype.applyParameters = function (_newParameters, _oldParameters) {\n          return false;\n        };\n\n        DialogBase.prototype.afterClosing = function () {};\n\n        DialogBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return DialogBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.DialogBase = DialogBase;\n\n      var DialogParametersBase = function () {\n        function DialogParametersBase() {}\n\n        return DialogParametersBase;\n      }();\n\n      exports.DialogParametersBase = DialogParametersBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskColorHistoryItem = exports.TaskMoveHistoryItem = exports.TaskEndHistoryItem = exports.TaskStartHistoryItem = exports.TaskProgressHistoryItem = exports.TaskDescriptionHistoryItem = exports.TaskTitleHistoryItem = exports.TaskPropertiesHistoryItemBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItem_1 = __webpack_require__(12);\n\n      var TaskPropertiesHistoryItemBase = function (_super) {\n        tslib_1.__extends(TaskPropertiesHistoryItemBase, _super);\n\n        function TaskPropertiesHistoryItemBase(modelManipulator, taskId, newValue) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.taskId = taskId;\n          _this.newValue = newValue;\n          return _this;\n        }\n\n        TaskPropertiesHistoryItemBase.prototype.redo = function () {\n          this.oldState = this.getPropertiesManipulator().setValue(this.taskId, this.newValue);\n        };\n\n        TaskPropertiesHistoryItemBase.prototype.undo = function () {\n          this.getPropertiesManipulator().restoreValue(this.oldState);\n        };\n\n        TaskPropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\n          throw new Error(\"Not Implemented\");\n        };\n\n        return TaskPropertiesHistoryItemBase;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.TaskPropertiesHistoryItemBase = TaskPropertiesHistoryItemBase;\n\n      var TaskTitleHistoryItem = function (_super) {\n        tslib_1.__extends(TaskTitleHistoryItem, _super);\n\n        function TaskTitleHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.title;\n        };\n\n        return TaskTitleHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskTitleHistoryItem = TaskTitleHistoryItem;\n\n      var TaskDescriptionHistoryItem = function (_super) {\n        tslib_1.__extends(TaskDescriptionHistoryItem, _super);\n\n        function TaskDescriptionHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.description;\n        };\n\n        return TaskDescriptionHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskDescriptionHistoryItem = TaskDescriptionHistoryItem;\n\n      var TaskProgressHistoryItem = function (_super) {\n        tslib_1.__extends(TaskProgressHistoryItem, _super);\n\n        function TaskProgressHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.progress;\n        };\n\n        return TaskProgressHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskProgressHistoryItem = TaskProgressHistoryItem;\n\n      var TaskStartHistoryItem = function (_super) {\n        tslib_1.__extends(TaskStartHistoryItem, _super);\n\n        function TaskStartHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.start;\n        };\n\n        return TaskStartHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskStartHistoryItem = TaskStartHistoryItem;\n\n      var TaskEndHistoryItem = function (_super) {\n        tslib_1.__extends(TaskEndHistoryItem, _super);\n\n        function TaskEndHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.end;\n        };\n\n        return TaskEndHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskEndHistoryItem = TaskEndHistoryItem;\n\n      var TaskMoveHistoryItem = function (_super) {\n        tslib_1.__extends(TaskMoveHistoryItem, _super);\n\n        function TaskMoveHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskMoveHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.move;\n        };\n\n        return TaskMoveHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskMoveHistoryItem = TaskMoveHistoryItem;\n\n      var TaskColorHistoryItem = function (_super) {\n        tslib_1.__extends(TaskColorHistoryItem, _super);\n\n        function TaskColorHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskColorHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.color;\n        };\n\n        return TaskColorHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskColorHistoryItem = TaskColorHistoryItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceCollection = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CollectionBase_1 = __webpack_require__(13);\n\n      var Resource_1 = __webpack_require__(33);\n\n      var ResourceCollection = function (_super) {\n        tslib_1.__extends(ResourceCollection, _super);\n\n        function ResourceCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceCollection.prototype.createItem = function () {\n          return new Resource_1.Resource();\n        };\n\n        return ResourceCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.ResourceCollection = ResourceCollection;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var StringUtils = function () {\n        function StringUtils() {}\n\n        StringUtils.isAlpha = function (ch) {\n          return ch >= 'a' && ch <= 'z' || ch >= 'A' && ch <= 'Z';\n        };\n\n        StringUtils.isDigit = function (ch) {\n          return ch >= '0' && ch <= '9';\n        };\n\n        StringUtils.stringHashCode = function (str) {\n          var hash = 0;\n          if (str.length === 0) return hash;\n          var strLen = str.length;\n\n          for (var i = 0; i < strLen; i++) {\n            hash = (hash << 5) - hash + str.charCodeAt(i);\n            hash |= 0;\n          }\n\n          return hash;\n        };\n\n        StringUtils.endsAt = function (str, template) {\n          var strInd = str.length - 1;\n          var tmplInd = template.length - 1;\n          var strStartInd = strInd - tmplInd;\n          if (strStartInd < 0) return false;\n\n          for (; strInd >= strStartInd; strInd--, tmplInd--) {\n            if (str[strInd] !== template[tmplInd]) return false;\n          }\n\n          return true;\n        };\n\n        StringUtils.startsAt = function (str, template) {\n          return str.substr(0, template.length) === template;\n        };\n\n        StringUtils.stringInLowerCase = function (str) {\n          return str.toLowerCase() === str;\n        };\n\n        StringUtils.stringInUpperCase = function (str) {\n          return str.toUpperCase() === str;\n        };\n\n        StringUtils.atLeastOneSymbolInUpperCase = function (str) {\n          for (var i = 0, char = void 0; char = str[i]; i++) {\n            if (StringUtils.stringInUpperCase(char) && !StringUtils.stringInLowerCase(char)) return true;\n          }\n\n          return false;\n        };\n\n        StringUtils.getSymbolFromEnd = function (text, posFromEnd) {\n          return text[text.length - posFromEnd];\n        };\n\n        StringUtils.trim = function (str, trimChars) {\n          if (trimChars === undefined) return StringUtils.trimInternal(str, true, true);else {\n            var joinedChars = trimChars.join('');\n            return str.replace(new RegExp(\"(^[\" + joinedChars + \"]*)|([\" + joinedChars + \"]*$)\", 'g'), '');\n          }\n        };\n\n        StringUtils.trimStart = function (str, trimChars) {\n          if (trimChars === undefined) return StringUtils.trimInternal(str, true, false);else {\n            var joinedChars = trimChars.join('');\n            return str.replace(new RegExp(\"^[\" + joinedChars + \"]*\", 'g'), '');\n          }\n        };\n\n        StringUtils.trimEnd = function (str, trimChars) {\n          if (trimChars === undefined) return StringUtils.trimInternal(str, false, true);else {\n            var joinedChars = trimChars.join('');\n            return str.replace(new RegExp(\"[\" + joinedChars + \"]*$\", 'g'), '');\n          }\n        };\n\n        StringUtils.getDecimalSeparator = function () {\n          return 1.1.toLocaleString().substr(1, 1);\n        };\n\n        StringUtils.repeat = function (str, count) {\n          return new Array(count <= 0 ? 0 : count + 1).join(str);\n        };\n\n        StringUtils.isNullOrEmpty = function (str) {\n          return !str || !str.length;\n        };\n\n        StringUtils.padLeft = function (str, totalWidth, paddingChar) {\n          return StringUtils.repeat(paddingChar, Math.max(0, totalWidth - str.length)) + str;\n        };\n\n        StringUtils.trimInternal = function (source, trimStart, trimEnd) {\n          var len = source.length;\n          if (!len) return source;\n\n          if (len < 0xBABA1) {\n            var result = source;\n            if (trimStart) result = result.replace(/^\\s+/, '');\n            if (trimEnd) result = result.replace(/\\s+$/, '');\n            return result;\n          } else {\n            var start = 0;\n\n            if (trimEnd) {\n              while (len > 0 && /\\s/.test(source[len - 1])) len--;\n            }\n\n            if (trimStart && len > 0) {\n              while (start < len && /\\s/.test(source[start])) start++;\n            }\n\n            return source.substring(start, len);\n          }\n        };\n\n        return StringUtils;\n      }();\n\n      exports.StringUtils = StringUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Size = function () {\n        function Size(width, height) {\n          this.width = width;\n          this.height = height;\n        }\n\n        Size.empty = function () {\n          return new Size(0, 0);\n        };\n\n        Size.fromNumber = function (num) {\n          return new Size(num, num);\n        };\n\n        Size.initByCommonAction = function (action) {\n          var widthAdp = function (s) {\n            return s.width;\n          };\n\n          var heightAdp = function (s) {\n            return s.height;\n          };\n\n          return new Size(action(widthAdp, heightAdp), action(heightAdp, widthAdp));\n        };\n\n        Size.prototype.isEmpty = function () {\n          return this.width === 0 && this.height === 0;\n        };\n\n        Size.prototype.toString = function () {\n          return JSON.stringify(this);\n        };\n\n        Size.prototype.nonNegativeSize = function () {\n          if (this.width < 0) this.width = 0;\n          if (this.height < 0) this.height = 0;\n          return this;\n        };\n\n        Size.prototype.offset = function (offsetWidth, offsetHeight) {\n          this.width = this.width + offsetWidth;\n          this.height = this.height + offsetHeight;\n          return this;\n        };\n\n        Size.prototype.multiply = function (multiplierW, multiplierH) {\n          this.width *= multiplierW;\n          this.height *= multiplierH;\n          return this;\n        };\n\n        Size.prototype.equals = function (obj) {\n          return this.width === obj.width && this.height === obj.height;\n        };\n\n        Size.prototype.clone = function () {\n          return new Size(this.width, this.height);\n        };\n\n        Size.prototype.copyFrom = function (obj) {\n          this.width = obj.width;\n          this.height = obj.height;\n        };\n\n        Size.prototype.applyConverter = function (conv) {\n          this.width = conv(this.width);\n          this.height = conv(this.height);\n          return this;\n        };\n\n        Size.equals = function (a, b) {\n          return a.width === b.width && a.height === b.height;\n        };\n\n        return Size;\n      }();\n\n      exports.Size = Size;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandlerStateBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HandlerStateBase_1 = __webpack_require__(19);\n\n      var MouseHandlerStateBase = function (_super) {\n        tslib_1.__extends(MouseHandlerStateBase, _super);\n\n        function MouseHandlerStateBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerStateBase.prototype.onMouseDoubleClick = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseDown = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseUp = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseMove = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseWheel = function (_evt) {};\n\n        return MouseHandlerStateBase;\n      }(HandlerStateBase_1.HandlerStateBase);\n\n      exports.MouseHandlerStateBase = MouseHandlerStateBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandlerDragBaseState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var point_1 = __webpack_require__(4);\n\n      var evt_1 = __webpack_require__(6);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(29);\n\n      var MouseHandlerDragBaseState = function (_super) {\n        tslib_1.__extends(MouseHandlerDragBaseState, _super);\n\n        function MouseHandlerDragBaseState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerDragBaseState.prototype.onMouseDown = function (evt) {\n          this.currentPosition = new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt));\n          if (this.handler.control.taskEditController.dependencyId != null) this.handler.control.selectDependency(null);\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseUp = function (evt) {\n          this.onMouseUpInternal(evt);\n          this.handler.switchToDefaultState();\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseMove = function (evt) {\n          evt.preventDefault();\n          var position = new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt));\n          this.onMouseMoveInternal(position);\n          this.currentPosition = position;\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseUpInternal = function (_evt) {};\n\n        MouseHandlerDragBaseState.prototype.onMouseMoveInternal = function (_position) {};\n\n        return MouseHandlerDragBaseState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDragBaseState = MouseHandlerDragBaseState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerDragBaseState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TouchHandlerStateBase_1 = __webpack_require__(48);\n\n      var point_1 = __webpack_require__(4);\n\n      var touch_1 = __webpack_require__(15);\n\n      var TouchHandlerDragBaseState = function (_super) {\n        tslib_1.__extends(TouchHandlerDragBaseState, _super);\n\n        function TouchHandlerDragBaseState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerDragBaseState.prototype.onTouchStart = function (evt) {\n          this.currentPosition = new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt));\n          if (this.handler.control.taskEditController.dependencyId != null) this.handler.control.selectDependency(null);\n        };\n\n        TouchHandlerDragBaseState.prototype.onTouchEnd = function (evt) {\n          this.onTouchEndInternal(evt);\n          this.handler.switchToDefaultState();\n        };\n\n        TouchHandlerDragBaseState.prototype.onTouchMove = function (evt) {\n          evt.preventDefault();\n          var position = new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt));\n          this.onTouchMoveInternal(position);\n          this.currentPosition = position;\n        };\n\n        TouchHandlerDragBaseState.prototype.onTouchEndInternal = function (_evt) {};\n\n        TouchHandlerDragBaseState.prototype.onTouchMoveInternal = function (_position) {};\n\n        return TouchHandlerDragBaseState;\n      }(TouchHandlerStateBase_1.TouchHandlerStateBase);\n\n      exports.TouchHandlerDragBaseState = TouchHandlerDragBaseState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceUnassigningArguments = exports.ResourceAssigningArguments = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var BaseArguments_1 = __webpack_require__(20);\n\n      var ResourceAssigningArguments = function (_super) {\n        tslib_1.__extends(ResourceAssigningArguments, _super);\n\n        function ResourceAssigningArguments(resourceId, taskId) {\n          var _this = _super.call(this, null) || this;\n\n          _this.values = {\n            resourceId: resourceId,\n            taskId: taskId\n          };\n          return _this;\n        }\n\n        Object.defineProperty(ResourceAssigningArguments.prototype, \"resourceId\", {\n          get: function () {\n            return this.values.resourceId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(ResourceAssigningArguments.prototype, \"taskId\", {\n          get: function () {\n            return this.values.taskId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return ResourceAssigningArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.ResourceAssigningArguments = ResourceAssigningArguments;\n\n      var ResourceUnassigningArguments = function (_super) {\n        tslib_1.__extends(ResourceUnassigningArguments, _super);\n\n        function ResourceUnassigningArguments(assignment) {\n          var _this = _super.call(this, assignment.internalId) || this;\n\n          _this.values = assignment;\n          return _this;\n        }\n\n        return ResourceUnassigningArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.ResourceUnassigningArguments = ResourceUnassigningArguments;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Resource = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var common_1 = __webpack_require__(1);\n\n      var DataObject_1 = __webpack_require__(10);\n\n      var Resource = function (_super) {\n        tslib_1.__extends(Resource, _super);\n\n        function Resource() {\n          var _this = _super.call(this) || this;\n\n          _this.text = \"\";\n          _this.color = \"\";\n          return _this;\n        }\n\n        Resource.prototype.assignFromObject = function (sourceObj) {\n          if (common_1.isDefined(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.text = sourceObj.text;\n            if (common_1.isDefined(sourceObj.color)) this.color = sourceObj.color;\n          }\n        };\n\n        return Resource;\n      }(DataObject_1.DataObject);\n\n      exports.Resource = Resource;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var list_1 = __webpack_require__(58);\n\n      var MathUtils = function () {\n        function MathUtils() {}\n\n        MathUtils.round = function (value, digits) {\n          if (digits === void 0) {\n            digits = 0;\n          }\n\n          var factor = MathUtils.powFactor[digits];\n          return Math.round(value * factor) / factor;\n        };\n\n        MathUtils.numberCloseTo = function (num, to, accuracy) {\n          if (accuracy === void 0) {\n            accuracy = 0.00001;\n          }\n\n          return Math.abs(num - to) < accuracy;\n        };\n\n        MathUtils.restrictValue = function (val, minVal, maxVal) {\n          if (maxVal < minVal) maxVal = minVal;\n          if (val > maxVal) return maxVal;else if (val < minVal) return minVal;\n          return val;\n        };\n\n        MathUtils.getRandomInt = function (min, max) {\n          return Math.floor(Math.random() * (max - min + 1)) + min;\n        };\n\n        MathUtils.generateGuid = function () {\n          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0;\n            var v = c === 'x' ? r : r & 0x3 | 0x8;\n            return v.toString(16);\n          });\n        };\n\n        MathUtils.powFactor = list_1.ListUtils.initByCallback(20, function (ind) {\n          return Math.pow(10, ind);\n        });\n        MathUtils.somePrimes = [1009, 1013, 1019, 1021, 1031, 1033, 1039, 1049, 1051, 1061, 1063, 1069, 1087, 1091, 1093, 1097, 1103, 1109, 1117, 1123, 1129, 1151, 1153, 1163, 1171, 1181, 1187, 1193, 1201, 1213, 1217, 1223, 1229, 1231, 1237, 1249, 1259, 1277, 1279, 1283, 1289, 1291, 1297, 1301, 1303, 1307, 1319, 1321, 1327, 1361, 1367, 1373, 1381, 1399, 1409, 1423, 1427, 1429, 1433, 1439, 1447, 1451, 1453, 1459, 1471, 1481, 1483, 1487, 1489, 1493, 1499, 1511, 1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571, 1579, 1583, 1597, 1601, 1607, 1609, 1613, 1619, 1621, 1627, 1637, 1657, 1663, 1667, 1669, 1693, 1697, 1699, 1709, 1721, 1723, 1733, 1741, 1747, 1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811, 1823, 1831, 1847, 1861, 1867, 1871, 1873, 1877, 1879, 1889, 1901, 1907, 1913, 1931, 1933, 1949, 1951, 1973, 1979, 1987, 1993, 1997, 1999, 2003];\n        return MathUtils;\n      }();\n\n      exports.MathUtils = MathUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceAssignment = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(10);\n\n      var common_1 = __webpack_require__(1);\n\n      var ResourceAssignment = function (_super) {\n        tslib_1.__extends(ResourceAssignment, _super);\n\n        function ResourceAssignment() {\n          var _this = _super.call(this) || this;\n\n          _this.taskId = \"\";\n          _this.resourceId = \"\";\n          return _this;\n        }\n\n        ResourceAssignment.prototype.assignFromObject = function (sourceObj) {\n          if (common_1.isDefined(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.taskId = String(sourceObj.taskId);\n            this.resourceId = String(sourceObj.resourceId);\n          }\n        };\n\n        return ResourceAssignment;\n      }(DataObject_1.DataObject);\n\n      exports.ResourceAssignment = ResourceAssignment;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Time = void 0;\n\n      var Time = function () {\n        function Time(h, min, sec, msec) {\n          if (h === void 0) {\n            h = 0;\n          }\n\n          if (min === void 0) {\n            min = 0;\n          }\n\n          if (sec === void 0) {\n            sec = 0;\n          }\n\n          if (msec === void 0) {\n            msec = 0;\n          }\n\n          this._hour = 0;\n          this._min = 0;\n          this._sec = 0;\n          this._msec = 0;\n          this._fullmsec = 0;\n          this.hour = h;\n          this.min = min;\n          this.sec = sec;\n          this.msec = msec;\n        }\n\n        Object.defineProperty(Time.prototype, \"hour\", {\n          get: function () {\n            return this._hour;\n          },\n          set: function (h) {\n            if (h >= 0 && h < 24) {\n              this._hour = h;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"min\", {\n          get: function () {\n            return this._min;\n          },\n          set: function (m) {\n            if (m >= 0 && m < 60) {\n              this._min = m;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"sec\", {\n          get: function () {\n            return this._sec;\n          },\n          set: function (s) {\n            if (s >= 0 && s < 60) {\n              this._sec = s;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"msec\", {\n          get: function () {\n            return this._msec;\n          },\n          set: function (ms) {\n            if (ms >= 0 && ms < 1000) {\n              this._msec = ms;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        Time.prototype.updateFullMilleconds = function () {\n          var minutes = this._hour * 60 + this._min;\n          var sec = minutes * 60 + this._sec;\n          this._fullmsec = sec * 1000 + this._msec;\n        };\n\n        Time.prototype.getTimeInMilleconds = function () {\n          return this._fullmsec;\n        };\n\n        return Time;\n      }();\n\n      exports.Time = Time;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TimeRange = void 0;\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var TimeRange = function () {\n        function TimeRange(start, end) {\n          var diff = DateTimeUtils_1.DateTimeUtils.caclTimeDifference(start, end);\n\n          if (diff >= 0) {\n            this._start = start;\n            this._end = end;\n          } else {\n            this._start = end;\n            this._end = start;\n          }\n        }\n\n        Object.defineProperty(TimeRange.prototype, \"start\", {\n          get: function () {\n            return this._start;\n          },\n          set: function (time) {\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0) this._start = time;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TimeRange.prototype, \"end\", {\n          get: function () {\n            return this._end;\n          },\n          set: function (time) {\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0) this._end = time;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        TimeRange.prototype.isTimeInRange = function (time) {\n          return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0 && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0;\n        };\n\n        TimeRange.prototype.hasIntersect = function (range) {\n          return this.isTimeInRange(range.start) || this.isTimeInRange(range.end) || range.isTimeInRange(this.start) || range.isTimeInRange(this.end);\n        };\n\n        TimeRange.prototype.concatWith = function (range) {\n          if (!this.hasIntersect(range)) return false;\n          this.start = DateTimeUtils_1.DateTimeUtils.getMinTime(this.start, range.start);\n          this.end = DateTimeUtils_1.DateTimeUtils.getMaxTime(this.end, range.end);\n          return true;\n        };\n\n        return TimeRange;\n      }();\n\n      exports.TimeRange = TimeRange;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DayOfWeekMonthlyOccurrence = void 0;\n      var DayOfWeekMonthlyOccurrence;\n\n      (function (DayOfWeekMonthlyOccurrence) {\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"First\"] = 0] = \"First\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Second\"] = 1] = \"Second\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Third\"] = 2] = \"Third\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Forth\"] = 3] = \"Forth\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Last\"] = 4] = \"Last\";\n      })(DayOfWeekMonthlyOccurrence = exports.DayOfWeekMonthlyOccurrence || (exports.DayOfWeekMonthlyOccurrence = {}));\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.RecurrenceFactory = void 0;\n\n      var common_1 = __webpack_require__(1);\n\n      var Daily_1 = __webpack_require__(40);\n\n      var Weekly_1 = __webpack_require__(72);\n\n      var Monthly_1 = __webpack_require__(73);\n\n      var Yearly_1 = __webpack_require__(75);\n\n      var RecurrenceFactory = function () {\n        function RecurrenceFactory() {}\n\n        RecurrenceFactory.createRecurrenceByType = function (type) {\n          if (!type) return null;\n          var correctedType = type.toLowerCase();\n\n          switch (correctedType) {\n            case \"daily\":\n              return new Daily_1.Daily();\n\n            case \"weekly\":\n              return new Weekly_1.Weekly();\n\n            case \"monthly\":\n              return new Monthly_1.Monthly();\n\n            case \"yearly\":\n              return new Yearly_1.Yearly();\n          }\n\n          return null;\n        };\n\n        RecurrenceFactory.createRecurrenceFromObject = function (sourceObj) {\n          if (!sourceObj) return null;\n          var recurrence = this.createRecurrenceByType(sourceObj.type);\n          if (recurrence) recurrence.assignFromObject(sourceObj);\n          return recurrence;\n        };\n\n        RecurrenceFactory.getEnumValue = function (type, value) {\n          if (!common_1.isDefined(type[value])) return null;\n          var num = parseInt(value);\n          if (!isNaN(num)) return num;\n          return type[value];\n        };\n\n        return RecurrenceFactory;\n      }();\n\n      exports.RecurrenceFactory = RecurrenceFactory;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Daily = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var RecurrenceBase_1 = __webpack_require__(16);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Daily = function (_super) {\n        tslib_1.__extends(Daily, _super);\n\n        function Daily() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Daily.prototype.checkDate = function (date) {\n          return true;\n        };\n\n        Daily.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval == 0;\n        };\n\n        Daily.prototype.calculatePointByInterval = function (date) {\n          var daysToAdd = this.interval;\n          if (!this.isRecurrencePoint(date)) daysToAdd -= DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval;\n          return DateTimeUtils_1.DateTimeUtils.addDays(date, daysToAdd);\n        };\n\n        Daily.prototype.calculateNearestPoint = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.addDays(date, 1);\n        };\n\n        return Daily;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Daily = Daily;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ElementTextHelperCultureInfo = exports.ElementTextHelper = exports.DateUtils = void 0;\n\n      var Enums_1 = __webpack_require__(14);\n\n      var dom_1 = __webpack_require__(3);\n\n      var DateUtils = function () {\n        function DateUtils() {}\n\n        DateUtils.getDaysInMonth = function (month, year) {\n          var d = new Date(year, month + 1, 0);\n          return d.getDate();\n        };\n\n        DateUtils.getOffsetInMonths = function (start, end) {\n          return (end.getFullYear() - start.getFullYear()) * 12 + end.getMonth() - start.getMonth();\n        };\n\n        DateUtils.getOffsetInQuarters = function (start, end) {\n          return (end.getFullYear() - start.getFullYear()) * 4 + Math.floor(end.getMonth() / 3) - Math.floor(start.getMonth() / 3);\n        };\n\n        DateUtils.getNearestScaleTickDate = function (date, range, tickTimeSpan, viewType) {\n          var result = new Date();\n          var rangeStartTime = range.start.getTime();\n          var rangeEndTime = range.end.getTime();\n          result.setTime(date.getTime());\n          if (date.getTime() < rangeStartTime) result.setTime(rangeStartTime);else if (date.getTime() > rangeEndTime) result.setTime(rangeEndTime);else if (this.needCorrectDate(date, rangeStartTime, tickTimeSpan, viewType)) {\n            var nearestLeftTickTime = this.getNearestLeftTickTime(date, rangeStartTime, tickTimeSpan, viewType);\n            var nearestRightTickTime = this.getNextTickTime(nearestLeftTickTime, tickTimeSpan, viewType);\n            if (Math.abs(date.getTime() - nearestLeftTickTime) > Math.abs(date.getTime() - nearestRightTickTime)) result.setTime(nearestRightTickTime);else result.setTime(nearestLeftTickTime);\n          }\n          return result;\n        };\n\n        DateUtils.needCorrectDate = function (date, rangeStartTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) return date.getTime() !== new Date(date.getFullYear(), date.getMonth(), 1).getTime();\n          return (date.getTime() - rangeStartTime) % tickTimeSpan !== 0;\n        };\n\n        DateUtils.getNearestLeftTickTime = function (date, rangeStartTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) return new Date(date.getFullYear(), date.getMonth(), 1).getTime();\n          var tickCountAtLeft = Math.floor((date.getTime() - rangeStartTime) / tickTimeSpan);\n          return rangeStartTime + tickCountAtLeft * tickTimeSpan;\n        };\n\n        DateUtils.getNextTickTime = function (currentTickTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) {\n            var nextTickDate = new Date();\n            nextTickDate.setTime(currentTickTime);\n            nextTickDate.setMonth(nextTickDate.getMonth() + 1);\n            return nextTickDate.getTime();\n          }\n\n          return currentTickTime + tickTimeSpan;\n        };\n\n        DateUtils.adjustStartDateByViewType = function (date, viewType, firstDayOfWeek) {\n          if (firstDayOfWeek === void 0) {\n            firstDayOfWeek = 0;\n          }\n\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\n\n            case Enums_1.ViewType.SixHours:\n            case Enums_1.ViewType.Hours:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n            case Enums_1.ViewType.Days:\n            case Enums_1.ViewType.Weeks:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay() + firstDayOfWeek);\n\n            case Enums_1.ViewType.Months:\n            case Enums_1.ViewType.Quarter:\n            case Enums_1.ViewType.Years:\n              return new Date(date.getFullYear(), 0, 1);\n\n            default:\n              return new Date();\n          }\n        };\n\n        DateUtils.adjustEndDateByViewType = function (date, viewType, firstDayOfWeek) {\n          if (firstDayOfWeek === void 0) {\n            firstDayOfWeek = 0;\n          }\n\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1);\n\n            case Enums_1.ViewType.SixHours:\n            case Enums_1.ViewType.Hours:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\n\n            case Enums_1.ViewType.Days:\n            case Enums_1.ViewType.Weeks:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7 - date.getDay() + firstDayOfWeek);\n\n            case Enums_1.ViewType.Months:\n            case Enums_1.ViewType.Quarter:\n            case Enums_1.ViewType.Years:\n              return new Date(date.getFullYear() + 1, 0, 1);\n\n            default:\n              return new Date();\n          }\n        };\n\n        DateUtils.roundStartDate = function (date, viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n            case Enums_1.ViewType.Hours:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() - 1);\n\n            case Enums_1.ViewType.SixHours:\n            case Enums_1.ViewType.Days:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate() - 1);\n\n            case Enums_1.ViewType.Weeks:\n              return new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());\n\n            case Enums_1.ViewType.Months:\n              return new Date(date.getFullYear(), date.getMonth() - 1);\n\n            case Enums_1.ViewType.Quarter:\n            case Enums_1.ViewType.Years:\n              return new Date(date.getFullYear() - 1, 0, 1);\n\n            default:\n              return new Date();\n          }\n        };\n\n        DateUtils.getTickTimeSpan = function (viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return DateUtils.msPerHour / 6;\n\n            case Enums_1.ViewType.Hours:\n              return DateUtils.msPerHour;\n\n            case Enums_1.ViewType.SixHours:\n              return DateUtils.msPerHour * 6;\n\n            case Enums_1.ViewType.Days:\n              return DateUtils.msPerDay;\n\n            case Enums_1.ViewType.Weeks:\n              return DateUtils.msPerWeek;\n\n            case Enums_1.ViewType.Months:\n              return DateUtils.msPerMonth;\n\n            case Enums_1.ViewType.Quarter:\n              return DateUtils.msPerMonth * 3;\n\n            case Enums_1.ViewType.Years:\n              return DateUtils.msPerYear;\n          }\n        };\n\n        DateUtils.parse = function (data) {\n          return typeof data === \"function\" ? new Date(data()) : new Date(data);\n        };\n\n        DateUtils.getTimezoneOffsetDiff = function (data1, data2) {\n          return data2.getTimezoneOffset() - data1.getTimezoneOffset();\n        };\n\n        DateUtils.msPerHour = 3600000;\n        DateUtils.msPerDay = 24 * DateUtils.msPerHour;\n        DateUtils.msPerWeek = 7 * DateUtils.msPerDay;\n        DateUtils.msPerMonth = 30 * DateUtils.msPerDay;\n        DateUtils.msPerYear = 365 * DateUtils.msPerDay;\n        DateUtils.ViewTypeToScaleMap = createViewTypeToScaleMap();\n        return DateUtils;\n      }();\n\n      exports.DateUtils = DateUtils;\n\n      var ElementTextHelper = function () {\n        function ElementTextHelper(cultureInfo) {\n          this.longestAbbrMonthName = null;\n          this.longestMonthName = null;\n          this.longestAbbrDayName = null;\n          var canvas = document.createElement(\"canvas\");\n          this.textMeasureContext = canvas.getContext(\"2d\");\n          this.cultureInfo = cultureInfo;\n        }\n\n        ElementTextHelper.prototype.setFont = function (fontHolder) {\n          var computedStyle = dom_1.DomUtils.getCurrentStyle(fontHolder);\n          var font = computedStyle.font ? computedStyle.font : computedStyle.fontStyle + \" \" + computedStyle.fontVariant + \" \" + computedStyle.fontWeight + \" \" + computedStyle.fontSize + \" / \" + computedStyle.lineHeight + \" \" + computedStyle.fontFamily;\n          this.textMeasureContext.font = font;\n        };\n\n        ElementTextHelper.prototype.setSettings = function (startTime, viewType, modelItems) {\n          this.startTime = startTime;\n          this.viewType = viewType;\n          this.modelItems = modelItems;\n        };\n\n        ElementTextHelper.prototype.getScaleItemStartDate = function (index, scaleType) {\n          var result = new Date(this.startTime);\n\n          switch (scaleType) {\n            case Enums_1.ViewType.TenMinutes:\n              result.setTime(this.startTime + index * DateUtils.msPerHour / 6);\n              break;\n\n            case Enums_1.ViewType.Hours:\n              result.setTime(this.startTime + index * DateUtils.msPerHour);\n              break;\n\n            case Enums_1.ViewType.SixHours:\n              result.setTime(this.startTime + index * DateUtils.msPerHour * 6);\n              break;\n\n            case Enums_1.ViewType.Days:\n              result.setTime(this.startTime + index * DateUtils.msPerDay);\n              break;\n\n            case Enums_1.ViewType.Weeks:\n              result.setTime(this.startTime + index * DateUtils.msPerWeek);\n              break;\n\n            case Enums_1.ViewType.Months:\n              result.setMonth(result.getMonth() + index);\n              break;\n\n            case Enums_1.ViewType.Quarter:\n              result.setMonth(result.getMonth() + index * 3);\n              break;\n\n            case Enums_1.ViewType.Years:\n              result.setFullYear(result.getFullYear() + index);\n              break;\n\n            case Enums_1.ViewType.FiveYears:\n              result.setFullYear(result.getFullYear() + index * 5);\n              break;\n          }\n\n          result = this.getScaleStartDateCorrectedWithDST(result);\n          return result;\n        };\n\n        ElementTextHelper.prototype.getScaleStartDateCorrectedWithDST = function (date) {\n          var timeZoneDiff = DateUtils.getTimezoneOffsetDiff(new Date(this.startTime), date);\n          return timeZoneDiff > 0 ? new Date(date.getTime() + timeZoneDiff * 60000) : date;\n        };\n\n        ElementTextHelper.prototype.getScaleItemText = function (index, scaleType) {\n          var scaleItemStartDate = this.getScaleItemStartDate(index, scaleType);\n          var isViewTypeScale = this.viewType.valueOf() == scaleType.valueOf();\n\n          switch (scaleType) {\n            case Enums_1.ViewType.TenMinutes:\n              return this.getTenMinutesScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.Hours:\n            case Enums_1.ViewType.SixHours:\n              return this.getHoursScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.Days:\n              return this.getDaysScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Weeks:\n              return this.getWeeksScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Months:\n              return this.getMonthsScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Quarter:\n              return this.getQuarterScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Years:\n              return this.getYearsScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.FiveYears:\n              return this.getFiveYearsScaleItemText(scaleItemStartDate);\n          }\n        };\n\n        ElementTextHelper.prototype.getTenMinutesScaleItemText = function (scaleItemDate) {\n          var minutes = scaleItemDate.getMinutes() + 1;\n          return (Math.ceil(minutes / 10) * 10).toString();\n        };\n\n        ElementTextHelper.prototype.getThirtyMinutesScaleItemText = function (scaleItemDate) {\n          var minutes = scaleItemDate.getMinutes();\n          return minutes < 30 ? \"30\" : \"60\";\n        };\n\n        ElementTextHelper.prototype.getHoursScaleItemText = function (scaleItemDate) {\n          var hours = scaleItemDate.getHours();\n          var hourDisplayText = this.getHourDisplayText(hours);\n          var amPmText = hours < 12 ? this.getAmText() : this.getPmText();\n          return this.getHoursScaleItemTextCore(hourDisplayText, amPmText);\n        };\n\n        ElementTextHelper.prototype.getDaysScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          return this.getDayTotalText(scaleItemDate, true, isViewTypeScale, isViewTypeScale, !isViewTypeScale);\n        };\n\n        ElementTextHelper.prototype.getWeeksScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var weekLastDayDate = new Date(scaleItemDate.getTime() + DateUtils.msPerWeek - DateUtils.msPerDay);\n          return this.getWeeksScaleItemTextCore(this.getDayTotalText(scaleItemDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale), this.getDayTotalText(weekLastDayDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale));\n        };\n\n        ElementTextHelper.prototype.getMonthsScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var monthNames = this.getMonthNames();\n          var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getMonthsScaleItemTextCore(monthNames[scaleItemDate.getMonth()], yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getQuarterScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var quarterNames = this.getQuarterNames();\n          var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getMonthsScaleItemTextCore(quarterNames[Math.floor(scaleItemDate.getMonth() / 3)], yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getYearsScaleItemText = function (scaleItemDate) {\n          return scaleItemDate.getFullYear().toString();\n        };\n\n        ElementTextHelper.prototype.getFiveYearsScaleItemText = function (scaleItemDate) {\n          return scaleItemDate.getFullYear().toString() + \" - \" + (scaleItemDate.getFullYear() + 4).toString();\n        };\n\n        ElementTextHelper.prototype.getHourDisplayText = function (hours) {\n          if (this.hasAmPm()) return (hours == 0 ? 12 : hours <= 12 ? hours : hours - 12).toString();\n          return hours < 10 ? \"0\" + hours : hours.toString();\n        };\n\n        ElementTextHelper.prototype.getDayTotalText = function (scaleItemDate, displayDayName, useAbbrDayNames, useAbbrMonthNames, displayYear) {\n          var monthNames = useAbbrMonthNames ? this.getAbbrMonthNames() : this.getMonthNames();\n          var dayNames = useAbbrDayNames ? this.getAbbrDayNames() : this.getDayNames();\n          var dayNameDisplayText = displayDayName ? dayNames[scaleItemDate.getDay()] : \"\";\n          var day = scaleItemDate.getDate();\n          var monthName = monthNames[scaleItemDate.getMonth()];\n          var yearDisplayText = displayYear ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getDayTotalTextCore(dayNameDisplayText, day.toString(), monthName, yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getTaskText = function (index) {\n          var item = this.modelItems[index];\n          return item ? item.task.title : \"\";\n        };\n\n        ElementTextHelper.prototype.getTaskVisibility = function (index) {\n          var item = this.modelItems[index];\n          return !!item && item.getVisible();\n        };\n\n        ElementTextHelper.prototype.hasAmPm = function () {\n          return this.getAmText().length > 0 || this.getPmText().length > 0;\n        };\n\n        ElementTextHelper.prototype.getScaleItemTextTemplate = function (viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return \"00\";\n\n            case Enums_1.ViewType.Hours:\n            case Enums_1.ViewType.SixHours:\n              return this.getHoursScaleItemTextCore(\"00\", this.getAmText());\n\n            case Enums_1.ViewType.Days:\n              return this.getDayTextTemplate();\n\n            case Enums_1.ViewType.Weeks:\n              return this.getWeekTextTemplate();\n\n            case Enums_1.ViewType.Months:\n              return this.getMonthsScaleItemTextCore(this.getLongestMonthName(), \"\");\n\n            case Enums_1.ViewType.Quarter:\n              return \"Q4\";\n\n            case Enums_1.ViewType.Years:\n              return \"0000\";\n          }\n        };\n\n        ElementTextHelper.prototype.getDayTextTemplate = function () {\n          return this.getDayTotalTextCore(this.getLongestAbbrDayName(), \"00\", this.getLongestAbbrMonthName(), \"\");\n        };\n\n        ElementTextHelper.prototype.getWeekTextTemplate = function () {\n          var dayTextTemplate = this.getDayTextTemplate();\n          return this.getWeeksScaleItemTextCore(dayTextTemplate, dayTextTemplate);\n        };\n\n        ElementTextHelper.prototype.getHoursScaleItemTextCore = function (hourDisplayText, amPmText) {\n          return hourDisplayText + \":00\" + (this.hasAmPm() ? \" \" + amPmText : \"\");\n        };\n\n        ElementTextHelper.prototype.getDayTotalTextCore = function (dayName, dayValueString, monthName, yearValueString) {\n          var result = dayName.length > 0 ? dayName + \", \" : \"\";\n          result += dayValueString + \" \" + monthName;\n          result += yearValueString.length > 0 ? \" \" + yearValueString : \"\";\n          return result;\n        };\n\n        ElementTextHelper.prototype.getWeeksScaleItemTextCore = function (firstDayOfWeekString, lastDayOfWeekString) {\n          return firstDayOfWeekString + \" - \" + lastDayOfWeekString;\n        };\n\n        ElementTextHelper.prototype.getMonthsScaleItemTextCore = function (monthName, yearValueString) {\n          var result = monthName;\n          if (yearValueString.length > 0) result += \" \" + yearValueString;\n          return result;\n        };\n\n        ElementTextHelper.prototype.getLongestAbbrMonthName = function () {\n          if (this.longestAbbrMonthName == null) this.longestAbbrMonthName = this.getLongestText(this.getAbbrMonthNames());\n          return this.longestAbbrMonthName;\n        };\n\n        ElementTextHelper.prototype.getLongestMonthName = function () {\n          if (this.longestMonthName == null) this.longestMonthName = this.getLongestText(this.getMonthNames());\n          return this.longestMonthName;\n        };\n\n        ElementTextHelper.prototype.getLongestAbbrDayName = function () {\n          if (this.longestAbbrDayName == null) this.longestAbbrDayName = this.getLongestText(this.getAbbrDayNames());\n          return this.longestAbbrDayName;\n        };\n\n        ElementTextHelper.prototype.getLongestText = function (texts) {\n          var _this = this;\n\n          var result = \"\";\n          var longestTextWidth = 0;\n          texts.forEach(function (text) {\n            var textWidth = _this.getTextWidth(text);\n\n            if (textWidth > longestTextWidth) {\n              longestTextWidth = textWidth;\n              result = text;\n            }\n          });\n          return result;\n        };\n\n        ElementTextHelper.prototype.getTextWidth = function (text) {\n          return Math.round(this.textMeasureContext.measureText(text).width);\n        };\n\n        ElementTextHelper.prototype.getAmText = function () {\n          return this.cultureInfo.amText;\n        };\n\n        ElementTextHelper.prototype.getPmText = function () {\n          return this.cultureInfo.pmText;\n        };\n\n        ElementTextHelper.prototype.getQuarterNames = function () {\n          return this.cultureInfo.quarterNames;\n        };\n\n        ElementTextHelper.prototype.getMonthNames = function () {\n          return this.cultureInfo.monthNames;\n        };\n\n        ElementTextHelper.prototype.getDayNames = function () {\n          return this.cultureInfo.dayNames;\n        };\n\n        ElementTextHelper.prototype.getAbbrMonthNames = function () {\n          return this.cultureInfo.abbrMonthNames;\n        };\n\n        ElementTextHelper.prototype.getAbbrDayNames = function () {\n          return this.cultureInfo.abbrDayNames;\n        };\n\n        return ElementTextHelper;\n      }();\n\n      exports.ElementTextHelper = ElementTextHelper;\n\n      var ElementTextHelperCultureInfo = function () {\n        function ElementTextHelperCultureInfo() {}\n\n        return ElementTextHelperCultureInfo;\n      }();\n\n      exports.ElementTextHelperCultureInfo = ElementTextHelperCultureInfo;\n\n      function createViewTypeToScaleMap() {\n        var result = {};\n        result[Enums_1.ViewType.TenMinutes] = Enums_1.ViewType.Hours;\n        result[Enums_1.ViewType.Hours] = Enums_1.ViewType.Days;\n        result[Enums_1.ViewType.SixHours] = Enums_1.ViewType.Days;\n        result[Enums_1.ViewType.Days] = Enums_1.ViewType.Weeks;\n        result[Enums_1.ViewType.Weeks] = Enums_1.ViewType.Months;\n        result[Enums_1.ViewType.Months] = Enums_1.ViewType.Years;\n        result[Enums_1.ViewType.Quarter] = Enums_1.ViewType.Years;\n        result[Enums_1.ViewType.Years] = Enums_1.ViewType.FiveYears;\n        return result;\n      }\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GridElementInfo = void 0;\n\n      var point_1 = __webpack_require__(4);\n\n      var size_1 = __webpack_require__(28);\n\n      var margins_1 = __webpack_require__(77);\n\n      var GridElementInfo = function () {\n        function GridElementInfo(className, position, size) {\n          this.id = GridElementInfo.id++;\n          this.position = new point_1.Point(undefined, undefined);\n          this.size = new size_1.Size(0, 0);\n          this.margins = new margins_1.Margins(undefined, undefined, undefined, undefined);\n          this.attr = {};\n          this.style = {};\n          if (className) this.className = className;\n          if (position) this.setPosition(position);\n          if (size) this.setSize(size);\n        }\n\n        GridElementInfo.prototype.setSize = function (size) {\n          this.size.width = size.width;\n          this.size.height = size.height;\n        };\n\n        GridElementInfo.prototype.setPosition = function (position) {\n          this.position.x = position.x;\n          this.position.y = position.y;\n        };\n\n        GridElementInfo.prototype.assignToElement = function (element) {\n          this.assignPosition(element);\n          this.assignSize(element);\n          this.assignMargins(element);\n          if (this.className) element.className = this.className;\n        };\n\n        GridElementInfo.prototype.assignPosition = function (element) {\n          if (this.position.x != null) element.style.left = this.position.x + \"px\";\n          if (this.position.y != null) element.style.top = this.position.y + \"px\";\n        };\n\n        GridElementInfo.prototype.assignSize = function (element) {\n          if (this.size.width) element.style.width = this.size.width + \"px\";\n          if (this.size.height) element.style.height = this.size.height + \"px\";\n        };\n\n        GridElementInfo.prototype.assignMargins = function (element) {\n          if (this.margins.left) element.style.marginLeft = this.margins.left + \"px\";\n          if (this.margins.top) element.style.marginTop = this.margins.top + \"px\";\n          if (this.margins.right) element.style.marginRight = this.margins.right + \"px\";\n          if (this.margins.bottom) element.style.marginBottom = this.margins.bottom + \"px\";\n        };\n\n        GridElementInfo.prototype.setAttribute = function (name, value) {\n          this.attr[name] = value;\n        };\n\n        GridElementInfo.id = 0;\n        return GridElementInfo;\n      }();\n\n      exports.GridElementInfo = GridElementInfo;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ValidationSettings = exports.StripLine = exports.StripLineSettings = exports.EditingSettings = exports.Settings = void 0;\n\n      var Enums_1 = __webpack_require__(14);\n\n      var common_1 = __webpack_require__(1);\n\n      var Settings = function () {\n        function Settings() {\n          this.viewType = undefined;\n          this.taskTitlePosition = Enums_1.TaskTitlePosition.Inside;\n          this.showResources = true;\n          this.areHorizontalBordersEnabled = true;\n          this.areVerticalBordersEnabled = true;\n          this.areAlternateRowsEnabled = true;\n          this.allowSelectTask = true;\n          this.firstDayOfWeek = 0;\n          this.editing = new EditingSettings();\n          this.validation = new ValidationSettings();\n          this.stripLines = new StripLineSettings();\n        }\n\n        Settings.parse = function (settings) {\n          var result = new Settings();\n\n          if (settings) {\n            if (common_1.isDefined(settings.viewType)) result.viewType = settings.viewType;\n            if (common_1.isDefined(settings.taskTitlePosition)) result.taskTitlePosition = settings.taskTitlePosition;\n            if (common_1.isDefined(settings.showResources)) result.showResources = settings.showResources;\n            if (common_1.isDefined(settings.areHorizontalBordersEnabled)) result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\n            if (common_1.isDefined(settings.areVerticalBordersEnabled)) result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\n            if (common_1.isDefined(settings.areAlternateRowsEnabled)) result.areAlternateRowsEnabled = settings.areAlternateRowsEnabled;\n            if (common_1.isDefined(settings.allowSelectTask)) result.allowSelectTask = settings.allowSelectTask;\n            if (common_1.isDefined(settings.firstDayOfWeek)) result.firstDayOfWeek = settings.firstDayOfWeek;\n            if (common_1.isDefined(settings.editing)) result.editing = EditingSettings.parse(settings.editing);\n            if (common_1.isDefined(settings.validation)) result.validation = ValidationSettings.parse(settings.validation);\n            if (common_1.isDefined(settings.stripLines)) result.stripLines = StripLineSettings.parse(settings.stripLines);\n            if (common_1.isDefined(settings.taskTooltipContentTemplate)) result.taskTooltipContentTemplate = settings.taskTooltipContentTemplate;\n          }\n\n          return result;\n        };\n\n        Settings.prototype.equal = function (settings) {\n          var result = true;\n          result = result && this.viewType === settings.viewType;\n          result = result && this.taskTitlePosition === settings.taskTitlePosition;\n          result = result && this.showResources === settings.showResources;\n          result = result && this.areHorizontalBordersEnabled === settings.areHorizontalBordersEnabled;\n          result = result && this.areAlternateRowsEnabled === settings.areAlternateRowsEnabled;\n          result = result && this.allowSelectTask === settings.allowSelectTask;\n          result = result && this.editing.equal(settings.editing);\n          result = result && this.validation.equal(settings.validation);\n          result = result && this.stripLines.equal(settings.stripLines);\n          return result;\n        };\n\n        return Settings;\n      }();\n\n      exports.Settings = Settings;\n\n      var EditingSettings = function () {\n        function EditingSettings() {\n          this.enabled = false;\n          this.allowDependencyDelete = true;\n          this.allowDependencyInsert = true;\n          this.allowTaskDelete = true;\n          this.allowTaskInsert = true;\n          this.allowTaskUpdate = true;\n          this.allowResourceDelete = true;\n          this.allowResourceInsert = true;\n          this.allowResourceUpdate = true;\n          this.allowTaskResourceUpdate = true;\n        }\n\n        EditingSettings.parse = function (settings) {\n          var result = new EditingSettings();\n\n          if (settings) {\n            if (common_1.isDefined(settings.enabled)) result.enabled = settings.enabled;\n            if (common_1.isDefined(settings.allowDependencyDelete)) result.allowDependencyDelete = settings.allowDependencyDelete;\n            if (common_1.isDefined(settings.allowDependencyInsert)) result.allowDependencyInsert = settings.allowDependencyInsert;\n            if (common_1.isDefined(settings.allowTaskDelete)) result.allowTaskDelete = settings.allowTaskDelete;\n            if (common_1.isDefined(settings.allowTaskInsert)) result.allowTaskInsert = settings.allowTaskInsert;\n            if (common_1.isDefined(settings.allowTaskUpdate)) result.allowTaskUpdate = settings.allowTaskUpdate;\n            if (common_1.isDefined(settings.allowResourceDelete)) result.allowResourceDelete = settings.allowResourceDelete;\n            if (common_1.isDefined(settings.allowResourceInsert)) result.allowResourceInsert = settings.allowResourceInsert;\n            if (common_1.isDefined(settings.allowResourceUpdate)) result.allowResourceUpdate = settings.allowResourceUpdate;\n            if (common_1.isDefined(settings.allowTaskResourceUpdate)) result.allowTaskResourceUpdate = settings.allowTaskResourceUpdate;\n          }\n\n          return result;\n        };\n\n        EditingSettings.prototype.equal = function (settings) {\n          var result = true;\n          result = result && this.enabled === settings.enabled;\n          result = result && this.allowDependencyDelete === settings.allowDependencyDelete;\n          result = result && this.allowDependencyInsert === settings.allowDependencyInsert;\n          result = result && this.allowTaskDelete === settings.allowTaskDelete;\n          result = result && this.allowTaskInsert === settings.allowTaskInsert;\n          result = result && this.allowTaskUpdate === settings.allowTaskUpdate;\n          result = result && this.allowResourceDelete === settings.allowResourceDelete;\n          result = result && this.allowResourceInsert === settings.allowResourceInsert;\n          result = result && this.allowResourceUpdate === settings.allowResourceUpdate;\n          result = result && this.allowTaskResourceUpdate === settings.allowTaskResourceUpdate;\n          return result;\n        };\n\n        return EditingSettings;\n      }();\n\n      exports.EditingSettings = EditingSettings;\n\n      var StripLineSettings = function () {\n        function StripLineSettings() {\n          this.showCurrentTime = false;\n          this.currentTimeUpdateInterval = 60000;\n          this.stripLines = [];\n        }\n\n        StripLineSettings.parse = function (settings) {\n          var result = new StripLineSettings();\n\n          if (settings) {\n            if (common_1.isDefined(settings.showCurrentTime)) result.showCurrentTime = settings.showCurrentTime;\n            if (common_1.isDefined(settings.currentTimeUpdateInterval)) result.currentTimeUpdateInterval = settings.currentTimeUpdateInterval;\n            if (common_1.isDefined(settings.currentTimeTitle)) result.currentTimeTitle = settings.currentTimeTitle;\n            if (common_1.isDefined(settings.currentTimeCssClass)) result.currentTimeCssClass = settings.currentTimeCssClass;\n            if (common_1.isDefined(settings.stripLines)) for (var i = 0; i < settings.stripLines.length; i++) result.stripLines.push(StripLine.parse(settings.stripLines[i]));\n          }\n\n          return result;\n        };\n\n        StripLineSettings.prototype.equal = function (settings) {\n          var result = true;\n          result = result && this.showCurrentTime == settings.showCurrentTime;\n          result = result && this.currentTimeUpdateInterval == settings.currentTimeUpdateInterval;\n          result = result && this.currentTimeTitle == settings.currentTimeTitle;\n          result = result && this.currentTimeCssClass == settings.currentTimeCssClass;\n          result = result && this.stripLines.length === settings.stripLines.length;\n          if (result) for (var i = 0; i < settings.stripLines.length; i++) result = result && this.stripLines[i].equal(settings.stripLines[i]);\n          return result;\n        };\n\n        return StripLineSettings;\n      }();\n\n      exports.StripLineSettings = StripLineSettings;\n\n      var StripLine = function () {\n        function StripLine(start, end, title, cssClass, isCurrent) {\n          this.isCurrent = false;\n          this.start = start;\n          this.end = end;\n          this.title = title;\n          this.cssClass = cssClass;\n          this.isCurrent = isCurrent;\n        }\n\n        StripLine.parse = function (settings) {\n          var result = new StripLine();\n\n          if (settings) {\n            if (common_1.isDefined(settings.start)) result.start = settings.start;\n            if (common_1.isDefined(settings.end)) result.end = settings.end;\n            if (common_1.isDefined(settings.title)) result.title = settings.title;\n            if (common_1.isDefined(settings.cssClass)) result.cssClass = settings.cssClass;\n          }\n\n          return result;\n        };\n\n        StripLine.prototype.clone = function () {\n          return new StripLine(this.start, this.end, this.title, this.cssClass, this.isCurrent);\n        };\n\n        StripLine.prototype.equal = function (stripLine) {\n          var result = true;\n          result = result && this.start == stripLine.start;\n          result = result && this.end == stripLine.end;\n          result = result && this.title == stripLine.title;\n          result = result && this.cssClass == stripLine.cssClass;\n          return result;\n        };\n\n        return StripLine;\n      }();\n\n      exports.StripLine = StripLine;\n\n      var ValidationSettings = function () {\n        function ValidationSettings() {\n          this.validateDependencies = false;\n          this.autoUpdateParentTasks = false;\n        }\n\n        ValidationSettings.parse = function (settings) {\n          var result = new ValidationSettings();\n\n          if (settings) {\n            if (common_1.isDefined(settings.validateDependencies)) result.validateDependencies = settings.validateDependencies;\n            if (common_1.isDefined(settings.autoUpdateParentTasks)) result.autoUpdateParentTasks = settings.autoUpdateParentTasks;\n          }\n\n          return result;\n        };\n\n        ValidationSettings.prototype.equal = function (settings) {\n          var result = true;\n          result = result && this.validateDependencies == settings.validateDependencies;\n          result = result && this.autoUpdateParentTasks == settings.autoUpdateParentTasks;\n          return result;\n        };\n\n        return ValidationSettings;\n      }();\n\n      exports.ValidationSettings = ValidationSettings;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskEditController = void 0;\n\n      var Enums_1 = __webpack_require__(14);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var dom_1 = __webpack_require__(3);\n\n      var browser_1 = __webpack_require__(5);\n\n      var TaskEditController = function () {\n        function TaskEditController(gantt) {\n          this.taskIndex = -1;\n          this.successorIndex = -1;\n          this.editing = false;\n          this.gantt = gantt;\n          this.createElements();\n        }\n\n        Object.defineProperty(TaskEditController.prototype, \"taskId\", {\n          get: function () {\n            return this.gantt.viewModel.items[this.taskIndex].task.internalId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskEditController.prototype, \"successorId\", {\n          get: function () {\n            return this.gantt.viewModel.items[this.successorIndex].task.internalId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskEditController.prototype, \"task\", {\n          get: function () {\n            return this.gantt.viewModel.items[this.taskIndex].task;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        TaskEditController.prototype.show = function (taskIndex) {\n          if (!this.editing) {\n            this.taskIndex = taskIndex;\n            this.updateWrapInfo();\n            this.wrapInfo.assignPosition(this.baseElement);\n            this.wrapInfo.assignSize(this.baseElement);\n            this.gantt.taskArea.appendChild(this.baseElement);\n            this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n            if (!this.gantt.settings.editing.enabled || !this.gantt.settings.editing.allowDependencyInsert) this.baseElement.className = this.baseElement.className + \" hide-dependency\";\n            if (this.task.isMilestone()) this.baseElement.className = this.baseElement.className + \" milestone\";else {\n              if (!this.gantt.settings.editing.enabled || !this.gantt.settings.editing.allowTaskUpdate || !this.canUpdateTask()) this.baseElement.className = this.baseElement.className + \" hide-updating\";\n              this.progressEdit.style.left = this.task.progress / 100 * this.wrapInfo.size.width - this.progressEdit.offsetWidth / 2 + \"px\";\n            }\n            this.taskDateRange = new DateRange_1.DateRange(this.task.start, this.task.end);\n          }\n        };\n\n        TaskEditController.prototype.hide = function () {\n          var parentNode = this.baseElement.parentNode;\n          if (parentNode) parentNode.removeChild(this.baseElement);\n          this.tooltip.hide();\n        };\n\n        TaskEditController.prototype.showTaskInfo = function (posX, delay) {\n          if (delay === void 0) {\n            delay = 500;\n          }\n\n          this.tooltip.showInfo(this.task, posX, delay, this.gantt.settings.taskTooltipContentTemplate);\n        };\n\n        TaskEditController.prototype.updateWrapInfo = function () {\n          this.wrapInfo = this.getTaskWrapperElementInfo(this.taskIndex);\n          this.wrapInfo.position.x--;\n        };\n\n        TaskEditController.prototype.showDependencySuccessor = function (taskIndex) {\n          if (this.successorIndex != taskIndex && this.taskIndex != taskIndex) {\n            this.successorIndex = taskIndex;\n            var wrapInfo = this.getTaskWrapperElementInfo(taskIndex);\n            wrapInfo.assignPosition(this.dependencySuccessorBaseElement);\n            wrapInfo.assignSize(this.dependencySuccessorBaseElement);\n            wrapInfo.assignSize(this.dependencySuccessorFrame);\n            this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement);\n          }\n        };\n\n        TaskEditController.prototype.hideDependencySuccessor = function () {\n          var parentNode = this.dependencySuccessorBaseElement.parentNode;\n          if (parentNode) parentNode.removeChild(this.dependencySuccessorBaseElement);\n          this.successorIndex = -1;\n        };\n\n        TaskEditController.prototype.processProgress = function (position) {\n          this.editing = true;\n          var progressOffset = position.x - this.wrapInfo.position.x;\n          var progress = 0;\n          if (position.x > this.wrapInfo.position.x) if (position.x < this.wrapInfo.position.x + this.wrapInfo.size.width) progress = Math.round(progressOffset / this.baseElement.clientWidth * 100);else progress = 100;\n          this.progressEdit.style.left = progress / 100 * this.wrapInfo.size.width - this.progressEdit.offsetWidth / 2 + \"px\";\n          this.tooltip.showProgress(progress, dom_1.DomUtils.getAbsolutePositionX(this.progressEdit) + this.progressEdit.offsetWidth / 2);\n        };\n\n        TaskEditController.prototype.confirmProgress = function () {\n          this.editing = false;\n          var progress = Math.round((this.progressEdit.offsetLeft + this.progressEdit.offsetWidth / 2) / this.wrapInfo.size.width * 100);\n          this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId, progress);\n        };\n\n        TaskEditController.prototype.processEnd = function (position) {\n          this.baseElement.className = this.baseElement.className + \" move\";\n          this.editing = true;\n          var positionX = position.x > this.wrapInfo.position.x ? position.x : this.wrapInfo.position.x;\n          var width = positionX - this.wrapInfo.position.x;\n          this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\n          var startDate = this.task.start;\n          var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\n          date.setSeconds(0);\n          if (date < startDate || width < 1) this.taskDateRange.end.setTime(startDate.getTime());else this.taskDateRange.end = this.getNewDate(this.task.end, date);\n          this.tooltip.showTime(startDate, this.taskDateRange.end, dom_1.DomUtils.getAbsolutePositionX(this.baseElement) + this.baseElement.clientWidth);\n        };\n\n        TaskEditController.prototype.confirmEnd = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n          this.editing = false;\n          this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\n          this.hide();\n          this.updateWrapInfo();\n        };\n\n        TaskEditController.prototype.processStart = function (position) {\n          this.baseElement.className = this.baseElement.className + \" move\";\n          this.editing = true;\n          var positionX = position.x < this.wrapInfo.position.x + this.wrapInfo.size.width ? position.x : this.wrapInfo.position.x + this.wrapInfo.size.width;\n          var width = this.wrapInfo.size.width - (positionX - this.wrapInfo.position.x);\n          this.baseElement.style.left = positionX + \"px\";\n          this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\n          var endDate = this.task.end;\n          var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\n          date.setSeconds(0);\n          if (date > endDate || width < 1) this.taskDateRange.start.setTime(endDate.getTime());else this.taskDateRange.start = this.getNewDate(this.task.start, date);\n          this.tooltip.showTime(this.taskDateRange.start, endDate, dom_1.DomUtils.getAbsolutePositionX(this.baseElement));\n        };\n\n        TaskEditController.prototype.confirmStart = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n          this.editing = false;\n          this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\n          this.hide();\n          this.updateWrapInfo();\n        };\n\n        TaskEditController.prototype.processMove = function (delta) {\n          if (this.gantt.settings.editing.enabled && this.gantt.settings.editing.allowTaskUpdate) {\n            this.baseElement.className = this.baseElement.className + \" move\";\n            var left = this.baseElement.offsetLeft + delta;\n            this.baseElement.style.left = left + \"px\";\n            var date = this.gantt.gridLayoutCalculator.getDateByPos(left);\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\n            var dateDiff = this.task.start.getTime() - this.taskDateRange.start.getTime();\n            var endDate = new Date(this.task.end.getTime() - dateDiff);\n            this.taskDateRange.end = this.getNewDate(this.task.end, endDate);\n            this.editing = this.gantt.modelManipulator.dispatcher.raiseTaskMoving(this.task, this.taskDateRange.start, this.taskDateRange.end, this.onTaskMovingCallback.bind(this));\n            if (this.editing) this.tooltip.showTime(this.taskDateRange.start, this.taskDateRange.end, dom_1.DomUtils.getAbsolutePositionX(this.baseElement));\n            return this.editing;\n          }\n\n          return true;\n        };\n\n        TaskEditController.prototype.onTaskMovingCallback = function (newStart, newEnd) {\n          if (this.taskDateRange.start === newStart && this.taskDateRange.end === newEnd) return;\n          var calculator = this.gantt.gridLayoutCalculator;\n          var newLeft = calculator.getPosByDate(newStart);\n          var newWidth = calculator.getPosByDate(newEnd) - newLeft;\n          this.baseElement.style.left = newLeft + \"px\";\n          this.baseElement.style.width = (newWidth < 1 ? 0 : newWidth) + \"px\";\n          this.taskDateRange.start = newStart;\n          this.taskDateRange.end = newEnd;\n        };\n\n        TaskEditController.prototype.confirmMove = function () {\n          if (this.gantt.settings.editing.enabled && this.gantt.settings.editing.allowTaskUpdate) {\n            if (!this.gantt.settings.editing.allowDependencyInsert) this.baseElement.className = this.baseElement.className + \" hide-dependency\";\n\n            if (this.editing) {\n              this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n              this.gantt.commandManager.taskMoveCommand.execute(this.taskId, this.taskDateRange.start, this.taskDateRange.end);\n              this.updateWrapInfo();\n              this.hide();\n              this.editing = false;\n            }\n          }\n        };\n\n        TaskEditController.prototype.getNewDate = function (referenceDate, newDate) {\n          if (this.gantt.settings.viewType > Enums_1.ViewType.SixHours) {\n            var year = newDate.getFullYear();\n            var month = newDate.getMonth();\n            var day = newDate.getDate();\n            var hours = this.gantt.settings.viewType == Enums_1.ViewType.Days ? newDate.getHours() : referenceDate.getHours();\n            var minutes = referenceDate.getMinutes();\n            var sec = referenceDate.getSeconds();\n            var msec = referenceDate.getMilliseconds();\n            return new Date(year, month, day, hours, minutes, sec, msec);\n          }\n\n          return newDate;\n        };\n\n        TaskEditController.prototype.startDependency = function (pos) {\n          this.dependencyLine = document.createElement(\"DIV\");\n          this.dependencyLine.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE;\n          this.gantt.taskArea.appendChild(this.dependencyLine);\n          this.startPosition = pos;\n        };\n\n        TaskEditController.prototype.processDependency = function (pos) {\n          this.editing = true;\n          this.drawline(this.startPosition, pos);\n        };\n\n        TaskEditController.prototype.endDependency = function (type) {\n          this.editing = false;\n          if (type != null) this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId, this.successorId, type);\n          var parentNode = this.dependencyLine.parentNode;\n          if (parentNode) parentNode.removeChild(this.dependencyLine);\n          this.dependencyLine = null;\n          this.hideDependencySuccessor();\n          this.hide();\n        };\n\n        TaskEditController.prototype.selectDependency = function (id) {\n          if (this.gantt.settings.editing.allowDependencyDelete) this.dependencyId = id;\n        };\n\n        TaskEditController.prototype.isDependencySelected = function (id) {\n          return this.dependencyId && this.dependencyId == id;\n        };\n\n        TaskEditController.prototype.deleteSelectedDependency = function () {\n          if (this.dependencyId) this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId);\n        };\n\n        TaskEditController.prototype.getTaskWrapperElementInfo = function (taskIndex) {\n          var calculator = this.gantt.gridLayoutCalculator;\n          var info = calculator.getTaskWrapperElementInfo(taskIndex);\n          info.size.width = calculator.getTaskWidth(taskIndex);\n          info.size.height = calculator.getTaskHeight(taskIndex);\n          return info;\n        };\n\n        TaskEditController.prototype.createElements = function () {\n          this.baseElement = document.createElement(\"DIV\");\n          this.baseFrame = document.createElement(\"DIV\");\n          this.baseFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME;\n          this.baseElement.appendChild(this.baseFrame);\n          this.progressEdit = document.createElement(\"DIV\");\n          this.progressEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS;\n          this.baseFrame.appendChild(this.progressEdit);\n          this.progressEdit.appendChild(document.createElement(\"DIV\"));\n          this.dependencyFinish = document.createElement(\"DIV\");\n          this.dependencyFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH);\n          if (browser_1.Browser.TouchUI) this.dependencyFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\n          this.baseFrame.appendChild(this.dependencyFinish);\n          this.dependencyStart = document.createElement(\"DIV\");\n          this.dependencyStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT);\n          if (browser_1.Browser.TouchUI) this.dependencyStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\n          this.baseFrame.appendChild(this.dependencyStart);\n          this.startEdit = document.createElement(\"DIV\");\n          this.startEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_START;\n          this.baseFrame.appendChild(this.startEdit);\n          this.endEdit = document.createElement(\"DIV\");\n          this.endEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_END;\n          this.baseFrame.appendChild(this.endEdit);\n          this.dependencySuccessorBaseElement = document.createElement(\"DIV\");\n          this.dependencySuccessorBaseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR;\n          this.dependencySuccessorFrame = document.createElement(\"DIV\");\n          this.dependencySuccessorFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR;\n          this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame);\n          this.dependencySuccessorStart = document.createElement(\"DIV\");\n          this.dependencySuccessorStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH);\n          if (browser_1.Browser.TouchUI) this.dependencySuccessorStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\n          this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart);\n          this.dependencySuccessorFinish = document.createElement(\"DIV\");\n          this.dependencySuccessorFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT);\n          if (browser_1.Browser.TouchUI) this.dependencySuccessorFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\n          this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish);\n          this.tooltip = new TaskEditTooltip(this.baseElement, this.gantt, this.gantt.elementTextHelper.cultureInfo);\n          this.attachEvents();\n        };\n\n        TaskEditController.prototype.attachEvents = function () {\n          this.baseElement.addEventListener(\"mouseleave\", function () {\n            if (!this.editing) this.hide();\n          }.bind(this));\n        };\n\n        TaskEditController.prototype.drawline = function (start, end) {\n          if (start.x > end.x) {\n            var temp = end;\n            end = start;\n            start = temp;\n          }\n\n          var angle = Math.atan((start.y - end.y) / (end.x - start.x));\n          angle = angle * 180 / Math.PI;\n          angle = -angle;\n          var length = Math.sqrt((start.x - end.x) * (start.x - end.x) + (start.y - end.y) * (start.y - end.y));\n          this.dependencyLine.style.left = start.x + \"px\";\n          this.dependencyLine.style.top = start.y + \"px\";\n          this.dependencyLine.style.width = length + \"px\";\n          this.dependencyLine.style.transform = \"rotate(\" + angle + \"deg)\";\n        };\n\n        TaskEditController.prototype.canUpdateTask = function () {\n          return !this.gantt.viewModel.isTaskToCalculateByChildren(this.task.internalId);\n        };\n\n        TaskEditController.CLASSNAMES = {\n          TASK_EDIT_BOX: \"dx-gantt-task-edit-wrapper\",\n          TASK_EDIT_FRAME: \"dx-gantt-task-edit-frame\",\n          TASK_EDIT_PROGRESS: \"dx-gantt-task-edit-progress\",\n          TASK_EDIT_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-dependency-r\",\n          TASK_EDIT_DEPENDENCY_LEFT: \"dx-gantt-task-edit-dependency-l\",\n          TASK_EDIT_START: \"dx-gantt-task-edit-start\",\n          TASK_EDIT_END: \"dx-gantt-task-edit-end\",\n          TASK_EDIT_DEPENDENCY_LINE: \"dx-gantt-task-edit-dependency-line\",\n          TASK_EDIT_BOX_SUCCESSOR: \"dx-gantt-task-edit-wrapper-successor\",\n          TASK_EDIT_FRAME_SUCCESSOR: \"dx-gantt-task-edit-frame-successor\",\n          TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-successor-dependency-r\",\n          TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT: \"dx-gantt-task-edit-successor-dependency-l\",\n          TASK_EDIT_TOUCH: \"dx-gantt-edit-touch\"\n        };\n        return TaskEditController;\n      }();\n\n      exports.TaskEditController = TaskEditController;\n\n      var TaskEditTooltip = function () {\n        function TaskEditTooltip(parentElement, owner, cultureInfo) {\n          this.parentElement = parentElement;\n          this.baseElement = document.createElement(\"DIV\");\n          this.baseElement.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS;\n          parentElement.appendChild(this.baseElement);\n          this.owner = owner;\n          this.cultureInfo = cultureInfo;\n        }\n\n        TaskEditTooltip.prototype.setDefaultTooltip = function (task) {\n          this.defaultTooltip = document.createElement(\"DIV\");\n          this.defaultTooltip.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;\n          var titleWrapper = document.createElement(\"DIV\");\n          titleWrapper.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TASK_TITLE;\n          var title = document.createElement(\"SPAN\");\n          titleWrapper.appendChild(title);\n          this.defaultTooltip.appendChild(titleWrapper);\n          title.innerText = task.title;\n          this.defaultTooltip.appendChild(this.getTimeContent(task.start, task.end));\n\n          if (!isNaN(task.progress)) {\n            var progressElement = document.createElement(\"DIV\");\n            progressElement.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\n            var progressTitle = document.createElement(\"SPAN\");\n            var progressValue = document.createElement(\"SPAN\");\n            progressElement.appendChild(progressTitle);\n            progressElement.appendChild(progressValue);\n            this.defaultTooltip.appendChild(progressElement);\n            progressTitle.innerText = (this.cultureInfo.progress ? this.cultureInfo.progress : \"Progress\") + \": \";\n            progressValue.innerText = task.progress + \"%\";\n          }\n\n          this.baseElement.appendChild(this.defaultTooltip);\n        };\n\n        TaskEditTooltip.prototype.showInfo = function (task, posX, delay, tooltipTemplateFunction) {\n          var _this = this;\n\n          if (delay === void 0) {\n            delay = 0;\n          }\n\n          var isTooltipShowing = true;\n          this.owner.destroyTemplate(this.baseElement);\n          if (tooltipTemplateFunction) isTooltipShowing = tooltipTemplateFunction(this.baseElement, task);else this.setDefaultTooltip(task);\n          isTooltipShowing = isTooltipShowing && !!this.baseElement.innerHTML;\n\n          if (isTooltipShowing) {\n            var showInfoFunc = function () {\n              _this.show(posX, false);\n            };\n\n            if (delay) this.timerId = setTimeout(showInfoFunc, delay);else showInfoFunc();\n          }\n        };\n\n        TaskEditTooltip.prototype.showProgress = function (progress, posX) {\n          this.owner.destroyTemplate(this.baseElement);\n          this.defaultTooltip = document.createElement(\"DIV\");\n          this.defaultTooltip.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;\n          this.defaultTooltip.innerText = progress + \"%\";\n          this.baseElement.appendChild(this.defaultTooltip);\n          this.show(posX);\n        };\n\n        TaskEditTooltip.prototype.showTime = function (start, end, posX) {\n          this.owner.destroyTemplate(this.baseElement);\n          this.defaultTooltip = document.createElement(\"DIV\");\n          this.defaultTooltip.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;\n          this.defaultTooltip.appendChild(this.getTimeContent(start, end));\n          this.baseElement.appendChild(this.defaultTooltip);\n          this.show(posX);\n        };\n\n        TaskEditTooltip.prototype.show = function (posX, autoHide) {\n          var _this = this;\n\n          var _a, _b, _c, _d;\n\n          if (autoHide === void 0) {\n            autoHide = true;\n          }\n\n          var arrowHeight = 5;\n          var heightOffset = 15;\n          (_a = this.defaultTooltip) === null || _a === void 0 ? void 0 : _a.classList.remove(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER);\n          (_b = this.defaultTooltip) === null || _b === void 0 ? void 0 : _b.classList.remove(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE);\n          this.baseElement.style.display = \"block\";\n          var absolutePositionY = dom_1.DomUtils.getAbsolutePositionY(this.parentElement);\n          var absoluteX = dom_1.DomUtils.getAbsolutePositionX(this.parentElement);\n          var leftPosition = posX - absoluteX - 2 * arrowHeight;\n          var absoluteDistance = absolutePositionY - this.owner.header.clientHeight - dom_1.DomUtils.getDocumentScrollTop() - heightOffset;\n          var isShowingDown = this.baseElement.clientHeight > absoluteDistance || this.baseElement.clientHeight > this.parentElement.offsetTop;\n          var topPosition = -this.baseElement.clientHeight - arrowHeight;\n\n          if (isShowingDown) {\n            topPosition = this.parentElement.clientHeight + arrowHeight;\n            (_c = this.defaultTooltip) === null || _c === void 0 ? void 0 : _c.classList.add(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER);\n          } else (_d = this.defaultTooltip) === null || _d === void 0 ? void 0 : _d.classList.add(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE);\n\n          this.baseElement.style.left = leftPosition + \"px\";\n          this.baseElement.style.top = topPosition + \"px\";\n\n          if (autoHide) {\n            if (this.timerId) clearTimeout(this.timerId);\n            this.timerId = setTimeout(function () {\n              _this.baseElement.style.display = \"none\";\n            }, 1500);\n          }\n        };\n\n        TaskEditTooltip.prototype.hide = function () {\n          this.baseElement.style.display = \"none\";\n          clearTimeout(this.timerId);\n        };\n\n        TaskEditTooltip.prototype.getTimeContent = function (start, end) {\n          var timeElement = document.createElement(\"TABLE\");\n          timeElement.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\n          var body = document.createElement(\"TBODY\");\n          timeElement.appendChild(body);\n          var startEl = document.createElement(\"TR\");\n          var startTitle = document.createElement(\"TD\");\n          var startValue = document.createElement(\"TD\");\n          var endEl = document.createElement(\"TR\");\n          var endTitle = document.createElement(\"TD\");\n          var endValue = document.createElement(\"TD\");\n          startEl.appendChild(startTitle);\n          startEl.appendChild(startValue);\n          endEl.appendChild(endTitle);\n          endEl.appendChild(endValue);\n          body.appendChild(startEl);\n          body.appendChild(endEl);\n          startTitle.innerText = (this.cultureInfo.start ? this.cultureInfo.start : \"Start\") + \": \";\n          startValue.innerText = this.formatDate(start);\n          endTitle.innerText = (this.cultureInfo.end ? this.cultureInfo.end : \"End\") + \": \";\n          endValue.innerText = this.formatDate(end);\n          return timeElement;\n        };\n\n        TaskEditTooltip.prototype.formatDate = function (date) {\n          return this.owner.getDateFormat(date);\n        };\n\n        TaskEditTooltip.CLASSNAMES = {\n          TASK_EDIT_PROGRESS_STATUS: \"dx-gantt-task-edit-tooltip\",\n          TASK_EDIT_TOOLTIP_DEFAULT: \"dx-gantt-task-edit-tooltip-default\",\n          TASK_EDIT_TASK_TITLE: \"dx-gantt-task-title\",\n          TASK_EDIT_PROGRESS_STATUS_TIME: \"dx-gantt-status-time\",\n          TASK_EDIT_TOOLTIP_ARROW_BEFORE: \"dx-gantt-task-edit-tooltip-before\",\n          TASK_EDIT_TOOLTIP_ARROW_AFTER: \"dx-gantt-task-edit-tooltip-after\"\n        };\n        return TaskEditTooltip;\n      }();\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.HistoryItemState = void 0;\n\n      var HistoryItemState = function () {\n        function HistoryItemState(id, value) {\n          this.id = id;\n          this.value = value;\n        }\n\n        return HistoryItemState;\n      }();\n\n      exports.HistoryItemState = HistoryItemState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var _a;\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.HandlerBase = void 0;\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var TaskEditController_1 = __webpack_require__(44);\n\n      var HandlerBase = function () {\n        function HandlerBase(control) {\n          this.control = control;\n          this.switchToDefaultState();\n        }\n\n        HandlerBase.prototype.switchState = function (state) {\n          if (this.state) this.state.finish();\n          this.state = state;\n          this.state.start();\n        };\n\n        HandlerBase.prototype.switchToDefaultState = function () {\n          throw new Error(\"Not implemented\");\n        };\n\n        HandlerBase.prototype.getEventSource = function (initSource) {\n          var source = initSource.nodeType === Node.ELEMENT_NODE ? initSource : initSource.parentNode;\n          var className = source.classList[0];\n          return HandlerBase.classToSource[className] || TaskAreaManager_1.MouseEventSource.TaskArea;\n        };\n\n        HandlerBase.classToSource = (_a = {}, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS] = TaskAreaManager_1.MouseEventSource.TaskEdit_Progress, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_START] = TaskAreaManager_1.MouseEventSource.TaskEdit_Start, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_END] = TaskAreaManager_1.MouseEventSource.TaskEdit_End, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME] = TaskAreaManager_1.MouseEventSource.TaskEdit_Frame, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.Successor_DependencyStart, _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish, _a);\n        return HandlerBase;\n      }();\n\n      exports.HandlerBase = HandlerBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandlerDependencyState = exports.dependencyMap = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var point_1 = __webpack_require__(4);\n\n      var dom_1 = __webpack_require__(3);\n\n      var evt_1 = __webpack_require__(6);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(29);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var Dependency_1 = __webpack_require__(11);\n\n      exports.dependencyMap = [];\n      exports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart] = [];\n      exports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish] = [];\n      exports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.SS;\n      exports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.SF;\n      exports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.FS;\n      exports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.FF;\n\n      var MouseHandlerDependencyState = function (_super) {\n        tslib_1.__extends(MouseHandlerDependencyState, _super);\n\n        function MouseHandlerDependencyState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerDependencyState.prototype.onMouseDown = function (evt) {\n          var sourceElement = evt_1.EvtUtils.getEventSource(evt);\n          this.source = this.handler.getEventSource(sourceElement);\n          var pos = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\n          this.handler.control.taskEditController.startDependency(pos);\n        };\n\n        MouseHandlerDependencyState.prototype.onMouseUp = function (evt) {\n          if (evt instanceof PointerEvent) {\n            var relativePosStart = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientHeight / 2));\n            var relativePosEnd = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight / 2));\n            var relativeTouchPos = this.getRelativePos(new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt)));\n            var target = this.isTouchNearby(relativeTouchPos, relativePosStart) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyStart : this.isTouchNearby(relativeTouchPos, relativePosEnd) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish : null;\n            var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ? exports.dependencyMap[this.source][target] : null;\n            this.handler.control.taskEditController.endDependency(type);\n          } else {\n            var target = this.handler.getEventSource(evt_1.EvtUtils.getEventSource(evt));\n            var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ? exports.dependencyMap[this.source][target] : null;\n            this.handler.control.taskEditController.endDependency(type);\n          }\n\n          this.handler.switchToDefaultState();\n        };\n\n        MouseHandlerDependencyState.prototype.onMouseMove = function (evt) {\n          evt.preventDefault();\n          var relativePos = this.getRelativePos(new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt)));\n          var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\n          this.handler.control.taskEditController.processDependency(relativePos);\n          if (this.handler.control.viewModel.tasks.items[hoverTaskIndex]) this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\n        };\n\n        MouseHandlerDependencyState.prototype.isTouchNearby = function (touchPos, elementPos) {\n          if (Math.abs(elementPos.x - touchPos.x) <= 10 && Math.abs(elementPos.y - touchPos.y) <= 10) return true;\n          return false;\n        };\n\n        return MouseHandlerDependencyState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDependencyState = MouseHandlerDependencyState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerStateBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HandlerStateBase_1 = __webpack_require__(19);\n\n      var TouchHandlerStateBase = function (_super) {\n        tslib_1.__extends(TouchHandlerStateBase, _super);\n\n        function TouchHandlerStateBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerStateBase.prototype.onTouchStart = function (_evt) {};\n\n        TouchHandlerStateBase.prototype.onDoubleTap = function (_evt) {};\n\n        TouchHandlerStateBase.prototype.onTouchEnd = function (_evt) {};\n\n        TouchHandlerStateBase.prototype.onTouchMove = function (_evt) {};\n\n        return TouchHandlerStateBase;\n      }(HandlerStateBase_1.HandlerStateBase);\n\n      exports.TouchHandlerStateBase = TouchHandlerStateBase;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskEditDialogShowingArguments = exports.TaskUpdatingArguments = exports.TaskRemovingArguments = exports.TaskInsertingArguments = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var BaseArguments_1 = __webpack_require__(20);\n\n      var TaskInsertingArguments = function (_super) {\n        tslib_1.__extends(TaskInsertingArguments, _super);\n\n        function TaskInsertingArguments(key, start, end, title, progress, parentId) {\n          var _this = _super.call(this, key) || this;\n\n          _this.values = {\n            start: start,\n            end: end,\n            title: title,\n            progress: progress,\n            parentId: parentId\n          };\n          return _this;\n        }\n\n        Object.defineProperty(TaskInsertingArguments.prototype, \"start\", {\n          get: function () {\n            return this.values.start;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskInsertingArguments.prototype, \"end\", {\n          get: function () {\n            return this.values.end;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskInsertingArguments.prototype, \"title\", {\n          get: function () {\n            return this.values.title;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskInsertingArguments.prototype, \"progress\", {\n          get: function () {\n            return this.values.progress;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskInsertingArguments.prototype, \"parentId\", {\n          get: function () {\n            return this.values.parentId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return TaskInsertingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.TaskInsertingArguments = TaskInsertingArguments;\n\n      var TaskRemovingArguments = function (_super) {\n        tslib_1.__extends(TaskRemovingArguments, _super);\n\n        function TaskRemovingArguments(task) {\n          var _this = _super.call(this, task.id) || this;\n\n          _this.values = task;\n          return _this;\n        }\n\n        return TaskRemovingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.TaskRemovingArguments = TaskRemovingArguments;\n\n      var TaskUpdatingArguments = function (_super) {\n        tslib_1.__extends(TaskUpdatingArguments, _super);\n\n        function TaskUpdatingArguments(task, fieldNames, newValues) {\n          var _this = _super.call(this, task.id) || this;\n\n          _this.values = task;\n\n          _this.createNewValues(fieldNames, newValues);\n\n          return _this;\n        }\n\n        TaskUpdatingArguments.prototype.createNewValues = function (fieldNames, newValues) {\n          var _this = this;\n\n          this.newValues = {};\n\n          var _loop_1 = function (i) {\n            var fieldName = fieldNames[i];\n            this_1.newValues[fieldName] = newValues[i];\n            Object.defineProperty(this_1, fieldName, {\n              get: function () {\n                return _this.newValues[fieldName];\n              }\n            });\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < fieldNames.length; i++) {\n            _loop_1(i);\n          }\n        };\n\n        return TaskUpdatingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.TaskUpdatingArguments = TaskUpdatingArguments;\n\n      var TaskEditDialogShowingArguments = function (_super) {\n        tslib_1.__extends(TaskEditDialogShowingArguments, _super);\n\n        function TaskEditDialogShowingArguments(params) {\n          var _this = _super.call(this, params.id) || this;\n\n          _this.values = {\n            start: params.start,\n            end: params.end,\n            title: params.title,\n            progress: params.progress\n          };\n          _this.hiddenFields = params.hiddenFields;\n          _this.readOnlyFields = params.readOnlyFields;\n          return _this;\n        }\n\n        return TaskEditDialogShowingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.TaskEditDialogShowingArguments = TaskEditDialogShowingArguments;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.RemoveTaskHistoryItem = exports.CreateTaskHistoryItem = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItem_1 = __webpack_require__(12);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(21);\n\n      var CreateTaskHistoryItem = function (_super) {\n        tslib_1.__extends(CreateTaskHistoryItem, _super);\n\n        function CreateTaskHistoryItem(modelManipulator, start, end, title, progress, parentId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.start = start;\n          _this.end = end;\n          _this.title = title;\n          _this.progress = progress;\n          _this.parentId = parentId;\n          return _this;\n        }\n\n        CreateTaskHistoryItem.prototype.redo = function () {\n          this.taskId = this.modelManipulator.task.create(this.start, this.end, this.title, this.progress, this.parentId, this.taskId ? this.taskId : null).internalId;\n        };\n\n        CreateTaskHistoryItem.prototype.undo = function () {\n          this.modelManipulator.task.remove(this.taskId);\n        };\n\n        return CreateTaskHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.CreateTaskHistoryItem = CreateTaskHistoryItem;\n\n      var RemoveTaskHistoryItem = function (_super) {\n        tslib_1.__extends(RemoveTaskHistoryItem, _super);\n\n        function RemoveTaskHistoryItem(modelManipulator) {\n          var _this = _super.call(this) || this;\n\n          _this.taskIds = [];\n          _this.tasks = [];\n          _this.modelManipulator = modelManipulator;\n          return _this;\n        }\n\n        RemoveTaskHistoryItem.prototype.redo = function () {\n          var _this = this;\n\n          _super.prototype.redo.call(this);\n\n          this.taskIds.forEach(function (id) {\n            _this.tasks.push(_this.modelManipulator.task.remove(id));\n          });\n        };\n\n        RemoveTaskHistoryItem.prototype.undo = function () {\n          var _this = this;\n\n          if (this.tasks.length) {\n            var task_1 = this.tasks.shift();\n            this.modelManipulator.task.create(task_1.start, task_1.end, task_1.title, task_1.progress, task_1.parentId, task_1.internalId, function () {\n              _this.modelManipulator.task.properties.progress.setValue(task_1.internalId, task_1.progress);\n\n              if (task_1.color) _this.modelManipulator.task.properties.color.setValue(task_1.internalId, task_1.color);\n              _this.tasks.length ? _this.undo() : _super.prototype.undo.call(_this);\n            });\n          }\n        };\n\n        RemoveTaskHistoryItem.prototype.undoItemsQuery = function () {\n          while (this.tasks.length) {\n            var task = this.tasks.shift();\n            this.modelManipulator.task.create(task.start, task.end, task.title, task.progress, task.parentId, task.internalId, function () {});\n            this.modelManipulator.task.properties.progress.setValue(task.internalId, task.progress);\n            if (task.color) this.modelManipulator.task.properties.color.setValue(task.internalId, task.color);\n          }\n\n          _super.prototype.undo.call(this);\n        };\n\n        RemoveTaskHistoryItem.prototype.addTask = function (taskId) {\n          this.taskIds.push(taskId);\n        };\n\n        RemoveTaskHistoryItem.prototype.add = function (historyItem) {\n          if (historyItem instanceof TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem) {\n            var item_1 = historyItem;\n            if (!this.historyItems.filter(function (i) {\n              return i instanceof TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem && i.dependencyId == item_1.dependencyId;\n            }).length) this.historyItems.push(item_1);\n          } else _super.prototype.add.call(this, historyItem);\n        };\n\n        return RemoveTaskHistoryItem;\n      }(HistoryItem_1.CompositionHistoryItem);\n\n      exports.RemoveTaskHistoryItem = RemoveTaskHistoryItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ConstraintViolationDialogParameters = exports.ConstraintViolationDialogCommand = exports.ConstraintViolationOption = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DialogBase_1 = __webpack_require__(24);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(21);\n\n      var ConstraintViolationOption;\n\n      (function (ConstraintViolationOption) {\n        ConstraintViolationOption[ConstraintViolationOption[\"DoNothing\"] = 0] = \"DoNothing\";\n        ConstraintViolationOption[ConstraintViolationOption[\"RemoveDependency\"] = 1] = \"RemoveDependency\";\n        ConstraintViolationOption[ConstraintViolationOption[\"KeepDependency\"] = 2] = \"KeepDependency\";\n      })(ConstraintViolationOption = exports.ConstraintViolationOption || (exports.ConstraintViolationOption = {}));\n\n      var ConstraintViolationDialogCommand = function (_super) {\n        tslib_1.__extends(ConstraintViolationDialogCommand, _super);\n\n        function ConstraintViolationDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ConstraintViolationDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          if (newParameters.option === ConstraintViolationOption.DoNothing) return false;\n\n          if (newParameters.option === ConstraintViolationOption.RemoveDependency) {\n            this.history.beginTransaction();\n            this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, oldParameters.validationError.dependencyId));\n            oldParameters.callback();\n            this.history.endTransaction();\n            this.control.barManager.updateItemsState([]);\n          }\n\n          if (newParameters.option === ConstraintViolationOption.KeepDependency) {\n            oldParameters.callback();\n            this.control.barManager.updateItemsState([]);\n          }\n\n          return true;\n        };\n\n        ConstraintViolationDialogCommand.prototype.createParameters = function (options) {\n          var dependency = this.control.viewModel.dependencies.getItemById(options.validationError.dependencyId);\n          var successorTask = this.control.viewModel.tasks.getItemById(dependency.successorId);\n          var predecessorTask = this.control.viewModel.tasks.getItemById(dependency.predecessorId);\n          options.successorTaskTitle = successorTask.title;\n          options.predecessorTaskTitle = predecessorTask.title;\n          return options;\n        };\n\n        ConstraintViolationDialogCommand.prototype.getDialogName = function () {\n          return \"ConstraintViolation\";\n        };\n\n        return ConstraintViolationDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.ConstraintViolationDialogCommand = ConstraintViolationDialogCommand;\n\n      var ConstraintViolationDialogParameters = function (_super) {\n        tslib_1.__extends(ConstraintViolationDialogParameters, _super);\n\n        function ConstraintViolationDialogParameters(validationError, callback) {\n          var _this = _super.call(this) || this;\n\n          _this.validationError = validationError;\n          _this.callback = callback;\n          return _this;\n        }\n\n        ConstraintViolationDialogParameters.prototype.clone = function () {\n          var result = new ConstraintViolationDialogParameters(this.validationError, this.callback);\n          result.option = this.option;\n          return result;\n        };\n\n        return ConstraintViolationDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ConstraintViolationDialogParameters = ConstraintViolationDialogParameters;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GanttView = exports.default = void 0;\n\n      __webpack_require__(53);\n\n      var GanttView_1 = __webpack_require__(54);\n\n      Object.defineProperty(exports, \"default\", {\n        enumerable: true,\n        get: function () {\n          return GanttView_1.GanttView;\n        }\n      });\n      Object.defineProperty(exports, \"GanttView\", {\n        enumerable: true,\n        get: function () {\n          return GanttView_1.GanttView;\n        }\n      });\n      /***/\n    }, function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GanttView = void 0;\n\n      var VisualModel_1 = __webpack_require__(55);\n\n      var Enums_1 = __webpack_require__(14);\n\n      var Utils_1 = __webpack_require__(41);\n\n      var dom_1 = __webpack_require__(3);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var size_1 = __webpack_require__(28);\n\n      var point_1 = __webpack_require__(4);\n\n      var GridElementInfo_1 = __webpack_require__(42);\n\n      var GridLayoutCalculator_1 = __webpack_require__(17);\n\n      var EtalonSizeValues_1 = __webpack_require__(79);\n\n      var TaskEditController_1 = __webpack_require__(44);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var ModelManipulator_1 = __webpack_require__(80);\n\n      var History_1 = __webpack_require__(85);\n\n      var EventManager_1 = __webpack_require__(87);\n\n      var TaskAreaContainer_1 = __webpack_require__(102);\n\n      var Settings_1 = __webpack_require__(43);\n\n      var ModelChangesDispatcher_1 = __webpack_require__(103);\n\n      var CommandManager_1 = __webpack_require__(105);\n\n      var BarManager_1 = __webpack_require__(121);\n\n      var browser_1 = __webpack_require__(5);\n\n      var ValidationController_1 = __webpack_require__(122);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var FullScreenModeHelper_1 = __webpack_require__(123);\n\n      var TaskHistoryItem_1 = __webpack_require__(50);\n\n      var common_1 = __webpack_require__(1);\n\n      var ResourceHistoryItem_1 = __webpack_require__(22);\n\n      var GanttView = function () {\n        function GanttView(element, ganttOwner, settings) {\n          var _this = this;\n\n          this.timeScaleAreas = new Array();\n          this.horTaskAreaBorders = [];\n          this.vertTaskAreaBorders = [];\n          this.scaleBorders = [];\n          this.scaleElements = [];\n          this.taskElements = [];\n          this.resourcesElements = [];\n          this.selectionElements = [];\n          this.hlRowElements = [];\n          this.renderedRowIndices = [];\n          this.renderedColIndices = [];\n          this.renderedScaleItemIndices = [];\n          this.dependencyMap = [];\n          this.renderedConnectorLines = [];\n          this.connectorLinesToElementsMap = {};\n          this.noWorkingIntervalsToElementsMap = {};\n          this.renderedNoWorkingIntervals = [];\n          this.renderedStripLines = [];\n          this.stripLinesMap = [];\n          this.gridLayoutCalculator = new GridLayoutCalculator_1.GridLayoutCalculator();\n          this.etalonSizeValues = new EtalonSizeValues_1.EtalonSizeValues();\n          this.tickSize = new size_1.Size(0, 0);\n          this.scaleCount = 2;\n          this.isFocus = false;\n          this.currentZoom = 1;\n          this.maxZoom = 3;\n          this.stripLinesUpdaterId = null;\n          this.currentSelectedTaskID = \"\";\n          this.ganttOwner = ganttOwner;\n          this.settings = Settings_1.Settings.parse(settings);\n          this.elementTextHelper = new Utils_1.ElementTextHelper(settings.cultureInfo);\n          this.validationController = new ValidationController_1.ValidationController(this);\n          this.createMainElement(element);\n          this.createHeader();\n          this.calculateEtalonSizeValues();\n          this.createTaskAreaContainer();\n          this.loadOptionsFromGanttOwner();\n          this.elementTextHelper.setFont(this.mainElement);\n          this.setupHelpers();\n          this.setSizeForTaskArea();\n          this.createTimeScaleContainer();\n          this.createTimeScaleAreas();\n          this.commandManager = new CommandManager_1.CommandManager(this);\n          this.barManager = new BarManager_1.BarManager(this, ganttOwner.bars);\n          this.eventManager = new EventManager_1.EventManager(this);\n          this.taskEditController = new TaskEditController_1.TaskEditController(this);\n          this.history = new History_1.History();\n          this.taskAreaManager = new TaskAreaManager_1.TaskAreaManager(this);\n          this.fullScreenModeHelper = new FullScreenModeHelper_1.FullScreenModeHelper(this);\n          window.addEventListener(\"resize\", function () {\n            _this.onBrowserWindowResize();\n          });\n          this.updateView();\n          setTimeout(function () {\n            _this.scrollLeftByViewType();\n          }, 0);\n          this.initializeStripLinesUpdater();\n        }\n\n        GanttView.prototype.reset = function () {\n          this.timeScaleContainer.innerHTML = \"\";\n          this.taskArea.innerHTML = \"\";\n          this.horTaskAreaBorders = [];\n          this.vertTaskAreaBorders = [];\n          this.scaleBorders = [];\n          this.scaleElements = [];\n          this.taskElements = [];\n          this.selectionElements = [];\n          this.hlRowElements = [];\n          this.renderedRowIndices = [];\n          this.renderedColIndices = [];\n          this.renderedConnectorLines = [];\n          this.timeScaleAreas = [];\n          this.renderedScaleItemIndices = [];\n          this.connectorLinesToElementsMap = {};\n          this.renderedNoWorkingIntervals = [];\n          this.renderedStripLines = [];\n          this.noWorkingIntervalsToElementsMap = {};\n        };\n\n        GanttView.prototype.setupHelpers = function () {\n          var size = new size_1.Size(this.taskAreaContainer.getWidth(), this.taskAreaContainer.getHeight());\n          var scrollBarHeight = this.taskAreaContainer.getHeight() - this.taskAreaContainer.getElement().clientHeight;\n          this.gridLayoutCalculator.setSettings(size, this.tickSize, this.etalonSizeValues, this.range, this.viewModel, this.settings.viewType, scrollBarHeight);\n          this.elementTextHelper.setSettings(this.range.start.getTime(), this.settings.viewType, this.viewModel.items);\n        };\n\n        GanttView.prototype.getDateRange = function (modelStartDate, modelEndDate) {\n          var start = new Date(modelStartDate.getTime() - this.getVisibleAreaTime());\n          start = Utils_1.DateUtils.adjustStartDateByViewType(start, this.settings.viewType, this.settings.firstDayOfWeek);\n          var end = new Date(modelEndDate.getTime() + this.getVisibleAreaTime());\n          end = Utils_1.DateUtils.adjustEndDateByViewType(end, this.settings.viewType, this.settings.firstDayOfWeek);\n          return new DateRange_1.DateRange(start, end);\n        };\n\n        GanttView.prototype.getVisibleAreaTime = function () {\n          var visibleTickCount = Math.ceil(this.taskAreaContainer.getWidth() / this.tickSize.width);\n          return visibleTickCount * Utils_1.DateUtils.getTickTimeSpan(this.settings.viewType);\n        };\n\n        GanttView.prototype.calculateEtalonSizeValues = function () {\n          var etalonElementsContainer = this.createEtalonElementsContainer();\n          var etalonElements = this.createEtalonElements(etalonElementsContainer);\n          this.calculateEtalonSizeValuesCore(etalonElements);\n          this.mainElement.removeChild(etalonElementsContainer);\n        };\n\n        GanttView.prototype.calculateEtalonSizeValuesCore = function (etalonElements) {\n          this.etalonSizeValues.taskHeight = etalonElements[0].firstChild.offsetHeight;\n          this.etalonSizeValues.milestoneWidth = etalonElements[1].firstChild.offsetWidth;\n          this.etalonSizeValues.taskWrapperTopPadding = dom_1.DomUtils.pxToInt(dom_1.DomUtils.getCurrentStyle(etalonElements[0]).paddingTop);\n          this.etalonSizeValues.connectorLineThickness = dom_1.DomUtils.getVerticalBordersWidth(etalonElements[2]);\n          this.etalonSizeValues.connectorArrowWidth = dom_1.DomUtils.getHorizontalBordersWidth(etalonElements[3]);\n\n          for (var i = 0; i <= Enums_1.ViewType.Years; i++) {\n            etalonElements[4].innerText = this.elementTextHelper.getScaleItemTextTemplate(i);\n            this.etalonSizeValues.scaleItemWidths[i] = etalonElements[4].offsetWidth;\n          }\n\n          this.etalonSizeValues.smallTaskWidth = this.getSmallTaskWidth(dom_1.DomUtils.getCurrentStyle(etalonElements[0].firstChild.firstChild).paddingLeft);\n          this.etalonSizeValues.outsideTaskTextDefaultWidth = dom_1.DomUtils.pxToFloat(dom_1.DomUtils.getCurrentStyle(etalonElements[5]).width);\n          this.etalonSizeValues.scaleItemHeight = this.ganttOwner.getHeaderHeight() / this.scaleCount;\n          this.etalonSizeValues.parentTaskHeight = etalonElements[etalonElements.length - 1].firstChild.offsetHeight;\n        };\n\n        GanttView.prototype.getSmallTaskWidth = function (etalonPaddingLeft) {\n          var result = 0;\n\n          if (etalonPaddingLeft != null && etalonPaddingLeft != \"\") {\n            var indexOfRem = etalonPaddingLeft.indexOf(\"rem\");\n            if (indexOfRem > -1) try {\n              var remSize = parseFloat(etalonPaddingLeft.substr(0, indexOfRem));\n              result = remSize * parseFloat(getComputedStyle(document.documentElement).fontSize);\n            } catch (e) {} else result = dom_1.DomUtils.pxToInt(etalonPaddingLeft);\n          }\n\n          return result * 2;\n        };\n\n        GanttView.prototype.createEtalonElementsContainer = function () {\n          var result = document.createElement(\"DIV\");\n          result.style.visibility = \"hidden\";\n          result.style.position = \"absolute\";\n          result.style.left = \"-1000px\";\n          this.mainElement.appendChild(result);\n          return result;\n        };\n\n        GanttView.prototype.createEtalonElements = function (parent) {\n          var etalonElements = [];\n          var wrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          var task = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task\"), null, wrapper);\n          var taskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, task);\n          taskTitle.innerText = \"WWW\";\n          etalonElements.push(wrapper);\n          var milestoneWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-milestone\"), null, milestoneWrapper);\n          etalonElements.push(milestoneWrapper);\n          var etalonElementClassNames = [\"dx-gantt-conn-h\", \"dx-gantt-arrow\", \"dx-gantt-si\", \"dx-gantt-taskTitle dx-gantt-titleOut\"];\n\n          for (var i = 0; i < etalonElementClassNames.length; i++) {\n            var etalonElementInfo = new GridElementInfo_1.GridElementInfo(etalonElementClassNames[i]);\n            etalonElements.push(this.createElement(etalonElementInfo, null, parent));\n          }\n\n          var parentWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          var parentTask = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-parent\"), null, parentWrapper);\n          var parentTaskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, parentTask);\n          parentTaskTitle.innerText = \"WWW\";\n          etalonElements.push(parentWrapper);\n          return etalonElements;\n        };\n\n        GanttView.prototype.zoomIn = function (leftPos) {\n          if (leftPos === void 0) {\n            leftPos = this.taskAreaContainer.getWidth() / 2;\n          }\n\n          var targetDate = this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft + leftPos);\n\n          if (this.currentZoom < this.maxZoom) {\n            this.currentZoom++;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          } else if (this.settings.viewType > Enums_1.ViewType.TenMinutes) {\n            this.currentZoom = 1;\n            this.setViewType(this.settings.viewType - 1, false);\n          }\n\n          this.scrollToDate(targetDate, leftPos);\n        };\n\n        GanttView.prototype.zoomOut = function (leftPos) {\n          if (leftPos === void 0) {\n            leftPos = this.taskAreaContainer.getWidth() / 2;\n          }\n\n          var targetDate = this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft + leftPos);\n\n          if (this.currentZoom > 1) {\n            this.currentZoom--;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          } else if (this.settings.viewType < Enums_1.ViewType.Years) {\n            this.currentZoom = this.maxZoom;\n            this.setViewType(this.settings.viewType + 1, false);\n          }\n\n          this.scrollToDate(targetDate, leftPos);\n        };\n\n        GanttView.prototype.scrollToDate = function (date, leftPos) {\n          this.taskAreaContainer.scrollLeft = Math.round(this.gridLayoutCalculator.getPosByDate(date)) - leftPos;\n        };\n\n        GanttView.prototype.scrollLeftByViewType = function () {\n          var adjustedStartDate = Utils_1.DateUtils.roundStartDate(this.dataRange.start, this.settings.viewType);\n          this.taskAreaContainer.scrollLeft = Math.round(this.gridLayoutCalculator.getPosByDate(adjustedStartDate)) + 1;\n        };\n\n        GanttView.prototype.onVisualModelChanged = function () {\n          this.resetAndUpdate();\n        };\n\n        GanttView.prototype.initializeStripLinesUpdater = function () {\n          var _this = this;\n\n          if (this.settings.stripLines.showCurrentTime) this.stripLinesUpdaterId = setInterval(function () {\n            if (_this.recreateStripLines) _this.recreateStripLines();\n          }, Math.max(this.settings.stripLines.currentTimeUpdateInterval, 100));\n        };\n\n        GanttView.prototype.clearStripLinesUpdater = function () {\n          if (this.stripLinesUpdaterId) clearInterval(this.stripLinesUpdaterId);\n          this.stripLinesUpdaterId = null;\n        };\n\n        GanttView.prototype.getGanttViewStartDate = function (tasks) {\n          if (!tasks) return new Date();\n          var dates = tasks.map(function (t) {\n            return typeof t.start === \"string\" ? new Date(t.start) : t.start;\n          }).filter(function (d) {\n            return common_1.isDefined(d);\n          });\n          return dates.length > 0 ? dates.reduce(function (min, d) {\n            return d < min ? d : min;\n          }, dates[0]) : new Date();\n        };\n\n        GanttView.prototype.getGanttViewEndDate = function (tasks) {\n          if (!tasks) return new Date();\n          var dates = tasks.map(function (t) {\n            return typeof t.end === \"string\" ? new Date(t.end) : t.end;\n          }).filter(function (d) {\n            return common_1.isDefined(d);\n          });\n          return dates.length > 0 ? dates.reduce(function (max, d) {\n            return d > max ? d : max;\n          }, dates[0]) : new Date();\n        };\n\n        GanttView.prototype.getTaskAreaWidth = function () {\n          return this.gridLayoutCalculator.horizontalTickCount * this.tickSize.width;\n        };\n\n        GanttView.prototype.getTaskAreaHeight = function () {\n          return this.gridLayoutCalculator.getVerticalGridLineHeight();\n        };\n\n        GanttView.prototype.getVisibleTaskCount = function () {\n          return this.viewModel.itemCount;\n        };\n\n        GanttView.prototype.getTask = function (index) {\n          var item = this.viewModel.items[index];\n          return item.task;\n        };\n\n        GanttView.prototype.createMainElement = function (parent) {\n          this.mainElement = document.createElement(\"DIV\");\n          this.mainElement.style.width = parent.offsetWidth + \"px\";\n          this.mainElement.style.height = parent.offsetHeight + \"px\";\n          parent.appendChild(this.mainElement);\n        };\n\n        GanttView.prototype.createHeader = function () {\n          this.header = document.createElement(\"DIV\");\n          this.header.className = \"dx-gantt-header\";\n          this.mainElement.appendChild(this.header);\n        };\n\n        GanttView.prototype.createTimeScaleContainer = function () {\n          this.timeScaleContainer = document.createElement(\"DIV\");\n          this.timeScaleContainer.className = \"dx-gantt-tsac\";\n          this.timeScaleContainer.style.height = this.etalonSizeValues.scaleItemHeight * this.scaleCount + \"px\";\n          this.header.appendChild(this.timeScaleContainer);\n        };\n\n        GanttView.prototype.createTimeScaleArea = function () {\n          var timeScaleArea = document.createElement(\"DIV\");\n          timeScaleArea.className = \"dx-gantt-tsa\";\n          timeScaleArea.style.width = this.getTaskAreaWidth() + \"px\";\n          timeScaleArea.style.height = this.etalonSizeValues.scaleItemHeight + \"px\";\n          this.timeScaleContainer.appendChild(timeScaleArea);\n          this.timeScaleAreas.unshift(timeScaleArea);\n          return timeScaleArea;\n        };\n\n        GanttView.prototype.createTimeScaleAreas = function () {\n          for (var i = 0; i < this.scaleCount; i++) {\n            var timeScaleArea = this.createTimeScaleArea();\n            if (i == 0 && this.settings.viewType == Enums_1.ViewType.Weeks) this.createMonthsScale(timeScaleArea);\n          }\n        };\n\n        GanttView.prototype.createTaskAreaContainer = function () {\n          var element = document.createElement(\"DIV\");\n          element.className = \"dx-gantt-tac\";\n          this.mainElement.appendChild(element);\n          this.createTaskArea(element);\n          this.taskAreaContainer = this.ganttOwner.getExternalTaskAreaContainer(element);\n          if (this.taskAreaContainer == null) this.taskAreaContainer = new TaskAreaContainer_1.TaskAreaContainer(element, this);\n          this.prepareTaskAreaContainer();\n        };\n\n        GanttView.prototype.prepareTaskAreaContainer = function () {\n          var className = \"dx-gantt-tac-hb\";\n          var element = this.taskAreaContainer.getElement();\n          this.settings.areHorizontalBordersEnabled ? dom_1.DomUtils.addClassName(element, className) : dom_1.DomUtils.removeClassName(element, className);\n          var marginTop = parseInt(getComputedStyle(element).getPropertyValue(\"margin-top\")) || 0;\n          element.style.height = \"calc(100% - \" + (this.etalonSizeValues.scaleItemHeight * this.scaleCount + marginTop) + \"px)\";\n        };\n\n        GanttView.prototype.createTaskArea = function (parent) {\n          this.taskArea = document.createElement(\"DIV\");\n          this.taskArea.id = \"dx-gantt-ta\";\n          parent.appendChild(this.taskArea);\n        };\n\n        GanttView.prototype.setSizeForTaskArea = function () {\n          this.taskArea.style.width = this.getTaskAreaWidth() + \"px\";\n          this.taskArea.style.height = this.getTaskAreaHeight() + \"px\";\n        };\n\n        GanttView.prototype.updateTickSizeWidth = function () {\n          this.tickSize.width = this.etalonSizeValues.scaleItemWidths[this.settings.viewType] * this.currentZoom;\n        };\n\n        GanttView.prototype.createMonthsScale = function (parent) {\n          var currentDate = new Date();\n          currentDate.setTime(this.range.start.getTime());\n          var x = 0;\n          var index = 0;\n\n          while (currentDate.getTime() < this.range.end.getTime()) {\n            var dayInMonthCount = Utils_1.DateUtils.getDaysInMonth(currentDate.getMonth(), currentDate.getFullYear());\n            var dayCount = dayInMonthCount - currentDate.getDate() + 1;\n            var nextDate = new Date();\n            nextDate.setTime(currentDate.getTime() + Math.min(dayCount * Utils_1.DateUtils.msPerDay, this.range.end.getTime() - currentDate.getTime()));\n            var width = this.gridLayoutCalculator.getWidthByDateRange(currentDate, nextDate);\n            var scaleItemInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-si\", new point_1.Point(x, undefined), new size_1.Size(width, this.etalonSizeValues.scaleItemHeight));\n            var scaleItemElement = this.createElement(scaleItemInfo, null, parent);\n            scaleItemElement.innerText = this.elementTextHelper.getScaleItemText(index, Enums_1.ViewType.Months);\n            scaleItemElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\n            var scaleBorderInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-vb\", new point_1.Point(x + width, undefined), new size_1.Size(0, this.etalonSizeValues.scaleItemHeight));\n            this.createElement(scaleBorderInfo, null, parent);\n            x += width;\n            index++;\n            currentDate = nextDate;\n          }\n        };\n\n        GanttView.prototype.updateView = function () {\n          this.timeScaleContainer.scrollLeft = this.taskAreaContainer.scrollLeft;\n          this.processScroll(false);\n          this.processScroll(true);\n          this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop);\n        };\n\n        GanttView.prototype.processScroll = function (isVertical) {\n          this.taskEditController.tooltip.hide();\n          this.recreateTaskAreaBordersAndTaskElements(isVertical);\n          if (isVertical) this.recreateConnectorLineElements();else {\n            this.recreateNoWorkingIntervalElements();\n            this.recreateStripLines();\n            this.recreateScalesElements();\n          }\n        };\n\n        GanttView.prototype.recreateTaskAreaBordersAndTaskElements = function (isVertical) {\n          var _this = this;\n\n          var scrollPos = isVertical ? this.taskAreaContainer.scrollTop : this.taskAreaContainer.scrollLeft;\n          var newRenderedIndices = this.gridLayoutCalculator.getRenderedRowColumnIndices(scrollPos, isVertical);\n          var renderedIndices = isVertical ? this.renderedRowIndices : this.renderedColIndices;\n          this.recreateElements(renderedIndices, newRenderedIndices, function (index) {\n            _this.removeTaskAreaBorderAndTaskElement(index, isVertical);\n          }, function (index) {\n            _this.createTaskAreaBorderAndTaskElement(index, isVertical);\n          });\n          if (isVertical) this.renderedRowIndices = newRenderedIndices;else this.renderedColIndices = newRenderedIndices;\n        };\n\n        GanttView.prototype.recreateNoWorkingIntervalElements = function () {\n          var _this = this;\n\n          var newRenderedNoWorkingIntervals = this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);\n          this.recreateElements(this.renderedNoWorkingIntervals, newRenderedNoWorkingIntervals, function (info) {\n            _this.removeNoWorkingIntervalElement(info);\n          }, function (info) {\n            _this.createNoWorkingIntervalElement(info);\n          });\n          this.renderedNoWorkingIntervals = newRenderedNoWorkingIntervals;\n        };\n\n        GanttView.prototype.recreateStripLines = function () {\n          var _this = this;\n\n          var newRenderedStripLines = this.gridLayoutCalculator.getRenderedStripLines(this.settings.stripLines);\n          this.recreateElements(this.renderedStripLines, newRenderedStripLines, function (info) {\n            _this.removeElement(info, null, _this.taskArea, _this.stripLinesMap);\n          }, function (info) {\n            return _this.createElement(info, null, _this.taskArea, _this.stripLinesMap);\n          });\n          this.renderedStripLines = newRenderedStripLines;\n        };\n\n        GanttView.prototype.recreateConnectorLineElements = function () {\n          var _this = this;\n\n          var newRenderedConnectorLines = this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);\n          this.recreateElements(this.renderedConnectorLines, newRenderedConnectorLines, function (info) {\n            _this.removeConnectorLineElement(info);\n          }, function (info) {\n            _this.createConnectorLineElement(info);\n          });\n          this.renderedConnectorLines = newRenderedConnectorLines;\n        };\n\n        GanttView.prototype.recreateScalesElements = function () {\n          this.recreateScaleElements(this.settings.viewType, 0);\n          if (this.settings.viewType != Enums_1.ViewType.Weeks) this.recreateScaleElements(Utils_1.DateUtils.ViewTypeToScaleMap[this.settings.viewType], 1);\n        };\n\n        GanttView.prototype.recreateScaleElements = function (scaleType, scaleIndex) {\n          var _this = this;\n\n          var newRenderedIndices = this.gridLayoutCalculator.getRenderedScaleItemIndices(scaleType, this.renderedColIndices);\n          var renderedIndices = this.renderedScaleItemIndices[scaleType - this.settings.viewType] || [];\n          this.recreateElements(renderedIndices, newRenderedIndices, function (index) {\n            _this.removeScaleElementAndBorder(index, scaleIndex);\n          }, function (index) {\n            _this.createScaleElementAndBorder(index, scaleIndex, scaleType);\n          });\n          this.renderedScaleItemIndices[scaleType - this.settings.viewType] = newRenderedIndices;\n        };\n\n        GanttView.prototype.recreateElements = function (oldRenderedElementsInfo, newRenderedelementsInfo, removeAction, createAction) {\n          oldRenderedElementsInfo.filter(function (info) {\n            return newRenderedelementsInfo.indexOf(info) === -1;\n          }).forEach(function (info) {\n            removeAction(info);\n          });\n          newRenderedelementsInfo.filter(function (info) {\n            return oldRenderedElementsInfo.indexOf(info) === -1;\n          }).forEach(function (info) {\n            createAction(info);\n          });\n        };\n\n        GanttView.prototype.recreateTaskElement = function (index) {\n          var _this = this;\n\n          var isVisible = this.renderedRowIndices.filter(function (r) {\n            return r === index;\n          }).length > 0;\n          var viewItem = this.viewModel.items[index];\n          var task = viewItem && viewItem.task;\n          if (!task) return;\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == task.id || d.successorId == task.id;\n          });\n          if (dependencies.length) dependencies.forEach(function (d) {\n            return _this.recreateConnectorLineElement(d.internalId);\n          });\n\n          if (isVisible) {\n            this.removeTaskElement(index);\n            this.createTaskElement(index);\n          }\n        };\n\n        GanttView.prototype.recreateConnectorLineElement = function (dependencyId, forceRender) {\n          var _this = this;\n\n          if (forceRender === void 0) {\n            forceRender = false;\n          }\n\n          var infos = [];\n          this.renderedConnectorLines = this.renderedConnectorLines.filter(function (info) {\n            if (info.attr[\"dependency-id\"] != dependencyId) return true;\n            infos.push(info);\n            return false;\n          });\n          var isRendered = infos.length > 0;\n          infos.forEach(function (info) {\n            _this.removeConnectorLineElement(info);\n          });\n          infos = this.gridLayoutCalculator.updateTileToConnectorLinesMap(dependencyId);\n          if (isRendered || forceRender) infos.forEach(function (info) {\n            _this.createConnectorLineElement(info);\n\n            _this.renderedConnectorLines.push(info);\n          });\n        };\n\n        GanttView.prototype.allowTaskAreaBorders = function (isVerticalScroll) {\n          return isVerticalScroll ? this.settings.areHorizontalBordersEnabled : this.settings.areVerticalBordersEnabled;\n        };\n\n        GanttView.prototype.createTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\n          if (this.allowTaskAreaBorders(isVerticalScroll)) this.createTaskAreaBorder(index, !isVerticalScroll);\n          if (isVerticalScroll) this.createTaskElement(index);\n        };\n\n        GanttView.prototype.removeTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\n          if (this.allowTaskAreaBorders(isVerticalScroll)) this.removeTaskAreaBorder(index, !isVerticalScroll);\n          if (isVerticalScroll) this.removeTaskElement(index);\n        };\n\n        GanttView.prototype.getTaskAreaBordersDictionary = function (isVertical) {\n          return isVertical ? this.vertTaskAreaBorders : this.horTaskAreaBorders;\n        };\n\n        GanttView.prototype.createTaskAreaBorder = function (index, isVertical) {\n          var info = this.gridLayoutCalculator.getTaskAreaBorderInfo(index, isVertical);\n          this.createElement(info, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\n        };\n\n        GanttView.prototype.removeTaskAreaBorder = function (index, isVertical) {\n          this.removeElement(null, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\n        };\n\n        GanttView.prototype.createScaleElementAndBorder = function (index, scaleIndex, scaleType) {\n          this.createScaleElement(index, scaleIndex, scaleType);\n          this.createScaleBorder(index, scaleIndex, scaleType);\n        };\n\n        GanttView.prototype.createScaleElement = function (index, scaleIndex, scaleType) {\n          var info = this.gridLayoutCalculator.getScaleElementInfo(index, scaleType);\n          var scaleElement = this.createScaleElementCore(index, info, scaleIndex, this.scaleElements);\n          scaleElement.innerText = this.elementTextHelper.getScaleItemText(index, scaleType);\n          scaleElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\n          if (scaleType === Enums_1.ViewType.Quarter) scaleElement.style.padding = \"0\";\n        };\n\n        GanttView.prototype.createScaleBorder = function (index, scaleIndex, scaleType) {\n          var info = this.gridLayoutCalculator.getScaleBorderInfo(index, scaleType);\n          this.createScaleElementCore(index, info, scaleIndex, this.scaleBorders);\n        };\n\n        GanttView.prototype.createScaleElementCore = function (index, info, scaleIndex, dictionary) {\n          if (!dictionary[scaleIndex]) dictionary[scaleIndex] = [];\n          return this.createElement(info, index, this.timeScaleAreas[scaleIndex], dictionary[scaleIndex]);\n        };\n\n        GanttView.prototype.removeScaleElementAndBorder = function (index, scaleIndex) {\n          this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleElements[scaleIndex]);\n          this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleBorders[scaleIndex]);\n        };\n\n        GanttView.prototype.createTaskElement = function (index) {\n          this.createTaskWrapperElement(index);\n          if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Outside) this.createTaskTextElement(index, this.taskElements[index]);\n          var taskVisualElement = this.createTaskVisualElement(index);\n\n          if (!this.viewModel.items[index].task.isMilestone()) {\n            if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside) this.createTaskTextElement(index, taskVisualElement);\n            this.createTaskProgressElement(index, taskVisualElement);\n          }\n\n          if (this.settings.showResources) {\n            this.createResourcesWrapperElement(index);\n            this.createResources(index);\n          }\n\n          if (this.viewModel.items[index].selected) this.createTaskSelectionElement(index);\n          if (this.isHighlightRowElementAllowed(index)) this.createHighlightRowElement(index);\n        };\n\n        GanttView.prototype.isHighlightRowElementAllowed = function (index) {\n          return index % 2 !== 0 && this.settings.areAlternateRowsEnabled || this.viewModel.items[index].children.length > 0;\n        };\n\n        GanttView.prototype.createResourcesWrapperElement = function (index) {\n          var resourcesWrapperElementInfo = this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(index);\n          this.createElement(resourcesWrapperElementInfo, index, this.taskArea, this.resourcesElements);\n          this.resourcesElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\n        };\n\n        GanttView.prototype.createResources = function (index) {\n          var resources = this.viewModel.items[index].resources.items;\n\n          for (var i = 0; i < resources.length; i++) this.createResourceElement(index, resources[i]);\n        };\n\n        GanttView.prototype.createTaskWrapperElement = function (index) {\n          var taskWrapperInfo = this.gridLayoutCalculator.getTaskWrapperElementInfo(index);\n          this.createElement(taskWrapperInfo, index, this.taskArea, this.taskElements);\n          this.taskElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\n        };\n\n        GanttView.prototype.createTaskVisualElement = function (index) {\n          var taskElementInfo = this.gridLayoutCalculator.getTaskElementInfo(index, this.settings.taskTitlePosition !== Enums_1.TaskTitlePosition.Inside);\n          var taskElement = this.createElement(taskElementInfo, index, this.taskElements[index]);\n          this.taskAreaManager.attachEventsOnTask(taskElement);\n          return taskElement;\n        };\n\n        GanttView.prototype.createTaskProgressElement = function (index, parent) {\n          var taskProgressInfo = this.gridLayoutCalculator.getTaskProgressElementInfo(index);\n          this.createElement(taskProgressInfo, index, parent);\n        };\n\n        GanttView.prototype.createTaskTextElement = function (index, parent) {\n          var taskTextInfo = this.gridLayoutCalculator.getTaskTextElementInfo(index, this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside);\n          var taskTextElement = this.createElement(taskTextInfo, index, parent);\n          taskTextElement.innerText = this.elementTextHelper.getTaskText(index);\n\n          if (!taskTextElement.innerText) {\n            taskTextElement.innerText = \"WWW\";\n            var height = getComputedStyle(taskTextElement).height;\n            taskTextElement.innerText = \"\";\n            taskTextElement.style.height = height;\n          }\n        };\n\n        GanttView.prototype.createResourceElement = function (index, resource) {\n          var resourceElementInfo = this.gridLayoutCalculator.getTaskResourceElementInfo();\n          if (resource.color) resourceElementInfo.style.backgroundColor = resource.color;\n          var resElement = this.createElement(resourceElementInfo, index, this.resourcesElements[index]);\n          resElement.innerText = resource.text;\n        };\n\n        GanttView.prototype.createTaskSelectionElement = function (index) {\n          var selectionInfo = this.gridLayoutCalculator.getSelectionElementInfo(index);\n          if (this.taskAreaContainer.isExternal && !this.settings.areHorizontalBordersEnabled) selectionInfo.size.height++;\n          this.createElement(selectionInfo, index, this.taskArea, this.selectionElements);\n        };\n\n        GanttView.prototype.createHighlightRowElement = function (index) {\n          var hlRowInfo = this.gridLayoutCalculator.getHighlightRowInfo(index);\n          this.createElement(hlRowInfo, index, this.taskArea, this.hlRowElements);\n        };\n\n        GanttView.prototype.removeTaskElement = function (index) {\n          this.removeElement(null, index, this.taskArea, this.taskElements);\n          this.removeElement(null, index, this.taskArea, this.resourcesElements);\n          this.removeElement(null, index, this.taskArea, this.selectionElements);\n          if (this.isHighlightRowElementAllowed(index)) this.removeElement(null, index, this.taskArea, this.hlRowElements);\n        };\n\n        GanttView.prototype.createConnectorLineElement = function (info) {\n          var dependencyId = info.attr[\"dependency-id\"];\n          if (this.taskEditController.isDependencySelected(dependencyId)) info.className = info.className + \" active\";\n          return this.createElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\n        };\n\n        GanttView.prototype.removeConnectorLineElement = function (info) {\n          this.removeElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\n        };\n\n        GanttView.prototype.createNoWorkingIntervalElement = function (info) {\n          return this.createElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\n        };\n\n        GanttView.prototype.removeNoWorkingIntervalElement = function (info) {\n          this.removeElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\n        };\n\n        GanttView.prototype.createElement = function (info, index, parent, dictionary) {\n          var element = document.createElement(\"DIV\");\n          info.assignToElement(element);\n          parent.appendChild(element);\n          if (dictionary) if (dictionary instanceof Array && index !== null) dictionary[index] = element;else dictionary[info.id] = element;\n\n          for (var key in info.attr) if (info.attr.hasOwnProperty(key)) element.setAttribute(key, info.attr[key]);\n\n          for (var key in info.style) if (info.style.hasOwnProperty(key)) element.style[key] = info.style[key];\n\n          return element;\n        };\n\n        GanttView.prototype.removeElement = function (info, index, parent, dictionary) {\n          var element;\n\n          if (dictionary instanceof Array && index !== null) {\n            element = dictionary[index];\n            delete dictionary[index];\n          } else {\n            element = dictionary[info.id];\n            delete dictionary[info.id];\n          }\n\n          if (element && element.parentNode == parent) parent.removeChild(element);\n        };\n\n        GanttView.prototype.calculateAutoViewType = function (startDate, endDate) {\n          var diffInHours = (endDate.getTime() - startDate.getTime()) / (1000 * 3600);\n          if (diffInHours > 24 * 365) return Enums_1.ViewType.Years;\n          if (diffInHours > 24 * 30) return Enums_1.ViewType.Months;\n          if (diffInHours > 24 * 7) return Enums_1.ViewType.Weeks;\n          if (diffInHours > 24) return Enums_1.ViewType.Days;\n          if (diffInHours > 6) return Enums_1.ViewType.SixHours;\n          if (diffInHours > 1) return Enums_1.ViewType.Hours;\n          return Enums_1.ViewType.TenMinutes;\n        };\n\n        GanttView.prototype.changeTaskExpanded = function (publicId, expanded) {\n          var task = this.getTaskByPublicId(publicId);\n          if (task) this.viewModel.changeTaskExpanded(task.internalId, expanded);\n        };\n\n        GanttView.prototype.expandTask = function (id) {\n          this.viewModel.changeTaskExpanded(id, true);\n        };\n\n        GanttView.prototype.collapseTask = function (id) {\n          this.viewModel.changeTaskExpanded(id, false);\n        };\n\n        GanttView.prototype.showTask = function (id) {\n          this.viewModel.changeTaskVisibility(id, true);\n        };\n\n        GanttView.prototype.hideTask = function (id) {\n          this.viewModel.changeTaskVisibility(id, false);\n        };\n\n        GanttView.prototype.getTaskVisibility = function (id) {\n          return this.viewModel.getTaskVisibility(id);\n        };\n\n        GanttView.prototype.unselectCurrentSelectedTask = function () {\n          this.unselectTask(this.currentSelectedTaskID);\n        };\n\n        GanttView.prototype.getTaskSelected = function (id) {\n          return this.viewModel.getTaskSelected(id);\n        };\n\n        GanttView.prototype.setViewType = function (viewType, autoPositioning) {\n          if (autoPositioning === void 0) {\n            autoPositioning = true;\n          }\n\n          if (viewType == undefined) viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\n\n          if (this.settings.viewType !== viewType) {\n            this.settings.viewType = viewType;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n            if (autoPositioning) this.scrollLeftByViewType();\n            if (this.ganttOwner.UpdateGanttViewType) this.ganttOwner.UpdateGanttViewType(viewType);\n          }\n        };\n\n        GanttView.prototype.setTaskTitlePosition = function (taskTitlePosition) {\n          if (this.settings.taskTitlePosition !== taskTitlePosition) {\n            this.settings.taskTitlePosition = taskTitlePosition;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.setShowResources = function (showResources) {\n          if (this.settings.showResources !== showResources) {\n            this.settings.showResources = showResources;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.setFirstDayOfWeek = function (firstDayOfWeek) {\n          if (this.settings.firstDayOfWeek !== firstDayOfWeek) {\n            this.settings.firstDayOfWeek = firstDayOfWeek;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.loadOptionsFromGanttOwner = function () {\n          this.tickSize.height = this.ganttOwner.getRowHeight();\n          var tasksData = this.ganttOwner.getGanttTasksData();\n          this.dataRange = new DateRange_1.DateRange(this.getGanttViewStartDate(tasksData), this.getGanttViewEndDate(tasksData));\n          if (this.settings.viewType == undefined) this.settings.viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\n          this.updateTickSizeWidth();\n          this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\n          this.dispatcher = new ModelChangesDispatcher_1.ModelChangesDispatcher();\n          var modelChangesListener = this.ganttOwner.getModelChangesListener();\n          if (modelChangesListener) this.dispatcher.onModelChanged.add(modelChangesListener);\n          this.viewModel = new VisualModel_1.ViewVisualModel(this, tasksData, this.ganttOwner.getGanttDependenciesData(), this.ganttOwner.getGanttResourcesData(), this.ganttOwner.getGanttResourceAssignmentsData(), this.range, this.ganttOwner.getGanttWorkTimeRules());\n          this.modelManipulator = new ModelManipulator_1.ModelManipulator(this.viewModel, this.dispatcher);\n        };\n\n        GanttView.prototype.resetAndUpdate = function () {\n          this.reset();\n          this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\n          this.viewModel.updateRange(this.range);\n          this.setupHelpers();\n          this.createTimeScaleAreas();\n          this.setSizeForTaskArea();\n          if (browser_1.Browser.IE) this.taskEditController.createElements();\n          this.updateView();\n        };\n\n        GanttView.prototype.updateRowHeights = function (height) {\n          if (this.tickSize.height !== height) {\n            this.tickSize.height = height;\n            var leftPosition = this.taskAreaContainer.scrollLeft;\n            this.resetAndUpdate();\n            this.taskAreaContainer.scrollLeft = leftPosition;\n          }\n        };\n\n        GanttView.prototype.selectTask = function (id) {\n          this.selectDependency(null);\n          this.viewModel.changeTaskSelected(id, true);\n          this.currentSelectedTaskID = id;\n          this.updateBarManager();\n        };\n\n        GanttView.prototype.unselectTask = function (id) {\n          this.viewModel.changeTaskSelected(id, false);\n          this.updateBarManager();\n        };\n\n        GanttView.prototype.selectTaskById = function (publicId) {\n          this.unselectCurrentSelectedTask();\n          var task = this.getTaskByPublicId(publicId);\n          if (task) this.selectTask(task.internalId);\n        };\n\n        GanttView.prototype.selectDependency = function (id) {\n          this.taskEditController.selectDependency(id);\n          this.gridLayoutCalculator.createTileToConnectorLinesMap();\n          this.recreateConnectorLineElements();\n        };\n\n        GanttView.prototype.getTaskAreaContainer = function () {\n          return this.taskAreaContainer;\n        };\n\n        GanttView.prototype.setWidth = function (value) {\n          this.mainElement.style.width = value + \"px\";\n        };\n\n        GanttView.prototype.setHeight = function (value) {\n          this.mainElement.style.height = value + \"px\";\n        };\n\n        GanttView.prototype.setAllowSelection = function (value) {\n          this.settings.allowSelectTask = value;\n        };\n\n        GanttView.prototype.setEditingSettings = function (value) {\n          this.settings.editing = value;\n          this.updateBarManager();\n        };\n\n        GanttView.prototype.setValidationSettings = function (value) {\n          this.settings.validation = value;\n        };\n\n        GanttView.prototype.setRowLinesVisible = function (value) {\n          this.settings.areHorizontalBordersEnabled = value;\n          this.prepareTaskAreaContainer();\n          this.resetAndUpdate();\n        };\n\n        GanttView.prototype.setStripLines = function (stripLines) {\n          this.settings.stripLines = Settings_1.StripLineSettings.parse(stripLines);\n          this.clearStripLinesUpdater();\n          this.initializeStripLinesUpdater();\n          this.recreateStripLines();\n        };\n\n        GanttView.prototype.deleteTask = function (key) {\n          var task = this.getTaskByPublicId(key.toString());\n          if (task) this.commandManager.removeTaskCommand.execute(task.internalId);\n        };\n\n        GanttView.prototype.insertTask = function (data) {\n          if (data) {\n            var parentId = data.parentId != null ? String(data.parentId) : null;\n            var parent_1 = this.getTaskByPublicId(parentId);\n            var title = data.title ? String(data.title) : \"\";\n            var start = typeof data.start === \"string\" ? new Date(data.start) : data.start;\n            var end = typeof data.end === \"string\" ? new Date(data.end) : data.end;\n            var progress = common_1.isDefined(data.progress) ? parseInt(data.progress) : 0;\n            if (this.commandManager.createTaskCommand.execute(start, end, title, progress, parent_1 && parent_1.internalId)) return this.getLastInsertedTaskId();\n          }\n\n          return \"\";\n        };\n\n        GanttView.prototype.updateTask = function (key, data) {\n          var task = this.getTaskByPublicId(key.toString());\n          if (task && data) this.commandManager.updateTaskCommand.execute(task.internalId, data);\n        };\n\n        GanttView.prototype.getTaskData = function (key) {\n          var task = this.getTaskByPublicId(key.toString());\n          if (task) return this.viewModel.getTaskObjectForDataSource(task);\n        };\n\n        GanttView.prototype.insertDependency = function (data) {\n          if (data) {\n            var predecessorId = String(data.predecessorId);\n            var successorId = String(data.successorId);\n            var type = data.type;\n            this.commandManager.createDependencyCommand.execute(predecessorId, successorId, type);\n          }\n        };\n\n        GanttView.prototype.deleteDependency = function (key) {\n          var internalKey = this.viewModel.convertPublicToInternalKey(\"dependency\", key);\n          if (common_1.isDefined(internalKey)) this.commandManager.removeDependencyCommand.execute(internalKey);\n        };\n\n        GanttView.prototype.getDependencyData = function (key) {\n          return this.viewModel.getDependencyObjectForDataSource(key);\n        };\n\n        GanttView.prototype.insertResource = function (data, taskKeys) {\n          var _this = this;\n\n          if (data) {\n            var callback = function (id) {\n              if (common_1.isDefined(taskKeys)) for (var i = 0; i < taskKeys.length; i++) _this.assignResourceToTask(id, taskKeys[i]);\n            };\n\n            this.commandManager.createResourceCommand.execute(String(data.text), data.color && String(data.color), callback);\n          }\n        };\n\n        GanttView.prototype.deleteResource = function (key) {\n          var internalKey = this.viewModel.convertPublicToInternalKey(\"resource\", key);\n          if (common_1.isDefined(internalKey)) this.commandManager.removeResourceCommand.execute(internalKey);\n        };\n\n        GanttView.prototype.assignResourceToTask = function (resourceKey, taskKey) {\n          var resourceInternalKey = this.viewModel.convertPublicToInternalKey(\"resource\", resourceKey);\n          var taskInternalKey = this.viewModel.convertPublicToInternalKey(\"task\", taskKey);\n          if (common_1.isDefined(resourceInternalKey) && common_1.isDefined(taskInternalKey)) this.commandManager.assignResourceCommand.execute(resourceInternalKey, taskInternalKey);\n        };\n\n        GanttView.prototype.unassignResourceFromTask = function (resourceKey, taskKey) {\n          var assignment = this.viewModel.findAssignment(resourceKey, taskKey);\n          if (assignment) this.commandManager.deassignResourceCommand.execute(assignment.internalId);\n        };\n\n        GanttView.prototype.getResourceData = function (key) {\n          return this.viewModel.getResourceObjectForDataSource(key);\n        };\n\n        GanttView.prototype.getResourceAssignmentData = function (key) {\n          return this.viewModel.getResourceAssignmentObjectForDataSource(key);\n        };\n\n        GanttView.prototype.getTaskResources = function (key) {\n          var model = this.viewModel;\n          var task = model.getItemByPublicId(\"task\", key);\n          return task && model.getAssignedResources(task).items;\n        };\n\n        GanttView.prototype.getVisibleTaskKeys = function () {\n          return this.viewModel.getVisibleTasks().map(function (t) {\n            return t.id;\n          });\n        };\n\n        GanttView.prototype.getVisibleDependencyKeys = function () {\n          return this.viewModel.getVisibleDependencies().map(function (d) {\n            return d.id;\n          });\n        };\n\n        GanttView.prototype.getVisibleResourceKeys = function () {\n          return this.viewModel.getVisibleResources().map(function (r) {\n            return r.id;\n          });\n        };\n\n        GanttView.prototype.getVisibleResourceAssignmentKeys = function () {\n          return this.viewModel.getVisibleResourceAssignments().map(function (a) {\n            return a.id;\n          });\n        };\n\n        GanttView.prototype.setTaskValue = function (id, fieldName, newValue) {\n          var manager = this.commandManager;\n          var task = this.getTaskByPublicId(id);\n\n          if (task) {\n            if (fieldName === \"title\") {\n              var checkedNewValue = newValue ? newValue : \"\";\n              return manager.changeTaskTitleCommand.execute(task.internalId, checkedNewValue);\n            }\n\n            if (fieldName === \"progress\") {\n              var newProgress = Math.max(newValue, 0);\n              newProgress = Math.min(newValue, 100);\n              return manager.changeTaskProgressCommand.execute(task.internalId, newProgress);\n            }\n\n            if (fieldName === \"start\") return manager.changeTaskStartCommand.execute(task.internalId, DateTimeUtils_1.DateTimeUtils.getMinDate(newValue, task.end));\n            if (fieldName === \"end\") return manager.changeTaskEndCommand.execute(task.internalId, DateTimeUtils_1.DateTimeUtils.getMaxDate(newValue, task.start));\n          }\n\n          return false;\n        };\n\n        GanttView.prototype.getLastInsertedTaskId = function () {\n          var createTaskItems = this.history.historyItems.filter(function (i) {\n            return i instanceof TaskHistoryItem_1.CreateTaskHistoryItem;\n          });\n          var lastItem = createTaskItems[createTaskItems.length - 1];\n          return lastItem && lastItem.taskId;\n        };\n\n        GanttView.prototype.getLastInsertedResource = function () {\n          var createTaskItems = this.history.historyItems.filter(function (i) {\n            return i instanceof ResourceHistoryItem_1.CreateResourceHistoryItem;\n          });\n          var lastItem = createTaskItems[createTaskItems.length - 1];\n          return lastItem && lastItem.resource;\n        };\n\n        GanttView.prototype.getTaskByPublicId = function (id) {\n          return this.viewModel.tasks.getItemByPublicId(id);\n        };\n\n        GanttView.prototype.getPrevTask = function (taskId) {\n          var item = this.viewModel.findItem(taskId);\n          var parent = item.parent || this.viewModel.root;\n          var index = parent.children.indexOf(item) - 1;\n          return index > -1 ? item.parent.children[index].task : item.parent.task;\n        };\n\n        GanttView.prototype.updateCreatedTaskIdAfterServerUpdate = function (internalId, id) {\n          var item = this.viewModel.findItem(internalId);\n          var task = item && item.task;\n          if (task) task.id = id;\n        };\n\n        GanttView.prototype.getTaskIdByInternalId = function (internalId) {\n          var item = this.viewModel.findItem(internalId);\n          var task = item && item.task;\n          return task ? task.id : null;\n        };\n\n        GanttView.prototype.isTaskHasChildren = function (taskId) {\n          var item = this.viewModel.findItem(taskId);\n          return item && item.children.length > 0;\n        };\n\n        GanttView.prototype.requireFirstLoadParentAutoCalc = function () {\n          var owner = this.ganttOwner;\n          return owner.getRequireFirstLoadParentAutoCalc && owner.getRequireFirstLoadParentAutoCalc();\n        };\n\n        GanttView.prototype.getOwnerControlMainElement = function () {\n          var owner = this.ganttOwner;\n          return owner.getMainElement && owner.getMainElement();\n        };\n\n        GanttView.prototype.adjustOwnerControl = function () {\n          var owner = this.ganttOwner;\n          if (owner.adjustControl) owner.adjustControl();\n        };\n\n        GanttView.prototype.onBrowserWindowResize = function () {\n          if (this.fullScreenModeHelper.isInFullScreenMode) this.fullScreenModeHelper.adjustControlInFullScreenMode();else this.adjustOwnerControl();\n        };\n\n        GanttView.prototype.applySettings = function (settings, preventViewUpdate) {\n          if (preventViewUpdate === void 0) {\n            preventViewUpdate = false;\n          }\n\n          var ganttSettings = Settings_1.Settings.parse(settings);\n          var preventUpdate = preventViewUpdate || this.settings.equal(ganttSettings);\n          this.settings = ganttSettings;\n          if (!preventUpdate) this.resetAndUpdate();\n        };\n\n        GanttView.prototype.getDataUpdateErrorCallback = function () {\n          var _this = this;\n\n          var history = this.history;\n          var currentHistoryItemInfo = history.getCurrentProcessingItemInfo();\n          return function () {\n            _this.dispatcher.lock();\n\n            history.rollBackAndRemove(currentHistoryItemInfo);\n\n            _this.dispatcher.unlock();\n\n            _this.updateBarManager();\n          };\n        };\n\n        GanttView.prototype.setTaskTooltipContentTemplate = function (taskTooltipContentTemplate) {\n          this.settings.taskTooltipContentTemplate = taskTooltipContentTemplate;\n        };\n\n        GanttView.prototype.updateBarManager = function () {\n          this.barManager.updateItemsState([]);\n        };\n\n        GanttView.prototype.onTaskClick = function (key, evt) {\n          if (!this.ganttOwner.onTaskClick) return true;\n          return this.ganttOwner.onTaskClick(key, evt);\n        };\n\n        GanttView.prototype.onTaskDblClick = function (key, evt) {\n          if (!this.ganttOwner.onTaskDblClick) return true;\n          return this.ganttOwner.onTaskDblClick(key, evt);\n        };\n\n        GanttView.prototype.getDateFormat = function (date) {\n          return this.ganttOwner.getFormattedDateText ? this.ganttOwner.getFormattedDateText(date) : this.getDefaultDateFormat(date);\n        };\n\n        GanttView.prototype.getDefaultDateFormat = function (date) {\n          return (\"0\" + date.getDate()).slice(-2) + \"/\" + (\"0\" + (date.getMonth() + 1)).slice(-2) + \"/\" + date.getFullYear() + \" \" + (\"0\" + date.getHours()).slice(-2) + \":\" + (\"0\" + date.getMinutes()).slice(-2);\n        };\n\n        GanttView.prototype.destroyTemplate = function (container) {\n          this.ganttOwner.destroyTemplate ? this.ganttOwner.destroyTemplate(container) : container.innerHTML = \"\";\n        };\n\n        return GanttView;\n      }();\n\n      exports.GanttView = GanttView;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ViewVisualModel = void 0;\n\n      var ResourceCollection_1 = __webpack_require__(26);\n\n      var TaskCollection_1 = __webpack_require__(61);\n\n      var DependencyCollection_1 = __webpack_require__(63);\n\n      var ResourceAssignmentCollection_1 = __webpack_require__(64);\n\n      var ViewVisualModelItem_1 = __webpack_require__(65);\n\n      var ViewVisualModelDependencyInfo_1 = __webpack_require__(66);\n\n      var WorkingTimeCalculator_1 = __webpack_require__(67);\n\n      var common_1 = __webpack_require__(1);\n\n      var Dependency_1 = __webpack_require__(11);\n\n      var Resource_1 = __webpack_require__(33);\n\n      var ResourceAssignment_1 = __webpack_require__(35);\n\n      var ViewVisualModel = function () {\n        function ViewVisualModel(owner, tasks, dependencies, resources, assignments, dateRange, workTimeRules) {\n          this._fLockCount = 0;\n          this.owner = owner;\n          this.tasks = new TaskCollection_1.TaskCollection();\n          this.tasks.importFromObject(tasks);\n          this.dependencies = new DependencyCollection_1.DependencyCollection();\n          this.dependencies.importFromObject(dependencies);\n          this.resources = new ResourceCollection_1.ResourceCollection();\n          this.resources.importFromObject(resources);\n          this.assignments = new ResourceAssignmentCollection_1.ResourceAssignmentCollection();\n          this.assignments.importFromObject(assignments);\n          this._itemList = new Array();\n          this._viewItemList = new Array();\n          this._workTimeCalculator = new WorkingTimeCalculator_1.WorkingTimeCalculator(dateRange, workTimeRules);\n          this.updateModel();\n        }\n\n        ViewVisualModel.prototype.updateModel = function () {\n          this._itemList.splice(0, this._itemList.length);\n\n          var tasks = this.tasks.items;\n\n          for (var i = 0; i < tasks.length; i++) {\n            var task = tasks[i];\n            if (task) this._itemList.push(new ViewVisualModelItem_1.ViewVisualModelItem(task, this.getAssignedResources(task)));\n          }\n\n          this.createHierarchy();\n          this.populateItemsForView();\n          if (this.owner && this.owner.currentSelectedTaskID) this.changeTaskSelected(this.owner.currentSelectedTaskID, true);\n        };\n\n        ViewVisualModel.prototype.createHierarchy = function () {\n          var _this = this;\n\n          this.root = new ViewVisualModelItem_1.ViewVisualModelItem(null, null);\n          var list = this._itemList;\n          var recalculateParentRequired = this.requireFirstLoadParentAutoCalc;\n\n          var _loop_1 = function (i) {\n            var item = list[i];\n            var parentId = item.task.parentId;\n            var parentItem = list.filter(function (value) {\n              return value.task && value.task.internalId === parentId || value.task.internalId.toString() === parentId;\n            })[0] || this_1.root;\n            item.parent = parentItem;\n            parentItem.addChild(item);\n            if (recalculateParentRequired) this_1.owner.validationController.recalculateParents(item, function (data) {\n              if (!common_1.isDefined(data.id)) return;\n\n              var task = _this.tasks.getItemById(data.id);\n\n              if (common_1.isDefined(data.start)) task.start = data.start;\n              if (common_1.isDefined(data.end)) task.end = data.end;\n              if (common_1.isDefined(data.progress)) task.progress = data.progress;\n            });\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < list.length; i++) {\n            _loop_1(i);\n          }\n\n          if (recalculateParentRequired) this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData());\n        };\n\n        ViewVisualModel.prototype.getCurrentTaskData = function () {\n          var _this = this;\n\n          return this.tasks.items.map(function (t) {\n            return _this.getTaskObjectForDataSource(t);\n          });\n        };\n\n        ViewVisualModel.prototype.getTaskObjectForDataSource = function (task) {\n          var parentTask = task.parentId && this.tasks.getItemById(task.parentId);\n          return {\n            id: task.id,\n            start: task.start,\n            end: task.end,\n            duration: task.duration,\n            description: task.description,\n            parentId: parentTask && parentTask.id,\n            progress: task.progress,\n            color: task.color,\n            taskType: task.taskType,\n            title: task.title,\n            customFields: task.customFields,\n            expanded: task.expanded\n          };\n        };\n\n        ViewVisualModel.prototype.getDependencyObjectForDataSource = function (key) {\n          var dependency = key instanceof Dependency_1.Dependency ? key : this.getItemByPublicId(\"dependency\", key);\n\n          if (dependency) {\n            var predecessorId = this.convertInternalToPublicKey(\"task\", dependency.predecessorId);\n            var successorId = this.convertInternalToPublicKey(\"task\", dependency.successorId);\n            return {\n              id: dependency.id,\n              predecessorId: common_1.isDefined(predecessorId) ? predecessorId : dependency.predecessorId,\n              successorId: common_1.isDefined(successorId) ? successorId : dependency.successorId,\n              type: dependency.type\n            };\n          }\n\n          return null;\n        };\n\n        ViewVisualModel.prototype.getResourceObjectForDataSource = function (key) {\n          var resource = key instanceof Resource_1.Resource ? key : this.getItemByPublicId(\"resource\", key);\n          if (resource) return {\n            id: resource.id,\n            text: resource.text,\n            color: resource.color\n          };\n          return null;\n        };\n\n        ViewVisualModel.prototype.getResourceAssignmentObjectForDataSource = function (key) {\n          var assignment = key instanceof ResourceAssignment_1.ResourceAssignment ? key : this.getItemByPublicId(\"assignment\", key);\n\n          if (assignment) {\n            var taskId = this.convertInternalToPublicKey(\"task\", assignment.taskId);\n            var resourceId = this.convertInternalToPublicKey(\"resource\", assignment.resourceId);\n            return {\n              id: assignment.id,\n              taskId: common_1.isDefined(taskId) ? taskId : assignment.taskId,\n              resourceId: common_1.isDefined(resourceId) ? resourceId : assignment.resourceId\n            };\n          }\n\n          return null;\n        };\n\n        ViewVisualModel.prototype.populateItemsForView = function () {\n          this._viewItemList.splice(0, this._viewItemList.length);\n\n          this.populateVisibleItems(this.root);\n          this.updateVisibleItemDependencies();\n        };\n\n        ViewVisualModel.prototype.populateVisibleItems = function (item) {\n          var _this = this;\n\n          var isRoot = item === this.root;\n          if (!item || !item.task && !isRoot) return;\n\n          if (!isRoot) {\n            this._viewItemList.push(item);\n\n            item.visibleIndex = this._viewItemList.length - 1;\n          }\n\n          if (item.getExpanded() || item === this.root) item.children.forEach(function (n) {\n            return _this.populateVisibleItems(n);\n          });\n        };\n\n        ViewVisualModel.prototype.updateVisibleItemDependencies = function () {\n          var list = this._viewItemList;\n\n          for (var i = 0; i < list.length; i++) {\n            var item = list[i];\n            var visibleDependencies = this.getTasVisibleDependencies(item.task);\n            item.setDependencies(visibleDependencies);\n          }\n        };\n\n        ViewVisualModel.prototype.getAssignedResources = function (task) {\n          var _this = this;\n\n          var res = new ResourceCollection_1.ResourceCollection();\n          var assignments = this.assignments.items.filter(function (value) {\n            return value.taskId == task.internalId;\n          });\n          assignments.forEach(function (assignment) {\n            res.add(_this.resources.getItemById(assignment.resourceId));\n          });\n          return res;\n        };\n\n        ViewVisualModel.prototype.getTasVisibleDependencies = function (task) {\n          var res = new Array();\n          var id = task.internalId;\n          var dependencies = this.dependencies.items.filter(function (value) {\n            return value.successorId == id;\n          });\n\n          for (var i = 0; i < dependencies.length; i++) {\n            var dependency = dependencies[i];\n            var item = this.findItem(dependency.predecessorId);\n            if (item && item.getVisible()) res.push(new ViewVisualModelDependencyInfo_1.ViewVisualModelDependencyInfo(dependency.internalId, item, dependency.type));\n          }\n\n          return res;\n        };\n\n        ViewVisualModel.prototype.changeTaskExpanded = function (id, expanded) {\n          var task = this.tasks.getItemById(String(id));\n\n          if (task) {\n            task.expanded = expanded;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.changeTaskVisibility = function (id, visible) {\n          var item = this.findItem(id);\n\n          if (item) {\n            item.visible = visible;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.changeTaskSelected = function (id, selected) {\n          var item = this._itemList.filter(function (value) {\n            return value.task && value.task.internalId === id;\n          })[0];\n\n          if (item) {\n            item.selected = selected;\n            var viewItem = this.findItem(id);\n            var taskIndex = viewItem && viewItem.visibleIndex;\n            if (taskIndex > -1) this.owner.recreateTaskElement(taskIndex);\n          }\n        };\n\n        ViewVisualModel.prototype.beginUpdate = function () {\n          this._fLockCount++;\n        };\n\n        ViewVisualModel.prototype.endUpdate = function () {\n          this._fLockCount--;\n          if (this._fLockCount == 0) this.changed();\n        };\n\n        ViewVisualModel.prototype.changed = function () {\n          if (this._fLockCount !== 0) return;\n          this.populateItemsForView();\n          if (this.owner && this.owner.onVisualModelChanged) this.owner.onVisualModelChanged();\n        };\n\n        ViewVisualModel.prototype.findItem = function (taskId) {\n          return this._viewItemList.filter(function (value) {\n            return value.task && value.task.internalId === taskId;\n          })[0];\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"items\", {\n          get: function () {\n            return this._viewItemList.slice();\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(ViewVisualModel.prototype, \"itemCount\", {\n          get: function () {\n            return this.items.length;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        ViewVisualModel.prototype.getTaskVisibility = function (id) {\n          var item = this.findItem(id);\n          return !!item && item.getVisible();\n        };\n\n        ViewVisualModel.prototype.getTaskSelected = function (id) {\n          var item = this.findItem(id);\n          return !!item && item.selected;\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"noWorkingIntervals\", {\n          get: function () {\n            return this._workTimeCalculator.noWorkingIntervals;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        ViewVisualModel.prototype.updateRange = function (range) {\n          this._workTimeCalculator.updateRange(range);\n        };\n\n        ViewVisualModel.prototype.taskHasChildrenByIndex = function (index) {\n          return this._viewItemList[index].children.length > 0;\n        };\n\n        ViewVisualModel.prototype.taskHasChildren = function (id) {\n          var item = this.findItem(id);\n          return item && item.children.length > 0;\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"parentAutoCalc\", {\n          get: function () {\n            var settings = this.owner && this.owner.settings;\n            return settings && settings.validation && settings.validation.autoUpdateParentTasks;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(ViewVisualModel.prototype, \"requireFirstLoadParentAutoCalc\", {\n          get: function () {\n            return this.parentAutoCalc && this.owner.requireFirstLoadParentAutoCalc();\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        ViewVisualModel.prototype.isTaskToCalculateByChildren = function (id) {\n          return this.parentAutoCalc && this.taskHasChildren(id);\n        };\n\n        ViewVisualModel.prototype.hasTasks = function () {\n          return this.tasks.length > 0;\n        };\n\n        ViewVisualModel.prototype.getDataUpdateErrorCallback = function () {\n          return this.owner.getDataUpdateErrorCallback && this.owner.getDataUpdateErrorCallback();\n        };\n\n        ViewVisualModel.prototype.convertPublicToInternalKey = function (dataType, publicKey) {\n          var item = this.getItemByPublicId(dataType, publicKey);\n          return item && item.internalId;\n        };\n\n        ViewVisualModel.prototype.convertInternalToPublicKey = function (dataType, internalId) {\n          var item = this.getItemByInternalId(dataType, internalId);\n          return item && item.id;\n        };\n\n        ViewVisualModel.prototype.getItemByPublicId = function (dataType, publicKey) {\n          var strKey = publicKey.toString();\n\n          switch (dataType) {\n            case \"task\":\n              return this.tasks.getItemByPublicId(strKey);\n\n            case \"dependency\":\n              return this.dependencies.getItemByPublicId(strKey);\n\n            case \"resource\":\n              return this.resources.getItemByPublicId(strKey);\n\n            case \"assignment\":\n              return this.assignments.getItemByPublicId(strKey);\n          }\n\n          return null;\n        };\n\n        ViewVisualModel.prototype.getItemByInternalId = function (dataType, internalId) {\n          switch (dataType) {\n            case \"task\":\n              return this.tasks.getItemById(internalId);\n\n            case \"dependency\":\n              return this.dependencies.getItemById(internalId);\n\n            case \"resource\":\n              return this.resources.getItemById(internalId);\n\n            case \"assignment\":\n              return this.assignments.getItemById(internalId);\n          }\n\n          return null;\n        };\n\n        ViewVisualModel.prototype.findAssignment = function (resourceKey, taskKey) {\n          var resourceInternalKey = this.convertPublicToInternalKey(\"resource\", resourceKey);\n          var taskInternalKey = this.convertPublicToInternalKey(\"task\", taskKey);\n          return this.assignments.items.filter(function (val) {\n            return val.resourceId === resourceInternalKey && val.taskId === taskInternalKey;\n          })[0];\n        };\n\n        ViewVisualModel.prototype.getVisibleTasks = function () {\n          var _this = this;\n\n          return this.tasks.items.filter(function (t) {\n            return t && _this.getTaskVisibility(t.internalId);\n          });\n        };\n\n        ViewVisualModel.prototype.getVisibleDependencies = function () {\n          var visibleTasksKeys = this.getVisibleTasks().map(function (t) {\n            return t.internalId;\n          });\n          return this.dependencies.items.filter(function (d) {\n            return d && visibleTasksKeys.indexOf(d.successorId) > -1 && visibleTasksKeys.indexOf(d.predecessorId) > -1;\n          });\n        };\n\n        ViewVisualModel.prototype.getVisibleResourceAssignments = function () {\n          var visibleTasksKeys = this.getVisibleTasks().map(function (t) {\n            return t.internalId;\n          });\n          return this.assignments.items.filter(function (a) {\n            return a && visibleTasksKeys.indexOf(a.taskId) > -1;\n          });\n        };\n\n        ViewVisualModel.prototype.getVisibleResources = function () {\n          var visibleResources = [];\n          var visibleAssignments = this.getVisibleResourceAssignments();\n\n          for (var i = 0; i < visibleAssignments.length; i++) {\n            var resource = this.getItemByInternalId(\"resource\", visibleAssignments[i].resourceId);\n            if (resource && visibleResources.indexOf(resource) === -1) visibleResources.push(resource);\n          }\n\n          return visibleResources;\n        };\n\n        return ViewVisualModel;\n      }();\n\n      exports.ViewVisualModel = ViewVisualModel;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GanttJsonUtils = void 0;\n\n      var json_1 = __webpack_require__(57);\n\n      var GanttJsonUtils = function () {\n        function GanttJsonUtils() {}\n\n        GanttJsonUtils.evalJson = function (json) {\n          return json_1.JsonUtils.isValid(json) ? eval(\"(\" + json + \")\") : null;\n        };\n\n        return GanttJsonUtils;\n      }();\n\n      exports.GanttJsonUtils = GanttJsonUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var JsonUtils = function () {\n        function JsonUtils() {}\n\n        JsonUtils.isValid = function (json) {\n          return !/[^,:{}[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.test(json.replace(/\"(\\\\.|[^\"\\\\])*\"/g, ''));\n        };\n\n        return JsonUtils;\n      }();\n\n      exports.JsonUtils = JsonUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var min_max_1 = __webpack_require__(59);\n\n      var comparers_1 = __webpack_require__(60);\n\n      var ListUtils = function () {\n        function ListUtils() {}\n\n        ListUtils.remove = function (list, element) {\n          var index = list.indexOf(element, 0);\n          if (index >= 0) list.splice(index, 1);\n        };\n\n        ListUtils.removeBy = function (list, callback) {\n          var len = list.length;\n\n          for (var index = 0; index < len; index++) {\n            if (callback(list[index], index)) return list.splice(index, 1)[0];\n          }\n\n          return null;\n        };\n\n        ListUtils.shallowCopy = function (list) {\n          return list.slice();\n        };\n\n        ListUtils.deepCopy = function (list) {\n          return ListUtils.map(list, function (val) {\n            return val.clone();\n          });\n        };\n\n        ListUtils.initByValue = function (numElements, initValue) {\n          var result = [];\n\n          for (; numElements > 0; numElements--) result.push(initValue);\n\n          return result;\n        };\n\n        ListUtils.initByCallback = function (numElements, initCallback) {\n          var result = [];\n\n          for (var index = 0; index < numElements; index++) result.push(initCallback(index));\n\n          return result;\n        };\n\n        ListUtils.forEachOnInterval = function (interval, callback) {\n          var end = interval.end;\n\n          for (var index = interval.start; index < end; index++) callback(index);\n        };\n\n        ListUtils.reverseForEachOnInterval = function (interval, callback) {\n          var start = interval.start;\n\n          for (var index = interval.end - 1; index >= start; index--) callback(index);\n        };\n\n        ListUtils.reducedMap = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var result = [];\n\n          for (var index = startIndex; index < endIndex; index++) {\n            var newItem = callback(list[index], index);\n            if (newItem !== null) result.push(newItem);\n          }\n\n          return result;\n        };\n\n        ListUtils.filter = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var result = [];\n\n          for (var index = startIndex; index < endIndex; index++) {\n            var item = list[index];\n            if (callback(item, index)) result.push(item);\n          }\n\n          return result;\n        };\n\n        ListUtils.map = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var result = [];\n\n          for (var index = startIndex; index < endIndex; index++) result.push(callback(list[index], index));\n\n          return result;\n        };\n\n        ListUtils.indexBy = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          for (var ind = startIndex; ind < endIndex; ind++) {\n            if (callback(list[ind], ind)) return ind;\n          }\n\n          return -1;\n        };\n\n        ListUtils.reverseIndexBy = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = list.length - 1;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = 0;\n          }\n\n          for (var ind = startIndex; ind >= endIndex; ind--) {\n            if (callback(list[ind], ind)) return ind;\n          }\n\n          return -1;\n        };\n\n        ListUtils.elementBy = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var ind = ListUtils.indexBy(list, callback, startIndex, endIndex);\n          return ind < 0 ? null : list[ind];\n        };\n\n        ListUtils.reverseElementBy = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = list.length - 1;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = 0;\n          }\n\n          var ind = ListUtils.reverseIndexBy(list, callback, startIndex, endIndex);\n          return ind < 0 ? null : list[ind];\n        };\n\n        ListUtils.last = function (list) {\n          return list[list.length - 1];\n        };\n\n        ListUtils.setLast = function (list, newVal) {\n          return list[list.length - 1] = newVal;\n        };\n\n        ListUtils.incLast = function (list) {\n          return ++list[list.length - 1];\n        };\n\n        ListUtils.decLast = function (list) {\n          return --list[list.length - 1];\n        };\n\n        ListUtils.equals = function (a, b) {\n          return a.length === b.length && ListUtils.allOf2(a, b, function (a, b) {\n            return a.equals(b);\n          });\n        };\n\n        ListUtils.equalsByReference = function (a, b) {\n          var aLen = a.length;\n          var bLen = a.length;\n          if (aLen !== bLen) return false;\n\n          for (var i = 0; i < aLen; i++) {\n            if (a[i] !== b[i]) return false;\n          }\n\n          return true;\n        };\n\n        ListUtils.unique = function (list, cmp, equal, finalizeObj) {\n          if (equal === void 0) {\n            equal = cmp;\n          }\n\n          if (finalizeObj === void 0) {\n            finalizeObj = function () {};\n          }\n\n          var len = list.length;\n          if (len === 0) return [];\n          list = list.sort(cmp);\n          var prevValue = list[0];\n          var result = ListUtils.reducedMap(list, function (v) {\n            if (equal(prevValue, v) !== 0) {\n              prevValue = v;\n              return v;\n            }\n\n            finalizeObj(v);\n            return null;\n          }, 1, len);\n          result.unshift(list[0]);\n          return result;\n        };\n\n        ListUtils.uniqueNumber = function (list) {\n          list = list.sort(comparers_1.Comparers.number);\n          var prevValue = Number.NaN;\n\n          for (var i = list.length - 1; i >= 0; i--) {\n            if (prevValue === list[i]) list.splice(i, 1);else prevValue = list[i];\n          }\n\n          return list;\n        };\n\n        ListUtils.forEach = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) callback(list[index], index);\n        };\n\n        ListUtils.forEach2 = function (listA, listB, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = listA.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) callback(listA[index], listB[index], index);\n        };\n\n        ListUtils.reverseForEach = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = list.length - 1;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = 0;\n          }\n\n          for (var index = startIndex; index >= endIndex; index--) callback(list[index], index);\n        };\n\n        ListUtils.reverseIndexOf = function (list, element, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = list.length - 1;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = 0;\n          }\n\n          for (var index = startIndex; index >= endIndex; index--) {\n            if (list[index] === element) return index;\n          }\n\n          return -1;\n        };\n\n        ListUtils.accumulate = function (list, initAccValue, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var acc = initAccValue;\n\n          for (var ind = startIndex; ind < endIndex; ind++) acc = callback(acc, list[ind], ind);\n\n          return acc;\n        };\n\n        ListUtils.accumulateNumber = function (list, callback, initAccValue, startIndex, endIndex) {\n          if (initAccValue === void 0) {\n            initAccValue = 0;\n          }\n\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var acc = initAccValue;\n\n          for (var ind = startIndex; ind < endIndex; ind++) acc += callback(list[ind], ind, acc);\n\n          return acc;\n        };\n\n        ListUtils.anyOf = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) {\n            if (callback(list[index], index)) return true;\n          }\n\n          return false;\n        };\n\n        ListUtils.unsafeAnyOf = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) {\n            var currResult = callback(list[index], index);\n            if (currResult) return currResult;\n          }\n\n          return null;\n        };\n\n        ListUtils.reverseAnyOf = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = list.length - 1;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = 0;\n          }\n\n          for (var index = startIndex; index >= endIndex; index--) {\n            if (callback(list[index], index)) return true;\n          }\n\n          return false;\n        };\n\n        ListUtils.unsafeReverseAnyOf = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = list.length - 1;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = 0;\n          }\n\n          for (var index = startIndex; index >= endIndex; index--) {\n            var currResult = callback(list[index], index);\n            if (currResult) return currResult;\n          }\n\n          return null;\n        };\n\n        ListUtils.anyOf2 = function (listA, listB, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = listA.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) {\n            if (callback(listA[index], listB[index], index)) return true;\n          }\n\n          return false;\n        };\n\n        ListUtils.allOf = function (list, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) {\n            if (!callback(list[index], index)) return false;\n          }\n\n          return true;\n        };\n\n        ListUtils.allOf2 = function (listA, listB, callback, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = listA.length;\n          }\n\n          for (var index = startIndex; index < endIndex; index++) {\n            if (!callback(listA[index], listB[index], index)) return false;\n          }\n\n          return true;\n        };\n\n        ListUtils.allOfOnInterval = function (interval, callback) {\n          var endIndex = interval.end;\n\n          for (var index = interval.start; index < endIndex; index++) {\n            if (!callback(index)) return false;\n          }\n\n          return true;\n        };\n\n        ListUtils.addListOnTail = function (resultList, addedList) {\n          for (var i = 0, elem = void 0; elem = addedList[i]; i++) resultList.push(elem);\n\n          return resultList;\n        };\n\n        ListUtils.joinLists = function (converter) {\n          var lists = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            lists[_i - 1] = arguments[_i];\n          }\n\n          return ListUtils.accumulate(lists, [], function (accList, list) {\n            ListUtils.addListOnTail(accList, converter(list));\n            return accList;\n          });\n        };\n\n        ListUtils.push = function (list, element) {\n          list.push(element);\n          return list;\n        };\n\n        ListUtils.countIf = function (list, callback) {\n          return ListUtils.accumulateNumber(list, function (elem, ind) {\n            return callback(elem, ind) ? 1 : 0;\n          });\n        };\n\n        ListUtils.clear = function (list) {\n          list.splice(0);\n        };\n\n        ListUtils.merge = function (list, cmp, shouldMerge, merge, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          list = list.slice(startIndex, endIndex);\n          if (endIndex - startIndex < 2) return list;\n          list = list.sort(cmp);\n          var prevObj = list[startIndex];\n          var result = [prevObj];\n\n          for (var ind = startIndex + 1; ind < endIndex; ind++) {\n            var obj = list[ind];\n            if (shouldMerge(prevObj, obj)) merge(prevObj, obj);else {\n              prevObj = obj;\n              result.push(prevObj);\n            }\n          }\n\n          return result;\n        };\n\n        ListUtils.min = function (list, getValue, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var res = ListUtils.minExtended(list, getValue, startIndex, endIndex);\n          return res ? res.minElement : null;\n        };\n\n        ListUtils.max = function (list, getValue, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var res = ListUtils.maxExtended(list, getValue, startIndex, endIndex);\n          return res ? res.maxElement : null;\n        };\n\n        ListUtils.minMax = function (list, getValue, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          var res = ListUtils.minMaxExtended(list, getValue, startIndex, endIndex);\n          return res ? new min_max_1.MinMax(res.minElement, res.maxElement) : null;\n        };\n\n        ListUtils.minExtended = function (list, getValue, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          if (list.length === 0) return null;\n          var minElement = list[startIndex];\n          var minValue = getValue(minElement);\n\n          for (var index = startIndex + 1; index < endIndex; index++) {\n            var elem = list[index];\n            var elemValue = getValue(elem);\n\n            if (elemValue < minValue) {\n              minValue = elemValue;\n              minElement = elem;\n            }\n          }\n\n          return new min_max_1.ExtendedMin(minElement, minValue);\n        };\n\n        ListUtils.maxExtended = function (list, getValue, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          if (list.length === 0) return null;\n          var maxElement = list[startIndex];\n          var maxValue = getValue(maxElement);\n\n          for (var index = startIndex + 1; index < endIndex; index++) {\n            var elem = list[index];\n            var elemValue = getValue(elem);\n\n            if (elemValue > maxValue) {\n              maxValue = elemValue;\n              maxElement = elem;\n            }\n          }\n\n          return new min_max_1.ExtendedMax(maxElement, maxValue);\n        };\n\n        ListUtils.minMaxExtended = function (list, getValue, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          if (list.length === 0) return null;\n          var minElement = list[startIndex];\n          var maxElement = minElement;\n          var minValue = getValue(minElement);\n          var maxValue = minValue;\n\n          for (var index = startIndex + 1; index < endIndex; index++) {\n            var elem = list[index];\n            var elemValue = getValue(elem);\n\n            if (elemValue < minValue) {\n              minValue = elemValue;\n              minElement = elem;\n            } else if (elemValue > maxValue) {\n              maxValue = elemValue;\n              maxElement = elem;\n            }\n          }\n\n          return new min_max_1.ExtendedMinMax(minElement, minValue, maxElement, maxValue);\n        };\n\n        ListUtils.minByCmp = function (list, cmp, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          if (list.length === 0) return null;\n          var found = list[startIndex];\n\n          for (var index = startIndex + 1; index < endIndex; index++) {\n            var elem = list[index];\n            if (cmp(elem, found) < 0) found = elem;\n          }\n\n          return found;\n        };\n\n        ListUtils.maxByCmp = function (list, cmp, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          if (list.length === 0) return null;\n          var found = list[startIndex];\n\n          for (var index = startIndex + 1; index < endIndex; index++) {\n            var elem = list[index];\n            if (cmp(elem, found) > 0) found = elem;\n          }\n\n          return found;\n        };\n\n        ListUtils.minMaxByCmp = function (list, cmp, startIndex, endIndex) {\n          if (startIndex === void 0) {\n            startIndex = 0;\n          }\n\n          if (endIndex === void 0) {\n            endIndex = list.length;\n          }\n\n          if (list.length === 0) return null;\n          var min = list[startIndex];\n          var max = min;\n\n          for (var index = startIndex + 1; index < endIndex; index++) {\n            var elem = list[index];\n            var res = cmp(elem, min);\n            if (res > 0) max = elem;else if (res < 0) min = elem;\n          }\n\n          return new min_max_1.MinMax(min, max);\n        };\n\n        return ListUtils;\n      }();\n\n      exports.ListUtils = ListUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(0);\n\n      var MinMax = function () {\n        function MinMax(minElement, maxElement) {\n          this.minElement = minElement;\n          this.maxElement = maxElement;\n        }\n\n        return MinMax;\n      }();\n\n      exports.MinMax = MinMax;\n\n      var MinMaxNumber = function (_super) {\n        tslib_1.__extends(MinMaxNumber, _super);\n\n        function MinMaxNumber() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Object.defineProperty(MinMaxNumber.prototype, \"length\", {\n          get: function () {\n            return this.maxElement - this.minElement;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        return MinMaxNumber;\n      }(MinMax);\n\n      exports.MinMaxNumber = MinMaxNumber;\n\n      var ExtendedMin = function () {\n        function ExtendedMin(minElement, minValue) {\n          this.minElement = minElement;\n          this.minValue = minValue;\n        }\n\n        return ExtendedMin;\n      }();\n\n      exports.ExtendedMin = ExtendedMin;\n\n      var ExtendedMax = function () {\n        function ExtendedMax(maxElement, maxValue) {\n          this.maxElement = maxElement;\n          this.maxValue = maxValue;\n        }\n\n        return ExtendedMax;\n      }();\n\n      exports.ExtendedMax = ExtendedMax;\n\n      var ExtendedMinMax = function (_super) {\n        tslib_1.__extends(ExtendedMinMax, _super);\n\n        function ExtendedMinMax(minElement, minValue, maxElement, maxValue) {\n          var _this = _super.call(this, minElement, maxElement) || this;\n\n          _this.minValue = minValue;\n          _this.maxValue = maxValue;\n          return _this;\n        }\n\n        return ExtendedMinMax;\n      }(MinMax);\n\n      exports.ExtendedMinMax = ExtendedMinMax;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Comparers = function () {\n        function Comparers() {}\n\n        Comparers.number = function (a, b) {\n          return a - b;\n        };\n\n        Comparers.string = function (a, b) {\n          return a === b ? 0 : a > b ? 1 : -1;\n        };\n\n        Comparers.stringIgnoreCase = function (a, b) {\n          a = a.toLowerCase();\n          b = b.toLowerCase();\n          return a === b ? 0 : a > b ? 1 : -1;\n        };\n\n        return Comparers;\n      }();\n\n      exports.Comparers = Comparers;\n\n      var Equals = function () {\n        function Equals() {}\n\n        Equals.simpleType = function (a, b) {\n          return a === b;\n        };\n\n        Equals.object = function (a, b) {\n          return a && b && (a === b || a.equals(b));\n        };\n\n        return Equals;\n      }();\n\n      exports.Equals = Equals;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskCollection = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var Task_1 = __webpack_require__(62);\n\n      var CollectionBase_1 = __webpack_require__(13);\n\n      var TaskCollection = function (_super) {\n        tslib_1.__extends(TaskCollection, _super);\n\n        function TaskCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskCollection.prototype.createItem = function () {\n          return new Task_1.Task();\n        };\n\n        return TaskCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.TaskCollection = TaskCollection;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Task = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var common_1 = __webpack_require__(1);\n\n      var DataObject_1 = __webpack_require__(10);\n\n      var TaskType;\n\n      (function (TaskType) {\n        TaskType[TaskType[\"Regular\"] = 0] = \"Regular\";\n        TaskType[TaskType[\"Summary\"] = 1] = \"Summary\";\n        TaskType[TaskType[\"Milestone\"] = 2] = \"Milestone\";\n      })(TaskType || (TaskType = {}));\n\n      var Task = function (_super) {\n        tslib_1.__extends(Task, _super);\n\n        function Task() {\n          var _this = _super.call(this) || this;\n\n          _this.start = null;\n          _this.end = null;\n          _this.duration = null;\n          _this.description = \"\";\n          _this.parentId = \"\";\n          _this.title = \"\";\n          _this.owner = null;\n          _this.progress = 0;\n          _this.taskType = null;\n          _this.customFields = {};\n          _this.expanded = true;\n          _this.color = \"\";\n          return _this;\n        }\n\n        Task.prototype.assignFromObject = function (sourceObj) {\n          if (common_1.isDefined(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.owner = sourceObj.owner;\n            this.parentId = common_1.isDefined(sourceObj.parentId) ? String(sourceObj.parentId) : \"\";\n            this.description = sourceObj.description;\n            this.title = sourceObj.title;\n            this.start = sourceObj.start;\n            this.end = sourceObj.end;\n            this.start = typeof sourceObj.start == \"string\" ? new Date(sourceObj.start) : sourceObj.start || new Date(0);\n            this.end = typeof sourceObj.end == \"string\" ? new Date(sourceObj.end) : sourceObj.end || new Date(0);\n            this.duration = sourceObj.duration;\n            this.progress = sourceObj.progress;\n            this.taskType = sourceObj.taskType;\n            if (common_1.isDefined(sourceObj.expanded)) this.expanded = !!sourceObj.expanded;\n            if (common_1.isDefined(sourceObj.color)) this.color = sourceObj.color;\n            this.assignCustomFields(sourceObj.customFields);\n          }\n        };\n\n        Task.prototype.assignCustomFields = function (sourceObj) {\n          if (!sourceObj) return;\n\n          for (var property in sourceObj) {\n            if (!sourceObj.hasOwnProperty(property)) continue;\n            this.customFields[property] = sourceObj[property];\n          }\n        };\n\n        Task.prototype.isMilestone = function () {\n          return this.start.getTime() == this.end.getTime();\n        };\n\n        Task.prototype.getDuration = function () {\n          return this.end.getTime() - this.start.getTime();\n        };\n\n        return Task;\n      }(DataObject_1.DataObject);\n\n      exports.Task = Task;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DependencyCollection = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CollectionBase_1 = __webpack_require__(13);\n\n      var Dependency_1 = __webpack_require__(11);\n\n      var DependencyCollection = function (_super) {\n        tslib_1.__extends(DependencyCollection, _super);\n\n        function DependencyCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DependencyCollection.prototype.createItem = function () {\n          return new Dependency_1.Dependency();\n        };\n\n        return DependencyCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.DependencyCollection = DependencyCollection;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceAssignmentCollection = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CollectionBase_1 = __webpack_require__(13);\n\n      var ResourceAssignment_1 = __webpack_require__(35);\n\n      var ResourceAssignmentCollection = function (_super) {\n        tslib_1.__extends(ResourceAssignmentCollection, _super);\n\n        function ResourceAssignmentCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceAssignmentCollection.prototype.createItem = function () {\n          return new ResourceAssignment_1.ResourceAssignment();\n        };\n\n        return ResourceAssignmentCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.ResourceAssignmentCollection = ResourceAssignmentCollection;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ViewVisualModelItem = void 0;\n\n      var common_1 = __webpack_require__(1);\n\n      var ViewVisualModelItem = function () {\n        function ViewVisualModelItem(task, resources) {\n          this.dependencies = new Array();\n          this.parent = null;\n          this.visible = true;\n          this.selected = false;\n          this.visibleIndex = -1;\n          this.task = task;\n          this.resources = resources;\n          this.children = new Array();\n        }\n\n        Object.defineProperty(ViewVisualModelItem.prototype, \"resourceText\", {\n          get: function () {\n            var text = \"\";\n            this.resources.items.forEach(function (r) {\n              return text += r.text + \" \";\n            });\n            return text;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        ViewVisualModelItem.prototype.addChild = function (child) {\n          if (common_1.isDefined(child) && this.children.indexOf(child) < 0) this.children.push(child);\n        };\n\n        ViewVisualModelItem.prototype.removeChild = function (child) {\n          var index = this.children.indexOf(child);\n          if (index > -1) this.children.splice(index, 1);\n        };\n\n        ViewVisualModelItem.prototype.getExpanded = function () {\n          return !!this.task && this.task.expanded;\n        };\n\n        ViewVisualModelItem.prototype.getVisible = function () {\n          if (!this.visible) return false;\n          var parentItem = this.parent;\n\n          while (parentItem) {\n            if (!parentItem.visible) return false;\n            parentItem = parentItem.parent;\n          }\n\n          return true;\n        };\n\n        ViewVisualModelItem.prototype.changeVisibility = function (visible) {\n          this.visible = visible;\n        };\n\n        ViewVisualModelItem.prototype.changeSelection = function (selected) {\n          this.selected = selected;\n        };\n\n        ViewVisualModelItem.prototype.setDependencies = function (dependencies) {\n          if (dependencies) this.dependencies = dependencies.slice();\n        };\n\n        return ViewVisualModelItem;\n      }();\n\n      exports.ViewVisualModelItem = ViewVisualModelItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ViewVisualModelDependencyInfo = void 0;\n\n      var ViewVisualModelDependencyInfo = function () {\n        function ViewVisualModelDependencyInfo(id, predecessor, type) {\n          this.id = id;\n          this.predecessor = predecessor;\n          this.type = type;\n        }\n\n        return ViewVisualModelDependencyInfo;\n      }();\n\n      exports.ViewVisualModelDependencyInfo = ViewVisualModelDependencyInfo;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.WorkingTimeCalculator = void 0;\n\n      var GanttWorkingDayRuleCollection_1 = __webpack_require__(68);\n\n      var DayWorkingTimeInfo_1 = __webpack_require__(76);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var WorkingTimeCalculator = function () {\n        function WorkingTimeCalculator(range, rules) {\n          this._workingRules = new GanttWorkingDayRuleCollection_1.WorkingDayRuleCollection();\n          this._workDayList = new Array();\n          this._calculationRange = range;\n\n          this._workingRules.importFromObject(rules);\n        }\n\n        WorkingTimeCalculator.prototype.calculateWorkDayList = function () {\n          if (!this._calculationRange) return;\n          this.clearList();\n          var rules = this._workingRules.items;\n\n          for (var i = 0; i < rules.length; i++) this.processRule(rules[i]);\n\n          this.sortList();\n        };\n\n        WorkingTimeCalculator.prototype.processRule = function (rule) {\n          var points = rule.recurrence.calculatePoints(this._calculationRange.start, this._calculationRange.end);\n\n          var _loop_1 = function (i) {\n            var point = points[i];\n            var dayNum = DateTimeUtils_1.DateTimeUtils.getDayNumber(point);\n\n            var dayInfo = this_1._workDayList.filter(function (i) {\n              return i.dayNumber == dayNum;\n            })[0];\n\n            if (dayInfo) {\n              dayInfo.isWorkDay = dayInfo.isWorkDay && rule.isWorkDay;\n              dayInfo.addWorkingIntervals(rule.workTimeRanges);\n            } else this_1._workDayList.push(new DayWorkingTimeInfo_1.DayWorkingTimeInfo(dayNum, rule.isWorkDay, rule.workTimeRanges));\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < points.length; i++) {\n            _loop_1(i);\n          }\n        };\n\n        WorkingTimeCalculator.prototype.sortList = function () {\n          this._workDayList.sort(function (d1, d2) {\n            return d1.dayNumber - d2.dayNumber;\n          });\n        };\n\n        WorkingTimeCalculator.prototype.clearList = function () {\n          this._workDayList.splice(0, this._workDayList.length);\n        };\n\n        WorkingTimeCalculator.prototype.calculateNoWorkTimeIntervals = function () {\n          var _this = this;\n\n          var res = new Array();\n          if (this._workDayList.length == 0) this.calculateWorkDayList();\n\n          this._workDayList.forEach(function (d) {\n            return res = res.concat(_this.getNoWorkTimeRangesFromDay(d));\n          });\n\n          return this.concatJointedRanges(res);\n        };\n\n        WorkingTimeCalculator.prototype.concatJointedRanges = function (list) {\n          var res = new Array();\n\n          for (var i = 0; i < list.length; i++) {\n            var interval = list[i];\n            var needExpandPrevInterval = res.length > 0 && DateTimeUtils_1.DateTimeUtils.compareDates(res[res.length - 1].end, interval.start) < 2;\n            if (needExpandPrevInterval) res[res.length - 1].end = interval.end;else res.push(interval);\n          }\n\n          return res;\n        };\n\n        WorkingTimeCalculator.prototype.getNoWorkTimeRangesFromDay = function (day) {\n          return day.noWorkingIntervals.map(function (i) {\n            return DateTimeUtils_1.DateTimeUtils.convertTimeRangeToDateRange(i, day.dayNumber);\n          });\n        };\n\n        Object.defineProperty(WorkingTimeCalculator.prototype, \"noWorkingIntervals\", {\n          get: function () {\n            if (!this._noWorkingIntervals) this._noWorkingIntervals = this.calculateNoWorkTimeIntervals();\n            return this._noWorkingIntervals.slice();\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        WorkingTimeCalculator.prototype.updateRange = function (range) {\n          this._calculationRange = range;\n          this.invalidate();\n        };\n\n        WorkingTimeCalculator.prototype.invalidate = function () {\n          this._noWorkingIntervals = null;\n          this.clearList();\n        };\n\n        return WorkingTimeCalculator;\n      }();\n\n      exports.WorkingTimeCalculator = WorkingTimeCalculator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.WorkingDayRuleCollection = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CollectionBase_1 = __webpack_require__(13);\n\n      var WorkingTimeRule_1 = __webpack_require__(69);\n\n      var WorkingDayRuleCollection = function (_super) {\n        tslib_1.__extends(WorkingDayRuleCollection, _super);\n\n        function WorkingDayRuleCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        WorkingDayRuleCollection.prototype.createItem = function () {\n          return new WorkingTimeRule_1.WorkingTimeRule();\n        };\n\n        return WorkingDayRuleCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.WorkingDayRuleCollection = WorkingDayRuleCollection;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.WorkingTimeRule = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(10);\n\n      var common_1 = __webpack_require__(1);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var RecurrenceFactory_1 = __webpack_require__(39);\n\n      var Daily_1 = __webpack_require__(40);\n\n      var WorkingTimeRule = function (_super) {\n        tslib_1.__extends(WorkingTimeRule, _super);\n\n        function WorkingTimeRule(recurrence, isWorkDay, workTimeRanges) {\n          if (recurrence === void 0) {\n            recurrence = null;\n          }\n\n          if (isWorkDay === void 0) {\n            isWorkDay = true;\n          }\n\n          if (workTimeRanges === void 0) {\n            workTimeRanges = null;\n          }\n\n          var _this = _super.call(this) || this;\n\n          _this.isWorkDay = true;\n          _this.workTimeRanges = new Array();\n          _this.recurrence = recurrence;\n          _this.isWorkDay = isWorkDay;\n          if (workTimeRanges) _this.workTimeRanges.concat(workTimeRanges);\n          return _this;\n        }\n\n        WorkingTimeRule.prototype.assignFromObject = function (sourceObj) {\n          if (common_1.isDefined(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.recurrence = RecurrenceFactory_1.RecurrenceFactory.createRecurrenceByType(sourceObj.recurrenceType) || new Daily_1.Daily();\n            if (common_1.isDefined(sourceObj.recurrence)) this.recurrence.assignFromObject(sourceObj.recurrence);\n            if (common_1.isDefined(sourceObj.isWorkDay)) this.isWorkDay = !!sourceObj.isWorkDay;\n            var ranges = DateTimeUtils_1.DateTimeUtils.convertToTimeRanges(sourceObj.workTimeRanges);\n            if (ranges) this.workTimeRanges = ranges;\n          }\n        };\n\n        return WorkingTimeRule;\n      }(DataObject_1.DataObject);\n\n      exports.WorkingTimeRule = WorkingTimeRule;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DayOfWeek = void 0;\n      var DayOfWeek;\n\n      (function (DayOfWeek) {\n        DayOfWeek[DayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\n        DayOfWeek[DayOfWeek[\"Monday\"] = 1] = \"Monday\";\n        DayOfWeek[DayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\n        DayOfWeek[DayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\n        DayOfWeek[DayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\n        DayOfWeek[DayOfWeek[\"Friday\"] = 5] = \"Friday\";\n        DayOfWeek[DayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\n      })(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Month = void 0;\n      var Month;\n\n      (function (Month) {\n        Month[Month[\"January\"] = 0] = \"January\";\n        Month[Month[\"February\"] = 1] = \"February\";\n        Month[Month[\"March\"] = 2] = \"March\";\n        Month[Month[\"April\"] = 3] = \"April\";\n        Month[Month[\"May\"] = 4] = \"May\";\n        Month[Month[\"June\"] = 5] = \"June\";\n        Month[Month[\"July\"] = 6] = \"July\";\n        Month[Month[\"August\"] = 7] = \"August\";\n        Month[Month[\"September\"] = 8] = \"September\";\n        Month[Month[\"October\"] = 9] = \"October\";\n        Month[Month[\"November\"] = 10] = \"November\";\n        Month[Month[\"December\"] = 11] = \"December\";\n      })(Month = exports.Month || (exports.Month = {}));\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Weekly = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var RecurrenceBase_1 = __webpack_require__(16);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Weekly = function (_super) {\n        tslib_1.__extends(Weekly, _super);\n\n        function Weekly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Weekly.prototype.checkDate = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal, date);\n        };\n\n        Weekly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date) % this.interval == 0;\n        };\n\n        Weekly.prototype.calculatePointByInterval = function (date) {\n          var weeksFromStart = DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date);\n          var intervalCount = Math.floor(weeksFromStart / this.interval);\n          var remainder = weeksFromStart % this.interval;\n          var isPointOnNewWeek = remainder > 0 || date.getDay() >= this.dayOfWeekInternal;\n          if (isPointOnNewWeek) intervalCount++;\n          var weeksToAdd = intervalCount * this.interval;\n          return this.calcNextPointWithWeekCount(this.start, weeksToAdd);\n        };\n\n        Weekly.prototype.calculateNearestPoint = function (date) {\n          var diff = this.dayOfWeekInternal - date.getDay();\n          if (diff > 0) return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), diff);\n          return this.calcNextPointWithWeekCount(date, 1);\n        };\n\n        Weekly.prototype.calcNextPointWithWeekCount = function (date, weekCount) {\n          if (weekCount === void 0) {\n            weekCount = 1;\n          }\n\n          var daysToAdd = weekCount * 7 + this.dayOfWeekInternal - date.getDay();\n          return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), daysToAdd);\n        };\n\n        Object.defineProperty(Weekly.prototype, \"dayOfWeek\", {\n          get: function () {\n            return this.dayOfWeekInternal;\n          },\n          set: function (value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return Weekly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Weekly = Weekly;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Monthly = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var RecurrenceBase_1 = __webpack_require__(16);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var MonthInfo_1 = __webpack_require__(74);\n\n      var Monthly = function (_super) {\n        tslib_1.__extends(Monthly, _super);\n\n        function Monthly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Monthly.prototype.checkDate = function (date) {\n          if (this._calculateByDayOfWeek) return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\n        };\n\n        Monthly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getMonthsDifference(this.start, date) % this.interval == 0;\n        };\n\n        Monthly.prototype.calculatePointByInterval = function (date) {\n          var start = this.start;\n          var monthFromStart = DateTimeUtils_1.DateTimeUtils.getMonthsDifference(start, date);\n          var monthToAdd = Math.floor(monthFromStart / this.interval) * this.interval;\n          var info = new MonthInfo_1.MonthInfo(start.getMonth(), start.getFullYear());\n          info.addMonths(monthToAdd);\n          var point = this.getSpecDayInMonth(info.year, info.month);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            info.addMonths(this.interval);\n            point = this.getSpecDayInMonth(info.year, info.month);\n          }\n\n          return point;\n        };\n\n        Monthly.prototype.calculateNearestPoint = function (date) {\n          var month = date.getMonth();\n          var year = date.getFullYear();\n          var point = this.getSpecDayInMonth(year, month);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            var info = new MonthInfo_1.MonthInfo(month, year);\n            info.addMonths(1);\n            point = this.getSpecDayInMonth(info.year, info.month);\n          }\n\n          return point;\n        };\n\n        Object.defineProperty(Monthly.prototype, \"day\", {\n          get: function () {\n            return this.dayInternal;\n          },\n          set: function (value) {\n            this.dayInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Monthly.prototype, \"dayOfWeek\", {\n          get: function () {\n            return this.dayOfWeekInternal;\n          },\n          set: function (value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Monthly.prototype, \"dayOfWeekOccurrence\", {\n          get: function () {\n            return this.dayOfWeekOccurrenceInternal;\n          },\n          set: function (value) {\n            this.dayOfWeekOccurrenceInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Monthly.prototype, \"calculateByDayOfWeek\", {\n          get: function () {\n            return this._calculateByDayOfWeek;\n          },\n          set: function (value) {\n            this._calculateByDayOfWeek = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return Monthly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Monthly = Monthly;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MonthInfo = void 0;\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var MonthInfo = function () {\n        function MonthInfo(month, year) {\n          this.month = month;\n          this.year = year;\n        }\n\n        MonthInfo.prototype.addMonths = function (months) {\n          var nextMonth = DateTimeUtils_1.DateTimeUtils.getNextMonth(this.month, months);\n          var yearInc = Math.floor(months / 12);\n          if (nextMonth < this.month) ++yearInc;\n          this.month = nextMonth;\n          this.year += yearInc;\n        };\n\n        return MonthInfo;\n      }();\n\n      exports.MonthInfo = MonthInfo;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Yearly = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var RecurrenceBase_1 = __webpack_require__(16);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Yearly = function (_super) {\n        tslib_1.__extends(Yearly, _super);\n\n        function Yearly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Yearly.prototype.checkDate = function (date) {\n          if (!DateTimeUtils_1.DateTimeUtils.checkMonth(this.month, date)) return false;\n          if (this._calculateByDayOfWeek) return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\n        };\n\n        Yearly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date) % this.interval == 0;\n        };\n\n        Yearly.prototype.calculatePointByInterval = function (date) {\n          var yearFromStart = DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date);\n          var yearInc = Math.floor(yearFromStart / this.interval) * this.interval;\n          var newYear = this.start.getFullYear() + yearInc;\n          var point = this.getSpecDayInMonth(newYear, this.monthInternal);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            newYear += this.interval;\n            point = this.getSpecDayInMonth(newYear, this.monthInternal);\n          }\n\n          return point;\n        };\n\n        Yearly.prototype.calculateNearestPoint = function (date) {\n          var year = date.getFullYear();\n          var point = this.getSpecDayInMonth(year, this.monthInternal);\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) point = this.getSpecDayInMonth(++year, this.monthInternal);\n          return point;\n        };\n\n        Object.defineProperty(Yearly.prototype, \"month\", {\n          get: function () {\n            return this.monthInternal;\n          },\n          set: function (value) {\n            this.monthInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Yearly.prototype, \"day\", {\n          get: function () {\n            return this.dayInternal;\n          },\n          set: function (value) {\n            this.dayInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Yearly.prototype, \"dayOfWeek\", {\n          get: function () {\n            return this.dayOfWeekInternal;\n          },\n          set: function (value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Yearly.prototype, \"dayOfWeekOccurrence\", {\n          get: function () {\n            return this.dayOfWeekOccurrenceInternal;\n          },\n          set: function (value) {\n            this.dayOfWeekOccurrenceInternal = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(Yearly.prototype, \"calculateByDayOfWeek\", {\n          get: function () {\n            return this._calculateByDayOfWeek;\n          },\n          set: function (value) {\n            this._calculateByDayOfWeek = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return Yearly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Yearly = Yearly;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DayWorkingTimeInfo = void 0;\n\n      var TimeRange_1 = __webpack_require__(37);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Time_1 = __webpack_require__(36);\n\n      var DayWorkingTimeInfo = function () {\n        function DayWorkingTimeInfo(dayNumber, isWorkDay, intervals) {\n          if (dayNumber === void 0) {\n            dayNumber = 0;\n          }\n\n          if (isWorkDay === void 0) {\n            isWorkDay = true;\n          }\n\n          if (intervals === void 0) {\n            intervals = null;\n          }\n\n          this._workingIntervals = new Array();\n          this.dayNumber = dayNumber;\n          this.isWorkDay = isWorkDay;\n          this.addWorkingIntervals(intervals);\n        }\n\n        DayWorkingTimeInfo.prototype.addWorkingIntervals = function (intervals) {\n          if (!intervals) return;\n          this._workingIntervals = this._workingIntervals.concat(intervals.filter(function (r) {\n            return !!r;\n          }));\n          this.rearrangeWorkingIntervals();\n        };\n\n        DayWorkingTimeInfo.prototype.rearrangeWorkingIntervals = function () {\n          for (var i = 0; i < this._workingIntervals.length; i++) this.concatWithIntersectedRanges(this._workingIntervals[i]);\n\n          this.sortIntervals();\n        };\n\n        DayWorkingTimeInfo.prototype.concatWithIntersectedRanges = function (range) {\n          var _this = this;\n\n          var intersectedRanges = this.getIntersectedIntervals(range);\n          intersectedRanges.forEach(function (r) {\n            range.concatWith(r);\n\n            _this.removeInterval(r);\n          });\n        };\n\n        DayWorkingTimeInfo.prototype.getIntersectedIntervals = function (range) {\n          return this._workingIntervals.filter(function (r) {\n            return r.hasIntersect(range) && r !== range;\n          });\n        };\n\n        DayWorkingTimeInfo.prototype.sortIntervals = function () {\n          this._workingIntervals.sort(function (r1, r2) {\n            return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(r2.start, r1.start);\n          });\n        };\n\n        DayWorkingTimeInfo.prototype.removeInterval = function (element) {\n          var index = this._workingIntervals.indexOf(element);\n\n          if (index > -1 && index < this._workingIntervals.length) this._workingIntervals.splice(index, 1);\n        };\n\n        DayWorkingTimeInfo.prototype.clearIntervals = function () {\n          this._workingIntervals.splice(0, this._workingIntervals.length);\n        };\n\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"workingIntervals\", {\n          get: function () {\n            return this._workingIntervals.slice();\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"noWorkingIntervals\", {\n          get: function () {\n            var res = new Array();\n            if (this.isWorkDay && this._workingIntervals.length == 0) return res;\n\n            var starts = this._workingIntervals.map(function (r) {\n              return r.end;\n            });\n\n            starts.splice(0, 0, new Time_1.Time());\n\n            var ends = this._workingIntervals.map(function (r) {\n              return r.start;\n            });\n\n            ends.push(DateTimeUtils_1.DateTimeUtils.getLastTimeOfDay());\n\n            for (var i = 0; i < starts.length; i++) {\n              var start = starts[i];\n              var end = ends[i];\n              if (!DateTimeUtils_1.DateTimeUtils.areTimesEqual(start, end)) res.push(new TimeRange_1.TimeRange(start, end));\n            }\n\n            return res;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"isWorkDay\", {\n          get: function () {\n            return this._isWorkDay;\n          },\n          set: function (value) {\n            this._isWorkDay = value;\n            if (!value) this.clearIntervals();\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return DayWorkingTimeInfo;\n      }();\n\n      exports.DayWorkingTimeInfo = DayWorkingTimeInfo;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(0);\n\n      var offsets_1 = __webpack_require__(78);\n\n      var Margins = function (_super) {\n        tslib_1.__extends(Margins, _super);\n\n        function Margins() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Margins.empty = function () {\n          return new Margins(0, 0, 0, 0);\n        };\n\n        Margins.prototype.clone = function () {\n          return new Margins(this.left, this.right, this.top, this.bottom);\n        };\n\n        return Margins;\n      }(offsets_1.Offsets);\n\n      exports.Margins = Margins;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Offsets = function () {\n        function Offsets(left, right, top, bottom) {\n          this.left = left;\n          this.right = right;\n          this.top = top;\n          this.bottom = bottom;\n        }\n\n        Offsets.empty = function () {\n          return new Offsets(0, 0, 0, 0);\n        };\n\n        Object.defineProperty(Offsets.prototype, \"horizontal\", {\n          get: function () {\n            return this.left + this.right;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Offsets.prototype, \"vertical\", {\n          get: function () {\n            return this.top + this.bottom;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        Offsets.fromNumber = function (offset) {\n          return new Offsets(offset, offset, offset, offset);\n        };\n\n        Offsets.fromOffsets = function (offsets) {\n          return new Offsets(offsets.left, offsets.right, offsets.top, offsets.bottom);\n        };\n\n        Offsets.fromSide = function (horizontal, vertical) {\n          return new Offsets(horizontal, horizontal, vertical, vertical);\n        };\n\n        Offsets.prototype.normalize = function () {\n          this.left = Math.max(0, this.left);\n          this.right = Math.max(0, this.right);\n          this.top = Math.max(0, this.top);\n          this.bottom = Math.max(0, this.bottom);\n          return this;\n        };\n\n        Offsets.prototype.toString = function () {\n          return JSON.stringify(this);\n        };\n\n        Offsets.prototype.isEmpty = function () {\n          return this.left === 0 && this.right === 0 && this.top === 0 && this.bottom === 0;\n        };\n\n        Offsets.prototype.offset = function (offset) {\n          this.left += offset.left;\n          this.right += offset.right;\n          this.top += offset.top;\n          this.bottom += offset.bottom;\n          return this;\n        };\n\n        Offsets.prototype.multiply = function (multLeft, multRight, multTop, multBottom) {\n          switch (arguments.length) {\n            case 1:\n              {\n                this.left *= multLeft;\n                this.right *= multLeft;\n                this.top *= multLeft;\n                this.bottom *= multLeft;\n                return this;\n              }\n\n            case 2:\n              {\n                this.left *= multLeft;\n                this.right *= multLeft;\n                this.top *= multRight;\n                this.bottom *= multRight;\n                return this;\n              }\n\n            case 4:\n              {\n                this.left *= multLeft;\n                this.right *= multRight;\n                this.top *= multTop;\n                this.bottom *= multBottom;\n                return this;\n              }\n          }\n\n          return this;\n        };\n\n        Offsets.prototype.clone = function () {\n          return new Offsets(this.left, this.right, this.top, this.bottom);\n        };\n\n        Offsets.prototype.copyFrom = function (obj) {\n          this.left = obj.left;\n          this.right = obj.right;\n          this.top = obj.top;\n          this.bottom = obj.bottom;\n        };\n\n        Offsets.prototype.equals = function (obj) {\n          return this.top === obj.top && this.bottom === obj.bottom && this.right === obj.right && this.left === obj.left;\n        };\n\n        Offsets.prototype.applyConverter = function (converter) {\n          this.left = converter(this.left);\n          this.right = converter(this.right);\n          this.top = converter(this.top);\n          this.bottom = converter(this.bottom);\n          return this;\n        };\n\n        return Offsets;\n      }();\n\n      exports.Offsets = Offsets;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.EtalonSizeValues = void 0;\n\n      var EtalonSizeValues = function () {\n        function EtalonSizeValues() {\n          this.scaleItemWidths = {};\n        }\n\n        return EtalonSizeValues;\n      }();\n\n      exports.EtalonSizeValues = EtalonSizeValues;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ModelManipulator = void 0;\n\n      var DependencyManipulator_1 = __webpack_require__(81);\n\n      var ResourcesManipulator_1 = __webpack_require__(82);\n\n      var TaskManipulator_1 = __webpack_require__(84);\n\n      var ModelManipulator = function () {\n        function ModelManipulator(viewModel, dispatcher) {\n          this.task = new TaskManipulator_1.TaskManipulator(viewModel, dispatcher);\n          this.dependency = new DependencyManipulator_1.TaskDependencyManipulator(viewModel, dispatcher);\n          this.resource = new ResourcesManipulator_1.ResourcesManipulator(viewModel, dispatcher);\n          this.dispatcher = dispatcher;\n        }\n\n        return ModelManipulator;\n      }();\n\n      exports.ModelManipulator = ModelManipulator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskDependencyManipulator = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(18);\n\n      var TaskDependencyManipulator = function (_super) {\n        tslib_1.__extends(TaskDependencyManipulator, _super);\n\n        function TaskDependencyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDependencyManipulator.prototype.insertDependency = function (predecessorId, successorId, type, id) {\n          var dependency = this.viewModel.dependencies.createItem();\n          dependency.predecessorId = predecessorId;\n          dependency.successorId = successorId;\n          dependency.type = type;\n          if (id) dependency.internalId = id;\n          dependency.id = dependency.internalId;\n          this.viewModel.dependencies.add(dependency);\n          this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(dependency), function (id) {\n            return dependency.id = id;\n          }, this.getErrorCallback());\n          this.viewModel.updateVisibleItemDependencies();\n          this.viewModel.owner.recreateConnectorLineElement(dependency.internalId, true);\n          return dependency;\n        };\n\n        TaskDependencyManipulator.prototype.removeDependency = function (dependencyId) {\n          var dependency = this.viewModel.dependencies.getItemById(dependencyId);\n          this.viewModel.dependencies.remove(dependency);\n          this.dispatcher.notifyDependencyRemoved(dependency.id, this.getErrorCallback(), this.viewModel.getDependencyObjectForDataSource(dependency));\n          this.viewModel.updateVisibleItemDependencies();\n          this.viewModel.owner.recreateConnectorLineElement(dependency.internalId);\n          return dependency;\n        };\n\n        TaskDependencyManipulator.prototype.getObjectForDataSource = function (dependency) {\n          return {\n            id: dependency.id,\n            predecessorId: this.viewModel.tasks.getItemById(dependency.predecessorId).id,\n            successorId: this.viewModel.tasks.getItemById(dependency.successorId).id,\n            type: dependency.type\n          };\n        };\n\n        return TaskDependencyManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.TaskDependencyManipulator = TaskDependencyManipulator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourcesManipulator = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(18);\n\n      var ResourcePropertiesManipulator_1 = __webpack_require__(83);\n\n      var ResourcesManipulator = function (_super) {\n        tslib_1.__extends(ResourcesManipulator, _super);\n\n        function ResourcesManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.properties = new ResourcePropertiesManipulator_1.ResourcePropertiesManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        ResourcesManipulator.prototype.create = function (text, color, id, callback) {\n          var resource = this.viewModel.resources.createItem();\n          resource.text = text;\n          if (color) resource.color = color;\n          if (id) resource.internalId = id;\n          resource.id = resource.internalId;\n          this.viewModel.resources.add(resource);\n          this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(resource), function (id) {\n            resource.id = id;\n            if (callback) callback(id);\n          }, this.getErrorCallback());\n          return resource;\n        };\n\n        ResourcesManipulator.prototype.remove = function (resourceId) {\n          var resource = this.viewModel.resources.getItemById(resourceId);\n          if (!resource) throw new Error(\"Invalid resource id\");\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.resourceId == resourceId;\n          });\n          if (assignments.length) throw new Error(\"Can't delete assigned resource\");\n          this.viewModel.resources.remove(resource);\n          this.dispatcher.notifyResourceRemoved(resource.id, this.getErrorCallback(), this.viewModel.getResourceObjectForDataSource(resource));\n          return resource;\n        };\n\n        ResourcesManipulator.prototype.assign = function (resourceID, taskId, id) {\n          var assignment = this.viewModel.assignments.createItem();\n          assignment.resourceId = resourceID;\n          assignment.taskId = taskId;\n          if (id) assignment.internalId = id;\n          assignment.id = assignment.internalId;\n          this.viewModel.assignments.add(assignment);\n          this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(assignment), function (id) {\n            return assignment.id = id;\n          }, this.getErrorCallback());\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return assignment;\n        };\n\n        ResourcesManipulator.prototype.deassig = function (assignmentId) {\n          var assignment = this.viewModel.assignments.getItemById(assignmentId);\n          this.viewModel.assignments.remove(assignment);\n          this.dispatcher.notifyResourceUnassigned(assignment.id, this.getErrorCallback(), this.viewModel.getResourceAssignmentObjectForDataSource(assignment));\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return assignment;\n        };\n\n        ResourcesManipulator.prototype.getResourceObjectForDataSource = function (resource) {\n          return {\n            id: resource.id,\n            text: resource.text\n          };\n        };\n\n        ResourcesManipulator.prototype.getResourceAssignmentObjectForDataSource = function (resourceAssignment) {\n          return {\n            id: resourceAssignment.id,\n            taskId: this.viewModel.tasks.getItemById(resourceAssignment.taskId).id,\n            resourceId: this.viewModel.resources.getItemById(resourceAssignment.resourceId).id\n          };\n        };\n\n        return ResourcesManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.ResourcesManipulator = ResourcesManipulator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourcePropertyManipulator = exports.ResourcePropertiesManipulator = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(18);\n\n      var HistoryItemState_1 = __webpack_require__(45);\n\n      var ResourcePropertiesManipulator = function (_super) {\n        tslib_1.__extends(ResourcePropertiesManipulator, _super);\n\n        function ResourcePropertiesManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.color = new ResourceColorManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        return ResourcePropertiesManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.ResourcePropertiesManipulator = ResourcePropertiesManipulator;\n\n      var ResourcePropertyManipulator = function (_super) {\n        tslib_1.__extends(ResourcePropertyManipulator, _super);\n\n        function ResourcePropertyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcePropertyManipulator.prototype.setValue = function (id, newValue) {\n          var _this = this;\n\n          var resource = this.viewModel.resources.getItemById(id);\n          var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(resource));\n          this.setPropertyValue(resource, newValue);\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.resourceId == resource.internalId;\n          });\n          assignments.forEach(function (a) {\n            var viewItem = _this.viewModel.findItem(a.taskId);\n\n            var index = viewItem.visibleIndex;\n\n            _this.viewModel.owner.recreateTaskElement(index);\n          });\n          return oldState;\n        };\n\n        ResourcePropertyManipulator.prototype.restoreValue = function (state) {\n          var _this = this;\n\n          if (!state) return;\n          var stateValue = state.value;\n          var resource = this.viewModel.resources.getItemById(state.id);\n          this.setPropertyValue(resource, stateValue);\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.resourceId == resource.internalId;\n          });\n          assignments.forEach(function (a) {\n            var viewItem = _this.viewModel.findItem(a.taskId);\n\n            var index = viewItem.visibleIndex;\n\n            _this.viewModel.owner.recreateTaskElement(index);\n          });\n        };\n\n        return ResourcePropertyManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.ResourcePropertyManipulator = ResourcePropertyManipulator;\n\n      var ResourceColorManipulator = function (_super) {\n        tslib_1.__extends(ResourceColorManipulator, _super);\n\n        function ResourceColorManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceColorManipulator.prototype.getPropertyValue = function (resource) {\n          return resource.color;\n        };\n\n        ResourceColorManipulator.prototype.setPropertyValue = function (resource, value) {\n          resource.color = value;\n          this.dispatcher.notifyResourceColorChanged(resource.id, value, this.getErrorCallback());\n        };\n\n        return ResourceColorManipulator;\n      }(ResourcePropertyManipulator);\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskManipulator = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(18);\n\n      var TaskManipulator = function (_super) {\n        tslib_1.__extends(TaskManipulator, _super);\n\n        function TaskManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.properties = new TaskPropertiesManipulator_1.TaskPropertiesManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        TaskManipulator.prototype.create = function (start, end, title, progress, parentId, id, callback) {\n          var _this = this;\n\n          var task = this.viewModel.tasks.createItem();\n          task.start = start;\n          task.end = end;\n          task.title = title;\n          task.progress = progress;\n          var parentItem = this.viewModel.tasks.getItemById(parentId);\n          if (parentItem) parentItem.expanded = true;\n          task.parentId = parentId;\n          if (id) task.internalId = id;\n          task.id = task.internalId;\n          this.viewModel.tasks.add(task);\n          this.viewModel.updateModel();\n          this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(task), function (id) {\n            task.id = id;\n            if (callback) callback();\n\n            if (_this.viewModel.requireFirstLoadParentAutoCalc) {\n              var data = _this.viewModel.getCurrentTaskData().map(function (t) {\n                if (t.parentId === \"\") t.parentId = null;\n                return t;\n              });\n\n              _this.dispatcher.notifyParentDataRecalculated(data);\n            }\n          }, this.getErrorCallback());\n          this.viewModel.owner.resetAndUpdate();\n          return task;\n        };\n\n        TaskManipulator.prototype.remove = function (taskId) {\n          var task = this.viewModel.tasks.getItemById(taskId);\n          if (!task) throw new Error(\"Invalid task id\");\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == taskId || d.successorId == taskId;\n          });\n          if (dependencies.length) throw new Error(\"Can't delete task with dependency\");\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.taskId == taskId;\n          });\n          if (assignments.length) throw new Error(\"Can't delete task with assigned resource\");\n          this.viewModel.tasks.remove(task);\n          this.dispatcher.notifyTaskRemoved(task.id, this.getErrorCallback(), this.viewModel.getTaskObjectForDataSource(task));\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return task;\n        };\n\n        TaskManipulator.prototype.getObjectForDataSource = function (task) {\n          return this.viewModel.getTaskObjectForDataSource(task);\n        };\n\n        return TaskManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.TaskManipulator = TaskManipulator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.History = void 0;\n\n      var HistoryItem_1 = __webpack_require__(12);\n\n      var HistoryItemInfo_1 = __webpack_require__(86);\n\n      var History = function () {\n        function History() {\n          this.historyItems = [];\n          this.currentIndex = -1;\n          this.currentProcessingItemInfo = null;\n          this.transaction = null;\n          this.transactionLevel = -1;\n        }\n\n        History.prototype.undo = function () {\n          if (this.canUndo()) {\n            this.activateItem(this.historyItems[this.currentIndex], true);\n            this.currentIndex--;\n          }\n        };\n\n        History.prototype.redo = function () {\n          if (this.canRedo()) {\n            this.currentIndex++;\n            this.activateItem(this.historyItems[this.currentIndex]);\n          }\n        };\n\n        History.prototype.beginTransaction = function () {\n          this.transactionLevel++;\n          if (this.transactionLevel == 0) this.transaction = new HistoryItem_1.CompositionHistoryItem();\n        };\n\n        History.prototype.endTransaction = function () {\n          if (--this.transactionLevel >= 0) return;\n          var transactionLength = this.transaction.historyItems.length;\n          if (transactionLength > 1) this.addInternal(this.transaction);else if (transactionLength == 1) this.addInternal(this.transaction.historyItems.pop());\n          this.transaction = null;\n        };\n\n        History.prototype.addAndRedo = function (historyItem) {\n          this.add(historyItem);\n          this.activateItem(historyItem);\n        };\n\n        History.prototype.add = function (historyItem) {\n          if (this.transactionLevel >= 0) this.transaction.add(historyItem);else this.addInternal(historyItem);\n        };\n\n        History.prototype.canUndo = function () {\n          return this.currentIndex >= 0;\n        };\n\n        History.prototype.canRedo = function () {\n          return this.currentIndex < this.historyItems.length - 1;\n        };\n\n        History.prototype.addInternal = function (historyItem) {\n          if (this.currentIndex < this.historyItems.length - 1) this.historyItems.splice(this.currentIndex + 1);\n          this.historyItems.push(historyItem);\n          this.currentIndex++;\n          this.deleteOldItems();\n        };\n\n        History.prototype.deleteOldItems = function () {\n          var exceedItemsCount = this.historyItems.length - History.MAX_HISTORY_ITEM_COUNT;\n\n          if (exceedItemsCount > 0 && this.currentIndex > exceedItemsCount) {\n            this.historyItems.splice(0, exceedItemsCount);\n            this.currentIndex -= exceedItemsCount;\n          }\n        };\n\n        History.prototype.clear = function () {\n          this.currentIndex = -1;\n          this.historyItems = [];\n        };\n\n        History.prototype.activateItem = function (historyItem, isUndo) {\n          if (isUndo === void 0) {\n            isUndo = false;\n          }\n\n          this.currentProcessingItemInfo = new HistoryItemInfo_1.HistoryItemInfo(historyItem, isUndo);\n          if (isUndo) historyItem.undo();else historyItem.redo();\n          this.currentProcessingItemInfo = null;\n        };\n\n        History.prototype.getCurrentProcessingItemInfo = function () {\n          return this.currentProcessingItemInfo;\n        };\n\n        History.prototype.rollBackAndRemove = function (info) {\n          var item = info.item;\n          if (!this.checkAndRemoveItem(item)) return;\n          if (info.isUndo) item.redo();else if (item instanceof HistoryItem_1.CompositionHistoryItem) item.undoItemsQuery();else item.undo();\n        };\n\n        History.prototype.checkAndRemoveItem = function (item) {\n          var index = this.historyItems.indexOf(item);\n\n          if (index > -1) {\n            this.historyItems.splice(index, 1);\n            this.currentIndex--;\n          } else if (this.transaction) {\n            index = this.transaction.historyItems.indexOf(item);\n            if (index > -1) this.transaction.historyItems.splice(index, 1);\n          }\n\n          return index > -1;\n        };\n\n        History.MAX_HISTORY_ITEM_COUNT = 100;\n        return History;\n      }();\n\n      exports.History = History;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.HistoryItemInfo = void 0;\n\n      var HistoryItemInfo = function () {\n        function HistoryItemInfo(item, isUndo) {\n          if (isUndo === void 0) {\n            isUndo = false;\n          }\n\n          this.item = item;\n          this.isUndo = isUndo;\n        }\n\n        return HistoryItemInfo;\n      }();\n\n      exports.HistoryItemInfo = HistoryItemInfo;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.EventManager = void 0;\n\n      var MouseHandler_1 = __webpack_require__(88);\n\n      var key_1 = __webpack_require__(93);\n\n      var browser_1 = __webpack_require__(5);\n\n      var TouchHandler_1 = __webpack_require__(95);\n\n      var EventManager = function () {\n        function EventManager(control) {\n          this.control = control;\n          this.mouseHandler = new MouseHandler_1.MouseHandler(control);\n          this.touchHandler = new TouchHandler_1.TouchHandler(control);\n        }\n\n        EventManager.prototype.onMouseDown = function (evt) {\n          this.mouseHandler.onMouseDown(evt);\n        };\n\n        EventManager.prototype.onMouseMove = function (evt) {\n          this.mouseHandler.onMouseMove(evt);\n        };\n\n        EventManager.prototype.onMouseUp = function (evt) {\n          this.mouseHandler.onMouseUp(evt);\n        };\n\n        EventManager.prototype.onMouseDblClick = function (evt) {\n          this.mouseHandler.onMouseDoubleClick(evt);\n        };\n\n        EventManager.prototype.onMouseWheel = function (evt) {\n          this.mouseHandler.onMouseWheel(evt);\n        };\n\n        EventManager.prototype.onTouchStart = function (evt) {\n          this.touchHandler.onTouchStart(evt);\n        };\n\n        EventManager.prototype.onTouchEnd = function (evt) {\n          this.touchHandler.onTouchEnd(evt);\n        };\n\n        EventManager.prototype.onTouchMove = function (evt) {\n          this.touchHandler.onTouchMove(evt);\n        };\n\n        EventManager.prototype.onDoubleTap = function (evt) {\n          this.touchHandler.onDoubleTap(evt);\n        };\n\n        EventManager.prototype.onKeyDown = function (evt) {\n          if (this.control.isFocus) {\n            var code = this.getShortcutCode(evt);\n            if (code == (key_1.ModifierKey.Ctrl | key_1.KeyCode.Key_z)) this.control.history.undo();\n            if (code == (key_1.ModifierKey.Ctrl | key_1.KeyCode.Key_y)) this.control.history.redo();\n            if (code == key_1.KeyCode.Delete) this.control.taskEditController.deleteSelectedDependency();\n          }\n        };\n\n        EventManager.prototype.getShortcutCode = function (evt) {\n          var keyCode = key_1.KeyUtils.getEventKeyCode(evt);\n          var modifiers = 0;\n          if (evt.altKey) modifiers |= key_1.ModifierKey.Alt;\n          if (evt.ctrlKey) modifiers |= key_1.ModifierKey.Ctrl;\n          if (evt.shiftKey) modifiers |= key_1.ModifierKey.Shift;\n          if (evt.metaKey && browser_1.Browser.MacOSPlatform) modifiers |= key_1.ModifierKey.Meta;\n          return modifiers | keyCode;\n        };\n\n        return EventManager;\n      }();\n\n      exports.EventManager = EventManager;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandler = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HandlerBase_1 = __webpack_require__(46);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var MouseHandlerDefaultState_1 = __webpack_require__(89);\n\n      var evt_1 = __webpack_require__(6);\n\n      var MouseHandlerMoveTaskState_1 = __webpack_require__(90);\n\n      var MouseHandlerProgressTaskState_1 = __webpack_require__(91);\n\n      var MouseHandlerTimestampTaskState_1 = __webpack_require__(92);\n\n      var MouseHandlerDependencyState_1 = __webpack_require__(47);\n\n      var MouseHandler = function (_super) {\n        tslib_1.__extends(MouseHandler, _super);\n\n        function MouseHandler() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandler.prototype.onMouseDoubleClick = function (evt) {\n          this.state.onMouseDoubleClick(evt);\n        };\n\n        MouseHandler.prototype.onMouseDown = function (evt) {\n          var source = this.getEventSource(evt_1.EvtUtils.getEventSource(evt));\n\n          switch (source) {\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\n              this.switchState(new MouseHandlerMoveTaskState_1.MouseHandlerMoveTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\n              this.switchState(new MouseHandlerProgressTaskState_1.MouseHandlerProgressTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\n              this.switchState(new MouseHandlerTimestampTaskState_1.MouseHandlerTimestampTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\n              this.switchState(new MouseHandlerDependencyState_1.MouseHandlerDependencyState(this));\n              break;\n          }\n\n          this.state.onMouseDown(evt);\n        };\n\n        MouseHandler.prototype.onMouseUp = function (evt) {\n          this.state.onMouseUp(evt);\n        };\n\n        MouseHandler.prototype.onMouseMove = function (evt) {\n          this.state.onMouseMove(evt);\n        };\n\n        MouseHandler.prototype.onMouseWheel = function (evt) {\n          this.state.onMouseWheel(evt);\n        };\n\n        MouseHandler.prototype.switchToDefaultState = function () {\n          this.state = new MouseHandlerDefaultState_1.MouseHandlerDefaultState(this);\n        };\n\n        return MouseHandler;\n      }(HandlerBase_1.HandlerBase);\n\n      exports.MouseHandler = MouseHandler;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GanttMovingHelper = exports.MouseHandlerDefaultState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var dom_1 = __webpack_require__(3);\n\n      var evt_1 = __webpack_require__(6);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(29);\n\n      var GridLayoutCalculator_1 = __webpack_require__(17);\n\n      var point_1 = __webpack_require__(4);\n\n      var browser_1 = __webpack_require__(5);\n\n      var MouseHandlerDefaultState = function (_super) {\n        tslib_1.__extends(MouseHandlerDefaultState, _super);\n\n        function MouseHandlerDefaultState(handler) {\n          var _this = _super.call(this, handler) || this;\n\n          _this.isInScrolling = false;\n          _this.ganttMovingHelper = new GanttMovingHelper(_this.handler.control);\n          return _this;\n        }\n\n        MouseHandlerDefaultState.prototype.onMouseDown = function (evt) {\n          evt.preventDefault();\n          var source = evt_1.EvtUtils.getEventSource(evt);\n\n          if (dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) || dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)) {\n            var id = source.getAttribute(\"dependency-id\");\n\n            if (this.handler.control.taskEditController.dependencyId != id) {\n              this.handler.control.selectDependency(id);\n\n              if (evt instanceof PointerEvent) {\n                var info = {\n                  event: evt,\n                  type: \"dependency\",\n                  key: id,\n                  position: new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt))\n                };\n                this.handler.control.ganttOwner.showPopupMenu(info);\n              }\n            }\n          } else {\n            if (evt_1.EvtUtils.isLeftButtonPressed(evt)) this.ganttMovingHelper.startMoving(evt);\n            if (this.handler.control.taskEditController.dependencyId != null) this.handler.control.selectDependency(null);\n          }\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseUp = function (evt) {\n          this.ganttMovingHelper.onMouseUp(evt);\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseMove = function (evt) {\n          if (this.ganttMovingHelper.movingInfo) {\n            this.handler.control.taskEditController.hide();\n            this.ganttMovingHelper.onMouseMove(evt);\n            evt.preventDefault();\n          }\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseWheel = function (evt) {\n          var _this = this;\n\n          if (evt.ctrlKey) {\n            evt.preventDefault();\n            evt.stopPropagation();\n\n            if (!this.isInScrolling) {\n              this.isInScrolling = true;\n              setTimeout(function () {\n                _this.isInScrolling = false;\n              }, 50);\n              var increase = evt_1.EvtUtils.getWheelDelta(evt) > 0;\n              var leftPos = evt_1.EvtUtils.getEventX(evt) - dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement());\n              if (increase) this.handler.control.zoomIn(leftPos);else this.handler.control.zoomOut(leftPos);\n            }\n          }\n        };\n\n        return MouseHandlerDefaultState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDefaultState = MouseHandlerDefaultState;\n\n      var GanttMovingHelper = function () {\n        function GanttMovingHelper(gantt) {\n          this.gantt = gantt;\n          this.movingInfo = null;\n        }\n\n        GanttMovingHelper.prototype.startMoving = function (e) {\n          this.movingInfo = this.calcMovingInfo(e);\n          this.updateGanttAreaCursor(true);\n        };\n\n        GanttMovingHelper.prototype.cancelMoving = function () {\n          this.movingInfo = null;\n        };\n\n        GanttMovingHelper.prototype.onMouseMove = function (e) {\n          this.move(e);\n        };\n\n        GanttMovingHelper.prototype.onMouseUp = function (e) {\n          this.cancelMoving();\n          this.updateGanttAreaCursor(false);\n        };\n\n        GanttMovingHelper.prototype.move = function (e) {\n          this.updateScrollPosition(e);\n        };\n\n        GanttMovingHelper.prototype.updateScrollPosition = function (e) {\n          var newEventX = Math.round(evt_1.EvtUtils.getEventX(e));\n          var newEventY = Math.round(evt_1.EvtUtils.getEventY(e));\n          var deltaX = newEventX - this.movingInfo.eventX;\n          var deltaY = newEventY - this.movingInfo.eventY;\n          var dirX = deltaX < 0 ? -1 : 1;\n          var dirY = deltaY < 0 ? -1 : 1;\n          var maxDeltaX = dirX < 0 ? this.movingInfo.maxRightDelta : this.movingInfo.maxLeftDelta;\n          var maxDeltaY = dirY < 0 ? this.movingInfo.maxBottomDelta : this.movingInfo.maxTopDelta;\n          if (Math.abs(deltaX) > maxDeltaX) deltaX = maxDeltaX * dirX;\n          if (Math.abs(deltaY) > maxDeltaY) deltaY = maxDeltaY * dirY;\n          var newScrollLeft = this.movingInfo.scrollLeft - deltaX;\n          var newScrollTop = this.movingInfo.scrollTop - deltaY;\n          var taskAreaContainer = this.gantt.taskAreaContainer;\n          if (taskAreaContainer.scrollLeft !== newScrollLeft) taskAreaContainer.scrollLeft = newScrollLeft;\n          if (taskAreaContainer.scrollTop !== newScrollTop) taskAreaContainer.scrollTop = newScrollTop;\n        };\n\n        GanttMovingHelper.prototype.calcMovingInfo = function (e) {\n          var taskAreaContainer = this.gantt.taskAreaContainer;\n          return {\n            eventX: evt_1.EvtUtils.getEventX(e),\n            eventY: evt_1.EvtUtils.getEventY(e),\n            scrollLeft: taskAreaContainer.scrollLeft,\n            scrollTop: taskAreaContainer.scrollTop,\n            maxLeftDelta: taskAreaContainer.scrollLeft,\n            maxRightDelta: taskAreaContainer.scrollWidth - taskAreaContainer.scrollLeft - taskAreaContainer.getElement().offsetWidth,\n            maxTopDelta: taskAreaContainer.scrollTop,\n            maxBottomDelta: taskAreaContainer.scrollHeight - taskAreaContainer.scrollTop - taskAreaContainer.getElement().offsetHeight\n          };\n        };\n\n        GanttMovingHelper.prototype.updateGanttAreaCursor = function (drag) {\n          if (browser_1.Browser.IE) this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"move\" : \"default\";else this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"grabbing\" : \"default\";\n        };\n\n        return GanttMovingHelper;\n      }();\n\n      exports.GanttMovingHelper = GanttMovingHelper;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandlerMoveTaskState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(30);\n\n      var MouseHandlerMoveTaskState = function (_super) {\n        tslib_1.__extends(MouseHandlerMoveTaskState, _super);\n\n        function MouseHandlerMoveTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerMoveTaskState.prototype.onMouseUpInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmMove();\n        };\n\n        MouseHandlerMoveTaskState.prototype.onMouseMoveInternal = function (position) {\n          if (!this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x)) this.handler.switchToDefaultState();\n        };\n\n        return MouseHandlerMoveTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerMoveTaskState = MouseHandlerMoveTaskState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandlerProgressTaskState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(30);\n\n      var MouseHandlerProgressTaskState = function (_super) {\n        tslib_1.__extends(MouseHandlerProgressTaskState, _super);\n\n        function MouseHandlerProgressTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerProgressTaskState.prototype.onMouseUpInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmProgress();\n        };\n\n        MouseHandlerProgressTaskState.prototype.onMouseMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          this.handler.control.taskEditController.processProgress(relativePosition);\n        };\n\n        return MouseHandlerProgressTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerProgressTaskState = MouseHandlerProgressTaskState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MouseHandlerTimestampTaskState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var evt_1 = __webpack_require__(6);\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(30);\n\n      var MouseHandlerTimestampTaskState = function (_super) {\n        tslib_1.__extends(MouseHandlerTimestampTaskState, _super);\n\n        function MouseHandlerTimestampTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerTimestampTaskState.prototype.onMouseDown = function (evt) {\n          _super.prototype.onMouseDown.call(this, evt);\n\n          this.source = this.handler.getEventSource(evt_1.EvtUtils.getEventSource(evt));\n        };\n\n        MouseHandlerTimestampTaskState.prototype.onMouseUpInternal = function (_evt) {\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.confirmStart();else this.handler.control.taskEditController.confirmEnd();\n        };\n\n        MouseHandlerTimestampTaskState.prototype.onMouseMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.processStart(relativePosition);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End) this.handler.control.taskEditController.processEnd(relativePosition);\n        };\n\n        return MouseHandlerTimestampTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerTimestampTaskState = MouseHandlerTimestampTaskState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var browser_1 = __webpack_require__(5);\n\n      var encode_1 = __webpack_require__(94);\n\n      var string_1 = __webpack_require__(27);\n\n      var KeyUtils = function () {\n        function KeyUtils() {}\n\n        KeyUtils.getKeyModifiers = function (evt) {\n          var result = 0;\n          if (evt.altKey) result |= ModifierKey.Alt;\n          if (evt.ctrlKey) result |= ModifierKey.Ctrl;\n          if (evt.shiftKey) result |= ModifierKey.Shift;\n          return result;\n        };\n\n        KeyUtils.getShortcutCode = function (keyCode, isCtrlKey, isShiftKey, isAltKey, isMetaKey) {\n          var value = keyCode;\n          value |= isCtrlKey ? ModifierKey.Ctrl : 0;\n          value |= isShiftKey ? ModifierKey.Shift : 0;\n          value |= isAltKey ? ModifierKey.Alt : 0;\n          value |= isMetaKey ? ModifierKey.Meta : 0;\n          return value;\n        };\n\n        KeyUtils.getShortcutCodeByEvent = function (evt) {\n          return KeyUtils.getShortcutCode(KeyUtils.getEventKeyCode(evt), evt.ctrlKey, evt.shiftKey, evt.altKey, browser_1.Browser.MacOSPlatform ? evt.metaKey : false);\n        };\n\n        KeyUtils.getEventKeyCode = function (evt) {\n          return browser_1.Browser.NetscapeFamily || browser_1.Browser.Opera ? evt.which : evt.keyCode;\n        };\n\n        KeyUtils.parseShortcutString = function (shortcutString) {\n          if (!shortcutString) return 0;\n          var isCtrlKey = false;\n          var isShiftKey = false;\n          var isAltKey = false;\n          var isMetaKey = false;\n          var keyCode = null;\n          var shcKeys = shortcutString.toString().split('+');\n\n          if (shcKeys.length > 0) {\n            for (var i = 0; i < shcKeys.length; i++) {\n              var key = string_1.StringUtils.trim(shcKeys[i].toUpperCase());\n\n              switch (key) {\n                case 'CONTROL':\n                case 'CONTROLKEY':\n                case 'CTRL':\n                  isCtrlKey = true;\n                  break;\n\n                case 'SHIFT':\n                case 'SHIFTKEY':\n                  isShiftKey = true;\n                  break;\n\n                case 'ALT':\n                  isAltKey = true;\n                  break;\n\n                case 'CMD':\n                  isMetaKey = true;\n                  break;\n\n                case 'F1':\n                  keyCode = KeyCode.F1;\n                  break;\n\n                case 'F2':\n                  keyCode = KeyCode.F2;\n                  break;\n\n                case 'F3':\n                  keyCode = KeyCode.F3;\n                  break;\n\n                case 'F4':\n                  keyCode = KeyCode.F4;\n                  break;\n\n                case 'F5':\n                  keyCode = KeyCode.F5;\n                  break;\n\n                case 'F6':\n                  keyCode = KeyCode.F6;\n                  break;\n\n                case 'F7':\n                  keyCode = KeyCode.F7;\n                  break;\n\n                case 'F8':\n                  keyCode = KeyCode.F8;\n                  break;\n\n                case 'F9':\n                  keyCode = KeyCode.F9;\n                  break;\n\n                case 'F10':\n                  keyCode = KeyCode.F10;\n                  break;\n\n                case 'F11':\n                  keyCode = KeyCode.F11;\n                  break;\n\n                case 'F12':\n                  keyCode = KeyCode.F12;\n                  break;\n\n                case 'RETURN':\n                case 'ENTER':\n                  keyCode = KeyCode.Enter;\n                  break;\n\n                case 'HOME':\n                  keyCode = KeyCode.Home;\n                  break;\n\n                case 'END':\n                  keyCode = KeyCode.End;\n                  break;\n\n                case 'LEFT':\n                  keyCode = KeyCode.Left;\n                  break;\n\n                case 'RIGHT':\n                  keyCode = KeyCode.Right;\n                  break;\n\n                case 'UP':\n                  keyCode = KeyCode.Up;\n                  break;\n\n                case 'DOWN':\n                  keyCode = KeyCode.Down;\n                  break;\n\n                case 'PAGEUP':\n                  keyCode = KeyCode.PageUp;\n                  break;\n\n                case 'PAGEDOWN':\n                  keyCode = KeyCode.PageDown;\n                  break;\n\n                case 'SPACE':\n                  keyCode = KeyCode.Space;\n                  break;\n\n                case 'TAB':\n                  keyCode = KeyCode.Tab;\n                  break;\n\n                case 'BACKSPACE':\n                case 'BACK':\n                  keyCode = KeyCode.Backspace;\n                  break;\n\n                case 'CONTEXT':\n                  keyCode = KeyCode.ContextMenu;\n                  break;\n\n                case 'ESCAPE':\n                case 'ESC':\n                  keyCode = KeyCode.Esc;\n                  break;\n\n                case 'DELETE':\n                case 'DEL':\n                  keyCode = KeyCode.Delete;\n                  break;\n\n                case 'INSERT':\n                case 'INS':\n                  keyCode = KeyCode.Insert;\n                  break;\n\n                case 'PLUS':\n                  keyCode = '+'.charCodeAt(0);\n                  break;\n\n                default:\n                  keyCode = key.charCodeAt(0);\n                  break;\n              }\n            }\n          } else alert(encode_1.EncodeUtils.decodeViaTextArea('Invalid shortcut'));\n\n          return KeyUtils.getShortcutCode(keyCode, isCtrlKey, isShiftKey, isAltKey, isMetaKey);\n        };\n\n        return KeyUtils;\n      }();\n\n      exports.KeyUtils = KeyUtils;\n      var ModifierKey;\n\n      (function (ModifierKey) {\n        ModifierKey[ModifierKey[\"None\"] = 0] = \"None\";\n        ModifierKey[ModifierKey[\"Ctrl\"] = 65536] = \"Ctrl\";\n        ModifierKey[ModifierKey[\"Shift\"] = 262144] = \"Shift\";\n        ModifierKey[ModifierKey[\"Alt\"] = 1048576] = \"Alt\";\n        ModifierKey[ModifierKey[\"Meta\"] = 16777216] = \"Meta\";\n      })(ModifierKey = exports.ModifierKey || (exports.ModifierKey = {}));\n\n      var KeyCode;\n\n      (function (KeyCode) {\n        KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\n        KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\n        KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\n        KeyCode[KeyCode[\"Pause\"] = 19] = \"Pause\";\n        KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\n        KeyCode[KeyCode[\"Esc\"] = 27] = \"Esc\";\n        KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\n        KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\n        KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\n        KeyCode[KeyCode[\"End\"] = 35] = \"End\";\n        KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\n        KeyCode[KeyCode[\"Left\"] = 37] = \"Left\";\n        KeyCode[KeyCode[\"Up\"] = 38] = \"Up\";\n        KeyCode[KeyCode[\"Right\"] = 39] = \"Right\";\n        KeyCode[KeyCode[\"Down\"] = 40] = \"Down\";\n        KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\n        KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\n        KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\n        KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\n        KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\n        KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\n        KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\n        KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\n        KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\n        KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\n        KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\n        KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\n        KeyCode[KeyCode[\"Key_a\"] = 65] = \"Key_a\";\n        KeyCode[KeyCode[\"Key_b\"] = 66] = \"Key_b\";\n        KeyCode[KeyCode[\"Key_c\"] = 67] = \"Key_c\";\n        KeyCode[KeyCode[\"Key_d\"] = 68] = \"Key_d\";\n        KeyCode[KeyCode[\"Key_e\"] = 69] = \"Key_e\";\n        KeyCode[KeyCode[\"Key_f\"] = 70] = \"Key_f\";\n        KeyCode[KeyCode[\"Key_g\"] = 71] = \"Key_g\";\n        KeyCode[KeyCode[\"Key_h\"] = 72] = \"Key_h\";\n        KeyCode[KeyCode[\"Key_i\"] = 73] = \"Key_i\";\n        KeyCode[KeyCode[\"Key_j\"] = 74] = \"Key_j\";\n        KeyCode[KeyCode[\"Key_k\"] = 75] = \"Key_k\";\n        KeyCode[KeyCode[\"Key_l\"] = 76] = \"Key_l\";\n        KeyCode[KeyCode[\"Key_m\"] = 77] = \"Key_m\";\n        KeyCode[KeyCode[\"Key_n\"] = 78] = \"Key_n\";\n        KeyCode[KeyCode[\"Key_o\"] = 79] = \"Key_o\";\n        KeyCode[KeyCode[\"Key_p\"] = 80] = \"Key_p\";\n        KeyCode[KeyCode[\"Key_q\"] = 81] = \"Key_q\";\n        KeyCode[KeyCode[\"Key_r\"] = 82] = \"Key_r\";\n        KeyCode[KeyCode[\"Key_s\"] = 83] = \"Key_s\";\n        KeyCode[KeyCode[\"Key_t\"] = 84] = \"Key_t\";\n        KeyCode[KeyCode[\"Key_u\"] = 85] = \"Key_u\";\n        KeyCode[KeyCode[\"Key_v\"] = 86] = \"Key_v\";\n        KeyCode[KeyCode[\"Key_w\"] = 87] = \"Key_w\";\n        KeyCode[KeyCode[\"Key_x\"] = 88] = \"Key_x\";\n        KeyCode[KeyCode[\"Key_y\"] = 89] = \"Key_y\";\n        KeyCode[KeyCode[\"Key_z\"] = 90] = \"Key_z\";\n        KeyCode[KeyCode[\"Windows\"] = 91] = \"Windows\";\n        KeyCode[KeyCode[\"ContextMenu\"] = 93] = \"ContextMenu\";\n        KeyCode[KeyCode[\"Numpad_0\"] = 96] = \"Numpad_0\";\n        KeyCode[KeyCode[\"Numpad_1\"] = 97] = \"Numpad_1\";\n        KeyCode[KeyCode[\"Numpad_2\"] = 98] = \"Numpad_2\";\n        KeyCode[KeyCode[\"Numpad_3\"] = 99] = \"Numpad_3\";\n        KeyCode[KeyCode[\"Numpad_4\"] = 100] = \"Numpad_4\";\n        KeyCode[KeyCode[\"Numpad_5\"] = 101] = \"Numpad_5\";\n        KeyCode[KeyCode[\"Numpad_6\"] = 102] = \"Numpad_6\";\n        KeyCode[KeyCode[\"Numpad_7\"] = 103] = \"Numpad_7\";\n        KeyCode[KeyCode[\"Numpad_8\"] = 104] = \"Numpad_8\";\n        KeyCode[KeyCode[\"Numpad_9\"] = 105] = \"Numpad_9\";\n        KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\n        KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\n        KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\n        KeyCode[KeyCode[\"Decimal\"] = 110] = \"Decimal\";\n        KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\n        KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\n        KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\n        KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\n        KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\n        KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\n        KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\n        KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\n        KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\n        KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\n        KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\n        KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\n        KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\n        KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\n        KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\n        KeyCode[KeyCode[\"Semicolon\"] = 186] = \"Semicolon\";\n        KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\n        KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\n        KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\n        KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\n        KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\n        KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\n        KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\n        KeyCode[KeyCode[\"BackSlash\"] = 220] = \"BackSlash\";\n        KeyCode[KeyCode[\"CloseBracket\"] = 221] = \"CloseBracket\";\n        KeyCode[KeyCode[\"SingleQuote\"] = 222] = \"SingleQuote\";\n      })(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EncodeUtils = function () {\n        function EncodeUtils() {}\n\n        EncodeUtils.encodeHtml = function (text) {\n          return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n        };\n\n        EncodeUtils.decodeHtml = function (text) {\n          return text.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>');\n        };\n\n        EncodeUtils.prepareTextForRequest = function (text) {\n          return text.replace(/%/g, '%25').replace(/&/g, '%26amp;').replace(/\\+/g, '%2B').replace(/</g, '%26lt;').replace(/>/g, '%26gt;').replace(/\"/g, '%26quot;');\n        };\n\n        EncodeUtils.prepareTextForCallBackRequest = function (text) {\n          return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n        };\n\n        EncodeUtils.decodeViaTextArea = function (html) {\n          var textArea = document.createElement('TEXTAREA');\n          textArea.innerHTML = html;\n          return textArea.value;\n        };\n\n        return EncodeUtils;\n      }();\n\n      exports.EncodeUtils = EncodeUtils;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandler = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HandlerBase_1 = __webpack_require__(46);\n\n      var evt_1 = __webpack_require__(6);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var TouchHandlerMoveTaskState_1 = __webpack_require__(96);\n\n      var TouchHandlerDefaultState_1 = __webpack_require__(97);\n\n      var TouchHandlerProgressTaskState_1 = __webpack_require__(98);\n\n      var TouchHandlerTimestampTaskState_1 = __webpack_require__(99);\n\n      var TouchHandlerDependencyState_1 = __webpack_require__(100);\n\n      var TouchHandlerZoomState_1 = __webpack_require__(101);\n\n      var TouchHandler = function (_super) {\n        tslib_1.__extends(TouchHandler, _super);\n\n        function TouchHandler() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandler.prototype.onTouchStart = function (evt) {\n          if (evt.touches.length > 1) evt.preventDefault();\n          var source = this.getEventSource(evt_1.EvtUtils.getEventSource(evt));\n\n          switch (source) {\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\n              this.switchState(new TouchHandlerMoveTaskState_1.TouchHandlerMoveTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\n              this.switchState(new TouchHandlerProgressTaskState_1.TouchHandlerProgressTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\n              this.switchState(new TouchHandlerTimestampTaskState_1.TouchHandlerTimestampTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\n              this.switchState(new TouchHandlerDependencyState_1.TouchHandlerDependencyState(this));\n              break;\n          }\n\n          this.state.onTouchStart(evt);\n        };\n\n        TouchHandler.prototype.onDoubleTap = function (evt) {\n          this.state.onDoubleTap(evt);\n        };\n\n        TouchHandler.prototype.onTouchEnd = function (evt) {\n          this.state.onTouchEnd(evt);\n        };\n\n        TouchHandler.prototype.onTouchMove = function (evt) {\n          if (evt.touches.length > 1) if (!(this.state instanceof TouchHandlerZoomState_1.TouchHandlerZoomState)) this.switchState(new TouchHandlerZoomState_1.TouchHandlerZoomState(this));\n          this.state.onTouchMove(evt);\n        };\n\n        TouchHandler.prototype.switchToDefaultState = function () {\n          this.state = new TouchHandlerDefaultState_1.TouchHandlerDefaultState(this);\n        };\n\n        return TouchHandler;\n      }(HandlerBase_1.HandlerBase);\n\n      exports.TouchHandler = TouchHandler;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerMoveTaskState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TouchHandlerDragBaseState_1 = __webpack_require__(31);\n\n      var TouchHandlerMoveTaskState = function (_super) {\n        tslib_1.__extends(TouchHandlerMoveTaskState, _super);\n\n        function TouchHandlerMoveTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerMoveTaskState.prototype.onTouchEndInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmMove();\n        };\n\n        TouchHandlerMoveTaskState.prototype.onTouchMoveInternal = function (position) {\n          if (!this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x)) this.handler.switchToDefaultState();\n        };\n\n        return TouchHandlerMoveTaskState;\n      }(TouchHandlerDragBaseState_1.TouchHandlerDragBaseState);\n\n      exports.TouchHandlerMoveTaskState = TouchHandlerMoveTaskState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerDefaultState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var point_1 = __webpack_require__(4);\n\n      var dom_1 = __webpack_require__(3);\n\n      var evt_1 = __webpack_require__(6);\n\n      var touch_1 = __webpack_require__(15);\n\n      var GridLayoutCalculator_1 = __webpack_require__(17);\n\n      var HandlerStateBase_1 = __webpack_require__(19);\n\n      var TouchHandlerDefaultState = function (_super) {\n        tslib_1.__extends(TouchHandlerDefaultState, _super);\n\n        function TouchHandlerDefaultState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerDefaultState.prototype.onTouchStart = function (evt) {\n          var _this = this;\n\n          this.preventSelect = false;\n          clearTimeout(this.popupTimer);\n\n          if (evt.touches.length === 1) {\n            var source = evt_1.EvtUtils.getEventSource(evt);\n            var info_1 = {\n              event: evt,\n              position: new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt))\n            };\n\n            if (dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) || dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)) {\n              this.preventSelect = true;\n              var id = source.getAttribute(\"dependency-id\");\n              if (this.handler.control.taskEditController.dependencyId != id) this.handler.control.selectDependency(id);\n              info_1[\"type\"] = \"dependency\";\n              info_1[\"key\"] = id;\n              this.handler.control.ganttOwner.showPopupMenu(info_1);\n            } else this.popupTimer = setTimeout(function () {\n              var index = _this.getTaskIndex(evt);\n\n              _this.changeTaskSelection(index);\n\n              var item = _this.handler.control.viewModel.items[index];\n              info_1[\"type\"] = \"task\";\n              info_1[\"key\"] = item && item.task.id;\n\n              _this.handler.control.ganttOwner.showPopupMenu(info_1);\n            }, 500);\n          }\n        };\n\n        TouchHandlerDefaultState.prototype.onDoubleTap = function (_evt) {};\n\n        TouchHandlerDefaultState.prototype.onTouchEnd = function (evt) {\n          clearTimeout(this.popupTimer);\n          if (!this.preventSelect) this.changeTaskSelection(this.getTaskIndex(evt));\n        };\n\n        TouchHandlerDefaultState.prototype.onTouchMove = function (_evt) {\n          clearTimeout(this.popupTimer);\n          this.preventSelect = true;\n        };\n\n        TouchHandlerDefaultState.prototype.getTaskIndex = function (evt) {\n          var y = touch_1.TouchUtils.getEventY(evt);\n          var taskAreaY = dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\n          var relativeY = y - taskAreaY;\n          return Math.floor(relativeY / this.handler.control.tickSize.height);\n        };\n\n        TouchHandlerDefaultState.prototype.changeTaskSelection = function (index) {\n          var clickedTask = this.handler.control.viewModel.items[index];\n          if (clickedTask) this.handler.control.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\n        };\n\n        return TouchHandlerDefaultState;\n      }(HandlerStateBase_1.HandlerStateBase);\n\n      exports.TouchHandlerDefaultState = TouchHandlerDefaultState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerProgressTaskState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TouchHandlerDragBaseState_1 = __webpack_require__(31);\n\n      var TouchHandlerProgressTaskState = function (_super) {\n        tslib_1.__extends(TouchHandlerProgressTaskState, _super);\n\n        function TouchHandlerProgressTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerProgressTaskState.prototype.onTouchEndInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmProgress();\n        };\n\n        TouchHandlerProgressTaskState.prototype.onTouchMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          this.handler.control.taskEditController.processProgress(relativePosition);\n        };\n\n        return TouchHandlerProgressTaskState;\n      }(TouchHandlerDragBaseState_1.TouchHandlerDragBaseState);\n\n      exports.TouchHandlerProgressTaskState = TouchHandlerProgressTaskState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerTimestampTaskState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TouchHandlerDragBaseState_1 = __webpack_require__(31);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var evt_1 = __webpack_require__(6);\n\n      var TouchHandlerTimestampTaskState = function (_super) {\n        tslib_1.__extends(TouchHandlerTimestampTaskState, _super);\n\n        function TouchHandlerTimestampTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerTimestampTaskState.prototype.onTouchStart = function (evt) {\n          _super.prototype.onTouchStart.call(this, evt);\n\n          this.source = this.handler.getEventSource(evt_1.EvtUtils.getEventSource(evt));\n        };\n\n        TouchHandlerTimestampTaskState.prototype.onTouchEndInternal = function (_evt) {\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.confirmStart();else this.handler.control.taskEditController.confirmEnd();\n        };\n\n        TouchHandlerTimestampTaskState.prototype.onTouchMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.processStart(relativePosition);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End) this.handler.control.taskEditController.processEnd(relativePosition);\n        };\n\n        return TouchHandlerTimestampTaskState;\n      }(TouchHandlerDragBaseState_1.TouchHandlerDragBaseState);\n\n      exports.TouchHandlerTimestampTaskState = TouchHandlerTimestampTaskState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerDependencyState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var TouchHandlerStateBase_1 = __webpack_require__(48);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var dom_1 = __webpack_require__(3);\n\n      var evt_1 = __webpack_require__(6);\n\n      var point_1 = __webpack_require__(4);\n\n      var MouseHandlerDependencyState_1 = __webpack_require__(47);\n\n      var touch_1 = __webpack_require__(15);\n\n      var TouchHandlerDependencyState = function (_super) {\n        tslib_1.__extends(TouchHandlerDependencyState, _super);\n\n        function TouchHandlerDependencyState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerDependencyState.prototype.onTouchStart = function (evt) {\n          evt.preventDefault();\n          var sourceElement = evt_1.EvtUtils.getEventSource(evt);\n          this.source = this.handler.getEventSource(sourceElement);\n          var pos = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\n          this.handler.control.taskEditController.startDependency(pos);\n        };\n\n        TouchHandlerDependencyState.prototype.onTouchEnd = function (evt) {\n          var relativePosStart = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientHeight / 2));\n          var relativePosEnd = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight / 2));\n          var relativeTouchPos = this.getRelativePos(new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt)));\n          var target = this.isTouchNearby(relativeTouchPos, relativePosStart) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyStart : this.isTouchNearby(relativeTouchPos, relativePosEnd) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish : null;\n          var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ? MouseHandlerDependencyState_1.dependencyMap[this.source][target] : null;\n          this.handler.control.taskEditController.endDependency(type);\n          this.handler.switchToDefaultState();\n        };\n\n        TouchHandlerDependencyState.prototype.onTouchMove = function (evt) {\n          evt.preventDefault();\n          var relativePos = this.getRelativePos(new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt)));\n          var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\n          this.handler.control.taskEditController.processDependency(relativePos);\n          if (this.handler.control.viewModel.tasks.items[hoverTaskIndex]) this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\n        };\n\n        TouchHandlerDependencyState.prototype.isTouchNearby = function (touchPos, elementPos) {\n          if (Math.abs(elementPos.x - touchPos.x) <= 10 && Math.abs(elementPos.y - touchPos.y) <= 10) return true;\n          return false;\n        };\n\n        return TouchHandlerDependencyState;\n      }(TouchHandlerStateBase_1.TouchHandlerStateBase);\n\n      exports.TouchHandlerDependencyState = TouchHandlerDependencyState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TouchHandlerZoomState = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HandlerStateBase_1 = __webpack_require__(19);\n\n      var point_1 = __webpack_require__(4);\n\n      var dom_1 = __webpack_require__(3);\n\n      var PINCH_CHANGE_DISTANCE = 3;\n\n      var TouchHandlerZoomState = function (_super) {\n        tslib_1.__extends(TouchHandlerZoomState, _super);\n\n        function TouchHandlerZoomState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TouchHandlerZoomState.prototype.onTouchStart = function (_evt) {};\n\n        TouchHandlerZoomState.prototype.onDoubleTap = function (_evt) {};\n\n        TouchHandlerZoomState.prototype.onTouchEnd = function (_evt) {\n          this.prevDistance = null;\n          this.handler.switchToDefaultState();\n        };\n\n        TouchHandlerZoomState.prototype.onTouchMove = function (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n\n          if (evt.touches.length > 1) {\n            var distance = this.getTouchDistance(evt);\n\n            if (this.prevDistance) {\n              var diff = this.prevDistance - distance;\n\n              if (Math.abs(diff) > PINCH_CHANGE_DISTANCE) {\n                var offsetX = this.getMiddleAbsPoint(evt).x;\n                if (diff > 0) this.handler.control.zoomOut(offsetX);else this.handler.control.zoomIn(offsetX);\n                this.prevDistance = distance;\n              }\n            } else this.prevDistance = distance;\n          }\n        };\n\n        TouchHandlerZoomState.prototype.getTouchDistance = function (evt) {\n          var pt0 = new point_1.Point(evt.touches[0].clientX, evt.touches[0].clientY);\n          var pt1 = new point_1.Point(evt.touches[1].clientX, evt.touches[1].clientY);\n          return this.getDistance(pt0, pt1);\n        };\n\n        TouchHandlerZoomState.prototype.getDistance = function (a, b) {\n          return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n        };\n\n        TouchHandlerZoomState.prototype.getMiddleAbsPoint = function (evt) {\n          var _this = this;\n\n          return this.getMiddlePointByEvent(evt, function (touch) {\n            return new point_1.Point(touch.pageX - dom_1.DomUtils.getAbsolutePositionX(_this.handler.control.taskAreaContainer.getElement()), touch.pageY - dom_1.DomUtils.getAbsolutePositionY(_this.handler.control.taskAreaContainer.getElement()));\n          });\n        };\n\n        TouchHandlerZoomState.prototype.getMiddlePointByEvent = function (evt, getPoint) {\n          if (evt.touches.length > 1) return new point_1.Point((getPoint(evt.touches[0]).x + getPoint(evt.touches[1]).x) / 2, (getPoint(evt.touches[0]).y + getPoint(evt.touches[1]).y) / 2);\n        };\n\n        return TouchHandlerZoomState;\n      }(HandlerStateBase_1.HandlerStateBase);\n\n      exports.TouchHandlerZoomState = TouchHandlerZoomState;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskAreaContainer = void 0;\n\n      var TaskAreaContainer = function () {\n        function TaskAreaContainer(element, ganttView) {\n          this.element = element;\n          this.element.addEventListener(\"scroll\", function () {\n            ganttView.updateView();\n          });\n        }\n\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollTop\", {\n          get: function () {\n            return this.element.scrollTop;\n          },\n          set: function (value) {\n            this.element.scrollTop = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollLeft\", {\n          get: function () {\n            return this.element.scrollLeft;\n          },\n          set: function (value) {\n            this.element.scrollLeft = value;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollWidth\", {\n          get: function () {\n            return this.element.scrollWidth;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollHeight\", {\n          get: function () {\n            return this.element.scrollHeight;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"isExternal\", {\n          get: function () {\n            return false;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        TaskAreaContainer.prototype.getWidth = function () {\n          return this.element.offsetWidth;\n        };\n\n        TaskAreaContainer.prototype.getHeight = function () {\n          return this.element.offsetHeight;\n        };\n\n        TaskAreaContainer.prototype.getElement = function () {\n          return this.element;\n        };\n\n        return TaskAreaContainer;\n      }();\n\n      exports.TaskAreaContainer = TaskAreaContainer;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ModelChangesDispatcher = void 0;\n\n      var EventDispatcher_1 = __webpack_require__(104);\n\n      var TaskArguments_1 = __webpack_require__(49);\n\n      var AssignmentArguments_1 = __webpack_require__(32);\n\n      var ModelChangesDispatcher = function () {\n        function ModelChangesDispatcher() {\n          this.onModelChanged = new EventDispatcher_1.EventDispatcher();\n          this.isLocked = false;\n        }\n\n        ModelChangesDispatcher.prototype.notifyTaskCreating = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskCreating\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskCreated = function (task, callback, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskCreated\", task, callback, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskRemoving = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskRemoving\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskRemoved = function (taskID, errorCallback, task) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskRemoved\", taskID, errorCallback, task);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskUpdating = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskUpdating\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskMoving = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskMoving\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskEditDialogShowing = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskEditDialogShowing\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskTitleChanged = function (taskID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskTitleChanged\", taskID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskDescriptionChanged = function (taskID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskDescriptionChanged\", taskID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskStartChanged = function (taskID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskStartChanged\", taskID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskEndChanged = function (taskID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskEndChanged\", taskID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskProgressChanged = function (taskID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskProgressChanged\", taskID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskColorChanged = function (taskID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyTaskColorChanged\", taskID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyInserting = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyDependencyInserting\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyInserted = function (dependency, callback, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyDependencyInserted\", dependency, callback, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyRemoving = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyDependencyRemoving\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyRemoved = function (dependencyID, errorCallback, dependency) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyDependencyRemoved\", dependencyID, errorCallback, dependency);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceCreating = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceCreating\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceCreated = function (resource, callback, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceCreated\", resource, callback, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceRemoving = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceRemoving\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceRemoved = function (resourceID, errorCallback, resource) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceRemoved\", resourceID, errorCallback, resource);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceColorChanged = function (resourceID, newValue, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceColorChanged\", resourceID, newValue, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceAssigning = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceAssigning\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceAssigned = function (assignment, callback, errorCallback) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceAssigned\", assignment, callback, errorCallback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceUnassigning = function (args) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceUnassigning\", args);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceUnassigned = function (assignmentID, errorCallback, assignment) {\n          if (!this.isLocked) this.onModelChanged.raise(\"NotifyResourceUnassigned\", assignmentID, errorCallback, assignment);\n        };\n\n        ModelChangesDispatcher.prototype.notifyParentDataRecalculated = function (data) {\n          this.onModelChanged.raise(\"NotifyParentDataRecalculated\", data);\n        };\n\n        ModelChangesDispatcher.prototype.fireResourceUnassigning = function (assignment) {\n          var args = new AssignmentArguments_1.ResourceUnassigningArguments(assignment);\n          this.notifyResourceUnassigning(args);\n          return !args.cancel;\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskTitleUpdating = function (task, value, callback) {\n          return this.raiseTaskUpdating(task, \"title\", value, callback);\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskDescriptionUpdating = function (task, value, callback) {\n          return this.raiseTaskUpdating(task, \"description\", value, callback);\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskProgressUpdating = function (task, value, callback) {\n          return this.raiseTaskUpdating(task, \"progress\", value, callback);\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskColorUpdating = function (task, value, callback) {\n          return this.raiseTaskUpdating(task, \"color\", value, callback);\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskStartUpdating = function (task, value, callback) {\n          return this.raiseTaskUpdating(task, \"start\", value, callback);\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskEndUpdating = function (task, value, callback) {\n          return this.raiseTaskUpdating(task, \"end\", value, callback);\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskStartAndEndUpdating = function (task, newStart, newEnd, callback) {\n          var args = new TaskArguments_1.TaskUpdatingArguments(task, [\"start\", \"end\"], [newStart, newEnd]);\n          this.notifyTaskUpdating(args);\n\n          if (!args.cancel) {\n            callback(args[\"start\"], args[\"end\"]);\n            return true;\n          }\n\n          return false;\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskUpdating = function (task, fieldName, newValue, callback) {\n          var oldValue = task[fieldName];\n\n          if (oldValue !== newValue) {\n            var args = new TaskArguments_1.TaskUpdatingArguments(task, [fieldName], [newValue]);\n            this.notifyTaskUpdating(args);\n\n            if (!args.cancel && oldValue !== args[fieldName]) {\n              callback(args[fieldName]);\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskMultipleUpdating = function (task, newValues, callback) {\n          var fields = [\"title\", \"progress\", \"start\", \"end\"];\n          var values = fields.map(function (f) {\n            return newValues[f];\n          });\n          var args = new TaskArguments_1.TaskUpdatingArguments(task, fields, values);\n          this.notifyTaskUpdating(args);\n\n          if (!args.cancel) {\n            callback(args.newValues);\n            return true;\n          }\n\n          return false;\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskMoving = function (task, newStart, newEnd, callback) {\n          var args = new TaskArguments_1.TaskUpdatingArguments(task, [\"start\", \"end\"], [newStart, newEnd]);\n          this.notifyTaskMoving(args);\n\n          if (!args.cancel) {\n            callback(args[\"start\"], args[\"end\"]);\n            return true;\n          }\n\n          return false;\n        };\n\n        ModelChangesDispatcher.prototype.raiseTaskTaskEditDialogShowing = function (params, callback) {\n          var args = new TaskArguments_1.TaskEditDialogShowingArguments(params);\n          this.notifyTaskEditDialogShowing(args);\n\n          if (!args.cancel) {\n            callback(args);\n            return true;\n          }\n\n          return false;\n        };\n\n        ModelChangesDispatcher.prototype.lock = function () {\n          this.isLocked = true;\n        };\n\n        ModelChangesDispatcher.prototype.unlock = function () {\n          this.isLocked = false;\n        };\n\n        return ModelChangesDispatcher;\n      }();\n\n      exports.ModelChangesDispatcher = ModelChangesDispatcher;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.EventDispatcher = void 0;\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          this.listeners = [];\n        }\n\n        EventDispatcher.prototype.add = function (listener) {\n          if (!listener) throw new Error(\"Error\");\n          if (!this.hasEventListener(listener)) this.listeners.push(listener);\n        };\n\n        EventDispatcher.prototype.remove = function (listener) {\n          for (var i = 0, currentListener = void 0; currentListener = this.listeners[i]; i++) if (currentListener === listener) {\n            this.listeners.splice(i, 1);\n            break;\n          }\n        };\n\n        EventDispatcher.prototype.raise = function (funcName) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          for (var i = 0, listener = void 0; listener = this.listeners[i]; i++) if (listener[funcName]) listener[funcName].apply(listener, args);\n        };\n\n        EventDispatcher.prototype.hasEventListener = function (listener) {\n          for (var i = 0, l = this.listeners.length; i < l; i++) if (this.listeners[i] === listener) return true;\n\n          return false;\n        };\n\n        return EventDispatcher;\n      }();\n\n      exports.EventDispatcher = EventDispatcher;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CommandManager = void 0;\n\n      var TaskCommands_1 = __webpack_require__(106);\n\n      var TaskPropertiesCommands_1 = __webpack_require__(107);\n\n      var DependencyCommands_1 = __webpack_require__(108);\n\n      var ResourceCommands_1 = __webpack_require__(110);\n\n      var TaskEditDialog_1 = __webpack_require__(112);\n\n      var ConstraintViolationDialog_1 = __webpack_require__(51);\n\n      var ResourcesDialog_1 = __webpack_require__(113);\n\n      var ClientCommand_1 = __webpack_require__(114);\n\n      var HistoryCommands_1 = __webpack_require__(115);\n\n      var ZoomCommands_1 = __webpack_require__(116);\n\n      var FullScreenCommand_1 = __webpack_require__(117);\n\n      var CollapseExpandCommands_1 = __webpack_require__(118);\n\n      var ConfirmationDialog_1 = __webpack_require__(23);\n\n      var ResourcePropertiesCommands_1 = __webpack_require__(119);\n\n      var CommandManager = function () {\n        function CommandManager(control) {\n          this.control = control;\n          this.commands = {};\n          this.createCommand(ClientCommand_1.GanttClientCommand.CreateTask, this.createTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.CreateSubTask, this.createSubTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.RemoveTask, this.removeTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.RemoveDependency, this.removeDependencyCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.TaskInformation, this.showTaskEditDialog);\n          this.createCommand(ClientCommand_1.GanttClientCommand.TaskAddContextItem, new TaskCommands_1.TaskAddContextItemCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.Undo, new HistoryCommands_1.UndoCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.Redo, new HistoryCommands_1.RedoCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.ZoomIn, new ZoomCommands_1.ZoomInCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.ZoomOut, new ZoomCommands_1.ZoomOutCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.FullScreen, new FullScreenCommand_1.ToggleFullScreenCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.CollapseAll, new CollapseExpandCommands_1.CollapseAllCommand(this.control));\n          this.createCommand(ClientCommand_1.GanttClientCommand.ExpandAll, new CollapseExpandCommands_1.ExpandAllCommand(this.control));\n        }\n\n        Object.defineProperty(CommandManager.prototype, \"createTaskCommand\", {\n          get: function () {\n            return new TaskCommands_1.CreateTaskCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createSubTaskCommand\", {\n          get: function () {\n            return new TaskCommands_1.CreateSubTaskCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeTaskCommand\", {\n          get: function () {\n            return new TaskCommands_1.RemoveTaskCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskTitleCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskTitleCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskDescriptionCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskDescriptionCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskProgressCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskProgressCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskColorCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskColorCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskStartCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskStartCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"taskMoveCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskMoveCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskEndCommand\", {\n          get: function () {\n            return new TaskPropertiesCommands_1.TaskEndCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"updateTaskCommand\", {\n          get: function () {\n            return new TaskCommands_1.UpdateTaskCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createDependencyCommand\", {\n          get: function () {\n            return new DependencyCommands_1.CreateDependencyCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeDependencyCommand\", {\n          get: function () {\n            return new DependencyCommands_1.RemoveDependencyCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createResourceCommand\", {\n          get: function () {\n            return new ResourceCommands_1.CreateResourceCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeResourceCommand\", {\n          get: function () {\n            return new ResourceCommands_1.RemoveResourceCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"assignResourceCommand\", {\n          get: function () {\n            return new ResourceCommands_1.AssignResourceCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"deassignResourceCommand\", {\n          get: function () {\n            return new ResourceCommands_1.DeassignResourceCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeResourceColorCommand\", {\n          get: function () {\n            return new ResourcePropertiesCommands_1.ResourceColorCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showTaskEditDialog\", {\n          get: function () {\n            return new TaskEditDialog_1.TaskEditDialogCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showConstraintViolationDialog\", {\n          get: function () {\n            return new ConstraintViolationDialog_1.ConstraintViolationDialogCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showConfirmationDialog\", {\n          get: function () {\n            return new ConfirmationDialog_1.ConfirmationDialog(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showResourcesDialog\", {\n          get: function () {\n            return new ResourcesDialog_1.ResourcesDialogCommand(this.control);\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        CommandManager.prototype.getCommand = function (key) {\n          return this.commands[key];\n        };\n\n        CommandManager.prototype.createCommand = function (commandId, command) {\n          this.commands[commandId] = command;\n        };\n\n        return CommandManager;\n      }();\n\n      exports.CommandManager = CommandManager;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskAddContextItemCommand = exports.UpdateTaskCommand = exports.RemoveTaskCommand = exports.CreateSubTaskCommand = exports.CreateTaskCommand = exports.TaskCommandBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var TaskHistoryItem_1 = __webpack_require__(50);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(21);\n\n      var ResourceHistoryItem_1 = __webpack_require__(22);\n\n      var ConfirmationDialog_1 = __webpack_require__(23);\n\n      var TaskArguments_1 = __webpack_require__(49);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(25);\n\n      var common_1 = __webpack_require__(1);\n\n      var TaskCommandBase = function (_super) {\n        tslib_1.__extends(TaskCommandBase, _super);\n\n        function TaskCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskCommandBase.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = this.control.settings.editing.enabled && !this.control.taskEditController.dependencyId;\n          return state;\n        };\n\n        return TaskCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.TaskCommandBase = TaskCommandBase;\n\n      var CreateTaskCommand = function (_super) {\n        tslib_1.__extends(CreateTaskCommand, _super);\n\n        function CreateTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateTaskCommand.prototype.execute = function (start, end, title, progress, parentId) {\n          return _super.prototype.execute.call(this, start, end, title, progress, parentId);\n        };\n\n        CreateTaskCommand.prototype.executeInternal = function (start, end, title, progress, parentId) {\n          if (!parentId) {\n            var item = this.control.viewModel.findItem(this.control.currentSelectedTaskID);\n            var selectedTask = item && item.task;\n            if (selectedTask) parentId = selectedTask.parentId;\n          }\n\n          var referenceItem = this.control.viewModel.findItem(parentId) || this.control.viewModel.items[0];\n          var referenceTask = referenceItem && referenceItem.task;\n          if (!start) start = referenceTask ? new Date(referenceTask.start.getTime()) : new Date(this.control.range.start.getTime());\n          if (!end) end = referenceTask ? new Date(referenceTask.end.getTime()) : new Date(this.control.range.end.getTime());\n          title = title || \"New task\";\n          var args = new TaskArguments_1.TaskInsertingArguments(null, start, end, title, progress, parentId);\n          this.modelManipulator.dispatcher.notifyTaskCreating(args);\n          if (!args.cancel) this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, args.start, args.end, args.title, args.progress, args.parentId));\n          return !args.cancel;\n        };\n\n        CreateTaskCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.visible && this.control.settings.editing.allowTaskInsert;\n          return state;\n        };\n\n        return CreateTaskCommand;\n      }(TaskCommandBase);\n\n      exports.CreateTaskCommand = CreateTaskCommand;\n\n      var CreateSubTaskCommand = function (_super) {\n        tslib_1.__extends(CreateSubTaskCommand, _super);\n\n        function CreateSubTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateSubTaskCommand.prototype.execute = function (parentId) {\n          return _super.prototype.execute.call(this, parentId);\n        };\n\n        CreateSubTaskCommand.prototype.executeInternal = function (parentId) {\n          parentId = parentId || this.control.currentSelectedTaskID;\n          var selectedItem = this.control.viewModel.findItem(parentId);\n\n          if (selectedItem.selected) {\n            var args = new TaskArguments_1.TaskInsertingArguments(null, new Date(selectedItem.task.start.getTime()), new Date(selectedItem.task.end.getTime()), \"New task\", 0, parentId);\n            this.modelManipulator.dispatcher.notifyTaskCreating(args);\n            if (!args.cancel) this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, args.start, args.end, args.title, args.progress, args.parentId));\n            return !args.cancel;\n          }\n\n          return false;\n        };\n\n        CreateSubTaskCommand.prototype.isEnabled = function () {\n          var gantt = this.control;\n          var selectedItem = gantt.viewModel.findItem(gantt.currentSelectedTaskID);\n          return _super.prototype.isEnabled.call(this) && !!selectedItem && selectedItem.selected;\n        };\n\n        CreateSubTaskCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          var gantt = this.control;\n          state.visible = state.visible && gantt.settings.editing.allowTaskInsert;\n          return state;\n        };\n\n        return CreateSubTaskCommand;\n      }(TaskCommandBase);\n\n      exports.CreateSubTaskCommand = CreateSubTaskCommand;\n\n      var RemoveTaskCommand = function (_super) {\n        tslib_1.__extends(RemoveTaskCommand, _super);\n\n        function RemoveTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveTaskCommand.prototype.execute = function (id, confirmRequired, historyItem) {\n          var _this = this;\n\n          if (confirmRequired === void 0) {\n            confirmRequired = true;\n          }\n\n          if (confirmRequired) {\n            this.control.commandManager.showConfirmationDialog.execute(new ConfirmationDialog_1.ConfirmationDialogParameters(ConfirmationDialog_1.ConfirmationType.TaskDelete, function () {\n              _this.executeInternal(id, historyItem);\n            }));\n            return false;\n          }\n\n          return _super.prototype.execute.call(this, id, historyItem);\n        };\n\n        RemoveTaskCommand.prototype.executeInternal = function (id, historyItem) {\n          var _this = this;\n\n          id = id || this.control.currentSelectedTaskID;\n          var item = this.control.viewModel.findItem(id);\n          var task = item ? item.task : this.control.viewModel.tasks.getItemById(id);\n          var args = new TaskArguments_1.TaskRemovingArguments(task);\n          this.modelManipulator.dispatcher.notifyTaskRemoving(args);\n          if (args.cancel) return false;\n          this.control.viewModel.beginUpdate();\n          var removeTaskHistoryItem = historyItem || new TaskHistoryItem_1.RemoveTaskHistoryItem(this.modelManipulator);\n          removeTaskHistoryItem.addTask(id);\n          var childTasks = this.control.viewModel.tasks.items.filter(function (t) {\n            return t.parentId == id;\n          });\n          childTasks.forEach(function (t) {\n            return new RemoveTaskCommand(_this.control).execute(t.internalId, false, removeTaskHistoryItem);\n          });\n          var parent = item && item.parent;\n          var dependencies = this.control.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == id || d.successorId == id;\n          });\n          if (dependencies.length) if (this.control.settings.editing.allowDependencyDelete) {\n            dependencies = dependencies.filter(function (d) {\n              return childTasks.filter(function (c) {\n                return c.internalId == d.predecessorId || c.internalId == d.successorId;\n              }).length == 0;\n            });\n            dependencies.forEach(function (d) {\n              return removeTaskHistoryItem.add(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(_this.modelManipulator, d.internalId));\n            });\n          } else return false;\n          var assignments = this.control.viewModel.assignments.items.filter(function (a) {\n            return a.taskId == id;\n          });\n          assignments.forEach(function (a) {\n            if (_this.modelManipulator.dispatcher.fireResourceUnassigning(a)) removeTaskHistoryItem.add(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\n          });\n          if (!historyItem) this.history.addAndRedo(removeTaskHistoryItem);\n          this.updateParent(parent);\n          this.control.viewModel.endUpdate();\n          return true;\n        };\n\n        RemoveTaskCommand.prototype.updateParent = function (parent) {\n          if (parent && parent.children.length > 0) this.control.validationController.updateParentsIfRequired(parent.children[0].task.internalId);\n        };\n\n        RemoveTaskCommand.prototype.isEnabled = function () {\n          var gantt = this.control;\n          var selectedItem = gantt.viewModel.findItem(gantt.currentSelectedTaskID);\n          var result = _super.prototype.isEnabled.call(this) && !!selectedItem && selectedItem.selected;\n          return result;\n        };\n\n        RemoveTaskCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          var gantt = this.control;\n          state.visible = state.visible && gantt.settings.editing.allowTaskDelete;\n          return state;\n        };\n\n        return RemoveTaskCommand;\n      }(TaskCommandBase);\n\n      exports.RemoveTaskCommand = RemoveTaskCommand;\n\n      var UpdateTaskCommand = function (_super) {\n        tslib_1.__extends(UpdateTaskCommand, _super);\n\n        function UpdateTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        UpdateTaskCommand.prototype.execute = function (id, newValues) {\n          return _super.prototype.execute.call(this, id, newValues);\n        };\n\n        UpdateTaskCommand.prototype.executeInternal = function (id, newValues) {\n          var task = this.control.viewModel.tasks.getItemById(id);\n          if (!task) return false;\n          var success = this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(task, newValues, function (changedNewValues) {\n            newValues.title = changedNewValues.title;\n            newValues.progress = changedNewValues.progress;\n            newValues.start = changedNewValues.start;\n            newValues.end = changedNewValues.end;\n          });\n\n          if (success) {\n            this.history.beginTransaction();\n            var updateParents = false;\n            if (common_1.isDefined(newValues.title) && newValues.title != task.title) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, id, newValues.title));\n\n            if (common_1.isDefined(newValues.progress) && newValues.progress != task.progress) {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, id, newValues.progress));\n              updateParents = true;\n            }\n\n            if (common_1.isDefined(newValues.start) && common_1.isDefined(newValues.end) && newValues.end.getTime() < newValues.start.getTime()) newValues.end = newValues.start;\n\n            if (common_1.isDefined(newValues.start) && newValues.start != task.start) {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, newValues.start));\n              updateParents = true;\n              if (this.control.settings.validation.validateDependencies) this.control.validationController.moveStartDependTasks(id, task.start);\n            }\n\n            if (common_1.isDefined(newValues.end) && newValues.end != task.end) {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, newValues.end));\n              updateParents = true;\n              if (this.control.settings.validation.validateDependencies) this.control.validationController.moveEndDependTasks(id, task.end);\n            }\n\n            if (updateParents) this.validationController.updateParentsIfRequired(id);\n            this.history.endTransaction();\n          }\n\n          return success;\n        };\n\n        UpdateTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdate;\n        };\n\n        return UpdateTaskCommand;\n      }(TaskCommandBase);\n\n      exports.UpdateTaskCommand = UpdateTaskCommand;\n\n      var TaskAddContextItemCommand = function (_super) {\n        tslib_1.__extends(TaskAddContextItemCommand, _super);\n\n        function TaskAddContextItemCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskAddContextItemCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.visible && this.control.settings.editing.allowTaskInsert;\n          return state;\n        };\n\n        TaskAddContextItemCommand.prototype.execute = function () {\n          return false;\n        };\n\n        return TaskAddContextItemCommand;\n      }(TaskCommandBase);\n\n      exports.TaskAddContextItemCommand = TaskAddContextItemCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskMoveCommand = exports.TaskEndCommand = exports.TaskStartCommand = exports.TaskPropertyCommandValidation = exports.TaskColorCommand = exports.TaskProgressCommand = exports.TaskDescriptionCommand = exports.TaskTitleCommand = exports.TaskPropertyCommandBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(25);\n\n      var ConstraintViolationDialog_1 = __webpack_require__(51);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var TaskPropertyCommandBase = function (_super) {\n        tslib_1.__extends(TaskPropertyCommandBase, _super);\n\n        function TaskPropertyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        TaskPropertyCommandBase.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdate;\n        };\n\n        TaskPropertyCommandBase.prototype.getTask = function (id) {\n          return this.control.viewModel.tasks.getItemById(id);\n        };\n\n        return TaskPropertyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.TaskPropertyCommandBase = TaskPropertyCommandBase;\n\n      var TaskTitleCommand = function (_super) {\n        tslib_1.__extends(TaskTitleCommand, _super);\n\n        function TaskTitleCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskTitleCommand.prototype.executeInternal = function (id, value) {\n          var _this = this;\n\n          return this.modelManipulator.dispatcher.raiseTaskTitleUpdating(this.getTask(id), value, function (newTitle) {\n            _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(_this.modelManipulator, id, newTitle));\n          });\n        };\n\n        return TaskTitleCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskTitleCommand = TaskTitleCommand;\n\n      var TaskDescriptionCommand = function (_super) {\n        tslib_1.__extends(TaskDescriptionCommand, _super);\n\n        function TaskDescriptionCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskDescriptionCommand.prototype.executeInternal = function (id, value) {\n          var _this = this;\n\n          return this.modelManipulator.dispatcher.raiseTaskDescriptionUpdating(this.getTask(id), value, function (newDescription) {\n            _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskDescriptionHistoryItem(_this.modelManipulator, id, newDescription));\n          });\n        };\n\n        return TaskDescriptionCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskDescriptionCommand = TaskDescriptionCommand;\n\n      var TaskProgressCommand = function (_super) {\n        tslib_1.__extends(TaskProgressCommand, _super);\n\n        function TaskProgressCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskProgressCommand.prototype.executeInternal = function (id, value) {\n          var _this = this;\n\n          return this.modelManipulator.dispatcher.raiseTaskProgressUpdating(this.getTask(id), value, function (newValue) {\n            _this.control.history.beginTransaction();\n\n            _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(_this.modelManipulator, id, newValue));\n\n            _this.validationController.updateParentsIfRequired(id);\n\n            _this.control.history.endTransaction();\n          });\n        };\n\n        return TaskProgressCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskProgressCommand = TaskProgressCommand;\n\n      var TaskColorCommand = function (_super) {\n        tslib_1.__extends(TaskColorCommand, _super);\n\n        function TaskColorCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskColorCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskColorCommand.prototype.executeInternal = function (id, value) {\n          var _this = this;\n\n          return this.modelManipulator.dispatcher.raiseTaskColorUpdating(this.getTask(id), value, function (newValue) {\n            _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskColorHistoryItem(_this.modelManipulator, id, newValue));\n          });\n        };\n\n        return TaskColorCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskColorCommand = TaskColorCommand;\n\n      var TaskPropertyCommandValidation = function (_super) {\n        tslib_1.__extends(TaskPropertyCommandValidation, _super);\n\n        function TaskPropertyCommandValidation() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyCommandValidation.prototype.executeInternal = function () {\n          var _this = this;\n\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          var validationErrors = this.control.settings.validation.validateDependencies ? this.validate.apply(this, parameters) : [];\n          var criticalErrors = validationErrors.filter(function (e) {\n            return e.critical;\n          });\n          if (!validationErrors.length || validationErrors.length > 1 && criticalErrors.length === 0) return this.executeCore.apply(this, parameters);else if (validationErrors.length === 1) this.control.commandManager.showConstraintViolationDialog.execute(new ConstraintViolationDialog_1.ConstraintViolationDialogParameters(validationErrors[0], function () {\n            _this.executeCore.apply(_this, parameters);\n          }));\n          return false;\n        };\n\n        TaskPropertyCommandValidation.prototype.executeCore = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          return false;\n        };\n\n        TaskPropertyCommandValidation.prototype.validate = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          return [];\n        };\n\n        return TaskPropertyCommandValidation;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskPropertyCommandValidation = TaskPropertyCommandValidation;\n\n      var TaskStartCommand = function (_super) {\n        tslib_1.__extends(TaskStartCommand, _super);\n\n        function TaskStartCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartCommand.prototype.execute = function (id, value) {\n          var success = this.modelManipulator.dispatcher.raiseTaskStartUpdating(this.getTask(id), value, function (newStart) {\n            value = newStart;\n          });\n          return success && _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskStartCommand.prototype.executeInternal = function (id, value) {\n          return _super.prototype.executeInternal.call(this, id, value);\n        };\n\n        TaskStartCommand.prototype.executeCore = function (id, value) {\n          var oldStart = this.control.viewModel.tasks.getItemById(id).start;\n          if (oldStart.getTime() == value.getTime()) return false;\n          this.control.history.beginTransaction();\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, value));\n          if (this.control.settings.validation.validateDependencies) this.control.validationController.moveStartDependTasks(id, oldStart);\n          this.validationController.updateParentsIfRequired(id);\n          this.control.history.endTransaction();\n          var minStartTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\n            return prev.start.getTime() < curr.start.getTime() ? prev : curr;\n          });\n\n          if (minStartTask.start < this.control.dataRange.start) {\n            this.control.dataRange.start = minStartTask.start;\n            this.control.resetAndUpdate();\n          }\n\n          return true;\n        };\n\n        TaskStartCommand.prototype.validate = function (id, value) {\n          return this.control.validationController.checkStartDependencies(id, value);\n        };\n\n        return TaskStartCommand;\n      }(TaskPropertyCommandValidation);\n\n      exports.TaskStartCommand = TaskStartCommand;\n\n      var TaskEndCommand = function (_super) {\n        tslib_1.__extends(TaskEndCommand, _super);\n\n        function TaskEndCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndCommand.prototype.execute = function (id, value) {\n          var success = this.modelManipulator.dispatcher.raiseTaskEndUpdating(this.getTask(id), value, function (newStart) {\n            value = newStart;\n          });\n          return success && _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskEndCommand.prototype.executeInternal = function (id, value) {\n          return _super.prototype.executeInternal.call(this, id, value);\n        };\n\n        TaskEndCommand.prototype.executeCore = function (id, value) {\n          var oldEnd = this.control.viewModel.tasks.getItemById(id).end;\n          if (oldEnd.getTime() == value.getTime()) return false;\n          this.control.history.beginTransaction();\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, value));\n          if (this.control.settings.validation.validateDependencies) this.control.validationController.moveEndDependTasks(id, oldEnd);\n          this.validationController.updateParentsIfRequired(id);\n          this.control.history.endTransaction();\n          var maxEndTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\n            return prev.end.getTime() > curr.end.getTime() ? prev : curr;\n          });\n\n          if (maxEndTask.end > this.control.dataRange.end) {\n            this.control.dataRange.end = maxEndTask.end;\n            this.control.resetAndUpdate();\n          }\n\n          return true;\n        };\n\n        TaskEndCommand.prototype.validate = function (id, value) {\n          return this.control.validationController.checkEndDependencies(id, value);\n        };\n\n        return TaskEndCommand;\n      }(TaskPropertyCommandValidation);\n\n      exports.TaskEndCommand = TaskEndCommand;\n\n      var TaskMoveCommand = function (_super) {\n        tslib_1.__extends(TaskMoveCommand, _super);\n\n        function TaskMoveCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskMoveCommand.prototype.execute = function (id, start, end) {\n          var success = this.modelManipulator.dispatcher.raiseTaskStartAndEndUpdating(this.getTask(id), start, end, function (newStart, newEnd) {\n            start = newStart;\n            end = newEnd;\n          });\n          return success && _super.prototype.execute.call(this, id, start, end);\n        };\n\n        TaskMoveCommand.prototype.executeInternal = function (id, start, end) {\n          return _super.prototype.executeInternal.call(this, id, start, end);\n        };\n\n        TaskMoveCommand.prototype.executeCore = function (id, start, end) {\n          var task = this.control.viewModel.tasks.getItemById(id);\n          var oldDateRange = new DateRange_1.DateRange(new Date(task.start.getTime()), new Date(task.end.getTime()));\n          this.control.history.beginTransaction();\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(this.modelManipulator, id, new DateRange_1.DateRange(start, end)));\n          this.validationController.correctOnMoving(id, start.getTime() - oldDateRange.start.getTime());\n\n          if (this.control.settings.validation.validateDependencies) {\n            this.control.validationController.moveStartDependTasks(id, oldDateRange.start);\n            this.control.validationController.moveEndDependTasks(id, oldDateRange.end);\n          }\n\n          this.control.history.endTransaction();\n          var maxEndTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\n            return prev.end.getTime() > curr.end.getTime() ? prev : curr;\n          });\n\n          if (maxEndTask.end > this.control.dataRange.end) {\n            this.control.dataRange.end = maxEndTask.end;\n            this.control.resetAndUpdate();\n          }\n\n          var minStartTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\n            return prev.start.getTime() < curr.start.getTime() ? prev : curr;\n          });\n\n          if (minStartTask.start < this.control.dataRange.start) {\n            this.control.dataRange.start = minStartTask.start;\n            this.control.resetAndUpdate();\n          }\n\n          return true;\n        };\n\n        TaskMoveCommand.prototype.validate = function (id, start, end) {\n          var startErrors = this.control.validationController.checkStartDependencies(id, start);\n          var endErrors = this.control.validationController.checkEndDependencies(id, end);\n          return tslib_1.__spreadArrays(startErrors, endErrors);\n        };\n\n        return TaskMoveCommand;\n      }(TaskPropertyCommandValidation);\n\n      exports.TaskMoveCommand = TaskMoveCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.RemoveDependencyCommand = exports.CreateDependencyCommand = exports.DependencyCommandBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(21);\n\n      var Dependency_1 = __webpack_require__(11);\n\n      var ConfirmationDialog_1 = __webpack_require__(23);\n\n      var DependencyArguments_1 = __webpack_require__(109);\n\n      var DependencyCommandBase = function (_super) {\n        tslib_1.__extends(DependencyCommandBase, _super);\n\n        function DependencyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DependencyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return DependencyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.DependencyCommandBase = DependencyCommandBase;\n\n      var CreateDependencyCommand = function (_super) {\n        tslib_1.__extends(CreateDependencyCommand, _super);\n\n        function CreateDependencyCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateDependencyCommand.prototype.execute = function (predecessorId, successorId, type) {\n          return _super.prototype.execute.call(this, predecessorId, successorId, type);\n        };\n\n        CreateDependencyCommand.prototype.executeInternal = function (predecessorId, successorId, type) {\n          if (this.control.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == predecessorId && d.successorId == successorId || d.successorId == predecessorId && d.predecessorId == successorId;\n          }).length) return false;\n          var args = new DependencyArguments_1.DependencyInsertingArguments(predecessorId, successorId, type);\n          this.modelManipulator.dispatcher.notifyDependencyInserting(args);\n          if (args.cancel) return false;\n          predecessorId = args.predecessorId;\n          successorId = args.successorId;\n          type = args.type;\n          this.control.history.beginTransaction();\n          this.history.addAndRedo(new TaskDependencyHistoryItem_1.InsertDependencyHistoryItem(this.modelManipulator, predecessorId, successorId, type));\n\n          if (this.control.settings.validation.validateDependencies) {\n            var predecessorTask = this.control.viewModel.tasks.getItemById(predecessorId);\n            if (type === Dependency_1.DependencyType.SF || type === Dependency_1.DependencyType.SS) this.control.validationController.moveStartDependTasks(predecessorId, predecessorTask.start);else this.control.validationController.moveEndDependTasks(predecessorId, predecessorTask.end);\n          }\n\n          this.control.history.endTransaction();\n          return true;\n        };\n\n        CreateDependencyCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyInsert;\n        };\n\n        return CreateDependencyCommand;\n      }(DependencyCommandBase);\n\n      exports.CreateDependencyCommand = CreateDependencyCommand;\n\n      var RemoveDependencyCommand = function (_super) {\n        tslib_1.__extends(RemoveDependencyCommand, _super);\n\n        function RemoveDependencyCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveDependencyCommand.prototype.execute = function (id, confirmRequired) {\n          var _this = this;\n\n          if (confirmRequired === void 0) {\n            confirmRequired = true;\n          }\n\n          if (confirmRequired) {\n            this.control.commandManager.showConfirmationDialog.execute(new ConfirmationDialog_1.ConfirmationDialogParameters(ConfirmationDialog_1.ConfirmationType.DependencyDelete, function () {\n              _this.executeInternal(id);\n            }));\n            return false;\n          }\n\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveDependencyCommand.prototype.executeInternal = function (id) {\n          id = id || this.control.taskEditController.dependencyId;\n\n          if (id != null) {\n            var dependency = this.control.viewModel.dependencies.items.filter(function (d) {\n              return d.internalId == id;\n            })[0];\n\n            if (dependency) {\n              var args = new DependencyArguments_1.DependencyRemovingArguments(dependency);\n              this.modelManipulator.dispatcher.notifyDependencyRemoving(args);\n\n              if (!args.cancel) {\n                this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, id));\n                if (id === this.control.taskEditController.dependencyId) this.control.taskEditController.selectDependency(null);\n                this.control.barManager.updateItemsState([]);\n                return true;\n              }\n            }\n          }\n\n          return false;\n        };\n\n        RemoveDependencyCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyDelete;\n        };\n\n        RemoveDependencyCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.enabled && this.control.taskEditController.dependencyId != null;\n          return state;\n        };\n\n        return RemoveDependencyCommand;\n      }(DependencyCommandBase);\n\n      exports.RemoveDependencyCommand = RemoveDependencyCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DependencyRemovingArguments = exports.DependencyInsertingArguments = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var BaseArguments_1 = __webpack_require__(20);\n\n      var DependencyInsertingArguments = function (_super) {\n        tslib_1.__extends(DependencyInsertingArguments, _super);\n\n        function DependencyInsertingArguments(predecessorId, successorId, type) {\n          var _this = _super.call(this, null) || this;\n\n          _this.values = {\n            predecessorId: predecessorId,\n            successorId: successorId,\n            type: type\n          };\n          return _this;\n        }\n\n        Object.defineProperty(DependencyInsertingArguments.prototype, \"predecessorId\", {\n          get: function () {\n            return this.values.predecessorId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(DependencyInsertingArguments.prototype, \"successorId\", {\n          get: function () {\n            return this.values.successorId;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(DependencyInsertingArguments.prototype, \"type\", {\n          get: function () {\n            return this.values.type;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return DependencyInsertingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.DependencyInsertingArguments = DependencyInsertingArguments;\n\n      var DependencyRemovingArguments = function (_super) {\n        tslib_1.__extends(DependencyRemovingArguments, _super);\n\n        function DependencyRemovingArguments(dependency) {\n          var _this = _super.call(this, dependency.id) || this;\n\n          _this.values = dependency;\n          return _this;\n        }\n\n        return DependencyRemovingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.DependencyRemovingArguments = DependencyRemovingArguments;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DeassignResourceCommand = exports.AssignResourceCommand = exports.RemoveResourceCommand = exports.CreateResourceCommand = exports.ResourceCommandBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var ResourceHistoryItem_1 = __webpack_require__(22);\n\n      var ResourceArguments_1 = __webpack_require__(111);\n\n      var AssignmentArguments_1 = __webpack_require__(32);\n\n      var ResourceCommandBase = function (_super) {\n        tslib_1.__extends(ResourceCommandBase, _super);\n\n        function ResourceCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return ResourceCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.ResourceCommandBase = ResourceCommandBase;\n\n      var CreateResourceCommand = function (_super) {\n        tslib_1.__extends(CreateResourceCommand, _super);\n\n        function CreateResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateResourceCommand.prototype.execute = function (text, color, callback) {\n          if (color === void 0) {\n            color = \"\";\n          }\n\n          return _super.prototype.execute.call(this, text, color, callback);\n        };\n\n        CreateResourceCommand.prototype.executeInternal = function (text, color, callback) {\n          if (color === void 0) {\n            color = \"\";\n          }\n\n          var args = new ResourceArguments_1.ResourceInsertingArguments(text, color);\n          this.modelManipulator.dispatcher.notifyResourceCreating(args);\n          if (!args.cancel) this.history.addAndRedo(new ResourceHistoryItem_1.CreateResourceHistoryItem(this.modelManipulator, args.text, args.color, callback));\n          return !args.cancel;\n        };\n\n        CreateResourceCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowResourceInsert;\n        };\n\n        return CreateResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.CreateResourceCommand = CreateResourceCommand;\n\n      var RemoveResourceCommand = function (_super) {\n        tslib_1.__extends(RemoveResourceCommand, _super);\n\n        function RemoveResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveResourceCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveResourceCommand.prototype.executeInternal = function (id) {\n          var _this = this;\n\n          var resource = this.control.viewModel.resources.items.filter(function (r) {\n            return r.internalId == id;\n          })[0];\n\n          if (resource) {\n            var args = new ResourceArguments_1.ResourceRemovingArguments(resource);\n            this.modelManipulator.dispatcher.notifyResourceRemoving(args);\n\n            if (!args.cancel) {\n              var removeResourceHistoryItem_1 = new ResourceHistoryItem_1.RemoveResourceHistoryItem(this.modelManipulator, id);\n              var assignments = this.control.viewModel.assignments.items.filter(function (a) {\n                return a.resourceId == id;\n              });\n              assignments.forEach(function (a) {\n                if (_this.modelManipulator.dispatcher.fireResourceUnassigning(a)) removeResourceHistoryItem_1.add(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\n              });\n              this.history.addAndRedo(removeResourceHistoryItem_1);\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        RemoveResourceCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowResourceDelete;\n        };\n\n        return RemoveResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.RemoveResourceCommand = RemoveResourceCommand;\n\n      var AssignResourceCommand = function (_super) {\n        tslib_1.__extends(AssignResourceCommand, _super);\n\n        function AssignResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        AssignResourceCommand.prototype.execute = function (resourceId, taskId) {\n          return _super.prototype.execute.call(this, resourceId, taskId);\n        };\n\n        AssignResourceCommand.prototype.executeInternal = function (resourceId, taskId) {\n          var assignment = this.control.viewModel.assignments.items.filter(function (r) {\n            return r.resourceId == resourceId && r.taskId == taskId;\n          })[0];\n\n          if (!assignment) {\n            var converter = this.control.viewModel;\n            var args = new AssignmentArguments_1.ResourceAssigningArguments(converter.convertInternalToPublicKey(\"resource\", resourceId), converter.convertInternalToPublicKey(\"task\", taskId));\n            this.modelManipulator.dispatcher.notifyResourceAssigning(args);\n\n            if (!args.cancel) {\n              this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, converter.convertPublicToInternalKey(\"resource\", args.resourceId), converter.convertPublicToInternalKey(\"task\", args.taskId)));\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        AssignResourceCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskResourceUpdate;\n        };\n\n        return AssignResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.AssignResourceCommand = AssignResourceCommand;\n\n      var DeassignResourceCommand = function (_super) {\n        tslib_1.__extends(DeassignResourceCommand, _super);\n\n        function DeassignResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DeassignResourceCommand.prototype.execute = function (assignmentId) {\n          return _super.prototype.execute.call(this, assignmentId);\n        };\n\n        DeassignResourceCommand.prototype.executeInternal = function (assignmentId) {\n          var assignment = this.control.viewModel.assignments.items.filter(function (r) {\n            return r.internalId == assignmentId;\n          })[0];\n\n          if (assignment && this.modelManipulator.dispatcher.fireResourceUnassigning(assignment)) {\n            this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this.modelManipulator, assignmentId));\n            return true;\n          }\n\n          return false;\n        };\n\n        DeassignResourceCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskResourceUpdate;\n        };\n\n        return DeassignResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.DeassignResourceCommand = DeassignResourceCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceRemovingArguments = exports.ResourceInsertingArguments = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var BaseArguments_1 = __webpack_require__(20);\n\n      var ResourceInsertingArguments = function (_super) {\n        tslib_1.__extends(ResourceInsertingArguments, _super);\n\n        function ResourceInsertingArguments(text, color) {\n          if (color === void 0) {\n            color = \"\";\n          }\n\n          var _this = _super.call(this, null) || this;\n\n          _this.values = {\n            text: text,\n            color: color\n          };\n          return _this;\n        }\n\n        Object.defineProperty(ResourceInsertingArguments.prototype, \"text\", {\n          get: function () {\n            return this.values.text;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(ResourceInsertingArguments.prototype, \"color\", {\n          get: function () {\n            return this.values.color;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return ResourceInsertingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.ResourceInsertingArguments = ResourceInsertingArguments;\n\n      var ResourceRemovingArguments = function (_super) {\n        tslib_1.__extends(ResourceRemovingArguments, _super);\n\n        function ResourceRemovingArguments(resource) {\n          var _this = _super.call(this, resource.id) || this;\n\n          _this.values = resource;\n          return _this;\n        }\n\n        return ResourceRemovingArguments;\n      }(BaseArguments_1.BaseArguments);\n\n      exports.ResourceRemovingArguments = ResourceRemovingArguments;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TaskEditParameters = exports.TaskEditDialogCommand = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DialogBase_1 = __webpack_require__(24);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(25);\n\n      var ResourceCollection_1 = __webpack_require__(26);\n\n      var ResourceHistoryItem_1 = __webpack_require__(22);\n\n      var AssignmentArguments_1 = __webpack_require__(32);\n\n      var TaskEditDialogCommand = function (_super) {\n        tslib_1.__extends(TaskEditDialogCommand, _super);\n\n        function TaskEditDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEditDialogCommand.prototype.onBeforeDialogShow = function (params) {\n          return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(params, function (args) {\n            var newValues = args.values;\n            params.start = newValues.start;\n            params.end = newValues.end;\n            params.progress = newValues.progress;\n            params.title = newValues.title;\n            params.readOnlyFields = args.readOnlyFields;\n            params.hiddenFields = args.hiddenFields;\n          });\n        };\n\n        TaskEditDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          this.history.beginTransaction();\n          var success = this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(this.control.viewModel.tasks.getItemById(oldParameters.id), newParameters, function (newValues) {\n            newParameters.title = newValues.title ? newValues.title : \"\";\n            newParameters.progress = newValues.progress;\n            newParameters.start = newValues.start;\n            newParameters.end = newValues.end;\n          });\n\n          if (success) {\n            if (newParameters.title != oldParameters.title) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, oldParameters.id, newParameters.title));\n            if (newParameters.progress != oldParameters.progress) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, oldParameters.id, newParameters.progress));\n            if (newParameters.end.getTime() < newParameters.start.getTime()) newParameters.end = newParameters.start;\n\n            if (newParameters.start != oldParameters.start) {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, oldParameters.id, newParameters.start));\n              if (this.control.settings.validation.validateDependencies) this.control.validationController.moveStartDependTasks(oldParameters.id, oldParameters.start);\n            }\n\n            if (newParameters.end != oldParameters.end) {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, oldParameters.id, newParameters.end));\n              if (this.control.settings.validation.validateDependencies) this.control.validationController.moveEndDependTasks(oldParameters.id, oldParameters.end);\n            }\n          }\n\n          for (var i = 0; i < newParameters.assigned.length; i++) {\n            var resource = oldParameters.assigned.getItemById(newParameters.assigned.getItem(i).internalId);\n\n            if (!resource) {\n              var resourceId = newParameters.assigned.getItem(i).internalId;\n              var taskId = oldParameters.id;\n              var args = new AssignmentArguments_1.ResourceAssigningArguments(resourceId, taskId);\n              this.modelManipulator.dispatcher.notifyResourceAssigning(args);\n              if (!args.cancel) this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, args.resourceId, args.taskId));\n            }\n          }\n\n          var _loop_1 = function (i) {\n            var assigned = oldParameters.assigned.getItem(i);\n            var resource = newParameters.assigned.getItemById(assigned.internalId);\n\n            if (!resource) {\n              var assignment = this_1.control.viewModel.assignments.items.filter(function (assignment) {\n                return assignment.resourceId == assigned.internalId && assignment.taskId == oldParameters.id;\n              })[0];\n              if (this_1.modelManipulator.dispatcher.fireResourceUnassigning(assignment)) this_1.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this_1.modelManipulator, assignment.internalId));\n            }\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < oldParameters.assigned.length; i++) {\n            _loop_1(i);\n          }\n\n          var updateParents = newParameters.start != oldParameters.start || newParameters.end != oldParameters.end || newParameters.progress != oldParameters.progress || newParameters.title != oldParameters.title;\n          if (success && updateParents) this.validationController.updateParentsIfRequired(oldParameters.id);\n          this.history.endTransaction();\n          return false;\n        };\n\n        TaskEditDialogCommand.prototype.createParameters = function (options) {\n          options = options || this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);\n          var param = new TaskEditParameters();\n          param.id = options.internalId;\n          param.title = options.title;\n          param.progress = options.progress;\n          param.start = options.start;\n          param.end = options.end;\n          param.assigned = this.control.viewModel.getAssignedResources(options);\n          param.resources = new ResourceCollection_1.ResourceCollection();\n          param.resources.addRange(this.control.viewModel.resources.items);\n          param.showResourcesDialogCommand = this.control.commandManager.showResourcesDialog;\n          param.showTaskEditDialogCommand = this.control.commandManager.showTaskEditDialog;\n          param.enableEdit = this.isTaskEditEnabled();\n          param.enableRangeEdit = this.isTaskRangeEditEnabled(options);\n          return param;\n        };\n\n        TaskEditDialogCommand.prototype.isTaskEditEnabled = function () {\n          var settings = this.control.settings;\n          return settings.editing.enabled && settings.editing.allowTaskUpdate;\n        };\n\n        TaskEditDialogCommand.prototype.isTaskRangeEditEnabled = function (task) {\n          return !this.control.viewModel.isTaskToCalculateByChildren(task.internalId);\n        };\n\n        TaskEditDialogCommand.prototype.isEnabled = function () {\n          var gantt = this.control;\n          var selectedItem = gantt.viewModel.findItem(gantt.currentSelectedTaskID);\n          return !!selectedItem && selectedItem.selected;\n        };\n\n        TaskEditDialogCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.visible && !this.control.taskEditController.dependencyId;\n          return state;\n        };\n\n        TaskEditDialogCommand.prototype.getDialogName = function () {\n          return \"TaskEdit\";\n        };\n\n        return TaskEditDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.TaskEditDialogCommand = TaskEditDialogCommand;\n\n      var TaskEditParameters = function (_super) {\n        tslib_1.__extends(TaskEditParameters, _super);\n\n        function TaskEditParameters() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.enableEdit = true;\n          _this.enableRangeEdit = true;\n          _this.hiddenFields = [];\n          _this.readOnlyFields = [];\n          return _this;\n        }\n\n        TaskEditParameters.prototype.clone = function () {\n          var clone = new TaskEditParameters();\n          clone.id = this.id;\n          clone.title = this.title;\n          clone.progress = this.progress;\n          clone.start = this.start;\n          clone.end = this.end;\n          clone.assigned = new ResourceCollection_1.ResourceCollection();\n          clone.assigned.addRange(this.assigned.items);\n          clone.resources = new ResourceCollection_1.ResourceCollection();\n          clone.resources.addRange(this.resources.items);\n          clone.showResourcesDialogCommand = this.showResourcesDialogCommand;\n          clone.showTaskEditDialogCommand = this.showTaskEditDialogCommand;\n          clone.enableEdit = this.enableEdit;\n          clone.enableRangeEdit = this.enableRangeEdit;\n          clone.hiddenFields = this.hiddenFields.slice();\n          clone.readOnlyFields = this.readOnlyFields.slice();\n          return clone;\n        };\n\n        return TaskEditParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.TaskEditParameters = TaskEditParameters;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourcesDialogParameters = exports.ResourcesDialogCommand = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var DialogBase_1 = __webpack_require__(24);\n\n      var ResourceCollection_1 = __webpack_require__(26);\n\n      var ConfirmationDialog_1 = __webpack_require__(23);\n\n      var ResourcesDialogCommand = function (_super) {\n        tslib_1.__extends(ResourcesDialogCommand, _super);\n\n        function ResourcesDialogCommand() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.resourcesForDelete = [];\n          return _this;\n        }\n\n        ResourcesDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          this.history.beginTransaction();\n\n          for (var i = 0; i < newParameters.resources.length; i++) {\n            var resource = oldParameters.resources.getItemById(newParameters.resources.getItem(i).internalId);\n            if (!resource) this.control.commandManager.createResourceCommand.execute(newParameters.resources.getItem(i).text);\n          }\n\n          for (var i = 0; i < oldParameters.resources.length; i++) {\n            var resource = newParameters.resources.getItemById(oldParameters.resources.getItem(i).internalId);\n            if (!resource) this.resourcesForDelete.push(oldParameters.resources.getItem(i));\n          }\n\n          this.history.endTransaction();\n          return false;\n        };\n\n        ResourcesDialogCommand.prototype.createParameters = function (callBack) {\n          this.callBack = callBack;\n          var param = new ResourcesDialogParameters();\n          param.resources = new ResourceCollection_1.ResourceCollection();\n          param.resources.addRange(this.control.viewModel.resources.items);\n          return param;\n        };\n\n        ResourcesDialogCommand.prototype.afterClosing = function () {\n          var _this = this;\n\n          if (this.resourcesForDelete.length) {\n            var confirmationDialog = this.control.commandManager.showConfirmationDialog;\n            var confirmationDialogParameters = new ConfirmationDialog_1.ConfirmationDialogParameters(ConfirmationDialog_1.ConfirmationType.ResourcesDelete, function () {\n              _this.history.beginTransaction();\n\n              for (var i = 0; i < _this.resourcesForDelete.length; i++) _this.control.commandManager.removeResourceCommand.execute(_this.resourcesForDelete[i].internalId);\n\n              _this.history.endTransaction();\n            });\n            confirmationDialogParameters.message = this.resourcesForDelete.reduce(function (a, b) {\n              return tslib_1.__spreadArrays(a, [b.text]);\n            }, []).join(\", \");\n            if (this.callBack) confirmationDialog.afterClosing = function () {\n              return _this.callBack();\n            };\n            confirmationDialog.execute(confirmationDialogParameters);\n          } else if (this.callBack) this.callBack();\n        };\n\n        ResourcesDialogCommand.prototype.getDialogName = function () {\n          return \"Resources\";\n        };\n\n        return ResourcesDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.ResourcesDialogCommand = ResourcesDialogCommand;\n\n      var ResourcesDialogParameters = function (_super) {\n        tslib_1.__extends(ResourcesDialogParameters, _super);\n\n        function ResourcesDialogParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesDialogParameters.prototype.clone = function () {\n          var clone = new ResourcesDialogParameters();\n          clone.resources = new ResourceCollection_1.ResourceCollection();\n          clone.resources.addRange(this.resources.items);\n          return clone;\n        };\n\n        return ResourcesDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ResourcesDialogParameters = ResourcesDialogParameters;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GanttClientCommand = void 0;\n      var GanttClientCommand;\n\n      (function (GanttClientCommand) {\n        GanttClientCommand[GanttClientCommand[\"CreateTask\"] = 0] = \"CreateTask\";\n        GanttClientCommand[GanttClientCommand[\"CreateSubTask\"] = 1] = \"CreateSubTask\";\n        GanttClientCommand[GanttClientCommand[\"RemoveTask\"] = 2] = \"RemoveTask\";\n        GanttClientCommand[GanttClientCommand[\"RemoveDependency\"] = 3] = \"RemoveDependency\";\n        GanttClientCommand[GanttClientCommand[\"TaskInformation\"] = 4] = \"TaskInformation\";\n        GanttClientCommand[GanttClientCommand[\"TaskAddContextItem\"] = 5] = \"TaskAddContextItem\";\n        GanttClientCommand[GanttClientCommand[\"Undo\"] = 6] = \"Undo\";\n        GanttClientCommand[GanttClientCommand[\"Redo\"] = 7] = \"Redo\";\n        GanttClientCommand[GanttClientCommand[\"ZoomIn\"] = 8] = \"ZoomIn\";\n        GanttClientCommand[GanttClientCommand[\"ZoomOut\"] = 9] = \"ZoomOut\";\n        GanttClientCommand[GanttClientCommand[\"FullScreen\"] = 10] = \"FullScreen\";\n        GanttClientCommand[GanttClientCommand[\"CollapseAll\"] = 11] = \"CollapseAll\";\n        GanttClientCommand[GanttClientCommand[\"ExpandAll\"] = 12] = \"ExpandAll\";\n      })(GanttClientCommand = exports.GanttClientCommand || (exports.GanttClientCommand = {}));\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.RedoCommand = exports.UndoCommand = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var UndoCommand = function (_super) {\n        tslib_1.__extends(UndoCommand, _super);\n\n        function UndoCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        UndoCommand.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = this.control.settings.editing.enabled;\n          return state;\n        };\n\n        UndoCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        UndoCommand.prototype.executeInternal = function () {\n          this.history.undo();\n          return true;\n        };\n\n        UndoCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.history.canUndo();\n        };\n\n        return UndoCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.UndoCommand = UndoCommand;\n\n      var RedoCommand = function (_super) {\n        tslib_1.__extends(RedoCommand, _super);\n\n        function RedoCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RedoCommand.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = this.control.settings.editing.enabled;\n          return state;\n        };\n\n        RedoCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        RedoCommand.prototype.executeInternal = function () {\n          this.history.redo();\n          return true;\n        };\n\n        RedoCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.history.canRedo();\n        };\n\n        return RedoCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.RedoCommand = RedoCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ZoomOutCommand = exports.ZoomInCommand = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var ZoomInCommand = function (_super) {\n        tslib_1.__extends(ZoomInCommand, _super);\n\n        function ZoomInCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ZoomInCommand.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(true);\n        };\n\n        ZoomInCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        ZoomInCommand.prototype.executeInternal = function () {\n          this.control.zoomIn();\n          return true;\n        };\n\n        return ZoomInCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.ZoomInCommand = ZoomInCommand;\n\n      var ZoomOutCommand = function (_super) {\n        tslib_1.__extends(ZoomOutCommand, _super);\n\n        function ZoomOutCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ZoomOutCommand.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(true);\n        };\n\n        ZoomOutCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        ZoomOutCommand.prototype.executeInternal = function () {\n          this.control.zoomOut();\n          return true;\n        };\n\n        return ZoomOutCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.ZoomOutCommand = ZoomOutCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ToggleFullScreenCommand = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var ToggleFullScreenCommand = function (_super) {\n        tslib_1.__extends(ToggleFullScreenCommand, _super);\n\n        function ToggleFullScreenCommand() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.isInFullScreenMode = false;\n          _this.fullScreenTempVars = {};\n          return _this;\n        }\n\n        ToggleFullScreenCommand.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(true);\n          state.value = this.control.fullScreenModeHelper.isInFullScreenMode;\n          return state;\n        };\n\n        ToggleFullScreenCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        ToggleFullScreenCommand.prototype.executeInternal = function () {\n          this.control.fullScreenModeHelper.toggle();\n          return true;\n        };\n\n        return ToggleFullScreenCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.ToggleFullScreenCommand = ToggleFullScreenCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ExpandAllCommand = exports.CollapseAllCommand = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var CollapseAllCommand = function (_super) {\n        tslib_1.__extends(CollapseAllCommand, _super);\n\n        function CollapseAllCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CollapseAllCommand.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        CollapseAllCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        CollapseAllCommand.prototype.executeInternal = function () {\n          this.control.ganttOwner.collapseAll();\n          return true;\n        };\n\n        CollapseAllCommand.prototype.isEnabled = function () {\n          return true;\n        };\n\n        return CollapseAllCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.CollapseAllCommand = CollapseAllCommand;\n\n      var ExpandAllCommand = function (_super) {\n        tslib_1.__extends(ExpandAllCommand, _super);\n\n        function ExpandAllCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ExpandAllCommand.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        ExpandAllCommand.prototype.execute = function () {\n          return _super.prototype.execute.call(this);\n        };\n\n        ExpandAllCommand.prototype.executeInternal = function () {\n          this.control.ganttOwner.expandAll();\n          return true;\n        };\n\n        ExpandAllCommand.prototype.isEnabled = function () {\n          return true;\n        };\n\n        return ExpandAllCommand;\n      }(CommandBase_1.CommandBase);\n\n      exports.ExpandAllCommand = ExpandAllCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceColorCommand = exports.ResourcePropertyCommandBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var CommandBase_1 = __webpack_require__(7);\n\n      var ResourcePropertiesHistoryItem_1 = __webpack_require__(120);\n\n      var ResourcePropertyCommandBase = function (_super) {\n        tslib_1.__extends(ResourcePropertyCommandBase, _super);\n\n        function ResourcePropertyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcePropertyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        ResourcePropertyCommandBase.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowResourceUpdate;\n        };\n\n        return ResourcePropertyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.ResourcePropertyCommandBase = ResourcePropertyCommandBase;\n\n      var ResourceColorCommand = function (_super) {\n        tslib_1.__extends(ResourceColorCommand, _super);\n\n        function ResourceColorCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceColorCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        ResourceColorCommand.prototype.executeInternal = function (id, value) {\n          var oldColor = this.control.viewModel.resources.getItemById(id).color;\n          if (oldColor == value) return false;\n          this.history.addAndRedo(new ResourcePropertiesHistoryItem_1.ResourceColorHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return ResourceColorCommand;\n      }(ResourcePropertyCommandBase);\n\n      exports.ResourceColorCommand = ResourceColorCommand;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ResourceColorHistoryItem = exports.ResourcePropertiesHistoryItemBase = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var HistoryItem_1 = __webpack_require__(12);\n\n      var ResourcePropertiesHistoryItemBase = function (_super) {\n        tslib_1.__extends(ResourcePropertiesHistoryItemBase, _super);\n\n        function ResourcePropertiesHistoryItemBase(modelManipulator, resourceId, newValue) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.resourceId = resourceId;\n          _this.newValue = newValue;\n          return _this;\n        }\n\n        ResourcePropertiesHistoryItemBase.prototype.redo = function () {\n          this.oldState = this.getPropertiesManipulator().setValue(this.resourceId, this.newValue);\n        };\n\n        ResourcePropertiesHistoryItemBase.prototype.undo = function () {\n          this.getPropertiesManipulator().restoreValue(this.oldState);\n        };\n\n        ResourcePropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\n          throw new Error(\"Not Implemented\");\n        };\n\n        return ResourcePropertiesHistoryItemBase;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.ResourcePropertiesHistoryItemBase = ResourcePropertiesHistoryItemBase;\n\n      var ResourceColorHistoryItem = function (_super) {\n        tslib_1.__extends(ResourceColorHistoryItem, _super);\n\n        function ResourceColorHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceColorHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.resource.properties.color;\n        };\n\n        return ResourceColorHistoryItem;\n      }(ResourcePropertiesHistoryItemBase);\n\n      exports.ResourceColorHistoryItem = ResourceColorHistoryItem;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BarManager = void 0;\n\n      var BarManager = function () {\n        function BarManager(control, bars) {\n          this.control = control;\n          this.bars = bars;\n        }\n\n        BarManager.prototype.updateContextMenu = function () {\n          for (var i = 0, bar = void 0; bar = this.bars[i]; i++) if (bar.isContextMenu()) {\n            bar.updateItemsList();\n            var commandKeys = bar.getCommandKeys();\n\n            for (var j = 0; j < commandKeys.length; j++) this.updateBarItem(bar, commandKeys[j]);\n          }\n        };\n\n        BarManager.prototype.updateItemsState = function (queryCommands) {\n          var anyQuerySended = !!queryCommands.length;\n\n          var _loop_1 = function (i, bar) {\n            if (bar.isVisible()) {\n              var commandKeys_1 = bar.getCommandKeys();\n\n              var _loop_2 = function (j) {\n                if (anyQuerySended && !queryCommands.filter(function (q) {\n                  return q == commandKeys_1[j];\n                }).length) return \"continue\";\n                this_1.updateBarItem(bar, commandKeys_1[j]);\n              };\n\n              for (var j = 0; j < commandKeys_1.length; j++) {\n                _loop_2(j);\n              }\n\n              bar.completeUpdate();\n            }\n          };\n\n          var this_1 = this;\n\n          for (var i = 0, bar = void 0; bar = this.bars[i]; i++) {\n            _loop_1(i, bar);\n          }\n        };\n\n        BarManager.prototype.updateBarItem = function (bar, commandKey) {\n          var command = this.control.commandManager.getCommand(commandKey);\n\n          if (command) {\n            var commandState = command.getState();\n            bar.setItemVisible(commandKey, commandState.visible);\n\n            if (commandState.visible) {\n              bar.setItemEnabled(commandKey, commandState.enabled);\n              bar.setItemValue(commandKey, commandState.value);\n            }\n          }\n        };\n\n        return BarManager;\n      }();\n\n      exports.BarManager = BarManager;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ValidationController = exports.ValidationError = void 0;\n\n      var tslib_1 = __webpack_require__(0);\n\n      var Dependency_1 = __webpack_require__(11);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(25);\n\n      var DateRange_1 = __webpack_require__(9);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var common_1 = __webpack_require__(1);\n\n      var ValidationError = function () {\n        function ValidationError(dependencyId, critical) {\n          if (critical === void 0) {\n            critical = false;\n          }\n\n          this.dependencyId = dependencyId;\n          this.critical = critical;\n        }\n\n        return ValidationError;\n      }();\n\n      exports.ValidationError = ValidationError;\n\n      var ValidationController = function () {\n        function ValidationController(gantt) {\n          this.gantt = gantt;\n        }\n\n        Object.defineProperty(ValidationController.prototype, \"viewModel\", {\n          get: function () {\n            return this.gantt.viewModel;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        Object.defineProperty(ValidationController.prototype, \"history\", {\n          get: function () {\n            return this.gantt.history;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        ValidationController.prototype.checkStartDependencies = function (taskId, date) {\n          var _this = this;\n\n          var result = [];\n          var task = this.gantt.viewModel.tasks.getItemById(taskId);\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.successorId == taskId;\n          });\n          dependencies.forEach(function (dep) {\n            var predecessorTask = _this.gantt.viewModel.tasks.getItemById(dep.predecessorId);\n\n            if (dep.type == Dependency_1.DependencyType.FS && predecessorTask.end > date || dep.type == Dependency_1.DependencyType.SS && predecessorTask.start > date) result.push(new ValidationError(dep.internalId, true));\n            if (dep.type == Dependency_1.DependencyType.FS && predecessorTask.end.valueOf() == task.start.valueOf() && date > predecessorTask.end || dep.type == Dependency_1.DependencyType.SS && predecessorTask.start.valueOf() == task.start.valueOf() && date > predecessorTask.start) result.push(new ValidationError(dep.internalId));\n          });\n          return result;\n        };\n\n        ValidationController.prototype.checkEndDependencies = function (taskId, date) {\n          var _this = this;\n\n          var result = [];\n          var task = this.gantt.viewModel.tasks.getItemById(taskId);\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.successorId == taskId;\n          });\n          dependencies.forEach(function (dep) {\n            var predecessorTask = _this.gantt.viewModel.tasks.getItemById(dep.predecessorId);\n\n            if (dep.type == Dependency_1.DependencyType.SF && predecessorTask.start > date || dep.type == Dependency_1.DependencyType.FF && predecessorTask.end > date) result.push(new ValidationError(dep.internalId, true));\n            if (dep.type == Dependency_1.DependencyType.SF && predecessorTask.start.valueOf() == task.end.valueOf() && date > predecessorTask.start || dep.type == Dependency_1.DependencyType.FF && predecessorTask.end.valueOf() == task.end.valueOf() && date > predecessorTask.end) result.push(new ValidationError(dep.internalId));\n          });\n          return result;\n        };\n\n        ValidationController.prototype.moveEndDependTasks = function (taskId, previousEndDate) {\n          var _this = this;\n\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == taskId;\n          });\n          dependencies.forEach(function (dep) {\n            var task = _this.gantt.viewModel.tasks.getItemById(taskId);\n\n            var successorTask = _this.gantt.viewModel.tasks.getItemById(dep.successorId);\n\n            var rangeBeforeMove = new DateRange_1.DateRange(new Date(successorTask.start.getTime()), new Date(successorTask.end.getTime()));\n            var validRange = new DateRange_1.DateRange(new Date(), new Date());\n\n            if (dep.type == Dependency_1.DependencyType.FS && (successorTask.start < task.end || successorTask.start.valueOf() === previousEndDate.valueOf() && successorTask.start > task.end)) {\n              validRange.start.setTime(task.end.getTime());\n              validRange.end.setTime(validRange.start.getTime() + (successorTask.end.getTime() - successorTask.start.getTime()));\n\n              _this.correctMoving(successorTask.internalId, validRange);\n\n              _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\n\n              if (_this._parentAutoCalc) {\n                var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\n\n                _this.correctOnMoving(successorTask.internalId, delta);\n              }\n\n              _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\n\n              _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\n            }\n\n            if (dep.type == Dependency_1.DependencyType.FF && (successorTask.end < task.end || successorTask.end.valueOf() === previousEndDate.valueOf() && successorTask.end > task.end)) {\n              validRange.start.setTime(task.end.getTime() - (successorTask.end.getTime() - successorTask.start.getTime()));\n              validRange.end.setTime(task.end.getTime());\n\n              _this.correctMoving(successorTask.internalId, validRange);\n\n              _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\n\n              if (_this._parentAutoCalc) {\n                var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\n\n                _this.correctOnMoving(successorTask.internalId, delta);\n              }\n\n              _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\n\n              _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\n            }\n          });\n        };\n\n        ValidationController.prototype.moveStartDependTasks = function (taskId, previousStartDate) {\n          var _this = this;\n\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == taskId;\n          });\n          dependencies.forEach(function (dep) {\n            var task = _this.gantt.viewModel.tasks.getItemById(taskId);\n\n            var successorTask = _this.gantt.viewModel.tasks.getItemById(dep.successorId);\n\n            var rangeBeforeMove = new DateRange_1.DateRange(new Date(successorTask.start.getTime()), new Date(successorTask.end.getTime()));\n            var validRange = new DateRange_1.DateRange(new Date(), new Date());\n\n            if (dep.type == Dependency_1.DependencyType.SF && (successorTask.end < task.start || successorTask.end.valueOf() === previousStartDate.valueOf() && successorTask.end > task.start)) {\n              validRange.start.setTime(task.start.getTime() - (successorTask.end.getTime() - successorTask.start.getTime()));\n              validRange.end.setTime(task.start.getTime());\n\n              _this.correctMoving(successorTask.internalId, validRange);\n\n              _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\n\n              if (_this._parentAutoCalc) {\n                var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\n\n                _this.correctOnMoving(successorTask.internalId, delta);\n              }\n\n              _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\n\n              _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\n            }\n\n            if (dep.type == Dependency_1.DependencyType.SS && (successorTask.start < task.start || successorTask.start.valueOf() === previousStartDate.valueOf() && successorTask.start > task.start)) {\n              validRange.start.setTime(task.start.getTime());\n              validRange.end.setTime(task.start.getTime() + (successorTask.end.getTime() - successorTask.start.getTime()));\n\n              _this.correctMoving(successorTask.internalId, validRange);\n\n              _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\n\n              if (_this._parentAutoCalc) {\n                var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\n\n                _this.correctOnMoving(successorTask.internalId, delta);\n              }\n\n              _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\n\n              _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\n            }\n          });\n        };\n\n        ValidationController.prototype.correctMoving = function (taskId, dateRange) {\n          var _this = this;\n\n          var deltaDate = dateRange.end.getTime() - dateRange.start.getTime();\n\n          var validationErrors = tslib_1.__spreadArrays(this.checkStartDependencies(taskId, dateRange.start), this.checkEndDependencies(taskId, dateRange.end));\n\n          var criticalErrors = validationErrors.filter(function (e) {\n            return e.critical;\n          });\n          criticalErrors.forEach(function (error) {\n            var dependency = _this.gantt.viewModel.dependencies.getItemById(error.dependencyId);\n\n            var predecessorTask = _this.gantt.viewModel.tasks.getItemById(dependency.predecessorId);\n\n            if (dependency.type == Dependency_1.DependencyType.FS) if (dateRange.start < predecessorTask.end) {\n              dateRange.start.setTime(predecessorTask.end.getTime());\n              dateRange.end.setTime(dateRange.start.getTime() + deltaDate);\n            }\n            if (dependency.type == Dependency_1.DependencyType.SS) if (dateRange.start < predecessorTask.start) {\n              dateRange.start.setTime(predecessorTask.start.getTime());\n              dateRange.end.setTime(dateRange.start.getTime() + deltaDate);\n            }\n            if (dependency.type == Dependency_1.DependencyType.FF) if (dateRange.end < predecessorTask.end) {\n              dateRange.end.setTime(predecessorTask.end.getTime());\n              dateRange.start.setTime(dateRange.end.getTime() - deltaDate);\n            }\n            if (dependency.type == Dependency_1.DependencyType.SF) if (dateRange.end < predecessorTask.start) {\n              dateRange.end.setTime(predecessorTask.start.getTime());\n              dateRange.start.setTime(dateRange.end.getTime() - deltaDate);\n            }\n          });\n          return dateRange;\n        };\n\n        ValidationController.prototype.recalculateParents = function (child, calcStepCallback) {\n          var parent = child && child.parent;\n\n          while (parent && parent.task) {\n            var children = parent.children;\n            var start = this.gantt.range.end;\n            var end = this.gantt.range.start;\n            var progress = 0;\n            var totalDuration = 0;\n            var data = {\n              id: parent.task.internalId\n            };\n\n            for (var i = 0; i < children.length; i++) {\n              var childTask = children[i].task;\n              start = DateTimeUtils_1.DateTimeUtils.getMinDate(start, childTask.start);\n              end = DateTimeUtils_1.DateTimeUtils.getMaxDate(end, childTask.end);\n              var duration = childTask.getDuration();\n              progress += childTask.progress * duration;\n              totalDuration += duration;\n            }\n\n            if (!DateTimeUtils_1.DateTimeUtils.areDatesEqual(parent.task.start, start)) data[\"start\"] = start;\n            if (!DateTimeUtils_1.DateTimeUtils.areDatesEqual(parent.task.end, end)) data[\"end\"] = end;\n            progress = Math.ceil(progress / totalDuration);\n            if (progress !== parent.task.progress) data[\"progress\"] = progress;\n            calcStepCallback(data);\n            parent = parent.parent;\n          }\n        };\n\n        ValidationController.prototype.updateParentsRangeByChild = function (taskId) {\n          var _this = this;\n\n          this.recalculateParents(this.viewModel.findItem(taskId), function (data) {\n            if (!common_1.isDefined(data.id)) return;\n            var history = _this.history;\n            var manipulator = _this.gantt.modelManipulator;\n            if (common_1.isDefined(data.start)) history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(manipulator, data.id, data.start));\n            if (common_1.isDefined(data.end)) history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(manipulator, data.id, data.end));\n            if (common_1.isDefined(data.progress)) history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(manipulator, data.id, data.progress));\n          });\n        };\n\n        ValidationController.prototype.updateChildRangeByParent = function (parentId, delta, changedTasks) {\n          var item = this.viewModel.findItem(parentId);\n          if (!item || item.children.length === 0) return;\n          var children = item.children;\n\n          for (var i = 0; i < children.length; i++) {\n            var childTask = children[i].task;\n            var newStart = new Date(childTask.start.getTime() + delta);\n            var newEnd = new Date(childTask.end.getTime() + delta);\n            changedTasks.push({\n              id: childTask.internalId,\n              start: childTask.start,\n              end: childTask.end\n            });\n\n            if (newStart < childTask.end) {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.gantt.modelManipulator, childTask.internalId, newStart));\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.gantt.modelManipulator, childTask.internalId, newEnd));\n            } else {\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.gantt.modelManipulator, childTask.internalId, newEnd));\n              this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.gantt.modelManipulator, childTask.internalId, newStart));\n            }\n\n            this.updateChildRangeByParent(childTask.internalId, delta, changedTasks);\n          }\n        };\n\n        ValidationController.prototype.updateParentsIfRequired = function (childId) {\n          if (this._parentAutoCalc) {\n            this.updateParentsRangeByChild(childId);\n            this.gantt.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData());\n          }\n        };\n\n        ValidationController.prototype.correctOnMoving = function (taskId, delta) {\n          var _this = this;\n\n          if (this._parentAutoCalc && delta !== 0) {\n            this.updateParentsRangeByChild(taskId);\n            var changedTasks = [];\n            this.updateChildRangeByParent(taskId, delta, changedTasks);\n            if (this.gantt.settings.validation.validateDependencies) changedTasks.forEach(function (i) {\n              _this.moveStartDependTasks(i.id, i.start);\n\n              _this.moveEndDependTasks(i.id, i.end);\n            });\n            this.gantt.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData());\n          }\n        };\n\n        Object.defineProperty(ValidationController.prototype, \"_parentAutoCalc\", {\n          get: function () {\n            return this.viewModel.parentAutoCalc;\n          },\n          enumerable: false,\n          configurable: true\n        });\n        return ValidationController;\n      }();\n\n      exports.ValidationController = ValidationController;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FullScreenModeHelper = void 0;\n\n      var browser_1 = __webpack_require__(5);\n\n      var attr_1 = __webpack_require__(124);\n\n      var dom_1 = __webpack_require__(3);\n\n      var FullScreenModeHelper = function () {\n        function FullScreenModeHelper(gantt) {\n          this._isInFullScreenMode = false;\n          this.fullScreenTempVars = {};\n          this.gantt = gantt;\n        }\n\n        Object.defineProperty(FullScreenModeHelper.prototype, \"isInFullScreenMode\", {\n          get: function () {\n            return this._isInFullScreenMode;\n          },\n          enumerable: false,\n          configurable: true\n        });\n\n        FullScreenModeHelper.prototype.toggle = function () {\n          this._isInFullScreenMode = !this._isInFullScreenMode;\n          if (this._isInFullScreenMode) this.setFullScreenMode();else this.setNormalMode();\n          return true;\n        };\n\n        FullScreenModeHelper.prototype.setFullScreenMode = function () {\n          this.prepareFullScreenMode();\n          this.adjustControlInFullScreenMode();\n        };\n\n        FullScreenModeHelper.prototype.prepareFullScreenMode = function () {\n          var mainElement = this.getMainElement();\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-top-width\", \"0px\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-left-width\", \"0px\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-right-width\", \"0px\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-bottom-width\", \"0px\");\n          this.fullScreenTempVars.scrollTop = dom_1.DomUtils.getDocumentScrollTop();\n          this.fullScreenTempVars.scrollLeft = dom_1.DomUtils.getDocumentScrollLeft();\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"background-color\", \"white\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"position\", \"fixed\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"top\", \"0px\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"left\", \"0px\");\n          attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"z-index\", \"10001\");\n          attr_1.AttrUtils.changeElementStyleAttribute(document.documentElement, \"position\", \"static\");\n          attr_1.AttrUtils.changeElementStyleAttribute(document.documentElement, \"overflow\", \"hidden\");\n          this.fullScreenTempVars.bodyMargin = document.body.style.margin;\n          document.body.style.margin = \"0\";\n          this.fullScreenTempVars.width = mainElement.style.width;\n          this.fullScreenTempVars.height = mainElement.style.height;\n          if (window.self !== window.top) this.requestFullScreen(document.body);\n        };\n\n        FullScreenModeHelper.prototype.setNormalMode = function () {\n          this.cancelFullScreen(document);\n          var mainElement = this.getMainElement();\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"left\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"top\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"background-color\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(document.documentElement, \"overflow\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(document.documentElement, \"position\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"z-index\");\n          document.body.style.margin = this.fullScreenTempVars.bodyMargin;\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"position\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-top-width\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-left-width\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-right-width\");\n          attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-bottom-width\");\n          this.setHeight(this.fullScreenTempVars.height);\n          this.setWidth(this.fullScreenTempVars.width);\n          document.documentElement.scrollTop = this.fullScreenTempVars.scrollTop;\n          document.documentElement.scrollLeft = this.fullScreenTempVars.scrollLeft;\n          this.adjustControl();\n        };\n\n        FullScreenModeHelper.prototype.adjustControlInFullScreenMode = function () {\n          var documentWidth = document.documentElement.clientWidth == 0 ? document.body.clientWidth : document.documentElement.clientWidth;\n          var documentHeight = document.documentElement.clientHeight == 0 ? document.body.clientHeight : document.documentElement.clientHeight;\n          this.setWidth(documentWidth);\n          this.setHeight(documentHeight);\n          this.adjustControl();\n        };\n\n        FullScreenModeHelper.prototype.requestFullScreen = function (element) {\n          if (element.requestFullscreen) element.requestFullscreen();else if (element.mozRequestFullScreen) element.mozRequestFullScreen();else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen();else if (element.msRequestFullscreen) element.msRequestFullscreen();\n        };\n\n        FullScreenModeHelper.prototype.cancelFullScreen = function (document) {\n          if (browser_1.Browser.Firefox && !this.getFullScreenElement(document)) return;\n          if (document.webkitExitFullscreen) document.webkitExitFullscreen();else if (document.mozCancelFullScreen) document.mozCancelFullScreen();else if (document.msExitFullscreen) document.msExitFullscreen();else if (document.exitFullscreen) document.exitFullscreen();\n        };\n\n        FullScreenModeHelper.prototype.getFullScreenElement = function (document) {\n          return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n        };\n\n        FullScreenModeHelper.prototype.setWidth = function (width) {\n          var mainElement = this.getMainElement();\n          mainElement.style.width = this.isNumber(width) ? width + \"px\" : width;\n        };\n\n        FullScreenModeHelper.prototype.setHeight = function (height) {\n          var mainElement = this.getMainElement();\n          mainElement.style.height = this.isNumber(height) ? height + \"px\" : height;\n        };\n\n        FullScreenModeHelper.prototype.isNumber = function (str) {\n          return !isNaN(parseFloat(str)) && isFinite(str);\n        };\n\n        FullScreenModeHelper.prototype.getMainElement = function () {\n          return this.gantt.getOwnerControlMainElement();\n        };\n\n        FullScreenModeHelper.prototype.adjustControl = function () {\n          this.gantt.adjustOwnerControl();\n        };\n\n        return FullScreenModeHelper;\n      }();\n\n      exports.FullScreenModeHelper = FullScreenModeHelper;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var browser_1 = __webpack_require__(5);\n\n      var AttrUtils = function () {\n        function AttrUtils() {}\n\n        AttrUtils.setElementAttribute = function (obj, attrName, value) {\n          if (obj.setAttribute) {\n            if (browser_1.Browser.IE && browser_1.Browser.MajorVersion >= 11 && attrName.toLowerCase() === 'src') obj.setAttribute(attrName, '');\n            obj.setAttribute(attrName, value);\n          }\n        };\n\n        AttrUtils.setStyleAttribute = function (obj, attrName, value) {\n          if (obj.setProperty) obj.setProperty(attrName, value, '');\n        };\n\n        AttrUtils.getElementAttribute = function (obj, attrName) {\n          return obj.getAttribute(attrName);\n        };\n\n        AttrUtils.getStyleAttribute = function (obj, attrName) {\n          if (obj.getPropertyValue) {\n            if (browser_1.Browser.Firefox) {\n              try {\n                return obj.getPropertyValue(attrName);\n              } catch (e) {\n                return obj[attrName];\n              }\n            }\n\n            return obj.getPropertyValue(attrName);\n          }\n\n          return null;\n        };\n\n        AttrUtils.removeElementAttribute = function (obj, attrName) {\n          if (obj.removeAttribute) obj.removeAttribute(attrName);\n        };\n\n        AttrUtils.removeStyleAttribute = function (obj, attrName) {\n          if (obj.removeProperty) obj.removeProperty(attrName);\n        };\n\n        AttrUtils.changeElementStyleAttribute = function (obj, attrName, newValue) {\n          AttrUtils.saveStyleAttributeInElement(obj, attrName);\n          AttrUtils.setStyleAttribute(obj.style, attrName, newValue);\n        };\n\n        AttrUtils.restoreElementStyleAttribute = function (obj, attrName) {\n          var savedAttrName = \"saved\" + attrName;\n          var style = obj.style;\n\n          if (AttrUtils.isExistsAttributeInElement(obj, savedAttrName)) {\n            var oldValue = AttrUtils.getElementAttribute(obj, savedAttrName);\n            if (oldValue === AttrUtils.emptyObject || oldValue === null) AttrUtils.removeStyleAttribute(style, attrName);else AttrUtils.setStyleAttribute(style, attrName, oldValue);\n            AttrUtils.removeElementAttribute(obj, savedAttrName);\n            return true;\n          }\n\n          return false;\n        };\n\n        AttrUtils.saveStyleAttributeInElement = function (obj, attrName) {\n          var savedAttrName = \"saved\" + attrName;\n          var style = obj.style;\n\n          if (!AttrUtils.isExistsAttributeInElement(obj, savedAttrName)) {\n            var oldValue = AttrUtils.getStyleAttribute(style, attrName);\n            AttrUtils.setElementAttribute(obj, savedAttrName, AttrUtils.isAttributeExists(oldValue) ? oldValue : AttrUtils.emptyObject);\n          }\n        };\n\n        AttrUtils.isExistsAttributeInElement = function (obj, attrName) {\n          var value = AttrUtils.getElementAttribute(obj, attrName);\n          return AttrUtils.isAttributeExists(value);\n        };\n\n        AttrUtils.isAttributeExists = function (attrValue) {\n          return attrValue !== null && attrValue !== '';\n        };\n\n        AttrUtils.emptyObject = 'DxEmptyValue';\n        return AttrUtils;\n      }();\n\n      exports.AttrUtils = AttrUtils;\n      /***/\n    }])\n  );\n});","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devexpress-gantt/dist/dx-gantt.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__extends","__assign","__rest","__decorate","__param","__metadata","__awaiter","__generator","__createBinding","__exportStar","__values","__read","__spread","__spreadArrays","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","__classPrivateFieldGet","__classPrivateFieldSet","extendStatics","b","setPrototypeOf","__proto__","Array","__","constructor","assign","arguments","length","apply","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","body","_","label","sent","trys","ops","f","y","g","verb","iterator","v","op","TypeError","pop","push","k","k2","undefined","ar","error","concat","il","a","j","jl","asyncIterator","q","resume","settle","fulfill","shift","cooked","raw","__setModuleDefault","mod","default","receiver","privateMap","has","set","string_1","isDefined","boolToInt","boolToString","isNumber","obj","isString","isNonNullString","str","isEven","num","isOdd","numberToStringBin","minLength","StringUtils","padLeft","toString","numberToStringHex","DateTimeUtils","Time_1","TimeRange_1","common_1","DateRange_1","DayOfWeekMonthlyOccurrence_1","compareDates","date1","date2","getTime","areDatesEqual","getMaxDate","diff","getMinDate","getDaysBetween","start","end","Math","abs","ceil","msInDay","getWeeksBetween","daysBetween","numWeeks","floor","getDay","getMonthsDifference","dateDiff","from","to","yearsDiff","getFullYear","monthDiff","getMonth","getYearsDifference","getDayNumber","date","getDateByDayNumber","Date","setHours","setMinutes","setSeconds","addDays","days","checkDayOfMonth","day","getDate","checkDayOfWeek","checkMonth","month","checkYear","year","checkDayOfWeekOccurrenceInMonth","dayOfWeek","occurrence","dayOfWeekInMonthDates","getSpecificDayOfWeekInMonthDates","DayOfWeekMonthlyOccurrence","Last","getFirstDayOfWeekInMonth","firstDayOfWeekInMonth","diffDays","res","specificDayOfWeekDate","getSpecificDayOfWeekInMonthDate","dates","checkValidDayInMonth","getNextMonth","inc","convertToDate","src","ms","parse","isNaN","convertTimeRangeToDateRange","timeRange","dayNumber","startT","hour","min","sec","msec","endT","DateRange","convertToTimeRanges","_this","map","x","convertToTimeRange","parseTimeRanges","TimeRange","convertToTime","parseTimeRange","Time","getTimeGromJsDate","parseTime","parts","split","filter","h","parseInt","getHours","getMinutes","getSeconds","getMilliseconds","caclTimeDifference","time1","time2","getTimeInMilleconds","areTimesEqual","getMaxTime","getMinTime","getLastTimeOfDay","browser_1","math_1","DomUtils","clearInnerHtml","element","firstChild","removeChild","setStylePosition","style","point","left","MathUtils","round","top","setStyleSize","size","width","height","setStyleSizeAndPosition","rectangle","hideNode","node","parentNode","isHTMLElementNode","nodeType","Node","ELEMENT_NODE","isTextNode","TEXT_NODE","isElementNode","isHTMLTableRowElement","tagName","isItParent","parentElement","getParentByTagName","toUpperCase","getDocumentScrollTop","isScrollBodyIE","Browser","IE","getCurrentStyle","document","overflow","scrollTop","WebKitFamily","Edge","MacOSMobilePlatform","window","pageYOffset","documentElement","getDocumentScrollLeft","scrollLeft","currentStyle","defaultView","getComputedStyle","Firefox","frameElement","changes","curElement","display","setProperty","ownerDocument","cloneObject","ch","offsetWidth","setFocus","focusCore","focus","activeElement","setTimeout","hasClassName","className","classNames","classList","contains","elementClassName","getAttribute","elementClasses","addClassName","setAttribute","removeClassName","updClassName","newClassName","replace","trim","toggleClassName","toggle","pxToInt","px","pxToNumber","pxToFloat","parseFloat","getAbsolutePositionY","getAbsolutePositionY_IE","getBoundingClientRect","getAbsolutePositionY_FF3","getAbsolutePositionY_Opera","curEl","isFirstCycle","cells","pos","getAbsoluteScrollOffset_OperaFF","offsetTop","offsetParent","getAbsolutePositionY_NS","borderTopWidth","getAbsolutePositionY_Other","Version","Opera","NetscapeFamily","getAbsolutePositionX","getAbsolutePositionX_IE","getAbsolutePositionX_FF3","getAbsolutePositionX_Opera","offsetLeft","getAbsolutePositionX_NS","borderLeftWidth","getAbsolutePositionX_Other","isInteractiveControl","getClearClientHeight","offsetHeight","getTopBottomPaddings","getVerticalBordersWidth","paddingTop","paddingBottom","MajorVersion","borderTopStyle","borderBottomStyle","borderBottomWidth","getNodes","parent","predicate","collection","all","getElementsByTagName","getChildNodes","childNodes","getNodesByClassName","querySelectorAll","children","result_1","forEach","elem","getChildNodesByClassName","nodeListToArray","nodeList","getVerticalScrollBarWidth","verticalScrollBarWidth","container","createElement","cssText","appendChild","child","widthWithoutScrollBar","widthWithScrollBar","clientWidth","getHorizontalBordersWidth","borderLeftStyle","borderRightStyle","borderRightWidth","getFontFamiliesFromCssString","cssString","fam","getInnerText","Safari","html2PlainTextFilter","innerHTML","innerText","textContent","srcObject","newObject","parseFunction","indexOfPx","substr","isX","position","Point","zero","fromNumber","isZero","JSON","stringify","copyFrom","clone","equals","offset","offsetX","offsetY","offsetByPoint","multiply","multiplierX","multiplierY","negative","applyConverter","converter","plus","minus","xComparer","yComparer","IdentUserAgent","userAgent","ignoreDocumentMode","browserTypesOrderedList","defaultBrowserType","defaultPlatform","defaultVersions","Chrome","Mozilla","Netscape","fillUserAgentInfo","toLowerCase","indentPlatformMajorVersion","platformIdentStrings","optSlashOrSpace","versionString","optVersion","patterns","Opera10","browserType","version","browserTypeCandidate","regExp","RegExp","matches","exec","index","tridentPattern","GetBrowserVersion","getIECompatibleVersionString","browserVersionDetected","platform","minOccurenceIndex","Number","MAX_VALUE","identStr","importantIdent","occurenceIndex","samsungPattern","match","isSamsungAndroidDevice","getVersionFromTrident","documentMode","max","ieCompatibleVersionString","getVersionFromMatches","versionFromTrident","compatible","isTouchEnabled","navigator","type","WindowsPlatform","MacOSPlatform","AndroidMobilePlatform","WindowsPhonePlatform","HardwareAcceleration","WebKitTouchUI","isIETouchUI","UserAgent","MSTouchUI","maxTouchPoints","TouchUI","MobileUI","AndroidDefaultBrowser","AndroidChromeBrowser","SamsungAndroidDevice","isARMArchitecture","VirtualKeyboardSupported","fillDocumentElementBrowserTypeClassNames","regex","PlaformMajorVersion","versionStr","tridentDiffFromVersion","documentElementClassName","browserTypeslist","Info","getUserAgent","_foo","dom_1","touch_1","EvtUtils","preventEvent","evt","preventDefault","returnValue","getEventSource","srcElement","getEventSourceByPosition","elementFromPoint","getEventX","getEventY","getMouseWheelEventName","isLeftButtonPressed","TouchUtils","isTouchEvent","event","button","buttons","which","touchMouseMoveEventName","preventEventAndBubble","stopPropagation","cancelBubble","clientEventRequiresDocScrollCorrection","isSafariVerLess3","isMacOSMobileVerLess51","clientX","clientY","getWheelDelta","ret","detail","wheelDelta","deltaY","SimpleCommandState","CommandBase","control","modelManipulator","configurable","history","validationController","_state","getState","execute","parameters","_i","state","enabled","executed","executeInternal","barManager","updateItemsState","isEnabled","settings","editing","Error","visible","TaskAreaManager","MouseEventSource","point_1","evt_1","GridLayoutCalculator_1","ganttView","time","touchTime","eventManager","initMouseEvents","initTouchEvents","taskArea","addEventListener","onTaskAreaClick","onTaskAreaDblClick","updateView","onContextMenu","onMouseWheel","onMouseDown","onDocumentMouseMove","onDocumentMouseUp","onDocumentKeyDown","onTouchStart","onTouchEnd","onTouchMove","add","MS_POINTER_ACTIVE_CLASS","attachEventsOnTask","taskElement","onTaskElementHover","preventSelect","isFocus","allowSelectTask","isConnectorLine","changeTaskSelection","getClickedTaskIndex","onMouseUp","onKeyDown","onMouseMove","clickedItem","viewModel","items","now","touches","DBLCLICK_INTERVAL","onTaskDblClick","task","id","commandManager","showTaskEditDialog","onTaskClick","source","isDependency","getClickedTaskKey","ganttOwner","onGanttViewContextMenu","info","showPopupMenu","hoveredTaskIndex","taskEditController","show","showTaskInfo","taskAreaY","relativeY","tickSize","clickedTask","changeGanttTaskSelection","clickedTaskIndex","GridLayoutCalculator","CLASSNAMES","CONNECTOR_HORIZONTAL","CONNECTOR_VERTICAL","DataObject","internalId","generateGuid","assignFromObject","sourceObj","String","Dependency","DependencyType","tslib_1","DataObject_1","_super","predecessorId","successorId","parseType","text","SS","FF","SF","FS","CompositionHistoryItem","HistoryItem","historyItems","redo","item","undo","historyItem","undoItemsQuery","CollectionBase","Utils_1","_items","_isGanttCollection","getItemById","addRange","range","remove","splice","clear","slice","getItem","val","getItemByPublicId","sourceCollection","importFromObject","importFromArray","createItemFromObjectAndAdd","createItem","values","importFromJSON","json","GanttJsonUtils","evalJson","TaskTitlePosition","Position","ViewType","onEventAttachingToDocument","eventName","func","isTouchEventName","documentTouchHandlers","documentEventAttachingAllowed","changedTouches","pageX","pageY","touchMouseDownEventName","PointerEvent","touchMouseUpEventName","msTouchDraggableClassName","RecurrenceBase","DayOfWeek_1","Month_1","DateTimeUtils_1","RecurrenceFactory_1","interval","occurrenceCount","_start","_end","_interval","_occurrenceCount","_dayOfWeek","_day","_dayOfWeekOccurrence","_month","_calculateByDayOfWeek","dayOfWeekInternal","RecurrenceFactory","getEnumValue","DayOfWeek","dayInternal","dayOfWeekOccurrence","dayOfWeekOccurrenceInternal","monthInternal","Month","calculateByDayOfWeek","calculatePoints","calculatePointsByOccurrenceCount","calculatePointsByDateRange","points","getFirstPoint","isRecurrencePoint","getNextPoint","isDateInRange","checkDate","useIntervalInCalc","checkInterval","calculatePointByInterval","calculateNearestPoint","getSpecDayInMonth","Sunday","Saturday","First","January","December","size_1","Enums_1","GridElementInfo_1","Dependency_1","Settings_1","tileToDependencyMap","tileToNoWorkingIntervalsMap","minLineLength","resourceMaxWidth","minTaskWidth","setSettings","visibleTaskAreaSize","elementSizeValues","viewType","scrollBarHeight","verticalTickCount","itemCount","taskHeight","parentTaskHeight","milestoneWidth","scaleHeight","scaleItemHeight","arrowSize","Size","connectorArrowWidth","lineThickness","connectorLineThickness","minConnectorSpaceFromTask","tickTimeSpan","DateUtils","getTickTimeSpan","horizontalTickCount","getTotalTickCount","createTileToConnectorLinesMap","createTileToNonWorkingIntervalsMap","getTaskAreaBorderInfo","isVertical","sizeValue","getVerticalGridLineHeight","getGridBorderInfo","getScaleBorderInfo","scaleType","getScaleItemColSpan","GridElementInfo","setPosition","getGridBorderPosition","setSize","getGridBorderSize","posValue","getScaleElementInfo","getScaleItemPosition","getScaleItemSize","getScaleItemClassName","getRenderedNoWorkingIntervals","scaleItemInfo","noWorkingIntervals","valueOf","isScaleItemInsideNoWorkingInterval","scaleItemLeft","scaleItemRight","noWorkingIntervalLeft","noWorkingIntervalRight","TenMinutes","Hours","SixHours","Days","Weeks","Months","Quarter","Years","getTaskWrapperElementInfo","getTaskWrapperClassName","getTaskWrapperPoint","getTask","isMilestone","selected","getTaskHeight","getPosByDate","height_1","getTaskElementInfo","textOutsideTask","autoCalculatedParent","parentAutoCalc","taskHasChildrenByIndex","getTaskWidth","getTaskClassName","color","backgroundColor","borderLeftColor","borderRightColor","borderTopColor","taskWidth","smallTaskWidth","getAutoCalcParentTaskClassName","progress","getTaskPoint","taskWrapperTopPadding","getTaskSize","getWidthByDateRange","isTaskToCalculateByChildren","getTaskProgressElementInfo","getTaskProgressSize","getTaskProgressWidth","getTaskTextElementInfo","isInsideText","getTaskTextElementClassName","taskX","outsideTaskTextDefaultWidth","margins","getTaskResourcesWrapperElementInfo","getTaskResourceElementInfo","getSelectionElementInfo","getRowElementInfo","getSelectionPosition","getSelectionSize","getHighlightRowInfo","getNoWorkingIntervalInfo","noWorkingDateRange","getNoWorkingIntervalPosition","getNoWorkingIntervalSize","intervalStart","noWorkingInterval","getConnectorInfo","predessorIndex","successorIndex","connectorType","connectorPoints","getConnectorPoints","getConnectorLineInfo","getArrowInfo","startPoint","endPoint","isEdgeLine","getConnectorClassName","getConnectorPosition","getConnectorSize","sizeCorrection","connectorLines","lineInfo","findArrowLineInfo","arrowPosition","getArrowPosition","getArrowClassName","getArrowPoint","arrowLineIndex","prevLastPoint","lastPoint","Top","Bottom","Left","Right","getArrowX","getArrowY","getRangeTickCount","getRangeTickCountInMonthsViewType","getRangeTickCountInQuarterViewType","startMonthStartDate","endMonthStartDate","monthOffset","getOffsetInMonths","endFromMonthStartDateOffset","startFromMonthStartDateOffset","msPerMonth","startQuarterStartDate","endQuarterStartDate","quarterOffset","getOffsetInQuarters","endFromQuarterStartDateOffset","startFromQuarterStartDateOffset","getDateByPos","preResult","monthFromStart","setMonth","setTime","getFinishToStartConnectorPoints","getStartToFinishConnectorPoints","getStartToStartConnectorPoints","getFinishToFinishConnectorPoints","getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide","getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide","getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide","getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide","getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide","getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide","getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide","getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide","topTaskIndex","bottomTaskIndex","shiftEndPointToRight","topTaskPoint","bottomTaskPoint","topTaskRightCenter","getTaskRightCenter","isBottomMilestone","bottomTaskTopCenter","getTaskTopCenter","endPointIndent","bottomTaskRightCenter","shiftToTop","topTaskBottomCenter","getTaskBottomCenter","bottomTaskLeftCenter","getTaskLeftCenter","shiftStartPointToRight","isTopMilestone","startPointIndent","topTaskLeftCenter","taskPoint","getTaskEdgeCorrection","sqrt","getRenderedRowColumnIndices","scrollPos","visibleAreaSizeValue","tickSizeValue","tickCount","firstVisibleIndex","getFirstVisibleGridCellIndex","lastVisibleIndex","getLastVisibleGridCellIndex","getRenderedScaleItemIndices","renderedColIndices","scaleItemColSpan","dependencies","createConnecotInfo","visibleIndex","updateTileToConnectorLinesMap","dependencyId","attr","dependency","dependencyInfo","predecessor","connectorInfo","connectorLine","addElementInfoToTileMap","getAdjustedNoWorkingInterval","noWorkingIntervalInfo","modelInterval","getNearestScaleTickDate","isVerticalTile","infoPointValue","infoSizeValue","tileSizeValue","firstTileIndex","lastTileIndex","getRenderedConnectorLines","getElementsInRenderedTiles","getRenderedStripLines","stripLines","showCurrentTime","StripLine","currentTimeTitle","currentTimeCssClass","stripLine","renderedStart","isCurrent","cssClass","title","firstVisibleTileIndex","lastVisibleTileIndex","TaskPropertyManipulator","TaskPropertiesManipulator","BaseManipulator","HistoryItemState_1","dispatcher","getErrorCallback","getDataUpdateErrorCallback","TaskTitleManipulator","description","TaskDescriptionManipulator","TaskProgressManipulator","TaskStartDateManipulator","TaskEndDateManipulator","move","TaskMoveManipulator","TaskColorManipulator","setValue","newValue","tasks","oldState","HistoryItemState","getPropertyValue","setPropertyValue","viewItem","findItem","owner","recreateTaskElement","restoreValue","notifyTaskTitleChanged","notifyTaskDescriptionChanged","notifyTaskProgressChanged","notifyTaskStartChanged","notifyTaskEndChanged","notifyTaskColorChanged","HandlerStateBase","handler","finish","getRelativePos","absolutePos","taskAreaX","BaseArguments","cancel","RemoveDependencyHistoryItem","InsertDependencyHistoryItem","HistoryItem_1","insertDependency","removeDependency","DeassignResourceHistoryItem","AssignResourceHistoryItem","RemoveResourceHistoryItem","CreateResourceHistoryItem","callback","createCallback","resource","resourceId","properties","taskId","assignment","deassig","assignmentId","ConfirmationDialogParameters","ConfirmationDialog","ConfirmationType","DialogBase_1","applyParameters","_newParameters","oldParameters","beginTransaction","endTransaction","createParameters","options","getDialogName","DialogBase","message","DialogParametersBase","CommandBase_1","params","initParams","onBeforeDialogShow","showDialog","afterClosing","_oldParameters","TaskColorHistoryItem","TaskMoveHistoryItem","TaskEndHistoryItem","TaskStartHistoryItem","TaskProgressHistoryItem","TaskDescriptionHistoryItem","TaskTitleHistoryItem","TaskPropertiesHistoryItemBase","getPropertiesManipulator","ResourceCollection","CollectionBase_1","Resource_1","Resource","isAlpha","isDigit","stringHashCode","hash","strLen","charCodeAt","endsAt","template","strInd","tmplInd","strStartInd","startsAt","stringInLowerCase","stringInUpperCase","atLeastOneSymbolInUpperCase","char","getSymbolFromEnd","posFromEnd","trimChars","trimInternal","joinedChars","join","trimStart","trimEnd","getDecimalSeparator","toLocaleString","repeat","count","isNullOrEmpty","totalWidth","paddingChar","len","test","substring","empty","initByCommonAction","action","widthAdp","heightAdp","isEmpty","nonNegativeSize","multiplierW","multiplierH","conv","MouseHandlerStateBase","HandlerStateBase_1","onMouseDoubleClick","_evt","MouseHandlerDragBaseState","MouseHandlerStateBase_1","currentPosition","selectDependency","onMouseUpInternal","switchToDefaultState","onMouseMoveInternal","_position","TouchHandlerDragBaseState","TouchHandlerStateBase_1","onTouchEndInternal","onTouchMoveInternal","TouchHandlerStateBase","ResourceUnassigningArguments","ResourceAssigningArguments","BaseArguments_1","list_1","digits","factor","powFactor","numberCloseTo","accuracy","restrictValue","minVal","maxVal","getRandomInt","random","ListUtils","initByCallback","ind","pow","somePrimes","ResourceAssignment","_hour","_min","_sec","_msec","_fullmsec","updateFullMilleconds","minutes","isTimeInRange","hasIntersect","concatWith","Daily_1","Weekly_1","Monthly_1","Yearly_1","createRecurrenceByType","correctedType","Daily","Weekly","Monthly","Yearly","createRecurrenceFromObject","recurrence","RecurrenceBase_1","daysToAdd","ElementTextHelperCultureInfo","ElementTextHelper","getDaysInMonth","rangeStartTime","rangeEndTime","needCorrectDate","nearestLeftTickTime","getNearestLeftTickTime","nearestRightTickTime","getNextTickTime","tickCountAtLeft","currentTickTime","nextTickDate","adjustStartDateByViewType","firstDayOfWeek","adjustEndDateByViewType","roundStartDate","msPerHour","msPerDay","msPerWeek","msPerYear","data","getTimezoneOffsetDiff","data1","data2","getTimezoneOffset","ViewTypeToScaleMap","createViewTypeToScaleMap","cultureInfo","longestAbbrMonthName","longestMonthName","longestAbbrDayName","canvas","textMeasureContext","getContext","setFont","fontHolder","computedStyle","font","fontStyle","fontVariant","fontWeight","fontSize","lineHeight","fontFamily","startTime","modelItems","getScaleItemStartDate","setFullYear","FiveYears","getScaleStartDateCorrectedWithDST","timeZoneDiff","getScaleItemText","scaleItemStartDate","isViewTypeScale","getTenMinutesScaleItemText","getHoursScaleItemText","getDaysScaleItemText","getWeeksScaleItemText","getMonthsScaleItemText","getQuarterScaleItemText","getYearsScaleItemText","getFiveYearsScaleItemText","scaleItemDate","getThirtyMinutesScaleItemText","hours","hourDisplayText","getHourDisplayText","amPmText","getAmText","getPmText","getHoursScaleItemTextCore","getDayTotalText","weekLastDayDate","getWeeksScaleItemTextCore","monthNames","getMonthNames","yearDisplayText","getMonthsScaleItemTextCore","quarterNames","getQuarterNames","hasAmPm","displayDayName","useAbbrDayNames","useAbbrMonthNames","displayYear","getAbbrMonthNames","dayNames","getAbbrDayNames","getDayNames","dayNameDisplayText","monthName","getDayTotalTextCore","getTaskText","getTaskVisibility","getVisible","getScaleItemTextTemplate","getDayTextTemplate","getWeekTextTemplate","getLongestMonthName","getLongestAbbrDayName","getLongestAbbrMonthName","dayTextTemplate","dayName","dayValueString","yearValueString","firstDayOfWeekString","lastDayOfWeekString","getLongestText","texts","longestTextWidth","textWidth","getTextWidth","measureText","amText","pmText","abbrMonthNames","abbrDayNames","margins_1","Margins","assignToElement","assignPosition","assignSize","assignMargins","marginLeft","marginTop","right","marginRight","bottom","marginBottom","ValidationSettings","StripLineSettings","EditingSettings","Settings","taskTitlePosition","Inside","showResources","areHorizontalBordersEnabled","areVerticalBordersEnabled","areAlternateRowsEnabled","validation","taskTooltipContentTemplate","equal","allowDependencyDelete","allowDependencyInsert","allowTaskDelete","allowTaskInsert","allowTaskUpdate","allowResourceDelete","allowResourceInsert","allowResourceUpdate","allowTaskResourceUpdate","currentTimeUpdateInterval","validateDependencies","autoUpdateParentTasks","TaskEditController","gantt","taskIndex","createElements","updateWrapInfo","wrapInfo","baseElement","TASK_EDIT_BOX","canUpdateTask","progressEdit","taskDateRange","hide","tooltip","posX","delay","showInfo","showDependencySuccessor","dependencySuccessorBaseElement","dependencySuccessorFrame","hideDependencySuccessor","processProgress","progressOffset","showProgress","confirmProgress","changeTaskProgressCommand","processEnd","positionX","startDate","gridLayoutCalculator","getNewDate","showTime","confirmEnd","changeTaskEndCommand","processStart","endDate","confirmStart","changeTaskStartCommand","processMove","delta","raiseTaskMoving","onTaskMovingCallback","newStart","newEnd","calculator","newLeft","newWidth","confirmMove","taskMoveCommand","referenceDate","newDate","startDependency","dependencyLine","TASK_EDIT_DEPENDENCY_LINE","startPosition","processDependency","drawline","endDependency","createDependencyCommand","isDependencySelected","deleteSelectedDependency","removeDependencyCommand","baseFrame","TASK_EDIT_FRAME","TASK_EDIT_PROGRESS","dependencyFinish","TASK_EDIT_DEPENDENCY_RIGTH","TASK_EDIT_TOUCH","dependencyStart","TASK_EDIT_DEPENDENCY_LEFT","startEdit","TASK_EDIT_START","endEdit","TASK_EDIT_END","TASK_EDIT_BOX_SUCCESSOR","TASK_EDIT_FRAME_SUCCESSOR","dependencySuccessorStart","TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH","dependencySuccessorFinish","TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT","TaskEditTooltip","elementTextHelper","attachEvents","temp","angle","atan","PI","transform","TASK_EDIT_PROGRESS_STATUS","setDefaultTooltip","defaultTooltip","TASK_EDIT_TOOLTIP_DEFAULT","titleWrapper","TASK_EDIT_TASK_TITLE","getTimeContent","progressElement","TASK_EDIT_PROGRESS_STATUS_TIME","progressTitle","progressValue","tooltipTemplateFunction","isTooltipShowing","destroyTemplate","showInfoFunc","timerId","autoHide","_a","_b","_c","_d","arrowHeight","heightOffset","TASK_EDIT_TOOLTIP_ARROW_AFTER","TASK_EDIT_TOOLTIP_ARROW_BEFORE","absolutePositionY","absoluteX","leftPosition","absoluteDistance","header","clientHeight","isShowingDown","topPosition","clearTimeout","timeElement","startEl","startTitle","startValue","endEl","endTitle","endValue","formatDate","getDateFormat","HandlerBase","TaskAreaManager_1","TaskEditController_1","switchState","initSource","classToSource","TaskArea","TaskEdit_Progress","TaskEdit_Start","TaskEdit_End","TaskEdit_Frame","TaskEdit_DependencyStart","TaskEdit_DependencyFinish","Successor_DependencyStart","Successor_DependencyFinish","MouseHandlerDependencyState","dependencyMap","sourceElement","relativePosStart","relativePosEnd","relativeTouchPos","isTouchNearby","relativePos","hoverTaskIndex","touchPos","elementPos","onDoubleTap","TaskEditDialogShowingArguments","TaskUpdatingArguments","TaskRemovingArguments","TaskInsertingArguments","parentId","fieldNames","newValues","createNewValues","_loop_1","fieldName","this_1","hiddenFields","readOnlyFields","RemoveTaskHistoryItem","CreateTaskHistoryItem","TaskDependencyHistoryItem_1","taskIds","task_1","addTask","item_1","ConstraintViolationDialogParameters","ConstraintViolationDialogCommand","ConstraintViolationOption","newParameters","option","DoNothing","RemoveDependency","addAndRedo","validationError","KeepDependency","successorTask","predecessorTask","successorTaskTitle","predecessorTaskTitle","GanttView","GanttView_1","VisualModel_1","EtalonSizeValues_1","ModelManipulator_1","History_1","EventManager_1","TaskAreaContainer_1","ModelChangesDispatcher_1","CommandManager_1","BarManager_1","ValidationController_1","FullScreenModeHelper_1","TaskHistoryItem_1","ResourceHistoryItem_1","timeScaleAreas","horTaskAreaBorders","vertTaskAreaBorders","scaleBorders","scaleElements","taskElements","resourcesElements","selectionElements","hlRowElements","renderedRowIndices","renderedScaleItemIndices","renderedConnectorLines","connectorLinesToElementsMap","noWorkingIntervalsToElementsMap","renderedNoWorkingIntervals","renderedStripLines","stripLinesMap","etalonSizeValues","EtalonSizeValues","scaleCount","currentZoom","maxZoom","stripLinesUpdaterId","currentSelectedTaskID","ValidationController","createMainElement","createHeader","calculateEtalonSizeValues","createTaskAreaContainer","loadOptionsFromGanttOwner","mainElement","setupHelpers","setSizeForTaskArea","createTimeScaleContainer","createTimeScaleAreas","CommandManager","BarManager","bars","EventManager","History","taskAreaManager","fullScreenModeHelper","FullScreenModeHelper","onBrowserWindowResize","scrollLeftByViewType","initializeStripLinesUpdater","reset","timeScaleContainer","taskAreaContainer","getWidth","getHeight","getElement","getDateRange","modelStartDate","modelEndDate","getVisibleAreaTime","visibleTickCount","etalonElementsContainer","createEtalonElementsContainer","etalonElements","createEtalonElements","calculateEtalonSizeValuesCore","scaleItemWidths","getSmallTaskWidth","paddingLeft","getHeaderHeight","etalonPaddingLeft","indexOfRem","remSize","visibility","wrapper","taskTitle","milestoneWrapper","etalonElementClassNames","etalonElementInfo","parentWrapper","parentTask","parentTaskTitle","zoomIn","leftPos","targetDate","updateTickSizeWidth","resetAndUpdate","setViewType","scrollToDate","zoomOut","adjustedStartDate","dataRange","onVisualModelChanged","setInterval","recreateStripLines","clearStripLinesUpdater","clearInterval","getGanttViewStartDate","reduce","getGanttViewEndDate","getTaskAreaWidth","getTaskAreaHeight","getVisibleTaskCount","createTimeScaleArea","timeScaleArea","unshift","createMonthsScale","createTaskArea","getExternalTaskAreaContainer","TaskAreaContainer","prepareTaskAreaContainer","currentDate","dayInMonthCount","dayCount","nextDate","scaleItemElement","scaleBorderInfo","processScroll","onGanttScroll","recreateTaskAreaBordersAndTaskElements","recreateConnectorLineElements","recreateNoWorkingIntervalElements","recreateScalesElements","newRenderedIndices","renderedIndices","recreateElements","removeTaskAreaBorderAndTaskElement","createTaskAreaBorderAndTaskElement","newRenderedNoWorkingIntervals","removeNoWorkingIntervalElement","createNoWorkingIntervalElement","newRenderedStripLines","removeElement","newRenderedConnectorLines","removeConnectorLineElement","createConnectorLineElement","recreateScaleElements","scaleIndex","removeScaleElementAndBorder","createScaleElementAndBorder","oldRenderedElementsInfo","newRenderedelementsInfo","removeAction","createAction","isVisible","recreateConnectorLineElement","removeTaskElement","createTaskElement","forceRender","infos","isRendered","allowTaskAreaBorders","isVerticalScroll","createTaskAreaBorder","removeTaskAreaBorder","getTaskAreaBordersDictionary","createScaleElement","createScaleBorder","scaleElement","createScaleElementCore","padding","dictionary","createTaskWrapperElement","Outside","createTaskTextElement","taskVisualElement","createTaskVisualElement","createTaskProgressElement","createResourcesWrapperElement","createResources","createTaskSelectionElement","isHighlightRowElementAllowed","createHighlightRowElement","resourcesWrapperElementInfo","resources","createResourceElement","taskWrapperInfo","taskElementInfo","taskProgressInfo","taskTextInfo","taskTextElement","resourceElementInfo","resElement","selectionInfo","isExternal","hlRowInfo","calculateAutoViewType","diffInHours","changeTaskExpanded","publicId","expanded","getTaskByPublicId","expandTask","collapseTask","showTask","changeTaskVisibility","hideTask","unselectCurrentSelectedTask","unselectTask","getTaskSelected","autoPositioning","UpdateGanttViewType","setTaskTitlePosition","setShowResources","setFirstDayOfWeek","getRowHeight","tasksData","getGanttTasksData","ModelChangesDispatcher","modelChangesListener","getModelChangesListener","onModelChanged","ViewVisualModel","getGanttDependenciesData","getGanttResourcesData","getGanttResourceAssignmentsData","getGanttWorkTimeRules","ModelManipulator","updateRange","updateRowHeights","selectTask","changeTaskSelected","updateBarManager","selectTaskById","getTaskAreaContainer","setWidth","setHeight","setAllowSelection","setEditingSettings","setValidationSettings","setRowLinesVisible","setStripLines","deleteTask","removeTaskCommand","insertTask","parent_1","createTaskCommand","getLastInsertedTaskId","updateTask","updateTaskCommand","getTaskData","getTaskObjectForDataSource","deleteDependency","internalKey","convertPublicToInternalKey","getDependencyData","getDependencyObjectForDataSource","insertResource","taskKeys","assignResourceToTask","createResourceCommand","deleteResource","removeResourceCommand","resourceKey","taskKey","resourceInternalKey","taskInternalKey","assignResourceCommand","unassignResourceFromTask","findAssignment","deassignResourceCommand","getResourceData","getResourceObjectForDataSource","getResourceAssignmentData","getResourceAssignmentObjectForDataSource","getTaskResources","model","getAssignedResources","getVisibleTaskKeys","getVisibleTasks","getVisibleDependencyKeys","getVisibleDependencies","getVisibleResourceKeys","getVisibleResources","getVisibleResourceAssignmentKeys","getVisibleResourceAssignments","setTaskValue","manager","checkedNewValue","changeTaskTitleCommand","newProgress","createTaskItems","lastItem","getLastInsertedResource","getPrevTask","updateCreatedTaskIdAfterServerUpdate","getTaskIdByInternalId","isTaskHasChildren","requireFirstLoadParentAutoCalc","getRequireFirstLoadParentAutoCalc","getOwnerControlMainElement","getMainElement","adjustOwnerControl","adjustControl","isInFullScreenMode","adjustControlInFullScreenMode","applySettings","preventViewUpdate","ganttSettings","preventUpdate","currentHistoryItemInfo","getCurrentProcessingItemInfo","lock","rollBackAndRemove","unlock","setTaskTooltipContentTemplate","getFormattedDateText","getDefaultDateFormat","ResourceCollection_1","TaskCollection_1","DependencyCollection_1","ResourceAssignmentCollection_1","ViewVisualModelItem_1","ViewVisualModelDependencyInfo_1","WorkingTimeCalculator_1","ResourceAssignment_1","assignments","dateRange","workTimeRules","_fLockCount","TaskCollection","DependencyCollection","ResourceAssignmentCollection","_itemList","_viewItemList","_workTimeCalculator","WorkingTimeCalculator","updateModel","ViewVisualModelItem","createHierarchy","populateItemsForView","list","recalculateParentRequired","parentItem","addChild","recalculateParents","notifyParentDataRecalculated","getCurrentTaskData","duration","taskType","customFields","convertInternalToPublicKey","populateVisibleItems","updateVisibleItemDependencies","isRoot","getExpanded","visibleDependencies","getTasVisibleDependencies","setDependencies","ViewVisualModelDependencyInfo","changed","beginUpdate","endUpdate","taskHasChildren","hasTasks","dataType","publicKey","getItemByInternalId","strKey","visibleTasksKeys","visibleResources","visibleAssignments","json_1","JsonUtils","isValid","eval","min_max_1","comparers_1","removeBy","shallowCopy","deepCopy","initByValue","numElements","initValue","initCallback","forEachOnInterval","reverseForEachOnInterval","reducedMap","startIndex","endIndex","newItem","indexBy","reverseIndexBy","elementBy","reverseElementBy","last","setLast","newVal","incLast","decLast","allOf2","equalsByReference","aLen","bLen","unique","cmp","finalizeObj","sort","prevValue","uniqueNumber","Comparers","number","NaN","forEach2","listA","listB","reverseForEach","reverseIndexOf","accumulate","initAccValue","acc","accumulateNumber","anyOf","unsafeAnyOf","currResult","reverseAnyOf","unsafeReverseAnyOf","anyOf2","allOf","allOfOnInterval","addListOnTail","resultList","addedList","joinLists","lists","accList","countIf","merge","shouldMerge","prevObj","getValue","minExtended","minElement","maxExtended","maxElement","minMax","minMaxExtended","MinMax","minValue","elemValue","ExtendedMin","maxValue","ExtendedMax","ExtendedMinMax","minByCmp","found","maxByCmp","minMaxByCmp","MinMaxNumber","string","stringIgnoreCase","Equals","simpleType","Task_1","Task","TaskType","assignCustomFields","getDuration","changeVisibility","changeSelection","GanttWorkingDayRuleCollection_1","DayWorkingTimeInfo_1","rules","_workingRules","WorkingDayRuleCollection","_workDayList","_calculationRange","calculateWorkDayList","clearList","processRule","sortList","rule","dayNum","dayInfo","isWorkDay","addWorkingIntervals","workTimeRanges","DayWorkingTimeInfo","d1","d2","calculateNoWorkTimeIntervals","getNoWorkTimeRangesFromDay","concatJointedRanges","needExpandPrevInterval","_noWorkingIntervals","invalidate","WorkingTimeRule_1","WorkingTimeRule","recurrenceType","ranges","weeksFromStart","intervalCount","remainder","isPointOnNewWeek","weeksToAdd","calcNextPointWithWeekCount","weekCount","MonthInfo_1","monthToAdd","MonthInfo","addMonths","months","nextMonth","yearInc","yearFromStart","newYear","intervals","_workingIntervals","rearrangeWorkingIntervals","concatWithIntersectedRanges","sortIntervals","intersectedRanges","getIntersectedIntervals","removeInterval","r1","r2","clearIntervals","starts","ends","_isWorkDay","offsets_1","Offsets","fromOffsets","offsets","fromSide","horizontal","vertical","normalize","multLeft","multRight","multTop","multBottom","DependencyManipulator_1","ResourcesManipulator_1","TaskManipulator_1","TaskManipulator","TaskDependencyManipulator","ResourcesManipulator","TaskPropertiesManipulator_1","notifyDependencyInserted","getObjectForDataSource","notifyDependencyRemoved","ResourcePropertiesManipulator_1","ResourcePropertiesManipulator","notifyResourceCreated","notifyResourceRemoved","resourceID","notifyResourceAssigned","notifyResourceUnassigned","resourceAssignment","ResourcePropertyManipulator","ResourceColorManipulator","stateValue","notifyResourceColorChanged","notifyTaskCreated","notifyTaskRemoved","HistoryItemInfo_1","currentIndex","currentProcessingItemInfo","transaction","transactionLevel","canUndo","activateItem","canRedo","transactionLength","addInternal","deleteOldItems","exceedItemsCount","MAX_HISTORY_ITEM_COUNT","isUndo","HistoryItemInfo","checkAndRemoveItem","MouseHandler_1","key_1","TouchHandler_1","mouseHandler","MouseHandler","touchHandler","TouchHandler","onMouseDblClick","code","getShortcutCode","ModifierKey","Ctrl","KeyCode","Key_z","Key_y","Delete","keyCode","KeyUtils","getEventKeyCode","modifiers","altKey","Alt","ctrlKey","shiftKey","Shift","metaKey","Meta","HandlerBase_1","MouseHandlerDefaultState_1","MouseHandlerMoveTaskState_1","MouseHandlerProgressTaskState_1","MouseHandlerTimestampTaskState_1","MouseHandlerDependencyState_1","MouseHandlerMoveTaskState","MouseHandlerProgressTaskState","MouseHandlerTimestampTaskState","MouseHandlerDefaultState","GanttMovingHelper","isInScrolling","ganttMovingHelper","startMoving","movingInfo","increase","calcMovingInfo","updateGanttAreaCursor","cancelMoving","updateScrollPosition","newEventX","newEventY","deltaX","eventX","eventY","dirX","dirY","maxDeltaX","maxRightDelta","maxLeftDelta","maxDeltaY","maxBottomDelta","maxTopDelta","newScrollLeft","newScrollTop","scrollWidth","scrollHeight","drag","cursor","MouseHandlerDragTaskBaseState_1","relativePosition","encode_1","getKeyModifiers","isCtrlKey","isShiftKey","isAltKey","isMetaKey","getShortcutCodeByEvent","parseShortcutString","shortcutString","shcKeys","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Enter","Home","End","Up","Down","PageUp","PageDown","Space","Tab","Backspace","ContextMenu","Esc","Insert","alert","EncodeUtils","decodeViaTextArea","encodeHtml","decodeHtml","prepareTextForRequest","prepareTextForCallBackRequest","html","textArea","TouchHandlerMoveTaskState_1","TouchHandlerDefaultState_1","TouchHandlerProgressTaskState_1","TouchHandlerTimestampTaskState_1","TouchHandlerDependencyState_1","TouchHandlerZoomState_1","TouchHandlerMoveTaskState","TouchHandlerProgressTaskState","TouchHandlerTimestampTaskState","TouchHandlerDependencyState","TouchHandlerZoomState","TouchHandlerDefaultState","TouchHandlerDragBaseState_1","popupTimer","info_1","getTaskIndex","PINCH_CHANGE_DISTANCE","prevDistance","distance","getTouchDistance","getMiddleAbsPoint","pt0","pt1","getDistance","getMiddlePointByEvent","touch","getPoint","EventDispatcher_1","TaskArguments_1","AssignmentArguments_1","EventDispatcher","isLocked","notifyTaskCreating","args","raise","errorCallback","notifyTaskRemoving","taskID","notifyTaskUpdating","notifyTaskMoving","notifyTaskEditDialogShowing","notifyDependencyInserting","notifyDependencyRemoving","dependencyID","notifyResourceCreating","notifyResourceRemoving","notifyResourceAssigning","notifyResourceUnassigning","assignmentID","fireResourceUnassigning","raiseTaskTitleUpdating","raiseTaskUpdating","raiseTaskDescriptionUpdating","raiseTaskProgressUpdating","raiseTaskColorUpdating","raiseTaskStartUpdating","raiseTaskEndUpdating","raiseTaskStartAndEndUpdating","oldValue","raiseTaskMultipleUpdating","fields","raiseTaskTaskEditDialogShowing","listeners","listener","hasEventListener","currentListener","funcName","TaskCommands_1","TaskPropertiesCommands_1","DependencyCommands_1","ResourceCommands_1","TaskEditDialog_1","ConstraintViolationDialog_1","ResourcesDialog_1","ClientCommand_1","HistoryCommands_1","ZoomCommands_1","FullScreenCommand_1","CollapseExpandCommands_1","ConfirmationDialog_1","ResourcePropertiesCommands_1","commands","createCommand","GanttClientCommand","CreateTask","CreateSubTask","createSubTaskCommand","RemoveTask","TaskInformation","TaskAddContextItem","TaskAddContextItemCommand","Undo","UndoCommand","Redo","RedoCommand","ZoomIn","ZoomInCommand","ZoomOut","ZoomOutCommand","FullScreen","ToggleFullScreenCommand","CollapseAll","CollapseAllCommand","ExpandAll","ExpandAllCommand","CreateTaskCommand","CreateSubTaskCommand","RemoveTaskCommand","TaskTitleCommand","TaskDescriptionCommand","TaskProgressCommand","TaskColorCommand","TaskStartCommand","TaskMoveCommand","TaskEndCommand","UpdateTaskCommand","CreateDependencyCommand","RemoveDependencyCommand","CreateResourceCommand","RemoveResourceCommand","AssignResourceCommand","DeassignResourceCommand","ResourceColorCommand","TaskEditDialogCommand","ResourcesDialogCommand","getCommand","commandId","command","TaskCommandBase","TaskPropertiesHistoryItem_1","selectedTask","referenceItem","referenceTask","selectedItem","confirmRequired","showConfirmationDialog","TaskDelete","removeTaskHistoryItem","childTasks","updateParent","updateParentsIfRequired","success","changedNewValues","updateParents","moveStartDependTasks","moveEndDependTasks","TaskPropertyCommandValidation","TaskPropertyCommandBase","newTitle","newDescription","validationErrors","validate","criticalErrors","critical","executeCore","showConstraintViolationDialog","oldStart","minStartTask","prev","curr","checkStartDependencies","oldEnd","maxEndTask","checkEndDependencies","oldDateRange","correctOnMoving","startErrors","endErrors","DependencyCommandBase","DependencyArguments_1","DependencyInsertingArguments","DependencyDelete","DependencyRemovingArguments","ResourceCommandBase","ResourceArguments_1","ResourceInsertingArguments","ResourceRemovingArguments","removeResourceHistoryItem_1","TaskEditParameters","assigned","param","showResourcesDialogCommand","showResourcesDialog","showTaskEditDialogCommand","enableEdit","isTaskEditEnabled","enableRangeEdit","isTaskRangeEditEnabled","ResourcesDialogParameters","resourcesForDelete","callBack","confirmationDialog","confirmationDialogParameters","ResourcesDelete","fullScreenTempVars","collapseAll","expandAll","ResourcePropertyCommandBase","ResourcePropertiesHistoryItem_1","oldColor","ResourceColorHistoryItem","ResourcePropertiesHistoryItemBase","updateContextMenu","bar","isContextMenu","updateItemsList","commandKeys","getCommandKeys","updateBarItem","queryCommands","anyQuerySended","commandKeys_1","_loop_2","completeUpdate","commandKey","commandState","setItemVisible","setItemEnabled","setItemValue","ValidationError","dep","previousEndDate","rangeBeforeMove","validRange","correctMoving","_parentAutoCalc","previousStartDate","deltaDate","calcStepCallback","totalDuration","childTask","updateParentsRangeByChild","manipulator","updateChildRangeByParent","changedTasks","childId","attr_1","_isInFullScreenMode","setFullScreenMode","setNormalMode","prepareFullScreenMode","AttrUtils","changeElementStyleAttribute","bodyMargin","margin","self","requestFullScreen","cancelFullScreen","restoreElementStyleAttribute","documentWidth","documentHeight","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","getFullScreenElement","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","exitFullscreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","isFinite","setElementAttribute","attrName","setStyleAttribute","getElementAttribute","getStyleAttribute","removeElementAttribute","removeAttribute","removeStyleAttribute","removeProperty","saveStyleAttributeInElement","savedAttrName","isExistsAttributeInElement","emptyObject","isAttributeExists","attrValue"],"mappings":"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","sourcesContent":["/*!\n * DevExpress Gantt (dx-gantt)\n * Version: 2.0.18\n * Build date: Fri Dec 25 2020\n * \n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gantt\"] = factory();\n\telse\n\t\troot[\"DevExpress\"] = root[\"DevExpress\"] || {}, root[\"DevExpress\"][\"Gantt\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 52);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__extends\", function() { return __extends; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__rest\", function() { return __rest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__decorate\", function() { return __decorate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__param\", function() { return __param; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__metadata\", function() { return __metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__awaiter\", function() { return __awaiter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__generator\", function() { return __generator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__createBinding\", function() { return __createBinding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__exportStar\", function() { return __exportStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__values\", function() { return __values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__read\", function() { return __read; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spread\", function() { return __spread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spreadArrays\", function() { return __spreadArrays; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__await\", function() { return __await; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncGenerator\", function() { return __asyncGenerator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncDelegator\", function() { return __asyncDelegator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncValues\", function() { return __asyncValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__makeTemplateObject\", function() { return __makeTemplateObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importStar\", function() { return __importStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importDefault\", function() { return __importDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldGet\", function() { return __classPrivateFieldGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldSet\", function() { return __classPrivateFieldSet; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nvar __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nfunction __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar string_1 = __webpack_require__(27);\r\nfunction isDefined(value) {\r\n    return value !== undefined && value !== null;\r\n}\r\nexports.isDefined = isDefined;\r\nfunction boolToInt(value) {\r\n    return value ? 1 : 0;\r\n}\r\nexports.boolToInt = boolToInt;\r\nfunction boolToString(value) {\r\n    return value ? '1' : '0';\r\n}\r\nexports.boolToString = boolToString;\r\nfunction isNumber(obj) {\r\n    return typeof obj === 'number';\r\n}\r\nexports.isNumber = isNumber;\r\nfunction isString(obj) {\r\n    return typeof obj === 'string';\r\n}\r\nexports.isString = isString;\r\nfunction isNonNullString(str) {\r\n    return !!str;\r\n}\r\nexports.isNonNullString = isNonNullString;\r\nfunction isEven(num) {\r\n    return (num % 2) !== 0;\r\n}\r\nexports.isEven = isEven;\r\nfunction isOdd(num) {\r\n    return (num % 2) === 0;\r\n}\r\nexports.isOdd = isOdd;\r\nfunction numberToStringBin(num, minLength) {\r\n    if (minLength === void 0) { minLength = 0; }\r\n    return string_1.StringUtils.padLeft(num.toString(2), minLength, '0');\r\n}\r\nexports.numberToStringBin = numberToStringBin;\r\nfunction numberToStringHex(num, minLength) {\r\n    if (minLength === void 0) { minLength = 0; }\r\n    return string_1.StringUtils.padLeft(num.toString(16), minLength, '0');\r\n}\r\nexports.numberToStringHex = numberToStringHex;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DateTimeUtils = void 0;\r\nvar Time_1 = __webpack_require__(36);\r\nvar TimeRange_1 = __webpack_require__(37);\r\nvar common_1 = __webpack_require__(1);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar DayOfWeekMonthlyOccurrence_1 = __webpack_require__(38);\r\nvar DateTimeUtils = (function () {\r\n    function DateTimeUtils() {\r\n    }\r\n    DateTimeUtils.compareDates = function (date1, date2) {\r\n        if (!date1 || !date2)\r\n            return -1;\r\n        return date2.getTime() - date1.getTime();\r\n    };\r\n    DateTimeUtils.areDatesEqual = function (date1, date2) {\r\n        return this.compareDates(date1, date2) == 0;\r\n    };\r\n    DateTimeUtils.getMaxDate = function (date1, date2) {\r\n        if (!date1 && !date2)\r\n            return null;\r\n        if (!date1)\r\n            return date2;\r\n        if (!date2)\r\n            return date1;\r\n        var diff = this.compareDates(date1, date2);\r\n        return diff > 0 ? date2 : date1;\r\n    };\r\n    DateTimeUtils.getMinDate = function (date1, date2) {\r\n        if (!date1 && !date2)\r\n            return null;\r\n        if (!date1)\r\n            return date2;\r\n        if (!date2)\r\n            return date1;\r\n        var diff = this.compareDates(date1, date2);\r\n        return diff > 0 ? date1 : date2;\r\n    };\r\n    DateTimeUtils.getDaysBetween = function (start, end) {\r\n        var diff = Math.abs(end.getTime() - start.getTime());\r\n        return Math.ceil(diff / this.msInDay);\r\n    };\r\n    DateTimeUtils.getWeeksBetween = function (start, end) {\r\n        var daysBetween = this.getDaysBetween(start, end);\r\n        var numWeeks = Math.floor(daysBetween / 7);\r\n        if (start.getDay() > end.getDay())\r\n            numWeeks++;\r\n        return numWeeks;\r\n    };\r\n    DateTimeUtils.getMonthsDifference = function (start, end) {\r\n        var dateDiff = this.compareDates(start, end);\r\n        var from = dateDiff >= 0 ? start : end;\r\n        var to = dateDiff >= 0 ? end : start;\r\n        var yearsDiff = to.getFullYear() - from.getFullYear();\r\n        var monthDiff = yearsDiff * 12 + (to.getMonth() - from.getMonth());\r\n        return monthDiff;\r\n    };\r\n    DateTimeUtils.getYearsDifference = function (start, end) {\r\n        return Math.abs(end.getFullYear() - start.getFullYear());\r\n    };\r\n    DateTimeUtils.getDayNumber = function (date) {\r\n        return Math.ceil(date.getTime() / this.msInDay);\r\n    };\r\n    DateTimeUtils.getDateByDayNumber = function (num) {\r\n        var date = new Date(num * this.msInDay);\r\n        date.setHours(0);\r\n        date.setMinutes(0);\r\n        date.setSeconds(0);\r\n        return date;\r\n    };\r\n    DateTimeUtils.addDays = function (date, days) {\r\n        return new Date(date.getTime() + days * this.msInDay);\r\n    };\r\n    DateTimeUtils.checkDayOfMonth = function (day, date) {\r\n        return day == date.getDate();\r\n    };\r\n    DateTimeUtils.checkDayOfWeek = function (day, date) {\r\n        return day == date.getDay();\r\n    };\r\n    DateTimeUtils.checkMonth = function (month, date) {\r\n        return month == date.getMonth();\r\n    };\r\n    DateTimeUtils.checkYear = function (year, date) {\r\n        return year == date.getFullYear();\r\n    };\r\n    DateTimeUtils.checkDayOfWeekOccurrenceInMonth = function (date, dayOfWeek, occurrence) {\r\n        var dayOfWeekInMonthDates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, date.getFullYear(), date.getMonth());\r\n        if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n            return this.areDatesEqual(date, dayOfWeekInMonthDates[dayOfWeekInMonthDates.length - 1]);\r\n        return this.areDatesEqual(date, dayOfWeekInMonthDates[occurrence]);\r\n    };\r\n    DateTimeUtils.getFirstDayOfWeekInMonth = function (year, month) {\r\n        var date = new Date(year, month, 1);\r\n        return date.getDay();\r\n    };\r\n    DateTimeUtils.getSpecificDayOfWeekInMonthDates = function (dayOfWeek, year, month) {\r\n        var firstDayOfWeekInMonth = this.getFirstDayOfWeekInMonth(year, month);\r\n        var diffDays = dayOfWeek >= firstDayOfWeekInMonth ? dayOfWeek - firstDayOfWeekInMonth : dayOfWeek + 7 - firstDayOfWeekInMonth;\r\n        var res = new Array();\r\n        var specificDayOfWeekDate = new Date(year, month, diffDays + 1);\r\n        while (specificDayOfWeekDate.getMonth() == month) {\r\n            res.push(specificDayOfWeekDate);\r\n            specificDayOfWeekDate = this.addDays(specificDayOfWeekDate, 7);\r\n        }\r\n        return res;\r\n    };\r\n    DateTimeUtils.getSpecificDayOfWeekInMonthDate = function (dayOfWeek, year, month, occurrence) {\r\n        var dates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, year, month);\r\n        if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n            return dates[dates.length - 1];\r\n        return dates[occurrence];\r\n    };\r\n    DateTimeUtils.checkValidDayInMonth = function (year, month, day) {\r\n        if (day < 1 || day > 31 || (new Date(year, month, day)).getMonth() != month)\r\n            return false;\r\n        return true;\r\n    };\r\n    DateTimeUtils.getNextMonth = function (month, inc) {\r\n        if (inc === void 0) { inc = 1; }\r\n        return (month + inc) % 12;\r\n    };\r\n    DateTimeUtils.convertToDate = function (src) {\r\n        if (src instanceof Date)\r\n            return new Date(src);\r\n        var ms = Date.parse(src);\r\n        if (!isNaN(ms))\r\n            return new Date(ms);\r\n        return null;\r\n    };\r\n    DateTimeUtils.convertTimeRangeToDateRange = function (timeRange, dayNumber) {\r\n        var date = this.getDateByDayNumber(dayNumber);\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth();\r\n        var day = date.getDate();\r\n        var startT = timeRange.start;\r\n        var start = new Date(year, month, day, startT.hour, startT.min, startT.sec, startT.msec);\r\n        var endT = timeRange.end;\r\n        var end = new Date(year, month, day, endT.hour, endT.min, endT.sec, endT.msec);\r\n        return new DateRange_1.DateRange(start, end);\r\n    };\r\n    DateTimeUtils.convertToTimeRanges = function (src) {\r\n        var _this = this;\r\n        if (src instanceof Array)\r\n            return src.map(function (x) { return _this.convertToTimeRange(x); });\r\n        return this.parseTimeRanges(src);\r\n    };\r\n    DateTimeUtils.convertToTimeRange = function (src) {\r\n        if (!src)\r\n            return null;\r\n        if (src instanceof TimeRange_1.TimeRange)\r\n            return src;\r\n        if (common_1.isDefined(src.start) && common_1.isDefined(src.end))\r\n            return new TimeRange_1.TimeRange(this.convertToTime(src.start), this.convertToTime(src.end));\r\n        return this.parseTimeRange(src);\r\n    };\r\n    DateTimeUtils.convertToTime = function (src) {\r\n        if (!src)\r\n            return null;\r\n        if (src instanceof Time_1.Time)\r\n            return src;\r\n        if (src instanceof Date)\r\n            return this.getTimeGromJsDate(src);\r\n        return this.parseTime(src);\r\n    };\r\n    DateTimeUtils.parseTimeRanges = function (src) {\r\n        var _this = this;\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(/;|,/);\r\n        return parts.map(function (p) { return _this.parseTimeRange(p); }).filter(function (r) { return !!r; });\r\n    };\r\n    DateTimeUtils.parseTimeRange = function (src) {\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(\"-\");\r\n        var start = parts[0];\r\n        var end = parts[1];\r\n        if (common_1.isDefined(start) && common_1.isDefined(end))\r\n            return new TimeRange_1.TimeRange(this.parseTime(start), this.parseTime(end));\r\n        return null;\r\n    };\r\n    DateTimeUtils.parseTime = function (src) {\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(\":\");\r\n        var h = parseInt(parts[0]) || 0;\r\n        var m = parseInt(parts[1]) || 0;\r\n        var s = parseInt(parts[2]) || 0;\r\n        var ms = parseInt(parts[3]) || 0;\r\n        return new Time_1.Time(h, m, s, ms);\r\n    };\r\n    DateTimeUtils.getTimeGromJsDate = function (date) {\r\n        if (!date)\r\n            return null;\r\n        var h = date.getHours();\r\n        var m = date.getMinutes();\r\n        var s = date.getSeconds();\r\n        var ms = date.getMilliseconds();\r\n        return new Time_1.Time(h, m, s, ms);\r\n    };\r\n    DateTimeUtils.caclTimeDifference = function (time1, time2) {\r\n        return time2.getTimeInMilleconds() - time1.getTimeInMilleconds();\r\n    };\r\n    DateTimeUtils.areTimesEqual = function (time1, time2) {\r\n        return this.caclTimeDifference(time1, time2) == 0;\r\n    };\r\n    DateTimeUtils.getMaxTime = function (time1, time2) {\r\n        if (!time1 && !time2)\r\n            return null;\r\n        if (!time1)\r\n            return time2;\r\n        if (!time2)\r\n            return time1;\r\n        var diff = this.caclTimeDifference(time1, time2);\r\n        return diff > 0 ? time2 : time1;\r\n    };\r\n    DateTimeUtils.getMinTime = function (time1, time2) {\r\n        if (!time1 && !time2)\r\n            return null;\r\n        if (!time1)\r\n            return time2;\r\n        if (!time2)\r\n            return time1;\r\n        var diff = this.caclTimeDifference(time1, time2);\r\n        return diff > 0 ? time1 : time2;\r\n    };\r\n    DateTimeUtils.getLastTimeOfDay = function () {\r\n        return new Time_1.Time(23, 59, 59, 999);\r\n    };\r\n    DateTimeUtils.msInDay = 24 * 3600 * 1000;\r\n    return DateTimeUtils;\r\n}());\r\nexports.DateTimeUtils = DateTimeUtils;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar browser_1 = __webpack_require__(5);\r\nvar common_1 = __webpack_require__(1);\r\nvar math_1 = __webpack_require__(34);\r\nvar string_1 = __webpack_require__(27);\r\nvar DomUtils = (function () {\r\n    function DomUtils() {\r\n    }\r\n    DomUtils.clearInnerHtml = function (element) {\r\n        while (element.firstChild)\r\n            element.removeChild(element.firstChild);\r\n    };\r\n    DomUtils.setStylePosition = function (style, point) {\r\n        style.left = math_1.MathUtils.round(point.x, 3) + 'px';\r\n        style.top = math_1.MathUtils.round(point.y, 3) + 'px';\r\n    };\r\n    DomUtils.setStyleSize = function (style, size) {\r\n        style.width = math_1.MathUtils.round(size.width, 3) + 'px';\r\n        style.height = math_1.MathUtils.round(size.height, 3) + 'px';\r\n    };\r\n    DomUtils.setStyleSizeAndPosition = function (style, rectangle) {\r\n        DomUtils.setStylePosition(style, rectangle);\r\n        DomUtils.setStyleSize(style, rectangle);\r\n    };\r\n    DomUtils.hideNode = function (node) {\r\n        if (node) {\r\n            var parentNode = node.parentNode;\r\n            if (parentNode)\r\n                parentNode.removeChild(node);\r\n        }\r\n    };\r\n    DomUtils.isHTMLElementNode = function (node) {\r\n        return node.nodeType === Node.ELEMENT_NODE;\r\n    };\r\n    DomUtils.isTextNode = function (node) {\r\n        return node.nodeType === Node.TEXT_NODE;\r\n    };\r\n    DomUtils.isElementNode = function (node) {\r\n        return node.nodeType === Node.ELEMENT_NODE;\r\n    };\r\n    DomUtils.isHTMLTableRowElement = function (element) {\r\n        return element.tagName === 'TR';\r\n    };\r\n    DomUtils.isItParent = function (parentElement, element) {\r\n        if (!parentElement || !element)\r\n            return false;\r\n        while (element) {\r\n            if (element === parentElement)\r\n                return true;\r\n            if (element.tagName === 'BODY')\r\n                return false;\r\n            element = element.parentNode;\r\n        }\r\n        return false;\r\n    };\r\n    DomUtils.getParentByTagName = function (element, tagName) {\r\n        tagName = tagName.toUpperCase();\r\n        while (element) {\r\n            if (element.tagName === 'BODY')\r\n                return null;\r\n            if (element.tagName === tagName)\r\n                return element;\r\n            element = element.parentNode;\r\n        }\r\n        return null;\r\n    };\r\n    DomUtils.getDocumentScrollTop = function () {\r\n        var isScrollBodyIE = browser_1.Browser.IE && DomUtils.getCurrentStyle(document.body).overflow === 'hidden' && document.body.scrollTop > 0;\r\n        if (browser_1.Browser.WebKitFamily || browser_1.Browser.Edge || isScrollBodyIE) {\r\n            if (browser_1.Browser.MacOSMobilePlatform)\r\n                return window.pageYOffset;\r\n            if (browser_1.Browser.WebKitFamily)\r\n                return document.documentElement.scrollTop || document.body.scrollTop;\r\n            return document.body.scrollTop;\r\n        }\r\n        else\r\n            return document.documentElement.scrollTop;\r\n    };\r\n    DomUtils.getDocumentScrollLeft = function () {\r\n        var isScrollBodyIE = browser_1.Browser.IE && DomUtils.getCurrentStyle(document.body).overflow === 'hidden' && document.body.scrollLeft > 0;\r\n        if (browser_1.Browser.Edge || isScrollBodyIE)\r\n            return document.body ? document.body.scrollLeft : document.documentElement.scrollLeft;\r\n        if (browser_1.Browser.WebKitFamily)\r\n            return document.documentElement.scrollLeft || document.body.scrollLeft;\r\n        return document.documentElement.scrollLeft;\r\n    };\r\n    DomUtils.getCurrentStyle = function (element) {\r\n        if (element.currentStyle)\r\n            return element.currentStyle;\r\n        else if (document.defaultView && document.defaultView.getComputedStyle) {\r\n            var result = document.defaultView.getComputedStyle(element, null);\r\n            if (!result && browser_1.Browser.Firefox && window.frameElement) {\r\n                var changes = [];\r\n                var curElement = window.frameElement;\r\n                while (!(result = document.defaultView.getComputedStyle(element, null))) {\r\n                    changes.push([curElement, curElement.style.display]);\r\n                    curElement.style.setProperty('display', 'block', 'important');\r\n                    curElement = curElement.tagName === 'BODY' ? curElement.ownerDocument.defaultView.frameElement : curElement.parentNode;\r\n                }\r\n                result = cloneObject(result);\r\n                for (var ch = void 0, i = 0; ch = changes[i]; i++)\r\n                    ch[0].style.display = ch[1];\r\n                document.body.offsetWidth;\r\n            }\r\n            return result;\r\n        }\r\n        return window.getComputedStyle(element, null);\r\n    };\r\n    DomUtils.setFocus = function (element) {\r\n        function focusCore() {\r\n            try {\r\n                element.focus();\r\n                if (browser_1.Browser.IE && document.activeElement !== element)\r\n                    element.focus();\r\n            }\r\n            catch (e) {\r\n            }\r\n        }\r\n        if (browser_1.Browser.MacOSMobilePlatform)\r\n            focusCore();\r\n        else {\r\n            setTimeout(function () {\r\n                focusCore();\r\n            }, 100);\r\n        }\r\n    };\r\n    DomUtils.hasClassName = function (element, className) {\r\n        try {\r\n            var classNames = className.split(' ');\r\n            var classList = element.classList;\r\n            if (classList) {\r\n                for (var i = classNames.length - 1; i >= 0; i--) {\r\n                    if (!classList.contains(classNames[i]))\r\n                        return false;\r\n                }\r\n            }\r\n            else {\r\n                var elementClassName = element.getAttribute && element.getAttribute('class');\r\n                if (!elementClassName)\r\n                    return false;\r\n                var elementClasses = elementClassName.split(' ');\r\n                for (var i = classNames.length - 1; i >= 0; i--) {\r\n                    if (elementClasses.indexOf(classNames[i]) < 0)\r\n                        return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    DomUtils.addClassName = function (element, className) {\r\n        if (!DomUtils.hasClassName(element, className)) {\r\n            var elementClassName = element.getAttribute && element.getAttribute('class');\r\n            element.setAttribute('class', elementClassName === '' ? className : elementClassName + \" \" + className);\r\n        }\r\n    };\r\n    DomUtils.removeClassName = function (element, className) {\r\n        var elementClassName = element.getAttribute && element.getAttribute('class');\r\n        var updClassName = \" \" + elementClassName + \" \";\r\n        var newClassName = updClassName.replace(\" \" + className + \" \", ' ');\r\n        if (updClassName.length !== newClassName.length)\r\n            element.setAttribute('class', string_1.StringUtils.trim(newClassName));\r\n    };\r\n    DomUtils.toggleClassName = function (element, className, toggle) {\r\n        if (toggle === undefined) {\r\n            if (DomUtils.hasClassName(element, className))\r\n                DomUtils.removeClassName(element, className);\r\n            else\r\n                DomUtils.addClassName(element, className);\r\n        }\r\n        else {\r\n            if (toggle)\r\n                DomUtils.addClassName(element, className);\r\n            else\r\n                DomUtils.removeClassName(element, className);\r\n        }\r\n    };\r\n    DomUtils.pxToInt = function (px) {\r\n        return pxToNumber(px, parseInt);\r\n    };\r\n    DomUtils.pxToFloat = function (px) {\r\n        return pxToNumber(px, parseFloat);\r\n    };\r\n    DomUtils.getAbsolutePositionY = function (element) {\r\n        function getAbsolutePositionY_IE(element) {\r\n            return browser_1.Browser.IE && element.parentNode === null ?\r\n                0 :\r\n                element.getBoundingClientRect().top + DomUtils.getDocumentScrollTop();\r\n        }\r\n        function getAbsolutePositionY_FF3(element) {\r\n            return Math.round(element.getBoundingClientRect().top + DomUtils.getDocumentScrollTop());\r\n        }\r\n        function getAbsolutePositionY_Opera(curEl) {\r\n            var isFirstCycle = true;\r\n            if (curEl && DomUtils.isHTMLTableRowElement(curEl) && curEl.cells.length > 0)\r\n                curEl = curEl.cells[0];\r\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, false);\r\n            while (curEl != null) {\r\n                pos += curEl.offsetTop;\r\n                if (!isFirstCycle)\r\n                    pos -= curEl.scrollTop;\r\n                curEl = curEl.offsetParent;\r\n                isFirstCycle = false;\r\n            }\r\n            pos += document.body.scrollTop;\r\n            return pos;\r\n        }\r\n        function getAbsolutePositionY_NS(curEl) {\r\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, false);\r\n            var isFirstCycle = true;\r\n            while (curEl != null) {\r\n                pos += curEl.offsetTop;\r\n                if (!isFirstCycle && curEl.offsetParent != null)\r\n                    pos -= curEl.scrollTop;\r\n                if (!isFirstCycle && browser_1.Browser.Firefox) {\r\n                    var style = DomUtils.getCurrentStyle(curEl);\r\n                    if (curEl.tagName === 'DIV' && style.overflow !== 'visible')\r\n                        pos += DomUtils.pxToInt(style.borderTopWidth);\r\n                }\r\n                isFirstCycle = false;\r\n                curEl = curEl.offsetParent;\r\n            }\r\n            return pos;\r\n        }\r\n        function getAbsolutePositionY_Other(curEl) {\r\n            var pos = 0;\r\n            var isFirstCycle = true;\r\n            while (curEl != null) {\r\n                pos += curEl.offsetTop;\r\n                if (!isFirstCycle && curEl.offsetParent != null)\r\n                    pos -= curEl.scrollTop;\r\n                isFirstCycle = false;\r\n                curEl = curEl.offsetParent;\r\n            }\r\n            return pos;\r\n        }\r\n        if (!element)\r\n            return 0;\r\n        if (browser_1.Browser.IE)\r\n            return getAbsolutePositionY_IE(element);\r\n        else if (browser_1.Browser.Firefox && browser_1.Browser.Version >= 3)\r\n            return getAbsolutePositionY_FF3(element);\r\n        else if (browser_1.Browser.Opera)\r\n            return getAbsolutePositionY_Opera(element);\r\n        else if (browser_1.Browser.NetscapeFamily && (!browser_1.Browser.Firefox || browser_1.Browser.Version < 3))\r\n            return getAbsolutePositionY_NS(element);\r\n        else if (browser_1.Browser.WebKitFamily || browser_1.Browser.Edge)\r\n            return getAbsolutePositionY_FF3(element);\r\n        return getAbsolutePositionY_Other(element);\r\n    };\r\n    DomUtils.getAbsolutePositionX = function (element) {\r\n        function getAbsolutePositionX_IE(element) {\r\n            return browser_1.Browser.IE && element.parentNode === null ?\r\n                0 :\r\n                element.getBoundingClientRect().left + DomUtils.getDocumentScrollLeft();\r\n        }\r\n        function getAbsolutePositionX_FF3(element) {\r\n            return Math.round(element.getBoundingClientRect().left + DomUtils.getDocumentScrollLeft());\r\n        }\r\n        function getAbsolutePositionX_Opera(curEl) {\r\n            var isFirstCycle = true;\r\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, true);\r\n            while (curEl != null) {\r\n                pos += curEl.offsetLeft;\r\n                if (!isFirstCycle)\r\n                    pos -= curEl.scrollLeft;\r\n                curEl = curEl.offsetParent;\r\n                isFirstCycle = false;\r\n            }\r\n            pos += document.body.scrollLeft;\r\n            return pos;\r\n        }\r\n        function getAbsolutePositionX_NS(curEl) {\r\n            var pos = getAbsoluteScrollOffset_OperaFF(curEl, true);\r\n            var isFirstCycle = true;\r\n            while (curEl != null) {\r\n                pos += curEl.offsetLeft;\r\n                if (!isFirstCycle && curEl.offsetParent != null)\r\n                    pos -= curEl.scrollLeft;\r\n                if (!isFirstCycle && browser_1.Browser.Firefox) {\r\n                    var style = DomUtils.getCurrentStyle(curEl);\r\n                    if (curEl.tagName === 'DIV' && style.overflow !== 'visible')\r\n                        pos += DomUtils.pxToInt(style.borderLeftWidth);\r\n                }\r\n                isFirstCycle = false;\r\n                curEl = curEl.offsetParent;\r\n            }\r\n            return pos;\r\n        }\r\n        function getAbsolutePositionX_Other(curEl) {\r\n            var pos = 0;\r\n            var isFirstCycle = true;\r\n            while (curEl != null) {\r\n                pos += curEl.offsetLeft;\r\n                if (!isFirstCycle && curEl.offsetParent != null)\r\n                    pos -= curEl.scrollLeft;\r\n                isFirstCycle = false;\r\n                curEl = curEl.offsetParent;\r\n            }\r\n            return pos;\r\n        }\r\n        if (!element)\r\n            return 0;\r\n        if (browser_1.Browser.IE)\r\n            return getAbsolutePositionX_IE(element);\r\n        else if (browser_1.Browser.Firefox && browser_1.Browser.Version >= 3)\r\n            return getAbsolutePositionX_FF3(element);\r\n        else if (browser_1.Browser.Opera)\r\n            return getAbsolutePositionX_Opera(element);\r\n        else if (browser_1.Browser.NetscapeFamily && (!browser_1.Browser.Firefox || browser_1.Browser.Version < 3))\r\n            return getAbsolutePositionX_NS(element);\r\n        else if (browser_1.Browser.WebKitFamily || browser_1.Browser.Edge)\r\n            return getAbsolutePositionX_FF3(element);\r\n        else\r\n            return getAbsolutePositionX_Other(element);\r\n    };\r\n    DomUtils.isInteractiveControl = function (element) {\r\n        return ['A', 'INPUT', 'SELECT', 'OPTION', 'TEXTAREA', 'BUTTON', 'IFRAME'].indexOf(element.tagName) > -1;\r\n    };\r\n    DomUtils.getClearClientHeight = function (element) {\r\n        return element.offsetHeight - (DomUtils.getTopBottomPaddings(element) + DomUtils.getVerticalBordersWidth(element));\r\n    };\r\n    DomUtils.getTopBottomPaddings = function (element, style) {\r\n        var currentStyle = style ? style : DomUtils.getCurrentStyle(element);\r\n        return DomUtils.pxToInt(currentStyle.paddingTop) + DomUtils.pxToInt(currentStyle.paddingBottom);\r\n    };\r\n    DomUtils.getVerticalBordersWidth = function (element, style) {\r\n        if (!common_1.isDefined(style))\r\n            style = (browser_1.Browser.IE && browser_1.Browser.MajorVersion !== 9 && window.getComputedStyle) ? window.getComputedStyle(element) : DomUtils.getCurrentStyle(element);\r\n        var res = 0;\r\n        if (style.borderTopStyle !== 'none')\r\n            res += DomUtils.pxToFloat(style.borderTopWidth);\r\n        if (style.borderBottomStyle !== 'none')\r\n            res += DomUtils.pxToFloat(style.borderBottomWidth);\r\n        return res;\r\n    };\r\n    DomUtils.getNodes = function (parent, predicate) {\r\n        var collection = parent.all || parent.getElementsByTagName('*');\r\n        var result = [];\r\n        for (var i = 0; i < collection.length; i++) {\r\n            var element = collection[i];\r\n            if (predicate(element))\r\n                result.push(element);\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.getChildNodes = function (parent, predicate) {\r\n        var collection = parent.childNodes;\r\n        var result = [];\r\n        for (var i = 0; i < collection.length; i++) {\r\n            var element = collection[i];\r\n            if (predicate(element))\r\n                result.push(element);\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.getNodesByClassName = function (parent, className) {\r\n        if (parent.querySelectorAll) {\r\n            var children = parent.querySelectorAll(\".\" + className);\r\n            var result_1 = [];\r\n            children.forEach(function (element) { return result_1.push(element); });\r\n            return result_1;\r\n        }\r\n        else\r\n            return DomUtils.getNodes(parent, function (elem) { return DomUtils.hasClassName(elem, className); });\r\n    };\r\n    DomUtils.getChildNodesByClassName = function (parent, className) {\r\n        function nodeListToArray(nodeList, filter) {\r\n            var result = [];\r\n            nodeList.forEach(function (element) {\r\n                if (filter(element))\r\n                    result.push(element);\r\n            });\r\n            return result;\r\n        }\r\n        if (parent.querySelectorAll) {\r\n            var children = parent.querySelectorAll(\".\" + className);\r\n            return nodeListToArray(children, function (element) { return element.parentNode === parent; });\r\n        }\r\n        else {\r\n            return DomUtils.getChildNodes(parent, function (elem) {\r\n                if (DomUtils.isElementNode(elem))\r\n                    return common_1.isNonNullString(elem.className) && DomUtils.hasClassName(elem, elem.className);\r\n                else\r\n                    return false;\r\n            });\r\n        }\r\n    };\r\n    DomUtils.getVerticalScrollBarWidth = function () {\r\n        if (DomUtils.verticalScrollBarWidth === undefined) {\r\n            var container = document.createElement('DIV');\r\n            container.style.cssText = 'position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box';\r\n            document.body.appendChild(container);\r\n            var child = document.createElement('P');\r\n            container.appendChild(child);\r\n            child.style.cssText = 'width: 100%; height: 200px;';\r\n            var widthWithoutScrollBar = child.offsetWidth;\r\n            container.style.overflow = 'scroll';\r\n            var widthWithScrollBar = child.offsetWidth;\r\n            if (widthWithoutScrollBar === widthWithScrollBar)\r\n                widthWithScrollBar = container.clientWidth;\r\n            DomUtils.verticalScrollBarWidth = widthWithoutScrollBar - widthWithScrollBar;\r\n            document.body.removeChild(container);\r\n        }\r\n        return DomUtils.verticalScrollBarWidth;\r\n    };\r\n    DomUtils.getHorizontalBordersWidth = function (element, style) {\r\n        if (!common_1.isDefined(style))\r\n            style = (browser_1.Browser.IE && window.getComputedStyle) ? window.getComputedStyle(element) : DomUtils.getCurrentStyle(element);\r\n        var res = 0;\r\n        if (style.borderLeftStyle !== 'none')\r\n            res += DomUtils.pxToFloat(style.borderLeftWidth);\r\n        if (style.borderRightStyle !== 'none')\r\n            res += DomUtils.pxToFloat(style.borderRightWidth);\r\n        return res;\r\n    };\r\n    DomUtils.getFontFamiliesFromCssString = function (cssString) {\r\n        return cssString.split(',').map(function (fam) { return string_1.StringUtils.trim(fam.replace(/'|\"/gi, '')); });\r\n    };\r\n    DomUtils.getInnerText = function (container) {\r\n        if (browser_1.Browser.Safari && browser_1.Browser.MajorVersion <= 5) {\r\n            if (DomUtils.html2PlainTextFilter === null) {\r\n                DomUtils.html2PlainTextFilter = document.createElement('DIV');\r\n                DomUtils.html2PlainTextFilter.style.width = '0';\r\n                DomUtils.html2PlainTextFilter.style.height = '0';\r\n                DomUtils.html2PlainTextFilter.style.overflow = 'visible';\r\n                DomUtils.html2PlainTextFilter.style.display = 'none';\r\n                document.body.appendChild(DomUtils.html2PlainTextFilter);\r\n            }\r\n            var filter = DomUtils.html2PlainTextFilter;\r\n            filter.innerHTML = container.innerHTML;\r\n            filter.style.display = '';\r\n            var innerText = filter.innerText;\r\n            filter.style.display = 'none';\r\n            return innerText;\r\n        }\r\n        else if (browser_1.Browser.NetscapeFamily || browser_1.Browser.WebKitFamily || (browser_1.Browser.IE && browser_1.Browser.Version >= 9) || browser_1.Browser.Edge)\r\n            return container.textContent;\r\n        else\r\n            return container.innerText;\r\n    };\r\n    DomUtils.html2PlainTextFilter = null;\r\n    DomUtils.verticalScrollBarWidth = undefined;\r\n    return DomUtils;\r\n}());\r\nexports.DomUtils = DomUtils;\r\nfunction cloneObject(srcObject) {\r\n    if (typeof (srcObject) !== 'object' || !common_1.isDefined(srcObject))\r\n        return srcObject;\r\n    var newObject = {};\r\n    for (var i in srcObject)\r\n        newObject[i] = srcObject[i];\r\n    return newObject;\r\n}\r\nfunction pxToNumber(px, parseFunction) {\r\n    var result = 0;\r\n    if (common_1.isDefined(px) && px !== '') {\r\n        try {\r\n            var indexOfPx = px.indexOf('px');\r\n            if (indexOfPx > -1)\r\n                result = parseFunction(px.substr(0, indexOfPx));\r\n        }\r\n        catch (e) { }\r\n    }\r\n    return result;\r\n}\r\nfunction getAbsoluteScrollOffset_OperaFF(curEl, isX) {\r\n    var pos = 0;\r\n    var isFirstCycle = true;\r\n    while (curEl != null) {\r\n        if (curEl.tagName === 'BODY')\r\n            break;\r\n        var style = DomUtils.getCurrentStyle(curEl);\r\n        if (style.position === 'absolute')\r\n            break;\r\n        if (!isFirstCycle && curEl.tagName === 'DIV' && (style.position === '' || style.position === 'static'))\r\n            pos -= isX ? curEl.scrollLeft : curEl.scrollTop;\r\n        curEl = curEl.parentNode;\r\n        isFirstCycle = false;\r\n    }\r\n    return pos;\r\n}\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point = (function () {\r\n    function Point(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    Point.zero = function () {\r\n        return new Point(0, 0);\r\n    };\r\n    Point.fromNumber = function (num) {\r\n        return new Point(num, num);\r\n    };\r\n    Point.prototype.isZero = function () {\r\n        return this.x === 0 && this.y === 0;\r\n    };\r\n    Point.prototype.toString = function () {\r\n        return JSON.stringify(this);\r\n    };\r\n    Point.prototype.copyFrom = function (obj) {\r\n        this.x = obj.x;\r\n        this.y = obj.y;\r\n    };\r\n    Point.prototype.clone = function () {\r\n        return new Point(this.x, this.y);\r\n    };\r\n    Point.prototype.equals = function (obj) {\r\n        return this.x === obj.x && this.y === obj.y;\r\n    };\r\n    Point.prototype.offset = function (offsetX, offsetY) {\r\n        this.x += offsetX;\r\n        this.y += offsetY;\r\n        return this;\r\n    };\r\n    Point.prototype.offsetByPoint = function (offset) {\r\n        this.x += offset.x;\r\n        this.y += offset.y;\r\n        return this;\r\n    };\r\n    Point.prototype.multiply = function (multiplierX, multiplierY) {\r\n        this.x *= multiplierX;\r\n        this.y *= multiplierY;\r\n        return this;\r\n    };\r\n    Point.prototype.negative = function () {\r\n        this.x *= -1;\r\n        this.y *= -1;\r\n        return this;\r\n    };\r\n    Point.prototype.applyConverter = function (converter) {\r\n        this.x = converter(this.x);\r\n        this.y = converter(this.y);\r\n        return this;\r\n    };\r\n    Point.plus = function (a, b) {\r\n        return new Point(a.x + b.x, a.y + b.y);\r\n    };\r\n    Point.minus = function (a, b) {\r\n        return new Point(a.x - b.x, a.y - b.y);\r\n    };\r\n    Point.xComparer = function (a, b) {\r\n        return a.x - b.x;\r\n    };\r\n    Point.yComparer = function (a, b) {\r\n        return a.y - b.y;\r\n    };\r\n    Point.equals = function (a, b) {\r\n        return a.x === b.x && a.y === b.y;\r\n    };\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Browser = (function () {\r\n    function Browser() {\r\n    }\r\n    Browser.IdentUserAgent = function (userAgent, ignoreDocumentMode) {\r\n        if (ignoreDocumentMode === void 0) { ignoreDocumentMode = false; }\r\n        var browserTypesOrderedList = ['Mozilla', 'IE', 'Firefox', 'Netscape', 'Safari', 'Chrome', 'Opera', 'Opera10', 'Edge'];\r\n        var defaultBrowserType = 'IE';\r\n        var defaultPlatform = 'Win';\r\n        var defaultVersions = { Safari: 2, Chrome: 0.1, Mozilla: 1.9, Netscape: 8, Firefox: 2, Opera: 9, IE: 6, Edge: 12 };\r\n        if (!userAgent || userAgent.length === 0) {\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\r\n            return;\r\n        }\r\n        userAgent = userAgent.toLowerCase();\r\n        Browser.indentPlatformMajorVersion(userAgent);\r\n        try {\r\n            var platformIdentStrings = {\r\n                'Windows': 'Win',\r\n                'Macintosh': 'Mac',\r\n                'Mac OS': 'Mac',\r\n                'Mac_PowerPC': 'Mac',\r\n                'cpu os': 'MacMobile',\r\n                'cpu iphone os': 'MacMobile',\r\n                'Android': 'Android',\r\n                '!Windows Phone': 'WinPhone',\r\n                '!WPDesktop': 'WinPhone',\r\n                '!ZuneWP': 'WinPhone'\r\n            };\r\n            var optSlashOrSpace = '(?:/|\\\\s*)?';\r\n            var versionString = '(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?';\r\n            var optVersion = '(?:' + versionString + ')?';\r\n            var patterns = {\r\n                Safari: 'applewebkit(?:.*?(?:version/' + versionString + '[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile/\\\\S*)?\\\\s+safari))?',\r\n                Chrome: '(?:chrome|crios)(?!frame)' + optSlashOrSpace + optVersion,\r\n                Mozilla: 'mozilla(?:.*rv:' + optVersion + '.*Gecko)?',\r\n                Netscape: '(?:netscape|navigator)\\\\d*/?\\\\s*' + optVersion,\r\n                Firefox: 'firefox' + optSlashOrSpace + optVersion,\r\n                Opera: '(?:opera|\\\\sopr)' + optSlashOrSpace + optVersion,\r\n                Opera10: 'opera.*\\\\s*version' + optSlashOrSpace + optVersion,\r\n                IE: 'msie\\\\s*' + optVersion,\r\n                Edge: 'edge' + optSlashOrSpace + optVersion\r\n            };\r\n            var browserType = null;\r\n            var version = -1;\r\n            for (var i = 0; i < browserTypesOrderedList.length; i++) {\r\n                var browserTypeCandidate = browserTypesOrderedList[i];\r\n                var regExp = new RegExp(patterns[browserTypeCandidate], 'i');\r\n                var matches = regExp.exec(userAgent);\r\n                if (matches && matches.index >= 0) {\r\n                    if (browserType === 'IE' && version >= 11 && browserTypeCandidate === 'Safari')\r\n                        continue;\r\n                    browserType = browserTypeCandidate;\r\n                    if (browserType === 'Opera10')\r\n                        browserType = 'Opera';\r\n                    var tridentPattern = 'trident' + optSlashOrSpace + optVersion;\r\n                    version = Browser.GetBrowserVersion(userAgent, matches, tridentPattern, Browser.getIECompatibleVersionString());\r\n                    if (browserType === 'Mozilla' && version >= 11)\r\n                        browserType = 'IE';\r\n                }\r\n            }\r\n            if (!browserType)\r\n                browserType = defaultBrowserType;\r\n            var browserVersionDetected = version !== -1;\r\n            if (!browserVersionDetected)\r\n                version = defaultVersions[browserType];\r\n            var platform = null;\r\n            var minOccurenceIndex = Number.MAX_VALUE;\r\n            for (var identStr in platformIdentStrings) {\r\n                if (!Object.prototype.hasOwnProperty.call(platformIdentStrings, identStr))\r\n                    continue;\r\n                var importantIdent = identStr.substr(0, 1) === '!';\r\n                var occurenceIndex = userAgent.indexOf((importantIdent ? identStr.substr(1) : identStr).toLowerCase());\r\n                if (occurenceIndex >= 0 && (occurenceIndex < minOccurenceIndex || importantIdent)) {\r\n                    minOccurenceIndex = importantIdent ? 0 : occurenceIndex;\r\n                    platform = platformIdentStrings[identStr];\r\n                }\r\n            }\r\n            var samsungPattern = 'SM-[A-Z]';\r\n            var m = userAgent.toUpperCase().match(samsungPattern);\r\n            var isSamsungAndroidDevice = m && m.length > 0;\r\n            if (platform === 'WinPhone' && version < 9)\r\n                version = Math.floor(Browser.getVersionFromTrident(userAgent, 'trident' + optSlashOrSpace + optVersion));\r\n            if (!ignoreDocumentMode && browserType === 'IE' && version > 7 && document.documentMode < version)\r\n                version = document.documentMode;\r\n            if (platform === 'WinPhone')\r\n                version = Math.max(9, version);\r\n            if (!platform)\r\n                platform = defaultPlatform;\r\n            if (platform === platformIdentStrings['cpu os'] && !browserVersionDetected)\r\n                version = 4;\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice);\r\n        }\r\n        catch (e) {\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\r\n        }\r\n    };\r\n    Browser.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\r\n        var version = Browser.getVersionFromMatches(matches);\r\n        if (ieCompatibleVersionString) {\r\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\r\n            if (ieCompatibleVersionString === 'edge' || parseInt(ieCompatibleVersionString) === versionFromTrident)\r\n                return versionFromTrident;\r\n        }\r\n        return version;\r\n    };\r\n    Browser.getIECompatibleVersionString = function () {\r\n        if (document.compatible) {\r\n            for (var i = 0; i < document.compatible.length; i++) {\r\n                if (document.compatible[i].userAgent === 'IE' && document.compatible[i].version)\r\n                    return document.compatible[i].version.toLowerCase();\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    Browser.isTouchEnabled = function () {\r\n        return ('ontouchstart' in window) ||\r\n            (navigator['maxTouchPoints'] > 0) ||\r\n            (navigator['msMaxTouchPoints'] > 0);\r\n    };\r\n    Browser.fillUserAgentInfo = function (browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice) {\r\n        if (isSamsungAndroidDevice === void 0) { isSamsungAndroidDevice = false; }\r\n        for (var i = 0; i < browserTypesOrderedList.length; i++) {\r\n            var type = browserTypesOrderedList[i];\r\n            Browser[type] = type === browserType;\r\n        }\r\n        Browser.Version = Math.floor(10.0 * version) / 10.0;\r\n        Browser.MajorVersion = Math.floor(Browser.Version);\r\n        Browser.WindowsPlatform = platform === 'Win' || platform === 'WinPhone';\r\n        Browser.MacOSMobilePlatform = platform === 'MacMobile' || (platform === 'Mac' && Browser.isTouchEnabled());\r\n        Browser.MacOSPlatform = platform === 'Mac' && !Browser.MacOSMobilePlatform;\r\n        Browser.AndroidMobilePlatform = platform === 'Android';\r\n        Browser.WindowsPhonePlatform = platform === 'WinPhone';\r\n        Browser.WebKitFamily = Browser.Safari || Browser.Chrome || Browser.Opera && Browser.MajorVersion >= 15;\r\n        Browser.NetscapeFamily = Browser.Netscape || Browser.Mozilla || Browser.Firefox;\r\n        Browser.HardwareAcceleration = (Browser.IE && Browser.MajorVersion >= 9) || (Browser.Firefox && Browser.MajorVersion >= 4) ||\r\n            (Browser.AndroidMobilePlatform && Browser.Chrome) || (Browser.Chrome && Browser.MajorVersion >= 37) ||\r\n            (Browser.Safari && !Browser.WindowsPlatform) || Browser.Edge || (Browser.Opera && Browser.MajorVersion >= 46);\r\n        Browser.WebKitTouchUI = Browser.MacOSMobilePlatform || Browser.AndroidMobilePlatform;\r\n        var isIETouchUI = Browser.IE && Browser.MajorVersion > 9 && Browser.WindowsPlatform && Browser.UserAgent.toLowerCase().indexOf('touch') >= 0;\r\n        Browser.MSTouchUI = isIETouchUI || (Browser.Edge && !!window.navigator.maxTouchPoints);\r\n        Browser.TouchUI = Browser.WebKitTouchUI || Browser.MSTouchUI;\r\n        Browser.MobileUI = Browser.WebKitTouchUI || Browser.WindowsPhonePlatform;\r\n        Browser.AndroidDefaultBrowser = Browser.AndroidMobilePlatform && !Browser.Chrome;\r\n        Browser.AndroidChromeBrowser = Browser.AndroidMobilePlatform && Browser.Chrome;\r\n        if (isSamsungAndroidDevice)\r\n            Browser.SamsungAndroidDevice = isSamsungAndroidDevice;\r\n        if (Browser.MSTouchUI) {\r\n            var isARMArchitecture = Browser.UserAgent.toLowerCase().indexOf('arm;') > -1;\r\n            Browser.VirtualKeyboardSupported = isARMArchitecture || Browser.WindowsPhonePlatform;\r\n        }\r\n        else\r\n            Browser.VirtualKeyboardSupported = Browser.WebKitTouchUI;\r\n        Browser.fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList);\r\n    };\r\n    Browser.indentPlatformMajorVersion = function (userAgent) {\r\n        var regex = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/;\r\n        var matches = regex.exec(userAgent);\r\n        if (matches)\r\n            Browser.PlaformMajorVersion = matches[1];\r\n    };\r\n    Browser.getVersionFromMatches = function (matches) {\r\n        var result = -1;\r\n        var versionStr = '';\r\n        if (matches) {\r\n            if (matches[1]) {\r\n                versionStr += matches[1];\r\n                if (matches[2])\r\n                    versionStr += '.' + matches[2];\r\n            }\r\n            if (versionStr !== '') {\r\n                result = parseFloat(versionStr);\r\n                if (isNaN(result))\r\n                    result = -1;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Browser.getVersionFromTrident = function (userAgent, tridentPattern) {\r\n        var tridentDiffFromVersion = 4;\r\n        var matches = new RegExp(tridentPattern, 'i').exec(userAgent);\r\n        return Browser.getVersionFromMatches(matches) + tridentDiffFromVersion;\r\n    };\r\n    Browser.fillDocumentElementBrowserTypeClassNames = function (browserTypesOrderedList) {\r\n        var documentElementClassName = '';\r\n        var browserTypeslist = browserTypesOrderedList.concat(['WindowsPlatform', 'MacOSPlatform', 'MacOSMobilePlatform', 'AndroidMobilePlatform',\r\n            'WindowsPhonePlatform', 'WebKitFamily', 'WebKitTouchUI', 'MSTouchUI', 'TouchUI', 'AndroidDefaultBrowser']);\r\n        for (var i = 0; i < browserTypeslist.length; i++) {\r\n            var type = browserTypeslist[i];\r\n            if (Browser[type])\r\n                documentElementClassName += 'dx' + type + ' ';\r\n        }\r\n        documentElementClassName += 'dxBrowserVersion-' + Browser.MajorVersion;\r\n        if (typeof document !== 'undefined' && document && document.documentElement) {\r\n            if (document.documentElement.className !== '')\r\n                documentElementClassName = ' ' + documentElementClassName;\r\n            document.documentElement.className += documentElementClassName;\r\n            Browser.Info = documentElementClassName;\r\n        }\r\n    };\r\n    Browser.getUserAgent = function () {\r\n        return typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\r\n    };\r\n    Browser.UserAgent = Browser.getUserAgent();\r\n    Browser._foo = Browser.IdentUserAgent(Browser.UserAgent);\r\n    return Browser;\r\n}());\r\nexports.Browser = Browser;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar browser_1 = __webpack_require__(5);\r\nvar common_1 = __webpack_require__(1);\r\nvar dom_1 = __webpack_require__(3);\r\nvar touch_1 = __webpack_require__(15);\r\nvar EvtUtils = (function () {\r\n    function EvtUtils() {\r\n    }\r\n    EvtUtils.preventEvent = function (evt) {\r\n        if (evt.preventDefault)\r\n            evt.preventDefault();\r\n        else\r\n            evt.returnValue = false;\r\n    };\r\n    EvtUtils.getEventSource = function (evt) {\r\n        if (!common_1.isDefined(evt))\r\n            return null;\r\n        return evt.srcElement ? evt.srcElement : evt.target;\r\n    };\r\n    EvtUtils.getEventSourceByPosition = function (evt) {\r\n        if (!common_1.isDefined(evt))\r\n            return null;\r\n        if (document.elementFromPoint && EvtUtils.getEventX(evt) !== undefined && EvtUtils.getEventY(evt) !== undefined)\r\n            return document.elementFromPoint(EvtUtils.getEventX(evt), EvtUtils.getEventY(evt));\r\n        return evt.srcElement ? evt.srcElement : evt.target;\r\n    };\r\n    EvtUtils.getMouseWheelEventName = function () {\r\n        if (browser_1.Browser.Safari)\r\n            return 'mousewheel';\r\n        if (browser_1.Browser.NetscapeFamily && browser_1.Browser.MajorVersion < 17)\r\n            return 'DOMMouseScroll';\r\n        return 'wheel';\r\n    };\r\n    EvtUtils.isLeftButtonPressed = function (evt) {\r\n        if (touch_1.TouchUtils.isTouchEvent(evt))\r\n            return true;\r\n        evt = (browser_1.Browser.IE && common_1.isDefined(event)) ? event : evt;\r\n        if (!evt)\r\n            return false;\r\n        if (browser_1.Browser.IE && browser_1.Browser.Version < 11) {\r\n            if (browser_1.Browser.MSTouchUI)\r\n                return true;\r\n            return evt.button % 2 === 1;\r\n        }\r\n        else if (browser_1.Browser.WebKitFamily) {\r\n            if (evt.type === 'pointermove')\r\n                return evt.buttons === 1;\r\n            return evt.which === 1;\r\n        }\r\n        else if (browser_1.Browser.NetscapeFamily || browser_1.Browser.Edge || (browser_1.Browser.IE && browser_1.Browser.Version >= 11)) {\r\n            if (evt.type === touch_1.TouchUtils.touchMouseMoveEventName)\r\n                return evt.buttons === 1;\r\n            return evt.which === 1;\r\n        }\r\n        else if (browser_1.Browser.Opera)\r\n            return evt.button === 0;\r\n        return true;\r\n    };\r\n    EvtUtils.preventEventAndBubble = function (evt) {\r\n        EvtUtils.preventEvent(evt);\r\n        if (evt.stopPropagation)\r\n            evt.stopPropagation();\r\n        evt.cancelBubble = true;\r\n    };\r\n    EvtUtils.clientEventRequiresDocScrollCorrection = function () {\r\n        var isSafariVerLess3 = browser_1.Browser.Safari && browser_1.Browser.Version < 3;\r\n        var isMacOSMobileVerLess51 = browser_1.Browser.MacOSMobilePlatform && browser_1.Browser.Version < 5.1;\r\n        return browser_1.Browser.AndroidDefaultBrowser || browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\r\n    };\r\n    EvtUtils.getEventX = function (evt) {\r\n        if (touch_1.TouchUtils.isTouchEvent(evt))\r\n            return touch_1.TouchUtils.getEventX(evt);\r\n        return evt.clientX + (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollLeft() : 0);\r\n    };\r\n    EvtUtils.getEventY = function (evt) {\r\n        if (touch_1.TouchUtils.isTouchEvent(evt))\r\n            return touch_1.TouchUtils.getEventY(evt);\r\n        return evt.clientY + (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollTop() : 0);\r\n    };\r\n    EvtUtils.cancelBubble = function (evt) {\r\n        evt.cancelBubble = true;\r\n    };\r\n    EvtUtils.getWheelDelta = function (evt) {\r\n        var ret;\r\n        if (browser_1.Browser.NetscapeFamily && browser_1.Browser.MajorVersion < 17)\r\n            ret = -evt.detail;\r\n        else if (browser_1.Browser.Safari)\r\n            ret = evt.wheelDelta;\r\n        else\r\n            ret = -evt.deltaY;\r\n        if (browser_1.Browser.Opera && browser_1.Browser.Version < 9)\r\n            ret = -ret;\r\n        return ret;\r\n    };\r\n    return EvtUtils;\r\n}());\r\nexports.EvtUtils = EvtUtils;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SimpleCommandState = exports.CommandBase = void 0;\r\nvar CommandBase = (function () {\r\n    function CommandBase(control) {\r\n        this.control = control;\r\n    }\r\n    Object.defineProperty(CommandBase.prototype, \"modelManipulator\", {\r\n        get: function () { return this.control.modelManipulator; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"history\", {\r\n        get: function () { return this.control.history; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"validationController\", {\r\n        get: function () { return this.control.validationController; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"state\", {\r\n        get: function () {\r\n            if (!this._state)\r\n                this._state = this.getState();\r\n            return this._state;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CommandBase.prototype.execute = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        if (!this.state.enabled)\r\n            return false;\r\n        var executed = this.executeInternal.apply(this, parameters);\r\n        if (executed)\r\n            this.control.barManager.updateItemsState([]);\r\n        return executed;\r\n    };\r\n    CommandBase.prototype.isEnabled = function () {\r\n        return this.control.settings.editing.enabled;\r\n    };\r\n    CommandBase.prototype.executeInternal = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        throw new Error(\"Not implemented\");\r\n    };\r\n    return CommandBase;\r\n}());\r\nexports.CommandBase = CommandBase;\r\nvar SimpleCommandState = (function () {\r\n    function SimpleCommandState(enabled, value) {\r\n        this.visible = true;\r\n        this.enabled = enabled;\r\n        this.value = value;\r\n    }\r\n    return SimpleCommandState;\r\n}());\r\nexports.SimpleCommandState = SimpleCommandState;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskAreaManager = exports.MouseEventSource = void 0;\r\nvar browser_1 = __webpack_require__(5);\r\nvar point_1 = __webpack_require__(4);\r\nvar dom_1 = __webpack_require__(3);\r\nvar evt_1 = __webpack_require__(6);\r\nvar touch_1 = __webpack_require__(15);\r\nvar GridLayoutCalculator_1 = __webpack_require__(17);\r\nvar MouseEventSource;\r\n(function (MouseEventSource) {\r\n    MouseEventSource[MouseEventSource[\"TaskArea\"] = 0] = \"TaskArea\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Frame\"] = 1] = \"TaskEdit_Frame\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Progress\"] = 2] = \"TaskEdit_Progress\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Start\"] = 3] = \"TaskEdit_Start\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_End\"] = 4] = \"TaskEdit_End\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_DependencyStart\"] = 5] = \"TaskEdit_DependencyStart\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_DependencyFinish\"] = 6] = \"TaskEdit_DependencyFinish\";\r\n    MouseEventSource[MouseEventSource[\"Successor_Wrapper\"] = 7] = \"Successor_Wrapper\";\r\n    MouseEventSource[MouseEventSource[\"Successor_DependencyStart\"] = 8] = \"Successor_DependencyStart\";\r\n    MouseEventSource[MouseEventSource[\"Successor_DependencyFinish\"] = 9] = \"Successor_DependencyFinish\";\r\n})(MouseEventSource = exports.MouseEventSource || (exports.MouseEventSource = {}));\r\nvar TaskAreaManager = (function () {\r\n    function TaskAreaManager(ganttView) {\r\n        this.time = new Date();\r\n        this.touchTime = new Date();\r\n        this.ganttView = ganttView;\r\n        this.eventManager = ganttView.eventManager;\r\n        this.position = new point_1.Point(-1, -1);\r\n        if (!browser_1.Browser.WebKitTouchUI)\r\n            this.initMouseEvents();\r\n        if (browser_1.Browser.isTouchEnabled())\r\n            this.initTouchEvents();\r\n    }\r\n    TaskAreaManager.prototype.initMouseEvents = function () {\r\n        var _this = this;\r\n        this.ganttView.taskArea.addEventListener(\"click\", function (evt) { _this.onTaskAreaClick(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"dblclick\", function (evt) { _this.onTaskAreaDblClick(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"scroll\", this.ganttView.updateView.bind(this.ganttView));\r\n        this.ganttView.taskArea.addEventListener(\"contextmenu\", function (evt) { _this.onContextMenu(evt); });\r\n        this.ganttView.taskArea.addEventListener(evt_1.EvtUtils.getMouseWheelEventName(), function (evt) { _this.onMouseWheel(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"mousedown\", function (evt) { _this.onMouseDown(evt); });\r\n        document.addEventListener(\"mousemove\", function (evt) { _this.onDocumentMouseMove(evt); });\r\n        document.addEventListener(\"mouseup\", function (evt) { _this.onDocumentMouseUp(evt); });\r\n        document.addEventListener(\"keydown\", function (evt) { _this.onDocumentKeyDown(evt); });\r\n    };\r\n    TaskAreaManager.prototype.initTouchEvents = function () {\r\n        var _this = this;\r\n        if (browser_1.Browser.WebKitTouchUI || browser_1.Browser.WindowsPlatform && !browser_1.Browser.Edge && !browser_1.Browser.IE) {\r\n            this.ganttView.taskArea.addEventListener(\"touchstart\", function (evt) { _this.onTouchStart(evt); });\r\n            this.ganttView.taskArea.addEventListener(\"touchend\", function (evt) { _this.onTouchEnd(evt); });\r\n            this.ganttView.taskArea.addEventListener(\"touchmove\", function (evt) { _this.onTouchMove(evt); });\r\n        }\r\n        else if (browser_1.Browser.MSTouchUI) {\r\n            this.ganttView.taskArea.classList.add(TaskAreaManager.MS_POINTER_ACTIVE_CLASS);\r\n            this.ganttView.taskArea.addEventListener(\"pointerdown\", function (evt) { _this.onMouseDown(evt); });\r\n            this.ganttView.taskArea.addEventListener(\"pointerup\", function (evt) { _this.onDocumentMouseUp(evt); });\r\n            this.ganttView.taskArea.addEventListener(\"pointermove\", function (evt) { _this.onDocumentMouseMove(evt); });\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.attachEventsOnTask = function (taskElement) {\r\n        var _this = this;\r\n        taskElement.addEventListener(\"mouseenter\", function (evt) {\r\n            if (browser_1.Browser.MSTouchUI)\r\n                setTimeout(function () { return _this.onTaskElementHover(evt); }, 0);\r\n            else\r\n                _this.onTaskElementHover(evt);\r\n        });\r\n    };\r\n    TaskAreaManager.prototype.onMouseDown = function (evt) {\r\n        this.eventManager.onMouseDown(evt);\r\n        this.preventSelect = false;\r\n        this.position = new point_1.Point(evt.clientX, evt.clientY);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentMouseUp = function (evt) {\r\n        var _this = this;\r\n        this.ganttView.isFocus = dom_1.DomUtils.isItParent(this.ganttView.taskArea, evt_1.EvtUtils.getEventSource(evt)) ? true : false;\r\n        if (this.ganttView.isFocus && !this.preventSelect && this.ganttView.settings.allowSelectTask && !this.isConnectorLine(evt))\r\n            setTimeout(function () { _this.changeTaskSelection(_this.getClickedTaskIndex(evt)); }, 0);\r\n        this.eventManager.onMouseUp(evt);\r\n    };\r\n    TaskAreaManager.prototype.onMouseWheel = function (evt) {\r\n        this.eventManager.onMouseWheel(evt);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentKeyDown = function (evt) {\r\n        this.eventManager.onKeyDown(evt);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentMouseMove = function (evt) {\r\n        if (this.position.x != evt.clientX || this.position.y != evt.clientY) {\r\n            this.eventManager.onMouseMove(evt);\r\n            this.preventSelect = true;\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onTouchStart = function (evt) {\r\n        this.position = new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt));\r\n        var clickedItem = this.ganttView.viewModel.items[this.getClickedTaskIndex(evt)];\r\n        var now = new Date();\r\n        if (evt.touches.length === 1 && now.getTime() - this.touchTime.getTime() < TaskAreaManager.DBLCLICK_INTERVAL) {\r\n            evt.preventDefault();\r\n            if (clickedItem && this.ganttView.onTaskDblClick(clickedItem.task.id, evt))\r\n                this.ganttView.commandManager.showTaskEditDialog.execute(clickedItem.task);\r\n        }\r\n        else\r\n            this.eventManager.onTouchStart(evt);\r\n        if (clickedItem && this.ganttView.onTaskClick(clickedItem.task.id, evt))\r\n            this.touchTime = now;\r\n        this.preventSelect = false;\r\n    };\r\n    TaskAreaManager.prototype.onTouchEnd = function (evt) {\r\n        this.eventManager.onTouchEnd(evt);\r\n    };\r\n    TaskAreaManager.prototype.onTouchMove = function (evt) {\r\n        if (this.position.x != touch_1.TouchUtils.getEventX(evt) || this.position.y != touch_1.TouchUtils.getEventY(evt)) {\r\n            this.eventManager.onTouchMove(evt);\r\n            this.preventSelect = true;\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onContextMenu = function (evt) {\r\n        var source = evt_1.EvtUtils.getEventSource(evt);\r\n        var isDependency = this.isConnectorLine(evt);\r\n        var type = isDependency ? \"dependency\" : \"task\";\r\n        var key = isDependency ? source.getAttribute(\"dependency-id\") : this.getClickedTaskKey(this.getClickedTaskIndex(evt));\r\n        if (evt.stopPropagation)\r\n            evt.stopPropagation();\r\n        if (evt.preventDefault)\r\n            evt.preventDefault();\r\n        if (browser_1.Browser.WebKitFamily)\r\n            evt.returnValue = false;\r\n        if (this.ganttView.ganttOwner.onGanttViewContextMenu(evt, key, type)) {\r\n            var info = {\r\n                event: evt,\r\n                type: type,\r\n                key: key,\r\n                position: new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt))\r\n            };\r\n            this.ganttView.ganttOwner.showPopupMenu(info);\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onTaskElementHover = function (evt) {\r\n        evt.preventDefault();\r\n        var hoveredTaskIndex = this.getClickedTaskIndex(evt);\r\n        this.ganttView.taskEditController.show(hoveredTaskIndex);\r\n        this.ganttView.taskEditController.showTaskInfo(evt_1.EvtUtils.getEventX(evt));\r\n    };\r\n    TaskAreaManager.prototype.getClickedTaskIndex = function (evt) {\r\n        var y = evt_1.EvtUtils.getEventY(evt);\r\n        var taskAreaY = dom_1.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);\r\n        var relativeY = y - taskAreaY;\r\n        return Math.floor(relativeY / this.ganttView.tickSize.height);\r\n    };\r\n    TaskAreaManager.prototype.getClickedTaskKey = function (index) {\r\n        var clickedItem = this.ganttView.viewModel.items[index];\r\n        return clickedItem && clickedItem.task && clickedItem.task.id;\r\n    };\r\n    TaskAreaManager.prototype.changeTaskSelection = function (index) {\r\n        var clickedTask = this.ganttView.viewModel.items[index];\r\n        if (clickedTask)\r\n            this.ganttView.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\r\n    };\r\n    TaskAreaManager.prototype.onTaskAreaClick = function (evt) {\r\n        var clickedTaskIndex = this.getClickedTaskIndex(evt);\r\n        var clickedItem = this.ganttView.viewModel.items[clickedTaskIndex];\r\n        if (clickedItem)\r\n            this.ganttView.onTaskClick(clickedItem.task.id, evt);\r\n    };\r\n    TaskAreaManager.prototype.onTaskAreaDblClick = function (evt) {\r\n        evt.preventDefault();\r\n        var clickedTaskIndex = this.getClickedTaskIndex(evt);\r\n        var clickedItem = this.ganttView.viewModel.items[clickedTaskIndex];\r\n        if (clickedItem && this.ganttView.onTaskDblClick(clickedItem.task.id, evt))\r\n            this.ganttView.commandManager.showTaskEditDialog.execute(clickedItem.task);\r\n    };\r\n    TaskAreaManager.prototype.isConnectorLine = function (evt) {\r\n        var source = evt_1.EvtUtils.getEventSource(evt);\r\n        return dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) ||\r\n            dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL);\r\n    };\r\n    TaskAreaManager.DBLCLICK_INTERVAL = 300;\r\n    TaskAreaManager.MS_POINTER_ACTIVE_CLASS = \"ms-pointer-active\";\r\n    return TaskAreaManager;\r\n}());\r\nexports.TaskAreaManager = TaskAreaManager;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DateRange = void 0;\r\nvar DateRange = (function () {\r\n    function DateRange(start, end) {\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n    return DateRange;\r\n}());\r\nexports.DateRange = DateRange;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataObject = void 0;\r\nvar common_1 = __webpack_require__(1);\r\nvar math_1 = __webpack_require__(34);\r\nvar DataObject = (function () {\r\n    function DataObject() {\r\n        this.internalId = math_1.MathUtils.generateGuid();\r\n    }\r\n    DataObject.prototype.assignFromObject = function (sourceObj) {\r\n        if (!common_1.isDefined(sourceObj))\r\n            return;\r\n        if (common_1.isDefined(sourceObj.id)) {\r\n            this.id = sourceObj.id;\r\n            this.internalId = String(sourceObj.id);\r\n        }\r\n    };\r\n    return DataObject;\r\n}());\r\nexports.DataObject = DataObject;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Dependency = exports.DependencyType = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(10);\r\nvar common_1 = __webpack_require__(1);\r\nvar DependencyType;\r\n(function (DependencyType) {\r\n    DependencyType[DependencyType[\"FS\"] = 0] = \"FS\";\r\n    DependencyType[DependencyType[\"SS\"] = 1] = \"SS\";\r\n    DependencyType[DependencyType[\"FF\"] = 2] = \"FF\";\r\n    DependencyType[DependencyType[\"SF\"] = 3] = \"SF\";\r\n})(DependencyType = exports.DependencyType || (exports.DependencyType = {}));\r\nvar Dependency = (function (_super) {\r\n    tslib_1.__extends(Dependency, _super);\r\n    function Dependency() {\r\n        var _this = _super.call(this) || this;\r\n        _this.predecessorId = \"\";\r\n        _this.successorId = \"\";\r\n        _this.type = null;\r\n        return _this;\r\n    }\r\n    Dependency.prototype.assignFromObject = function (sourceObj) {\r\n        if (common_1.isDefined(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.internalId = String(sourceObj.id);\r\n            this.predecessorId = String(sourceObj.predecessorId);\r\n            this.successorId = String(sourceObj.successorId);\r\n            this.type = this.parseType(sourceObj.type);\r\n        }\r\n    };\r\n    Dependency.prototype.parseType = function (type) {\r\n        if (common_1.isDefined(type)) {\r\n            var text = type.toString().toUpperCase();\r\n            switch (text) {\r\n                case \"SS\":\r\n                case \"1\":\r\n                    return DependencyType.SS;\r\n                case \"FF\":\r\n                case \"2\":\r\n                    return DependencyType.FF;\r\n                case \"SF\":\r\n                case \"3\":\r\n                    return DependencyType.SF;\r\n                default: return DependencyType.FS;\r\n            }\r\n        }\r\n        else\r\n            return DependencyType.FS;\r\n    };\r\n    return Dependency;\r\n}(DataObject_1.DataObject));\r\nexports.Dependency = Dependency;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CompositionHistoryItem = exports.HistoryItem = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItem = (function () {\r\n    function HistoryItem(modelManipulator) {\r\n        this.modelManipulator = modelManipulator;\r\n    }\r\n    return HistoryItem;\r\n}());\r\nexports.HistoryItem = HistoryItem;\r\nvar CompositionHistoryItem = (function (_super) {\r\n    tslib_1.__extends(CompositionHistoryItem, _super);\r\n    function CompositionHistoryItem() {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.historyItems = [];\r\n        return _this;\r\n    }\r\n    CompositionHistoryItem.prototype.redo = function () {\r\n        var item;\r\n        for (var i = 0; item = this.historyItems[i]; i++)\r\n            item.redo();\r\n    };\r\n    CompositionHistoryItem.prototype.undo = function () {\r\n        var item;\r\n        for (var i = this.historyItems.length - 1; item = this.historyItems[i]; i--)\r\n            item.undo();\r\n    };\r\n    CompositionHistoryItem.prototype.add = function (historyItem) {\r\n        if (historyItem == null)\r\n            throw new Error(\"Can't add null HistoryItem\");\r\n        this.historyItems.push(historyItem);\r\n    };\r\n    CompositionHistoryItem.prototype.undoItemsQuery = function () {\r\n        this.undo();\r\n    };\r\n    return CompositionHistoryItem;\r\n}(HistoryItem));\r\nexports.CompositionHistoryItem = CompositionHistoryItem;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CollectionBase = void 0;\r\nvar common_1 = __webpack_require__(1);\r\nvar Utils_1 = __webpack_require__(56);\r\nvar CollectionBase = (function () {\r\n    function CollectionBase() {\r\n        this._items = new Array();\r\n        this._isGanttCollection = true;\r\n    }\r\n    CollectionBase.prototype.add = function (element) {\r\n        if (!common_1.isDefined(element))\r\n            return;\r\n        if (!!this.getItemById(element.internalId))\r\n            throw \"The collection item with id ='\" + element.internalId + \"' already exists.\";\r\n        this._items.push(element);\r\n    };\r\n    CollectionBase.prototype.addRange = function (range) {\r\n        for (var i = 0; i < range.length; i++)\r\n            this.add(range[i]);\r\n    };\r\n    CollectionBase.prototype.remove = function (element) {\r\n        var index = this._items.indexOf(element);\r\n        if (index > -1 && index < this._items.length)\r\n            this._items.splice(index, 1);\r\n    };\r\n    CollectionBase.prototype.clear = function () {\r\n        this._items.splice(0, this._items.length);\r\n    };\r\n    Object.defineProperty(CollectionBase.prototype, \"items\", {\r\n        get: function () {\r\n            return this._items.slice();\r\n        },\r\n        set: function (value) {\r\n            if (value)\r\n                this._items = value.slice();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CollectionBase.prototype, \"length\", {\r\n        get: function () {\r\n            return this._items.length;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CollectionBase.prototype.getItem = function (index) {\r\n        if (index > -1 && index < this._items.length)\r\n            return this._items[index];\r\n        return null;\r\n    };\r\n    CollectionBase.prototype.getItemById = function (id) {\r\n        return this._items.filter(function (val) { return val.internalId === id; })[0];\r\n    };\r\n    CollectionBase.prototype.getItemByPublicId = function (id) {\r\n        return this._items.filter(function (val) { return val.id === id || val.id.toString() === id; })[0];\r\n    };\r\n    CollectionBase.prototype.assign = function (sourceCollection) {\r\n        if (!common_1.isDefined(sourceCollection))\r\n            return;\r\n        this.items = sourceCollection.items;\r\n    };\r\n    CollectionBase.prototype.importFromObject = function (source) {\r\n        if (!common_1.isDefined(source))\r\n            return;\r\n        this.clear();\r\n        if (source._isGanttCollection)\r\n            this.assign(source);\r\n        else if (source instanceof Array)\r\n            this.importFromArray(source);\r\n        else\r\n            this.createItemFromObjectAndAdd(source);\r\n    };\r\n    CollectionBase.prototype.createItemFromObjectAndAdd = function (source) {\r\n        if (common_1.isDefined(source)) {\r\n            var item = this.createItem();\r\n            item.assignFromObject(source);\r\n            this.add(item);\r\n        }\r\n    };\r\n    CollectionBase.prototype.importFromArray = function (values) {\r\n        for (var i = 0; i < values.length; i++)\r\n            this.createItemFromObjectAndAdd(values[i]);\r\n    };\r\n    CollectionBase.prototype.importFromJSON = function (json) {\r\n        this.importFromObject(Utils_1.GanttJsonUtils.evalJson(json));\r\n    };\r\n    return CollectionBase;\r\n}());\r\nexports.CollectionBase = CollectionBase;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskTitlePosition = exports.Position = exports.ViewType = void 0;\r\nvar ViewType;\r\n(function (ViewType) {\r\n    ViewType[ViewType[\"TenMinutes\"] = 0] = \"TenMinutes\";\r\n    ViewType[ViewType[\"Hours\"] = 1] = \"Hours\";\r\n    ViewType[ViewType[\"SixHours\"] = 2] = \"SixHours\";\r\n    ViewType[ViewType[\"Days\"] = 3] = \"Days\";\r\n    ViewType[ViewType[\"Weeks\"] = 4] = \"Weeks\";\r\n    ViewType[ViewType[\"Months\"] = 5] = \"Months\";\r\n    ViewType[ViewType[\"Quarter\"] = 6] = \"Quarter\";\r\n    ViewType[ViewType[\"Years\"] = 7] = \"Years\";\r\n    ViewType[ViewType[\"FiveYears\"] = 8] = \"FiveYears\";\r\n})(ViewType = exports.ViewType || (exports.ViewType = {}));\r\nvar Position;\r\n(function (Position) {\r\n    Position[Position[\"Left\"] = 0] = \"Left\";\r\n    Position[Position[\"Top\"] = 1] = \"Top\";\r\n    Position[Position[\"Right\"] = 2] = \"Right\";\r\n    Position[Position[\"Bottom\"] = 3] = \"Bottom\";\r\n})(Position = exports.Position || (exports.Position = {}));\r\nvar TaskTitlePosition;\r\n(function (TaskTitlePosition) {\r\n    TaskTitlePosition[TaskTitlePosition[\"Inside\"] = 0] = \"Inside\";\r\n    TaskTitlePosition[TaskTitlePosition[\"Outside\"] = 1] = \"Outside\";\r\n    TaskTitlePosition[TaskTitlePosition[\"None\"] = 2] = \"None\";\r\n})(TaskTitlePosition = exports.TaskTitlePosition || (exports.TaskTitlePosition = {}));\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar browser_1 = __webpack_require__(5);\r\nvar common_1 = __webpack_require__(1);\r\nvar TouchUtils = (function () {\r\n    function TouchUtils() {\r\n    }\r\n    TouchUtils.onEventAttachingToDocument = function (eventName, func) {\r\n        if (browser_1.Browser.MacOSMobilePlatform && TouchUtils.isTouchEventName(eventName)) {\r\n            if (!TouchUtils.documentTouchHandlers[eventName])\r\n                TouchUtils.documentTouchHandlers[eventName] = [];\r\n            TouchUtils.documentTouchHandlers[eventName].push(func);\r\n            return TouchUtils.documentEventAttachingAllowed;\r\n        }\r\n        return true;\r\n    };\r\n    TouchUtils.isTouchEventName = function (eventName) {\r\n        return browser_1.Browser.WebKitTouchUI && (eventName.indexOf('touch') > -1 || eventName.indexOf('gesture') > -1);\r\n    };\r\n    TouchUtils.isTouchEvent = function (evt) {\r\n        return browser_1.Browser.WebKitTouchUI && common_1.isDefined(evt.changedTouches);\r\n    };\r\n    TouchUtils.getEventX = function (evt) {\r\n        return browser_1.Browser.IE ? evt.pageX : evt.changedTouches[0].pageX;\r\n    };\r\n    TouchUtils.getEventY = function (evt) {\r\n        return browser_1.Browser.IE ? evt.pageY : evt.changedTouches[0].pageY;\r\n    };\r\n    TouchUtils.touchMouseDownEventName = browser_1.Browser.WebKitTouchUI ? 'touchstart' : (browser_1.Browser.Edge && browser_1.Browser.MSTouchUI && window.PointerEvent ? 'pointerdown' : 'mousedown');\r\n    TouchUtils.touchMouseUpEventName = browser_1.Browser.WebKitTouchUI ? 'touchend' : (browser_1.Browser.Edge && browser_1.Browser.MSTouchUI && window.PointerEvent ? 'pointerup' : 'mouseup');\r\n    TouchUtils.touchMouseMoveEventName = browser_1.Browser.WebKitTouchUI ? 'touchmove' : (browser_1.Browser.Edge && browser_1.Browser.MSTouchUI && window.PointerEvent ? 'pointermove' : 'mousemove');\r\n    TouchUtils.msTouchDraggableClassName = 'dxMSTouchDraggable';\r\n    TouchUtils.documentTouchHandlers = {};\r\n    TouchUtils.documentEventAttachingAllowed = true;\r\n    return TouchUtils;\r\n}());\r\nexports.TouchUtils = TouchUtils;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RecurrenceBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(10);\r\nvar DayOfWeek_1 = __webpack_require__(70);\r\nvar DayOfWeekMonthlyOccurrence_1 = __webpack_require__(38);\r\nvar Month_1 = __webpack_require__(71);\r\nvar common_1 = __webpack_require__(1);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar RecurrenceFactory_1 = __webpack_require__(39);\r\nvar RecurrenceBase = (function (_super) {\r\n    tslib_1.__extends(RecurrenceBase, _super);\r\n    function RecurrenceBase(start, end, interval, occurrenceCount) {\r\n        if (start === void 0) { start = null; }\r\n        if (end === void 0) { end = null; }\r\n        if (interval === void 0) { interval = 1; }\r\n        if (occurrenceCount === void 0) { occurrenceCount = 0; }\r\n        var _this = _super.call(this) || this;\r\n        _this._start = null;\r\n        _this._end = null;\r\n        _this._interval = 1;\r\n        _this._occurrenceCount = 0;\r\n        _this._dayOfWeek = 0;\r\n        _this._day = 1;\r\n        _this._dayOfWeekOccurrence = 0;\r\n        _this._month = 0;\r\n        _this._calculateByDayOfWeek = false;\r\n        _this.start = start;\r\n        _this.end = end;\r\n        _this.interval = interval;\r\n        _this.occurrenceCount = occurrenceCount;\r\n        return _this;\r\n    }\r\n    RecurrenceBase.prototype.assignFromObject = function (sourceObj) {\r\n        if (common_1.isDefined(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.start = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.start);\r\n            this.end = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.end);\r\n            if (common_1.isDefined(sourceObj.interval))\r\n                this.interval = sourceObj.interval;\r\n            if (common_1.isDefined(sourceObj.occurrenceCount))\r\n                this.occurrenceCount = sourceObj.occurrenceCount;\r\n            if (common_1.isDefined(sourceObj.dayOfWeek))\r\n                this.dayOfWeekInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeek_1.DayOfWeek, sourceObj.dayOfWeek);\r\n            if (common_1.isDefined(sourceObj.day))\r\n                this.dayInternal = sourceObj.day;\r\n            if (common_1.isDefined(sourceObj.dayOfWeekOccurrence))\r\n                this.dayOfWeekOccurrenceInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence, sourceObj.dayOfWeekOccurrence);\r\n            if (common_1.isDefined(sourceObj.month))\r\n                this.monthInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(Month_1.Month, sourceObj.month);\r\n            if (common_1.isDefined(sourceObj.calculateByDayOfWeek))\r\n                this._calculateByDayOfWeek = !!sourceObj.calculateByDayOfWeek;\r\n        }\r\n    };\r\n    RecurrenceBase.prototype.calculatePoints = function (start, end) {\r\n        if (!start || !end)\r\n            return new Array();\r\n        var from = DateTimeUtils_1.DateTimeUtils.getMaxDate(start, this._start);\r\n        var to = DateTimeUtils_1.DateTimeUtils.getMinDate(end, this._end);\r\n        if (this._occurrenceCount > 0)\r\n            return this.calculatePointsByOccurrenceCount(from, to);\r\n        return this.calculatePointsByDateRange(from, to);\r\n    };\r\n    RecurrenceBase.prototype.calculatePointsByOccurrenceCount = function (start, end) {\r\n        var points = new Array();\r\n        var point = this.getFirstPoint(start);\r\n        while (!!point && points.length < this._occurrenceCount && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\r\n            if (this.isRecurrencePoint(point))\r\n                points.push(point);\r\n            point = this.getNextPoint(point);\r\n        }\r\n        return points;\r\n    };\r\n    RecurrenceBase.prototype.calculatePointsByDateRange = function (start, end) {\r\n        var points = new Array();\r\n        var point = this.getFirstPoint(start);\r\n        while (!!point && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\r\n            if (this.isRecurrencePoint(point))\r\n                points.push(point);\r\n            point = this.getNextPoint(point);\r\n        }\r\n        return points;\r\n    };\r\n    RecurrenceBase.prototype.getFirstPoint = function (start) {\r\n        if (this.isRecurrencePoint(start))\r\n            return start;\r\n        return this.getNextPoint(start);\r\n    };\r\n    RecurrenceBase.prototype.isRecurrencePoint = function (date) {\r\n        return this.isDateInRange(date) && this.checkDate(date) && (!this.useIntervalInCalc() || this.checkInterval(date));\r\n    };\r\n    RecurrenceBase.prototype.isDateInRange = function (date) {\r\n        if (!date)\r\n            return false;\r\n        if (this._start && DateTimeUtils_1.DateTimeUtils.compareDates(this.start, date) < 0)\r\n            return false;\r\n        if (this._occurrenceCount == 0 && this.end && DateTimeUtils_1.DateTimeUtils.compareDates(date, this.end) < 0)\r\n            return false;\r\n        return true;\r\n    };\r\n    RecurrenceBase.prototype.useIntervalInCalc = function () {\r\n        return this.interval > 1 && !!this._start;\r\n    };\r\n    RecurrenceBase.prototype.getNextPoint = function (date) {\r\n        if (!this.isDateInRange(date))\r\n            return null;\r\n        if (this.useIntervalInCalc())\r\n            return this.calculatePointByInterval(date);\r\n        return this.calculateNearestPoint(date);\r\n    };\r\n    RecurrenceBase.prototype.getSpecDayInMonth = function (year, month) {\r\n        var date;\r\n        if (this._calculateByDayOfWeek)\r\n            date = DateTimeUtils_1.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal, year, month, this.dayOfWeekOccurrenceInternal);\r\n        else\r\n            date = new Date(year, month, this.dayInternal);\r\n        return date;\r\n    };\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayInternal\", {\r\n        get: function () { return this._day; },\r\n        set: function (value) {\r\n            if (value > 0 && value <= 31)\r\n                this._day = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekInternal\", {\r\n        get: function () { return this._dayOfWeek; },\r\n        set: function (dayOfWeek) {\r\n            if (dayOfWeek >= DayOfWeek_1.DayOfWeek.Sunday && dayOfWeek <= DayOfWeek_1.DayOfWeek.Saturday)\r\n                this._dayOfWeek = dayOfWeek;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekOccurrenceInternal\", {\r\n        get: function () {\r\n            return this._dayOfWeekOccurrence;\r\n        },\r\n        set: function (value) {\r\n            if (value >= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.First && value <= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n                this._dayOfWeekOccurrence = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"monthInternal\", {\r\n        get: function () { return this._month; },\r\n        set: function (value) {\r\n            if (value >= Month_1.Month.January && value <= Month_1.Month.December)\r\n                this._month = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"start\", {\r\n        get: function () { return this._start; },\r\n        set: function (date) {\r\n            if (!date)\r\n                return;\r\n            this._start = date;\r\n            if (!!this._end && date > this._end)\r\n                this._end = date;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"end\", {\r\n        get: function () { return this._end; },\r\n        set: function (date) {\r\n            if (!date)\r\n                return;\r\n            this._end = date;\r\n            if (!!this._start && date < this._start)\r\n                this._start = date;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"occurrenceCount\", {\r\n        get: function () { return this._occurrenceCount; },\r\n        set: function (value) {\r\n            if (value < 0)\r\n                value = 0;\r\n            this._occurrenceCount = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecurrenceBase.prototype, \"interval\", {\r\n        get: function () { return this._interval; },\r\n        set: function (value) {\r\n            if (value > 0)\r\n                this._interval = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return RecurrenceBase;\r\n}(DataObject_1.DataObject));\r\nexports.RecurrenceBase = RecurrenceBase;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridLayoutCalculator = void 0;\r\nvar size_1 = __webpack_require__(28);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar Enums_1 = __webpack_require__(14);\r\nvar GridElementInfo_1 = __webpack_require__(42);\r\nvar Utils_1 = __webpack_require__(41);\r\nvar point_1 = __webpack_require__(4);\r\nvar Dependency_1 = __webpack_require__(11);\r\nvar Settings_1 = __webpack_require__(43);\r\nvar GridLayoutCalculator = (function () {\r\n    function GridLayoutCalculator() {\r\n        this.tileToDependencyMap = [];\r\n        this.tileToNoWorkingIntervalsMap = [];\r\n        this.minLineLength = 10;\r\n        this.resourceMaxWidth = 500;\r\n        this.minTaskWidth = 2;\r\n    }\r\n    GridLayoutCalculator.prototype.setSettings = function (visibleTaskAreaSize, tickSize, elementSizeValues, range, viewModel, viewType, scrollBarHeight) {\r\n        if (scrollBarHeight === void 0) { scrollBarHeight = 0; }\r\n        this.visibleTaskAreaSize = visibleTaskAreaSize;\r\n        this.tickSize = tickSize;\r\n        this.viewType = viewType;\r\n        this.range = range;\r\n        this.verticalTickCount = viewModel.itemCount;\r\n        this.viewModel = viewModel;\r\n        this.elementSizeValues = elementSizeValues;\r\n        this.taskHeight = elementSizeValues.taskHeight;\r\n        this.parentTaskHeight = elementSizeValues.parentTaskHeight;\r\n        this.milestoneWidth = elementSizeValues.milestoneWidth;\r\n        this.scaleHeight = elementSizeValues.scaleItemHeight;\r\n        this.arrowSize = new size_1.Size(elementSizeValues.connectorArrowWidth, elementSizeValues.connectorArrowWidth);\r\n        this.lineThickness = elementSizeValues.connectorLineThickness;\r\n        this.minConnectorSpaceFromTask = (this.tickSize.height - this.taskHeight) / 2;\r\n        this.tickTimeSpan = Utils_1.DateUtils.getTickTimeSpan(viewType);\r\n        this.horizontalTickCount = this.getTotalTickCount();\r\n        this.scrollBarHeight = scrollBarHeight;\r\n        this.createTileToConnectorLinesMap();\r\n        this.createTileToNonWorkingIntervalsMap();\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskAreaBorderInfo = function (index, isVertical) {\r\n        var sizeValue = isVertical ?\r\n            this.getVerticalGridLineHeight() :\r\n            this.tickSize.width * this.horizontalTickCount;\r\n        return this.getGridBorderInfo(index, isVertical, sizeValue);\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleBorderInfo = function (index, scaleType) {\r\n        var result = this.getGridBorderInfo(index, true, this.scaleHeight);\r\n        result.position.x *= this.getScaleItemColSpan(scaleType);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderInfo = function (index, isVertical, size) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.setPosition(this.getGridBorderPosition(index, isVertical));\r\n        if (size)\r\n            result.setSize(this.getGridBorderSize(isVertical, size));\r\n        result.className = isVertical ? \"dx-gantt-vb\" : \"dx-gantt-hb\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderPosition = function (index, isVertical) {\r\n        var result = new point_1.Point(undefined, undefined);\r\n        var posValue = (index + 1) * (isVertical ? this.tickSize.width : this.tickSize.height);\r\n        if (isVertical)\r\n            result.x = posValue;\r\n        else\r\n            result.y = posValue;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderSize = function (isVertical, sizeValue) {\r\n        var result = new size_1.Size(0, 0);\r\n        if (isVertical)\r\n            result.height = sizeValue;\r\n        else\r\n            result.width = sizeValue;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleElementInfo = function (index, scaleType) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.setPosition(this.getScaleItemPosition(index, scaleType));\r\n        result.setSize(this.getScaleItemSize(scaleType));\r\n        result.className = this.getScaleItemClassName(scaleType, result, this.getRenderedNoWorkingIntervals(result.position.x));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemClassName = function (scaleType, scaleItemInfo, noWorkingIntervals) {\r\n        var result = \"dx-gantt-si\";\r\n        if (scaleType.valueOf() == this.viewType.valueOf() && this.isScaleItemInsideNoWorkingInterval(scaleItemInfo, noWorkingIntervals))\r\n            result += \" dx-gantt-holiday-scaleItem\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.isScaleItemInsideNoWorkingInterval = function (scaleItemInfo, noWorkingIntervals) {\r\n        var scaleItemLeft = scaleItemInfo.position.x;\r\n        var scaleItemRight = scaleItemInfo.position.x + scaleItemInfo.size.width;\r\n        for (var i = 0; i < noWorkingIntervals.length; i++) {\r\n            var noWorkingIntervalLeft = noWorkingIntervals[i].position.x;\r\n            var noWorkingIntervalRight = noWorkingIntervals[i].position.x + noWorkingIntervals[i].size.width;\r\n            if (scaleItemLeft >= noWorkingIntervalLeft && scaleItemRight <= noWorkingIntervalRight)\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemPosition = function (index, scaleType) {\r\n        return new point_1.Point(index * this.tickSize.width * this.getScaleItemColSpan(scaleType), undefined);\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemSize = function (scaleType) {\r\n        return new size_1.Size(this.tickSize.width * this.getScaleItemColSpan(scaleType), 0);\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemColSpan = function (scaleType) {\r\n        if (scaleType.valueOf() == this.viewType.valueOf())\r\n            return 1;\r\n        if (this.viewType == Enums_1.ViewType.TenMinutes)\r\n            return 6;\r\n        if (this.viewType == Enums_1.ViewType.Hours)\r\n            return 24;\r\n        if (this.viewType == Enums_1.ViewType.SixHours)\r\n            return 4;\r\n        if (this.viewType == Enums_1.ViewType.Days)\r\n            return 7;\r\n        if (this.viewType == Enums_1.ViewType.Weeks)\r\n            return 4.29;\r\n        if (this.viewType == Enums_1.ViewType.Months)\r\n            return 12;\r\n        if (this.viewType == Enums_1.ViewType.Quarter)\r\n            return 4;\r\n        if (this.viewType == Enums_1.ViewType.Years)\r\n            return 5;\r\n        return 1;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = this.getTaskWrapperClassName(index);\r\n        result.setPosition(this.getTaskWrapperPoint(index));\r\n        result.setAttribute(\"task-index\", index);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperClassName = function (index) {\r\n        var result = \"dx-gantt-taskWrapper\";\r\n        if (this.getTask(index).isMilestone())\r\n            result = \"dx-gantt-milestoneWrapper\";\r\n        if (this.viewModel.items[index].selected)\r\n            result += \" dx-gantt-selectedTask\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperPoint = function (index) {\r\n        var height = this.getTaskHeight(index);\r\n        var y = index * this.tickSize.height + (this.tickSize.height - height) / 2;\r\n        var result = new point_1.Point(this.getPosByDate(this.getTask(index).start), y);\r\n        if (this.getTask(index).isMilestone()) {\r\n            var height_1 = this.getTaskHeight(index);\r\n            result.x -= height_1 / 2;\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskElementInfo = function (index, textOutsideTask) {\r\n        if (textOutsideTask === void 0) { textOutsideTask = false; }\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var task = this.getTask(index);\r\n        var autoCalculatedParent = this.viewModel.parentAutoCalc && this.viewModel.taskHasChildrenByIndex(index);\r\n        if (!task.isMilestone()) {\r\n            result.size.width = this.getTaskWidth(index);\r\n            if (textOutsideTask)\r\n                result.size.height = this.getTaskHeight(index);\r\n        }\r\n        result.className = this.getTaskClassName(index, result.size.width);\r\n        if (task.color) {\r\n            result.style.backgroundColor = task.color;\r\n            if (autoCalculatedParent) {\r\n                result.style.borderLeftColor = task.color;\r\n                result.style.borderRightColor = task.color;\r\n                result.style.borderTopColor = task.color;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskClassName = function (index, taskWidth) {\r\n        var result = \"dx-gantt-task\";\r\n        var task = this.getTask(index);\r\n        var autoCalculatedParent = this.viewModel.parentAutoCalc && this.viewModel.taskHasChildrenByIndex(index);\r\n        if (task.isMilestone())\r\n            result += \" dx-gantt-milestone\";\r\n        else if (taskWidth <= this.elementSizeValues.smallTaskWidth)\r\n            result += \" dx-gantt-smallTask\";\r\n        if (autoCalculatedParent)\r\n            result += this.getAutoCalcParentTaskClassName(task);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getAutoCalcParentTaskClassName = function (task) {\r\n        var result = \" dx-gantt-parent\";\r\n        if (task.progress == 0)\r\n            result += \" dx-gantt-noPrg\";\r\n        if (task.progress >= 100)\r\n            result += \" dx-gantt-cmpl\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskPoint = function (index) {\r\n        var result = this.getTaskWrapperPoint(index);\r\n        if (!this.getTask(index).isMilestone())\r\n            result.y += this.elementSizeValues.taskWrapperTopPadding;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskSize = function (index) {\r\n        return new size_1.Size(this.getTaskWidth(index), this.getTaskHeight(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWidth = function (index) {\r\n        var task = this.getTask(index);\r\n        return task.isMilestone() ? this.getTaskHeight(index) : Math.max(this.getWidthByDateRange(task.start, task.end), this.minTaskWidth);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskHeight = function (index) {\r\n        var task = this.getTask(index);\r\n        if (task.isMilestone())\r\n            return this.milestoneWidth;\r\n        if (this.viewModel.isTaskToCalculateByChildren(task.id))\r\n            return this.parentTaskHeight;\r\n        return this.taskHeight;\r\n    };\r\n    GridLayoutCalculator.prototype.getTask = function (index) {\r\n        return this.viewModel.items[index].task;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-tPrg\";\r\n        result.setSize(this.getTaskProgressSize(index));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressSize = function (index) {\r\n        return new size_1.Size(this.getTaskProgressWidth(index), 0);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressWidth = function (index) {\r\n        return this.getTaskWidth(index) * this.getTask(index).progress / 100;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTextElementInfo = function (index, isInsideText) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = this.getTaskTextElementClassName(isInsideText);\r\n        if (!isInsideText) {\r\n            var taskX = this.getTaskPoint(index).x;\r\n            if (taskX < this.elementSizeValues.outsideTaskTextDefaultWidth) {\r\n                result.size.width = taskX;\r\n                result.margins.left = -taskX;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTextElementClassName = function (isInsideText) {\r\n        var result = \"dx-gantt-taskTitle\";\r\n        result += isInsideText ? \" dx-gantt-titleIn\" : \" dx-gantt-titleOut\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskResourcesWrapperElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var width = this.getTaskSize(index).width;\r\n        result.className = \"dx-gantt-taskResWrapper\";\r\n        result.setPosition(this.getTaskWrapperPoint(index));\r\n        result.position.x = result.position.x + width;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskResourceElementInfo = function () {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-taskRes\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionElementInfo = function (index) {\r\n        return this.getRowElementInfo(index, \"dx-gantt-sel\");\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionPosition = function (index) {\r\n        var result = new point_1.Point(undefined, undefined);\r\n        result.y = index * this.tickSize.height;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionSize = function () {\r\n        return new size_1.Size(this.tickSize.width * this.horizontalTickCount, this.tickSize.height);\r\n    };\r\n    GridLayoutCalculator.prototype.getHighlightRowInfo = function (index) {\r\n        return this.getRowElementInfo(index, \"dx-gantt-altRow\");\r\n    };\r\n    GridLayoutCalculator.prototype.getRowElementInfo = function (index, className) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = className;\r\n        result.setPosition(this.getSelectionPosition(index));\r\n        result.setSize(this.getSelectionSize());\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalInfo = function (noWorkingDateRange) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-nwi\";\r\n        result.setPosition(this.getNoWorkingIntervalPosition(noWorkingDateRange.start));\r\n        result.setSize(this.getNoWorkingIntervalSize(noWorkingDateRange));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalPosition = function (intervalStart) {\r\n        var result = new point_1.Point(undefined, undefined);\r\n        result.x = this.getPosByDate(intervalStart);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalSize = function (noWorkingInterval) {\r\n        return new size_1.Size(this.getWidthByDateRange(noWorkingInterval.start, noWorkingInterval.end), this.getVerticalGridLineHeight());\r\n    };\r\n    GridLayoutCalculator.prototype.getVerticalGridLineHeight = function () {\r\n        return Math.max(this.visibleTaskAreaSize.height - this.scrollBarHeight, this.tickSize.height * this.verticalTickCount);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorInfo = function (id, predessorIndex, successorIndex, connectorType) {\r\n        var result = new Array();\r\n        var connectorPoints = this.getConnectorPoints(predessorIndex, successorIndex, connectorType);\r\n        for (var i = 0; i < connectorPoints.length - 1; i++)\r\n            result.push(this.getConnectorLineInfo(id, connectorPoints[i], connectorPoints[i + 1], i == 0 || i == connectorPoints.length - 2));\r\n        result.push(this.getArrowInfo(id, connectorPoints, result, predessorIndex, successorIndex));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorLineInfo = function (id, startPoint, endPoint, isEdgeLine) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var isVertical = startPoint.x == endPoint.x;\r\n        result.className = this.getConnectorClassName(isVertical);\r\n        result.setPosition(this.getConnectorPosition(startPoint, endPoint));\r\n        result.setSize(this.getConnectorSize(startPoint, endPoint, isVertical, isEdgeLine));\r\n        result.setAttribute(\"dependency-id\", id);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorClassName = function (isVertical) {\r\n        return isVertical ? GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL : GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPosition = function (startPoint, endPoint) {\r\n        return new point_1.Point(Math.min(startPoint.x, endPoint.x), Math.min(startPoint.y, endPoint.y));\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorSize = function (startPoint, endPoint, isVertical, isEdgeLine) {\r\n        var result = new size_1.Size(0, 0);\r\n        var sizeCorrection = isEdgeLine ? 0 : 1;\r\n        if (isVertical)\r\n            result.height = Math.abs(endPoint.y - startPoint.y) + sizeCorrection;\r\n        else\r\n            result.width = Math.abs(endPoint.x - startPoint.x) + sizeCorrection;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowInfo = function (id, connectorPoints, connectorLines, predessorIndex, successorIndex) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var lineInfo = this.findArrowLineInfo(connectorLines, predessorIndex, successorIndex);\r\n        var arrowPosition = this.getArrowPosition(connectorPoints, predessorIndex, successorIndex);\r\n        result.className = this.getArrowClassName(arrowPosition);\r\n        result.setPosition(this.getArrowPoint(lineInfo, arrowPosition));\r\n        result.setAttribute(\"dependency-id\", id);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.findArrowLineInfo = function (connectorLines, predessorIndex, successorIndex) {\r\n        var arrowLineIndex = predessorIndex < successorIndex ? connectorLines.length - 1 : 0;\r\n        return connectorLines[arrowLineIndex];\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowPosition = function (connectorPoints, predessorIndex, successorIndex) {\r\n        var prevLastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 2 : 1];\r\n        var lastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 1 : 0];\r\n        if (prevLastPoint.x == lastPoint.x)\r\n            return prevLastPoint.y > lastPoint.y ? Enums_1.Position.Top : Enums_1.Position.Bottom;\r\n        return prevLastPoint.x > lastPoint.x ? Enums_1.Position.Left : Enums_1.Position.Right;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowClassName = function (arrowPosition) {\r\n        var result = \"dx-gantt-arrow\";\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Left:\r\n                result += \" dx-gantt-LA\";\r\n                break;\r\n            case Enums_1.Position.Top:\r\n                result += \" dx-gantt-TA\";\r\n                break;\r\n            case Enums_1.Position.Right:\r\n                result += \" dx-gantt-RA\";\r\n                break;\r\n            case Enums_1.Position.Bottom:\r\n                result += \" dx-gantt-BA\";\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowPoint = function (lineInfo, arrowPosition) {\r\n        return new point_1.Point(this.getArrowX(lineInfo, arrowPosition), this.getArrowY(lineInfo, arrowPosition));\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowX = function (lineInfo, arrowPosition) {\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Left:\r\n                return lineInfo.position.x - this.arrowSize.width / 2;\r\n            case Enums_1.Position.Right:\r\n                return lineInfo.position.x + lineInfo.size.width - this.arrowSize.width / 2;\r\n            case Enums_1.Position.Top:\r\n            case Enums_1.Position.Bottom:\r\n                return lineInfo.position.x - (this.arrowSize.width - this.lineThickness) / 2;\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowY = function (lineInfo, arrowPosition) {\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Top:\r\n                return lineInfo.position.y - this.arrowSize.height / 2;\r\n            case Enums_1.Position.Bottom:\r\n                return lineInfo.position.y + lineInfo.size.height - this.arrowSize.height / 2;\r\n            case Enums_1.Position.Left:\r\n            case Enums_1.Position.Right:\r\n                return lineInfo.position.y - (this.arrowSize.height - this.lineThickness) / 2;\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getPosByDate = function (date) {\r\n        return this.getWidthByDateRange(this.range.start, date);\r\n    };\r\n    GridLayoutCalculator.prototype.getWidthByDateRange = function (start, end) {\r\n        return this.getRangeTickCount(start, end) * this.tickSize.width;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCount = function (start, end) {\r\n        if (this.viewType == Enums_1.ViewType.Months)\r\n            return this.getRangeTickCountInMonthsViewType(start, end);\r\n        if (this.viewType == Enums_1.ViewType.Quarter)\r\n            return this.getRangeTickCountInQuarterViewType(start, end);\r\n        return (end.getTime() - start.getTime()) / this.tickTimeSpan;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCountInMonthsViewType = function (start, end) {\r\n        var startMonthStartDate = new Date(start.getFullYear(), start.getMonth(), 1);\r\n        var endMonthStartDate = new Date(end.getFullYear(), end.getMonth(), 1);\r\n        var monthOffset = Utils_1.DateUtils.getOffsetInMonths(startMonthStartDate, endMonthStartDate);\r\n        var endFromMonthStartDateOffset = end.getTime() - endMonthStartDate.getTime();\r\n        var startFromMonthStartDateOffset = start.getTime() - startMonthStartDate.getTime();\r\n        return monthOffset + (endFromMonthStartDateOffset - startFromMonthStartDateOffset) / Utils_1.DateUtils.msPerMonth;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCountInQuarterViewType = function (start, end) {\r\n        var startQuarterStartDate = new Date(start.getFullYear(), Math.floor(start.getMonth() / 3) * 3, 1);\r\n        var endQuarterStartDate = new Date(end.getFullYear(), Math.floor(end.getMonth() / 3) * 3, 1);\r\n        var quarterOffset = Utils_1.DateUtils.getOffsetInQuarters(startQuarterStartDate, endQuarterStartDate);\r\n        var endFromQuarterStartDateOffset = end.getTime() - endQuarterStartDate.getTime();\r\n        var startFromQuarterStartDateOffset = start.getTime() - startQuarterStartDate.getTime();\r\n        return quarterOffset + (endFromQuarterStartDateOffset - startFromQuarterStartDateOffset) / (Utils_1.DateUtils.msPerMonth * 3);\r\n    };\r\n    GridLayoutCalculator.prototype.getDateByPos = function (position) {\r\n        var preResult = position / this.tickSize.width;\r\n        var start = new Date(this.range.start);\r\n        if (this.viewType == Enums_1.ViewType.Months || this.viewType == Enums_1.ViewType.Quarter) {\r\n            var monthFromStart = Math.floor(preResult);\r\n            start = new Date(start.setMonth(start.getMonth() + (this.viewType == Enums_1.ViewType.Months ? monthFromStart : monthFromStart * 3)));\r\n            preResult = (position - this.getPosByDate(start)) / this.tickSize.width;\r\n        }\r\n        var time = preResult * this.tickTimeSpan + start.getTime();\r\n        var result = new Date();\r\n        result.setTime(time);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTotalTickCount = function () {\r\n        return this.getRangeTickCount(this.range.start, this.range.end);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints = function (predessorIndex, successorIndex, connectorType) {\r\n        switch (connectorType) {\r\n            case Dependency_1.DependencyType.FS:\r\n                return this.getFinishToStartConnectorPoints(predessorIndex, successorIndex);\r\n            case Dependency_1.DependencyType.SF:\r\n                return this.getStartToFinishConnectorPoints(predessorIndex, successorIndex);\r\n            case Dependency_1.DependencyType.SS:\r\n                return this.getStartToStartConnectorPoints(predessorIndex, successorIndex);\r\n            case Dependency_1.DependencyType.FF:\r\n                return this.getFinishToFinishConnectorPoints(predessorIndex, successorIndex);\r\n            default:\r\n                return new Array();\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getFinishToStartConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start)\r\n                return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(predessorIndex, successorIndex, false);\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(predessorIndex, successorIndex, false);\r\n        }\r\n        if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start)\r\n            return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(successorIndex, predessorIndex, false);\r\n        return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(successorIndex, predessorIndex, true);\r\n    };\r\n    GridLayoutCalculator.prototype.getFinishToFinishConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex)\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(predessorIndex, successorIndex);\r\n        return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(successorIndex, predessorIndex);\r\n    };\r\n    GridLayoutCalculator.prototype.getStartToStartConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex)\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(predessorIndex, successorIndex);\r\n        return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(successorIndex, predessorIndex);\r\n    };\r\n    GridLayoutCalculator.prototype.getStartToFinishConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end)\r\n                return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(predessorIndex, successorIndex, true);\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(predessorIndex, successorIndex, false);\r\n        }\r\n        if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end)\r\n            return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\r\n        return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new point_1.Point(Math.floor(topTaskRightCenter.x), Math.floor(topTaskRightCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent), Math.floor(result[0].y)));\r\n        result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskTopCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new point_1.Point(Math.floor(topTaskRightCenter.x), Math.floor(topTaskRightCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(Math.max(topTaskRightCenter.x, bottomTaskRightCenter.x) + this.minLineLength), Math.floor(result[0].y)));\r\n        result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskRightCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x), Math.floor(bottomTaskRightCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new point_1.Point(Math.floor(topTaskRightCenter.x), Math.floor(topTaskRightCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(result[0].x + this.minLineLength), Math.floor(result[0].y)));\r\n        result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(shiftToTop ?\r\n            topTaskBottomCenter.y + this.minConnectorSpaceFromTask\r\n            : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x - this.minLineLength), Math.floor(result[2].y)));\r\n        result.push(new point_1.Point(Math.floor(result[3].x), Math.floor(bottomTaskLeftCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x), Math.floor(bottomTaskLeftCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new point_1.Point(Math.floor(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent), Math.floor(topTaskBottomCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(result[0].x), Math.floor(bottomTaskRightCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x), Math.floor(bottomTaskRightCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new point_1.Point(Math.floor(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent), Math.floor(topTaskBottomCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(result[0].x), Math.floor(bottomTaskLeftCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x), Math.floor(bottomTaskLeftCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\r\n        var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new point_1.Point(Math.floor(topTaskLeftCenter.x), Math.floor(topTaskLeftCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent), Math.floor(result[0].y)));\r\n        result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskTopCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new point_1.Point(Math.floor(topTaskLeftCenter.x), topTaskLeftCenter.y));\r\n        result.push(new point_1.Point(Math.floor(result[0].x - this.minLineLength), result[0].y));\r\n        result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(shiftToTop ?\r\n            topTaskBottomCenter.y + this.minConnectorSpaceFromTask\r\n            : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x + this.minLineLength), Math.floor(result[2].y)));\r\n        result.push(new point_1.Point(Math.floor(result[3].x), Math.floor(bottomTaskRightCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskRightCenter.x), Math.floor(bottomTaskRightCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new point_1.Point(Math.floor(topTaskLeftCenter.x), Math.floor(topTaskLeftCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(Math.min(topTaskLeftCenter.x, bottomTaskLeftCenter.x) - this.minLineLength), Math.floor(result[0].y)));\r\n        result.push(new point_1.Point(Math.floor(result[1].x), Math.floor(bottomTaskLeftCenter.y)));\r\n        result.push(new point_1.Point(Math.floor(bottomTaskLeftCenter.x), Math.floor(bottomTaskLeftCenter.y)));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskLeftCenter = function (taskPoint, index) {\r\n        return new point_1.Point(taskPoint.x - this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskRightCenter = function (taskPoint, index) {\r\n        return new point_1.Point(taskPoint.x + this.getTaskWidth(index) + this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTopCenter = function (taskPoint, index) {\r\n        return new point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y - this.getTaskEdgeCorrection(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskBottomCenter = function (taskPoint, index) {\r\n        return new point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y + this.getTaskHeight(index) + this.getTaskEdgeCorrection(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskEdgeCorrection = function (index) {\r\n        var isMilestone = this.viewModel.items[index].task.isMilestone();\r\n        return isMilestone ? this.getTaskHeight(index) * (Math.sqrt(2) - 1) / 2 : 0;\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedRowColumnIndices = function (scrollPos, isVertical) {\r\n        var visibleAreaSizeValue = isVertical ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\r\n        var tickSizeValue = isVertical ? this.tickSize.height : this.tickSize.width;\r\n        var tickCount = isVertical ? this.verticalTickCount : this.horizontalTickCount;\r\n        var firstVisibleIndex = this.getFirstVisibleGridCellIndex(scrollPos, tickSizeValue);\r\n        var lastVisibleIndex = this.getLastVisibleGridCellIndex(scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount);\r\n        var result = new Array();\r\n        for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++)\r\n            result.push(i);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedScaleItemIndices = function (scaleType, renderedColIndices) {\r\n        var scaleItemColSpan = this.getScaleItemColSpan(scaleType);\r\n        var firstVisibleIndex = Math.floor(renderedColIndices[0] / scaleItemColSpan);\r\n        var lastVisibleIndex = Math.floor(renderedColIndices[renderedColIndices.length - 1] / scaleItemColSpan);\r\n        var result = new Array();\r\n        for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++)\r\n            result.push(i);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getFirstVisibleGridCellIndex = function (scrollPos, tickSizeValue) {\r\n        var result = Math.floor(scrollPos / tickSizeValue);\r\n        result = Math.max(result - 10, 0);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getLastVisibleGridCellIndex = function (scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount) {\r\n        var result = Math.floor((scrollPos + visibleAreaSizeValue) / tickSizeValue);\r\n        result = Math.min(result + 10, tickCount - 1);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.createTileToConnectorLinesMap = function () {\r\n        this.tileToDependencyMap = [];\r\n        for (var i = 0; i < this.viewModel.items.length; i++)\r\n            for (var j = 0; j < this.viewModel.items[i].dependencies.length; j++)\r\n                this.createConnecotInfo(this.viewModel.items[i].dependencies[j], this.viewModel.items[i].visibleIndex);\r\n    };\r\n    GridLayoutCalculator.prototype.updateTileToConnectorLinesMap = function (dependencyId) {\r\n        this.tileToDependencyMap.forEach(function (map, index, tileToDependencyMap) {\r\n            tileToDependencyMap[index] = map.filter(function (info) { return info.attr[\"dependency-id\"] != dependencyId; });\r\n        });\r\n        var result = [];\r\n        var item = this.viewModel.items.filter(function (item) { return item.dependencies.filter(function (d) { return d.id == dependencyId; }).length > 0; })[0];\r\n        if (item) {\r\n            var dependency = item.dependencies.filter(function (d) { return d.id === dependencyId; })[0];\r\n            result = this.createConnecotInfo(dependency, item.visibleIndex);\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.createConnecotInfo = function (dependencyInfo, successorIndex) {\r\n        var _this = this;\r\n        var predessorIndex = dependencyInfo.predecessor.visibleIndex;\r\n        var type = dependencyInfo.type;\r\n        var id = dependencyInfo.id;\r\n        var connectorInfo = this.getConnectorInfo(id, predessorIndex, successorIndex, type);\r\n        connectorInfo.forEach(function (connectorLine) {\r\n            _this.addElementInfoToTileMap(connectorLine, _this.tileToDependencyMap, true);\r\n        });\r\n        return connectorInfo;\r\n    };\r\n    GridLayoutCalculator.prototype.createTileToNonWorkingIntervalsMap = function () {\r\n        this.tileToNoWorkingIntervalsMap = [];\r\n        for (var i = 0; i < this.viewModel.noWorkingIntervals.length; i++) {\r\n            var noWorkingDateRange = this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[i]);\r\n            if (!noWorkingDateRange)\r\n                continue;\r\n            var noWorkingIntervalInfo = this.getNoWorkingIntervalInfo(noWorkingDateRange);\r\n            this.addElementInfoToTileMap(noWorkingIntervalInfo, this.tileToNoWorkingIntervalsMap, false);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getAdjustedNoWorkingInterval = function (modelInterval) {\r\n        if (modelInterval.end.getTime() - modelInterval.start.getTime() < this.tickTimeSpan - 1)\r\n            return null;\r\n        return new DateRange_1.DateRange(Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.start, this.range, this.tickTimeSpan, this.viewType), Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.end, this.range, this.tickTimeSpan, this.viewType));\r\n    };\r\n    GridLayoutCalculator.prototype.addElementInfoToTileMap = function (info, map, isVerticalTile) {\r\n        var infoPointValue = isVerticalTile ? info.position.y : info.position.x;\r\n        var infoSizeValue = isVerticalTile ? info.size.height : info.size.width;\r\n        var tileSizeValue = (isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width) * 2;\r\n        var firstTileIndex = Math.floor(infoPointValue / tileSizeValue);\r\n        var lastTileIndex = Math.floor((infoPointValue + infoSizeValue) / tileSizeValue);\r\n        for (var i = firstTileIndex; i <= lastTileIndex; i++) {\r\n            if (!map[i])\r\n                map[i] = new Array();\r\n            map[i].push(info);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedConnectorLines = function (scrollPos) {\r\n        return this.getElementsInRenderedTiles(this.tileToDependencyMap, true, scrollPos);\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedNoWorkingIntervals = function (scrollPos) {\r\n        return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap, false, scrollPos);\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedStripLines = function (settings) {\r\n        var result = new Array();\r\n        var stripLines = settings.stripLines.map(function (t) { return t.clone(); });\r\n        if (settings.showCurrentTime)\r\n            stripLines.push(new Settings_1.StripLine(new Date(), null, settings.currentTimeTitle, settings.currentTimeCssClass, true));\r\n        for (var i = 0, stripLine = void 0; stripLine = stripLines[i]; i++) {\r\n            var start = Utils_1.DateUtils.parse(stripLine.start);\r\n            var end = stripLine.end ? Utils_1.DateUtils.parse(stripLine.end) : null;\r\n            if (start >= this.range.start && start <= this.range.end || (end && end >= this.range.start && end <= this.range.end)) {\r\n                var renderedStart = start > this.range.start ? start : this.range.start;\r\n                var info = new GridElementInfo_1.GridElementInfo();\r\n                info.size.height = this.getVerticalGridLineHeight();\r\n                info.position.x = this.getPosByDate(renderedStart);\r\n                info.size.width = end ? this.getWidthByDateRange(renderedStart, end < this.range.end ? end : this.range.end) : 0;\r\n                info.className = stripLine.isCurrent ? \"dx-gantt-tc\" : end ? \"dx-gantt-ti\" : \"dx-gantt-tm\";\r\n                info.className += stripLine.cssClass ? \" \" + stripLine.cssClass : \"\";\r\n                info.attr.title = stripLine.title;\r\n                result.push(info);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getElementsInRenderedTiles = function (map, isVerticalTile, scrollPos) {\r\n        var result = new Array();\r\n        var visibleAreaSizeValue = isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\r\n        if (visibleAreaSizeValue > 0) {\r\n            var firstVisibleTileIndex = Math.floor(scrollPos / (visibleAreaSizeValue * 2));\r\n            var lastVisibleTileIndex = Math.floor((scrollPos + visibleAreaSizeValue) / (visibleAreaSizeValue * 2));\r\n            for (var i = firstVisibleTileIndex; i <= lastVisibleTileIndex; i++) {\r\n                if (!map[i])\r\n                    continue;\r\n                map[i].forEach(function (info) {\r\n                    if (result.indexOf(info) == -1)\r\n                        result.push(info);\r\n                });\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.CLASSNAMES = {\r\n        CONNECTOR_VERTICAL: \"dx-gantt-conn-v\",\r\n        CONNECTOR_HORIZONTAL: \"dx-gantt-conn-h\"\r\n    };\r\n    return GridLayoutCalculator;\r\n}());\r\nexports.GridLayoutCalculator = GridLayoutCalculator;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskPropertyManipulator = exports.TaskPropertiesManipulator = exports.BaseManipulator = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItemState_1 = __webpack_require__(45);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar BaseManipulator = (function () {\r\n    function BaseManipulator(viewModel, dispatcher) {\r\n        this.viewModel = viewModel;\r\n        this.dispatcher = dispatcher;\r\n    }\r\n    BaseManipulator.prototype.getErrorCallback = function () {\r\n        return this.viewModel.getDataUpdateErrorCallback();\r\n    };\r\n    return BaseManipulator;\r\n}());\r\nexports.BaseManipulator = BaseManipulator;\r\nvar TaskPropertiesManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskPropertiesManipulator, _super);\r\n    function TaskPropertiesManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.title = new TaskTitleManipulator(viewModel, dispatcher);\r\n        _this.description = new TaskDescriptionManipulator(viewModel, dispatcher);\r\n        _this.progress = new TaskProgressManipulator(viewModel, dispatcher);\r\n        _this.start = new TaskStartDateManipulator(viewModel, dispatcher);\r\n        _this.end = new TaskEndDateManipulator(viewModel, dispatcher);\r\n        _this.move = new TaskMoveManipulator(viewModel, dispatcher);\r\n        _this.color = new TaskColorManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    return TaskPropertiesManipulator;\r\n}(BaseManipulator));\r\nexports.TaskPropertiesManipulator = TaskPropertiesManipulator;\r\nvar TaskPropertyManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskPropertyManipulator, _super);\r\n    function TaskPropertyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyManipulator.prototype.setValue = function (id, newValue) {\r\n        var task = this.viewModel.tasks.getItemById(id);\r\n        var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(task));\r\n        this.setPropertyValue(task, newValue);\r\n        var viewItem = this.viewModel.findItem(id);\r\n        if (viewItem)\r\n            this.viewModel.owner.recreateTaskElement(viewItem.visibleIndex);\r\n        return oldState;\r\n    };\r\n    TaskPropertyManipulator.prototype.restoreValue = function (state) {\r\n        if (!state)\r\n            return;\r\n        var task = this.viewModel.tasks.getItemById(state.id);\r\n        this.setPropertyValue(task, state.value);\r\n        var viewItem = this.viewModel.findItem(state.id);\r\n        if (viewItem)\r\n            this.viewModel.owner.recreateTaskElement(viewItem.visibleIndex);\r\n    };\r\n    return TaskPropertyManipulator;\r\n}(BaseManipulator));\r\nexports.TaskPropertyManipulator = TaskPropertyManipulator;\r\nvar TaskTitleManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskTitleManipulator, _super);\r\n    function TaskTitleManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.title;\r\n    };\r\n    TaskTitleManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.title = value;\r\n        this.dispatcher.notifyTaskTitleChanged(task.id, value, this.getErrorCallback());\r\n    };\r\n    return TaskTitleManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskDescriptionManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskDescriptionManipulator, _super);\r\n    function TaskDescriptionManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.description;\r\n    };\r\n    TaskDescriptionManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.description = value;\r\n        this.dispatcher.notifyTaskDescriptionChanged(task.id, value, this.getErrorCallback());\r\n    };\r\n    return TaskDescriptionManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskProgressManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskProgressManipulator, _super);\r\n    function TaskProgressManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.progress;\r\n    };\r\n    TaskProgressManipulator.prototype.setPropertyValue = function (task, value) {\r\n        value = value < 0 ? 0 : value > 100 ? 100 : value;\r\n        task.progress = value;\r\n        this.dispatcher.notifyTaskProgressChanged(task.id, value, this.getErrorCallback());\r\n    };\r\n    return TaskProgressManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskStartDateManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskStartDateManipulator, _super);\r\n    function TaskStartDateManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartDateManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.start;\r\n    };\r\n    TaskStartDateManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.start = value;\r\n        this.dispatcher.notifyTaskStartChanged(task.id, value, this.getErrorCallback());\r\n    };\r\n    return TaskStartDateManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskEndDateManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskEndDateManipulator, _super);\r\n    function TaskEndDateManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndDateManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.end;\r\n    };\r\n    TaskEndDateManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.end = value;\r\n        this.dispatcher.notifyTaskEndChanged(task.id, value, this.getErrorCallback());\r\n    };\r\n    return TaskEndDateManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskMoveManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskMoveManipulator, _super);\r\n    function TaskMoveManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskMoveManipulator.prototype.getPropertyValue = function (task) {\r\n        return new DateRange_1.DateRange(task.start, task.end);\r\n    };\r\n    TaskMoveManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.start = value.start;\r\n        task.end = value.end;\r\n        this.dispatcher.notifyTaskStartChanged(task.id, value.start, this.getErrorCallback());\r\n        this.dispatcher.notifyTaskEndChanged(task.id, value.end, this.getErrorCallback());\r\n    };\r\n    return TaskMoveManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskColorManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskColorManipulator, _super);\r\n    function TaskColorManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskColorManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.color;\r\n    };\r\n    TaskColorManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.color = value;\r\n        this.dispatcher.notifyTaskColorChanged(task.id, value, this.getErrorCallback());\r\n    };\r\n    return TaskColorManipulator;\r\n}(TaskPropertyManipulator));\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HandlerStateBase = void 0;\r\nvar point_1 = __webpack_require__(4);\r\nvar dom_1 = __webpack_require__(3);\r\nvar HandlerStateBase = (function () {\r\n    function HandlerStateBase(handler) {\r\n        this.handler = handler;\r\n    }\r\n    HandlerStateBase.prototype.start = function () { };\r\n    HandlerStateBase.prototype.finish = function () { };\r\n    HandlerStateBase.prototype.getRelativePos = function (absolutePos) {\r\n        var taskAreaX = dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskArea);\r\n        var taskAreaY = dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\r\n        return new point_1.Point(absolutePos.x - taskAreaX, absolutePos.y - taskAreaY);\r\n    };\r\n    return HandlerStateBase;\r\n}());\r\nexports.HandlerStateBase = HandlerStateBase;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseArguments = void 0;\r\nvar BaseArguments = (function () {\r\n    function BaseArguments(key) {\r\n        this.cancel = false;\r\n        this.values = {};\r\n        this.key = key;\r\n    }\r\n    return BaseArguments;\r\n}());\r\nexports.BaseArguments = BaseArguments;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemoveDependencyHistoryItem = exports.InsertDependencyHistoryItem = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItem_1 = __webpack_require__(12);\r\nvar InsertDependencyHistoryItem = (function (_super) {\r\n    tslib_1.__extends(InsertDependencyHistoryItem, _super);\r\n    function InsertDependencyHistoryItem(modelManipulator, predecessorId, successorId, type) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.predecessorId = predecessorId;\r\n        _this.successorId = successorId;\r\n        _this.type = type;\r\n        return _this;\r\n    }\r\n    InsertDependencyHistoryItem.prototype.redo = function () {\r\n        this.dependency = this.modelManipulator.dependency.insertDependency(this.predecessorId, this.successorId, this.type, this.dependency ? this.dependency.internalId : null);\r\n    };\r\n    InsertDependencyHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.dependency.removeDependency(this.dependency.internalId);\r\n    };\r\n    return InsertDependencyHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.InsertDependencyHistoryItem = InsertDependencyHistoryItem;\r\nvar RemoveDependencyHistoryItem = (function (_super) {\r\n    tslib_1.__extends(RemoveDependencyHistoryItem, _super);\r\n    function RemoveDependencyHistoryItem(modelManipulator, dependencyId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.dependencyId = dependencyId;\r\n        return _this;\r\n    }\r\n    RemoveDependencyHistoryItem.prototype.redo = function () {\r\n        this.dependency = this.modelManipulator.dependency.removeDependency(this.dependencyId);\r\n    };\r\n    RemoveDependencyHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId, this.dependency.successorId, this.dependency.type, this.dependencyId);\r\n    };\r\n    return RemoveDependencyHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveDependencyHistoryItem = RemoveDependencyHistoryItem;\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeassignResourceHistoryItem = exports.AssignResourceHistoryItem = exports.RemoveResourceHistoryItem = exports.CreateResourceHistoryItem = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItem_1 = __webpack_require__(12);\r\nvar CreateResourceHistoryItem = (function (_super) {\r\n    tslib_1.__extends(CreateResourceHistoryItem, _super);\r\n    function CreateResourceHistoryItem(modelManipulator, text, color, callback) {\r\n        if (color === void 0) { color = \"\"; }\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.text = text;\r\n        _this.color = color;\r\n        _this.createCallback = callback;\r\n        return _this;\r\n    }\r\n    CreateResourceHistoryItem.prototype.redo = function () {\r\n        this.resource = this.modelManipulator.resource.create(this.text, this.color, this.resource ? this.resource.internalId : null, this.createCallback);\r\n    };\r\n    CreateResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.remove(this.resource.internalId);\r\n    };\r\n    return CreateResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.CreateResourceHistoryItem = CreateResourceHistoryItem;\r\nvar RemoveResourceHistoryItem = (function (_super) {\r\n    tslib_1.__extends(RemoveResourceHistoryItem, _super);\r\n    function RemoveResourceHistoryItem(modelManipulator, resourceId) {\r\n        var _this = _super.call(this) || this;\r\n        _this.modelManipulator = modelManipulator;\r\n        _this.resourceId = resourceId;\r\n        return _this;\r\n    }\r\n    RemoveResourceHistoryItem.prototype.redo = function () {\r\n        _super.prototype.redo.call(this);\r\n        this.resource = this.modelManipulator.resource.remove(this.resourceId);\r\n    };\r\n    RemoveResourceHistoryItem.prototype.undo = function () {\r\n        var _this = this;\r\n        this.modelManipulator.resource.create(this.resource.text, this.resource.color, this.resourceId, function () {\r\n            if (_this.resource.color)\r\n                _this.modelManipulator.resource.properties.color.setValue(_this.resource.internalId, _this.resource.color);\r\n            _super.prototype.undo.call(_this);\r\n        });\r\n    };\r\n    RemoveResourceHistoryItem.prototype.undoItemsQuery = function () {\r\n        this.modelManipulator.resource.create(this.resource.text, this.resource.color, this.resourceId, function () { });\r\n        if (this.resource.color)\r\n            this.modelManipulator.resource.properties.color.setValue(this.resource.internalId, this.resource.color);\r\n        _super.prototype.undo.call(this);\r\n    };\r\n    return RemoveResourceHistoryItem;\r\n}(HistoryItem_1.CompositionHistoryItem));\r\nexports.RemoveResourceHistoryItem = RemoveResourceHistoryItem;\r\nvar AssignResourceHistoryItem = (function (_super) {\r\n    tslib_1.__extends(AssignResourceHistoryItem, _super);\r\n    function AssignResourceHistoryItem(modelManipulator, resourceId, taskId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.resourceId = resourceId;\r\n        _this.taskId = taskId;\r\n        return _this;\r\n    }\r\n    AssignResourceHistoryItem.prototype.redo = function () {\r\n        this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);\r\n    };\r\n    AssignResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.deassig(this.assignment.internalId);\r\n    };\r\n    return AssignResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.AssignResourceHistoryItem = AssignResourceHistoryItem;\r\nvar DeassignResourceHistoryItem = (function (_super) {\r\n    tslib_1.__extends(DeassignResourceHistoryItem, _super);\r\n    function DeassignResourceHistoryItem(modelManipulator, assignmentId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.assignmentId = assignmentId;\r\n        return _this;\r\n    }\r\n    DeassignResourceHistoryItem.prototype.redo = function () {\r\n        this.assignment = this.modelManipulator.resource.deassig(this.assignmentId);\r\n    };\r\n    DeassignResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.assign(this.assignment.resourceId, this.assignment.taskId, this.assignmentId);\r\n    };\r\n    return DeassignResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.DeassignResourceHistoryItem = DeassignResourceHistoryItem;\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConfirmationDialogParameters = exports.ConfirmationDialog = exports.ConfirmationType = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DialogBase_1 = __webpack_require__(24);\r\nvar ConfirmationType;\r\n(function (ConfirmationType) {\r\n    ConfirmationType[ConfirmationType[\"TaskDelete\"] = 0] = \"TaskDelete\";\r\n    ConfirmationType[ConfirmationType[\"DependencyDelete\"] = 1] = \"DependencyDelete\";\r\n    ConfirmationType[ConfirmationType[\"ResourcesDelete\"] = 2] = \"ResourcesDelete\";\r\n})(ConfirmationType = exports.ConfirmationType || (exports.ConfirmationType = {}));\r\nvar ConfirmationDialog = (function (_super) {\r\n    tslib_1.__extends(ConfirmationDialog, _super);\r\n    function ConfirmationDialog() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConfirmationDialog.prototype.applyParameters = function (_newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        oldParameters.callback();\r\n        this.history.endTransaction();\r\n        this.control.barManager.updateItemsState([]);\r\n        return true;\r\n    };\r\n    ConfirmationDialog.prototype.createParameters = function (options) {\r\n        return options;\r\n    };\r\n    ConfirmationDialog.prototype.getDialogName = function () {\r\n        return \"Confirmation\";\r\n    };\r\n    return ConfirmationDialog;\r\n}(DialogBase_1.DialogBase));\r\nexports.ConfirmationDialog = ConfirmationDialog;\r\nvar ConfirmationDialogParameters = (function (_super) {\r\n    tslib_1.__extends(ConfirmationDialogParameters, _super);\r\n    function ConfirmationDialogParameters(type, callback) {\r\n        var _this = _super.call(this) || this;\r\n        _this.type = type;\r\n        _this.callback = callback;\r\n        return _this;\r\n    }\r\n    ConfirmationDialogParameters.prototype.clone = function () {\r\n        var result = new ConfirmationDialogParameters(this.type, this.callback);\r\n        result.message = this.message;\r\n        return result;\r\n    };\r\n    return ConfirmationDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ConfirmationDialogParameters = ConfirmationDialogParameters;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DialogParametersBase = exports.DialogBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar DialogBase = (function (_super) {\r\n    tslib_1.__extends(DialogBase, _super);\r\n    function DialogBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DialogBase.prototype.executeInternal = function (options) {\r\n        var _this = this;\r\n        var params = this.createParameters(options);\r\n        var initParams = params.clone();\r\n        if (!this.onBeforeDialogShow(params))\r\n            return false;\r\n        this.control.ganttOwner.showDialog(this.getDialogName(), params, function (result) {\r\n            if (result)\r\n                _this.applyParameters(result, initParams);\r\n        }, function () {\r\n            _this.afterClosing();\r\n        });\r\n        return true;\r\n    };\r\n    DialogBase.prototype.onBeforeDialogShow = function (params) {\r\n        return true;\r\n    };\r\n    DialogBase.prototype.applyParameters = function (_newParameters, _oldParameters) {\r\n        return false;\r\n    };\r\n    DialogBase.prototype.afterClosing = function () { };\r\n    DialogBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return DialogBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.DialogBase = DialogBase;\r\nvar DialogParametersBase = (function () {\r\n    function DialogParametersBase() {\r\n    }\r\n    return DialogParametersBase;\r\n}());\r\nexports.DialogParametersBase = DialogParametersBase;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskColorHistoryItem = exports.TaskMoveHistoryItem = exports.TaskEndHistoryItem = exports.TaskStartHistoryItem = exports.TaskProgressHistoryItem = exports.TaskDescriptionHistoryItem = exports.TaskTitleHistoryItem = exports.TaskPropertiesHistoryItemBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItem_1 = __webpack_require__(12);\r\nvar TaskPropertiesHistoryItemBase = (function (_super) {\r\n    tslib_1.__extends(TaskPropertiesHistoryItemBase, _super);\r\n    function TaskPropertiesHistoryItemBase(modelManipulator, taskId, newValue) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.taskId = taskId;\r\n        _this.newValue = newValue;\r\n        return _this;\r\n    }\r\n    TaskPropertiesHistoryItemBase.prototype.redo = function () {\r\n        this.oldState = this.getPropertiesManipulator().setValue(this.taskId, this.newValue);\r\n    };\r\n    TaskPropertiesHistoryItemBase.prototype.undo = function () {\r\n        this.getPropertiesManipulator().restoreValue(this.oldState);\r\n    };\r\n    TaskPropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\r\n        throw new Error(\"Not Implemented\");\r\n    };\r\n    return TaskPropertiesHistoryItemBase;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.TaskPropertiesHistoryItemBase = TaskPropertiesHistoryItemBase;\r\nvar TaskTitleHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskTitleHistoryItem, _super);\r\n    function TaskTitleHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.title;\r\n    };\r\n    return TaskTitleHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskTitleHistoryItem = TaskTitleHistoryItem;\r\nvar TaskDescriptionHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskDescriptionHistoryItem, _super);\r\n    function TaskDescriptionHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.description;\r\n    };\r\n    return TaskDescriptionHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskDescriptionHistoryItem = TaskDescriptionHistoryItem;\r\nvar TaskProgressHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskProgressHistoryItem, _super);\r\n    function TaskProgressHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.progress;\r\n    };\r\n    return TaskProgressHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskProgressHistoryItem = TaskProgressHistoryItem;\r\nvar TaskStartHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskStartHistoryItem, _super);\r\n    function TaskStartHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.start;\r\n    };\r\n    return TaskStartHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskStartHistoryItem = TaskStartHistoryItem;\r\nvar TaskEndHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskEndHistoryItem, _super);\r\n    function TaskEndHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.end;\r\n    };\r\n    return TaskEndHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskEndHistoryItem = TaskEndHistoryItem;\r\nvar TaskMoveHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskMoveHistoryItem, _super);\r\n    function TaskMoveHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskMoveHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.move;\r\n    };\r\n    return TaskMoveHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskMoveHistoryItem = TaskMoveHistoryItem;\r\nvar TaskColorHistoryItem = (function (_super) {\r\n    tslib_1.__extends(TaskColorHistoryItem, _super);\r\n    function TaskColorHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskColorHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.color;\r\n    };\r\n    return TaskColorHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskColorHistoryItem = TaskColorHistoryItem;\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceCollection = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CollectionBase_1 = __webpack_require__(13);\r\nvar Resource_1 = __webpack_require__(33);\r\nvar ResourceCollection = (function (_super) {\r\n    tslib_1.__extends(ResourceCollection, _super);\r\n    function ResourceCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceCollection.prototype.createItem = function () { return new Resource_1.Resource(); };\r\n    return ResourceCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.ResourceCollection = ResourceCollection;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StringUtils = (function () {\r\n    function StringUtils() {\r\n    }\r\n    StringUtils.isAlpha = function (ch) {\r\n        return (ch >= 'a' && ch <= 'z') || (ch >= 'A' && ch <= 'Z');\r\n    };\r\n    StringUtils.isDigit = function (ch) {\r\n        return ch >= '0' && ch <= '9';\r\n    };\r\n    StringUtils.stringHashCode = function (str) {\r\n        var hash = 0;\r\n        if (str.length === 0)\r\n            return hash;\r\n        var strLen = str.length;\r\n        for (var i = 0; i < strLen; i++) {\r\n            hash = ((hash << 5) - hash) + str.charCodeAt(i);\r\n            hash |= 0;\r\n        }\r\n        return hash;\r\n    };\r\n    StringUtils.endsAt = function (str, template) {\r\n        var strInd = str.length - 1;\r\n        var tmplInd = template.length - 1;\r\n        var strStartInd = strInd - tmplInd;\r\n        if (strStartInd < 0)\r\n            return false;\r\n        for (; strInd >= strStartInd; strInd--, tmplInd--) {\r\n            if (str[strInd] !== template[tmplInd])\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    StringUtils.startsAt = function (str, template) {\r\n        return str.substr(0, template.length) === template;\r\n    };\r\n    StringUtils.stringInLowerCase = function (str) {\r\n        return str.toLowerCase() === str;\r\n    };\r\n    StringUtils.stringInUpperCase = function (str) {\r\n        return str.toUpperCase() === str;\r\n    };\r\n    StringUtils.atLeastOneSymbolInUpperCase = function (str) {\r\n        for (var i = 0, char = void 0; char = str[i]; i++) {\r\n            if (StringUtils.stringInUpperCase(char) && !StringUtils.stringInLowerCase(char))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    StringUtils.getSymbolFromEnd = function (text, posFromEnd) {\r\n        return text[text.length - posFromEnd];\r\n    };\r\n    StringUtils.trim = function (str, trimChars) {\r\n        if (trimChars === undefined)\r\n            return StringUtils.trimInternal(str, true, true);\r\n        else {\r\n            var joinedChars = trimChars.join('');\r\n            return str.replace(new RegExp(\"(^[\" + joinedChars + \"]*)|([\" + joinedChars + \"]*$)\", 'g'), '');\r\n        }\r\n    };\r\n    StringUtils.trimStart = function (str, trimChars) {\r\n        if (trimChars === undefined)\r\n            return StringUtils.trimInternal(str, true, false);\r\n        else {\r\n            var joinedChars = trimChars.join('');\r\n            return str.replace(new RegExp(\"^[\" + joinedChars + \"]*\", 'g'), '');\r\n        }\r\n    };\r\n    StringUtils.trimEnd = function (str, trimChars) {\r\n        if (trimChars === undefined)\r\n            return StringUtils.trimInternal(str, false, true);\r\n        else {\r\n            var joinedChars = trimChars.join('');\r\n            return str.replace(new RegExp(\"[\" + joinedChars + \"]*$\", 'g'), '');\r\n        }\r\n    };\r\n    StringUtils.getDecimalSeparator = function () {\r\n        return (1.1).toLocaleString().substr(1, 1);\r\n    };\r\n    StringUtils.repeat = function (str, count) {\r\n        return new Array(count <= 0 ? 0 : count + 1).join(str);\r\n    };\r\n    StringUtils.isNullOrEmpty = function (str) {\r\n        return !str || !str.length;\r\n    };\r\n    StringUtils.padLeft = function (str, totalWidth, paddingChar) {\r\n        return StringUtils.repeat(paddingChar, Math.max(0, totalWidth - str.length)) + str;\r\n    };\r\n    StringUtils.trimInternal = function (source, trimStart, trimEnd) {\r\n        var len = source.length;\r\n        if (!len)\r\n            return source;\r\n        if (len < 0xBABA1) {\r\n            var result = source;\r\n            if (trimStart)\r\n                result = result.replace(/^\\s+/, '');\r\n            if (trimEnd)\r\n                result = result.replace(/\\s+$/, '');\r\n            return result;\r\n        }\r\n        else {\r\n            var start = 0;\r\n            if (trimEnd) {\r\n                while (len > 0 && /\\s/.test(source[len - 1]))\r\n                    len--;\r\n            }\r\n            if (trimStart && len > 0) {\r\n                while (start < len && /\\s/.test(source[start]))\r\n                    start++;\r\n            }\r\n            return source.substring(start, len);\r\n        }\r\n    };\r\n    return StringUtils;\r\n}());\r\nexports.StringUtils = StringUtils;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Size = (function () {\r\n    function Size(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    Size.empty = function () {\r\n        return new Size(0, 0);\r\n    };\r\n    Size.fromNumber = function (num) {\r\n        return new Size(num, num);\r\n    };\r\n    Size.initByCommonAction = function (action) {\r\n        var widthAdp = function (s) { return s.width; };\r\n        var heightAdp = function (s) { return s.height; };\r\n        return new Size(action(widthAdp, heightAdp), action(heightAdp, widthAdp));\r\n    };\r\n    Size.prototype.isEmpty = function () {\r\n        return this.width === 0 && this.height === 0;\r\n    };\r\n    Size.prototype.toString = function () {\r\n        return JSON.stringify(this);\r\n    };\r\n    Size.prototype.nonNegativeSize = function () {\r\n        if (this.width < 0)\r\n            this.width = 0;\r\n        if (this.height < 0)\r\n            this.height = 0;\r\n        return this;\r\n    };\r\n    Size.prototype.offset = function (offsetWidth, offsetHeight) {\r\n        this.width = this.width + offsetWidth;\r\n        this.height = this.height + offsetHeight;\r\n        return this;\r\n    };\r\n    Size.prototype.multiply = function (multiplierW, multiplierH) {\r\n        this.width *= multiplierW;\r\n        this.height *= multiplierH;\r\n        return this;\r\n    };\r\n    Size.prototype.equals = function (obj) {\r\n        return this.width === obj.width && this.height === obj.height;\r\n    };\r\n    Size.prototype.clone = function () {\r\n        return new Size(this.width, this.height);\r\n    };\r\n    Size.prototype.copyFrom = function (obj) {\r\n        this.width = obj.width;\r\n        this.height = obj.height;\r\n    };\r\n    Size.prototype.applyConverter = function (conv) {\r\n        this.width = conv(this.width);\r\n        this.height = conv(this.height);\r\n        return this;\r\n    };\r\n    Size.equals = function (a, b) {\r\n        return a.width === b.width && a.height === b.height;\r\n    };\r\n    return Size;\r\n}());\r\nexports.Size = Size;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandlerStateBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HandlerStateBase_1 = __webpack_require__(19);\r\nvar MouseHandlerStateBase = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerStateBase, _super);\r\n    function MouseHandlerStateBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerStateBase.prototype.onMouseDoubleClick = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseDown = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseUp = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseMove = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseWheel = function (_evt) { };\r\n    return MouseHandlerStateBase;\r\n}(HandlerStateBase_1.HandlerStateBase));\r\nexports.MouseHandlerStateBase = MouseHandlerStateBase;\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandlerDragBaseState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar point_1 = __webpack_require__(4);\r\nvar evt_1 = __webpack_require__(6);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(29);\r\nvar MouseHandlerDragBaseState = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerDragBaseState, _super);\r\n    function MouseHandlerDragBaseState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerDragBaseState.prototype.onMouseDown = function (evt) {\r\n        this.currentPosition = new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt));\r\n        if (this.handler.control.taskEditController.dependencyId != null)\r\n            this.handler.control.selectDependency(null);\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseUp = function (evt) {\r\n        this.onMouseUpInternal(evt);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseMove = function (evt) {\r\n        evt.preventDefault();\r\n        var position = new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt));\r\n        this.onMouseMoveInternal(position);\r\n        this.currentPosition = position;\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseUpInternal = function (_evt) { };\r\n    MouseHandlerDragBaseState.prototype.onMouseMoveInternal = function (_position) { };\r\n    return MouseHandlerDragBaseState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDragBaseState = MouseHandlerDragBaseState;\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerDragBaseState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TouchHandlerStateBase_1 = __webpack_require__(48);\r\nvar point_1 = __webpack_require__(4);\r\nvar touch_1 = __webpack_require__(15);\r\nvar TouchHandlerDragBaseState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerDragBaseState, _super);\r\n    function TouchHandlerDragBaseState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerDragBaseState.prototype.onTouchStart = function (evt) {\r\n        this.currentPosition = new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt));\r\n        if (this.handler.control.taskEditController.dependencyId != null)\r\n            this.handler.control.selectDependency(null);\r\n    };\r\n    TouchHandlerDragBaseState.prototype.onTouchEnd = function (evt) {\r\n        this.onTouchEndInternal(evt);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    TouchHandlerDragBaseState.prototype.onTouchMove = function (evt) {\r\n        evt.preventDefault();\r\n        var position = new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt));\r\n        this.onTouchMoveInternal(position);\r\n        this.currentPosition = position;\r\n    };\r\n    TouchHandlerDragBaseState.prototype.onTouchEndInternal = function (_evt) { };\r\n    TouchHandlerDragBaseState.prototype.onTouchMoveInternal = function (_position) { };\r\n    return TouchHandlerDragBaseState;\r\n}(TouchHandlerStateBase_1.TouchHandlerStateBase));\r\nexports.TouchHandlerDragBaseState = TouchHandlerDragBaseState;\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceUnassigningArguments = exports.ResourceAssigningArguments = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar BaseArguments_1 = __webpack_require__(20);\r\nvar ResourceAssigningArguments = (function (_super) {\r\n    tslib_1.__extends(ResourceAssigningArguments, _super);\r\n    function ResourceAssigningArguments(resourceId, taskId) {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.values = {\r\n            resourceId: resourceId,\r\n            taskId: taskId\r\n        };\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResourceAssigningArguments.prototype, \"resourceId\", {\r\n        get: function () { return this.values.resourceId; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResourceAssigningArguments.prototype, \"taskId\", {\r\n        get: function () { return this.values.taskId; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return ResourceAssigningArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.ResourceAssigningArguments = ResourceAssigningArguments;\r\nvar ResourceUnassigningArguments = (function (_super) {\r\n    tslib_1.__extends(ResourceUnassigningArguments, _super);\r\n    function ResourceUnassigningArguments(assignment) {\r\n        var _this = _super.call(this, assignment.internalId) || this;\r\n        _this.values = assignment;\r\n        return _this;\r\n    }\r\n    return ResourceUnassigningArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.ResourceUnassigningArguments = ResourceUnassigningArguments;\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Resource = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar common_1 = __webpack_require__(1);\r\nvar DataObject_1 = __webpack_require__(10);\r\nvar Resource = (function (_super) {\r\n    tslib_1.__extends(Resource, _super);\r\n    function Resource() {\r\n        var _this = _super.call(this) || this;\r\n        _this.text = \"\";\r\n        _this.color = \"\";\r\n        return _this;\r\n    }\r\n    Resource.prototype.assignFromObject = function (sourceObj) {\r\n        if (common_1.isDefined(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.text = sourceObj.text;\r\n            if (common_1.isDefined(sourceObj.color))\r\n                this.color = sourceObj.color;\r\n        }\r\n    };\r\n    return Resource;\r\n}(DataObject_1.DataObject));\r\nexports.Resource = Resource;\r\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar list_1 = __webpack_require__(58);\r\nvar MathUtils = (function () {\r\n    function MathUtils() {\r\n    }\r\n    MathUtils.round = function (value, digits) {\r\n        if (digits === void 0) { digits = 0; }\r\n        var factor = MathUtils.powFactor[digits];\r\n        return Math.round(value * factor) / factor;\r\n    };\r\n    MathUtils.numberCloseTo = function (num, to, accuracy) {\r\n        if (accuracy === void 0) { accuracy = 0.00001; }\r\n        return Math.abs(num - to) < accuracy;\r\n    };\r\n    MathUtils.restrictValue = function (val, minVal, maxVal) {\r\n        if (maxVal < minVal)\r\n            maxVal = minVal;\r\n        if (val > maxVal)\r\n            return maxVal;\r\n        else if (val < minVal)\r\n            return minVal;\r\n        return val;\r\n    };\r\n    MathUtils.getRandomInt = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n    MathUtils.generateGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0;\r\n            var v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    MathUtils.powFactor = list_1.ListUtils.initByCallback(20, function (ind) { return Math.pow(10, ind); });\r\n    MathUtils.somePrimes = [1009, 1013,\r\n        1019, 1021, 1031, 1033, 1039, 1049, 1051, 1061, 1063, 1069,\r\n        1087, 1091, 1093, 1097, 1103, 1109, 1117, 1123, 1129, 1151,\r\n        1153, 1163, 1171, 1181, 1187, 1193, 1201, 1213, 1217, 1223,\r\n        1229, 1231, 1237, 1249, 1259, 1277, 1279, 1283, 1289, 1291,\r\n        1297, 1301, 1303, 1307, 1319, 1321, 1327, 1361, 1367, 1373,\r\n        1381, 1399, 1409, 1423, 1427, 1429, 1433, 1439, 1447, 1451,\r\n        1453, 1459, 1471, 1481, 1483, 1487, 1489, 1493, 1499, 1511,\r\n        1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571, 1579, 1583,\r\n        1597, 1601, 1607, 1609, 1613, 1619, 1621, 1627, 1637, 1657,\r\n        1663, 1667, 1669, 1693, 1697, 1699, 1709, 1721, 1723, 1733,\r\n        1741, 1747, 1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811,\r\n        1823, 1831, 1847, 1861, 1867, 1871, 1873, 1877, 1879, 1889,\r\n        1901, 1907, 1913, 1931, 1933, 1949, 1951, 1973, 1979, 1987,\r\n        1993, 1997, 1999, 2003];\r\n    return MathUtils;\r\n}());\r\nexports.MathUtils = MathUtils;\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceAssignment = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(10);\r\nvar common_1 = __webpack_require__(1);\r\nvar ResourceAssignment = (function (_super) {\r\n    tslib_1.__extends(ResourceAssignment, _super);\r\n    function ResourceAssignment() {\r\n        var _this = _super.call(this) || this;\r\n        _this.taskId = \"\";\r\n        _this.resourceId = \"\";\r\n        return _this;\r\n    }\r\n    ResourceAssignment.prototype.assignFromObject = function (sourceObj) {\r\n        if (common_1.isDefined(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.taskId = String(sourceObj.taskId);\r\n            this.resourceId = String(sourceObj.resourceId);\r\n        }\r\n    };\r\n    return ResourceAssignment;\r\n}(DataObject_1.DataObject));\r\nexports.ResourceAssignment = ResourceAssignment;\r\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Time = void 0;\r\nvar Time = (function () {\r\n    function Time(h, min, sec, msec) {\r\n        if (h === void 0) { h = 0; }\r\n        if (min === void 0) { min = 0; }\r\n        if (sec === void 0) { sec = 0; }\r\n        if (msec === void 0) { msec = 0; }\r\n        this._hour = 0;\r\n        this._min = 0;\r\n        this._sec = 0;\r\n        this._msec = 0;\r\n        this._fullmsec = 0;\r\n        this.hour = h;\r\n        this.min = min;\r\n        this.sec = sec;\r\n        this.msec = msec;\r\n    }\r\n    Object.defineProperty(Time.prototype, \"hour\", {\r\n        get: function () { return this._hour; },\r\n        set: function (h) {\r\n            if (h >= 0 && h < 24) {\r\n                this._hour = h;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"min\", {\r\n        get: function () { return this._min; },\r\n        set: function (m) {\r\n            if (m >= 0 && m < 60) {\r\n                this._min = m;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"sec\", {\r\n        get: function () { return this._sec; },\r\n        set: function (s) {\r\n            if (s >= 0 && s < 60) {\r\n                this._sec = s;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"msec\", {\r\n        get: function () { return this._msec; },\r\n        set: function (ms) {\r\n            if (ms >= 0 && ms < 1000) {\r\n                this._msec = ms;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Time.prototype.updateFullMilleconds = function () {\r\n        var minutes = this._hour * 60 + this._min;\r\n        var sec = minutes * 60 + this._sec;\r\n        this._fullmsec = sec * 1000 + this._msec;\r\n    };\r\n    Time.prototype.getTimeInMilleconds = function () {\r\n        return this._fullmsec;\r\n    };\r\n    return Time;\r\n}());\r\nexports.Time = Time;\r\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TimeRange = void 0;\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar TimeRange = (function () {\r\n    function TimeRange(start, end) {\r\n        var diff = DateTimeUtils_1.DateTimeUtils.caclTimeDifference(start, end);\r\n        if (diff >= 0) {\r\n            this._start = start;\r\n            this._end = end;\r\n        }\r\n        else {\r\n            this._start = end;\r\n            this._end = start;\r\n        }\r\n    }\r\n    Object.defineProperty(TimeRange.prototype, \"start\", {\r\n        get: function () { return this._start; },\r\n        set: function (time) {\r\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0)\r\n                this._start = time;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeRange.prototype, \"end\", {\r\n        get: function () { return this._end; },\r\n        set: function (time) {\r\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0)\r\n                this._end = time;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TimeRange.prototype.isTimeInRange = function (time) {\r\n        return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0 && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0;\r\n    };\r\n    TimeRange.prototype.hasIntersect = function (range) {\r\n        return this.isTimeInRange(range.start) || this.isTimeInRange(range.end) || range.isTimeInRange(this.start) || range.isTimeInRange(this.end);\r\n    };\r\n    TimeRange.prototype.concatWith = function (range) {\r\n        if (!this.hasIntersect(range))\r\n            return false;\r\n        this.start = DateTimeUtils_1.DateTimeUtils.getMinTime(this.start, range.start);\r\n        this.end = DateTimeUtils_1.DateTimeUtils.getMaxTime(this.end, range.end);\r\n        return true;\r\n    };\r\n    return TimeRange;\r\n}());\r\nexports.TimeRange = TimeRange;\r\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DayOfWeekMonthlyOccurrence = void 0;\r\nvar DayOfWeekMonthlyOccurrence;\r\n(function (DayOfWeekMonthlyOccurrence) {\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"First\"] = 0] = \"First\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Second\"] = 1] = \"Second\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Third\"] = 2] = \"Third\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Forth\"] = 3] = \"Forth\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Last\"] = 4] = \"Last\";\r\n})(DayOfWeekMonthlyOccurrence = exports.DayOfWeekMonthlyOccurrence || (exports.DayOfWeekMonthlyOccurrence = {}));\r\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RecurrenceFactory = void 0;\r\nvar common_1 = __webpack_require__(1);\r\nvar Daily_1 = __webpack_require__(40);\r\nvar Weekly_1 = __webpack_require__(72);\r\nvar Monthly_1 = __webpack_require__(73);\r\nvar Yearly_1 = __webpack_require__(75);\r\nvar RecurrenceFactory = (function () {\r\n    function RecurrenceFactory() {\r\n    }\r\n    RecurrenceFactory.createRecurrenceByType = function (type) {\r\n        if (!type)\r\n            return null;\r\n        var correctedType = type.toLowerCase();\r\n        switch (correctedType) {\r\n            case \"daily\":\r\n                return new Daily_1.Daily();\r\n            case \"weekly\":\r\n                return new Weekly_1.Weekly();\r\n            case \"monthly\":\r\n                return new Monthly_1.Monthly();\r\n            case \"yearly\":\r\n                return new Yearly_1.Yearly();\r\n        }\r\n        return null;\r\n    };\r\n    RecurrenceFactory.createRecurrenceFromObject = function (sourceObj) {\r\n        if (!sourceObj)\r\n            return null;\r\n        var recurrence = this.createRecurrenceByType(sourceObj.type);\r\n        if (recurrence)\r\n            recurrence.assignFromObject(sourceObj);\r\n        return recurrence;\r\n    };\r\n    RecurrenceFactory.getEnumValue = function (type, value) {\r\n        if (!common_1.isDefined(type[value]))\r\n            return null;\r\n        var num = parseInt(value);\r\n        if (!isNaN(num))\r\n            return num;\r\n        return type[value];\r\n    };\r\n    return RecurrenceFactory;\r\n}());\r\nexports.RecurrenceFactory = RecurrenceFactory;\r\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Daily = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar RecurrenceBase_1 = __webpack_require__(16);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Daily = (function (_super) {\r\n    tslib_1.__extends(Daily, _super);\r\n    function Daily() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Daily.prototype.checkDate = function (date) { return true; };\r\n    Daily.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval == 0;\r\n    };\r\n    Daily.prototype.calculatePointByInterval = function (date) {\r\n        var daysToAdd = this.interval;\r\n        if (!this.isRecurrencePoint(date))\r\n            daysToAdd -= DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval;\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(date, daysToAdd);\r\n    };\r\n    Daily.prototype.calculateNearestPoint = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(date, 1);\r\n    };\r\n    return Daily;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Daily = Daily;\r\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ElementTextHelperCultureInfo = exports.ElementTextHelper = exports.DateUtils = void 0;\r\nvar Enums_1 = __webpack_require__(14);\r\nvar dom_1 = __webpack_require__(3);\r\nvar DateUtils = (function () {\r\n    function DateUtils() {\r\n    }\r\n    DateUtils.getDaysInMonth = function (month, year) {\r\n        var d = new Date(year, month + 1, 0);\r\n        return d.getDate();\r\n    };\r\n    DateUtils.getOffsetInMonths = function (start, end) {\r\n        return (end.getFullYear() - start.getFullYear()) * 12 + end.getMonth() - start.getMonth();\r\n    };\r\n    DateUtils.getOffsetInQuarters = function (start, end) {\r\n        return (end.getFullYear() - start.getFullYear()) * 4 + Math.floor(end.getMonth() / 3) - Math.floor(start.getMonth() / 3);\r\n    };\r\n    DateUtils.getNearestScaleTickDate = function (date, range, tickTimeSpan, viewType) {\r\n        var result = new Date();\r\n        var rangeStartTime = range.start.getTime();\r\n        var rangeEndTime = range.end.getTime();\r\n        result.setTime(date.getTime());\r\n        if (date.getTime() < rangeStartTime)\r\n            result.setTime(rangeStartTime);\r\n        else if (date.getTime() > rangeEndTime)\r\n            result.setTime(rangeEndTime);\r\n        else if (this.needCorrectDate(date, rangeStartTime, tickTimeSpan, viewType)) {\r\n            var nearestLeftTickTime = this.getNearestLeftTickTime(date, rangeStartTime, tickTimeSpan, viewType);\r\n            var nearestRightTickTime = this.getNextTickTime(nearestLeftTickTime, tickTimeSpan, viewType);\r\n            if (Math.abs(date.getTime() - nearestLeftTickTime) > Math.abs(date.getTime() - nearestRightTickTime))\r\n                result.setTime(nearestRightTickTime);\r\n            else\r\n                result.setTime(nearestLeftTickTime);\r\n        }\r\n        return result;\r\n    };\r\n    DateUtils.needCorrectDate = function (date, rangeStartTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months)\r\n            return date.getTime() !== new Date(date.getFullYear(), date.getMonth(), 1).getTime();\r\n        return (date.getTime() - rangeStartTime) % tickTimeSpan !== 0;\r\n    };\r\n    DateUtils.getNearestLeftTickTime = function (date, rangeStartTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months)\r\n            return new Date(date.getFullYear(), date.getMonth(), 1).getTime();\r\n        var tickCountAtLeft = Math.floor((date.getTime() - rangeStartTime) / tickTimeSpan);\r\n        return rangeStartTime + tickCountAtLeft * tickTimeSpan;\r\n    };\r\n    DateUtils.getNextTickTime = function (currentTickTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months) {\r\n            var nextTickDate = new Date();\r\n            nextTickDate.setTime(currentTickTime);\r\n            nextTickDate.setMonth(nextTickDate.getMonth() + 1);\r\n            return nextTickDate.getTime();\r\n        }\r\n        return currentTickTime + tickTimeSpan;\r\n    };\r\n    DateUtils.adjustStartDateByViewType = function (date, viewType, firstDayOfWeek) {\r\n        if (firstDayOfWeek === void 0) { firstDayOfWeek = 0; }\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\r\n            case Enums_1.ViewType.SixHours:\r\n            case Enums_1.ViewType.Hours:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n            case Enums_1.ViewType.Days:\r\n            case Enums_1.ViewType.Weeks:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay() + firstDayOfWeek);\r\n            case Enums_1.ViewType.Months:\r\n            case Enums_1.ViewType.Quarter:\r\n            case Enums_1.ViewType.Years:\r\n                return new Date(date.getFullYear(), 0, 1);\r\n            default:\r\n                return new Date();\r\n        }\r\n    };\r\n    DateUtils.adjustEndDateByViewType = function (date, viewType, firstDayOfWeek) {\r\n        if (firstDayOfWeek === void 0) { firstDayOfWeek = 0; }\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1);\r\n            case Enums_1.ViewType.SixHours:\r\n            case Enums_1.ViewType.Hours:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\r\n            case Enums_1.ViewType.Days:\r\n            case Enums_1.ViewType.Weeks:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7 - date.getDay() + firstDayOfWeek);\r\n            case Enums_1.ViewType.Months:\r\n            case Enums_1.ViewType.Quarter:\r\n            case Enums_1.ViewType.Years:\r\n                return new Date(date.getFullYear() + 1, 0, 1);\r\n            default:\r\n                return new Date();\r\n        }\r\n    };\r\n    DateUtils.roundStartDate = function (date, viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n            case Enums_1.ViewType.Hours:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() - 1);\r\n            case Enums_1.ViewType.SixHours:\r\n            case Enums_1.ViewType.Days:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate() - 1);\r\n            case Enums_1.ViewType.Weeks:\r\n                return new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());\r\n            case Enums_1.ViewType.Months:\r\n                return new Date(date.getFullYear(), date.getMonth() - 1);\r\n            case Enums_1.ViewType.Quarter:\r\n            case Enums_1.ViewType.Years:\r\n                return new Date(date.getFullYear() - 1, 0, 1);\r\n            default:\r\n                return new Date();\r\n        }\r\n    };\r\n    DateUtils.getTickTimeSpan = function (viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return DateUtils.msPerHour / 6;\r\n            case Enums_1.ViewType.Hours:\r\n                return DateUtils.msPerHour;\r\n            case Enums_1.ViewType.SixHours:\r\n                return DateUtils.msPerHour * 6;\r\n            case Enums_1.ViewType.Days:\r\n                return DateUtils.msPerDay;\r\n            case Enums_1.ViewType.Weeks:\r\n                return DateUtils.msPerWeek;\r\n            case Enums_1.ViewType.Months:\r\n                return DateUtils.msPerMonth;\r\n            case Enums_1.ViewType.Quarter:\r\n                return DateUtils.msPerMonth * 3;\r\n            case Enums_1.ViewType.Years:\r\n                return DateUtils.msPerYear;\r\n        }\r\n    };\r\n    DateUtils.parse = function (data) {\r\n        return typeof data === \"function\" ? new Date(data()) : new Date(data);\r\n    };\r\n    DateUtils.getTimezoneOffsetDiff = function (data1, data2) {\r\n        return data2.getTimezoneOffset() - data1.getTimezoneOffset();\r\n    };\r\n    DateUtils.msPerHour = 3600000;\r\n    DateUtils.msPerDay = 24 * DateUtils.msPerHour;\r\n    DateUtils.msPerWeek = 7 * DateUtils.msPerDay;\r\n    DateUtils.msPerMonth = 30 * DateUtils.msPerDay;\r\n    DateUtils.msPerYear = 365 * DateUtils.msPerDay;\r\n    DateUtils.ViewTypeToScaleMap = createViewTypeToScaleMap();\r\n    return DateUtils;\r\n}());\r\nexports.DateUtils = DateUtils;\r\nvar ElementTextHelper = (function () {\r\n    function ElementTextHelper(cultureInfo) {\r\n        this.longestAbbrMonthName = null;\r\n        this.longestMonthName = null;\r\n        this.longestAbbrDayName = null;\r\n        var canvas = document.createElement(\"canvas\");\r\n        this.textMeasureContext = canvas.getContext(\"2d\");\r\n        this.cultureInfo = cultureInfo;\r\n    }\r\n    ElementTextHelper.prototype.setFont = function (fontHolder) {\r\n        var computedStyle = dom_1.DomUtils.getCurrentStyle(fontHolder);\r\n        var font = computedStyle.font ? computedStyle.font :\r\n            computedStyle.fontStyle + \" \" + computedStyle.fontVariant + \" \" + computedStyle.fontWeight + \" \"\r\n                + computedStyle.fontSize + \" / \" + computedStyle.lineHeight + \" \" + computedStyle.fontFamily;\r\n        this.textMeasureContext.font = font;\r\n    };\r\n    ElementTextHelper.prototype.setSettings = function (startTime, viewType, modelItems) {\r\n        this.startTime = startTime;\r\n        this.viewType = viewType;\r\n        this.modelItems = modelItems;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemStartDate = function (index, scaleType) {\r\n        var result = new Date(this.startTime);\r\n        switch (scaleType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour / 6);\r\n                break;\r\n            case Enums_1.ViewType.Hours:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour);\r\n                break;\r\n            case Enums_1.ViewType.SixHours:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour * 6);\r\n                break;\r\n            case Enums_1.ViewType.Days:\r\n                result.setTime(this.startTime + index * DateUtils.msPerDay);\r\n                break;\r\n            case Enums_1.ViewType.Weeks:\r\n                result.setTime(this.startTime + index * DateUtils.msPerWeek);\r\n                break;\r\n            case Enums_1.ViewType.Months:\r\n                result.setMonth(result.getMonth() + index);\r\n                break;\r\n            case Enums_1.ViewType.Quarter:\r\n                result.setMonth(result.getMonth() + index * 3);\r\n                break;\r\n            case Enums_1.ViewType.Years:\r\n                result.setFullYear(result.getFullYear() + index);\r\n                break;\r\n            case Enums_1.ViewType.FiveYears:\r\n                result.setFullYear(result.getFullYear() + index * 5);\r\n                break;\r\n        }\r\n        result = this.getScaleStartDateCorrectedWithDST(result);\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getScaleStartDateCorrectedWithDST = function (date) {\r\n        var timeZoneDiff = DateUtils.getTimezoneOffsetDiff(new Date(this.startTime), date);\r\n        return timeZoneDiff > 0 ? new Date(date.getTime() + timeZoneDiff * 60000) : date;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemText = function (index, scaleType) {\r\n        var scaleItemStartDate = this.getScaleItemStartDate(index, scaleType);\r\n        var isViewTypeScale = this.viewType.valueOf() == scaleType.valueOf();\r\n        switch (scaleType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return this.getTenMinutesScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.Hours:\r\n            case Enums_1.ViewType.SixHours:\r\n                return this.getHoursScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.Days:\r\n                return this.getDaysScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Weeks:\r\n                return this.getWeeksScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Months:\r\n                return this.getMonthsScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Quarter:\r\n                return this.getQuarterScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Years:\r\n                return this.getYearsScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.FiveYears:\r\n                return this.getFiveYearsScaleItemText(scaleItemStartDate);\r\n        }\r\n    };\r\n    ElementTextHelper.prototype.getTenMinutesScaleItemText = function (scaleItemDate) {\r\n        var minutes = scaleItemDate.getMinutes() + 1;\r\n        return (Math.ceil(minutes / 10) * 10).toString();\r\n    };\r\n    ElementTextHelper.prototype.getThirtyMinutesScaleItemText = function (scaleItemDate) {\r\n        var minutes = scaleItemDate.getMinutes();\r\n        return minutes < 30 ? \"30\" : \"60\";\r\n    };\r\n    ElementTextHelper.prototype.getHoursScaleItemText = function (scaleItemDate) {\r\n        var hours = scaleItemDate.getHours();\r\n        var hourDisplayText = this.getHourDisplayText(hours);\r\n        var amPmText = hours < 12 ? this.getAmText() : this.getPmText();\r\n        return this.getHoursScaleItemTextCore(hourDisplayText, amPmText);\r\n    };\r\n    ElementTextHelper.prototype.getDaysScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        return this.getDayTotalText(scaleItemDate, true, isViewTypeScale, isViewTypeScale, !isViewTypeScale);\r\n    };\r\n    ElementTextHelper.prototype.getWeeksScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var weekLastDayDate = new Date(scaleItemDate.getTime() + DateUtils.msPerWeek - DateUtils.msPerDay);\r\n        return this.getWeeksScaleItemTextCore(this.getDayTotalText(scaleItemDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale), this.getDayTotalText(weekLastDayDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale));\r\n    };\r\n    ElementTextHelper.prototype.getMonthsScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var monthNames = this.getMonthNames();\r\n        var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getMonthsScaleItemTextCore(monthNames[scaleItemDate.getMonth()], yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getQuarterScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var quarterNames = this.getQuarterNames();\r\n        var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getMonthsScaleItemTextCore(quarterNames[Math.floor(scaleItemDate.getMonth() / 3)], yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getYearsScaleItemText = function (scaleItemDate) {\r\n        return scaleItemDate.getFullYear().toString();\r\n    };\r\n    ElementTextHelper.prototype.getFiveYearsScaleItemText = function (scaleItemDate) {\r\n        return scaleItemDate.getFullYear().toString() + \" - \" + (scaleItemDate.getFullYear() + 4).toString();\r\n    };\r\n    ElementTextHelper.prototype.getHourDisplayText = function (hours) {\r\n        if (this.hasAmPm())\r\n            return (hours == 0 ? 12 : (hours <= 12 ? hours : hours - 12)).toString();\r\n        return hours < 10 ? \"0\" + hours : hours.toString();\r\n    };\r\n    ElementTextHelper.prototype.getDayTotalText = function (scaleItemDate, displayDayName, useAbbrDayNames, useAbbrMonthNames, displayYear) {\r\n        var monthNames = useAbbrMonthNames ? this.getAbbrMonthNames() : this.getMonthNames();\r\n        var dayNames = useAbbrDayNames ? this.getAbbrDayNames() : this.getDayNames();\r\n        var dayNameDisplayText = displayDayName ? dayNames[scaleItemDate.getDay()] : \"\";\r\n        var day = scaleItemDate.getDate();\r\n        var monthName = monthNames[scaleItemDate.getMonth()];\r\n        var yearDisplayText = displayYear ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getDayTotalTextCore(dayNameDisplayText, day.toString(), monthName, yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getTaskText = function (index) {\r\n        var item = this.modelItems[index];\r\n        return item ? item.task.title : \"\";\r\n    };\r\n    ElementTextHelper.prototype.getTaskVisibility = function (index) {\r\n        var item = this.modelItems[index];\r\n        return !!item && item.getVisible();\r\n    };\r\n    ElementTextHelper.prototype.hasAmPm = function () {\r\n        return this.getAmText().length > 0 || this.getPmText().length > 0;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemTextTemplate = function (viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return \"00\";\r\n            case Enums_1.ViewType.Hours:\r\n            case Enums_1.ViewType.SixHours:\r\n                return this.getHoursScaleItemTextCore(\"00\", this.getAmText());\r\n            case Enums_1.ViewType.Days:\r\n                return this.getDayTextTemplate();\r\n            case Enums_1.ViewType.Weeks:\r\n                return this.getWeekTextTemplate();\r\n            case Enums_1.ViewType.Months:\r\n                return this.getMonthsScaleItemTextCore(this.getLongestMonthName(), \"\");\r\n            case Enums_1.ViewType.Quarter:\r\n                return \"Q4\";\r\n            case Enums_1.ViewType.Years:\r\n                return \"0000\";\r\n        }\r\n    };\r\n    ElementTextHelper.prototype.getDayTextTemplate = function () {\r\n        return this.getDayTotalTextCore(this.getLongestAbbrDayName(), \"00\", this.getLongestAbbrMonthName(), \"\");\r\n    };\r\n    ElementTextHelper.prototype.getWeekTextTemplate = function () {\r\n        var dayTextTemplate = this.getDayTextTemplate();\r\n        return this.getWeeksScaleItemTextCore(dayTextTemplate, dayTextTemplate);\r\n    };\r\n    ElementTextHelper.prototype.getHoursScaleItemTextCore = function (hourDisplayText, amPmText) {\r\n        return hourDisplayText + \":00\" + (this.hasAmPm() ? \" \" + amPmText : \"\");\r\n    };\r\n    ElementTextHelper.prototype.getDayTotalTextCore = function (dayName, dayValueString, monthName, yearValueString) {\r\n        var result = dayName.length > 0 ? dayName + \", \" : \"\";\r\n        result += dayValueString + \" \" + monthName;\r\n        result += yearValueString.length > 0 ? \" \" + yearValueString : \"\";\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getWeeksScaleItemTextCore = function (firstDayOfWeekString, lastDayOfWeekString) {\r\n        return firstDayOfWeekString + \" - \" + lastDayOfWeekString;\r\n    };\r\n    ElementTextHelper.prototype.getMonthsScaleItemTextCore = function (monthName, yearValueString) {\r\n        var result = monthName;\r\n        if (yearValueString.length > 0)\r\n            result += \" \" + yearValueString;\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getLongestAbbrMonthName = function () {\r\n        if (this.longestAbbrMonthName == null)\r\n            this.longestAbbrMonthName = this.getLongestText(this.getAbbrMonthNames());\r\n        return this.longestAbbrMonthName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestMonthName = function () {\r\n        if (this.longestMonthName == null)\r\n            this.longestMonthName = this.getLongestText(this.getMonthNames());\r\n        return this.longestMonthName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestAbbrDayName = function () {\r\n        if (this.longestAbbrDayName == null)\r\n            this.longestAbbrDayName = this.getLongestText(this.getAbbrDayNames());\r\n        return this.longestAbbrDayName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestText = function (texts) {\r\n        var _this = this;\r\n        var result = \"\";\r\n        var longestTextWidth = 0;\r\n        texts.forEach(function (text) {\r\n            var textWidth = _this.getTextWidth(text);\r\n            if (textWidth > longestTextWidth) {\r\n                longestTextWidth = textWidth;\r\n                result = text;\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getTextWidth = function (text) {\r\n        return Math.round(this.textMeasureContext.measureText(text).width);\r\n    };\r\n    ElementTextHelper.prototype.getAmText = function () {\r\n        return this.cultureInfo.amText;\r\n    };\r\n    ElementTextHelper.prototype.getPmText = function () {\r\n        return this.cultureInfo.pmText;\r\n    };\r\n    ElementTextHelper.prototype.getQuarterNames = function () {\r\n        return this.cultureInfo.quarterNames;\r\n    };\r\n    ElementTextHelper.prototype.getMonthNames = function () {\r\n        return this.cultureInfo.monthNames;\r\n    };\r\n    ElementTextHelper.prototype.getDayNames = function () {\r\n        return this.cultureInfo.dayNames;\r\n    };\r\n    ElementTextHelper.prototype.getAbbrMonthNames = function () {\r\n        return this.cultureInfo.abbrMonthNames;\r\n    };\r\n    ElementTextHelper.prototype.getAbbrDayNames = function () {\r\n        return this.cultureInfo.abbrDayNames;\r\n    };\r\n    return ElementTextHelper;\r\n}());\r\nexports.ElementTextHelper = ElementTextHelper;\r\nvar ElementTextHelperCultureInfo = (function () {\r\n    function ElementTextHelperCultureInfo() {\r\n    }\r\n    return ElementTextHelperCultureInfo;\r\n}());\r\nexports.ElementTextHelperCultureInfo = ElementTextHelperCultureInfo;\r\nfunction createViewTypeToScaleMap() {\r\n    var result = {};\r\n    result[Enums_1.ViewType.TenMinutes] = Enums_1.ViewType.Hours;\r\n    result[Enums_1.ViewType.Hours] = Enums_1.ViewType.Days;\r\n    result[Enums_1.ViewType.SixHours] = Enums_1.ViewType.Days;\r\n    result[Enums_1.ViewType.Days] = Enums_1.ViewType.Weeks;\r\n    result[Enums_1.ViewType.Weeks] = Enums_1.ViewType.Months;\r\n    result[Enums_1.ViewType.Months] = Enums_1.ViewType.Years;\r\n    result[Enums_1.ViewType.Quarter] = Enums_1.ViewType.Years;\r\n    result[Enums_1.ViewType.Years] = Enums_1.ViewType.FiveYears;\r\n    return result;\r\n}\r\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridElementInfo = void 0;\r\nvar point_1 = __webpack_require__(4);\r\nvar size_1 = __webpack_require__(28);\r\nvar margins_1 = __webpack_require__(77);\r\nvar GridElementInfo = (function () {\r\n    function GridElementInfo(className, position, size) {\r\n        this.id = GridElementInfo.id++;\r\n        this.position = new point_1.Point(undefined, undefined);\r\n        this.size = new size_1.Size(0, 0);\r\n        this.margins = new margins_1.Margins(undefined, undefined, undefined, undefined);\r\n        this.attr = {};\r\n        this.style = {};\r\n        if (className)\r\n            this.className = className;\r\n        if (position)\r\n            this.setPosition(position);\r\n        if (size)\r\n            this.setSize(size);\r\n    }\r\n    GridElementInfo.prototype.setSize = function (size) {\r\n        this.size.width = size.width;\r\n        this.size.height = size.height;\r\n    };\r\n    GridElementInfo.prototype.setPosition = function (position) {\r\n        this.position.x = position.x;\r\n        this.position.y = position.y;\r\n    };\r\n    GridElementInfo.prototype.assignToElement = function (element) {\r\n        this.assignPosition(element);\r\n        this.assignSize(element);\r\n        this.assignMargins(element);\r\n        if (this.className)\r\n            element.className = this.className;\r\n    };\r\n    GridElementInfo.prototype.assignPosition = function (element) {\r\n        if (this.position.x != null)\r\n            element.style.left = this.position.x + \"px\";\r\n        if (this.position.y != null)\r\n            element.style.top = this.position.y + \"px\";\r\n    };\r\n    GridElementInfo.prototype.assignSize = function (element) {\r\n        if (this.size.width)\r\n            element.style.width = this.size.width + \"px\";\r\n        if (this.size.height)\r\n            element.style.height = this.size.height + \"px\";\r\n    };\r\n    GridElementInfo.prototype.assignMargins = function (element) {\r\n        if (this.margins.left)\r\n            element.style.marginLeft = this.margins.left + \"px\";\r\n        if (this.margins.top)\r\n            element.style.marginTop = this.margins.top + \"px\";\r\n        if (this.margins.right)\r\n            element.style.marginRight = this.margins.right + \"px\";\r\n        if (this.margins.bottom)\r\n            element.style.marginBottom = this.margins.bottom + \"px\";\r\n    };\r\n    GridElementInfo.prototype.setAttribute = function (name, value) {\r\n        this.attr[name] = value;\r\n    };\r\n    GridElementInfo.id = 0;\r\n    return GridElementInfo;\r\n}());\r\nexports.GridElementInfo = GridElementInfo;\r\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ValidationSettings = exports.StripLine = exports.StripLineSettings = exports.EditingSettings = exports.Settings = void 0;\r\nvar Enums_1 = __webpack_require__(14);\r\nvar common_1 = __webpack_require__(1);\r\nvar Settings = (function () {\r\n    function Settings() {\r\n        this.viewType = undefined;\r\n        this.taskTitlePosition = Enums_1.TaskTitlePosition.Inside;\r\n        this.showResources = true;\r\n        this.areHorizontalBordersEnabled = true;\r\n        this.areVerticalBordersEnabled = true;\r\n        this.areAlternateRowsEnabled = true;\r\n        this.allowSelectTask = true;\r\n        this.firstDayOfWeek = 0;\r\n        this.editing = new EditingSettings();\r\n        this.validation = new ValidationSettings();\r\n        this.stripLines = new StripLineSettings();\r\n    }\r\n    Settings.parse = function (settings) {\r\n        var result = new Settings();\r\n        if (settings) {\r\n            if (common_1.isDefined(settings.viewType))\r\n                result.viewType = settings.viewType;\r\n            if (common_1.isDefined(settings.taskTitlePosition))\r\n                result.taskTitlePosition = settings.taskTitlePosition;\r\n            if (common_1.isDefined(settings.showResources))\r\n                result.showResources = settings.showResources;\r\n            if (common_1.isDefined(settings.areHorizontalBordersEnabled))\r\n                result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\r\n            if (common_1.isDefined(settings.areVerticalBordersEnabled))\r\n                result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\r\n            if (common_1.isDefined(settings.areAlternateRowsEnabled))\r\n                result.areAlternateRowsEnabled = settings.areAlternateRowsEnabled;\r\n            if (common_1.isDefined(settings.allowSelectTask))\r\n                result.allowSelectTask = settings.allowSelectTask;\r\n            if (common_1.isDefined(settings.firstDayOfWeek))\r\n                result.firstDayOfWeek = settings.firstDayOfWeek;\r\n            if (common_1.isDefined(settings.editing))\r\n                result.editing = EditingSettings.parse(settings.editing);\r\n            if (common_1.isDefined(settings.validation))\r\n                result.validation = ValidationSettings.parse(settings.validation);\r\n            if (common_1.isDefined(settings.stripLines))\r\n                result.stripLines = StripLineSettings.parse(settings.stripLines);\r\n            if (common_1.isDefined(settings.taskTooltipContentTemplate))\r\n                result.taskTooltipContentTemplate = settings.taskTooltipContentTemplate;\r\n        }\r\n        return result;\r\n    };\r\n    Settings.prototype.equal = function (settings) {\r\n        var result = true;\r\n        result = result && this.viewType === settings.viewType;\r\n        result = result && this.taskTitlePosition === settings.taskTitlePosition;\r\n        result = result && this.showResources === settings.showResources;\r\n        result = result && this.areHorizontalBordersEnabled === settings.areHorizontalBordersEnabled;\r\n        result = result && this.areAlternateRowsEnabled === settings.areAlternateRowsEnabled;\r\n        result = result && this.allowSelectTask === settings.allowSelectTask;\r\n        result = result && this.editing.equal(settings.editing);\r\n        result = result && this.validation.equal(settings.validation);\r\n        result = result && this.stripLines.equal(settings.stripLines);\r\n        return result;\r\n    };\r\n    return Settings;\r\n}());\r\nexports.Settings = Settings;\r\nvar EditingSettings = (function () {\r\n    function EditingSettings() {\r\n        this.enabled = false;\r\n        this.allowDependencyDelete = true;\r\n        this.allowDependencyInsert = true;\r\n        this.allowTaskDelete = true;\r\n        this.allowTaskInsert = true;\r\n        this.allowTaskUpdate = true;\r\n        this.allowResourceDelete = true;\r\n        this.allowResourceInsert = true;\r\n        this.allowResourceUpdate = true;\r\n        this.allowTaskResourceUpdate = true;\r\n    }\r\n    EditingSettings.parse = function (settings) {\r\n        var result = new EditingSettings();\r\n        if (settings) {\r\n            if (common_1.isDefined(settings.enabled))\r\n                result.enabled = settings.enabled;\r\n            if (common_1.isDefined(settings.allowDependencyDelete))\r\n                result.allowDependencyDelete = settings.allowDependencyDelete;\r\n            if (common_1.isDefined(settings.allowDependencyInsert))\r\n                result.allowDependencyInsert = settings.allowDependencyInsert;\r\n            if (common_1.isDefined(settings.allowTaskDelete))\r\n                result.allowTaskDelete = settings.allowTaskDelete;\r\n            if (common_1.isDefined(settings.allowTaskInsert))\r\n                result.allowTaskInsert = settings.allowTaskInsert;\r\n            if (common_1.isDefined(settings.allowTaskUpdate))\r\n                result.allowTaskUpdate = settings.allowTaskUpdate;\r\n            if (common_1.isDefined(settings.allowResourceDelete))\r\n                result.allowResourceDelete = settings.allowResourceDelete;\r\n            if (common_1.isDefined(settings.allowResourceInsert))\r\n                result.allowResourceInsert = settings.allowResourceInsert;\r\n            if (common_1.isDefined(settings.allowResourceUpdate))\r\n                result.allowResourceUpdate = settings.allowResourceUpdate;\r\n            if (common_1.isDefined(settings.allowTaskResourceUpdate))\r\n                result.allowTaskResourceUpdate = settings.allowTaskResourceUpdate;\r\n        }\r\n        return result;\r\n    };\r\n    EditingSettings.prototype.equal = function (settings) {\r\n        var result = true;\r\n        result = result && this.enabled === settings.enabled;\r\n        result = result && this.allowDependencyDelete === settings.allowDependencyDelete;\r\n        result = result && this.allowDependencyInsert === settings.allowDependencyInsert;\r\n        result = result && this.allowTaskDelete === settings.allowTaskDelete;\r\n        result = result && this.allowTaskInsert === settings.allowTaskInsert;\r\n        result = result && this.allowTaskUpdate === settings.allowTaskUpdate;\r\n        result = result && this.allowResourceDelete === settings.allowResourceDelete;\r\n        result = result && this.allowResourceInsert === settings.allowResourceInsert;\r\n        result = result && this.allowResourceUpdate === settings.allowResourceUpdate;\r\n        result = result && this.allowTaskResourceUpdate === settings.allowTaskResourceUpdate;\r\n        return result;\r\n    };\r\n    return EditingSettings;\r\n}());\r\nexports.EditingSettings = EditingSettings;\r\nvar StripLineSettings = (function () {\r\n    function StripLineSettings() {\r\n        this.showCurrentTime = false;\r\n        this.currentTimeUpdateInterval = 60000;\r\n        this.stripLines = [];\r\n    }\r\n    StripLineSettings.parse = function (settings) {\r\n        var result = new StripLineSettings();\r\n        if (settings) {\r\n            if (common_1.isDefined(settings.showCurrentTime))\r\n                result.showCurrentTime = settings.showCurrentTime;\r\n            if (common_1.isDefined(settings.currentTimeUpdateInterval))\r\n                result.currentTimeUpdateInterval = settings.currentTimeUpdateInterval;\r\n            if (common_1.isDefined(settings.currentTimeTitle))\r\n                result.currentTimeTitle = settings.currentTimeTitle;\r\n            if (common_1.isDefined(settings.currentTimeCssClass))\r\n                result.currentTimeCssClass = settings.currentTimeCssClass;\r\n            if (common_1.isDefined(settings.stripLines))\r\n                for (var i = 0; i < settings.stripLines.length; i++)\r\n                    result.stripLines.push(StripLine.parse(settings.stripLines[i]));\r\n        }\r\n        return result;\r\n    };\r\n    StripLineSettings.prototype.equal = function (settings) {\r\n        var result = true;\r\n        result = result && this.showCurrentTime == settings.showCurrentTime;\r\n        result = result && this.currentTimeUpdateInterval == settings.currentTimeUpdateInterval;\r\n        result = result && this.currentTimeTitle == settings.currentTimeTitle;\r\n        result = result && this.currentTimeCssClass == settings.currentTimeCssClass;\r\n        result = result && this.stripLines.length === settings.stripLines.length;\r\n        if (result)\r\n            for (var i = 0; i < settings.stripLines.length; i++)\r\n                result = result && this.stripLines[i].equal(settings.stripLines[i]);\r\n        return result;\r\n    };\r\n    return StripLineSettings;\r\n}());\r\nexports.StripLineSettings = StripLineSettings;\r\nvar StripLine = (function () {\r\n    function StripLine(start, end, title, cssClass, isCurrent) {\r\n        this.isCurrent = false;\r\n        this.start = start;\r\n        this.end = end;\r\n        this.title = title;\r\n        this.cssClass = cssClass;\r\n        this.isCurrent = isCurrent;\r\n    }\r\n    StripLine.parse = function (settings) {\r\n        var result = new StripLine();\r\n        if (settings) {\r\n            if (common_1.isDefined(settings.start))\r\n                result.start = settings.start;\r\n            if (common_1.isDefined(settings.end))\r\n                result.end = settings.end;\r\n            if (common_1.isDefined(settings.title))\r\n                result.title = settings.title;\r\n            if (common_1.isDefined(settings.cssClass))\r\n                result.cssClass = settings.cssClass;\r\n        }\r\n        return result;\r\n    };\r\n    StripLine.prototype.clone = function () {\r\n        return new StripLine(this.start, this.end, this.title, this.cssClass, this.isCurrent);\r\n    };\r\n    StripLine.prototype.equal = function (stripLine) {\r\n        var result = true;\r\n        result = result && this.start == stripLine.start;\r\n        result = result && this.end == stripLine.end;\r\n        result = result && this.title == stripLine.title;\r\n        result = result && this.cssClass == stripLine.cssClass;\r\n        return result;\r\n    };\r\n    return StripLine;\r\n}());\r\nexports.StripLine = StripLine;\r\nvar ValidationSettings = (function () {\r\n    function ValidationSettings() {\r\n        this.validateDependencies = false;\r\n        this.autoUpdateParentTasks = false;\r\n    }\r\n    ValidationSettings.parse = function (settings) {\r\n        var result = new ValidationSettings();\r\n        if (settings) {\r\n            if (common_1.isDefined(settings.validateDependencies))\r\n                result.validateDependencies = settings.validateDependencies;\r\n            if (common_1.isDefined(settings.autoUpdateParentTasks))\r\n                result.autoUpdateParentTasks = settings.autoUpdateParentTasks;\r\n        }\r\n        return result;\r\n    };\r\n    ValidationSettings.prototype.equal = function (settings) {\r\n        var result = true;\r\n        result = result && this.validateDependencies == settings.validateDependencies;\r\n        result = result && this.autoUpdateParentTasks == settings.autoUpdateParentTasks;\r\n        return result;\r\n    };\r\n    return ValidationSettings;\r\n}());\r\nexports.ValidationSettings = ValidationSettings;\r\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskEditController = void 0;\r\nvar Enums_1 = __webpack_require__(14);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar dom_1 = __webpack_require__(3);\r\nvar browser_1 = __webpack_require__(5);\r\nvar TaskEditController = (function () {\r\n    function TaskEditController(gantt) {\r\n        this.taskIndex = -1;\r\n        this.successorIndex = -1;\r\n        this.editing = false;\r\n        this.gantt = gantt;\r\n        this.createElements();\r\n    }\r\n    Object.defineProperty(TaskEditController.prototype, \"taskId\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.taskIndex].task.internalId;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskEditController.prototype, \"successorId\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.successorIndex].task.internalId;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskEditController.prototype, \"task\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.taskIndex].task;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TaskEditController.prototype.show = function (taskIndex) {\r\n        if (!this.editing) {\r\n            this.taskIndex = taskIndex;\r\n            this.updateWrapInfo();\r\n            this.wrapInfo.assignPosition(this.baseElement);\r\n            this.wrapInfo.assignSize(this.baseElement);\r\n            this.gantt.taskArea.appendChild(this.baseElement);\r\n            this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n            if (!this.gantt.settings.editing.enabled || !this.gantt.settings.editing.allowDependencyInsert)\r\n                this.baseElement.className = this.baseElement.className + \" hide-dependency\";\r\n            if (this.task.isMilestone())\r\n                this.baseElement.className = this.baseElement.className + \" milestone\";\r\n            else {\r\n                if (!this.gantt.settings.editing.enabled || !this.gantt.settings.editing.allowTaskUpdate || !this.canUpdateTask())\r\n                    this.baseElement.className = this.baseElement.className + \" hide-updating\";\r\n                this.progressEdit.style.left = ((this.task.progress / 100) *\r\n                    this.wrapInfo.size.width - (this.progressEdit.offsetWidth / 2)) + \"px\";\r\n            }\r\n            this.taskDateRange = new DateRange_1.DateRange(this.task.start, this.task.end);\r\n        }\r\n    };\r\n    TaskEditController.prototype.hide = function () {\r\n        var parentNode = this.baseElement.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.baseElement);\r\n        this.tooltip.hide();\r\n    };\r\n    TaskEditController.prototype.showTaskInfo = function (posX, delay) {\r\n        if (delay === void 0) { delay = 500; }\r\n        this.tooltip.showInfo(this.task, posX, delay, this.gantt.settings.taskTooltipContentTemplate);\r\n    };\r\n    TaskEditController.prototype.updateWrapInfo = function () {\r\n        this.wrapInfo = this.getTaskWrapperElementInfo(this.taskIndex);\r\n        this.wrapInfo.position.x--;\r\n    };\r\n    TaskEditController.prototype.showDependencySuccessor = function (taskIndex) {\r\n        if (this.successorIndex != taskIndex && this.taskIndex != taskIndex) {\r\n            this.successorIndex = taskIndex;\r\n            var wrapInfo = this.getTaskWrapperElementInfo(taskIndex);\r\n            wrapInfo.assignPosition(this.dependencySuccessorBaseElement);\r\n            wrapInfo.assignSize(this.dependencySuccessorBaseElement);\r\n            wrapInfo.assignSize(this.dependencySuccessorFrame);\r\n            this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement);\r\n        }\r\n    };\r\n    TaskEditController.prototype.hideDependencySuccessor = function () {\r\n        var parentNode = this.dependencySuccessorBaseElement.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.dependencySuccessorBaseElement);\r\n        this.successorIndex = -1;\r\n    };\r\n    TaskEditController.prototype.processProgress = function (position) {\r\n        this.editing = true;\r\n        var progressOffset = position.x - this.wrapInfo.position.x;\r\n        var progress = 0;\r\n        if (position.x > this.wrapInfo.position.x)\r\n            if (position.x < this.wrapInfo.position.x + this.wrapInfo.size.width)\r\n                progress = Math.round((progressOffset) / this.baseElement.clientWidth * 100);\r\n            else\r\n                progress = 100;\r\n        this.progressEdit.style.left = ((progress / 100) *\r\n            this.wrapInfo.size.width - (this.progressEdit.offsetWidth / 2)) + \"px\";\r\n        this.tooltip.showProgress(progress, dom_1.DomUtils.getAbsolutePositionX(this.progressEdit) + this.progressEdit.offsetWidth / 2);\r\n    };\r\n    TaskEditController.prototype.confirmProgress = function () {\r\n        this.editing = false;\r\n        var progress = Math.round((this.progressEdit.offsetLeft + (this.progressEdit.offsetWidth / 2)) / this.wrapInfo.size.width * 100);\r\n        this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId, progress);\r\n    };\r\n    TaskEditController.prototype.processEnd = function (position) {\r\n        this.baseElement.className = this.baseElement.className + \" move\";\r\n        this.editing = true;\r\n        var positionX = position.x > this.wrapInfo.position.x ? position.x : this.wrapInfo.position.x;\r\n        var width = positionX - this.wrapInfo.position.x;\r\n        this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\r\n        var startDate = this.task.start;\r\n        var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\r\n        date.setSeconds(0);\r\n        if (date < startDate || width < 1)\r\n            this.taskDateRange.end.setTime(startDate.getTime());\r\n        else\r\n            this.taskDateRange.end = this.getNewDate(this.task.end, date);\r\n        this.tooltip.showTime(startDate, this.taskDateRange.end, dom_1.DomUtils.getAbsolutePositionX(this.baseElement) + this.baseElement.clientWidth);\r\n    };\r\n    TaskEditController.prototype.confirmEnd = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        this.editing = false;\r\n        this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\r\n        this.hide();\r\n        this.updateWrapInfo();\r\n    };\r\n    TaskEditController.prototype.processStart = function (position) {\r\n        this.baseElement.className = this.baseElement.className + \" move\";\r\n        this.editing = true;\r\n        var positionX = position.x < this.wrapInfo.position.x + this.wrapInfo.size.width ? position.x : this.wrapInfo.position.x + this.wrapInfo.size.width;\r\n        var width = this.wrapInfo.size.width - (positionX - this.wrapInfo.position.x);\r\n        this.baseElement.style.left = positionX + \"px\";\r\n        this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\r\n        var endDate = this.task.end;\r\n        var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\r\n        date.setSeconds(0);\r\n        if (date > endDate || width < 1)\r\n            this.taskDateRange.start.setTime(endDate.getTime());\r\n        else\r\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\r\n        this.tooltip.showTime(this.taskDateRange.start, endDate, dom_1.DomUtils.getAbsolutePositionX(this.baseElement));\r\n    };\r\n    TaskEditController.prototype.confirmStart = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        this.editing = false;\r\n        this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\r\n        this.hide();\r\n        this.updateWrapInfo();\r\n    };\r\n    TaskEditController.prototype.processMove = function (delta) {\r\n        if (this.gantt.settings.editing.enabled && this.gantt.settings.editing.allowTaskUpdate) {\r\n            this.baseElement.className = this.baseElement.className + \" move\";\r\n            var left = this.baseElement.offsetLeft + delta;\r\n            this.baseElement.style.left = left + \"px\";\r\n            var date = this.gantt.gridLayoutCalculator.getDateByPos(left);\r\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\r\n            var dateDiff = this.task.start.getTime() - this.taskDateRange.start.getTime();\r\n            var endDate = new Date(this.task.end.getTime() - dateDiff);\r\n            this.taskDateRange.end = this.getNewDate(this.task.end, endDate);\r\n            this.editing = this.gantt.modelManipulator.dispatcher.raiseTaskMoving(this.task, this.taskDateRange.start, this.taskDateRange.end, this.onTaskMovingCallback.bind(this));\r\n            if (this.editing)\r\n                this.tooltip.showTime(this.taskDateRange.start, this.taskDateRange.end, dom_1.DomUtils.getAbsolutePositionX(this.baseElement));\r\n            return this.editing;\r\n        }\r\n        return true;\r\n    };\r\n    TaskEditController.prototype.onTaskMovingCallback = function (newStart, newEnd) {\r\n        if (this.taskDateRange.start === newStart && this.taskDateRange.end === newEnd)\r\n            return;\r\n        var calculator = this.gantt.gridLayoutCalculator;\r\n        var newLeft = calculator.getPosByDate(newStart);\r\n        var newWidth = calculator.getPosByDate(newEnd) - newLeft;\r\n        this.baseElement.style.left = newLeft + \"px\";\r\n        this.baseElement.style.width = (newWidth < 1 ? 0 : newWidth) + \"px\";\r\n        this.taskDateRange.start = newStart;\r\n        this.taskDateRange.end = newEnd;\r\n    };\r\n    TaskEditController.prototype.confirmMove = function () {\r\n        if (this.gantt.settings.editing.enabled && this.gantt.settings.editing.allowTaskUpdate) {\r\n            if (!this.gantt.settings.editing.allowDependencyInsert)\r\n                this.baseElement.className = this.baseElement.className + \" hide-dependency\";\r\n            if (this.editing) {\r\n                this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n                this.gantt.commandManager.taskMoveCommand.execute(this.taskId, this.taskDateRange.start, this.taskDateRange.end);\r\n                this.updateWrapInfo();\r\n                this.hide();\r\n                this.editing = false;\r\n            }\r\n        }\r\n    };\r\n    TaskEditController.prototype.getNewDate = function (referenceDate, newDate) {\r\n        if (this.gantt.settings.viewType > Enums_1.ViewType.SixHours) {\r\n            var year = newDate.getFullYear();\r\n            var month = newDate.getMonth();\r\n            var day = newDate.getDate();\r\n            var hours = this.gantt.settings.viewType == Enums_1.ViewType.Days ? newDate.getHours() : referenceDate.getHours();\r\n            var minutes = referenceDate.getMinutes();\r\n            var sec = referenceDate.getSeconds();\r\n            var msec = referenceDate.getMilliseconds();\r\n            return new Date(year, month, day, hours, minutes, sec, msec);\r\n        }\r\n        return newDate;\r\n    };\r\n    TaskEditController.prototype.startDependency = function (pos) {\r\n        this.dependencyLine = document.createElement(\"DIV\");\r\n        this.dependencyLine.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE;\r\n        this.gantt.taskArea.appendChild(this.dependencyLine);\r\n        this.startPosition = pos;\r\n    };\r\n    TaskEditController.prototype.processDependency = function (pos) {\r\n        this.editing = true;\r\n        this.drawline(this.startPosition, pos);\r\n    };\r\n    TaskEditController.prototype.endDependency = function (type) {\r\n        this.editing = false;\r\n        if (type != null)\r\n            this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId, this.successorId, type);\r\n        var parentNode = this.dependencyLine.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.dependencyLine);\r\n        this.dependencyLine = null;\r\n        this.hideDependencySuccessor();\r\n        this.hide();\r\n    };\r\n    TaskEditController.prototype.selectDependency = function (id) {\r\n        if (this.gantt.settings.editing.allowDependencyDelete)\r\n            this.dependencyId = id;\r\n    };\r\n    TaskEditController.prototype.isDependencySelected = function (id) {\r\n        return this.dependencyId && this.dependencyId == id;\r\n    };\r\n    TaskEditController.prototype.deleteSelectedDependency = function () {\r\n        if (this.dependencyId)\r\n            this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId);\r\n    };\r\n    TaskEditController.prototype.getTaskWrapperElementInfo = function (taskIndex) {\r\n        var calculator = this.gantt.gridLayoutCalculator;\r\n        var info = calculator.getTaskWrapperElementInfo(taskIndex);\r\n        info.size.width = calculator.getTaskWidth(taskIndex);\r\n        info.size.height = calculator.getTaskHeight(taskIndex);\r\n        return info;\r\n    };\r\n    TaskEditController.prototype.createElements = function () {\r\n        this.baseElement = document.createElement(\"DIV\");\r\n        this.baseFrame = document.createElement(\"DIV\");\r\n        this.baseFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME;\r\n        this.baseElement.appendChild(this.baseFrame);\r\n        this.progressEdit = document.createElement(\"DIV\");\r\n        this.progressEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS;\r\n        this.baseFrame.appendChild(this.progressEdit);\r\n        this.progressEdit.appendChild(document.createElement(\"DIV\"));\r\n        this.dependencyFinish = document.createElement(\"DIV\");\r\n        this.dependencyFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH);\r\n        if (browser_1.Browser.TouchUI)\r\n            this.dependencyFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\r\n        this.baseFrame.appendChild(this.dependencyFinish);\r\n        this.dependencyStart = document.createElement(\"DIV\");\r\n        this.dependencyStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT);\r\n        if (browser_1.Browser.TouchUI)\r\n            this.dependencyStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\r\n        this.baseFrame.appendChild(this.dependencyStart);\r\n        this.startEdit = document.createElement(\"DIV\");\r\n        this.startEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_START;\r\n        this.baseFrame.appendChild(this.startEdit);\r\n        this.endEdit = document.createElement(\"DIV\");\r\n        this.endEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_END;\r\n        this.baseFrame.appendChild(this.endEdit);\r\n        this.dependencySuccessorBaseElement = document.createElement(\"DIV\");\r\n        this.dependencySuccessorBaseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR;\r\n        this.dependencySuccessorFrame = document.createElement(\"DIV\");\r\n        this.dependencySuccessorFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR;\r\n        this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame);\r\n        this.dependencySuccessorStart = document.createElement(\"DIV\");\r\n        this.dependencySuccessorStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH);\r\n        if (browser_1.Browser.TouchUI)\r\n            this.dependencySuccessorStart.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\r\n        this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart);\r\n        this.dependencySuccessorFinish = document.createElement(\"DIV\");\r\n        this.dependencySuccessorFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT);\r\n        if (browser_1.Browser.TouchUI)\r\n            this.dependencySuccessorFinish.classList.add(TaskEditController.CLASSNAMES.TASK_EDIT_TOUCH);\r\n        this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish);\r\n        this.tooltip = new TaskEditTooltip(this.baseElement, this.gantt, this.gantt.elementTextHelper.cultureInfo);\r\n        this.attachEvents();\r\n    };\r\n    TaskEditController.prototype.attachEvents = function () {\r\n        this.baseElement.addEventListener(\"mouseleave\", function () {\r\n            if (!this.editing)\r\n                this.hide();\r\n        }.bind(this));\r\n    };\r\n    TaskEditController.prototype.drawline = function (start, end) {\r\n        if (start.x > end.x) {\r\n            var temp = end;\r\n            end = start;\r\n            start = temp;\r\n        }\r\n        var angle = Math.atan((start.y - end.y) / (end.x - start.x));\r\n        angle = (angle * 180 / Math.PI);\r\n        angle = -angle;\r\n        var length = Math.sqrt((start.x - end.x) * (start.x - end.x) + (start.y - end.y) * (start.y - end.y));\r\n        this.dependencyLine.style.left = start.x + \"px\";\r\n        this.dependencyLine.style.top = start.y + \"px\";\r\n        this.dependencyLine.style.width = length + \"px\";\r\n        this.dependencyLine.style.transform = \"rotate(\" + angle + \"deg)\";\r\n    };\r\n    TaskEditController.prototype.canUpdateTask = function () {\r\n        return !this.gantt.viewModel.isTaskToCalculateByChildren(this.task.internalId);\r\n    };\r\n    TaskEditController.CLASSNAMES = {\r\n        TASK_EDIT_BOX: \"dx-gantt-task-edit-wrapper\",\r\n        TASK_EDIT_FRAME: \"dx-gantt-task-edit-frame\",\r\n        TASK_EDIT_PROGRESS: \"dx-gantt-task-edit-progress\",\r\n        TASK_EDIT_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-dependency-r\",\r\n        TASK_EDIT_DEPENDENCY_LEFT: \"dx-gantt-task-edit-dependency-l\",\r\n        TASK_EDIT_START: \"dx-gantt-task-edit-start\",\r\n        TASK_EDIT_END: \"dx-gantt-task-edit-end\",\r\n        TASK_EDIT_DEPENDENCY_LINE: \"dx-gantt-task-edit-dependency-line\",\r\n        TASK_EDIT_BOX_SUCCESSOR: \"dx-gantt-task-edit-wrapper-successor\",\r\n        TASK_EDIT_FRAME_SUCCESSOR: \"dx-gantt-task-edit-frame-successor\",\r\n        TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-successor-dependency-r\",\r\n        TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT: \"dx-gantt-task-edit-successor-dependency-l\",\r\n        TASK_EDIT_TOUCH: \"dx-gantt-edit-touch\"\r\n    };\r\n    return TaskEditController;\r\n}());\r\nexports.TaskEditController = TaskEditController;\r\nvar TaskEditTooltip = (function () {\r\n    function TaskEditTooltip(parentElement, owner, cultureInfo) {\r\n        this.parentElement = parentElement;\r\n        this.baseElement = document.createElement(\"DIV\");\r\n        this.baseElement.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS;\r\n        parentElement.appendChild(this.baseElement);\r\n        this.owner = owner;\r\n        this.cultureInfo = cultureInfo;\r\n    }\r\n    TaskEditTooltip.prototype.setDefaultTooltip = function (task) {\r\n        this.defaultTooltip = document.createElement(\"DIV\");\r\n        this.defaultTooltip.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;\r\n        var titleWrapper = document.createElement(\"DIV\");\r\n        titleWrapper.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TASK_TITLE;\r\n        var title = document.createElement(\"SPAN\");\r\n        titleWrapper.appendChild(title);\r\n        this.defaultTooltip.appendChild(titleWrapper);\r\n        title.innerText = task.title;\r\n        this.defaultTooltip.appendChild(this.getTimeContent(task.start, task.end));\r\n        if (!isNaN(task.progress)) {\r\n            var progressElement = document.createElement(\"DIV\");\r\n            progressElement.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\r\n            var progressTitle = document.createElement(\"SPAN\");\r\n            var progressValue = document.createElement(\"SPAN\");\r\n            progressElement.appendChild(progressTitle);\r\n            progressElement.appendChild(progressValue);\r\n            this.defaultTooltip.appendChild(progressElement);\r\n            progressTitle.innerText = (this.cultureInfo.progress ? this.cultureInfo.progress : \"Progress\") + \": \";\r\n            progressValue.innerText = task.progress + \"%\";\r\n        }\r\n        this.baseElement.appendChild(this.defaultTooltip);\r\n    };\r\n    TaskEditTooltip.prototype.showInfo = function (task, posX, delay, tooltipTemplateFunction) {\r\n        var _this = this;\r\n        if (delay === void 0) { delay = 0; }\r\n        var isTooltipShowing = true;\r\n        this.owner.destroyTemplate(this.baseElement);\r\n        if (tooltipTemplateFunction)\r\n            isTooltipShowing = tooltipTemplateFunction(this.baseElement, task);\r\n        else\r\n            this.setDefaultTooltip(task);\r\n        isTooltipShowing = isTooltipShowing && !!this.baseElement.innerHTML;\r\n        if (isTooltipShowing) {\r\n            var showInfoFunc = function () {\r\n                _this.show(posX, false);\r\n            };\r\n            if (delay)\r\n                this.timerId = setTimeout(showInfoFunc, delay);\r\n            else\r\n                showInfoFunc();\r\n        }\r\n    };\r\n    TaskEditTooltip.prototype.showProgress = function (progress, posX) {\r\n        this.owner.destroyTemplate(this.baseElement);\r\n        this.defaultTooltip = document.createElement(\"DIV\");\r\n        this.defaultTooltip.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;\r\n        this.defaultTooltip.innerText = progress + \"%\";\r\n        this.baseElement.appendChild(this.defaultTooltip);\r\n        this.show(posX);\r\n    };\r\n    TaskEditTooltip.prototype.showTime = function (start, end, posX) {\r\n        this.owner.destroyTemplate(this.baseElement);\r\n        this.defaultTooltip = document.createElement(\"DIV\");\r\n        this.defaultTooltip.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;\r\n        this.defaultTooltip.appendChild(this.getTimeContent(start, end));\r\n        this.baseElement.appendChild(this.defaultTooltip);\r\n        this.show(posX);\r\n    };\r\n    TaskEditTooltip.prototype.show = function (posX, autoHide) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        if (autoHide === void 0) { autoHide = true; }\r\n        var arrowHeight = 5;\r\n        var heightOffset = 15;\r\n        (_a = this.defaultTooltip) === null || _a === void 0 ? void 0 : _a.classList.remove(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER);\r\n        (_b = this.defaultTooltip) === null || _b === void 0 ? void 0 : _b.classList.remove(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE);\r\n        this.baseElement.style.display = \"block\";\r\n        var absolutePositionY = dom_1.DomUtils.getAbsolutePositionY(this.parentElement);\r\n        var absoluteX = dom_1.DomUtils.getAbsolutePositionX(this.parentElement);\r\n        var leftPosition = posX - absoluteX - 2 * arrowHeight;\r\n        var absoluteDistance = absolutePositionY - this.owner.header.clientHeight - dom_1.DomUtils.getDocumentScrollTop() - heightOffset;\r\n        var isShowingDown = this.baseElement.clientHeight > absoluteDistance || this.baseElement.clientHeight > this.parentElement.offsetTop;\r\n        var topPosition = -this.baseElement.clientHeight - arrowHeight;\r\n        if (isShowingDown) {\r\n            topPosition = this.parentElement.clientHeight + arrowHeight;\r\n            (_c = this.defaultTooltip) === null || _c === void 0 ? void 0 : _c.classList.add(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER);\r\n        }\r\n        else\r\n            (_d = this.defaultTooltip) === null || _d === void 0 ? void 0 : _d.classList.add(TaskEditTooltip.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE);\r\n        this.baseElement.style.left = leftPosition + \"px\";\r\n        this.baseElement.style.top = topPosition + \"px\";\r\n        if (autoHide) {\r\n            if (this.timerId)\r\n                clearTimeout(this.timerId);\r\n            this.timerId = setTimeout(function () {\r\n                _this.baseElement.style.display = \"none\";\r\n            }, 1500);\r\n        }\r\n    };\r\n    TaskEditTooltip.prototype.hide = function () {\r\n        this.baseElement.style.display = \"none\";\r\n        clearTimeout(this.timerId);\r\n    };\r\n    TaskEditTooltip.prototype.getTimeContent = function (start, end) {\r\n        var timeElement = document.createElement(\"TABLE\");\r\n        timeElement.className = TaskEditTooltip.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\r\n        var body = document.createElement(\"TBODY\");\r\n        timeElement.appendChild(body);\r\n        var startEl = document.createElement(\"TR\");\r\n        var startTitle = document.createElement(\"TD\");\r\n        var startValue = document.createElement(\"TD\");\r\n        var endEl = document.createElement(\"TR\");\r\n        var endTitle = document.createElement(\"TD\");\r\n        var endValue = document.createElement(\"TD\");\r\n        startEl.appendChild(startTitle);\r\n        startEl.appendChild(startValue);\r\n        endEl.appendChild(endTitle);\r\n        endEl.appendChild(endValue);\r\n        body.appendChild(startEl);\r\n        body.appendChild(endEl);\r\n        startTitle.innerText = (this.cultureInfo.start ? this.cultureInfo.start : \"Start\") + \": \";\r\n        startValue.innerText = this.formatDate(start);\r\n        endTitle.innerText = (this.cultureInfo.end ? this.cultureInfo.end : \"End\") + \": \";\r\n        endValue.innerText = this.formatDate(end);\r\n        return timeElement;\r\n    };\r\n    TaskEditTooltip.prototype.formatDate = function (date) {\r\n        return this.owner.getDateFormat(date);\r\n    };\r\n    TaskEditTooltip.CLASSNAMES = {\r\n        TASK_EDIT_PROGRESS_STATUS: \"dx-gantt-task-edit-tooltip\",\r\n        TASK_EDIT_TOOLTIP_DEFAULT: \"dx-gantt-task-edit-tooltip-default\",\r\n        TASK_EDIT_TASK_TITLE: \"dx-gantt-task-title\",\r\n        TASK_EDIT_PROGRESS_STATUS_TIME: \"dx-gantt-status-time\",\r\n        TASK_EDIT_TOOLTIP_ARROW_BEFORE: \"dx-gantt-task-edit-tooltip-before\",\r\n        TASK_EDIT_TOOLTIP_ARROW_AFTER: \"dx-gantt-task-edit-tooltip-after\"\r\n    };\r\n    return TaskEditTooltip;\r\n}());\r\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HistoryItemState = void 0;\r\nvar HistoryItemState = (function () {\r\n    function HistoryItemState(id, value) {\r\n        this.id = id;\r\n        this.value = value;\r\n    }\r\n    return HistoryItemState;\r\n}());\r\nexports.HistoryItemState = HistoryItemState;\r\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HandlerBase = void 0;\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar TaskEditController_1 = __webpack_require__(44);\r\nvar HandlerBase = (function () {\r\n    function HandlerBase(control) {\r\n        this.control = control;\r\n        this.switchToDefaultState();\r\n    }\r\n    HandlerBase.prototype.switchState = function (state) {\r\n        if (this.state)\r\n            this.state.finish();\r\n        this.state = state;\r\n        this.state.start();\r\n    };\r\n    HandlerBase.prototype.switchToDefaultState = function () {\r\n        throw new Error(\"Not implemented\");\r\n    };\r\n    HandlerBase.prototype.getEventSource = function (initSource) {\r\n        var source = initSource.nodeType === Node.ELEMENT_NODE ? initSource : initSource.parentNode;\r\n        var className = source.classList[0];\r\n        return HandlerBase.classToSource[className] || TaskAreaManager_1.MouseEventSource.TaskArea;\r\n    };\r\n    HandlerBase.classToSource = (_a = {},\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS] = TaskAreaManager_1.MouseEventSource.TaskEdit_Progress,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_START] = TaskAreaManager_1.MouseEventSource.TaskEdit_Start,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_END] = TaskAreaManager_1.MouseEventSource.TaskEdit_End,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME] = TaskAreaManager_1.MouseEventSource.TaskEdit_Frame,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.Successor_DependencyStart,\r\n        _a[TaskEditController_1.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish,\r\n        _a);\r\n    return HandlerBase;\r\n}());\r\nexports.HandlerBase = HandlerBase;\r\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandlerDependencyState = exports.dependencyMap = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar point_1 = __webpack_require__(4);\r\nvar dom_1 = __webpack_require__(3);\r\nvar evt_1 = __webpack_require__(6);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(29);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar Dependency_1 = __webpack_require__(11);\r\nexports.dependencyMap = [];\r\nexports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart] = [];\r\nexports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish] = [];\r\nexports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.SS;\r\nexports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.SF;\r\nexports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.FS;\r\nexports.dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.FF;\r\nvar MouseHandlerDependencyState = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerDependencyState, _super);\r\n    function MouseHandlerDependencyState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerDependencyState.prototype.onMouseDown = function (evt) {\r\n        var sourceElement = evt_1.EvtUtils.getEventSource(evt);\r\n        this.source = this.handler.getEventSource(sourceElement);\r\n        var pos = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\r\n        this.handler.control.taskEditController.startDependency(pos);\r\n    };\r\n    MouseHandlerDependencyState.prototype.onMouseUp = function (evt) {\r\n        if (evt instanceof PointerEvent) {\r\n            var relativePosStart = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientHeight / 2));\r\n            var relativePosEnd = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight / 2));\r\n            var relativeTouchPos = this.getRelativePos(new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt)));\r\n            var target = this.isTouchNearby(relativeTouchPos, relativePosStart) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyStart :\r\n                this.isTouchNearby(relativeTouchPos, relativePosEnd) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish : null;\r\n            var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ?\r\n                exports.dependencyMap[this.source][target] : null;\r\n            this.handler.control.taskEditController.endDependency(type);\r\n        }\r\n        else {\r\n            var target = this.handler.getEventSource(evt_1.EvtUtils.getEventSource(evt));\r\n            var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ?\r\n                exports.dependencyMap[this.source][target] : null;\r\n            this.handler.control.taskEditController.endDependency(type);\r\n        }\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    MouseHandlerDependencyState.prototype.onMouseMove = function (evt) {\r\n        evt.preventDefault();\r\n        var relativePos = this.getRelativePos(new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt)));\r\n        var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\r\n        this.handler.control.taskEditController.processDependency(relativePos);\r\n        if (this.handler.control.viewModel.tasks.items[hoverTaskIndex])\r\n            this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\r\n    };\r\n    MouseHandlerDependencyState.prototype.isTouchNearby = function (touchPos, elementPos) {\r\n        if (Math.abs(elementPos.x - touchPos.x) <= 10 && Math.abs(elementPos.y - touchPos.y) <= 10)\r\n            return true;\r\n        return false;\r\n    };\r\n    return MouseHandlerDependencyState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDependencyState = MouseHandlerDependencyState;\r\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerStateBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HandlerStateBase_1 = __webpack_require__(19);\r\nvar TouchHandlerStateBase = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerStateBase, _super);\r\n    function TouchHandlerStateBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerStateBase.prototype.onTouchStart = function (_evt) { };\r\n    TouchHandlerStateBase.prototype.onDoubleTap = function (_evt) { };\r\n    TouchHandlerStateBase.prototype.onTouchEnd = function (_evt) { };\r\n    TouchHandlerStateBase.prototype.onTouchMove = function (_evt) { };\r\n    return TouchHandlerStateBase;\r\n}(HandlerStateBase_1.HandlerStateBase));\r\nexports.TouchHandlerStateBase = TouchHandlerStateBase;\r\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskEditDialogShowingArguments = exports.TaskUpdatingArguments = exports.TaskRemovingArguments = exports.TaskInsertingArguments = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar BaseArguments_1 = __webpack_require__(20);\r\nvar TaskInsertingArguments = (function (_super) {\r\n    tslib_1.__extends(TaskInsertingArguments, _super);\r\n    function TaskInsertingArguments(key, start, end, title, progress, parentId) {\r\n        var _this = _super.call(this, key) || this;\r\n        _this.values = {\r\n            start: start,\r\n            end: end,\r\n            title: title,\r\n            progress: progress,\r\n            parentId: parentId\r\n        };\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TaskInsertingArguments.prototype, \"start\", {\r\n        get: function () { return this.values.start; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskInsertingArguments.prototype, \"end\", {\r\n        get: function () { return this.values.end; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskInsertingArguments.prototype, \"title\", {\r\n        get: function () { return this.values.title; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskInsertingArguments.prototype, \"progress\", {\r\n        get: function () { return this.values.progress; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskInsertingArguments.prototype, \"parentId\", {\r\n        get: function () { return this.values.parentId; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return TaskInsertingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.TaskInsertingArguments = TaskInsertingArguments;\r\nvar TaskRemovingArguments = (function (_super) {\r\n    tslib_1.__extends(TaskRemovingArguments, _super);\r\n    function TaskRemovingArguments(task) {\r\n        var _this = _super.call(this, task.id) || this;\r\n        _this.values = task;\r\n        return _this;\r\n    }\r\n    return TaskRemovingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.TaskRemovingArguments = TaskRemovingArguments;\r\nvar TaskUpdatingArguments = (function (_super) {\r\n    tslib_1.__extends(TaskUpdatingArguments, _super);\r\n    function TaskUpdatingArguments(task, fieldNames, newValues) {\r\n        var _this = _super.call(this, task.id) || this;\r\n        _this.values = task;\r\n        _this.createNewValues(fieldNames, newValues);\r\n        return _this;\r\n    }\r\n    TaskUpdatingArguments.prototype.createNewValues = function (fieldNames, newValues) {\r\n        var _this = this;\r\n        this.newValues = {};\r\n        var _loop_1 = function (i) {\r\n            var fieldName = fieldNames[i];\r\n            this_1.newValues[fieldName] = newValues[i];\r\n            Object.defineProperty(this_1, fieldName, {\r\n                get: function () { return _this.newValues[fieldName]; }\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < fieldNames.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    return TaskUpdatingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.TaskUpdatingArguments = TaskUpdatingArguments;\r\nvar TaskEditDialogShowingArguments = (function (_super) {\r\n    tslib_1.__extends(TaskEditDialogShowingArguments, _super);\r\n    function TaskEditDialogShowingArguments(params) {\r\n        var _this = _super.call(this, params.id) || this;\r\n        _this.values = {\r\n            start: params.start,\r\n            end: params.end,\r\n            title: params.title,\r\n            progress: params.progress\r\n        };\r\n        _this.hiddenFields = params.hiddenFields;\r\n        _this.readOnlyFields = params.readOnlyFields;\r\n        return _this;\r\n    }\r\n    return TaskEditDialogShowingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.TaskEditDialogShowingArguments = TaskEditDialogShowingArguments;\r\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemoveTaskHistoryItem = exports.CreateTaskHistoryItem = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItem_1 = __webpack_require__(12);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(21);\r\nvar CreateTaskHistoryItem = (function (_super) {\r\n    tslib_1.__extends(CreateTaskHistoryItem, _super);\r\n    function CreateTaskHistoryItem(modelManipulator, start, end, title, progress, parentId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.start = start;\r\n        _this.end = end;\r\n        _this.title = title;\r\n        _this.progress = progress;\r\n        _this.parentId = parentId;\r\n        return _this;\r\n    }\r\n    CreateTaskHistoryItem.prototype.redo = function () {\r\n        this.taskId = this.modelManipulator.task.create(this.start, this.end, this.title, this.progress, this.parentId, this.taskId ? this.taskId : null).internalId;\r\n    };\r\n    CreateTaskHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.task.remove(this.taskId);\r\n    };\r\n    return CreateTaskHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.CreateTaskHistoryItem = CreateTaskHistoryItem;\r\nvar RemoveTaskHistoryItem = (function (_super) {\r\n    tslib_1.__extends(RemoveTaskHistoryItem, _super);\r\n    function RemoveTaskHistoryItem(modelManipulator) {\r\n        var _this = _super.call(this) || this;\r\n        _this.taskIds = [];\r\n        _this.tasks = [];\r\n        _this.modelManipulator = modelManipulator;\r\n        return _this;\r\n    }\r\n    RemoveTaskHistoryItem.prototype.redo = function () {\r\n        var _this = this;\r\n        _super.prototype.redo.call(this);\r\n        this.taskIds.forEach(function (id) {\r\n            _this.tasks.push(_this.modelManipulator.task.remove(id));\r\n        });\r\n    };\r\n    RemoveTaskHistoryItem.prototype.undo = function () {\r\n        var _this = this;\r\n        if (this.tasks.length) {\r\n            var task_1 = this.tasks.shift();\r\n            this.modelManipulator.task.create(task_1.start, task_1.end, task_1.title, task_1.progress, task_1.parentId, task_1.internalId, function () {\r\n                _this.modelManipulator.task.properties.progress.setValue(task_1.internalId, task_1.progress);\r\n                if (task_1.color)\r\n                    _this.modelManipulator.task.properties.color.setValue(task_1.internalId, task_1.color);\r\n                _this.tasks.length ? _this.undo() : _super.prototype.undo.call(_this);\r\n            });\r\n        }\r\n    };\r\n    RemoveTaskHistoryItem.prototype.undoItemsQuery = function () {\r\n        while (this.tasks.length) {\r\n            var task = this.tasks.shift();\r\n            this.modelManipulator.task.create(task.start, task.end, task.title, task.progress, task.parentId, task.internalId, function () { });\r\n            this.modelManipulator.task.properties.progress.setValue(task.internalId, task.progress);\r\n            if (task.color)\r\n                this.modelManipulator.task.properties.color.setValue(task.internalId, task.color);\r\n        }\r\n        _super.prototype.undo.call(this);\r\n    };\r\n    RemoveTaskHistoryItem.prototype.addTask = function (taskId) {\r\n        this.taskIds.push(taskId);\r\n    };\r\n    RemoveTaskHistoryItem.prototype.add = function (historyItem) {\r\n        if (historyItem instanceof TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem) {\r\n            var item_1 = historyItem;\r\n            if (!this.historyItems.filter(function (i) { return i instanceof TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem && i.dependencyId == item_1.dependencyId; }).length)\r\n                this.historyItems.push(item_1);\r\n        }\r\n        else\r\n            _super.prototype.add.call(this, historyItem);\r\n    };\r\n    return RemoveTaskHistoryItem;\r\n}(HistoryItem_1.CompositionHistoryItem));\r\nexports.RemoveTaskHistoryItem = RemoveTaskHistoryItem;\r\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConstraintViolationDialogParameters = exports.ConstraintViolationDialogCommand = exports.ConstraintViolationOption = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DialogBase_1 = __webpack_require__(24);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(21);\r\nvar ConstraintViolationOption;\r\n(function (ConstraintViolationOption) {\r\n    ConstraintViolationOption[ConstraintViolationOption[\"DoNothing\"] = 0] = \"DoNothing\";\r\n    ConstraintViolationOption[ConstraintViolationOption[\"RemoveDependency\"] = 1] = \"RemoveDependency\";\r\n    ConstraintViolationOption[ConstraintViolationOption[\"KeepDependency\"] = 2] = \"KeepDependency\";\r\n})(ConstraintViolationOption = exports.ConstraintViolationOption || (exports.ConstraintViolationOption = {}));\r\nvar ConstraintViolationDialogCommand = (function (_super) {\r\n    tslib_1.__extends(ConstraintViolationDialogCommand, _super);\r\n    function ConstraintViolationDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConstraintViolationDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        if (newParameters.option === ConstraintViolationOption.DoNothing)\r\n            return false;\r\n        if (newParameters.option === ConstraintViolationOption.RemoveDependency) {\r\n            this.history.beginTransaction();\r\n            this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, oldParameters.validationError.dependencyId));\r\n            oldParameters.callback();\r\n            this.history.endTransaction();\r\n            this.control.barManager.updateItemsState([]);\r\n        }\r\n        if (newParameters.option === ConstraintViolationOption.KeepDependency) {\r\n            oldParameters.callback();\r\n            this.control.barManager.updateItemsState([]);\r\n        }\r\n        return true;\r\n    };\r\n    ConstraintViolationDialogCommand.prototype.createParameters = function (options) {\r\n        var dependency = this.control.viewModel.dependencies.getItemById(options.validationError.dependencyId);\r\n        var successorTask = this.control.viewModel.tasks.getItemById(dependency.successorId);\r\n        var predecessorTask = this.control.viewModel.tasks.getItemById(dependency.predecessorId);\r\n        options.successorTaskTitle = successorTask.title;\r\n        options.predecessorTaskTitle = predecessorTask.title;\r\n        return options;\r\n    };\r\n    ConstraintViolationDialogCommand.prototype.getDialogName = function () {\r\n        return \"ConstraintViolation\";\r\n    };\r\n    return ConstraintViolationDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.ConstraintViolationDialogCommand = ConstraintViolationDialogCommand;\r\nvar ConstraintViolationDialogParameters = (function (_super) {\r\n    tslib_1.__extends(ConstraintViolationDialogParameters, _super);\r\n    function ConstraintViolationDialogParameters(validationError, callback) {\r\n        var _this = _super.call(this) || this;\r\n        _this.validationError = validationError;\r\n        _this.callback = callback;\r\n        return _this;\r\n    }\r\n    ConstraintViolationDialogParameters.prototype.clone = function () {\r\n        var result = new ConstraintViolationDialogParameters(this.validationError, this.callback);\r\n        result.option = this.option;\r\n        return result;\r\n    };\r\n    return ConstraintViolationDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ConstraintViolationDialogParameters = ConstraintViolationDialogParameters;\r\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GanttView = exports.default = void 0;\r\n__webpack_require__(53);\r\nvar GanttView_1 = __webpack_require__(54);\r\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return GanttView_1.GanttView; } });\r\nObject.defineProperty(exports, \"GanttView\", { enumerable: true, get: function () { return GanttView_1.GanttView; } });\r\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GanttView = void 0;\r\nvar VisualModel_1 = __webpack_require__(55);\r\nvar Enums_1 = __webpack_require__(14);\r\nvar Utils_1 = __webpack_require__(41);\r\nvar dom_1 = __webpack_require__(3);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar size_1 = __webpack_require__(28);\r\nvar point_1 = __webpack_require__(4);\r\nvar GridElementInfo_1 = __webpack_require__(42);\r\nvar GridLayoutCalculator_1 = __webpack_require__(17);\r\nvar EtalonSizeValues_1 = __webpack_require__(79);\r\nvar TaskEditController_1 = __webpack_require__(44);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar ModelManipulator_1 = __webpack_require__(80);\r\nvar History_1 = __webpack_require__(85);\r\nvar EventManager_1 = __webpack_require__(87);\r\nvar TaskAreaContainer_1 = __webpack_require__(102);\r\nvar Settings_1 = __webpack_require__(43);\r\nvar ModelChangesDispatcher_1 = __webpack_require__(103);\r\nvar CommandManager_1 = __webpack_require__(105);\r\nvar BarManager_1 = __webpack_require__(121);\r\nvar browser_1 = __webpack_require__(5);\r\nvar ValidationController_1 = __webpack_require__(122);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar FullScreenModeHelper_1 = __webpack_require__(123);\r\nvar TaskHistoryItem_1 = __webpack_require__(50);\r\nvar common_1 = __webpack_require__(1);\r\nvar ResourceHistoryItem_1 = __webpack_require__(22);\r\nvar GanttView = (function () {\r\n    function GanttView(element, ganttOwner, settings) {\r\n        var _this = this;\r\n        this.timeScaleAreas = new Array();\r\n        this.horTaskAreaBorders = [];\r\n        this.vertTaskAreaBorders = [];\r\n        this.scaleBorders = [];\r\n        this.scaleElements = [];\r\n        this.taskElements = [];\r\n        this.resourcesElements = [];\r\n        this.selectionElements = [];\r\n        this.hlRowElements = [];\r\n        this.renderedRowIndices = [];\r\n        this.renderedColIndices = [];\r\n        this.renderedScaleItemIndices = [];\r\n        this.dependencyMap = [];\r\n        this.renderedConnectorLines = [];\r\n        this.connectorLinesToElementsMap = {};\r\n        this.noWorkingIntervalsToElementsMap = {};\r\n        this.renderedNoWorkingIntervals = [];\r\n        this.renderedStripLines = [];\r\n        this.stripLinesMap = [];\r\n        this.gridLayoutCalculator = new GridLayoutCalculator_1.GridLayoutCalculator();\r\n        this.etalonSizeValues = new EtalonSizeValues_1.EtalonSizeValues();\r\n        this.tickSize = new size_1.Size(0, 0);\r\n        this.scaleCount = 2;\r\n        this.isFocus = false;\r\n        this.currentZoom = 1;\r\n        this.maxZoom = 3;\r\n        this.stripLinesUpdaterId = null;\r\n        this.currentSelectedTaskID = \"\";\r\n        this.ganttOwner = ganttOwner;\r\n        this.settings = Settings_1.Settings.parse(settings);\r\n        this.elementTextHelper = new Utils_1.ElementTextHelper(settings.cultureInfo);\r\n        this.validationController = new ValidationController_1.ValidationController(this);\r\n        this.createMainElement(element);\r\n        this.createHeader();\r\n        this.calculateEtalonSizeValues();\r\n        this.createTaskAreaContainer();\r\n        this.loadOptionsFromGanttOwner();\r\n        this.elementTextHelper.setFont(this.mainElement);\r\n        this.setupHelpers();\r\n        this.setSizeForTaskArea();\r\n        this.createTimeScaleContainer();\r\n        this.createTimeScaleAreas();\r\n        this.commandManager = new CommandManager_1.CommandManager(this);\r\n        this.barManager = new BarManager_1.BarManager(this, ganttOwner.bars);\r\n        this.eventManager = new EventManager_1.EventManager(this);\r\n        this.taskEditController = new TaskEditController_1.TaskEditController(this);\r\n        this.history = new History_1.History();\r\n        this.taskAreaManager = new TaskAreaManager_1.TaskAreaManager(this);\r\n        this.fullScreenModeHelper = new FullScreenModeHelper_1.FullScreenModeHelper(this);\r\n        window.addEventListener(\"resize\", function () { _this.onBrowserWindowResize(); });\r\n        this.updateView();\r\n        setTimeout(function () {\r\n            _this.scrollLeftByViewType();\r\n        }, 0);\r\n        this.initializeStripLinesUpdater();\r\n    }\r\n    GanttView.prototype.reset = function () {\r\n        this.timeScaleContainer.innerHTML = \"\";\r\n        this.taskArea.innerHTML = \"\";\r\n        this.horTaskAreaBorders = [];\r\n        this.vertTaskAreaBorders = [];\r\n        this.scaleBorders = [];\r\n        this.scaleElements = [];\r\n        this.taskElements = [];\r\n        this.selectionElements = [];\r\n        this.hlRowElements = [];\r\n        this.renderedRowIndices = [];\r\n        this.renderedColIndices = [];\r\n        this.renderedConnectorLines = [];\r\n        this.timeScaleAreas = [];\r\n        this.renderedScaleItemIndices = [];\r\n        this.connectorLinesToElementsMap = {};\r\n        this.renderedNoWorkingIntervals = [];\r\n        this.renderedStripLines = [];\r\n        this.noWorkingIntervalsToElementsMap = {};\r\n    };\r\n    GanttView.prototype.setupHelpers = function () {\r\n        var size = new size_1.Size(this.taskAreaContainer.getWidth(), this.taskAreaContainer.getHeight());\r\n        var scrollBarHeight = this.taskAreaContainer.getHeight() - this.taskAreaContainer.getElement().clientHeight;\r\n        this.gridLayoutCalculator.setSettings(size, this.tickSize, this.etalonSizeValues, this.range, this.viewModel, this.settings.viewType, scrollBarHeight);\r\n        this.elementTextHelper.setSettings(this.range.start.getTime(), this.settings.viewType, this.viewModel.items);\r\n    };\r\n    GanttView.prototype.getDateRange = function (modelStartDate, modelEndDate) {\r\n        var start = new Date(modelStartDate.getTime() - this.getVisibleAreaTime());\r\n        start = Utils_1.DateUtils.adjustStartDateByViewType(start, this.settings.viewType, this.settings.firstDayOfWeek);\r\n        var end = new Date(modelEndDate.getTime() + this.getVisibleAreaTime());\r\n        end = Utils_1.DateUtils.adjustEndDateByViewType(end, this.settings.viewType, this.settings.firstDayOfWeek);\r\n        return new DateRange_1.DateRange(start, end);\r\n    };\r\n    GanttView.prototype.getVisibleAreaTime = function () {\r\n        var visibleTickCount = Math.ceil(this.taskAreaContainer.getWidth() / this.tickSize.width);\r\n        return visibleTickCount * Utils_1.DateUtils.getTickTimeSpan(this.settings.viewType);\r\n    };\r\n    GanttView.prototype.calculateEtalonSizeValues = function () {\r\n        var etalonElementsContainer = this.createEtalonElementsContainer();\r\n        var etalonElements = this.createEtalonElements(etalonElementsContainer);\r\n        this.calculateEtalonSizeValuesCore(etalonElements);\r\n        this.mainElement.removeChild(etalonElementsContainer);\r\n    };\r\n    GanttView.prototype.calculateEtalonSizeValuesCore = function (etalonElements) {\r\n        this.etalonSizeValues.taskHeight = etalonElements[0].firstChild.offsetHeight;\r\n        this.etalonSizeValues.milestoneWidth = etalonElements[1].firstChild.offsetWidth;\r\n        this.etalonSizeValues.taskWrapperTopPadding = dom_1.DomUtils.pxToInt(dom_1.DomUtils.getCurrentStyle(etalonElements[0]).paddingTop);\r\n        this.etalonSizeValues.connectorLineThickness = dom_1.DomUtils.getVerticalBordersWidth(etalonElements[2]);\r\n        this.etalonSizeValues.connectorArrowWidth = dom_1.DomUtils.getHorizontalBordersWidth(etalonElements[3]);\r\n        for (var i = 0; i <= Enums_1.ViewType.Years; i++) {\r\n            etalonElements[4].innerText = this.elementTextHelper.getScaleItemTextTemplate(i);\r\n            this.etalonSizeValues.scaleItemWidths[i] = etalonElements[4].offsetWidth;\r\n        }\r\n        this.etalonSizeValues.smallTaskWidth = this.getSmallTaskWidth(dom_1.DomUtils.getCurrentStyle(etalonElements[0].firstChild.firstChild).paddingLeft);\r\n        this.etalonSizeValues.outsideTaskTextDefaultWidth = dom_1.DomUtils.pxToFloat(dom_1.DomUtils.getCurrentStyle(etalonElements[5]).width);\r\n        this.etalonSizeValues.scaleItemHeight = this.ganttOwner.getHeaderHeight() / this.scaleCount;\r\n        this.etalonSizeValues.parentTaskHeight = etalonElements[etalonElements.length - 1].firstChild.offsetHeight;\r\n    };\r\n    GanttView.prototype.getSmallTaskWidth = function (etalonPaddingLeft) {\r\n        var result = 0;\r\n        if (etalonPaddingLeft != null && etalonPaddingLeft != \"\") {\r\n            var indexOfRem = etalonPaddingLeft.indexOf(\"rem\");\r\n            if (indexOfRem > -1)\r\n                try {\r\n                    var remSize = parseFloat(etalonPaddingLeft.substr(0, indexOfRem));\r\n                    result = remSize * parseFloat(getComputedStyle(document.documentElement).fontSize);\r\n                }\r\n                catch (e) { }\r\n            else\r\n                result = dom_1.DomUtils.pxToInt(etalonPaddingLeft);\r\n        }\r\n        return result * 2;\r\n    };\r\n    GanttView.prototype.createEtalonElementsContainer = function () {\r\n        var result = document.createElement(\"DIV\");\r\n        result.style.visibility = \"hidden\";\r\n        result.style.position = \"absolute\";\r\n        result.style.left = \"-1000px\";\r\n        this.mainElement.appendChild(result);\r\n        return result;\r\n    };\r\n    GanttView.prototype.createEtalonElements = function (parent) {\r\n        var etalonElements = [];\r\n        var wrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        var task = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task\"), null, wrapper);\r\n        var taskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, task);\r\n        taskTitle.innerText = \"WWW\";\r\n        etalonElements.push(wrapper);\r\n        var milestoneWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-milestone\"), null, milestoneWrapper);\r\n        etalonElements.push(milestoneWrapper);\r\n        var etalonElementClassNames = [\"dx-gantt-conn-h\", \"dx-gantt-arrow\", \"dx-gantt-si\", \"dx-gantt-taskTitle dx-gantt-titleOut\"];\r\n        for (var i = 0; i < etalonElementClassNames.length; i++) {\r\n            var etalonElementInfo = new GridElementInfo_1.GridElementInfo(etalonElementClassNames[i]);\r\n            etalonElements.push(this.createElement(etalonElementInfo, null, parent));\r\n        }\r\n        var parentWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        var parentTask = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-parent\"), null, parentWrapper);\r\n        var parentTaskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, parentTask);\r\n        parentTaskTitle.innerText = \"WWW\";\r\n        etalonElements.push(parentWrapper);\r\n        return etalonElements;\r\n    };\r\n    GanttView.prototype.zoomIn = function (leftPos) {\r\n        if (leftPos === void 0) { leftPos = this.taskAreaContainer.getWidth() / 2; }\r\n        var targetDate = this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft + leftPos);\r\n        if (this.currentZoom < this.maxZoom) {\r\n            this.currentZoom++;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n        else if (this.settings.viewType > Enums_1.ViewType.TenMinutes) {\r\n            this.currentZoom = 1;\r\n            this.setViewType(this.settings.viewType - 1, false);\r\n        }\r\n        this.scrollToDate(targetDate, leftPos);\r\n    };\r\n    GanttView.prototype.zoomOut = function (leftPos) {\r\n        if (leftPos === void 0) { leftPos = this.taskAreaContainer.getWidth() / 2; }\r\n        var targetDate = this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft + leftPos);\r\n        if (this.currentZoom > 1) {\r\n            this.currentZoom--;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n        else if (this.settings.viewType < Enums_1.ViewType.Years) {\r\n            this.currentZoom = this.maxZoom;\r\n            this.setViewType(this.settings.viewType + 1, false);\r\n        }\r\n        this.scrollToDate(targetDate, leftPos);\r\n    };\r\n    GanttView.prototype.scrollToDate = function (date, leftPos) {\r\n        this.taskAreaContainer.scrollLeft = Math.round(this.gridLayoutCalculator.getPosByDate(date)) - leftPos;\r\n    };\r\n    GanttView.prototype.scrollLeftByViewType = function () {\r\n        var adjustedStartDate = Utils_1.DateUtils.roundStartDate(this.dataRange.start, this.settings.viewType);\r\n        this.taskAreaContainer.scrollLeft = Math.round(this.gridLayoutCalculator.getPosByDate(adjustedStartDate)) + 1;\r\n    };\r\n    GanttView.prototype.onVisualModelChanged = function () {\r\n        this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.initializeStripLinesUpdater = function () {\r\n        var _this = this;\r\n        if (this.settings.stripLines.showCurrentTime)\r\n            this.stripLinesUpdaterId = setInterval(function () {\r\n                if (_this.recreateStripLines)\r\n                    _this.recreateStripLines();\r\n            }, Math.max(this.settings.stripLines.currentTimeUpdateInterval, 100));\r\n    };\r\n    GanttView.prototype.clearStripLinesUpdater = function () {\r\n        if (this.stripLinesUpdaterId)\r\n            clearInterval(this.stripLinesUpdaterId);\r\n        this.stripLinesUpdaterId = null;\r\n    };\r\n    GanttView.prototype.getGanttViewStartDate = function (tasks) {\r\n        if (!tasks)\r\n            return new Date();\r\n        var dates = tasks.map(function (t) { return typeof t.start === \"string\" ? new Date(t.start) : t.start; }).filter(function (d) { return common_1.isDefined(d); });\r\n        return dates.length > 0 ? dates.reduce(function (min, d) { return d < min ? d : min; }, dates[0]) : new Date();\r\n    };\r\n    GanttView.prototype.getGanttViewEndDate = function (tasks) {\r\n        if (!tasks)\r\n            return new Date();\r\n        var dates = tasks.map(function (t) { return typeof t.end === \"string\" ? new Date(t.end) : t.end; }).filter(function (d) { return common_1.isDefined(d); });\r\n        return dates.length > 0 ? dates.reduce(function (max, d) { return d > max ? d : max; }, dates[0]) : new Date();\r\n    };\r\n    GanttView.prototype.getTaskAreaWidth = function () {\r\n        return this.gridLayoutCalculator.horizontalTickCount * this.tickSize.width;\r\n    };\r\n    GanttView.prototype.getTaskAreaHeight = function () {\r\n        return this.gridLayoutCalculator.getVerticalGridLineHeight();\r\n    };\r\n    GanttView.prototype.getVisibleTaskCount = function () { return this.viewModel.itemCount; };\r\n    GanttView.prototype.getTask = function (index) {\r\n        var item = this.viewModel.items[index];\r\n        return item.task;\r\n    };\r\n    GanttView.prototype.createMainElement = function (parent) {\r\n        this.mainElement = document.createElement(\"DIV\");\r\n        this.mainElement.style.width = parent.offsetWidth + \"px\";\r\n        this.mainElement.style.height = parent.offsetHeight + \"px\";\r\n        parent.appendChild(this.mainElement);\r\n    };\r\n    GanttView.prototype.createHeader = function () {\r\n        this.header = document.createElement(\"DIV\");\r\n        this.header.className = \"dx-gantt-header\";\r\n        this.mainElement.appendChild(this.header);\r\n    };\r\n    GanttView.prototype.createTimeScaleContainer = function () {\r\n        this.timeScaleContainer = document.createElement(\"DIV\");\r\n        this.timeScaleContainer.className = \"dx-gantt-tsac\";\r\n        this.timeScaleContainer.style.height = this.etalonSizeValues.scaleItemHeight * this.scaleCount + \"px\";\r\n        this.header.appendChild(this.timeScaleContainer);\r\n    };\r\n    GanttView.prototype.createTimeScaleArea = function () {\r\n        var timeScaleArea = document.createElement(\"DIV\");\r\n        timeScaleArea.className = \"dx-gantt-tsa\";\r\n        timeScaleArea.style.width = this.getTaskAreaWidth() + \"px\";\r\n        timeScaleArea.style.height = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n        this.timeScaleContainer.appendChild(timeScaleArea);\r\n        this.timeScaleAreas.unshift(timeScaleArea);\r\n        return timeScaleArea;\r\n    };\r\n    GanttView.prototype.createTimeScaleAreas = function () {\r\n        for (var i = 0; i < this.scaleCount; i++) {\r\n            var timeScaleArea = this.createTimeScaleArea();\r\n            if (i == 0 && this.settings.viewType == Enums_1.ViewType.Weeks)\r\n                this.createMonthsScale(timeScaleArea);\r\n        }\r\n    };\r\n    GanttView.prototype.createTaskAreaContainer = function () {\r\n        var element = document.createElement(\"DIV\");\r\n        element.className = \"dx-gantt-tac\";\r\n        this.mainElement.appendChild(element);\r\n        this.createTaskArea(element);\r\n        this.taskAreaContainer = this.ganttOwner.getExternalTaskAreaContainer(element);\r\n        if (this.taskAreaContainer == null)\r\n            this.taskAreaContainer = new TaskAreaContainer_1.TaskAreaContainer(element, this);\r\n        this.prepareTaskAreaContainer();\r\n    };\r\n    GanttView.prototype.prepareTaskAreaContainer = function () {\r\n        var className = \"dx-gantt-tac-hb\";\r\n        var element = this.taskAreaContainer.getElement();\r\n        this.settings.areHorizontalBordersEnabled ?\r\n            dom_1.DomUtils.addClassName(element, className) : dom_1.DomUtils.removeClassName(element, className);\r\n        var marginTop = parseInt(getComputedStyle(element).getPropertyValue(\"margin-top\")) || 0;\r\n        element.style.height = \"calc(100% - \" + (this.etalonSizeValues.scaleItemHeight * this.scaleCount + marginTop) + \"px)\";\r\n    };\r\n    GanttView.prototype.createTaskArea = function (parent) {\r\n        this.taskArea = document.createElement(\"DIV\");\r\n        this.taskArea.id = \"dx-gantt-ta\";\r\n        parent.appendChild(this.taskArea);\r\n    };\r\n    GanttView.prototype.setSizeForTaskArea = function () {\r\n        this.taskArea.style.width = this.getTaskAreaWidth() + \"px\";\r\n        this.taskArea.style.height = this.getTaskAreaHeight() + \"px\";\r\n    };\r\n    GanttView.prototype.updateTickSizeWidth = function () {\r\n        this.tickSize.width = this.etalonSizeValues.scaleItemWidths[this.settings.viewType] * this.currentZoom;\r\n    };\r\n    GanttView.prototype.createMonthsScale = function (parent) {\r\n        var currentDate = new Date();\r\n        currentDate.setTime(this.range.start.getTime());\r\n        var x = 0;\r\n        var index = 0;\r\n        while (currentDate.getTime() < this.range.end.getTime()) {\r\n            var dayInMonthCount = Utils_1.DateUtils.getDaysInMonth(currentDate.getMonth(), currentDate.getFullYear());\r\n            var dayCount = dayInMonthCount - currentDate.getDate() + 1;\r\n            var nextDate = new Date();\r\n            nextDate.setTime(currentDate.getTime() + Math.min(dayCount * Utils_1.DateUtils.msPerDay, this.range.end.getTime() - currentDate.getTime()));\r\n            var width = this.gridLayoutCalculator.getWidthByDateRange(currentDate, nextDate);\r\n            var scaleItemInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-si\", new point_1.Point(x, undefined), new size_1.Size(width, this.etalonSizeValues.scaleItemHeight));\r\n            var scaleItemElement = this.createElement(scaleItemInfo, null, parent);\r\n            scaleItemElement.innerText = this.elementTextHelper.getScaleItemText(index, Enums_1.ViewType.Months);\r\n            scaleItemElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n            var scaleBorderInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-vb\", new point_1.Point(x + width, undefined), new size_1.Size(0, this.etalonSizeValues.scaleItemHeight));\r\n            this.createElement(scaleBorderInfo, null, parent);\r\n            x += width;\r\n            index++;\r\n            currentDate = nextDate;\r\n        }\r\n    };\r\n    GanttView.prototype.updateView = function () {\r\n        this.timeScaleContainer.scrollLeft = this.taskAreaContainer.scrollLeft;\r\n        this.processScroll(false);\r\n        this.processScroll(true);\r\n        this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop);\r\n    };\r\n    GanttView.prototype.processScroll = function (isVertical) {\r\n        this.taskEditController.tooltip.hide();\r\n        this.recreateTaskAreaBordersAndTaskElements(isVertical);\r\n        if (isVertical)\r\n            this.recreateConnectorLineElements();\r\n        else {\r\n            this.recreateNoWorkingIntervalElements();\r\n            this.recreateStripLines();\r\n            this.recreateScalesElements();\r\n        }\r\n    };\r\n    GanttView.prototype.recreateTaskAreaBordersAndTaskElements = function (isVertical) {\r\n        var _this = this;\r\n        var scrollPos = isVertical ? this.taskAreaContainer.scrollTop : this.taskAreaContainer.scrollLeft;\r\n        var newRenderedIndices = this.gridLayoutCalculator.getRenderedRowColumnIndices(scrollPos, isVertical);\r\n        var renderedIndices = isVertical ? this.renderedRowIndices : this.renderedColIndices;\r\n        this.recreateElements(renderedIndices, newRenderedIndices, function (index) { _this.removeTaskAreaBorderAndTaskElement(index, isVertical); }, function (index) { _this.createTaskAreaBorderAndTaskElement(index, isVertical); });\r\n        if (isVertical)\r\n            this.renderedRowIndices = newRenderedIndices;\r\n        else\r\n            this.renderedColIndices = newRenderedIndices;\r\n    };\r\n    GanttView.prototype.recreateNoWorkingIntervalElements = function () {\r\n        var _this = this;\r\n        var newRenderedNoWorkingIntervals = this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);\r\n        this.recreateElements(this.renderedNoWorkingIntervals, newRenderedNoWorkingIntervals, function (info) { _this.removeNoWorkingIntervalElement(info); }, function (info) { _this.createNoWorkingIntervalElement(info); });\r\n        this.renderedNoWorkingIntervals = newRenderedNoWorkingIntervals;\r\n    };\r\n    GanttView.prototype.recreateStripLines = function () {\r\n        var _this = this;\r\n        var newRenderedStripLines = this.gridLayoutCalculator.getRenderedStripLines(this.settings.stripLines);\r\n        this.recreateElements(this.renderedStripLines, newRenderedStripLines, function (info) { _this.removeElement(info, null, _this.taskArea, _this.stripLinesMap); }, function (info) { return _this.createElement(info, null, _this.taskArea, _this.stripLinesMap); });\r\n        this.renderedStripLines = newRenderedStripLines;\r\n    };\r\n    GanttView.prototype.recreateConnectorLineElements = function () {\r\n        var _this = this;\r\n        var newRenderedConnectorLines = this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);\r\n        this.recreateElements(this.renderedConnectorLines, newRenderedConnectorLines, function (info) { _this.removeConnectorLineElement(info); }, function (info) { _this.createConnectorLineElement(info); });\r\n        this.renderedConnectorLines = newRenderedConnectorLines;\r\n    };\r\n    GanttView.prototype.recreateScalesElements = function () {\r\n        this.recreateScaleElements(this.settings.viewType, 0);\r\n        if (this.settings.viewType != Enums_1.ViewType.Weeks)\r\n            this.recreateScaleElements(Utils_1.DateUtils.ViewTypeToScaleMap[this.settings.viewType], 1);\r\n    };\r\n    GanttView.prototype.recreateScaleElements = function (scaleType, scaleIndex) {\r\n        var _this = this;\r\n        var newRenderedIndices = this.gridLayoutCalculator.getRenderedScaleItemIndices(scaleType, this.renderedColIndices);\r\n        var renderedIndices = this.renderedScaleItemIndices[scaleType - this.settings.viewType] || [];\r\n        this.recreateElements(renderedIndices, newRenderedIndices, function (index) { _this.removeScaleElementAndBorder(index, scaleIndex); }, function (index) { _this.createScaleElementAndBorder(index, scaleIndex, scaleType); });\r\n        this.renderedScaleItemIndices[scaleType - this.settings.viewType] = newRenderedIndices;\r\n    };\r\n    GanttView.prototype.recreateElements = function (oldRenderedElementsInfo, newRenderedelementsInfo, removeAction, createAction) {\r\n        oldRenderedElementsInfo\r\n            .filter(function (info) { return newRenderedelementsInfo.indexOf(info) === -1; })\r\n            .forEach(function (info) { removeAction(info); });\r\n        newRenderedelementsInfo\r\n            .filter(function (info) { return oldRenderedElementsInfo.indexOf(info) === -1; })\r\n            .forEach(function (info) { createAction(info); });\r\n    };\r\n    GanttView.prototype.recreateTaskElement = function (index) {\r\n        var _this = this;\r\n        var isVisible = this.renderedRowIndices.filter(function (r) { return r === index; }).length > 0;\r\n        var viewItem = this.viewModel.items[index];\r\n        var task = viewItem && viewItem.task;\r\n        if (!task)\r\n            return;\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == task.id || d.successorId == task.id; });\r\n        if (dependencies.length)\r\n            dependencies.forEach(function (d) { return _this.recreateConnectorLineElement(d.internalId); });\r\n        if (isVisible) {\r\n            this.removeTaskElement(index);\r\n            this.createTaskElement(index);\r\n        }\r\n    };\r\n    GanttView.prototype.recreateConnectorLineElement = function (dependencyId, forceRender) {\r\n        var _this = this;\r\n        if (forceRender === void 0) { forceRender = false; }\r\n        var infos = [];\r\n        this.renderedConnectorLines = this.renderedConnectorLines.filter(function (info) {\r\n            if (info.attr[\"dependency-id\"] != dependencyId)\r\n                return true;\r\n            infos.push(info);\r\n            return false;\r\n        });\r\n        var isRendered = infos.length > 0;\r\n        infos.forEach(function (info) { _this.removeConnectorLineElement(info); });\r\n        infos = this.gridLayoutCalculator.updateTileToConnectorLinesMap(dependencyId);\r\n        if (isRendered || forceRender)\r\n            infos.forEach(function (info) { _this.createConnectorLineElement(info); _this.renderedConnectorLines.push(info); });\r\n    };\r\n    GanttView.prototype.allowTaskAreaBorders = function (isVerticalScroll) {\r\n        return isVerticalScroll ? this.settings.areHorizontalBordersEnabled : this.settings.areVerticalBordersEnabled;\r\n    };\r\n    GanttView.prototype.createTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\r\n        if (this.allowTaskAreaBorders(isVerticalScroll))\r\n            this.createTaskAreaBorder(index, !isVerticalScroll);\r\n        if (isVerticalScroll)\r\n            this.createTaskElement(index);\r\n    };\r\n    GanttView.prototype.removeTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\r\n        if (this.allowTaskAreaBorders(isVerticalScroll))\r\n            this.removeTaskAreaBorder(index, !isVerticalScroll);\r\n        if (isVerticalScroll)\r\n            this.removeTaskElement(index);\r\n    };\r\n    GanttView.prototype.getTaskAreaBordersDictionary = function (isVertical) {\r\n        return isVertical ? this.vertTaskAreaBorders : this.horTaskAreaBorders;\r\n    };\r\n    GanttView.prototype.createTaskAreaBorder = function (index, isVertical) {\r\n        var info = this.gridLayoutCalculator.getTaskAreaBorderInfo(index, isVertical);\r\n        this.createElement(info, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\r\n    };\r\n    GanttView.prototype.removeTaskAreaBorder = function (index, isVertical) {\r\n        this.removeElement(null, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\r\n    };\r\n    GanttView.prototype.createScaleElementAndBorder = function (index, scaleIndex, scaleType) {\r\n        this.createScaleElement(index, scaleIndex, scaleType);\r\n        this.createScaleBorder(index, scaleIndex, scaleType);\r\n    };\r\n    GanttView.prototype.createScaleElement = function (index, scaleIndex, scaleType) {\r\n        var info = this.gridLayoutCalculator.getScaleElementInfo(index, scaleType);\r\n        var scaleElement = this.createScaleElementCore(index, info, scaleIndex, this.scaleElements);\r\n        scaleElement.innerText = this.elementTextHelper.getScaleItemText(index, scaleType);\r\n        scaleElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n        if (scaleType === Enums_1.ViewType.Quarter)\r\n            scaleElement.style.padding = \"0\";\r\n    };\r\n    GanttView.prototype.createScaleBorder = function (index, scaleIndex, scaleType) {\r\n        var info = this.gridLayoutCalculator.getScaleBorderInfo(index, scaleType);\r\n        this.createScaleElementCore(index, info, scaleIndex, this.scaleBorders);\r\n    };\r\n    GanttView.prototype.createScaleElementCore = function (index, info, scaleIndex, dictionary) {\r\n        if (!dictionary[scaleIndex])\r\n            dictionary[scaleIndex] = [];\r\n        return this.createElement(info, index, this.timeScaleAreas[scaleIndex], dictionary[scaleIndex]);\r\n    };\r\n    GanttView.prototype.removeScaleElementAndBorder = function (index, scaleIndex) {\r\n        this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleElements[scaleIndex]);\r\n        this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleBorders[scaleIndex]);\r\n    };\r\n    GanttView.prototype.createTaskElement = function (index) {\r\n        this.createTaskWrapperElement(index);\r\n        if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Outside)\r\n            this.createTaskTextElement(index, this.taskElements[index]);\r\n        var taskVisualElement = this.createTaskVisualElement(index);\r\n        if (!this.viewModel.items[index].task.isMilestone()) {\r\n            if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside)\r\n                this.createTaskTextElement(index, taskVisualElement);\r\n            this.createTaskProgressElement(index, taskVisualElement);\r\n        }\r\n        if (this.settings.showResources) {\r\n            this.createResourcesWrapperElement(index);\r\n            this.createResources(index);\r\n        }\r\n        if (this.viewModel.items[index].selected)\r\n            this.createTaskSelectionElement(index);\r\n        if (this.isHighlightRowElementAllowed(index))\r\n            this.createHighlightRowElement(index);\r\n    };\r\n    GanttView.prototype.isHighlightRowElementAllowed = function (index) {\r\n        return index % 2 !== 0 && this.settings.areAlternateRowsEnabled || this.viewModel.items[index].children.length > 0;\r\n    };\r\n    GanttView.prototype.createResourcesWrapperElement = function (index) {\r\n        var resourcesWrapperElementInfo = this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(index);\r\n        this.createElement(resourcesWrapperElementInfo, index, this.taskArea, this.resourcesElements);\r\n        this.resourcesElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\r\n    };\r\n    GanttView.prototype.createResources = function (index) {\r\n        var resources = this.viewModel.items[index].resources.items;\r\n        for (var i = 0; i < resources.length; i++)\r\n            this.createResourceElement(index, resources[i]);\r\n    };\r\n    GanttView.prototype.createTaskWrapperElement = function (index) {\r\n        var taskWrapperInfo = this.gridLayoutCalculator.getTaskWrapperElementInfo(index);\r\n        this.createElement(taskWrapperInfo, index, this.taskArea, this.taskElements);\r\n        this.taskElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\r\n    };\r\n    GanttView.prototype.createTaskVisualElement = function (index) {\r\n        var taskElementInfo = this.gridLayoutCalculator.getTaskElementInfo(index, this.settings.taskTitlePosition !== Enums_1.TaskTitlePosition.Inside);\r\n        var taskElement = this.createElement(taskElementInfo, index, this.taskElements[index]);\r\n        this.taskAreaManager.attachEventsOnTask(taskElement);\r\n        return taskElement;\r\n    };\r\n    GanttView.prototype.createTaskProgressElement = function (index, parent) {\r\n        var taskProgressInfo = this.gridLayoutCalculator.getTaskProgressElementInfo(index);\r\n        this.createElement(taskProgressInfo, index, parent);\r\n    };\r\n    GanttView.prototype.createTaskTextElement = function (index, parent) {\r\n        var taskTextInfo = this.gridLayoutCalculator.getTaskTextElementInfo(index, this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside);\r\n        var taskTextElement = this.createElement(taskTextInfo, index, parent);\r\n        taskTextElement.innerText = this.elementTextHelper.getTaskText(index);\r\n        if (!taskTextElement.innerText) {\r\n            taskTextElement.innerText = \"WWW\";\r\n            var height = getComputedStyle(taskTextElement).height;\r\n            taskTextElement.innerText = \"\";\r\n            taskTextElement.style.height = height;\r\n        }\r\n    };\r\n    GanttView.prototype.createResourceElement = function (index, resource) {\r\n        var resourceElementInfo = this.gridLayoutCalculator.getTaskResourceElementInfo();\r\n        if (resource.color)\r\n            resourceElementInfo.style.backgroundColor = resource.color;\r\n        var resElement = this.createElement(resourceElementInfo, index, this.resourcesElements[index]);\r\n        resElement.innerText = resource.text;\r\n    };\r\n    GanttView.prototype.createTaskSelectionElement = function (index) {\r\n        var selectionInfo = this.gridLayoutCalculator.getSelectionElementInfo(index);\r\n        if (this.taskAreaContainer.isExternal && !this.settings.areHorizontalBordersEnabled)\r\n            selectionInfo.size.height++;\r\n        this.createElement(selectionInfo, index, this.taskArea, this.selectionElements);\r\n    };\r\n    GanttView.prototype.createHighlightRowElement = function (index) {\r\n        var hlRowInfo = this.gridLayoutCalculator.getHighlightRowInfo(index);\r\n        this.createElement(hlRowInfo, index, this.taskArea, this.hlRowElements);\r\n    };\r\n    GanttView.prototype.removeTaskElement = function (index) {\r\n        this.removeElement(null, index, this.taskArea, this.taskElements);\r\n        this.removeElement(null, index, this.taskArea, this.resourcesElements);\r\n        this.removeElement(null, index, this.taskArea, this.selectionElements);\r\n        if (this.isHighlightRowElementAllowed(index))\r\n            this.removeElement(null, index, this.taskArea, this.hlRowElements);\r\n    };\r\n    GanttView.prototype.createConnectorLineElement = function (info) {\r\n        var dependencyId = info.attr[\"dependency-id\"];\r\n        if (this.taskEditController.isDependencySelected(dependencyId))\r\n            info.className = info.className + \" active\";\r\n        return this.createElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\r\n    };\r\n    GanttView.prototype.removeConnectorLineElement = function (info) {\r\n        this.removeElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\r\n    };\r\n    GanttView.prototype.createNoWorkingIntervalElement = function (info) {\r\n        return this.createElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\r\n    };\r\n    GanttView.prototype.removeNoWorkingIntervalElement = function (info) {\r\n        this.removeElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\r\n    };\r\n    GanttView.prototype.createElement = function (info, index, parent, dictionary) {\r\n        var element = document.createElement(\"DIV\");\r\n        info.assignToElement(element);\r\n        parent.appendChild(element);\r\n        if (dictionary)\r\n            if (dictionary instanceof Array && index !== null)\r\n                dictionary[index] = element;\r\n            else\r\n                dictionary[info.id] = element;\r\n        for (var key in info.attr)\r\n            if (info.attr.hasOwnProperty(key))\r\n                element.setAttribute(key, info.attr[key]);\r\n        for (var key in info.style)\r\n            if (info.style.hasOwnProperty(key))\r\n                element.style[key] = info.style[key];\r\n        return element;\r\n    };\r\n    GanttView.prototype.removeElement = function (info, index, parent, dictionary) {\r\n        var element;\r\n        if (dictionary instanceof Array && index !== null) {\r\n            element = dictionary[index];\r\n            delete dictionary[index];\r\n        }\r\n        else {\r\n            element = dictionary[info.id];\r\n            delete dictionary[info.id];\r\n        }\r\n        if (element && element.parentNode == parent)\r\n            parent.removeChild(element);\r\n    };\r\n    GanttView.prototype.calculateAutoViewType = function (startDate, endDate) {\r\n        var diffInHours = (endDate.getTime() - startDate.getTime()) / (1000 * 3600);\r\n        if (diffInHours > 24 * 365)\r\n            return Enums_1.ViewType.Years;\r\n        if (diffInHours > 24 * 30)\r\n            return Enums_1.ViewType.Months;\r\n        if (diffInHours > 24 * 7)\r\n            return Enums_1.ViewType.Weeks;\r\n        if (diffInHours > 24)\r\n            return Enums_1.ViewType.Days;\r\n        if (diffInHours > 6)\r\n            return Enums_1.ViewType.SixHours;\r\n        if (diffInHours > 1)\r\n            return Enums_1.ViewType.Hours;\r\n        return Enums_1.ViewType.TenMinutes;\r\n    };\r\n    GanttView.prototype.changeTaskExpanded = function (publicId, expanded) {\r\n        var task = this.getTaskByPublicId(publicId);\r\n        if (task)\r\n            this.viewModel.changeTaskExpanded(task.internalId, expanded);\r\n    };\r\n    GanttView.prototype.expandTask = function (id) { this.viewModel.changeTaskExpanded(id, true); };\r\n    GanttView.prototype.collapseTask = function (id) { this.viewModel.changeTaskExpanded(id, false); };\r\n    GanttView.prototype.showTask = function (id) { this.viewModel.changeTaskVisibility(id, true); };\r\n    GanttView.prototype.hideTask = function (id) { this.viewModel.changeTaskVisibility(id, false); };\r\n    GanttView.prototype.getTaskVisibility = function (id) { return this.viewModel.getTaskVisibility(id); };\r\n    GanttView.prototype.unselectCurrentSelectedTask = function () { this.unselectTask(this.currentSelectedTaskID); };\r\n    GanttView.prototype.getTaskSelected = function (id) { return this.viewModel.getTaskSelected(id); };\r\n    GanttView.prototype.setViewType = function (viewType, autoPositioning) {\r\n        if (autoPositioning === void 0) { autoPositioning = true; }\r\n        if (viewType == undefined)\r\n            viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\r\n        if (this.settings.viewType !== viewType) {\r\n            this.settings.viewType = viewType;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n            if (autoPositioning)\r\n                this.scrollLeftByViewType();\r\n            if (this.ganttOwner.UpdateGanttViewType)\r\n                this.ganttOwner.UpdateGanttViewType(viewType);\r\n        }\r\n    };\r\n    GanttView.prototype.setTaskTitlePosition = function (taskTitlePosition) {\r\n        if (this.settings.taskTitlePosition !== taskTitlePosition) {\r\n            this.settings.taskTitlePosition = taskTitlePosition;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.setShowResources = function (showResources) {\r\n        if (this.settings.showResources !== showResources) {\r\n            this.settings.showResources = showResources;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.setFirstDayOfWeek = function (firstDayOfWeek) {\r\n        if (this.settings.firstDayOfWeek !== firstDayOfWeek) {\r\n            this.settings.firstDayOfWeek = firstDayOfWeek;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.loadOptionsFromGanttOwner = function () {\r\n        this.tickSize.height = this.ganttOwner.getRowHeight();\r\n        var tasksData = this.ganttOwner.getGanttTasksData();\r\n        this.dataRange = new DateRange_1.DateRange(this.getGanttViewStartDate(tasksData), this.getGanttViewEndDate(tasksData));\r\n        if (this.settings.viewType == undefined)\r\n            this.settings.viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\r\n        this.updateTickSizeWidth();\r\n        this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\r\n        this.dispatcher = new ModelChangesDispatcher_1.ModelChangesDispatcher();\r\n        var modelChangesListener = this.ganttOwner.getModelChangesListener();\r\n        if (modelChangesListener)\r\n            this.dispatcher.onModelChanged.add(modelChangesListener);\r\n        this.viewModel = new VisualModel_1.ViewVisualModel(this, tasksData, this.ganttOwner.getGanttDependenciesData(), this.ganttOwner.getGanttResourcesData(), this.ganttOwner.getGanttResourceAssignmentsData(), this.range, this.ganttOwner.getGanttWorkTimeRules());\r\n        this.modelManipulator = new ModelManipulator_1.ModelManipulator(this.viewModel, this.dispatcher);\r\n    };\r\n    GanttView.prototype.resetAndUpdate = function () {\r\n        this.reset();\r\n        this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\r\n        this.viewModel.updateRange(this.range);\r\n        this.setupHelpers();\r\n        this.createTimeScaleAreas();\r\n        this.setSizeForTaskArea();\r\n        if (browser_1.Browser.IE)\r\n            this.taskEditController.createElements();\r\n        this.updateView();\r\n    };\r\n    GanttView.prototype.updateRowHeights = function (height) {\r\n        if (this.tickSize.height !== height) {\r\n            this.tickSize.height = height;\r\n            var leftPosition = this.taskAreaContainer.scrollLeft;\r\n            this.resetAndUpdate();\r\n            this.taskAreaContainer.scrollLeft = leftPosition;\r\n        }\r\n    };\r\n    GanttView.prototype.selectTask = function (id) {\r\n        this.selectDependency(null);\r\n        this.viewModel.changeTaskSelected(id, true);\r\n        this.currentSelectedTaskID = id;\r\n        this.updateBarManager();\r\n    };\r\n    GanttView.prototype.unselectTask = function (id) {\r\n        this.viewModel.changeTaskSelected(id, false);\r\n        this.updateBarManager();\r\n    };\r\n    GanttView.prototype.selectTaskById = function (publicId) {\r\n        this.unselectCurrentSelectedTask();\r\n        var task = this.getTaskByPublicId(publicId);\r\n        if (task)\r\n            this.selectTask(task.internalId);\r\n    };\r\n    GanttView.prototype.selectDependency = function (id) {\r\n        this.taskEditController.selectDependency(id);\r\n        this.gridLayoutCalculator.createTileToConnectorLinesMap();\r\n        this.recreateConnectorLineElements();\r\n    };\r\n    GanttView.prototype.getTaskAreaContainer = function () {\r\n        return this.taskAreaContainer;\r\n    };\r\n    GanttView.prototype.setWidth = function (value) {\r\n        this.mainElement.style.width = value + \"px\";\r\n    };\r\n    GanttView.prototype.setHeight = function (value) {\r\n        this.mainElement.style.height = value + \"px\";\r\n    };\r\n    GanttView.prototype.setAllowSelection = function (value) {\r\n        this.settings.allowSelectTask = value;\r\n    };\r\n    GanttView.prototype.setEditingSettings = function (value) {\r\n        this.settings.editing = value;\r\n        this.updateBarManager();\r\n    };\r\n    GanttView.prototype.setValidationSettings = function (value) {\r\n        this.settings.validation = value;\r\n    };\r\n    GanttView.prototype.setRowLinesVisible = function (value) {\r\n        this.settings.areHorizontalBordersEnabled = value;\r\n        this.prepareTaskAreaContainer();\r\n        this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.setStripLines = function (stripLines) {\r\n        this.settings.stripLines = Settings_1.StripLineSettings.parse(stripLines);\r\n        this.clearStripLinesUpdater();\r\n        this.initializeStripLinesUpdater();\r\n        this.recreateStripLines();\r\n    };\r\n    GanttView.prototype.deleteTask = function (key) {\r\n        var task = this.getTaskByPublicId(key.toString());\r\n        if (task)\r\n            this.commandManager.removeTaskCommand.execute(task.internalId);\r\n    };\r\n    GanttView.prototype.insertTask = function (data) {\r\n        if (data) {\r\n            var parentId = data.parentId != null ? String(data.parentId) : null;\r\n            var parent_1 = this.getTaskByPublicId(parentId);\r\n            var title = data.title ? String(data.title) : \"\";\r\n            var start = typeof data.start === \"string\" ? new Date(data.start) : data.start;\r\n            var end = typeof data.end === \"string\" ? new Date(data.end) : data.end;\r\n            var progress = common_1.isDefined(data.progress) ? parseInt(data.progress) : 0;\r\n            if (this.commandManager.createTaskCommand.execute(start, end, title, progress, parent_1 && parent_1.internalId))\r\n                return this.getLastInsertedTaskId();\r\n        }\r\n        return \"\";\r\n    };\r\n    GanttView.prototype.updateTask = function (key, data) {\r\n        var task = this.getTaskByPublicId(key.toString());\r\n        if (task && data)\r\n            this.commandManager.updateTaskCommand.execute(task.internalId, data);\r\n    };\r\n    GanttView.prototype.getTaskData = function (key) {\r\n        var task = this.getTaskByPublicId(key.toString());\r\n        if (task)\r\n            return this.viewModel.getTaskObjectForDataSource(task);\r\n    };\r\n    GanttView.prototype.insertDependency = function (data) {\r\n        if (data) {\r\n            var predecessorId = String(data.predecessorId);\r\n            var successorId = String(data.successorId);\r\n            var type = data.type;\r\n            this.commandManager.createDependencyCommand.execute(predecessorId, successorId, type);\r\n        }\r\n    };\r\n    GanttView.prototype.deleteDependency = function (key) {\r\n        var internalKey = this.viewModel.convertPublicToInternalKey(\"dependency\", key);\r\n        if (common_1.isDefined(internalKey))\r\n            this.commandManager.removeDependencyCommand.execute(internalKey);\r\n    };\r\n    GanttView.prototype.getDependencyData = function (key) {\r\n        return this.viewModel.getDependencyObjectForDataSource(key);\r\n    };\r\n    GanttView.prototype.insertResource = function (data, taskKeys) {\r\n        var _this = this;\r\n        if (data) {\r\n            var callback = function (id) {\r\n                if (common_1.isDefined(taskKeys))\r\n                    for (var i = 0; i < taskKeys.length; i++)\r\n                        _this.assignResourceToTask(id, taskKeys[i]);\r\n            };\r\n            this.commandManager.createResourceCommand.execute(String(data.text), data.color && String(data.color), callback);\r\n        }\r\n    };\r\n    GanttView.prototype.deleteResource = function (key) {\r\n        var internalKey = this.viewModel.convertPublicToInternalKey(\"resource\", key);\r\n        if (common_1.isDefined(internalKey))\r\n            this.commandManager.removeResourceCommand.execute(internalKey);\r\n    };\r\n    GanttView.prototype.assignResourceToTask = function (resourceKey, taskKey) {\r\n        var resourceInternalKey = this.viewModel.convertPublicToInternalKey(\"resource\", resourceKey);\r\n        var taskInternalKey = this.viewModel.convertPublicToInternalKey(\"task\", taskKey);\r\n        if (common_1.isDefined(resourceInternalKey) && common_1.isDefined(taskInternalKey))\r\n            this.commandManager.assignResourceCommand.execute(resourceInternalKey, taskInternalKey);\r\n    };\r\n    GanttView.prototype.unassignResourceFromTask = function (resourceKey, taskKey) {\r\n        var assignment = this.viewModel.findAssignment(resourceKey, taskKey);\r\n        if (assignment)\r\n            this.commandManager.deassignResourceCommand.execute(assignment.internalId);\r\n    };\r\n    GanttView.prototype.getResourceData = function (key) {\r\n        return this.viewModel.getResourceObjectForDataSource(key);\r\n    };\r\n    GanttView.prototype.getResourceAssignmentData = function (key) {\r\n        return this.viewModel.getResourceAssignmentObjectForDataSource(key);\r\n    };\r\n    GanttView.prototype.getTaskResources = function (key) {\r\n        var model = this.viewModel;\r\n        var task = model.getItemByPublicId(\"task\", key);\r\n        return task && model.getAssignedResources(task).items;\r\n    };\r\n    GanttView.prototype.getVisibleTaskKeys = function () { return this.viewModel.getVisibleTasks().map(function (t) { return t.id; }); };\r\n    GanttView.prototype.getVisibleDependencyKeys = function () { return this.viewModel.getVisibleDependencies().map(function (d) { return d.id; }); };\r\n    GanttView.prototype.getVisibleResourceKeys = function () { return this.viewModel.getVisibleResources().map(function (r) { return r.id; }); };\r\n    GanttView.prototype.getVisibleResourceAssignmentKeys = function () { return this.viewModel.getVisibleResourceAssignments().map(function (a) { return a.id; }); };\r\n    GanttView.prototype.setTaskValue = function (id, fieldName, newValue) {\r\n        var manager = this.commandManager;\r\n        var task = this.getTaskByPublicId(id);\r\n        if (task) {\r\n            if (fieldName === \"title\") {\r\n                var checkedNewValue = newValue ? newValue : \"\";\r\n                return manager.changeTaskTitleCommand.execute(task.internalId, checkedNewValue);\r\n            }\r\n            if (fieldName === \"progress\") {\r\n                var newProgress = Math.max(newValue, 0);\r\n                newProgress = Math.min(newValue, 100);\r\n                return manager.changeTaskProgressCommand.execute(task.internalId, newProgress);\r\n            }\r\n            if (fieldName === \"start\")\r\n                return manager.changeTaskStartCommand.execute(task.internalId, DateTimeUtils_1.DateTimeUtils.getMinDate(newValue, task.end));\r\n            if (fieldName === \"end\")\r\n                return manager.changeTaskEndCommand.execute(task.internalId, DateTimeUtils_1.DateTimeUtils.getMaxDate(newValue, task.start));\r\n        }\r\n        return false;\r\n    };\r\n    GanttView.prototype.getLastInsertedTaskId = function () {\r\n        var createTaskItems = this.history.historyItems.filter(function (i) { return i instanceof TaskHistoryItem_1.CreateTaskHistoryItem; });\r\n        var lastItem = createTaskItems[createTaskItems.length - 1];\r\n        return lastItem && lastItem.taskId;\r\n    };\r\n    GanttView.prototype.getLastInsertedResource = function () {\r\n        var createTaskItems = this.history.historyItems.filter(function (i) { return i instanceof ResourceHistoryItem_1.CreateResourceHistoryItem; });\r\n        var lastItem = createTaskItems[createTaskItems.length - 1];\r\n        return lastItem && lastItem.resource;\r\n    };\r\n    GanttView.prototype.getTaskByPublicId = function (id) {\r\n        return this.viewModel.tasks.getItemByPublicId(id);\r\n    };\r\n    GanttView.prototype.getPrevTask = function (taskId) {\r\n        var item = this.viewModel.findItem(taskId);\r\n        var parent = item.parent || this.viewModel.root;\r\n        var index = parent.children.indexOf(item) - 1;\r\n        return index > -1 ? item.parent.children[index].task : item.parent.task;\r\n    };\r\n    GanttView.prototype.updateCreatedTaskIdAfterServerUpdate = function (internalId, id) {\r\n        var item = this.viewModel.findItem(internalId);\r\n        var task = item && item.task;\r\n        if (task)\r\n            task.id = id;\r\n    };\r\n    GanttView.prototype.getTaskIdByInternalId = function (internalId) {\r\n        var item = this.viewModel.findItem(internalId);\r\n        var task = item && item.task;\r\n        return task ? task.id : null;\r\n    };\r\n    GanttView.prototype.isTaskHasChildren = function (taskId) {\r\n        var item = this.viewModel.findItem(taskId);\r\n        return item && item.children.length > 0;\r\n    };\r\n    GanttView.prototype.requireFirstLoadParentAutoCalc = function () {\r\n        var owner = this.ganttOwner;\r\n        return owner.getRequireFirstLoadParentAutoCalc && owner.getRequireFirstLoadParentAutoCalc();\r\n    };\r\n    GanttView.prototype.getOwnerControlMainElement = function () {\r\n        var owner = this.ganttOwner;\r\n        return owner.getMainElement && owner.getMainElement();\r\n    };\r\n    GanttView.prototype.adjustOwnerControl = function () {\r\n        var owner = this.ganttOwner;\r\n        if (owner.adjustControl)\r\n            owner.adjustControl();\r\n    };\r\n    GanttView.prototype.onBrowserWindowResize = function () {\r\n        if (this.fullScreenModeHelper.isInFullScreenMode)\r\n            this.fullScreenModeHelper.adjustControlInFullScreenMode();\r\n        else\r\n            this.adjustOwnerControl();\r\n    };\r\n    GanttView.prototype.applySettings = function (settings, preventViewUpdate) {\r\n        if (preventViewUpdate === void 0) { preventViewUpdate = false; }\r\n        var ganttSettings = Settings_1.Settings.parse(settings);\r\n        var preventUpdate = preventViewUpdate || this.settings.equal(ganttSettings);\r\n        this.settings = ganttSettings;\r\n        if (!preventUpdate)\r\n            this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.getDataUpdateErrorCallback = function () {\r\n        var _this = this;\r\n        var history = this.history;\r\n        var currentHistoryItemInfo = history.getCurrentProcessingItemInfo();\r\n        return function () {\r\n            _this.dispatcher.lock();\r\n            history.rollBackAndRemove(currentHistoryItemInfo);\r\n            _this.dispatcher.unlock();\r\n            _this.updateBarManager();\r\n        };\r\n    };\r\n    GanttView.prototype.setTaskTooltipContentTemplate = function (taskTooltipContentTemplate) {\r\n        this.settings.taskTooltipContentTemplate = taskTooltipContentTemplate;\r\n    };\r\n    GanttView.prototype.updateBarManager = function () {\r\n        this.barManager.updateItemsState([]);\r\n    };\r\n    GanttView.prototype.onTaskClick = function (key, evt) {\r\n        if (!this.ganttOwner.onTaskClick)\r\n            return true;\r\n        return this.ganttOwner.onTaskClick(key, evt);\r\n    };\r\n    GanttView.prototype.onTaskDblClick = function (key, evt) {\r\n        if (!this.ganttOwner.onTaskDblClick)\r\n            return true;\r\n        return this.ganttOwner.onTaskDblClick(key, evt);\r\n    };\r\n    GanttView.prototype.getDateFormat = function (date) {\r\n        return this.ganttOwner.getFormattedDateText ? this.ganttOwner.getFormattedDateText(date) : this.getDefaultDateFormat(date);\r\n    };\r\n    GanttView.prototype.getDefaultDateFormat = function (date) {\r\n        return (\"0\" + date.getDate()).slice(-2) + \"/\" + (\"0\" + (date.getMonth() + 1)).slice(-2) + \"/\" + date.getFullYear() + \" \" + (\"0\" + date.getHours()).slice(-2) + \":\" + (\"0\" + date.getMinutes()).slice(-2);\r\n    };\r\n    GanttView.prototype.destroyTemplate = function (container) {\r\n        this.ganttOwner.destroyTemplate ? this.ganttOwner.destroyTemplate(container) : container.innerHTML = \"\";\r\n    };\r\n    return GanttView;\r\n}());\r\nexports.GanttView = GanttView;\r\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ViewVisualModel = void 0;\r\nvar ResourceCollection_1 = __webpack_require__(26);\r\nvar TaskCollection_1 = __webpack_require__(61);\r\nvar DependencyCollection_1 = __webpack_require__(63);\r\nvar ResourceAssignmentCollection_1 = __webpack_require__(64);\r\nvar ViewVisualModelItem_1 = __webpack_require__(65);\r\nvar ViewVisualModelDependencyInfo_1 = __webpack_require__(66);\r\nvar WorkingTimeCalculator_1 = __webpack_require__(67);\r\nvar common_1 = __webpack_require__(1);\r\nvar Dependency_1 = __webpack_require__(11);\r\nvar Resource_1 = __webpack_require__(33);\r\nvar ResourceAssignment_1 = __webpack_require__(35);\r\nvar ViewVisualModel = (function () {\r\n    function ViewVisualModel(owner, tasks, dependencies, resources, assignments, dateRange, workTimeRules) {\r\n        this._fLockCount = 0;\r\n        this.owner = owner;\r\n        this.tasks = new TaskCollection_1.TaskCollection();\r\n        this.tasks.importFromObject(tasks);\r\n        this.dependencies = new DependencyCollection_1.DependencyCollection();\r\n        this.dependencies.importFromObject(dependencies);\r\n        this.resources = new ResourceCollection_1.ResourceCollection();\r\n        this.resources.importFromObject(resources);\r\n        this.assignments = new ResourceAssignmentCollection_1.ResourceAssignmentCollection();\r\n        this.assignments.importFromObject(assignments);\r\n        this._itemList = new Array();\r\n        this._viewItemList = new Array();\r\n        this._workTimeCalculator = new WorkingTimeCalculator_1.WorkingTimeCalculator(dateRange, workTimeRules);\r\n        this.updateModel();\r\n    }\r\n    ViewVisualModel.prototype.updateModel = function () {\r\n        this._itemList.splice(0, this._itemList.length);\r\n        var tasks = this.tasks.items;\r\n        for (var i = 0; i < tasks.length; i++) {\r\n            var task = tasks[i];\r\n            if (task)\r\n                this._itemList.push(new ViewVisualModelItem_1.ViewVisualModelItem(task, this.getAssignedResources(task)));\r\n        }\r\n        this.createHierarchy();\r\n        this.populateItemsForView();\r\n        if (this.owner && this.owner.currentSelectedTaskID)\r\n            this.changeTaskSelected(this.owner.currentSelectedTaskID, true);\r\n    };\r\n    ViewVisualModel.prototype.createHierarchy = function () {\r\n        var _this = this;\r\n        this.root = new ViewVisualModelItem_1.ViewVisualModelItem(null, null);\r\n        var list = this._itemList;\r\n        var recalculateParentRequired = this.requireFirstLoadParentAutoCalc;\r\n        var _loop_1 = function (i) {\r\n            var item = list[i];\r\n            var parentId = item.task.parentId;\r\n            var parentItem = list.filter(function (value) { return value.task && value.task.internalId === parentId || value.task.internalId.toString() === parentId; })[0] || this_1.root;\r\n            item.parent = parentItem;\r\n            parentItem.addChild(item);\r\n            if (recalculateParentRequired)\r\n                this_1.owner.validationController.recalculateParents(item, function (data) {\r\n                    if (!common_1.isDefined(data.id))\r\n                        return;\r\n                    var task = _this.tasks.getItemById(data.id);\r\n                    if (common_1.isDefined(data.start))\r\n                        task.start = data.start;\r\n                    if (common_1.isDefined(data.end))\r\n                        task.end = data.end;\r\n                    if (common_1.isDefined(data.progress))\r\n                        task.progress = data.progress;\r\n                });\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < list.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        if (recalculateParentRequired)\r\n            this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData());\r\n    };\r\n    ViewVisualModel.prototype.getCurrentTaskData = function () {\r\n        var _this = this;\r\n        return this.tasks.items.map(function (t) { return _this.getTaskObjectForDataSource(t); });\r\n    };\r\n    ViewVisualModel.prototype.getTaskObjectForDataSource = function (task) {\r\n        var parentTask = task.parentId && this.tasks.getItemById(task.parentId);\r\n        return {\r\n            id: task.id,\r\n            start: task.start,\r\n            end: task.end,\r\n            duration: task.duration,\r\n            description: task.description,\r\n            parentId: parentTask && parentTask.id,\r\n            progress: task.progress,\r\n            color: task.color,\r\n            taskType: task.taskType,\r\n            title: task.title,\r\n            customFields: task.customFields,\r\n            expanded: task.expanded\r\n        };\r\n    };\r\n    ViewVisualModel.prototype.getDependencyObjectForDataSource = function (key) {\r\n        var dependency = key instanceof Dependency_1.Dependency ? key : this.getItemByPublicId(\"dependency\", key);\r\n        if (dependency) {\r\n            var predecessorId = this.convertInternalToPublicKey(\"task\", dependency.predecessorId);\r\n            var successorId = this.convertInternalToPublicKey(\"task\", dependency.successorId);\r\n            return {\r\n                id: dependency.id,\r\n                predecessorId: common_1.isDefined(predecessorId) ? predecessorId : dependency.predecessorId,\r\n                successorId: common_1.isDefined(successorId) ? successorId : dependency.successorId,\r\n                type: dependency.type\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    ViewVisualModel.prototype.getResourceObjectForDataSource = function (key) {\r\n        var resource = key instanceof Resource_1.Resource ? key : this.getItemByPublicId(\"resource\", key);\r\n        if (resource)\r\n            return {\r\n                id: resource.id,\r\n                text: resource.text,\r\n                color: resource.color\r\n            };\r\n        return null;\r\n    };\r\n    ViewVisualModel.prototype.getResourceAssignmentObjectForDataSource = function (key) {\r\n        var assignment = key instanceof ResourceAssignment_1.ResourceAssignment ? key : this.getItemByPublicId(\"assignment\", key);\r\n        if (assignment) {\r\n            var taskId = this.convertInternalToPublicKey(\"task\", assignment.taskId);\r\n            var resourceId = this.convertInternalToPublicKey(\"resource\", assignment.resourceId);\r\n            return {\r\n                id: assignment.id,\r\n                taskId: common_1.isDefined(taskId) ? taskId : assignment.taskId,\r\n                resourceId: common_1.isDefined(resourceId) ? resourceId : assignment.resourceId\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    ViewVisualModel.prototype.populateItemsForView = function () {\r\n        this._viewItemList.splice(0, this._viewItemList.length);\r\n        this.populateVisibleItems(this.root);\r\n        this.updateVisibleItemDependencies();\r\n    };\r\n    ViewVisualModel.prototype.populateVisibleItems = function (item) {\r\n        var _this = this;\r\n        var isRoot = item === this.root;\r\n        if (!item || (!item.task && !isRoot))\r\n            return;\r\n        if (!isRoot) {\r\n            this._viewItemList.push(item);\r\n            item.visibleIndex = this._viewItemList.length - 1;\r\n        }\r\n        if (item.getExpanded() || item === this.root)\r\n            item.children.forEach(function (n) { return _this.populateVisibleItems(n); });\r\n    };\r\n    ViewVisualModel.prototype.updateVisibleItemDependencies = function () {\r\n        var list = this._viewItemList;\r\n        for (var i = 0; i < list.length; i++) {\r\n            var item = list[i];\r\n            var visibleDependencies = this.getTasVisibleDependencies(item.task);\r\n            item.setDependencies(visibleDependencies);\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.getAssignedResources = function (task) {\r\n        var _this = this;\r\n        var res = new ResourceCollection_1.ResourceCollection();\r\n        var assignments = this.assignments.items.filter(function (value) { return value.taskId == task.internalId; });\r\n        assignments.forEach(function (assignment) { res.add(_this.resources.getItemById(assignment.resourceId)); });\r\n        return res;\r\n    };\r\n    ViewVisualModel.prototype.getTasVisibleDependencies = function (task) {\r\n        var res = new Array();\r\n        var id = task.internalId;\r\n        var dependencies = this.dependencies.items.filter(function (value) { return value.successorId == id; });\r\n        for (var i = 0; i < dependencies.length; i++) {\r\n            var dependency = dependencies[i];\r\n            var item = this.findItem(dependency.predecessorId);\r\n            if (item && item.getVisible())\r\n                res.push(new ViewVisualModelDependencyInfo_1.ViewVisualModelDependencyInfo(dependency.internalId, item, dependency.type));\r\n        }\r\n        return res;\r\n    };\r\n    ViewVisualModel.prototype.changeTaskExpanded = function (id, expanded) {\r\n        var task = this.tasks.getItemById(String(id));\r\n        if (task) {\r\n            task.expanded = expanded;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.changeTaskVisibility = function (id, visible) {\r\n        var item = this.findItem(id);\r\n        if (item) {\r\n            item.visible = visible;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.changeTaskSelected = function (id, selected) {\r\n        var item = this._itemList.filter(function (value) { return value.task && value.task.internalId === id; })[0];\r\n        if (item) {\r\n            item.selected = selected;\r\n            var viewItem = this.findItem(id);\r\n            var taskIndex = viewItem && viewItem.visibleIndex;\r\n            if (taskIndex > -1)\r\n                this.owner.recreateTaskElement(taskIndex);\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.beginUpdate = function () {\r\n        this._fLockCount++;\r\n    };\r\n    ViewVisualModel.prototype.endUpdate = function () {\r\n        this._fLockCount--;\r\n        if (this._fLockCount == 0)\r\n            this.changed();\r\n    };\r\n    ViewVisualModel.prototype.changed = function () {\r\n        if (this._fLockCount !== 0)\r\n            return;\r\n        this.populateItemsForView();\r\n        if (this.owner && this.owner.onVisualModelChanged)\r\n            this.owner.onVisualModelChanged();\r\n    };\r\n    ViewVisualModel.prototype.findItem = function (taskId) {\r\n        return this._viewItemList.filter(function (value) { return value.task && value.task.internalId === taskId; })[0];\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"items\", {\r\n        get: function () { return this._viewItemList.slice(); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewVisualModel.prototype, \"itemCount\", {\r\n        get: function () { return this.items.length; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ViewVisualModel.prototype.getTaskVisibility = function (id) {\r\n        var item = this.findItem(id);\r\n        return !!item && item.getVisible();\r\n    };\r\n    ViewVisualModel.prototype.getTaskSelected = function (id) {\r\n        var item = this.findItem(id);\r\n        return !!item && item.selected;\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"noWorkingIntervals\", {\r\n        get: function () { return this._workTimeCalculator.noWorkingIntervals; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ViewVisualModel.prototype.updateRange = function (range) { this._workTimeCalculator.updateRange(range); };\r\n    ViewVisualModel.prototype.taskHasChildrenByIndex = function (index) { return this._viewItemList[index].children.length > 0; };\r\n    ViewVisualModel.prototype.taskHasChildren = function (id) {\r\n        var item = this.findItem(id);\r\n        return item && item.children.length > 0;\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"parentAutoCalc\", {\r\n        get: function () {\r\n            var settings = this.owner && this.owner.settings;\r\n            return settings && settings.validation && settings.validation.autoUpdateParentTasks;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewVisualModel.prototype, \"requireFirstLoadParentAutoCalc\", {\r\n        get: function () { return this.parentAutoCalc && this.owner.requireFirstLoadParentAutoCalc(); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ViewVisualModel.prototype.isTaskToCalculateByChildren = function (id) { return this.parentAutoCalc && this.taskHasChildren(id); };\r\n    ViewVisualModel.prototype.hasTasks = function () { return this.tasks.length > 0; };\r\n    ViewVisualModel.prototype.getDataUpdateErrorCallback = function () {\r\n        return this.owner.getDataUpdateErrorCallback && this.owner.getDataUpdateErrorCallback();\r\n    };\r\n    ViewVisualModel.prototype.convertPublicToInternalKey = function (dataType, publicKey) {\r\n        var item = this.getItemByPublicId(dataType, publicKey);\r\n        return item && item.internalId;\r\n    };\r\n    ViewVisualModel.prototype.convertInternalToPublicKey = function (dataType, internalId) {\r\n        var item = this.getItemByInternalId(dataType, internalId);\r\n        return item && item.id;\r\n    };\r\n    ViewVisualModel.prototype.getItemByPublicId = function (dataType, publicKey) {\r\n        var strKey = publicKey.toString();\r\n        switch (dataType) {\r\n            case \"task\":\r\n                return this.tasks.getItemByPublicId(strKey);\r\n            case \"dependency\":\r\n                return this.dependencies.getItemByPublicId(strKey);\r\n            case \"resource\":\r\n                return this.resources.getItemByPublicId(strKey);\r\n            case \"assignment\":\r\n                return this.assignments.getItemByPublicId(strKey);\r\n        }\r\n        return null;\r\n    };\r\n    ViewVisualModel.prototype.getItemByInternalId = function (dataType, internalId) {\r\n        switch (dataType) {\r\n            case \"task\":\r\n                return this.tasks.getItemById(internalId);\r\n            case \"dependency\":\r\n                return this.dependencies.getItemById(internalId);\r\n            case \"resource\":\r\n                return this.resources.getItemById(internalId);\r\n            case \"assignment\":\r\n                return this.assignments.getItemById(internalId);\r\n        }\r\n        return null;\r\n    };\r\n    ViewVisualModel.prototype.findAssignment = function (resourceKey, taskKey) {\r\n        var resourceInternalKey = this.convertPublicToInternalKey(\"resource\", resourceKey);\r\n        var taskInternalKey = this.convertPublicToInternalKey(\"task\", taskKey);\r\n        return this.assignments.items.filter(function (val) { return val.resourceId === resourceInternalKey && val.taskId === taskInternalKey; })[0];\r\n    };\r\n    ViewVisualModel.prototype.getVisibleTasks = function () {\r\n        var _this = this;\r\n        return this.tasks.items.filter(function (t) { return t && _this.getTaskVisibility(t.internalId); });\r\n    };\r\n    ViewVisualModel.prototype.getVisibleDependencies = function () {\r\n        var visibleTasksKeys = this.getVisibleTasks().map(function (t) { return t.internalId; });\r\n        return this.dependencies.items.filter(function (d) { return d && visibleTasksKeys.indexOf(d.successorId) > -1 && visibleTasksKeys.indexOf(d.predecessorId) > -1; });\r\n    };\r\n    ViewVisualModel.prototype.getVisibleResourceAssignments = function () {\r\n        var visibleTasksKeys = this.getVisibleTasks().map(function (t) { return t.internalId; });\r\n        return this.assignments.items.filter(function (a) { return a && visibleTasksKeys.indexOf(a.taskId) > -1; });\r\n    };\r\n    ViewVisualModel.prototype.getVisibleResources = function () {\r\n        var visibleResources = [];\r\n        var visibleAssignments = this.getVisibleResourceAssignments();\r\n        for (var i = 0; i < visibleAssignments.length; i++) {\r\n            var resource = this.getItemByInternalId(\"resource\", visibleAssignments[i].resourceId);\r\n            if (resource && visibleResources.indexOf(resource) === -1)\r\n                visibleResources.push(resource);\r\n        }\r\n        return visibleResources;\r\n    };\r\n    return ViewVisualModel;\r\n}());\r\nexports.ViewVisualModel = ViewVisualModel;\r\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GanttJsonUtils = void 0;\r\nvar json_1 = __webpack_require__(57);\r\nvar GanttJsonUtils = (function () {\r\n    function GanttJsonUtils() {\r\n    }\r\n    GanttJsonUtils.evalJson = function (json) {\r\n        return json_1.JsonUtils.isValid(json) ? eval(\"(\" + json + \")\") : null;\r\n    };\r\n    return GanttJsonUtils;\r\n}());\r\nexports.GanttJsonUtils = GanttJsonUtils;\r\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar JsonUtils = (function () {\r\n    function JsonUtils() {\r\n    }\r\n    JsonUtils.isValid = function (json) {\r\n        return !(/[^,:{}[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.test(json.replace(/\"(\\\\.|[^\"\\\\])*\"/g, '')));\r\n    };\r\n    return JsonUtils;\r\n}());\r\nexports.JsonUtils = JsonUtils;\r\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar min_max_1 = __webpack_require__(59);\r\nvar comparers_1 = __webpack_require__(60);\r\nvar ListUtils = (function () {\r\n    function ListUtils() {\r\n    }\r\n    ListUtils.remove = function (list, element) {\r\n        var index = list.indexOf(element, 0);\r\n        if (index >= 0)\r\n            list.splice(index, 1);\r\n    };\r\n    ListUtils.removeBy = function (list, callback) {\r\n        var len = list.length;\r\n        for (var index = 0; index < len; index++) {\r\n            if (callback(list[index], index))\r\n                return list.splice(index, 1)[0];\r\n        }\r\n        return null;\r\n    };\r\n    ListUtils.shallowCopy = function (list) {\r\n        return list.slice();\r\n    };\r\n    ListUtils.deepCopy = function (list) {\r\n        return ListUtils.map(list, function (val) { return val.clone(); });\r\n    };\r\n    ListUtils.initByValue = function (numElements, initValue) {\r\n        var result = [];\r\n        for (; numElements > 0; numElements--)\r\n            result.push(initValue);\r\n        return result;\r\n    };\r\n    ListUtils.initByCallback = function (numElements, initCallback) {\r\n        var result = [];\r\n        for (var index = 0; index < numElements; index++)\r\n            result.push(initCallback(index));\r\n        return result;\r\n    };\r\n    ListUtils.forEachOnInterval = function (interval, callback) {\r\n        var end = interval.end;\r\n        for (var index = interval.start; index < end; index++)\r\n            callback(index);\r\n    };\r\n    ListUtils.reverseForEachOnInterval = function (interval, callback) {\r\n        var start = interval.start;\r\n        for (var index = interval.end - 1; index >= start; index--)\r\n            callback(index);\r\n    };\r\n    ListUtils.reducedMap = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var result = [];\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            var newItem = callback(list[index], index);\r\n            if (newItem !== null)\r\n                result.push(newItem);\r\n        }\r\n        return result;\r\n    };\r\n    ListUtils.filter = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var result = [];\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            var item = list[index];\r\n            if (callback(item, index))\r\n                result.push(item);\r\n        }\r\n        return result;\r\n    };\r\n    ListUtils.map = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var result = [];\r\n        for (var index = startIndex; index < endIndex; index++)\r\n            result.push(callback(list[index], index));\r\n        return result;\r\n    };\r\n    ListUtils.indexBy = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        for (var ind = startIndex; ind < endIndex; ind++) {\r\n            if (callback(list[ind], ind))\r\n                return ind;\r\n        }\r\n        return -1;\r\n    };\r\n    ListUtils.reverseIndexBy = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = list.length - 1; }\r\n        if (endIndex === void 0) { endIndex = 0; }\r\n        for (var ind = startIndex; ind >= endIndex; ind--) {\r\n            if (callback(list[ind], ind))\r\n                return ind;\r\n        }\r\n        return -1;\r\n    };\r\n    ListUtils.elementBy = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var ind = ListUtils.indexBy(list, callback, startIndex, endIndex);\r\n        return ind < 0 ? null : list[ind];\r\n    };\r\n    ListUtils.reverseElementBy = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = list.length - 1; }\r\n        if (endIndex === void 0) { endIndex = 0; }\r\n        var ind = ListUtils.reverseIndexBy(list, callback, startIndex, endIndex);\r\n        return ind < 0 ? null : list[ind];\r\n    };\r\n    ListUtils.last = function (list) {\r\n        return list[list.length - 1];\r\n    };\r\n    ListUtils.setLast = function (list, newVal) {\r\n        return list[list.length - 1] = newVal;\r\n    };\r\n    ListUtils.incLast = function (list) {\r\n        return ++list[list.length - 1];\r\n    };\r\n    ListUtils.decLast = function (list) {\r\n        return --list[list.length - 1];\r\n    };\r\n    ListUtils.equals = function (a, b) {\r\n        return a.length === b.length && ListUtils.allOf2(a, b, function (a, b) { return a.equals(b); });\r\n    };\r\n    ListUtils.equalsByReference = function (a, b) {\r\n        var aLen = a.length;\r\n        var bLen = a.length;\r\n        if (aLen !== bLen)\r\n            return false;\r\n        for (var i = 0; i < aLen; i++) {\r\n            if (a[i] !== b[i])\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    ListUtils.unique = function (list, cmp, equal, finalizeObj) {\r\n        if (equal === void 0) { equal = cmp; }\r\n        if (finalizeObj === void 0) { finalizeObj = function () { }; }\r\n        var len = list.length;\r\n        if (len === 0)\r\n            return [];\r\n        list = list.sort(cmp);\r\n        var prevValue = list[0];\r\n        var result = ListUtils.reducedMap(list, function (v) {\r\n            if (equal(prevValue, v) !== 0) {\r\n                prevValue = v;\r\n                return v;\r\n            }\r\n            finalizeObj(v);\r\n            return null;\r\n        }, 1, len);\r\n        result.unshift(list[0]);\r\n        return result;\r\n    };\r\n    ListUtils.uniqueNumber = function (list) {\r\n        list = list.sort(comparers_1.Comparers.number);\r\n        var prevValue = Number.NaN;\r\n        for (var i = list.length - 1; i >= 0; i--) {\r\n            if (prevValue === list[i])\r\n                list.splice(i, 1);\r\n            else\r\n                prevValue = list[i];\r\n        }\r\n        return list;\r\n    };\r\n    ListUtils.forEach = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        for (var index = startIndex; index < endIndex; index++)\r\n            callback(list[index], index);\r\n    };\r\n    ListUtils.forEach2 = function (listA, listB, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = listA.length; }\r\n        for (var index = startIndex; index < endIndex; index++)\r\n            callback(listA[index], listB[index], index);\r\n    };\r\n    ListUtils.reverseForEach = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = list.length - 1; }\r\n        if (endIndex === void 0) { endIndex = 0; }\r\n        for (var index = startIndex; index >= endIndex; index--)\r\n            callback(list[index], index);\r\n    };\r\n    ListUtils.reverseIndexOf = function (list, element, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = list.length - 1; }\r\n        if (endIndex === void 0) { endIndex = 0; }\r\n        for (var index = startIndex; index >= endIndex; index--) {\r\n            if (list[index] === element)\r\n                return index;\r\n        }\r\n        return -1;\r\n    };\r\n    ListUtils.accumulate = function (list, initAccValue, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var acc = initAccValue;\r\n        for (var ind = startIndex; ind < endIndex; ind++)\r\n            acc = callback(acc, list[ind], ind);\r\n        return acc;\r\n    };\r\n    ListUtils.accumulateNumber = function (list, callback, initAccValue, startIndex, endIndex) {\r\n        if (initAccValue === void 0) { initAccValue = 0; }\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var acc = initAccValue;\r\n        for (var ind = startIndex; ind < endIndex; ind++)\r\n            acc += callback(list[ind], ind, acc);\r\n        return acc;\r\n    };\r\n    ListUtils.anyOf = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            if (callback(list[index], index))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    ListUtils.unsafeAnyOf = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            var currResult = callback(list[index], index);\r\n            if (currResult)\r\n                return currResult;\r\n        }\r\n        return null;\r\n    };\r\n    ListUtils.reverseAnyOf = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = list.length - 1; }\r\n        if (endIndex === void 0) { endIndex = 0; }\r\n        for (var index = startIndex; index >= endIndex; index--) {\r\n            if (callback(list[index], index))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    ListUtils.unsafeReverseAnyOf = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = list.length - 1; }\r\n        if (endIndex === void 0) { endIndex = 0; }\r\n        for (var index = startIndex; index >= endIndex; index--) {\r\n            var currResult = callback(list[index], index);\r\n            if (currResult)\r\n                return currResult;\r\n        }\r\n        return null;\r\n    };\r\n    ListUtils.anyOf2 = function (listA, listB, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = listA.length; }\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            if (callback(listA[index], listB[index], index))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    ListUtils.allOf = function (list, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            if (!callback(list[index], index))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    ListUtils.allOf2 = function (listA, listB, callback, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = listA.length; }\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n            if (!callback(listA[index], listB[index], index))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    ListUtils.allOfOnInterval = function (interval, callback) {\r\n        var endIndex = interval.end;\r\n        for (var index = interval.start; index < endIndex; index++) {\r\n            if (!callback(index))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    ListUtils.addListOnTail = function (resultList, addedList) {\r\n        for (var i = 0, elem = void 0; elem = addedList[i]; i++)\r\n            resultList.push(elem);\r\n        return resultList;\r\n    };\r\n    ListUtils.joinLists = function (converter) {\r\n        var lists = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            lists[_i - 1] = arguments[_i];\r\n        }\r\n        return ListUtils.accumulate(lists, [], function (accList, list) {\r\n            ListUtils.addListOnTail(accList, converter(list));\r\n            return accList;\r\n        });\r\n    };\r\n    ListUtils.push = function (list, element) {\r\n        list.push(element);\r\n        return list;\r\n    };\r\n    ListUtils.countIf = function (list, callback) {\r\n        return ListUtils.accumulateNumber(list, function (elem, ind) { return callback(elem, ind) ? 1 : 0; });\r\n    };\r\n    ListUtils.clear = function (list) {\r\n        list.splice(0);\r\n    };\r\n    ListUtils.merge = function (list, cmp, shouldMerge, merge, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        list = list.slice(startIndex, endIndex);\r\n        if (endIndex - startIndex < 2)\r\n            return list;\r\n        list = list.sort(cmp);\r\n        var prevObj = list[startIndex];\r\n        var result = [prevObj];\r\n        for (var ind = startIndex + 1; ind < endIndex; ind++) {\r\n            var obj = list[ind];\r\n            if (shouldMerge(prevObj, obj))\r\n                merge(prevObj, obj);\r\n            else {\r\n                prevObj = obj;\r\n                result.push(prevObj);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ListUtils.min = function (list, getValue, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var res = ListUtils.minExtended(list, getValue, startIndex, endIndex);\r\n        return res ? res.minElement : null;\r\n    };\r\n    ListUtils.max = function (list, getValue, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var res = ListUtils.maxExtended(list, getValue, startIndex, endIndex);\r\n        return res ? res.maxElement : null;\r\n    };\r\n    ListUtils.minMax = function (list, getValue, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        var res = ListUtils.minMaxExtended(list, getValue, startIndex, endIndex);\r\n        return res ? new min_max_1.MinMax(res.minElement, res.maxElement) : null;\r\n    };\r\n    ListUtils.minExtended = function (list, getValue, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        if (list.length === 0)\r\n            return null;\r\n        var minElement = list[startIndex];\r\n        var minValue = getValue(minElement);\r\n        for (var index = startIndex + 1; index < endIndex; index++) {\r\n            var elem = list[index];\r\n            var elemValue = getValue(elem);\r\n            if (elemValue < minValue) {\r\n                minValue = elemValue;\r\n                minElement = elem;\r\n            }\r\n        }\r\n        return new min_max_1.ExtendedMin(minElement, minValue);\r\n    };\r\n    ListUtils.maxExtended = function (list, getValue, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        if (list.length === 0)\r\n            return null;\r\n        var maxElement = list[startIndex];\r\n        var maxValue = getValue(maxElement);\r\n        for (var index = startIndex + 1; index < endIndex; index++) {\r\n            var elem = list[index];\r\n            var elemValue = getValue(elem);\r\n            if (elemValue > maxValue) {\r\n                maxValue = elemValue;\r\n                maxElement = elem;\r\n            }\r\n        }\r\n        return new min_max_1.ExtendedMax(maxElement, maxValue);\r\n    };\r\n    ListUtils.minMaxExtended = function (list, getValue, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        if (list.length === 0)\r\n            return null;\r\n        var minElement = list[startIndex];\r\n        var maxElement = minElement;\r\n        var minValue = getValue(minElement);\r\n        var maxValue = minValue;\r\n        for (var index = startIndex + 1; index < endIndex; index++) {\r\n            var elem = list[index];\r\n            var elemValue = getValue(elem);\r\n            if (elemValue < minValue) {\r\n                minValue = elemValue;\r\n                minElement = elem;\r\n            }\r\n            else if (elemValue > maxValue) {\r\n                maxValue = elemValue;\r\n                maxElement = elem;\r\n            }\r\n        }\r\n        return new min_max_1.ExtendedMinMax(minElement, minValue, maxElement, maxValue);\r\n    };\r\n    ListUtils.minByCmp = function (list, cmp, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        if (list.length === 0)\r\n            return null;\r\n        var found = list[startIndex];\r\n        for (var index = startIndex + 1; index < endIndex; index++) {\r\n            var elem = list[index];\r\n            if (cmp(elem, found) < 0)\r\n                found = elem;\r\n        }\r\n        return found;\r\n    };\r\n    ListUtils.maxByCmp = function (list, cmp, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        if (list.length === 0)\r\n            return null;\r\n        var found = list[startIndex];\r\n        for (var index = startIndex + 1; index < endIndex; index++) {\r\n            var elem = list[index];\r\n            if (cmp(elem, found) > 0)\r\n                found = elem;\r\n        }\r\n        return found;\r\n    };\r\n    ListUtils.minMaxByCmp = function (list, cmp, startIndex, endIndex) {\r\n        if (startIndex === void 0) { startIndex = 0; }\r\n        if (endIndex === void 0) { endIndex = list.length; }\r\n        if (list.length === 0)\r\n            return null;\r\n        var min = list[startIndex];\r\n        var max = min;\r\n        for (var index = startIndex + 1; index < endIndex; index++) {\r\n            var elem = list[index];\r\n            var res = cmp(elem, min);\r\n            if (res > 0)\r\n                max = elem;\r\n            else if (res < 0)\r\n                min = elem;\r\n        }\r\n        return new min_max_1.MinMax(min, max);\r\n    };\r\n    return ListUtils;\r\n}());\r\nexports.ListUtils = ListUtils;\r\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(0);\r\nvar MinMax = (function () {\r\n    function MinMax(minElement, maxElement) {\r\n        this.minElement = minElement;\r\n        this.maxElement = maxElement;\r\n    }\r\n    return MinMax;\r\n}());\r\nexports.MinMax = MinMax;\r\nvar MinMaxNumber = (function (_super) {\r\n    tslib_1.__extends(MinMaxNumber, _super);\r\n    function MinMaxNumber() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(MinMaxNumber.prototype, \"length\", {\r\n        get: function () {\r\n            return this.maxElement - this.minElement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return MinMaxNumber;\r\n}(MinMax));\r\nexports.MinMaxNumber = MinMaxNumber;\r\nvar ExtendedMin = (function () {\r\n    function ExtendedMin(minElement, minValue) {\r\n        this.minElement = minElement;\r\n        this.minValue = minValue;\r\n    }\r\n    return ExtendedMin;\r\n}());\r\nexports.ExtendedMin = ExtendedMin;\r\nvar ExtendedMax = (function () {\r\n    function ExtendedMax(maxElement, maxValue) {\r\n        this.maxElement = maxElement;\r\n        this.maxValue = maxValue;\r\n    }\r\n    return ExtendedMax;\r\n}());\r\nexports.ExtendedMax = ExtendedMax;\r\nvar ExtendedMinMax = (function (_super) {\r\n    tslib_1.__extends(ExtendedMinMax, _super);\r\n    function ExtendedMinMax(minElement, minValue, maxElement, maxValue) {\r\n        var _this = _super.call(this, minElement, maxElement) || this;\r\n        _this.minValue = minValue;\r\n        _this.maxValue = maxValue;\r\n        return _this;\r\n    }\r\n    return ExtendedMinMax;\r\n}(MinMax));\r\nexports.ExtendedMinMax = ExtendedMinMax;\r\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Comparers = (function () {\r\n    function Comparers() {\r\n    }\r\n    Comparers.number = function (a, b) {\r\n        return a - b;\r\n    };\r\n    Comparers.string = function (a, b) {\r\n        return ((a === b) ? 0 : ((a > b) ? 1 : -1));\r\n    };\r\n    Comparers.stringIgnoreCase = function (a, b) {\r\n        a = a.toLowerCase();\r\n        b = b.toLowerCase();\r\n        return ((a === b) ? 0 : ((a > b) ? 1 : -1));\r\n    };\r\n    return Comparers;\r\n}());\r\nexports.Comparers = Comparers;\r\nvar Equals = (function () {\r\n    function Equals() {\r\n    }\r\n    Equals.simpleType = function (a, b) {\r\n        return a === b;\r\n    };\r\n    Equals.object = function (a, b) {\r\n        return a && b && (a === b || a.equals(b));\r\n    };\r\n    return Equals;\r\n}());\r\nexports.Equals = Equals;\r\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskCollection = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar Task_1 = __webpack_require__(62);\r\nvar CollectionBase_1 = __webpack_require__(13);\r\nvar TaskCollection = (function (_super) {\r\n    tslib_1.__extends(TaskCollection, _super);\r\n    function TaskCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskCollection.prototype.createItem = function () { return new Task_1.Task(); };\r\n    return TaskCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.TaskCollection = TaskCollection;\r\n\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Task = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar common_1 = __webpack_require__(1);\r\nvar DataObject_1 = __webpack_require__(10);\r\nvar TaskType;\r\n(function (TaskType) {\r\n    TaskType[TaskType[\"Regular\"] = 0] = \"Regular\";\r\n    TaskType[TaskType[\"Summary\"] = 1] = \"Summary\";\r\n    TaskType[TaskType[\"Milestone\"] = 2] = \"Milestone\";\r\n})(TaskType || (TaskType = {}));\r\nvar Task = (function (_super) {\r\n    tslib_1.__extends(Task, _super);\r\n    function Task() {\r\n        var _this = _super.call(this) || this;\r\n        _this.start = null;\r\n        _this.end = null;\r\n        _this.duration = null;\r\n        _this.description = \"\";\r\n        _this.parentId = \"\";\r\n        _this.title = \"\";\r\n        _this.owner = null;\r\n        _this.progress = 0;\r\n        _this.taskType = null;\r\n        _this.customFields = {};\r\n        _this.expanded = true;\r\n        _this.color = \"\";\r\n        return _this;\r\n    }\r\n    Task.prototype.assignFromObject = function (sourceObj) {\r\n        if (common_1.isDefined(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.owner = sourceObj.owner;\r\n            this.parentId = common_1.isDefined(sourceObj.parentId) ? String(sourceObj.parentId) : \"\";\r\n            this.description = sourceObj.description;\r\n            this.title = sourceObj.title;\r\n            this.start = sourceObj.start;\r\n            this.end = sourceObj.end;\r\n            this.start = typeof sourceObj.start == \"string\" ? new Date(sourceObj.start) : sourceObj.start || new Date(0);\r\n            this.end = typeof sourceObj.end == \"string\" ? new Date(sourceObj.end) : sourceObj.end || new Date(0);\r\n            this.duration = sourceObj.duration;\r\n            this.progress = sourceObj.progress;\r\n            this.taskType = sourceObj.taskType;\r\n            if (common_1.isDefined(sourceObj.expanded))\r\n                this.expanded = !!sourceObj.expanded;\r\n            if (common_1.isDefined(sourceObj.color))\r\n                this.color = sourceObj.color;\r\n            this.assignCustomFields(sourceObj.customFields);\r\n        }\r\n    };\r\n    Task.prototype.assignCustomFields = function (sourceObj) {\r\n        if (!sourceObj)\r\n            return;\r\n        for (var property in sourceObj) {\r\n            if (!sourceObj.hasOwnProperty(property))\r\n                continue;\r\n            this.customFields[property] = sourceObj[property];\r\n        }\r\n    };\r\n    Task.prototype.isMilestone = function () {\r\n        return this.start.getTime() == this.end.getTime();\r\n    };\r\n    Task.prototype.getDuration = function () {\r\n        return this.end.getTime() - this.start.getTime();\r\n    };\r\n    return Task;\r\n}(DataObject_1.DataObject));\r\nexports.Task = Task;\r\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DependencyCollection = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CollectionBase_1 = __webpack_require__(13);\r\nvar Dependency_1 = __webpack_require__(11);\r\nvar DependencyCollection = (function (_super) {\r\n    tslib_1.__extends(DependencyCollection, _super);\r\n    function DependencyCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DependencyCollection.prototype.createItem = function () { return new Dependency_1.Dependency(); };\r\n    return DependencyCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.DependencyCollection = DependencyCollection;\r\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceAssignmentCollection = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CollectionBase_1 = __webpack_require__(13);\r\nvar ResourceAssignment_1 = __webpack_require__(35);\r\nvar ResourceAssignmentCollection = (function (_super) {\r\n    tslib_1.__extends(ResourceAssignmentCollection, _super);\r\n    function ResourceAssignmentCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceAssignmentCollection.prototype.createItem = function () { return new ResourceAssignment_1.ResourceAssignment(); };\r\n    return ResourceAssignmentCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.ResourceAssignmentCollection = ResourceAssignmentCollection;\r\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ViewVisualModelItem = void 0;\r\nvar common_1 = __webpack_require__(1);\r\nvar ViewVisualModelItem = (function () {\r\n    function ViewVisualModelItem(task, resources) {\r\n        this.dependencies = new Array();\r\n        this.parent = null;\r\n        this.visible = true;\r\n        this.selected = false;\r\n        this.visibleIndex = -1;\r\n        this.task = task;\r\n        this.resources = resources;\r\n        this.children = new Array();\r\n    }\r\n    Object.defineProperty(ViewVisualModelItem.prototype, \"resourceText\", {\r\n        get: function () {\r\n            var text = \"\";\r\n            this.resources.items.forEach(function (r) { return text += r.text + \" \"; });\r\n            return text;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ViewVisualModelItem.prototype.addChild = function (child) {\r\n        if (common_1.isDefined(child) && this.children.indexOf(child) < 0)\r\n            this.children.push(child);\r\n    };\r\n    ViewVisualModelItem.prototype.removeChild = function (child) {\r\n        var index = this.children.indexOf(child);\r\n        if (index > -1)\r\n            this.children.splice(index, 1);\r\n    };\r\n    ViewVisualModelItem.prototype.getExpanded = function () {\r\n        return !!this.task && this.task.expanded;\r\n    };\r\n    ViewVisualModelItem.prototype.getVisible = function () {\r\n        if (!this.visible)\r\n            return false;\r\n        var parentItem = this.parent;\r\n        while (parentItem) {\r\n            if (!parentItem.visible)\r\n                return false;\r\n            parentItem = parentItem.parent;\r\n        }\r\n        return true;\r\n    };\r\n    ViewVisualModelItem.prototype.changeVisibility = function (visible) {\r\n        this.visible = visible;\r\n    };\r\n    ViewVisualModelItem.prototype.changeSelection = function (selected) {\r\n        this.selected = selected;\r\n    };\r\n    ViewVisualModelItem.prototype.setDependencies = function (dependencies) {\r\n        if (dependencies)\r\n            this.dependencies = dependencies.slice();\r\n    };\r\n    return ViewVisualModelItem;\r\n}());\r\nexports.ViewVisualModelItem = ViewVisualModelItem;\r\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ViewVisualModelDependencyInfo = void 0;\r\nvar ViewVisualModelDependencyInfo = (function () {\r\n    function ViewVisualModelDependencyInfo(id, predecessor, type) {\r\n        this.id = id;\r\n        this.predecessor = predecessor;\r\n        this.type = type;\r\n    }\r\n    return ViewVisualModelDependencyInfo;\r\n}());\r\nexports.ViewVisualModelDependencyInfo = ViewVisualModelDependencyInfo;\r\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkingTimeCalculator = void 0;\r\nvar GanttWorkingDayRuleCollection_1 = __webpack_require__(68);\r\nvar DayWorkingTimeInfo_1 = __webpack_require__(76);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar WorkingTimeCalculator = (function () {\r\n    function WorkingTimeCalculator(range, rules) {\r\n        this._workingRules = new GanttWorkingDayRuleCollection_1.WorkingDayRuleCollection();\r\n        this._workDayList = new Array();\r\n        this._calculationRange = range;\r\n        this._workingRules.importFromObject(rules);\r\n    }\r\n    WorkingTimeCalculator.prototype.calculateWorkDayList = function () {\r\n        if (!this._calculationRange)\r\n            return;\r\n        this.clearList();\r\n        var rules = this._workingRules.items;\r\n        for (var i = 0; i < rules.length; i++)\r\n            this.processRule(rules[i]);\r\n        this.sortList();\r\n    };\r\n    WorkingTimeCalculator.prototype.processRule = function (rule) {\r\n        var points = rule.recurrence.calculatePoints(this._calculationRange.start, this._calculationRange.end);\r\n        var _loop_1 = function (i) {\r\n            var point = points[i];\r\n            var dayNum = DateTimeUtils_1.DateTimeUtils.getDayNumber(point);\r\n            var dayInfo = this_1._workDayList.filter(function (i) { return i.dayNumber == dayNum; })[0];\r\n            if (dayInfo) {\r\n                dayInfo.isWorkDay = dayInfo.isWorkDay && rule.isWorkDay;\r\n                dayInfo.addWorkingIntervals(rule.workTimeRanges);\r\n            }\r\n            else\r\n                this_1._workDayList.push(new DayWorkingTimeInfo_1.DayWorkingTimeInfo(dayNum, rule.isWorkDay, rule.workTimeRanges));\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < points.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    WorkingTimeCalculator.prototype.sortList = function () {\r\n        this._workDayList.sort(function (d1, d2) { return d1.dayNumber - d2.dayNumber; });\r\n    };\r\n    WorkingTimeCalculator.prototype.clearList = function () {\r\n        this._workDayList.splice(0, this._workDayList.length);\r\n    };\r\n    WorkingTimeCalculator.prototype.calculateNoWorkTimeIntervals = function () {\r\n        var _this = this;\r\n        var res = new Array();\r\n        if (this._workDayList.length == 0)\r\n            this.calculateWorkDayList();\r\n        this._workDayList.forEach(function (d) { return res = res.concat(_this.getNoWorkTimeRangesFromDay(d)); });\r\n        return this.concatJointedRanges(res);\r\n    };\r\n    WorkingTimeCalculator.prototype.concatJointedRanges = function (list) {\r\n        var res = new Array();\r\n        for (var i = 0; i < list.length; i++) {\r\n            var interval = list[i];\r\n            var needExpandPrevInterval = res.length > 0 && DateTimeUtils_1.DateTimeUtils.compareDates(res[res.length - 1].end, interval.start) < 2;\r\n            if (needExpandPrevInterval)\r\n                res[res.length - 1].end = interval.end;\r\n            else\r\n                res.push(interval);\r\n        }\r\n        return res;\r\n    };\r\n    WorkingTimeCalculator.prototype.getNoWorkTimeRangesFromDay = function (day) {\r\n        return day.noWorkingIntervals.map(function (i) { return DateTimeUtils_1.DateTimeUtils.convertTimeRangeToDateRange(i, day.dayNumber); });\r\n    };\r\n    Object.defineProperty(WorkingTimeCalculator.prototype, \"noWorkingIntervals\", {\r\n        get: function () {\r\n            if (!this._noWorkingIntervals)\r\n                this._noWorkingIntervals = this.calculateNoWorkTimeIntervals();\r\n            return this._noWorkingIntervals.slice();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    WorkingTimeCalculator.prototype.updateRange = function (range) {\r\n        this._calculationRange = range;\r\n        this.invalidate();\r\n    };\r\n    WorkingTimeCalculator.prototype.invalidate = function () {\r\n        this._noWorkingIntervals = null;\r\n        this.clearList();\r\n    };\r\n    return WorkingTimeCalculator;\r\n}());\r\nexports.WorkingTimeCalculator = WorkingTimeCalculator;\r\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkingDayRuleCollection = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CollectionBase_1 = __webpack_require__(13);\r\nvar WorkingTimeRule_1 = __webpack_require__(69);\r\nvar WorkingDayRuleCollection = (function (_super) {\r\n    tslib_1.__extends(WorkingDayRuleCollection, _super);\r\n    function WorkingDayRuleCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WorkingDayRuleCollection.prototype.createItem = function () { return new WorkingTimeRule_1.WorkingTimeRule(); };\r\n    return WorkingDayRuleCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.WorkingDayRuleCollection = WorkingDayRuleCollection;\r\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkingTimeRule = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(10);\r\nvar common_1 = __webpack_require__(1);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar RecurrenceFactory_1 = __webpack_require__(39);\r\nvar Daily_1 = __webpack_require__(40);\r\nvar WorkingTimeRule = (function (_super) {\r\n    tslib_1.__extends(WorkingTimeRule, _super);\r\n    function WorkingTimeRule(recurrence, isWorkDay, workTimeRanges) {\r\n        if (recurrence === void 0) { recurrence = null; }\r\n        if (isWorkDay === void 0) { isWorkDay = true; }\r\n        if (workTimeRanges === void 0) { workTimeRanges = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this.isWorkDay = true;\r\n        _this.workTimeRanges = new Array();\r\n        _this.recurrence = recurrence;\r\n        _this.isWorkDay = isWorkDay;\r\n        if (workTimeRanges)\r\n            _this.workTimeRanges.concat(workTimeRanges);\r\n        return _this;\r\n    }\r\n    WorkingTimeRule.prototype.assignFromObject = function (sourceObj) {\r\n        if (common_1.isDefined(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.recurrence = RecurrenceFactory_1.RecurrenceFactory.createRecurrenceByType(sourceObj.recurrenceType) || new Daily_1.Daily();\r\n            if (common_1.isDefined(sourceObj.recurrence))\r\n                this.recurrence.assignFromObject(sourceObj.recurrence);\r\n            if (common_1.isDefined(sourceObj.isWorkDay))\r\n                this.isWorkDay = !!sourceObj.isWorkDay;\r\n            var ranges = DateTimeUtils_1.DateTimeUtils.convertToTimeRanges(sourceObj.workTimeRanges);\r\n            if (ranges)\r\n                this.workTimeRanges = ranges;\r\n        }\r\n    };\r\n    return WorkingTimeRule;\r\n}(DataObject_1.DataObject));\r\nexports.WorkingTimeRule = WorkingTimeRule;\r\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DayOfWeek = void 0;\r\nvar DayOfWeek;\r\n(function (DayOfWeek) {\r\n    DayOfWeek[DayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\r\n    DayOfWeek[DayOfWeek[\"Monday\"] = 1] = \"Monday\";\r\n    DayOfWeek[DayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\r\n    DayOfWeek[DayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\r\n    DayOfWeek[DayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\r\n    DayOfWeek[DayOfWeek[\"Friday\"] = 5] = \"Friday\";\r\n    DayOfWeek[DayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\r\n})(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));\r\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Month = void 0;\r\nvar Month;\r\n(function (Month) {\r\n    Month[Month[\"January\"] = 0] = \"January\";\r\n    Month[Month[\"February\"] = 1] = \"February\";\r\n    Month[Month[\"March\"] = 2] = \"March\";\r\n    Month[Month[\"April\"] = 3] = \"April\";\r\n    Month[Month[\"May\"] = 4] = \"May\";\r\n    Month[Month[\"June\"] = 5] = \"June\";\r\n    Month[Month[\"July\"] = 6] = \"July\";\r\n    Month[Month[\"August\"] = 7] = \"August\";\r\n    Month[Month[\"September\"] = 8] = \"September\";\r\n    Month[Month[\"October\"] = 9] = \"October\";\r\n    Month[Month[\"November\"] = 10] = \"November\";\r\n    Month[Month[\"December\"] = 11] = \"December\";\r\n})(Month = exports.Month || (exports.Month = {}));\r\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Weekly = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar RecurrenceBase_1 = __webpack_require__(16);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Weekly = (function (_super) {\r\n    tslib_1.__extends(Weekly, _super);\r\n    function Weekly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Weekly.prototype.checkDate = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal, date);\r\n    };\r\n    Weekly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date) % this.interval == 0;\r\n    };\r\n    Weekly.prototype.calculatePointByInterval = function (date) {\r\n        var weeksFromStart = DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date);\r\n        var intervalCount = Math.floor(weeksFromStart / this.interval);\r\n        var remainder = weeksFromStart % this.interval;\r\n        var isPointOnNewWeek = remainder > 0 || date.getDay() >= this.dayOfWeekInternal;\r\n        if (isPointOnNewWeek)\r\n            intervalCount++;\r\n        var weeksToAdd = intervalCount * this.interval;\r\n        return this.calcNextPointWithWeekCount(this.start, weeksToAdd);\r\n    };\r\n    Weekly.prototype.calculateNearestPoint = function (date) {\r\n        var diff = this.dayOfWeekInternal - date.getDay();\r\n        if (diff > 0)\r\n            return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), diff);\r\n        return this.calcNextPointWithWeekCount(date, 1);\r\n    };\r\n    Weekly.prototype.calcNextPointWithWeekCount = function (date, weekCount) {\r\n        if (weekCount === void 0) { weekCount = 1; }\r\n        var daysToAdd = weekCount * 7 + this.dayOfWeekInternal - date.getDay();\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), daysToAdd);\r\n    };\r\n    Object.defineProperty(Weekly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Weekly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Weekly = Weekly;\r\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Monthly = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar RecurrenceBase_1 = __webpack_require__(16);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar MonthInfo_1 = __webpack_require__(74);\r\nvar Monthly = (function (_super) {\r\n    tslib_1.__extends(Monthly, _super);\r\n    function Monthly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Monthly.prototype.checkDate = function (date) {\r\n        if (this._calculateByDayOfWeek)\r\n            return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\r\n    };\r\n    Monthly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getMonthsDifference(this.start, date) % this.interval == 0;\r\n    };\r\n    Monthly.prototype.calculatePointByInterval = function (date) {\r\n        var start = this.start;\r\n        var monthFromStart = DateTimeUtils_1.DateTimeUtils.getMonthsDifference(start, date);\r\n        var monthToAdd = Math.floor(monthFromStart / this.interval) * this.interval;\r\n        var info = new MonthInfo_1.MonthInfo(start.getMonth(), start.getFullYear());\r\n        info.addMonths(monthToAdd);\r\n        var point = this.getSpecDayInMonth(info.year, info.month);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            info.addMonths(this.interval);\r\n            point = this.getSpecDayInMonth(info.year, info.month);\r\n        }\r\n        return point;\r\n    };\r\n    Monthly.prototype.calculateNearestPoint = function (date) {\r\n        var month = date.getMonth();\r\n        var year = date.getFullYear();\r\n        var point = this.getSpecDayInMonth(year, month);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            var info = new MonthInfo_1.MonthInfo(month, year);\r\n            info.addMonths(1);\r\n            point = this.getSpecDayInMonth(info.year, info.month);\r\n        }\r\n        return point;\r\n    };\r\n    Object.defineProperty(Monthly.prototype, \"day\", {\r\n        get: function () { return this.dayInternal; },\r\n        set: function (value) { this.dayInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Monthly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Monthly.prototype, \"dayOfWeekOccurrence\", {\r\n        get: function () { return this.dayOfWeekOccurrenceInternal; },\r\n        set: function (value) { this.dayOfWeekOccurrenceInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Monthly.prototype, \"calculateByDayOfWeek\", {\r\n        get: function () { return this._calculateByDayOfWeek; },\r\n        set: function (value) { this._calculateByDayOfWeek = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Monthly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Monthly = Monthly;\r\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MonthInfo = void 0;\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar MonthInfo = (function () {\r\n    function MonthInfo(month, year) {\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n    MonthInfo.prototype.addMonths = function (months) {\r\n        var nextMonth = DateTimeUtils_1.DateTimeUtils.getNextMonth(this.month, months);\r\n        var yearInc = Math.floor(months / 12);\r\n        if (nextMonth < this.month)\r\n            ++yearInc;\r\n        this.month = nextMonth;\r\n        this.year += yearInc;\r\n    };\r\n    return MonthInfo;\r\n}());\r\nexports.MonthInfo = MonthInfo;\r\n\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Yearly = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar RecurrenceBase_1 = __webpack_require__(16);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Yearly = (function (_super) {\r\n    tslib_1.__extends(Yearly, _super);\r\n    function Yearly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Yearly.prototype.checkDate = function (date) {\r\n        if (!DateTimeUtils_1.DateTimeUtils.checkMonth(this.month, date))\r\n            return false;\r\n        if (this._calculateByDayOfWeek)\r\n            return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\r\n    };\r\n    Yearly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date) % this.interval == 0;\r\n    };\r\n    Yearly.prototype.calculatePointByInterval = function (date) {\r\n        var yearFromStart = DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date);\r\n        var yearInc = Math.floor(yearFromStart / this.interval) * this.interval;\r\n        var newYear = this.start.getFullYear() + yearInc;\r\n        var point = this.getSpecDayInMonth(newYear, this.monthInternal);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            newYear += this.interval;\r\n            point = this.getSpecDayInMonth(newYear, this.monthInternal);\r\n        }\r\n        return point;\r\n    };\r\n    Yearly.prototype.calculateNearestPoint = function (date) {\r\n        var year = date.getFullYear();\r\n        var point = this.getSpecDayInMonth(year, this.monthInternal);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0)\r\n            point = this.getSpecDayInMonth(++year, this.monthInternal);\r\n        return point;\r\n    };\r\n    Object.defineProperty(Yearly.prototype, \"month\", {\r\n        get: function () { return this.monthInternal; },\r\n        set: function (value) { this.monthInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Yearly.prototype, \"day\", {\r\n        get: function () { return this.dayInternal; },\r\n        set: function (value) { this.dayInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Yearly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Yearly.prototype, \"dayOfWeekOccurrence\", {\r\n        get: function () { return this.dayOfWeekOccurrenceInternal; },\r\n        set: function (value) { this.dayOfWeekOccurrenceInternal = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Yearly.prototype, \"calculateByDayOfWeek\", {\r\n        get: function () { return this._calculateByDayOfWeek; },\r\n        set: function (value) { this._calculateByDayOfWeek = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Yearly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Yearly = Yearly;\r\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DayWorkingTimeInfo = void 0;\r\nvar TimeRange_1 = __webpack_require__(37);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Time_1 = __webpack_require__(36);\r\nvar DayWorkingTimeInfo = (function () {\r\n    function DayWorkingTimeInfo(dayNumber, isWorkDay, intervals) {\r\n        if (dayNumber === void 0) { dayNumber = 0; }\r\n        if (isWorkDay === void 0) { isWorkDay = true; }\r\n        if (intervals === void 0) { intervals = null; }\r\n        this._workingIntervals = new Array();\r\n        this.dayNumber = dayNumber;\r\n        this.isWorkDay = isWorkDay;\r\n        this.addWorkingIntervals(intervals);\r\n    }\r\n    DayWorkingTimeInfo.prototype.addWorkingIntervals = function (intervals) {\r\n        if (!intervals)\r\n            return;\r\n        this._workingIntervals = this._workingIntervals.concat(intervals.filter(function (r) { return !!r; }));\r\n        this.rearrangeWorkingIntervals();\r\n    };\r\n    DayWorkingTimeInfo.prototype.rearrangeWorkingIntervals = function () {\r\n        for (var i = 0; i < this._workingIntervals.length; i++)\r\n            this.concatWithIntersectedRanges(this._workingIntervals[i]);\r\n        this.sortIntervals();\r\n    };\r\n    DayWorkingTimeInfo.prototype.concatWithIntersectedRanges = function (range) {\r\n        var _this = this;\r\n        var intersectedRanges = this.getIntersectedIntervals(range);\r\n        intersectedRanges.forEach(function (r) {\r\n            range.concatWith(r);\r\n            _this.removeInterval(r);\r\n        });\r\n    };\r\n    DayWorkingTimeInfo.prototype.getIntersectedIntervals = function (range) {\r\n        return this._workingIntervals.filter(function (r) { return r.hasIntersect(range) && r !== range; });\r\n    };\r\n    DayWorkingTimeInfo.prototype.sortIntervals = function () {\r\n        this._workingIntervals.sort(function (r1, r2) { return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(r2.start, r1.start); });\r\n    };\r\n    DayWorkingTimeInfo.prototype.removeInterval = function (element) {\r\n        var index = this._workingIntervals.indexOf(element);\r\n        if (index > -1 && index < this._workingIntervals.length)\r\n            this._workingIntervals.splice(index, 1);\r\n    };\r\n    DayWorkingTimeInfo.prototype.clearIntervals = function () {\r\n        this._workingIntervals.splice(0, this._workingIntervals.length);\r\n    };\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"workingIntervals\", {\r\n        get: function () { return this._workingIntervals.slice(); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"noWorkingIntervals\", {\r\n        get: function () {\r\n            var res = new Array();\r\n            if (this.isWorkDay && this._workingIntervals.length == 0)\r\n                return res;\r\n            var starts = this._workingIntervals.map(function (r) { return r.end; });\r\n            starts.splice(0, 0, new Time_1.Time());\r\n            var ends = this._workingIntervals.map(function (r) { return r.start; });\r\n            ends.push(DateTimeUtils_1.DateTimeUtils.getLastTimeOfDay());\r\n            for (var i = 0; i < starts.length; i++) {\r\n                var start = starts[i];\r\n                var end = ends[i];\r\n                if (!DateTimeUtils_1.DateTimeUtils.areTimesEqual(start, end))\r\n                    res.push(new TimeRange_1.TimeRange(start, end));\r\n            }\r\n            return res;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"isWorkDay\", {\r\n        get: function () { return this._isWorkDay; },\r\n        set: function (value) {\r\n            this._isWorkDay = value;\r\n            if (!value)\r\n                this.clearIntervals();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return DayWorkingTimeInfo;\r\n}());\r\nexports.DayWorkingTimeInfo = DayWorkingTimeInfo;\r\n\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(0);\r\nvar offsets_1 = __webpack_require__(78);\r\nvar Margins = (function (_super) {\r\n    tslib_1.__extends(Margins, _super);\r\n    function Margins() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Margins.empty = function () {\r\n        return new Margins(0, 0, 0, 0);\r\n    };\r\n    Margins.prototype.clone = function () {\r\n        return new Margins(this.left, this.right, this.top, this.bottom);\r\n    };\r\n    return Margins;\r\n}(offsets_1.Offsets));\r\nexports.Margins = Margins;\r\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Offsets = (function () {\r\n    function Offsets(left, right, top, bottom) {\r\n        this.left = left;\r\n        this.right = right;\r\n        this.top = top;\r\n        this.bottom = bottom;\r\n    }\r\n    Offsets.empty = function () {\r\n        return new Offsets(0, 0, 0, 0);\r\n    };\r\n    Object.defineProperty(Offsets.prototype, \"horizontal\", {\r\n        get: function () {\r\n            return this.left + this.right;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Offsets.prototype, \"vertical\", {\r\n        get: function () {\r\n            return this.top + this.bottom;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Offsets.fromNumber = function (offset) {\r\n        return new Offsets(offset, offset, offset, offset);\r\n    };\r\n    Offsets.fromOffsets = function (offsets) {\r\n        return new Offsets(offsets.left, offsets.right, offsets.top, offsets.bottom);\r\n    };\r\n    Offsets.fromSide = function (horizontal, vertical) {\r\n        return new Offsets(horizontal, horizontal, vertical, vertical);\r\n    };\r\n    Offsets.prototype.normalize = function () {\r\n        this.left = Math.max(0, this.left);\r\n        this.right = Math.max(0, this.right);\r\n        this.top = Math.max(0, this.top);\r\n        this.bottom = Math.max(0, this.bottom);\r\n        return this;\r\n    };\r\n    Offsets.prototype.toString = function () {\r\n        return JSON.stringify(this);\r\n    };\r\n    Offsets.prototype.isEmpty = function () {\r\n        return this.left === 0 && this.right === 0 && this.top === 0 && this.bottom === 0;\r\n    };\r\n    Offsets.prototype.offset = function (offset) {\r\n        this.left += offset.left;\r\n        this.right += offset.right;\r\n        this.top += offset.top;\r\n        this.bottom += offset.bottom;\r\n        return this;\r\n    };\r\n    Offsets.prototype.multiply = function (multLeft, multRight, multTop, multBottom) {\r\n        switch (arguments.length) {\r\n            case 1: {\r\n                this.left *= multLeft;\r\n                this.right *= multLeft;\r\n                this.top *= multLeft;\r\n                this.bottom *= multLeft;\r\n                return this;\r\n            }\r\n            case 2: {\r\n                this.left *= multLeft;\r\n                this.right *= multLeft;\r\n                this.top *= multRight;\r\n                this.bottom *= multRight;\r\n                return this;\r\n            }\r\n            case 4: {\r\n                this.left *= multLeft;\r\n                this.right *= multRight;\r\n                this.top *= multTop;\r\n                this.bottom *= multBottom;\r\n                return this;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Offsets.prototype.clone = function () {\r\n        return new Offsets(this.left, this.right, this.top, this.bottom);\r\n    };\r\n    Offsets.prototype.copyFrom = function (obj) {\r\n        this.left = obj.left;\r\n        this.right = obj.right;\r\n        this.top = obj.top;\r\n        this.bottom = obj.bottom;\r\n    };\r\n    Offsets.prototype.equals = function (obj) {\r\n        return this.top === obj.top &&\r\n            this.bottom === obj.bottom &&\r\n            this.right === obj.right &&\r\n            this.left === obj.left;\r\n    };\r\n    Offsets.prototype.applyConverter = function (converter) {\r\n        this.left = converter(this.left);\r\n        this.right = converter(this.right);\r\n        this.top = converter(this.top);\r\n        this.bottom = converter(this.bottom);\r\n        return this;\r\n    };\r\n    return Offsets;\r\n}());\r\nexports.Offsets = Offsets;\r\n\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EtalonSizeValues = void 0;\r\nvar EtalonSizeValues = (function () {\r\n    function EtalonSizeValues() {\r\n        this.scaleItemWidths = {};\r\n    }\r\n    return EtalonSizeValues;\r\n}());\r\nexports.EtalonSizeValues = EtalonSizeValues;\r\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ModelManipulator = void 0;\r\nvar DependencyManipulator_1 = __webpack_require__(81);\r\nvar ResourcesManipulator_1 = __webpack_require__(82);\r\nvar TaskManipulator_1 = __webpack_require__(84);\r\nvar ModelManipulator = (function () {\r\n    function ModelManipulator(viewModel, dispatcher) {\r\n        this.task = new TaskManipulator_1.TaskManipulator(viewModel, dispatcher);\r\n        this.dependency = new DependencyManipulator_1.TaskDependencyManipulator(viewModel, dispatcher);\r\n        this.resource = new ResourcesManipulator_1.ResourcesManipulator(viewModel, dispatcher);\r\n        this.dispatcher = dispatcher;\r\n    }\r\n    return ModelManipulator;\r\n}());\r\nexports.ModelManipulator = ModelManipulator;\r\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskDependencyManipulator = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(18);\r\nvar TaskDependencyManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskDependencyManipulator, _super);\r\n    function TaskDependencyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDependencyManipulator.prototype.insertDependency = function (predecessorId, successorId, type, id) {\r\n        var dependency = this.viewModel.dependencies.createItem();\r\n        dependency.predecessorId = predecessorId;\r\n        dependency.successorId = successorId;\r\n        dependency.type = type;\r\n        if (id)\r\n            dependency.internalId = id;\r\n        dependency.id = dependency.internalId;\r\n        this.viewModel.dependencies.add(dependency);\r\n        this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(dependency), function (id) { return dependency.id = id; }, this.getErrorCallback());\r\n        this.viewModel.updateVisibleItemDependencies();\r\n        this.viewModel.owner.recreateConnectorLineElement(dependency.internalId, true);\r\n        return dependency;\r\n    };\r\n    TaskDependencyManipulator.prototype.removeDependency = function (dependencyId) {\r\n        var dependency = this.viewModel.dependencies.getItemById(dependencyId);\r\n        this.viewModel.dependencies.remove(dependency);\r\n        this.dispatcher.notifyDependencyRemoved(dependency.id, this.getErrorCallback(), this.viewModel.getDependencyObjectForDataSource(dependency));\r\n        this.viewModel.updateVisibleItemDependencies();\r\n        this.viewModel.owner.recreateConnectorLineElement(dependency.internalId);\r\n        return dependency;\r\n    };\r\n    TaskDependencyManipulator.prototype.getObjectForDataSource = function (dependency) {\r\n        return {\r\n            id: dependency.id,\r\n            predecessorId: this.viewModel.tasks.getItemById(dependency.predecessorId).id,\r\n            successorId: this.viewModel.tasks.getItemById(dependency.successorId).id,\r\n            type: dependency.type\r\n        };\r\n    };\r\n    return TaskDependencyManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.TaskDependencyManipulator = TaskDependencyManipulator;\r\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourcesManipulator = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(18);\r\nvar ResourcePropertiesManipulator_1 = __webpack_require__(83);\r\nvar ResourcesManipulator = (function (_super) {\r\n    tslib_1.__extends(ResourcesManipulator, _super);\r\n    function ResourcesManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.properties = new ResourcePropertiesManipulator_1.ResourcePropertiesManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    ResourcesManipulator.prototype.create = function (text, color, id, callback) {\r\n        var resource = this.viewModel.resources.createItem();\r\n        resource.text = text;\r\n        if (color)\r\n            resource.color = color;\r\n        if (id)\r\n            resource.internalId = id;\r\n        resource.id = resource.internalId;\r\n        this.viewModel.resources.add(resource);\r\n        this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(resource), function (id) {\r\n            resource.id = id;\r\n            if (callback)\r\n                callback(id);\r\n        }, this.getErrorCallback());\r\n        return resource;\r\n    };\r\n    ResourcesManipulator.prototype.remove = function (resourceId) {\r\n        var resource = this.viewModel.resources.getItemById(resourceId);\r\n        if (!resource)\r\n            throw new Error(\"Invalid resource id\");\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.resourceId == resourceId; });\r\n        if (assignments.length)\r\n            throw new Error(\"Can't delete assigned resource\");\r\n        this.viewModel.resources.remove(resource);\r\n        this.dispatcher.notifyResourceRemoved(resource.id, this.getErrorCallback(), this.viewModel.getResourceObjectForDataSource(resource));\r\n        return resource;\r\n    };\r\n    ResourcesManipulator.prototype.assign = function (resourceID, taskId, id) {\r\n        var assignment = this.viewModel.assignments.createItem();\r\n        assignment.resourceId = resourceID;\r\n        assignment.taskId = taskId;\r\n        if (id)\r\n            assignment.internalId = id;\r\n        assignment.id = assignment.internalId;\r\n        this.viewModel.assignments.add(assignment);\r\n        this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(assignment), function (id) { return assignment.id = id; }, this.getErrorCallback());\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return assignment;\r\n    };\r\n    ResourcesManipulator.prototype.deassig = function (assignmentId) {\r\n        var assignment = this.viewModel.assignments.getItemById(assignmentId);\r\n        this.viewModel.assignments.remove(assignment);\r\n        this.dispatcher.notifyResourceUnassigned(assignment.id, this.getErrorCallback(), this.viewModel.getResourceAssignmentObjectForDataSource(assignment));\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return assignment;\r\n    };\r\n    ResourcesManipulator.prototype.getResourceObjectForDataSource = function (resource) {\r\n        return {\r\n            id: resource.id,\r\n            text: resource.text\r\n        };\r\n    };\r\n    ResourcesManipulator.prototype.getResourceAssignmentObjectForDataSource = function (resourceAssignment) {\r\n        return {\r\n            id: resourceAssignment.id,\r\n            taskId: this.viewModel.tasks.getItemById(resourceAssignment.taskId).id,\r\n            resourceId: this.viewModel.resources.getItemById(resourceAssignment.resourceId).id\r\n        };\r\n    };\r\n    return ResourcesManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.ResourcesManipulator = ResourcesManipulator;\r\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourcePropertyManipulator = exports.ResourcePropertiesManipulator = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(18);\r\nvar HistoryItemState_1 = __webpack_require__(45);\r\nvar ResourcePropertiesManipulator = (function (_super) {\r\n    tslib_1.__extends(ResourcePropertiesManipulator, _super);\r\n    function ResourcePropertiesManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.color = new ResourceColorManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    return ResourcePropertiesManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.ResourcePropertiesManipulator = ResourcePropertiesManipulator;\r\nvar ResourcePropertyManipulator = (function (_super) {\r\n    tslib_1.__extends(ResourcePropertyManipulator, _super);\r\n    function ResourcePropertyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcePropertyManipulator.prototype.setValue = function (id, newValue) {\r\n        var _this = this;\r\n        var resource = this.viewModel.resources.getItemById(id);\r\n        var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(resource));\r\n        this.setPropertyValue(resource, newValue);\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.resourceId == resource.internalId; });\r\n        assignments.forEach(function (a) {\r\n            var viewItem = _this.viewModel.findItem(a.taskId);\r\n            var index = viewItem.visibleIndex;\r\n            _this.viewModel.owner.recreateTaskElement(index);\r\n        });\r\n        return oldState;\r\n    };\r\n    ResourcePropertyManipulator.prototype.restoreValue = function (state) {\r\n        var _this = this;\r\n        if (!state)\r\n            return;\r\n        var stateValue = state.value;\r\n        var resource = this.viewModel.resources.getItemById(state.id);\r\n        this.setPropertyValue(resource, stateValue);\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.resourceId == resource.internalId; });\r\n        assignments.forEach(function (a) {\r\n            var viewItem = _this.viewModel.findItem(a.taskId);\r\n            var index = viewItem.visibleIndex;\r\n            _this.viewModel.owner.recreateTaskElement(index);\r\n        });\r\n    };\r\n    return ResourcePropertyManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.ResourcePropertyManipulator = ResourcePropertyManipulator;\r\nvar ResourceColorManipulator = (function (_super) {\r\n    tslib_1.__extends(ResourceColorManipulator, _super);\r\n    function ResourceColorManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceColorManipulator.prototype.getPropertyValue = function (resource) {\r\n        return resource.color;\r\n    };\r\n    ResourceColorManipulator.prototype.setPropertyValue = function (resource, value) {\r\n        resource.color = value;\r\n        this.dispatcher.notifyResourceColorChanged(resource.id, value, this.getErrorCallback());\r\n    };\r\n    return ResourceColorManipulator;\r\n}(ResourcePropertyManipulator));\r\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskManipulator = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(18);\r\nvar TaskManipulator = (function (_super) {\r\n    tslib_1.__extends(TaskManipulator, _super);\r\n    function TaskManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.properties = new TaskPropertiesManipulator_1.TaskPropertiesManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    TaskManipulator.prototype.create = function (start, end, title, progress, parentId, id, callback) {\r\n        var _this = this;\r\n        var task = this.viewModel.tasks.createItem();\r\n        task.start = start;\r\n        task.end = end;\r\n        task.title = title;\r\n        task.progress = progress;\r\n        var parentItem = this.viewModel.tasks.getItemById(parentId);\r\n        if (parentItem)\r\n            parentItem.expanded = true;\r\n        task.parentId = parentId;\r\n        if (id)\r\n            task.internalId = id;\r\n        task.id = task.internalId;\r\n        this.viewModel.tasks.add(task);\r\n        this.viewModel.updateModel();\r\n        this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(task), function (id) {\r\n            task.id = id;\r\n            if (callback)\r\n                callback();\r\n            if (_this.viewModel.requireFirstLoadParentAutoCalc) {\r\n                var data = _this.viewModel.getCurrentTaskData().map(function (t) {\r\n                    if (t.parentId === \"\")\r\n                        t.parentId = null;\r\n                    return t;\r\n                });\r\n                _this.dispatcher.notifyParentDataRecalculated(data);\r\n            }\r\n        }, this.getErrorCallback());\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return task;\r\n    };\r\n    TaskManipulator.prototype.remove = function (taskId) {\r\n        var task = this.viewModel.tasks.getItemById(taskId);\r\n        if (!task)\r\n            throw new Error(\"Invalid task id\");\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == taskId || d.successorId == taskId; });\r\n        if (dependencies.length)\r\n            throw new Error(\"Can't delete task with dependency\");\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.taskId == taskId; });\r\n        if (assignments.length)\r\n            throw new Error(\"Can't delete task with assigned resource\");\r\n        this.viewModel.tasks.remove(task);\r\n        this.dispatcher.notifyTaskRemoved(task.id, this.getErrorCallback(), this.viewModel.getTaskObjectForDataSource(task));\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return task;\r\n    };\r\n    TaskManipulator.prototype.getObjectForDataSource = function (task) {\r\n        return this.viewModel.getTaskObjectForDataSource(task);\r\n    };\r\n    return TaskManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.TaskManipulator = TaskManipulator;\r\n\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.History = void 0;\r\nvar HistoryItem_1 = __webpack_require__(12);\r\nvar HistoryItemInfo_1 = __webpack_require__(86);\r\nvar History = (function () {\r\n    function History() {\r\n        this.historyItems = [];\r\n        this.currentIndex = -1;\r\n        this.currentProcessingItemInfo = null;\r\n        this.transaction = null;\r\n        this.transactionLevel = -1;\r\n    }\r\n    History.prototype.undo = function () {\r\n        if (this.canUndo()) {\r\n            this.activateItem(this.historyItems[this.currentIndex], true);\r\n            this.currentIndex--;\r\n        }\r\n    };\r\n    History.prototype.redo = function () {\r\n        if (this.canRedo()) {\r\n            this.currentIndex++;\r\n            this.activateItem(this.historyItems[this.currentIndex]);\r\n        }\r\n    };\r\n    History.prototype.beginTransaction = function () {\r\n        this.transactionLevel++;\r\n        if (this.transactionLevel == 0)\r\n            this.transaction = new HistoryItem_1.CompositionHistoryItem();\r\n    };\r\n    History.prototype.endTransaction = function () {\r\n        if (--this.transactionLevel >= 0)\r\n            return;\r\n        var transactionLength = this.transaction.historyItems.length;\r\n        if (transactionLength > 1)\r\n            this.addInternal(this.transaction);\r\n        else if (transactionLength == 1)\r\n            this.addInternal(this.transaction.historyItems.pop());\r\n        this.transaction = null;\r\n    };\r\n    History.prototype.addAndRedo = function (historyItem) {\r\n        this.add(historyItem);\r\n        this.activateItem(historyItem);\r\n    };\r\n    History.prototype.add = function (historyItem) {\r\n        if (this.transactionLevel >= 0)\r\n            this.transaction.add(historyItem);\r\n        else\r\n            this.addInternal(historyItem);\r\n    };\r\n    History.prototype.canUndo = function () {\r\n        return this.currentIndex >= 0;\r\n    };\r\n    History.prototype.canRedo = function () {\r\n        return this.currentIndex < this.historyItems.length - 1;\r\n    };\r\n    History.prototype.addInternal = function (historyItem) {\r\n        if (this.currentIndex < this.historyItems.length - 1)\r\n            this.historyItems.splice(this.currentIndex + 1);\r\n        this.historyItems.push(historyItem);\r\n        this.currentIndex++;\r\n        this.deleteOldItems();\r\n    };\r\n    History.prototype.deleteOldItems = function () {\r\n        var exceedItemsCount = this.historyItems.length - History.MAX_HISTORY_ITEM_COUNT;\r\n        if (exceedItemsCount > 0 && this.currentIndex > exceedItemsCount) {\r\n            this.historyItems.splice(0, exceedItemsCount);\r\n            this.currentIndex -= exceedItemsCount;\r\n        }\r\n    };\r\n    History.prototype.clear = function () {\r\n        this.currentIndex = -1;\r\n        this.historyItems = [];\r\n    };\r\n    History.prototype.activateItem = function (historyItem, isUndo) {\r\n        if (isUndo === void 0) { isUndo = false; }\r\n        this.currentProcessingItemInfo = new HistoryItemInfo_1.HistoryItemInfo(historyItem, isUndo);\r\n        if (isUndo)\r\n            historyItem.undo();\r\n        else\r\n            historyItem.redo();\r\n        this.currentProcessingItemInfo = null;\r\n    };\r\n    History.prototype.getCurrentProcessingItemInfo = function () {\r\n        return this.currentProcessingItemInfo;\r\n    };\r\n    History.prototype.rollBackAndRemove = function (info) {\r\n        var item = info.item;\r\n        if (!this.checkAndRemoveItem(item))\r\n            return;\r\n        if (info.isUndo)\r\n            item.redo();\r\n        else if (item instanceof HistoryItem_1.CompositionHistoryItem)\r\n            item.undoItemsQuery();\r\n        else\r\n            item.undo();\r\n    };\r\n    History.prototype.checkAndRemoveItem = function (item) {\r\n        var index = this.historyItems.indexOf(item);\r\n        if (index > -1) {\r\n            this.historyItems.splice(index, 1);\r\n            this.currentIndex--;\r\n        }\r\n        else if (this.transaction) {\r\n            index = this.transaction.historyItems.indexOf(item);\r\n            if (index > -1)\r\n                this.transaction.historyItems.splice(index, 1);\r\n        }\r\n        return index > -1;\r\n    };\r\n    History.MAX_HISTORY_ITEM_COUNT = 100;\r\n    return History;\r\n}());\r\nexports.History = History;\r\n\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HistoryItemInfo = void 0;\r\nvar HistoryItemInfo = (function () {\r\n    function HistoryItemInfo(item, isUndo) {\r\n        if (isUndo === void 0) { isUndo = false; }\r\n        this.item = item;\r\n        this.isUndo = isUndo;\r\n    }\r\n    return HistoryItemInfo;\r\n}());\r\nexports.HistoryItemInfo = HistoryItemInfo;\r\n\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventManager = void 0;\r\nvar MouseHandler_1 = __webpack_require__(88);\r\nvar key_1 = __webpack_require__(93);\r\nvar browser_1 = __webpack_require__(5);\r\nvar TouchHandler_1 = __webpack_require__(95);\r\nvar EventManager = (function () {\r\n    function EventManager(control) {\r\n        this.control = control;\r\n        this.mouseHandler = new MouseHandler_1.MouseHandler(control);\r\n        this.touchHandler = new TouchHandler_1.TouchHandler(control);\r\n    }\r\n    EventManager.prototype.onMouseDown = function (evt) {\r\n        this.mouseHandler.onMouseDown(evt);\r\n    };\r\n    EventManager.prototype.onMouseMove = function (evt) {\r\n        this.mouseHandler.onMouseMove(evt);\r\n    };\r\n    EventManager.prototype.onMouseUp = function (evt) {\r\n        this.mouseHandler.onMouseUp(evt);\r\n    };\r\n    EventManager.prototype.onMouseDblClick = function (evt) {\r\n        this.mouseHandler.onMouseDoubleClick(evt);\r\n    };\r\n    EventManager.prototype.onMouseWheel = function (evt) {\r\n        this.mouseHandler.onMouseWheel(evt);\r\n    };\r\n    EventManager.prototype.onTouchStart = function (evt) {\r\n        this.touchHandler.onTouchStart(evt);\r\n    };\r\n    EventManager.prototype.onTouchEnd = function (evt) {\r\n        this.touchHandler.onTouchEnd(evt);\r\n    };\r\n    EventManager.prototype.onTouchMove = function (evt) {\r\n        this.touchHandler.onTouchMove(evt);\r\n    };\r\n    EventManager.prototype.onDoubleTap = function (evt) {\r\n        this.touchHandler.onDoubleTap(evt);\r\n    };\r\n    EventManager.prototype.onKeyDown = function (evt) {\r\n        if (this.control.isFocus) {\r\n            var code = this.getShortcutCode(evt);\r\n            if (code == (key_1.ModifierKey.Ctrl | key_1.KeyCode.Key_z))\r\n                this.control.history.undo();\r\n            if (code == (key_1.ModifierKey.Ctrl | key_1.KeyCode.Key_y))\r\n                this.control.history.redo();\r\n            if (code == key_1.KeyCode.Delete)\r\n                this.control.taskEditController.deleteSelectedDependency();\r\n        }\r\n    };\r\n    EventManager.prototype.getShortcutCode = function (evt) {\r\n        var keyCode = key_1.KeyUtils.getEventKeyCode(evt);\r\n        var modifiers = 0;\r\n        if (evt.altKey)\r\n            modifiers |= key_1.ModifierKey.Alt;\r\n        if (evt.ctrlKey)\r\n            modifiers |= key_1.ModifierKey.Ctrl;\r\n        if (evt.shiftKey)\r\n            modifiers |= key_1.ModifierKey.Shift;\r\n        if (evt.metaKey && browser_1.Browser.MacOSPlatform)\r\n            modifiers |= key_1.ModifierKey.Meta;\r\n        return modifiers | keyCode;\r\n    };\r\n    return EventManager;\r\n}());\r\nexports.EventManager = EventManager;\r\n\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandler = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HandlerBase_1 = __webpack_require__(46);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar MouseHandlerDefaultState_1 = __webpack_require__(89);\r\nvar evt_1 = __webpack_require__(6);\r\nvar MouseHandlerMoveTaskState_1 = __webpack_require__(90);\r\nvar MouseHandlerProgressTaskState_1 = __webpack_require__(91);\r\nvar MouseHandlerTimestampTaskState_1 = __webpack_require__(92);\r\nvar MouseHandlerDependencyState_1 = __webpack_require__(47);\r\nvar MouseHandler = (function (_super) {\r\n    tslib_1.__extends(MouseHandler, _super);\r\n    function MouseHandler() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandler.prototype.onMouseDoubleClick = function (evt) {\r\n        this.state.onMouseDoubleClick(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseDown = function (evt) {\r\n        var source = this.getEventSource(evt_1.EvtUtils.getEventSource(evt));\r\n        switch (source) {\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\r\n                this.switchState(new MouseHandlerMoveTaskState_1.MouseHandlerMoveTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\r\n                this.switchState(new MouseHandlerProgressTaskState_1.MouseHandlerProgressTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\r\n                this.switchState(new MouseHandlerTimestampTaskState_1.MouseHandlerTimestampTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\r\n                this.switchState(new MouseHandlerDependencyState_1.MouseHandlerDependencyState(this));\r\n                break;\r\n        }\r\n        this.state.onMouseDown(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseUp = function (evt) {\r\n        this.state.onMouseUp(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseMove = function (evt) {\r\n        this.state.onMouseMove(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseWheel = function (evt) {\r\n        this.state.onMouseWheel(evt);\r\n    };\r\n    MouseHandler.prototype.switchToDefaultState = function () {\r\n        this.state = new MouseHandlerDefaultState_1.MouseHandlerDefaultState(this);\r\n    };\r\n    return MouseHandler;\r\n}(HandlerBase_1.HandlerBase));\r\nexports.MouseHandler = MouseHandler;\r\n\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GanttMovingHelper = exports.MouseHandlerDefaultState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar dom_1 = __webpack_require__(3);\r\nvar evt_1 = __webpack_require__(6);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(29);\r\nvar GridLayoutCalculator_1 = __webpack_require__(17);\r\nvar point_1 = __webpack_require__(4);\r\nvar browser_1 = __webpack_require__(5);\r\nvar MouseHandlerDefaultState = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerDefaultState, _super);\r\n    function MouseHandlerDefaultState(handler) {\r\n        var _this = _super.call(this, handler) || this;\r\n        _this.isInScrolling = false;\r\n        _this.ganttMovingHelper = new GanttMovingHelper(_this.handler.control);\r\n        return _this;\r\n    }\r\n    MouseHandlerDefaultState.prototype.onMouseDown = function (evt) {\r\n        evt.preventDefault();\r\n        var source = evt_1.EvtUtils.getEventSource(evt);\r\n        if (dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) ||\r\n            dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)) {\r\n            var id = source.getAttribute(\"dependency-id\");\r\n            if (this.handler.control.taskEditController.dependencyId != id) {\r\n                this.handler.control.selectDependency(id);\r\n                if (evt instanceof PointerEvent) {\r\n                    var info = {\r\n                        event: evt,\r\n                        type: \"dependency\",\r\n                        key: id,\r\n                        position: new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt))\r\n                    };\r\n                    this.handler.control.ganttOwner.showPopupMenu(info);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (evt_1.EvtUtils.isLeftButtonPressed(evt))\r\n                this.ganttMovingHelper.startMoving(evt);\r\n            if (this.handler.control.taskEditController.dependencyId != null)\r\n                this.handler.control.selectDependency(null);\r\n        }\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseUp = function (evt) {\r\n        this.ganttMovingHelper.onMouseUp(evt);\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseMove = function (evt) {\r\n        if (this.ganttMovingHelper.movingInfo) {\r\n            this.handler.control.taskEditController.hide();\r\n            this.ganttMovingHelper.onMouseMove(evt);\r\n            evt.preventDefault();\r\n        }\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseWheel = function (evt) {\r\n        var _this = this;\r\n        if (evt.ctrlKey) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            if (!this.isInScrolling) {\r\n                this.isInScrolling = true;\r\n                setTimeout(function () { _this.isInScrolling = false; }, 50);\r\n                var increase = evt_1.EvtUtils.getWheelDelta(evt) > 0;\r\n                var leftPos = evt_1.EvtUtils.getEventX(evt) - dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement());\r\n                if (increase)\r\n                    this.handler.control.zoomIn(leftPos);\r\n                else\r\n                    this.handler.control.zoomOut(leftPos);\r\n            }\r\n        }\r\n    };\r\n    return MouseHandlerDefaultState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDefaultState = MouseHandlerDefaultState;\r\nvar GanttMovingHelper = (function () {\r\n    function GanttMovingHelper(gantt) {\r\n        this.gantt = gantt;\r\n        this.movingInfo = null;\r\n    }\r\n    GanttMovingHelper.prototype.startMoving = function (e) {\r\n        this.movingInfo = this.calcMovingInfo(e);\r\n        this.updateGanttAreaCursor(true);\r\n    };\r\n    GanttMovingHelper.prototype.cancelMoving = function () {\r\n        this.movingInfo = null;\r\n    };\r\n    GanttMovingHelper.prototype.onMouseMove = function (e) {\r\n        this.move(e);\r\n    };\r\n    GanttMovingHelper.prototype.onMouseUp = function (e) {\r\n        this.cancelMoving();\r\n        this.updateGanttAreaCursor(false);\r\n    };\r\n    GanttMovingHelper.prototype.move = function (e) {\r\n        this.updateScrollPosition(e);\r\n    };\r\n    GanttMovingHelper.prototype.updateScrollPosition = function (e) {\r\n        var newEventX = Math.round(evt_1.EvtUtils.getEventX(e));\r\n        var newEventY = Math.round(evt_1.EvtUtils.getEventY(e));\r\n        var deltaX = newEventX - this.movingInfo.eventX;\r\n        var deltaY = newEventY - this.movingInfo.eventY;\r\n        var dirX = deltaX < 0 ? -1 : 1;\r\n        var dirY = deltaY < 0 ? -1 : 1;\r\n        var maxDeltaX = dirX < 0 ? this.movingInfo.maxRightDelta : this.movingInfo.maxLeftDelta;\r\n        var maxDeltaY = dirY < 0 ? this.movingInfo.maxBottomDelta : this.movingInfo.maxTopDelta;\r\n        if (Math.abs(deltaX) > maxDeltaX)\r\n            deltaX = maxDeltaX * dirX;\r\n        if (Math.abs(deltaY) > maxDeltaY)\r\n            deltaY = maxDeltaY * dirY;\r\n        var newScrollLeft = this.movingInfo.scrollLeft - deltaX;\r\n        var newScrollTop = this.movingInfo.scrollTop - deltaY;\r\n        var taskAreaContainer = this.gantt.taskAreaContainer;\r\n        if (taskAreaContainer.scrollLeft !== newScrollLeft)\r\n            taskAreaContainer.scrollLeft = newScrollLeft;\r\n        if (taskAreaContainer.scrollTop !== newScrollTop)\r\n            taskAreaContainer.scrollTop = newScrollTop;\r\n    };\r\n    GanttMovingHelper.prototype.calcMovingInfo = function (e) {\r\n        var taskAreaContainer = this.gantt.taskAreaContainer;\r\n        return {\r\n            eventX: evt_1.EvtUtils.getEventX(e),\r\n            eventY: evt_1.EvtUtils.getEventY(e),\r\n            scrollLeft: taskAreaContainer.scrollLeft,\r\n            scrollTop: taskAreaContainer.scrollTop,\r\n            maxLeftDelta: taskAreaContainer.scrollLeft,\r\n            maxRightDelta: taskAreaContainer.scrollWidth - taskAreaContainer.scrollLeft - taskAreaContainer.getElement().offsetWidth,\r\n            maxTopDelta: taskAreaContainer.scrollTop,\r\n            maxBottomDelta: taskAreaContainer.scrollHeight - taskAreaContainer.scrollTop - taskAreaContainer.getElement().offsetHeight\r\n        };\r\n    };\r\n    GanttMovingHelper.prototype.updateGanttAreaCursor = function (drag) {\r\n        if (browser_1.Browser.IE)\r\n            this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"move\" : \"default\";\r\n        else\r\n            this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"grabbing\" : \"default\";\r\n    };\r\n    return GanttMovingHelper;\r\n}());\r\nexports.GanttMovingHelper = GanttMovingHelper;\r\n\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandlerMoveTaskState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(30);\r\nvar MouseHandlerMoveTaskState = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerMoveTaskState, _super);\r\n    function MouseHandlerMoveTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerMoveTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmMove();\r\n    };\r\n    MouseHandlerMoveTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        if (!this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x))\r\n            this.handler.switchToDefaultState();\r\n    };\r\n    return MouseHandlerMoveTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerMoveTaskState = MouseHandlerMoveTaskState;\r\n\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandlerProgressTaskState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(30);\r\nvar MouseHandlerProgressTaskState = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerProgressTaskState, _super);\r\n    function MouseHandlerProgressTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerProgressTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmProgress();\r\n    };\r\n    MouseHandlerProgressTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        this.handler.control.taskEditController.processProgress(relativePosition);\r\n    };\r\n    return MouseHandlerProgressTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerProgressTaskState = MouseHandlerProgressTaskState;\r\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseHandlerTimestampTaskState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar evt_1 = __webpack_require__(6);\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(30);\r\nvar MouseHandlerTimestampTaskState = (function (_super) {\r\n    tslib_1.__extends(MouseHandlerTimestampTaskState, _super);\r\n    function MouseHandlerTimestampTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerTimestampTaskState.prototype.onMouseDown = function (evt) {\r\n        _super.prototype.onMouseDown.call(this, evt);\r\n        this.source = this.handler.getEventSource(evt_1.EvtUtils.getEventSource(evt));\r\n    };\r\n    MouseHandlerTimestampTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.confirmStart();\r\n        else\r\n            this.handler.control.taskEditController.confirmEnd();\r\n    };\r\n    MouseHandlerTimestampTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.processStart(relativePosition);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End)\r\n            this.handler.control.taskEditController.processEnd(relativePosition);\r\n    };\r\n    return MouseHandlerTimestampTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerTimestampTaskState = MouseHandlerTimestampTaskState;\r\n\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar browser_1 = __webpack_require__(5);\r\nvar encode_1 = __webpack_require__(94);\r\nvar string_1 = __webpack_require__(27);\r\nvar KeyUtils = (function () {\r\n    function KeyUtils() {\r\n    }\r\n    KeyUtils.getKeyModifiers = function (evt) {\r\n        var result = 0;\r\n        if (evt.altKey)\r\n            result |= ModifierKey.Alt;\r\n        if (evt.ctrlKey)\r\n            result |= ModifierKey.Ctrl;\r\n        if (evt.shiftKey)\r\n            result |= ModifierKey.Shift;\r\n        return result;\r\n    };\r\n    KeyUtils.getShortcutCode = function (keyCode, isCtrlKey, isShiftKey, isAltKey, isMetaKey) {\r\n        var value = keyCode;\r\n        value |= isCtrlKey ? ModifierKey.Ctrl : 0;\r\n        value |= isShiftKey ? ModifierKey.Shift : 0;\r\n        value |= isAltKey ? ModifierKey.Alt : 0;\r\n        value |= isMetaKey ? ModifierKey.Meta : 0;\r\n        return value;\r\n    };\r\n    KeyUtils.getShortcutCodeByEvent = function (evt) {\r\n        return KeyUtils.getShortcutCode(KeyUtils.getEventKeyCode(evt), evt.ctrlKey, evt.shiftKey, evt.altKey, browser_1.Browser.MacOSPlatform ? evt.metaKey : false);\r\n    };\r\n    KeyUtils.getEventKeyCode = function (evt) {\r\n        return browser_1.Browser.NetscapeFamily || browser_1.Browser.Opera ? evt.which : evt.keyCode;\r\n    };\r\n    KeyUtils.parseShortcutString = function (shortcutString) {\r\n        if (!shortcutString)\r\n            return 0;\r\n        var isCtrlKey = false;\r\n        var isShiftKey = false;\r\n        var isAltKey = false;\r\n        var isMetaKey = false;\r\n        var keyCode = null;\r\n        var shcKeys = shortcutString.toString().split('+');\r\n        if (shcKeys.length > 0) {\r\n            for (var i = 0; i < shcKeys.length; i++) {\r\n                var key = string_1.StringUtils.trim(shcKeys[i].toUpperCase());\r\n                switch (key) {\r\n                    case 'CONTROL':\r\n                    case 'CONTROLKEY':\r\n                    case 'CTRL':\r\n                        isCtrlKey = true;\r\n                        break;\r\n                    case 'SHIFT':\r\n                    case 'SHIFTKEY':\r\n                        isShiftKey = true;\r\n                        break;\r\n                    case 'ALT':\r\n                        isAltKey = true;\r\n                        break;\r\n                    case 'CMD':\r\n                        isMetaKey = true;\r\n                        break;\r\n                    case 'F1':\r\n                        keyCode = KeyCode.F1;\r\n                        break;\r\n                    case 'F2':\r\n                        keyCode = KeyCode.F2;\r\n                        break;\r\n                    case 'F3':\r\n                        keyCode = KeyCode.F3;\r\n                        break;\r\n                    case 'F4':\r\n                        keyCode = KeyCode.F4;\r\n                        break;\r\n                    case 'F5':\r\n                        keyCode = KeyCode.F5;\r\n                        break;\r\n                    case 'F6':\r\n                        keyCode = KeyCode.F6;\r\n                        break;\r\n                    case 'F7':\r\n                        keyCode = KeyCode.F7;\r\n                        break;\r\n                    case 'F8':\r\n                        keyCode = KeyCode.F8;\r\n                        break;\r\n                    case 'F9':\r\n                        keyCode = KeyCode.F9;\r\n                        break;\r\n                    case 'F10':\r\n                        keyCode = KeyCode.F10;\r\n                        break;\r\n                    case 'F11':\r\n                        keyCode = KeyCode.F11;\r\n                        break;\r\n                    case 'F12':\r\n                        keyCode = KeyCode.F12;\r\n                        break;\r\n                    case 'RETURN':\r\n                    case 'ENTER':\r\n                        keyCode = KeyCode.Enter;\r\n                        break;\r\n                    case 'HOME':\r\n                        keyCode = KeyCode.Home;\r\n                        break;\r\n                    case 'END':\r\n                        keyCode = KeyCode.End;\r\n                        break;\r\n                    case 'LEFT':\r\n                        keyCode = KeyCode.Left;\r\n                        break;\r\n                    case 'RIGHT':\r\n                        keyCode = KeyCode.Right;\r\n                        break;\r\n                    case 'UP':\r\n                        keyCode = KeyCode.Up;\r\n                        break;\r\n                    case 'DOWN':\r\n                        keyCode = KeyCode.Down;\r\n                        break;\r\n                    case 'PAGEUP':\r\n                        keyCode = KeyCode.PageUp;\r\n                        break;\r\n                    case 'PAGEDOWN':\r\n                        keyCode = KeyCode.PageDown;\r\n                        break;\r\n                    case 'SPACE':\r\n                        keyCode = KeyCode.Space;\r\n                        break;\r\n                    case 'TAB':\r\n                        keyCode = KeyCode.Tab;\r\n                        break;\r\n                    case 'BACKSPACE':\r\n                    case 'BACK':\r\n                        keyCode = KeyCode.Backspace;\r\n                        break;\r\n                    case 'CONTEXT':\r\n                        keyCode = KeyCode.ContextMenu;\r\n                        break;\r\n                    case 'ESCAPE':\r\n                    case 'ESC':\r\n                        keyCode = KeyCode.Esc;\r\n                        break;\r\n                    case 'DELETE':\r\n                    case 'DEL':\r\n                        keyCode = KeyCode.Delete;\r\n                        break;\r\n                    case 'INSERT':\r\n                    case 'INS':\r\n                        keyCode = KeyCode.Insert;\r\n                        break;\r\n                    case 'PLUS':\r\n                        keyCode = '+'.charCodeAt(0);\r\n                        break;\r\n                    default:\r\n                        keyCode = key.charCodeAt(0);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        else\r\n            alert(encode_1.EncodeUtils.decodeViaTextArea('Invalid shortcut'));\r\n        return KeyUtils.getShortcutCode(keyCode, isCtrlKey, isShiftKey, isAltKey, isMetaKey);\r\n    };\r\n    return KeyUtils;\r\n}());\r\nexports.KeyUtils = KeyUtils;\r\nvar ModifierKey;\r\n(function (ModifierKey) {\r\n    ModifierKey[ModifierKey[\"None\"] = 0] = \"None\";\r\n    ModifierKey[ModifierKey[\"Ctrl\"] = 65536] = \"Ctrl\";\r\n    ModifierKey[ModifierKey[\"Shift\"] = 262144] = \"Shift\";\r\n    ModifierKey[ModifierKey[\"Alt\"] = 1048576] = \"Alt\";\r\n    ModifierKey[ModifierKey[\"Meta\"] = 16777216] = \"Meta\";\r\n})(ModifierKey = exports.ModifierKey || (exports.ModifierKey = {}));\r\nvar KeyCode;\r\n(function (KeyCode) {\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Pause\"] = 19] = \"Pause\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Esc\"] = 27] = \"Esc\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"Left\"] = 37] = \"Left\";\r\n    KeyCode[KeyCode[\"Up\"] = 38] = \"Up\";\r\n    KeyCode[KeyCode[\"Right\"] = 39] = \"Right\";\r\n    KeyCode[KeyCode[\"Down\"] = 40] = \"Down\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\r\n    KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\r\n    KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\r\n    KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\r\n    KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\r\n    KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\r\n    KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\r\n    KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\r\n    KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\r\n    KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\r\n    KeyCode[KeyCode[\"Key_a\"] = 65] = \"Key_a\";\r\n    KeyCode[KeyCode[\"Key_b\"] = 66] = \"Key_b\";\r\n    KeyCode[KeyCode[\"Key_c\"] = 67] = \"Key_c\";\r\n    KeyCode[KeyCode[\"Key_d\"] = 68] = \"Key_d\";\r\n    KeyCode[KeyCode[\"Key_e\"] = 69] = \"Key_e\";\r\n    KeyCode[KeyCode[\"Key_f\"] = 70] = \"Key_f\";\r\n    KeyCode[KeyCode[\"Key_g\"] = 71] = \"Key_g\";\r\n    KeyCode[KeyCode[\"Key_h\"] = 72] = \"Key_h\";\r\n    KeyCode[KeyCode[\"Key_i\"] = 73] = \"Key_i\";\r\n    KeyCode[KeyCode[\"Key_j\"] = 74] = \"Key_j\";\r\n    KeyCode[KeyCode[\"Key_k\"] = 75] = \"Key_k\";\r\n    KeyCode[KeyCode[\"Key_l\"] = 76] = \"Key_l\";\r\n    KeyCode[KeyCode[\"Key_m\"] = 77] = \"Key_m\";\r\n    KeyCode[KeyCode[\"Key_n\"] = 78] = \"Key_n\";\r\n    KeyCode[KeyCode[\"Key_o\"] = 79] = \"Key_o\";\r\n    KeyCode[KeyCode[\"Key_p\"] = 80] = \"Key_p\";\r\n    KeyCode[KeyCode[\"Key_q\"] = 81] = \"Key_q\";\r\n    KeyCode[KeyCode[\"Key_r\"] = 82] = \"Key_r\";\r\n    KeyCode[KeyCode[\"Key_s\"] = 83] = \"Key_s\";\r\n    KeyCode[KeyCode[\"Key_t\"] = 84] = \"Key_t\";\r\n    KeyCode[KeyCode[\"Key_u\"] = 85] = \"Key_u\";\r\n    KeyCode[KeyCode[\"Key_v\"] = 86] = \"Key_v\";\r\n    KeyCode[KeyCode[\"Key_w\"] = 87] = \"Key_w\";\r\n    KeyCode[KeyCode[\"Key_x\"] = 88] = \"Key_x\";\r\n    KeyCode[KeyCode[\"Key_y\"] = 89] = \"Key_y\";\r\n    KeyCode[KeyCode[\"Key_z\"] = 90] = \"Key_z\";\r\n    KeyCode[KeyCode[\"Windows\"] = 91] = \"Windows\";\r\n    KeyCode[KeyCode[\"ContextMenu\"] = 93] = \"ContextMenu\";\r\n    KeyCode[KeyCode[\"Numpad_0\"] = 96] = \"Numpad_0\";\r\n    KeyCode[KeyCode[\"Numpad_1\"] = 97] = \"Numpad_1\";\r\n    KeyCode[KeyCode[\"Numpad_2\"] = 98] = \"Numpad_2\";\r\n    KeyCode[KeyCode[\"Numpad_3\"] = 99] = \"Numpad_3\";\r\n    KeyCode[KeyCode[\"Numpad_4\"] = 100] = \"Numpad_4\";\r\n    KeyCode[KeyCode[\"Numpad_5\"] = 101] = \"Numpad_5\";\r\n    KeyCode[KeyCode[\"Numpad_6\"] = 102] = \"Numpad_6\";\r\n    KeyCode[KeyCode[\"Numpad_7\"] = 103] = \"Numpad_7\";\r\n    KeyCode[KeyCode[\"Numpad_8\"] = 104] = \"Numpad_8\";\r\n    KeyCode[KeyCode[\"Numpad_9\"] = 105] = \"Numpad_9\";\r\n    KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\r\n    KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\r\n    KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\r\n    KeyCode[KeyCode[\"Decimal\"] = 110] = \"Decimal\";\r\n    KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\r\n    KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\r\n    KeyCode[KeyCode[\"Semicolon\"] = 186] = \"Semicolon\";\r\n    KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\r\n    KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\r\n    KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\r\n    KeyCode[KeyCode[\"BackSlash\"] = 220] = \"BackSlash\";\r\n    KeyCode[KeyCode[\"CloseBracket\"] = 221] = \"CloseBracket\";\r\n    KeyCode[KeyCode[\"SingleQuote\"] = 222] = \"SingleQuote\";\r\n})(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\r\n\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EncodeUtils = (function () {\r\n    function EncodeUtils() {\r\n    }\r\n    EncodeUtils.encodeHtml = function (text) {\r\n        return text\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;');\r\n    };\r\n    EncodeUtils.decodeHtml = function (text) {\r\n        return text\r\n            .replace(/&amp;/g, '&')\r\n            .replace(/&lt;/g, '<')\r\n            .replace(/&gt;/g, '>');\r\n    };\r\n    EncodeUtils.prepareTextForRequest = function (text) {\r\n        return text\r\n            .replace(/%/g, '%25')\r\n            .replace(/&/g, '%26amp;')\r\n            .replace(/\\+/g, '%2B')\r\n            .replace(/</g, '%26lt;')\r\n            .replace(/>/g, '%26gt;')\r\n            .replace(/\"/g, '%26quot;');\r\n    };\r\n    EncodeUtils.prepareTextForCallBackRequest = function (text) {\r\n        return text\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;');\r\n    };\r\n    EncodeUtils.decodeViaTextArea = function (html) {\r\n        var textArea = document.createElement('TEXTAREA');\r\n        textArea.innerHTML = html;\r\n        return textArea.value;\r\n    };\r\n    return EncodeUtils;\r\n}());\r\nexports.EncodeUtils = EncodeUtils;\r\n\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandler = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HandlerBase_1 = __webpack_require__(46);\r\nvar evt_1 = __webpack_require__(6);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar TouchHandlerMoveTaskState_1 = __webpack_require__(96);\r\nvar TouchHandlerDefaultState_1 = __webpack_require__(97);\r\nvar TouchHandlerProgressTaskState_1 = __webpack_require__(98);\r\nvar TouchHandlerTimestampTaskState_1 = __webpack_require__(99);\r\nvar TouchHandlerDependencyState_1 = __webpack_require__(100);\r\nvar TouchHandlerZoomState_1 = __webpack_require__(101);\r\nvar TouchHandler = (function (_super) {\r\n    tslib_1.__extends(TouchHandler, _super);\r\n    function TouchHandler() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandler.prototype.onTouchStart = function (evt) {\r\n        if (evt.touches.length > 1)\r\n            evt.preventDefault();\r\n        var source = this.getEventSource(evt_1.EvtUtils.getEventSource(evt));\r\n        switch (source) {\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\r\n                this.switchState(new TouchHandlerMoveTaskState_1.TouchHandlerMoveTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\r\n                this.switchState(new TouchHandlerProgressTaskState_1.TouchHandlerProgressTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\r\n                this.switchState(new TouchHandlerTimestampTaskState_1.TouchHandlerTimestampTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\r\n                this.switchState(new TouchHandlerDependencyState_1.TouchHandlerDependencyState(this));\r\n                break;\r\n        }\r\n        this.state.onTouchStart(evt);\r\n    };\r\n    TouchHandler.prototype.onDoubleTap = function (evt) {\r\n        this.state.onDoubleTap(evt);\r\n    };\r\n    TouchHandler.prototype.onTouchEnd = function (evt) {\r\n        this.state.onTouchEnd(evt);\r\n    };\r\n    TouchHandler.prototype.onTouchMove = function (evt) {\r\n        if (evt.touches.length > 1)\r\n            if (!(this.state instanceof TouchHandlerZoomState_1.TouchHandlerZoomState))\r\n                this.switchState(new TouchHandlerZoomState_1.TouchHandlerZoomState(this));\r\n        this.state.onTouchMove(evt);\r\n    };\r\n    TouchHandler.prototype.switchToDefaultState = function () {\r\n        this.state = new TouchHandlerDefaultState_1.TouchHandlerDefaultState(this);\r\n    };\r\n    return TouchHandler;\r\n}(HandlerBase_1.HandlerBase));\r\nexports.TouchHandler = TouchHandler;\r\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerMoveTaskState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TouchHandlerDragBaseState_1 = __webpack_require__(31);\r\nvar TouchHandlerMoveTaskState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerMoveTaskState, _super);\r\n    function TouchHandlerMoveTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerMoveTaskState.prototype.onTouchEndInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmMove();\r\n    };\r\n    TouchHandlerMoveTaskState.prototype.onTouchMoveInternal = function (position) {\r\n        if (!this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x))\r\n            this.handler.switchToDefaultState();\r\n    };\r\n    return TouchHandlerMoveTaskState;\r\n}(TouchHandlerDragBaseState_1.TouchHandlerDragBaseState));\r\nexports.TouchHandlerMoveTaskState = TouchHandlerMoveTaskState;\r\n\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerDefaultState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar point_1 = __webpack_require__(4);\r\nvar dom_1 = __webpack_require__(3);\r\nvar evt_1 = __webpack_require__(6);\r\nvar touch_1 = __webpack_require__(15);\r\nvar GridLayoutCalculator_1 = __webpack_require__(17);\r\nvar HandlerStateBase_1 = __webpack_require__(19);\r\nvar TouchHandlerDefaultState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerDefaultState, _super);\r\n    function TouchHandlerDefaultState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerDefaultState.prototype.onTouchStart = function (evt) {\r\n        var _this = this;\r\n        this.preventSelect = false;\r\n        clearTimeout(this.popupTimer);\r\n        if (evt.touches.length === 1) {\r\n            var source = evt_1.EvtUtils.getEventSource(evt);\r\n            var info_1 = {\r\n                event: evt,\r\n                position: new point_1.Point(evt_1.EvtUtils.getEventX(evt), evt_1.EvtUtils.getEventY(evt))\r\n            };\r\n            if (dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) ||\r\n                dom_1.DomUtils.hasClassName(source, GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)) {\r\n                this.preventSelect = true;\r\n                var id = source.getAttribute(\"dependency-id\");\r\n                if (this.handler.control.taskEditController.dependencyId != id)\r\n                    this.handler.control.selectDependency(id);\r\n                info_1[\"type\"] = \"dependency\";\r\n                info_1[\"key\"] = id;\r\n                this.handler.control.ganttOwner.showPopupMenu(info_1);\r\n            }\r\n            else\r\n                this.popupTimer = setTimeout(function () {\r\n                    var index = _this.getTaskIndex(evt);\r\n                    _this.changeTaskSelection(index);\r\n                    var item = _this.handler.control.viewModel.items[index];\r\n                    info_1[\"type\"] = \"task\";\r\n                    info_1[\"key\"] = item && item.task.id;\r\n                    _this.handler.control.ganttOwner.showPopupMenu(info_1);\r\n                }, 500);\r\n        }\r\n    };\r\n    TouchHandlerDefaultState.prototype.onDoubleTap = function (_evt) { };\r\n    TouchHandlerDefaultState.prototype.onTouchEnd = function (evt) {\r\n        clearTimeout(this.popupTimer);\r\n        if (!this.preventSelect)\r\n            this.changeTaskSelection(this.getTaskIndex(evt));\r\n    };\r\n    TouchHandlerDefaultState.prototype.onTouchMove = function (_evt) {\r\n        clearTimeout(this.popupTimer);\r\n        this.preventSelect = true;\r\n    };\r\n    TouchHandlerDefaultState.prototype.getTaskIndex = function (evt) {\r\n        var y = touch_1.TouchUtils.getEventY(evt);\r\n        var taskAreaY = dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\r\n        var relativeY = y - taskAreaY;\r\n        return Math.floor(relativeY / this.handler.control.tickSize.height);\r\n    };\r\n    TouchHandlerDefaultState.prototype.changeTaskSelection = function (index) {\r\n        var clickedTask = this.handler.control.viewModel.items[index];\r\n        if (clickedTask)\r\n            this.handler.control.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\r\n    };\r\n    return TouchHandlerDefaultState;\r\n}(HandlerStateBase_1.HandlerStateBase));\r\nexports.TouchHandlerDefaultState = TouchHandlerDefaultState;\r\n\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerProgressTaskState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TouchHandlerDragBaseState_1 = __webpack_require__(31);\r\nvar TouchHandlerProgressTaskState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerProgressTaskState, _super);\r\n    function TouchHandlerProgressTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerProgressTaskState.prototype.onTouchEndInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmProgress();\r\n    };\r\n    TouchHandlerProgressTaskState.prototype.onTouchMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        this.handler.control.taskEditController.processProgress(relativePosition);\r\n    };\r\n    return TouchHandlerProgressTaskState;\r\n}(TouchHandlerDragBaseState_1.TouchHandlerDragBaseState));\r\nexports.TouchHandlerProgressTaskState = TouchHandlerProgressTaskState;\r\n\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerTimestampTaskState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TouchHandlerDragBaseState_1 = __webpack_require__(31);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar evt_1 = __webpack_require__(6);\r\nvar TouchHandlerTimestampTaskState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerTimestampTaskState, _super);\r\n    function TouchHandlerTimestampTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerTimestampTaskState.prototype.onTouchStart = function (evt) {\r\n        _super.prototype.onTouchStart.call(this, evt);\r\n        this.source = this.handler.getEventSource(evt_1.EvtUtils.getEventSource(evt));\r\n    };\r\n    TouchHandlerTimestampTaskState.prototype.onTouchEndInternal = function (_evt) {\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.confirmStart();\r\n        else\r\n            this.handler.control.taskEditController.confirmEnd();\r\n    };\r\n    TouchHandlerTimestampTaskState.prototype.onTouchMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.processStart(relativePosition);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End)\r\n            this.handler.control.taskEditController.processEnd(relativePosition);\r\n    };\r\n    return TouchHandlerTimestampTaskState;\r\n}(TouchHandlerDragBaseState_1.TouchHandlerDragBaseState));\r\nexports.TouchHandlerTimestampTaskState = TouchHandlerTimestampTaskState;\r\n\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerDependencyState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar TouchHandlerStateBase_1 = __webpack_require__(48);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar dom_1 = __webpack_require__(3);\r\nvar evt_1 = __webpack_require__(6);\r\nvar point_1 = __webpack_require__(4);\r\nvar MouseHandlerDependencyState_1 = __webpack_require__(47);\r\nvar touch_1 = __webpack_require__(15);\r\nvar TouchHandlerDependencyState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerDependencyState, _super);\r\n    function TouchHandlerDependencyState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerDependencyState.prototype.onTouchStart = function (evt) {\r\n        evt.preventDefault();\r\n        var sourceElement = evt_1.EvtUtils.getEventSource(evt);\r\n        this.source = this.handler.getEventSource(sourceElement);\r\n        var pos = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\r\n        this.handler.control.taskEditController.startDependency(pos);\r\n    };\r\n    TouchHandlerDependencyState.prototype.onTouchEnd = function (evt) {\r\n        var relativePosStart = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart) + this.handler.control.taskEditController.dependencySuccessorStart.clientHeight / 2));\r\n        var relativePosEnd = this.getRelativePos(new point_1.Point(dom_1.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth / 2, dom_1.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish) + this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight / 2));\r\n        var relativeTouchPos = this.getRelativePos(new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt)));\r\n        var target = this.isTouchNearby(relativeTouchPos, relativePosStart) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyStart :\r\n            this.isTouchNearby(relativeTouchPos, relativePosEnd) ? TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish : null;\r\n        var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ?\r\n            MouseHandlerDependencyState_1.dependencyMap[this.source][target] : null;\r\n        this.handler.control.taskEditController.endDependency(type);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    TouchHandlerDependencyState.prototype.onTouchMove = function (evt) {\r\n        evt.preventDefault();\r\n        var relativePos = this.getRelativePos(new point_1.Point(touch_1.TouchUtils.getEventX(evt), touch_1.TouchUtils.getEventY(evt)));\r\n        var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\r\n        this.handler.control.taskEditController.processDependency(relativePos);\r\n        if (this.handler.control.viewModel.tasks.items[hoverTaskIndex])\r\n            this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\r\n    };\r\n    TouchHandlerDependencyState.prototype.isTouchNearby = function (touchPos, elementPos) {\r\n        if (Math.abs(elementPos.x - touchPos.x) <= 10 && Math.abs(elementPos.y - touchPos.y) <= 10)\r\n            return true;\r\n        return false;\r\n    };\r\n    return TouchHandlerDependencyState;\r\n}(TouchHandlerStateBase_1.TouchHandlerStateBase));\r\nexports.TouchHandlerDependencyState = TouchHandlerDependencyState;\r\n\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchHandlerZoomState = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HandlerStateBase_1 = __webpack_require__(19);\r\nvar point_1 = __webpack_require__(4);\r\nvar dom_1 = __webpack_require__(3);\r\nvar PINCH_CHANGE_DISTANCE = 3;\r\nvar TouchHandlerZoomState = (function (_super) {\r\n    tslib_1.__extends(TouchHandlerZoomState, _super);\r\n    function TouchHandlerZoomState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TouchHandlerZoomState.prototype.onTouchStart = function (_evt) { };\r\n    TouchHandlerZoomState.prototype.onDoubleTap = function (_evt) { };\r\n    TouchHandlerZoomState.prototype.onTouchEnd = function (_evt) {\r\n        this.prevDistance = null;\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    TouchHandlerZoomState.prototype.onTouchMove = function (evt) {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        if (evt.touches.length > 1) {\r\n            var distance = this.getTouchDistance(evt);\r\n            if (this.prevDistance) {\r\n                var diff = this.prevDistance - distance;\r\n                if (Math.abs(diff) > PINCH_CHANGE_DISTANCE) {\r\n                    var offsetX = this.getMiddleAbsPoint(evt).x;\r\n                    if (diff > 0)\r\n                        this.handler.control.zoomOut(offsetX);\r\n                    else\r\n                        this.handler.control.zoomIn(offsetX);\r\n                    this.prevDistance = distance;\r\n                }\r\n            }\r\n            else\r\n                this.prevDistance = distance;\r\n        }\r\n    };\r\n    TouchHandlerZoomState.prototype.getTouchDistance = function (evt) {\r\n        var pt0 = new point_1.Point(evt.touches[0].clientX, evt.touches[0].clientY);\r\n        var pt1 = new point_1.Point(evt.touches[1].clientX, evt.touches[1].clientY);\r\n        return this.getDistance(pt0, pt1);\r\n    };\r\n    TouchHandlerZoomState.prototype.getDistance = function (a, b) {\r\n        return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\r\n    };\r\n    TouchHandlerZoomState.prototype.getMiddleAbsPoint = function (evt) {\r\n        var _this = this;\r\n        return this.getMiddlePointByEvent(evt, function (touch) {\r\n            return new point_1.Point(touch.pageX - dom_1.DomUtils.getAbsolutePositionX(_this.handler.control.taskAreaContainer.getElement()), touch.pageY - dom_1.DomUtils.getAbsolutePositionY(_this.handler.control.taskAreaContainer.getElement()));\r\n        });\r\n    };\r\n    TouchHandlerZoomState.prototype.getMiddlePointByEvent = function (evt, getPoint) {\r\n        if (evt.touches.length > 1)\r\n            return new point_1.Point((getPoint(evt.touches[0]).x + getPoint(evt.touches[1]).x) / 2, (getPoint(evt.touches[0]).y + getPoint(evt.touches[1]).y) / 2);\r\n    };\r\n    return TouchHandlerZoomState;\r\n}(HandlerStateBase_1.HandlerStateBase));\r\nexports.TouchHandlerZoomState = TouchHandlerZoomState;\r\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskAreaContainer = void 0;\r\nvar TaskAreaContainer = (function () {\r\n    function TaskAreaContainer(element, ganttView) {\r\n        this.element = element;\r\n        this.element.addEventListener(\"scroll\", function () { ganttView.updateView(); });\r\n    }\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollTop\", {\r\n        get: function () {\r\n            return this.element.scrollTop;\r\n        },\r\n        set: function (value) {\r\n            this.element.scrollTop = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollLeft\", {\r\n        get: function () {\r\n            return this.element.scrollLeft;\r\n        },\r\n        set: function (value) {\r\n            this.element.scrollLeft = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollWidth\", {\r\n        get: function () {\r\n            return this.element.scrollWidth;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollHeight\", {\r\n        get: function () {\r\n            return this.element.scrollHeight;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"isExternal\", {\r\n        get: function () {\r\n            return false;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TaskAreaContainer.prototype.getWidth = function () {\r\n        return this.element.offsetWidth;\r\n    };\r\n    TaskAreaContainer.prototype.getHeight = function () {\r\n        return this.element.offsetHeight;\r\n    };\r\n    TaskAreaContainer.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    return TaskAreaContainer;\r\n}());\r\nexports.TaskAreaContainer = TaskAreaContainer;\r\n\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ModelChangesDispatcher = void 0;\r\nvar EventDispatcher_1 = __webpack_require__(104);\r\nvar TaskArguments_1 = __webpack_require__(49);\r\nvar AssignmentArguments_1 = __webpack_require__(32);\r\nvar ModelChangesDispatcher = (function () {\r\n    function ModelChangesDispatcher() {\r\n        this.onModelChanged = new EventDispatcher_1.EventDispatcher();\r\n        this.isLocked = false;\r\n    }\r\n    ModelChangesDispatcher.prototype.notifyTaskCreating = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskCreating\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskCreated = function (task, callback, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskCreated\", task, callback, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskRemoving = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskRemoving\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskRemoved = function (taskID, errorCallback, task) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskRemoved\", taskID, errorCallback, task);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskUpdating = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskUpdating\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskMoving = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskMoving\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskEditDialogShowing = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskEditDialogShowing\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskTitleChanged = function (taskID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskTitleChanged\", taskID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskDescriptionChanged = function (taskID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskDescriptionChanged\", taskID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskStartChanged = function (taskID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskStartChanged\", taskID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskEndChanged = function (taskID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskEndChanged\", taskID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskProgressChanged = function (taskID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskProgressChanged\", taskID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskColorChanged = function (taskID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyTaskColorChanged\", taskID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyInserting = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyDependencyInserting\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyInserted = function (dependency, callback, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyDependencyInserted\", dependency, callback, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyRemoving = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyDependencyRemoving\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyRemoved = function (dependencyID, errorCallback, dependency) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyDependencyRemoved\", dependencyID, errorCallback, dependency);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceCreating = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceCreating\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceCreated = function (resource, callback, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceCreated\", resource, callback, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceRemoving = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceRemoving\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceRemoved = function (resourceID, errorCallback, resource) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceRemoved\", resourceID, errorCallback, resource);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceColorChanged = function (resourceID, newValue, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceColorChanged\", resourceID, newValue, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceAssigning = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceAssigning\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceAssigned = function (assignment, callback, errorCallback) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceAssigned\", assignment, callback, errorCallback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceUnassigning = function (args) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceUnassigning\", args);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceUnassigned = function (assignmentID, errorCallback, assignment) {\r\n        if (!this.isLocked)\r\n            this.onModelChanged.raise(\"NotifyResourceUnassigned\", assignmentID, errorCallback, assignment);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyParentDataRecalculated = function (data) {\r\n        this.onModelChanged.raise(\"NotifyParentDataRecalculated\", data);\r\n    };\r\n    ModelChangesDispatcher.prototype.fireResourceUnassigning = function (assignment) {\r\n        var args = new AssignmentArguments_1.ResourceUnassigningArguments(assignment);\r\n        this.notifyResourceUnassigning(args);\r\n        return !args.cancel;\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskTitleUpdating = function (task, value, callback) {\r\n        return this.raiseTaskUpdating(task, \"title\", value, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskDescriptionUpdating = function (task, value, callback) {\r\n        return this.raiseTaskUpdating(task, \"description\", value, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskProgressUpdating = function (task, value, callback) {\r\n        return this.raiseTaskUpdating(task, \"progress\", value, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskColorUpdating = function (task, value, callback) {\r\n        return this.raiseTaskUpdating(task, \"color\", value, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskStartUpdating = function (task, value, callback) {\r\n        return this.raiseTaskUpdating(task, \"start\", value, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskEndUpdating = function (task, value, callback) {\r\n        return this.raiseTaskUpdating(task, \"end\", value, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskStartAndEndUpdating = function (task, newStart, newEnd, callback) {\r\n        var args = new TaskArguments_1.TaskUpdatingArguments(task, [\"start\", \"end\"], [newStart, newEnd]);\r\n        this.notifyTaskUpdating(args);\r\n        if (!args.cancel) {\r\n            callback(args[\"start\"], args[\"end\"]);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskUpdating = function (task, fieldName, newValue, callback) {\r\n        var oldValue = task[fieldName];\r\n        if (oldValue !== newValue) {\r\n            var args = new TaskArguments_1.TaskUpdatingArguments(task, [fieldName], [newValue]);\r\n            this.notifyTaskUpdating(args);\r\n            if (!args.cancel && oldValue !== args[fieldName]) {\r\n                callback(args[fieldName]);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskMultipleUpdating = function (task, newValues, callback) {\r\n        var fields = [\"title\", \"progress\", \"start\", \"end\"];\r\n        var values = fields.map(function (f) { return newValues[f]; });\r\n        var args = new TaskArguments_1.TaskUpdatingArguments(task, fields, values);\r\n        this.notifyTaskUpdating(args);\r\n        if (!args.cancel) {\r\n            callback(args.newValues);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskMoving = function (task, newStart, newEnd, callback) {\r\n        var args = new TaskArguments_1.TaskUpdatingArguments(task, [\"start\", \"end\"], [newStart, newEnd]);\r\n        this.notifyTaskMoving(args);\r\n        if (!args.cancel) {\r\n            callback(args[\"start\"], args[\"end\"]);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ModelChangesDispatcher.prototype.raiseTaskTaskEditDialogShowing = function (params, callback) {\r\n        var args = new TaskArguments_1.TaskEditDialogShowingArguments(params);\r\n        this.notifyTaskEditDialogShowing(args);\r\n        if (!args.cancel) {\r\n            callback(args);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ModelChangesDispatcher.prototype.lock = function () { this.isLocked = true; };\r\n    ModelChangesDispatcher.prototype.unlock = function () { this.isLocked = false; };\r\n    return ModelChangesDispatcher;\r\n}());\r\nexports.ModelChangesDispatcher = ModelChangesDispatcher;\r\n\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventDispatcher = void 0;\r\nvar EventDispatcher = (function () {\r\n    function EventDispatcher() {\r\n        this.listeners = [];\r\n    }\r\n    EventDispatcher.prototype.add = function (listener) {\r\n        if (!listener)\r\n            throw new Error(\"Error\");\r\n        if (!this.hasEventListener(listener))\r\n            this.listeners.push(listener);\r\n    };\r\n    EventDispatcher.prototype.remove = function (listener) {\r\n        for (var i = 0, currentListener = void 0; currentListener = this.listeners[i]; i++)\r\n            if (currentListener === listener) {\r\n                this.listeners.splice(i, 1);\r\n                break;\r\n            }\r\n    };\r\n    EventDispatcher.prototype.raise = function (funcName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0, listener = void 0; listener = this.listeners[i]; i++)\r\n            if (listener[funcName])\r\n                listener[funcName].apply(listener, args);\r\n    };\r\n    EventDispatcher.prototype.hasEventListener = function (listener) {\r\n        for (var i = 0, l = this.listeners.length; i < l; i++)\r\n            if (this.listeners[i] === listener)\r\n                return true;\r\n        return false;\r\n    };\r\n    return EventDispatcher;\r\n}());\r\nexports.EventDispatcher = EventDispatcher;\r\n\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CommandManager = void 0;\r\nvar TaskCommands_1 = __webpack_require__(106);\r\nvar TaskPropertiesCommands_1 = __webpack_require__(107);\r\nvar DependencyCommands_1 = __webpack_require__(108);\r\nvar ResourceCommands_1 = __webpack_require__(110);\r\nvar TaskEditDialog_1 = __webpack_require__(112);\r\nvar ConstraintViolationDialog_1 = __webpack_require__(51);\r\nvar ResourcesDialog_1 = __webpack_require__(113);\r\nvar ClientCommand_1 = __webpack_require__(114);\r\nvar HistoryCommands_1 = __webpack_require__(115);\r\nvar ZoomCommands_1 = __webpack_require__(116);\r\nvar FullScreenCommand_1 = __webpack_require__(117);\r\nvar CollapseExpandCommands_1 = __webpack_require__(118);\r\nvar ConfirmationDialog_1 = __webpack_require__(23);\r\nvar ResourcePropertiesCommands_1 = __webpack_require__(119);\r\nvar CommandManager = (function () {\r\n    function CommandManager(control) {\r\n        this.control = control;\r\n        this.commands = {};\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CreateTask, this.createTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CreateSubTask, this.createSubTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.RemoveTask, this.removeTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.RemoveDependency, this.removeDependencyCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.TaskInformation, this.showTaskEditDialog);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.TaskAddContextItem, new TaskCommands_1.TaskAddContextItemCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.Undo, new HistoryCommands_1.UndoCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.Redo, new HistoryCommands_1.RedoCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.ZoomIn, new ZoomCommands_1.ZoomInCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.ZoomOut, new ZoomCommands_1.ZoomOutCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.FullScreen, new FullScreenCommand_1.ToggleFullScreenCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CollapseAll, new CollapseExpandCommands_1.CollapseAllCommand(this.control));\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.ExpandAll, new CollapseExpandCommands_1.ExpandAllCommand(this.control));\r\n    }\r\n    Object.defineProperty(CommandManager.prototype, \"createTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.CreateTaskCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createSubTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.CreateSubTaskCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.RemoveTaskCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskTitleCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskTitleCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskDescriptionCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskDescriptionCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskProgressCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskProgressCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskColorCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskColorCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskStartCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskStartCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"taskMoveCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskMoveCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskEndCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskEndCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"updateTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.UpdateTaskCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createDependencyCommand\", {\r\n        get: function () { return new DependencyCommands_1.CreateDependencyCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeDependencyCommand\", {\r\n        get: function () { return new DependencyCommands_1.RemoveDependencyCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.CreateResourceCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.RemoveResourceCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"assignResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.AssignResourceCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"deassignResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.DeassignResourceCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeResourceColorCommand\", {\r\n        get: function () { return new ResourcePropertiesCommands_1.ResourceColorCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showTaskEditDialog\", {\r\n        get: function () { return new TaskEditDialog_1.TaskEditDialogCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showConstraintViolationDialog\", {\r\n        get: function () { return new ConstraintViolationDialog_1.ConstraintViolationDialogCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showConfirmationDialog\", {\r\n        get: function () { return new ConfirmationDialog_1.ConfirmationDialog(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showResourcesDialog\", {\r\n        get: function () { return new ResourcesDialog_1.ResourcesDialogCommand(this.control); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CommandManager.prototype.getCommand = function (key) {\r\n        return this.commands[key];\r\n    };\r\n    CommandManager.prototype.createCommand = function (commandId, command) {\r\n        this.commands[commandId] = command;\r\n    };\r\n    return CommandManager;\r\n}());\r\nexports.CommandManager = CommandManager;\r\n\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskAddContextItemCommand = exports.UpdateTaskCommand = exports.RemoveTaskCommand = exports.CreateSubTaskCommand = exports.CreateTaskCommand = exports.TaskCommandBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar TaskHistoryItem_1 = __webpack_require__(50);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(21);\r\nvar ResourceHistoryItem_1 = __webpack_require__(22);\r\nvar ConfirmationDialog_1 = __webpack_require__(23);\r\nvar TaskArguments_1 = __webpack_require__(49);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(25);\r\nvar common_1 = __webpack_require__(1);\r\nvar TaskCommandBase = (function (_super) {\r\n    tslib_1.__extends(TaskCommandBase, _super);\r\n    function TaskCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskCommandBase.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = this.control.settings.editing.enabled && !this.control.taskEditController.dependencyId;\r\n        return state;\r\n    };\r\n    return TaskCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.TaskCommandBase = TaskCommandBase;\r\nvar CreateTaskCommand = (function (_super) {\r\n    tslib_1.__extends(CreateTaskCommand, _super);\r\n    function CreateTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateTaskCommand.prototype.execute = function (start, end, title, progress, parentId) {\r\n        return _super.prototype.execute.call(this, start, end, title, progress, parentId);\r\n    };\r\n    CreateTaskCommand.prototype.executeInternal = function (start, end, title, progress, parentId) {\r\n        if (!parentId) {\r\n            var item = this.control.viewModel.findItem(this.control.currentSelectedTaskID);\r\n            var selectedTask = item && item.task;\r\n            if (selectedTask)\r\n                parentId = selectedTask.parentId;\r\n        }\r\n        var referenceItem = this.control.viewModel.findItem(parentId) || this.control.viewModel.items[0];\r\n        var referenceTask = referenceItem && referenceItem.task;\r\n        if (!start)\r\n            start = referenceTask ? new Date(referenceTask.start.getTime()) : new Date(this.control.range.start.getTime());\r\n        if (!end)\r\n            end = referenceTask ? new Date(referenceTask.end.getTime()) : new Date(this.control.range.end.getTime());\r\n        title = title || \"New task\";\r\n        var args = new TaskArguments_1.TaskInsertingArguments(null, start, end, title, progress, parentId);\r\n        this.modelManipulator.dispatcher.notifyTaskCreating(args);\r\n        if (!args.cancel)\r\n            this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, args.start, args.end, args.title, args.progress, args.parentId));\r\n        return !args.cancel;\r\n    };\r\n    CreateTaskCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.visible && this.control.settings.editing.allowTaskInsert;\r\n        return state;\r\n    };\r\n    return CreateTaskCommand;\r\n}(TaskCommandBase));\r\nexports.CreateTaskCommand = CreateTaskCommand;\r\nvar CreateSubTaskCommand = (function (_super) {\r\n    tslib_1.__extends(CreateSubTaskCommand, _super);\r\n    function CreateSubTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateSubTaskCommand.prototype.execute = function (parentId) {\r\n        return _super.prototype.execute.call(this, parentId);\r\n    };\r\n    CreateSubTaskCommand.prototype.executeInternal = function (parentId) {\r\n        parentId = parentId || this.control.currentSelectedTaskID;\r\n        var selectedItem = this.control.viewModel.findItem(parentId);\r\n        if (selectedItem.selected) {\r\n            var args = new TaskArguments_1.TaskInsertingArguments(null, new Date(selectedItem.task.start.getTime()), new Date(selectedItem.task.end.getTime()), \"New task\", 0, parentId);\r\n            this.modelManipulator.dispatcher.notifyTaskCreating(args);\r\n            if (!args.cancel)\r\n                this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, args.start, args.end, args.title, args.progress, args.parentId));\r\n            return !args.cancel;\r\n        }\r\n        return false;\r\n    };\r\n    CreateSubTaskCommand.prototype.isEnabled = function () {\r\n        var gantt = this.control;\r\n        var selectedItem = gantt.viewModel.findItem(gantt.currentSelectedTaskID);\r\n        return _super.prototype.isEnabled.call(this) && !!selectedItem && selectedItem.selected;\r\n    };\r\n    CreateSubTaskCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        var gantt = this.control;\r\n        state.visible = state.visible && gantt.settings.editing.allowTaskInsert;\r\n        return state;\r\n    };\r\n    return CreateSubTaskCommand;\r\n}(TaskCommandBase));\r\nexports.CreateSubTaskCommand = CreateSubTaskCommand;\r\nvar RemoveTaskCommand = (function (_super) {\r\n    tslib_1.__extends(RemoveTaskCommand, _super);\r\n    function RemoveTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveTaskCommand.prototype.execute = function (id, confirmRequired, historyItem) {\r\n        var _this = this;\r\n        if (confirmRequired === void 0) { confirmRequired = true; }\r\n        if (confirmRequired) {\r\n            this.control.commandManager.showConfirmationDialog.execute(new ConfirmationDialog_1.ConfirmationDialogParameters(ConfirmationDialog_1.ConfirmationType.TaskDelete, function () { _this.executeInternal(id, historyItem); }));\r\n            return false;\r\n        }\r\n        return _super.prototype.execute.call(this, id, historyItem);\r\n    };\r\n    RemoveTaskCommand.prototype.executeInternal = function (id, historyItem) {\r\n        var _this = this;\r\n        id = id || this.control.currentSelectedTaskID;\r\n        var item = this.control.viewModel.findItem(id);\r\n        var task = item ? item.task : this.control.viewModel.tasks.getItemById(id);\r\n        var args = new TaskArguments_1.TaskRemovingArguments(task);\r\n        this.modelManipulator.dispatcher.notifyTaskRemoving(args);\r\n        if (args.cancel)\r\n            return false;\r\n        this.control.viewModel.beginUpdate();\r\n        var removeTaskHistoryItem = historyItem || new TaskHistoryItem_1.RemoveTaskHistoryItem(this.modelManipulator);\r\n        removeTaskHistoryItem.addTask(id);\r\n        var childTasks = this.control.viewModel.tasks.items.filter(function (t) { return t.parentId == id; });\r\n        childTasks.forEach(function (t) { return new RemoveTaskCommand(_this.control).execute(t.internalId, false, removeTaskHistoryItem); });\r\n        var parent = item && item.parent;\r\n        var dependencies = this.control.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == id || d.successorId == id; });\r\n        if (dependencies.length)\r\n            if (this.control.settings.editing.allowDependencyDelete) {\r\n                dependencies = dependencies.filter(function (d) { return childTasks.filter(function (c) { return c.internalId == d.predecessorId || c.internalId == d.successorId; }).length == 0; });\r\n                dependencies.forEach(function (d) { return removeTaskHistoryItem.add(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(_this.modelManipulator, d.internalId)); });\r\n            }\r\n            else\r\n                return false;\r\n        var assignments = this.control.viewModel.assignments.items.filter(function (a) { return a.taskId == id; });\r\n        assignments.forEach(function (a) {\r\n            if (_this.modelManipulator.dispatcher.fireResourceUnassigning(a))\r\n                removeTaskHistoryItem.add(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\r\n        });\r\n        if (!historyItem)\r\n            this.history.addAndRedo(removeTaskHistoryItem);\r\n        this.updateParent(parent);\r\n        this.control.viewModel.endUpdate();\r\n        return true;\r\n    };\r\n    RemoveTaskCommand.prototype.updateParent = function (parent) {\r\n        if (parent && parent.children.length > 0)\r\n            this.control.validationController.updateParentsIfRequired(parent.children[0].task.internalId);\r\n    };\r\n    RemoveTaskCommand.prototype.isEnabled = function () {\r\n        var gantt = this.control;\r\n        var selectedItem = gantt.viewModel.findItem(gantt.currentSelectedTaskID);\r\n        var result = _super.prototype.isEnabled.call(this) && !!selectedItem && selectedItem.selected;\r\n        return result;\r\n    };\r\n    RemoveTaskCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        var gantt = this.control;\r\n        state.visible = state.visible && gantt.settings.editing.allowTaskDelete;\r\n        return state;\r\n    };\r\n    return RemoveTaskCommand;\r\n}(TaskCommandBase));\r\nexports.RemoveTaskCommand = RemoveTaskCommand;\r\nvar UpdateTaskCommand = (function (_super) {\r\n    tslib_1.__extends(UpdateTaskCommand, _super);\r\n    function UpdateTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    UpdateTaskCommand.prototype.execute = function (id, newValues) {\r\n        return _super.prototype.execute.call(this, id, newValues);\r\n    };\r\n    UpdateTaskCommand.prototype.executeInternal = function (id, newValues) {\r\n        var task = this.control.viewModel.tasks.getItemById(id);\r\n        if (!task)\r\n            return false;\r\n        var success = this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(task, newValues, function (changedNewValues) {\r\n            newValues.title = changedNewValues.title;\r\n            newValues.progress = changedNewValues.progress;\r\n            newValues.start = changedNewValues.start;\r\n            newValues.end = changedNewValues.end;\r\n        });\r\n        if (success) {\r\n            this.history.beginTransaction();\r\n            var updateParents = false;\r\n            if (common_1.isDefined(newValues.title) && newValues.title != task.title)\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, id, newValues.title));\r\n            if (common_1.isDefined(newValues.progress) && newValues.progress != task.progress) {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, id, newValues.progress));\r\n                updateParents = true;\r\n            }\r\n            if (common_1.isDefined(newValues.start) && common_1.isDefined(newValues.end) && newValues.end.getTime() < newValues.start.getTime())\r\n                newValues.end = newValues.start;\r\n            if (common_1.isDefined(newValues.start) && newValues.start != task.start) {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, newValues.start));\r\n                updateParents = true;\r\n                if (this.control.settings.validation.validateDependencies)\r\n                    this.control.validationController.moveStartDependTasks(id, task.start);\r\n            }\r\n            if (common_1.isDefined(newValues.end) && newValues.end != task.end) {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, newValues.end));\r\n                updateParents = true;\r\n                if (this.control.settings.validation.validateDependencies)\r\n                    this.control.validationController.moveEndDependTasks(id, task.end);\r\n            }\r\n            if (updateParents)\r\n                this.validationController.updateParentsIfRequired(id);\r\n            this.history.endTransaction();\r\n        }\r\n        return success;\r\n    };\r\n    UpdateTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdate;\r\n    };\r\n    return UpdateTaskCommand;\r\n}(TaskCommandBase));\r\nexports.UpdateTaskCommand = UpdateTaskCommand;\r\nvar TaskAddContextItemCommand = (function (_super) {\r\n    tslib_1.__extends(TaskAddContextItemCommand, _super);\r\n    function TaskAddContextItemCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskAddContextItemCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.visible && this.control.settings.editing.allowTaskInsert;\r\n        return state;\r\n    };\r\n    TaskAddContextItemCommand.prototype.execute = function () {\r\n        return false;\r\n    };\r\n    return TaskAddContextItemCommand;\r\n}(TaskCommandBase));\r\nexports.TaskAddContextItemCommand = TaskAddContextItemCommand;\r\n\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskMoveCommand = exports.TaskEndCommand = exports.TaskStartCommand = exports.TaskPropertyCommandValidation = exports.TaskColorCommand = exports.TaskProgressCommand = exports.TaskDescriptionCommand = exports.TaskTitleCommand = exports.TaskPropertyCommandBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(25);\r\nvar ConstraintViolationDialog_1 = __webpack_require__(51);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar TaskPropertyCommandBase = (function (_super) {\r\n    tslib_1.__extends(TaskPropertyCommandBase, _super);\r\n    function TaskPropertyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    TaskPropertyCommandBase.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdate;\r\n    };\r\n    TaskPropertyCommandBase.prototype.getTask = function (id) {\r\n        return this.control.viewModel.tasks.getItemById(id);\r\n    };\r\n    return TaskPropertyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.TaskPropertyCommandBase = TaskPropertyCommandBase;\r\nvar TaskTitleCommand = (function (_super) {\r\n    tslib_1.__extends(TaskTitleCommand, _super);\r\n    function TaskTitleCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskTitleCommand.prototype.executeInternal = function (id, value) {\r\n        var _this = this;\r\n        return this.modelManipulator.dispatcher.raiseTaskTitleUpdating(this.getTask(id), value, function (newTitle) { _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(_this.modelManipulator, id, newTitle)); });\r\n    };\r\n    return TaskTitleCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskTitleCommand = TaskTitleCommand;\r\nvar TaskDescriptionCommand = (function (_super) {\r\n    tslib_1.__extends(TaskDescriptionCommand, _super);\r\n    function TaskDescriptionCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskDescriptionCommand.prototype.executeInternal = function (id, value) {\r\n        var _this = this;\r\n        return this.modelManipulator.dispatcher.raiseTaskDescriptionUpdating(this.getTask(id), value, function (newDescription) { _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskDescriptionHistoryItem(_this.modelManipulator, id, newDescription)); });\r\n    };\r\n    return TaskDescriptionCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskDescriptionCommand = TaskDescriptionCommand;\r\nvar TaskProgressCommand = (function (_super) {\r\n    tslib_1.__extends(TaskProgressCommand, _super);\r\n    function TaskProgressCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskProgressCommand.prototype.executeInternal = function (id, value) {\r\n        var _this = this;\r\n        return this.modelManipulator.dispatcher.raiseTaskProgressUpdating(this.getTask(id), value, function (newValue) {\r\n            _this.control.history.beginTransaction();\r\n            _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(_this.modelManipulator, id, newValue));\r\n            _this.validationController.updateParentsIfRequired(id);\r\n            _this.control.history.endTransaction();\r\n        });\r\n    };\r\n    return TaskProgressCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskProgressCommand = TaskProgressCommand;\r\nvar TaskColorCommand = (function (_super) {\r\n    tslib_1.__extends(TaskColorCommand, _super);\r\n    function TaskColorCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskColorCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskColorCommand.prototype.executeInternal = function (id, value) {\r\n        var _this = this;\r\n        return this.modelManipulator.dispatcher.raiseTaskColorUpdating(this.getTask(id), value, function (newValue) { _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskColorHistoryItem(_this.modelManipulator, id, newValue)); });\r\n    };\r\n    return TaskColorCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskColorCommand = TaskColorCommand;\r\nvar TaskPropertyCommandValidation = (function (_super) {\r\n    tslib_1.__extends(TaskPropertyCommandValidation, _super);\r\n    function TaskPropertyCommandValidation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyCommandValidation.prototype.executeInternal = function () {\r\n        var _this = this;\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        var validationErrors = this.control.settings.validation.validateDependencies ? this.validate.apply(this, parameters) : [];\r\n        var criticalErrors = validationErrors.filter(function (e) { return e.critical; });\r\n        if (!validationErrors.length || validationErrors.length > 1 && criticalErrors.length === 0)\r\n            return this.executeCore.apply(this, parameters);\r\n        else if (validationErrors.length === 1)\r\n            this.control.commandManager.showConstraintViolationDialog.execute(new ConstraintViolationDialog_1.ConstraintViolationDialogParameters(validationErrors[0], function () { _this.executeCore.apply(_this, parameters); }));\r\n        return false;\r\n    };\r\n    TaskPropertyCommandValidation.prototype.executeCore = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        return false;\r\n    };\r\n    TaskPropertyCommandValidation.prototype.validate = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        return [];\r\n    };\r\n    return TaskPropertyCommandValidation;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskPropertyCommandValidation = TaskPropertyCommandValidation;\r\nvar TaskStartCommand = (function (_super) {\r\n    tslib_1.__extends(TaskStartCommand, _super);\r\n    function TaskStartCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartCommand.prototype.execute = function (id, value) {\r\n        var success = this.modelManipulator.dispatcher.raiseTaskStartUpdating(this.getTask(id), value, function (newStart) { value = newStart; });\r\n        return success && _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskStartCommand.prototype.executeInternal = function (id, value) {\r\n        return _super.prototype.executeInternal.call(this, id, value);\r\n    };\r\n    TaskStartCommand.prototype.executeCore = function (id, value) {\r\n        var oldStart = this.control.viewModel.tasks.getItemById(id).start;\r\n        if (oldStart.getTime() == value.getTime())\r\n            return false;\r\n        this.control.history.beginTransaction();\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, value));\r\n        if (this.control.settings.validation.validateDependencies)\r\n            this.control.validationController.moveStartDependTasks(id, oldStart);\r\n        this.validationController.updateParentsIfRequired(id);\r\n        this.control.history.endTransaction();\r\n        var minStartTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\r\n            return prev.start.getTime() < curr.start.getTime() ? prev : curr;\r\n        });\r\n        if (minStartTask.start < this.control.dataRange.start) {\r\n            this.control.dataRange.start = minStartTask.start;\r\n            this.control.resetAndUpdate();\r\n        }\r\n        return true;\r\n    };\r\n    TaskStartCommand.prototype.validate = function (id, value) {\r\n        return this.control.validationController.checkStartDependencies(id, value);\r\n    };\r\n    return TaskStartCommand;\r\n}(TaskPropertyCommandValidation));\r\nexports.TaskStartCommand = TaskStartCommand;\r\nvar TaskEndCommand = (function (_super) {\r\n    tslib_1.__extends(TaskEndCommand, _super);\r\n    function TaskEndCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndCommand.prototype.execute = function (id, value) {\r\n        var success = this.modelManipulator.dispatcher.raiseTaskEndUpdating(this.getTask(id), value, function (newStart) { value = newStart; });\r\n        return success && _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskEndCommand.prototype.executeInternal = function (id, value) {\r\n        return _super.prototype.executeInternal.call(this, id, value);\r\n    };\r\n    TaskEndCommand.prototype.executeCore = function (id, value) {\r\n        var oldEnd = this.control.viewModel.tasks.getItemById(id).end;\r\n        if (oldEnd.getTime() == value.getTime())\r\n            return false;\r\n        this.control.history.beginTransaction();\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, value));\r\n        if (this.control.settings.validation.validateDependencies)\r\n            this.control.validationController.moveEndDependTasks(id, oldEnd);\r\n        this.validationController.updateParentsIfRequired(id);\r\n        this.control.history.endTransaction();\r\n        var maxEndTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\r\n            return prev.end.getTime() > curr.end.getTime() ? prev : curr;\r\n        });\r\n        if (maxEndTask.end > this.control.dataRange.end) {\r\n            this.control.dataRange.end = maxEndTask.end;\r\n            this.control.resetAndUpdate();\r\n        }\r\n        return true;\r\n    };\r\n    TaskEndCommand.prototype.validate = function (id, value) {\r\n        return this.control.validationController.checkEndDependencies(id, value);\r\n    };\r\n    return TaskEndCommand;\r\n}(TaskPropertyCommandValidation));\r\nexports.TaskEndCommand = TaskEndCommand;\r\nvar TaskMoveCommand = (function (_super) {\r\n    tslib_1.__extends(TaskMoveCommand, _super);\r\n    function TaskMoveCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskMoveCommand.prototype.execute = function (id, start, end) {\r\n        var success = this.modelManipulator.dispatcher.raiseTaskStartAndEndUpdating(this.getTask(id), start, end, function (newStart, newEnd) {\r\n            start = newStart;\r\n            end = newEnd;\r\n        });\r\n        return success && _super.prototype.execute.call(this, id, start, end);\r\n    };\r\n    TaskMoveCommand.prototype.executeInternal = function (id, start, end) {\r\n        return _super.prototype.executeInternal.call(this, id, start, end);\r\n    };\r\n    TaskMoveCommand.prototype.executeCore = function (id, start, end) {\r\n        var task = this.control.viewModel.tasks.getItemById(id);\r\n        var oldDateRange = new DateRange_1.DateRange(new Date(task.start.getTime()), new Date(task.end.getTime()));\r\n        this.control.history.beginTransaction();\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(this.modelManipulator, id, new DateRange_1.DateRange(start, end)));\r\n        this.validationController.correctOnMoving(id, start.getTime() - oldDateRange.start.getTime());\r\n        if (this.control.settings.validation.validateDependencies) {\r\n            this.control.validationController.moveStartDependTasks(id, oldDateRange.start);\r\n            this.control.validationController.moveEndDependTasks(id, oldDateRange.end);\r\n        }\r\n        this.control.history.endTransaction();\r\n        var maxEndTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\r\n            return prev.end.getTime() > curr.end.getTime() ? prev : curr;\r\n        });\r\n        if (maxEndTask.end > this.control.dataRange.end) {\r\n            this.control.dataRange.end = maxEndTask.end;\r\n            this.control.resetAndUpdate();\r\n        }\r\n        var minStartTask = this.control.viewModel.tasks.items.reduce(function (prev, curr) {\r\n            return prev.start.getTime() < curr.start.getTime() ? prev : curr;\r\n        });\r\n        if (minStartTask.start < this.control.dataRange.start) {\r\n            this.control.dataRange.start = minStartTask.start;\r\n            this.control.resetAndUpdate();\r\n        }\r\n        return true;\r\n    };\r\n    TaskMoveCommand.prototype.validate = function (id, start, end) {\r\n        var startErrors = this.control.validationController.checkStartDependencies(id, start);\r\n        var endErrors = this.control.validationController.checkEndDependencies(id, end);\r\n        return tslib_1.__spreadArrays(startErrors, endErrors);\r\n    };\r\n    return TaskMoveCommand;\r\n}(TaskPropertyCommandValidation));\r\nexports.TaskMoveCommand = TaskMoveCommand;\r\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemoveDependencyCommand = exports.CreateDependencyCommand = exports.DependencyCommandBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(21);\r\nvar Dependency_1 = __webpack_require__(11);\r\nvar ConfirmationDialog_1 = __webpack_require__(23);\r\nvar DependencyArguments_1 = __webpack_require__(109);\r\nvar DependencyCommandBase = (function (_super) {\r\n    tslib_1.__extends(DependencyCommandBase, _super);\r\n    function DependencyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DependencyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return DependencyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.DependencyCommandBase = DependencyCommandBase;\r\nvar CreateDependencyCommand = (function (_super) {\r\n    tslib_1.__extends(CreateDependencyCommand, _super);\r\n    function CreateDependencyCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateDependencyCommand.prototype.execute = function (predecessorId, successorId, type) {\r\n        return _super.prototype.execute.call(this, predecessorId, successorId, type);\r\n    };\r\n    CreateDependencyCommand.prototype.executeInternal = function (predecessorId, successorId, type) {\r\n        if (this.control.viewModel.dependencies.items.filter(function (d) { return (d.predecessorId == predecessorId && d.successorId == successorId) ||\r\n            (d.successorId == predecessorId && d.predecessorId == successorId); }).length)\r\n            return false;\r\n        var args = new DependencyArguments_1.DependencyInsertingArguments(predecessorId, successorId, type);\r\n        this.modelManipulator.dispatcher.notifyDependencyInserting(args);\r\n        if (args.cancel)\r\n            return false;\r\n        predecessorId = args.predecessorId;\r\n        successorId = args.successorId;\r\n        type = args.type;\r\n        this.control.history.beginTransaction();\r\n        this.history.addAndRedo(new TaskDependencyHistoryItem_1.InsertDependencyHistoryItem(this.modelManipulator, predecessorId, successorId, type));\r\n        if (this.control.settings.validation.validateDependencies) {\r\n            var predecessorTask = this.control.viewModel.tasks.getItemById(predecessorId);\r\n            if (type === Dependency_1.DependencyType.SF || type === Dependency_1.DependencyType.SS)\r\n                this.control.validationController.moveStartDependTasks(predecessorId, predecessorTask.start);\r\n            else\r\n                this.control.validationController.moveEndDependTasks(predecessorId, predecessorTask.end);\r\n        }\r\n        this.control.history.endTransaction();\r\n        return true;\r\n    };\r\n    CreateDependencyCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyInsert;\r\n    };\r\n    return CreateDependencyCommand;\r\n}(DependencyCommandBase));\r\nexports.CreateDependencyCommand = CreateDependencyCommand;\r\nvar RemoveDependencyCommand = (function (_super) {\r\n    tslib_1.__extends(RemoveDependencyCommand, _super);\r\n    function RemoveDependencyCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveDependencyCommand.prototype.execute = function (id, confirmRequired) {\r\n        var _this = this;\r\n        if (confirmRequired === void 0) { confirmRequired = true; }\r\n        if (confirmRequired) {\r\n            this.control.commandManager.showConfirmationDialog.execute(new ConfirmationDialog_1.ConfirmationDialogParameters(ConfirmationDialog_1.ConfirmationType.DependencyDelete, function () { _this.executeInternal(id); }));\r\n            return false;\r\n        }\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveDependencyCommand.prototype.executeInternal = function (id) {\r\n        id = id || this.control.taskEditController.dependencyId;\r\n        if (id != null) {\r\n            var dependency = this.control.viewModel.dependencies.items.filter(function (d) { return d.internalId == id; })[0];\r\n            if (dependency) {\r\n                var args = new DependencyArguments_1.DependencyRemovingArguments(dependency);\r\n                this.modelManipulator.dispatcher.notifyDependencyRemoving(args);\r\n                if (!args.cancel) {\r\n                    this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, id));\r\n                    if (id === this.control.taskEditController.dependencyId)\r\n                        this.control.taskEditController.selectDependency(null);\r\n                    this.control.barManager.updateItemsState([]);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    RemoveDependencyCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyDelete;\r\n    };\r\n    RemoveDependencyCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.enabled && this.control.taskEditController.dependencyId != null;\r\n        return state;\r\n    };\r\n    return RemoveDependencyCommand;\r\n}(DependencyCommandBase));\r\nexports.RemoveDependencyCommand = RemoveDependencyCommand;\r\n\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DependencyRemovingArguments = exports.DependencyInsertingArguments = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar BaseArguments_1 = __webpack_require__(20);\r\nvar DependencyInsertingArguments = (function (_super) {\r\n    tslib_1.__extends(DependencyInsertingArguments, _super);\r\n    function DependencyInsertingArguments(predecessorId, successorId, type) {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.values = {\r\n            predecessorId: predecessorId,\r\n            successorId: successorId,\r\n            type: type\r\n        };\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DependencyInsertingArguments.prototype, \"predecessorId\", {\r\n        get: function () { return this.values.predecessorId; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DependencyInsertingArguments.prototype, \"successorId\", {\r\n        get: function () { return this.values.successorId; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DependencyInsertingArguments.prototype, \"type\", {\r\n        get: function () { return this.values.type; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return DependencyInsertingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.DependencyInsertingArguments = DependencyInsertingArguments;\r\nvar DependencyRemovingArguments = (function (_super) {\r\n    tslib_1.__extends(DependencyRemovingArguments, _super);\r\n    function DependencyRemovingArguments(dependency) {\r\n        var _this = _super.call(this, dependency.id) || this;\r\n        _this.values = dependency;\r\n        return _this;\r\n    }\r\n    return DependencyRemovingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.DependencyRemovingArguments = DependencyRemovingArguments;\r\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeassignResourceCommand = exports.AssignResourceCommand = exports.RemoveResourceCommand = exports.CreateResourceCommand = exports.ResourceCommandBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar ResourceHistoryItem_1 = __webpack_require__(22);\r\nvar ResourceArguments_1 = __webpack_require__(111);\r\nvar AssignmentArguments_1 = __webpack_require__(32);\r\nvar ResourceCommandBase = (function (_super) {\r\n    tslib_1.__extends(ResourceCommandBase, _super);\r\n    function ResourceCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return ResourceCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.ResourceCommandBase = ResourceCommandBase;\r\nvar CreateResourceCommand = (function (_super) {\r\n    tslib_1.__extends(CreateResourceCommand, _super);\r\n    function CreateResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateResourceCommand.prototype.execute = function (text, color, callback) {\r\n        if (color === void 0) { color = \"\"; }\r\n        return _super.prototype.execute.call(this, text, color, callback);\r\n    };\r\n    CreateResourceCommand.prototype.executeInternal = function (text, color, callback) {\r\n        if (color === void 0) { color = \"\"; }\r\n        var args = new ResourceArguments_1.ResourceInsertingArguments(text, color);\r\n        this.modelManipulator.dispatcher.notifyResourceCreating(args);\r\n        if (!args.cancel)\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.CreateResourceHistoryItem(this.modelManipulator, args.text, args.color, callback));\r\n        return !args.cancel;\r\n    };\r\n    CreateResourceCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowResourceInsert;\r\n    };\r\n    return CreateResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.CreateResourceCommand = CreateResourceCommand;\r\nvar RemoveResourceCommand = (function (_super) {\r\n    tslib_1.__extends(RemoveResourceCommand, _super);\r\n    function RemoveResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveResourceCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveResourceCommand.prototype.executeInternal = function (id) {\r\n        var _this = this;\r\n        var resource = this.control.viewModel.resources.items.filter(function (r) { return r.internalId == id; })[0];\r\n        if (resource) {\r\n            var args = new ResourceArguments_1.ResourceRemovingArguments(resource);\r\n            this.modelManipulator.dispatcher.notifyResourceRemoving(args);\r\n            if (!args.cancel) {\r\n                var removeResourceHistoryItem_1 = new ResourceHistoryItem_1.RemoveResourceHistoryItem(this.modelManipulator, id);\r\n                var assignments = this.control.viewModel.assignments.items.filter(function (a) { return a.resourceId == id; });\r\n                assignments.forEach(function (a) {\r\n                    if (_this.modelManipulator.dispatcher.fireResourceUnassigning(a))\r\n                        removeResourceHistoryItem_1.add(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\r\n                });\r\n                this.history.addAndRedo(removeResourceHistoryItem_1);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    RemoveResourceCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowResourceDelete;\r\n    };\r\n    return RemoveResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.RemoveResourceCommand = RemoveResourceCommand;\r\nvar AssignResourceCommand = (function (_super) {\r\n    tslib_1.__extends(AssignResourceCommand, _super);\r\n    function AssignResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AssignResourceCommand.prototype.execute = function (resourceId, taskId) {\r\n        return _super.prototype.execute.call(this, resourceId, taskId);\r\n    };\r\n    AssignResourceCommand.prototype.executeInternal = function (resourceId, taskId) {\r\n        var assignment = this.control.viewModel.assignments.items.filter(function (r) { return r.resourceId == resourceId && r.taskId == taskId; })[0];\r\n        if (!assignment) {\r\n            var converter = this.control.viewModel;\r\n            var args = new AssignmentArguments_1.ResourceAssigningArguments(converter.convertInternalToPublicKey(\"resource\", resourceId), converter.convertInternalToPublicKey(\"task\", taskId));\r\n            this.modelManipulator.dispatcher.notifyResourceAssigning(args);\r\n            if (!args.cancel) {\r\n                this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, converter.convertPublicToInternalKey(\"resource\", args.resourceId), converter.convertPublicToInternalKey(\"task\", args.taskId)));\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    AssignResourceCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskResourceUpdate;\r\n    };\r\n    return AssignResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.AssignResourceCommand = AssignResourceCommand;\r\nvar DeassignResourceCommand = (function (_super) {\r\n    tslib_1.__extends(DeassignResourceCommand, _super);\r\n    function DeassignResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeassignResourceCommand.prototype.execute = function (assignmentId) {\r\n        return _super.prototype.execute.call(this, assignmentId);\r\n    };\r\n    DeassignResourceCommand.prototype.executeInternal = function (assignmentId) {\r\n        var assignment = this.control.viewModel.assignments.items.filter(function (r) { return r.internalId == assignmentId; })[0];\r\n        if (assignment && this.modelManipulator.dispatcher.fireResourceUnassigning(assignment)) {\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this.modelManipulator, assignmentId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    DeassignResourceCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskResourceUpdate;\r\n    };\r\n    return DeassignResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.DeassignResourceCommand = DeassignResourceCommand;\r\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceRemovingArguments = exports.ResourceInsertingArguments = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar BaseArguments_1 = __webpack_require__(20);\r\nvar ResourceInsertingArguments = (function (_super) {\r\n    tslib_1.__extends(ResourceInsertingArguments, _super);\r\n    function ResourceInsertingArguments(text, color) {\r\n        if (color === void 0) { color = \"\"; }\r\n        var _this = _super.call(this, null) || this;\r\n        _this.values = {\r\n            text: text,\r\n            color: color\r\n        };\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResourceInsertingArguments.prototype, \"text\", {\r\n        get: function () { return this.values.text; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResourceInsertingArguments.prototype, \"color\", {\r\n        get: function () { return this.values.color; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return ResourceInsertingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.ResourceInsertingArguments = ResourceInsertingArguments;\r\nvar ResourceRemovingArguments = (function (_super) {\r\n    tslib_1.__extends(ResourceRemovingArguments, _super);\r\n    function ResourceRemovingArguments(resource) {\r\n        var _this = _super.call(this, resource.id) || this;\r\n        _this.values = resource;\r\n        return _this;\r\n    }\r\n    return ResourceRemovingArguments;\r\n}(BaseArguments_1.BaseArguments));\r\nexports.ResourceRemovingArguments = ResourceRemovingArguments;\r\n\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TaskEditParameters = exports.TaskEditDialogCommand = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DialogBase_1 = __webpack_require__(24);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(25);\r\nvar ResourceCollection_1 = __webpack_require__(26);\r\nvar ResourceHistoryItem_1 = __webpack_require__(22);\r\nvar AssignmentArguments_1 = __webpack_require__(32);\r\nvar TaskEditDialogCommand = (function (_super) {\r\n    tslib_1.__extends(TaskEditDialogCommand, _super);\r\n    function TaskEditDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEditDialogCommand.prototype.onBeforeDialogShow = function (params) {\r\n        return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(params, function (args) {\r\n            var newValues = args.values;\r\n            params.start = newValues.start;\r\n            params.end = newValues.end;\r\n            params.progress = newValues.progress;\r\n            params.title = newValues.title;\r\n            params.readOnlyFields = args.readOnlyFields;\r\n            params.hiddenFields = args.hiddenFields;\r\n        });\r\n    };\r\n    TaskEditDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        var success = this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(this.control.viewModel.tasks.getItemById(oldParameters.id), newParameters, function (newValues) {\r\n            newParameters.title = newValues.title ? newValues.title : \"\";\r\n            newParameters.progress = newValues.progress;\r\n            newParameters.start = newValues.start;\r\n            newParameters.end = newValues.end;\r\n        });\r\n        if (success) {\r\n            if (newParameters.title != oldParameters.title)\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, oldParameters.id, newParameters.title));\r\n            if (newParameters.progress != oldParameters.progress)\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, oldParameters.id, newParameters.progress));\r\n            if (newParameters.end.getTime() < newParameters.start.getTime())\r\n                newParameters.end = newParameters.start;\r\n            if (newParameters.start != oldParameters.start) {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, oldParameters.id, newParameters.start));\r\n                if (this.control.settings.validation.validateDependencies)\r\n                    this.control.validationController.moveStartDependTasks(oldParameters.id, oldParameters.start);\r\n            }\r\n            if (newParameters.end != oldParameters.end) {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, oldParameters.id, newParameters.end));\r\n                if (this.control.settings.validation.validateDependencies)\r\n                    this.control.validationController.moveEndDependTasks(oldParameters.id, oldParameters.end);\r\n            }\r\n        }\r\n        for (var i = 0; i < newParameters.assigned.length; i++) {\r\n            var resource = oldParameters.assigned.getItemById(newParameters.assigned.getItem(i).internalId);\r\n            if (!resource) {\r\n                var resourceId = newParameters.assigned.getItem(i).internalId;\r\n                var taskId = oldParameters.id;\r\n                var args = new AssignmentArguments_1.ResourceAssigningArguments(resourceId, taskId);\r\n                this.modelManipulator.dispatcher.notifyResourceAssigning(args);\r\n                if (!args.cancel)\r\n                    this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, args.resourceId, args.taskId));\r\n            }\r\n        }\r\n        var _loop_1 = function (i) {\r\n            var assigned = oldParameters.assigned.getItem(i);\r\n            var resource = newParameters.assigned.getItemById(assigned.internalId);\r\n            if (!resource) {\r\n                var assignment = this_1.control.viewModel.assignments.items.filter(function (assignment) { return assignment.resourceId == assigned.internalId && assignment.taskId == oldParameters.id; })[0];\r\n                if (this_1.modelManipulator.dispatcher.fireResourceUnassigning(assignment))\r\n                    this_1.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this_1.modelManipulator, assignment.internalId));\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < oldParameters.assigned.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        var updateParents = newParameters.start != oldParameters.start || newParameters.end != oldParameters.end || newParameters.progress != oldParameters.progress || newParameters.title != oldParameters.title;\r\n        if (success && updateParents)\r\n            this.validationController.updateParentsIfRequired(oldParameters.id);\r\n        this.history.endTransaction();\r\n        return false;\r\n    };\r\n    TaskEditDialogCommand.prototype.createParameters = function (options) {\r\n        options = options || this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);\r\n        var param = new TaskEditParameters();\r\n        param.id = options.internalId;\r\n        param.title = options.title;\r\n        param.progress = options.progress;\r\n        param.start = options.start;\r\n        param.end = options.end;\r\n        param.assigned = this.control.viewModel.getAssignedResources(options);\r\n        param.resources = new ResourceCollection_1.ResourceCollection();\r\n        param.resources.addRange(this.control.viewModel.resources.items);\r\n        param.showResourcesDialogCommand = this.control.commandManager.showResourcesDialog;\r\n        param.showTaskEditDialogCommand = this.control.commandManager.showTaskEditDialog;\r\n        param.enableEdit = this.isTaskEditEnabled();\r\n        param.enableRangeEdit = this.isTaskRangeEditEnabled(options);\r\n        return param;\r\n    };\r\n    TaskEditDialogCommand.prototype.isTaskEditEnabled = function () {\r\n        var settings = this.control.settings;\r\n        return settings.editing.enabled && settings.editing.allowTaskUpdate;\r\n    };\r\n    TaskEditDialogCommand.prototype.isTaskRangeEditEnabled = function (task) {\r\n        return !this.control.viewModel.isTaskToCalculateByChildren(task.internalId);\r\n    };\r\n    TaskEditDialogCommand.prototype.isEnabled = function () {\r\n        var gantt = this.control;\r\n        var selectedItem = gantt.viewModel.findItem(gantt.currentSelectedTaskID);\r\n        return !!selectedItem && selectedItem.selected;\r\n    };\r\n    TaskEditDialogCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.visible && !this.control.taskEditController.dependencyId;\r\n        return state;\r\n    };\r\n    TaskEditDialogCommand.prototype.getDialogName = function () {\r\n        return \"TaskEdit\";\r\n    };\r\n    return TaskEditDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.TaskEditDialogCommand = TaskEditDialogCommand;\r\nvar TaskEditParameters = (function (_super) {\r\n    tslib_1.__extends(TaskEditParameters, _super);\r\n    function TaskEditParameters() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.enableEdit = true;\r\n        _this.enableRangeEdit = true;\r\n        _this.hiddenFields = [];\r\n        _this.readOnlyFields = [];\r\n        return _this;\r\n    }\r\n    TaskEditParameters.prototype.clone = function () {\r\n        var clone = new TaskEditParameters();\r\n        clone.id = this.id;\r\n        clone.title = this.title;\r\n        clone.progress = this.progress;\r\n        clone.start = this.start;\r\n        clone.end = this.end;\r\n        clone.assigned = new ResourceCollection_1.ResourceCollection();\r\n        clone.assigned.addRange(this.assigned.items);\r\n        clone.resources = new ResourceCollection_1.ResourceCollection();\r\n        clone.resources.addRange(this.resources.items);\r\n        clone.showResourcesDialogCommand = this.showResourcesDialogCommand;\r\n        clone.showTaskEditDialogCommand = this.showTaskEditDialogCommand;\r\n        clone.enableEdit = this.enableEdit;\r\n        clone.enableRangeEdit = this.enableRangeEdit;\r\n        clone.hiddenFields = this.hiddenFields.slice();\r\n        clone.readOnlyFields = this.readOnlyFields.slice();\r\n        return clone;\r\n    };\r\n    return TaskEditParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.TaskEditParameters = TaskEditParameters;\r\n\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourcesDialogParameters = exports.ResourcesDialogCommand = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar DialogBase_1 = __webpack_require__(24);\r\nvar ResourceCollection_1 = __webpack_require__(26);\r\nvar ConfirmationDialog_1 = __webpack_require__(23);\r\nvar ResourcesDialogCommand = (function (_super) {\r\n    tslib_1.__extends(ResourcesDialogCommand, _super);\r\n    function ResourcesDialogCommand() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.resourcesForDelete = [];\r\n        return _this;\r\n    }\r\n    ResourcesDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        for (var i = 0; i < newParameters.resources.length; i++) {\r\n            var resource = oldParameters.resources.getItemById(newParameters.resources.getItem(i).internalId);\r\n            if (!resource)\r\n                this.control.commandManager.createResourceCommand.execute(newParameters.resources.getItem(i).text);\r\n        }\r\n        for (var i = 0; i < oldParameters.resources.length; i++) {\r\n            var resource = newParameters.resources.getItemById(oldParameters.resources.getItem(i).internalId);\r\n            if (!resource)\r\n                this.resourcesForDelete.push(oldParameters.resources.getItem(i));\r\n        }\r\n        this.history.endTransaction();\r\n        return false;\r\n    };\r\n    ResourcesDialogCommand.prototype.createParameters = function (callBack) {\r\n        this.callBack = callBack;\r\n        var param = new ResourcesDialogParameters();\r\n        param.resources = new ResourceCollection_1.ResourceCollection();\r\n        param.resources.addRange(this.control.viewModel.resources.items);\r\n        return param;\r\n    };\r\n    ResourcesDialogCommand.prototype.afterClosing = function () {\r\n        var _this = this;\r\n        if (this.resourcesForDelete.length) {\r\n            var confirmationDialog = this.control.commandManager.showConfirmationDialog;\r\n            var confirmationDialogParameters = new ConfirmationDialog_1.ConfirmationDialogParameters(ConfirmationDialog_1.ConfirmationType.ResourcesDelete, function () {\r\n                _this.history.beginTransaction();\r\n                for (var i = 0; i < _this.resourcesForDelete.length; i++)\r\n                    _this.control.commandManager.removeResourceCommand.execute(_this.resourcesForDelete[i].internalId);\r\n                _this.history.endTransaction();\r\n            });\r\n            confirmationDialogParameters.message = this.resourcesForDelete.reduce(function (a, b) { return tslib_1.__spreadArrays(a, [b.text]); }, []).join(\", \");\r\n            if (this.callBack)\r\n                confirmationDialog.afterClosing = function () { return _this.callBack(); };\r\n            confirmationDialog.execute(confirmationDialogParameters);\r\n        }\r\n        else if (this.callBack)\r\n            this.callBack();\r\n    };\r\n    ResourcesDialogCommand.prototype.getDialogName = function () {\r\n        return \"Resources\";\r\n    };\r\n    return ResourcesDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.ResourcesDialogCommand = ResourcesDialogCommand;\r\nvar ResourcesDialogParameters = (function (_super) {\r\n    tslib_1.__extends(ResourcesDialogParameters, _super);\r\n    function ResourcesDialogParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesDialogParameters.prototype.clone = function () {\r\n        var clone = new ResourcesDialogParameters();\r\n        clone.resources = new ResourceCollection_1.ResourceCollection();\r\n        clone.resources.addRange(this.resources.items);\r\n        return clone;\r\n    };\r\n    return ResourcesDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ResourcesDialogParameters = ResourcesDialogParameters;\r\n\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GanttClientCommand = void 0;\r\nvar GanttClientCommand;\r\n(function (GanttClientCommand) {\r\n    GanttClientCommand[GanttClientCommand[\"CreateTask\"] = 0] = \"CreateTask\";\r\n    GanttClientCommand[GanttClientCommand[\"CreateSubTask\"] = 1] = \"CreateSubTask\";\r\n    GanttClientCommand[GanttClientCommand[\"RemoveTask\"] = 2] = \"RemoveTask\";\r\n    GanttClientCommand[GanttClientCommand[\"RemoveDependency\"] = 3] = \"RemoveDependency\";\r\n    GanttClientCommand[GanttClientCommand[\"TaskInformation\"] = 4] = \"TaskInformation\";\r\n    GanttClientCommand[GanttClientCommand[\"TaskAddContextItem\"] = 5] = \"TaskAddContextItem\";\r\n    GanttClientCommand[GanttClientCommand[\"Undo\"] = 6] = \"Undo\";\r\n    GanttClientCommand[GanttClientCommand[\"Redo\"] = 7] = \"Redo\";\r\n    GanttClientCommand[GanttClientCommand[\"ZoomIn\"] = 8] = \"ZoomIn\";\r\n    GanttClientCommand[GanttClientCommand[\"ZoomOut\"] = 9] = \"ZoomOut\";\r\n    GanttClientCommand[GanttClientCommand[\"FullScreen\"] = 10] = \"FullScreen\";\r\n    GanttClientCommand[GanttClientCommand[\"CollapseAll\"] = 11] = \"CollapseAll\";\r\n    GanttClientCommand[GanttClientCommand[\"ExpandAll\"] = 12] = \"ExpandAll\";\r\n})(GanttClientCommand = exports.GanttClientCommand || (exports.GanttClientCommand = {}));\r\n\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RedoCommand = exports.UndoCommand = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar UndoCommand = (function (_super) {\r\n    tslib_1.__extends(UndoCommand, _super);\r\n    function UndoCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    UndoCommand.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = this.control.settings.editing.enabled;\r\n        return state;\r\n    };\r\n    UndoCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    UndoCommand.prototype.executeInternal = function () {\r\n        this.history.undo();\r\n        return true;\r\n    };\r\n    UndoCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.history.canUndo();\r\n    };\r\n    return UndoCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.UndoCommand = UndoCommand;\r\nvar RedoCommand = (function (_super) {\r\n    tslib_1.__extends(RedoCommand, _super);\r\n    function RedoCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RedoCommand.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = this.control.settings.editing.enabled;\r\n        return state;\r\n    };\r\n    RedoCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    RedoCommand.prototype.executeInternal = function () {\r\n        this.history.redo();\r\n        return true;\r\n    };\r\n    RedoCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.history.canRedo();\r\n    };\r\n    return RedoCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.RedoCommand = RedoCommand;\r\n\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ZoomOutCommand = exports.ZoomInCommand = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar ZoomInCommand = (function (_super) {\r\n    tslib_1.__extends(ZoomInCommand, _super);\r\n    function ZoomInCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ZoomInCommand.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(true);\r\n    };\r\n    ZoomInCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    ZoomInCommand.prototype.executeInternal = function () {\r\n        this.control.zoomIn();\r\n        return true;\r\n    };\r\n    return ZoomInCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.ZoomInCommand = ZoomInCommand;\r\nvar ZoomOutCommand = (function (_super) {\r\n    tslib_1.__extends(ZoomOutCommand, _super);\r\n    function ZoomOutCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ZoomOutCommand.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(true);\r\n    };\r\n    ZoomOutCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    ZoomOutCommand.prototype.executeInternal = function () {\r\n        this.control.zoomOut();\r\n        return true;\r\n    };\r\n    return ZoomOutCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.ZoomOutCommand = ZoomOutCommand;\r\n\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ToggleFullScreenCommand = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar ToggleFullScreenCommand = (function (_super) {\r\n    tslib_1.__extends(ToggleFullScreenCommand, _super);\r\n    function ToggleFullScreenCommand() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isInFullScreenMode = false;\r\n        _this.fullScreenTempVars = {};\r\n        return _this;\r\n    }\r\n    ToggleFullScreenCommand.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(true);\r\n        state.value = this.control.fullScreenModeHelper.isInFullScreenMode;\r\n        return state;\r\n    };\r\n    ToggleFullScreenCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    ToggleFullScreenCommand.prototype.executeInternal = function () {\r\n        this.control.fullScreenModeHelper.toggle();\r\n        return true;\r\n    };\r\n    return ToggleFullScreenCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.ToggleFullScreenCommand = ToggleFullScreenCommand;\r\n\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ExpandAllCommand = exports.CollapseAllCommand = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar CollapseAllCommand = (function (_super) {\r\n    tslib_1.__extends(CollapseAllCommand, _super);\r\n    function CollapseAllCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CollapseAllCommand.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    CollapseAllCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    CollapseAllCommand.prototype.executeInternal = function () {\r\n        this.control.ganttOwner.collapseAll();\r\n        return true;\r\n    };\r\n    CollapseAllCommand.prototype.isEnabled = function () {\r\n        return true;\r\n    };\r\n    return CollapseAllCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.CollapseAllCommand = CollapseAllCommand;\r\nvar ExpandAllCommand = (function (_super) {\r\n    tslib_1.__extends(ExpandAllCommand, _super);\r\n    function ExpandAllCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ExpandAllCommand.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    ExpandAllCommand.prototype.execute = function () {\r\n        return _super.prototype.execute.call(this);\r\n    };\r\n    ExpandAllCommand.prototype.executeInternal = function () {\r\n        this.control.ganttOwner.expandAll();\r\n        return true;\r\n    };\r\n    ExpandAllCommand.prototype.isEnabled = function () {\r\n        return true;\r\n    };\r\n    return ExpandAllCommand;\r\n}(CommandBase_1.CommandBase));\r\nexports.ExpandAllCommand = ExpandAllCommand;\r\n\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceColorCommand = exports.ResourcePropertyCommandBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar CommandBase_1 = __webpack_require__(7);\r\nvar ResourcePropertiesHistoryItem_1 = __webpack_require__(120);\r\nvar ResourcePropertyCommandBase = (function (_super) {\r\n    tslib_1.__extends(ResourcePropertyCommandBase, _super);\r\n    function ResourcePropertyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcePropertyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    ResourcePropertyCommandBase.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowResourceUpdate;\r\n    };\r\n    return ResourcePropertyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.ResourcePropertyCommandBase = ResourcePropertyCommandBase;\r\nvar ResourceColorCommand = (function (_super) {\r\n    tslib_1.__extends(ResourceColorCommand, _super);\r\n    function ResourceColorCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceColorCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    ResourceColorCommand.prototype.executeInternal = function (id, value) {\r\n        var oldColor = this.control.viewModel.resources.getItemById(id).color;\r\n        if (oldColor == value)\r\n            return false;\r\n        this.history.addAndRedo(new ResourcePropertiesHistoryItem_1.ResourceColorHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return ResourceColorCommand;\r\n}(ResourcePropertyCommandBase));\r\nexports.ResourceColorCommand = ResourceColorCommand;\r\n\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ResourceColorHistoryItem = exports.ResourcePropertiesHistoryItemBase = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar HistoryItem_1 = __webpack_require__(12);\r\nvar ResourcePropertiesHistoryItemBase = (function (_super) {\r\n    tslib_1.__extends(ResourcePropertiesHistoryItemBase, _super);\r\n    function ResourcePropertiesHistoryItemBase(modelManipulator, resourceId, newValue) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.resourceId = resourceId;\r\n        _this.newValue = newValue;\r\n        return _this;\r\n    }\r\n    ResourcePropertiesHistoryItemBase.prototype.redo = function () {\r\n        this.oldState = this.getPropertiesManipulator().setValue(this.resourceId, this.newValue);\r\n    };\r\n    ResourcePropertiesHistoryItemBase.prototype.undo = function () {\r\n        this.getPropertiesManipulator().restoreValue(this.oldState);\r\n    };\r\n    ResourcePropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\r\n        throw new Error(\"Not Implemented\");\r\n    };\r\n    return ResourcePropertiesHistoryItemBase;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.ResourcePropertiesHistoryItemBase = ResourcePropertiesHistoryItemBase;\r\nvar ResourceColorHistoryItem = (function (_super) {\r\n    tslib_1.__extends(ResourceColorHistoryItem, _super);\r\n    function ResourceColorHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceColorHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.resource.properties.color;\r\n    };\r\n    return ResourceColorHistoryItem;\r\n}(ResourcePropertiesHistoryItemBase));\r\nexports.ResourceColorHistoryItem = ResourceColorHistoryItem;\r\n\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BarManager = void 0;\r\nvar BarManager = (function () {\r\n    function BarManager(control, bars) {\r\n        this.control = control;\r\n        this.bars = bars;\r\n    }\r\n    BarManager.prototype.updateContextMenu = function () {\r\n        for (var i = 0, bar = void 0; bar = this.bars[i]; i++)\r\n            if (bar.isContextMenu()) {\r\n                bar.updateItemsList();\r\n                var commandKeys = bar.getCommandKeys();\r\n                for (var j = 0; j < commandKeys.length; j++)\r\n                    this.updateBarItem(bar, commandKeys[j]);\r\n            }\r\n    };\r\n    BarManager.prototype.updateItemsState = function (queryCommands) {\r\n        var anyQuerySended = !!queryCommands.length;\r\n        var _loop_1 = function (i, bar) {\r\n            if (bar.isVisible()) {\r\n                var commandKeys_1 = bar.getCommandKeys();\r\n                var _loop_2 = function (j) {\r\n                    if (anyQuerySended && !queryCommands.filter(function (q) { return q == commandKeys_1[j]; }).length)\r\n                        return \"continue\";\r\n                    this_1.updateBarItem(bar, commandKeys_1[j]);\r\n                };\r\n                for (var j = 0; j < commandKeys_1.length; j++) {\r\n                    _loop_2(j);\r\n                }\r\n                bar.completeUpdate();\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0, bar = void 0; bar = this.bars[i]; i++) {\r\n            _loop_1(i, bar);\r\n        }\r\n    };\r\n    BarManager.prototype.updateBarItem = function (bar, commandKey) {\r\n        var command = this.control.commandManager.getCommand(commandKey);\r\n        if (command) {\r\n            var commandState = command.getState();\r\n            bar.setItemVisible(commandKey, commandState.visible);\r\n            if (commandState.visible) {\r\n                bar.setItemEnabled(commandKey, commandState.enabled);\r\n                bar.setItemValue(commandKey, commandState.value);\r\n            }\r\n        }\r\n    };\r\n    return BarManager;\r\n}());\r\nexports.BarManager = BarManager;\r\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ValidationController = exports.ValidationError = void 0;\r\nvar tslib_1 = __webpack_require__(0);\r\nvar Dependency_1 = __webpack_require__(11);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(25);\r\nvar DateRange_1 = __webpack_require__(9);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar common_1 = __webpack_require__(1);\r\nvar ValidationError = (function () {\r\n    function ValidationError(dependencyId, critical) {\r\n        if (critical === void 0) { critical = false; }\r\n        this.dependencyId = dependencyId;\r\n        this.critical = critical;\r\n    }\r\n    return ValidationError;\r\n}());\r\nexports.ValidationError = ValidationError;\r\nvar ValidationController = (function () {\r\n    function ValidationController(gantt) {\r\n        this.gantt = gantt;\r\n    }\r\n    Object.defineProperty(ValidationController.prototype, \"viewModel\", {\r\n        get: function () {\r\n            return this.gantt.viewModel;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ValidationController.prototype, \"history\", {\r\n        get: function () {\r\n            return this.gantt.history;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ValidationController.prototype.checkStartDependencies = function (taskId, date) {\r\n        var _this = this;\r\n        var result = [];\r\n        var task = this.gantt.viewModel.tasks.getItemById(taskId);\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.successorId == taskId; });\r\n        dependencies.forEach(function (dep) {\r\n            var predecessorTask = _this.gantt.viewModel.tasks.getItemById(dep.predecessorId);\r\n            if (dep.type == Dependency_1.DependencyType.FS && predecessorTask.end > date || dep.type == Dependency_1.DependencyType.SS && predecessorTask.start > date)\r\n                result.push(new ValidationError(dep.internalId, true));\r\n            if (dep.type == Dependency_1.DependencyType.FS && predecessorTask.end.valueOf() == task.start.valueOf() && date > predecessorTask.end ||\r\n                dep.type == Dependency_1.DependencyType.SS && predecessorTask.start.valueOf() == task.start.valueOf() && date > predecessorTask.start)\r\n                result.push(new ValidationError(dep.internalId));\r\n        });\r\n        return result;\r\n    };\r\n    ValidationController.prototype.checkEndDependencies = function (taskId, date) {\r\n        var _this = this;\r\n        var result = [];\r\n        var task = this.gantt.viewModel.tasks.getItemById(taskId);\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.successorId == taskId; });\r\n        dependencies.forEach(function (dep) {\r\n            var predecessorTask = _this.gantt.viewModel.tasks.getItemById(dep.predecessorId);\r\n            if (dep.type == Dependency_1.DependencyType.SF && predecessorTask.start > date || dep.type == Dependency_1.DependencyType.FF && predecessorTask.end > date)\r\n                result.push(new ValidationError(dep.internalId, true));\r\n            if (dep.type == Dependency_1.DependencyType.SF && predecessorTask.start.valueOf() == task.end.valueOf() && date > predecessorTask.start ||\r\n                dep.type == Dependency_1.DependencyType.FF && predecessorTask.end.valueOf() == task.end.valueOf() && date > predecessorTask.end)\r\n                result.push(new ValidationError(dep.internalId));\r\n        });\r\n        return result;\r\n    };\r\n    ValidationController.prototype.moveEndDependTasks = function (taskId, previousEndDate) {\r\n        var _this = this;\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == taskId; });\r\n        dependencies.forEach(function (dep) {\r\n            var task = _this.gantt.viewModel.tasks.getItemById(taskId);\r\n            var successorTask = _this.gantt.viewModel.tasks.getItemById(dep.successorId);\r\n            var rangeBeforeMove = new DateRange_1.DateRange(new Date(successorTask.start.getTime()), new Date(successorTask.end.getTime()));\r\n            var validRange = new DateRange_1.DateRange(new Date(), new Date());\r\n            if (dep.type == Dependency_1.DependencyType.FS && (successorTask.start < task.end || successorTask.start.valueOf() === previousEndDate.valueOf() && successorTask.start > task.end)) {\r\n                validRange.start.setTime(task.end.getTime());\r\n                validRange.end.setTime(validRange.start.getTime() + (successorTask.end.getTime() - successorTask.start.getTime()));\r\n                _this.correctMoving(successorTask.internalId, validRange);\r\n                _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\r\n                if (_this._parentAutoCalc) {\r\n                    var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\r\n                    _this.correctOnMoving(successorTask.internalId, delta);\r\n                }\r\n                _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\r\n                _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\r\n            }\r\n            if (dep.type == Dependency_1.DependencyType.FF && (successorTask.end < task.end || successorTask.end.valueOf() === previousEndDate.valueOf() && successorTask.end > task.end)) {\r\n                validRange.start.setTime(task.end.getTime() - (successorTask.end.getTime() - successorTask.start.getTime()));\r\n                validRange.end.setTime(task.end.getTime());\r\n                _this.correctMoving(successorTask.internalId, validRange);\r\n                _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\r\n                if (_this._parentAutoCalc) {\r\n                    var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\r\n                    _this.correctOnMoving(successorTask.internalId, delta);\r\n                }\r\n                _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\r\n                _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\r\n            }\r\n        });\r\n    };\r\n    ValidationController.prototype.moveStartDependTasks = function (taskId, previousStartDate) {\r\n        var _this = this;\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == taskId; });\r\n        dependencies.forEach(function (dep) {\r\n            var task = _this.gantt.viewModel.tasks.getItemById(taskId);\r\n            var successorTask = _this.gantt.viewModel.tasks.getItemById(dep.successorId);\r\n            var rangeBeforeMove = new DateRange_1.DateRange(new Date(successorTask.start.getTime()), new Date(successorTask.end.getTime()));\r\n            var validRange = new DateRange_1.DateRange(new Date(), new Date());\r\n            if (dep.type == Dependency_1.DependencyType.SF && (successorTask.end < task.start || successorTask.end.valueOf() === previousStartDate.valueOf() && successorTask.end > task.start)) {\r\n                validRange.start.setTime(task.start.getTime() - (successorTask.end.getTime() - successorTask.start.getTime()));\r\n                validRange.end.setTime(task.start.getTime());\r\n                _this.correctMoving(successorTask.internalId, validRange);\r\n                _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\r\n                if (_this._parentAutoCalc) {\r\n                    var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\r\n                    _this.correctOnMoving(successorTask.internalId, delta);\r\n                }\r\n                _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\r\n                _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\r\n            }\r\n            if (dep.type == Dependency_1.DependencyType.SS && (successorTask.start < task.start || successorTask.start.valueOf() === previousStartDate.valueOf() && successorTask.start > task.start)) {\r\n                validRange.start.setTime(task.start.getTime());\r\n                validRange.end.setTime(task.start.getTime() + (successorTask.end.getTime() - successorTask.start.getTime()));\r\n                _this.correctMoving(successorTask.internalId, validRange);\r\n                _this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskMoveHistoryItem(_this.gantt.modelManipulator, dep.successorId, validRange));\r\n                if (_this._parentAutoCalc) {\r\n                    var delta = validRange.start.getTime() - rangeBeforeMove.start.getTime();\r\n                    _this.correctOnMoving(successorTask.internalId, delta);\r\n                }\r\n                _this.moveStartDependTasks(dep.successorId, rangeBeforeMove.start);\r\n                _this.moveEndDependTasks(dep.successorId, rangeBeforeMove.end);\r\n            }\r\n        });\r\n    };\r\n    ValidationController.prototype.correctMoving = function (taskId, dateRange) {\r\n        var _this = this;\r\n        var deltaDate = dateRange.end.getTime() - dateRange.start.getTime();\r\n        var validationErrors = tslib_1.__spreadArrays(this.checkStartDependencies(taskId, dateRange.start), this.checkEndDependencies(taskId, dateRange.end));\r\n        var criticalErrors = validationErrors.filter(function (e) { return e.critical; });\r\n        criticalErrors.forEach(function (error) {\r\n            var dependency = _this.gantt.viewModel.dependencies.getItemById(error.dependencyId);\r\n            var predecessorTask = _this.gantt.viewModel.tasks.getItemById(dependency.predecessorId);\r\n            if (dependency.type == Dependency_1.DependencyType.FS)\r\n                if (dateRange.start < predecessorTask.end) {\r\n                    dateRange.start.setTime(predecessorTask.end.getTime());\r\n                    dateRange.end.setTime(dateRange.start.getTime() + deltaDate);\r\n                }\r\n            if (dependency.type == Dependency_1.DependencyType.SS)\r\n                if (dateRange.start < predecessorTask.start) {\r\n                    dateRange.start.setTime(predecessorTask.start.getTime());\r\n                    dateRange.end.setTime(dateRange.start.getTime() + deltaDate);\r\n                }\r\n            if (dependency.type == Dependency_1.DependencyType.FF)\r\n                if (dateRange.end < predecessorTask.end) {\r\n                    dateRange.end.setTime(predecessorTask.end.getTime());\r\n                    dateRange.start.setTime(dateRange.end.getTime() - deltaDate);\r\n                }\r\n            if (dependency.type == Dependency_1.DependencyType.SF)\r\n                if (dateRange.end < predecessorTask.start) {\r\n                    dateRange.end.setTime(predecessorTask.start.getTime());\r\n                    dateRange.start.setTime(dateRange.end.getTime() - deltaDate);\r\n                }\r\n        });\r\n        return dateRange;\r\n    };\r\n    ValidationController.prototype.recalculateParents = function (child, calcStepCallback) {\r\n        var parent = child && child.parent;\r\n        while (parent && parent.task) {\r\n            var children = parent.children;\r\n            var start = this.gantt.range.end;\r\n            var end = this.gantt.range.start;\r\n            var progress = 0;\r\n            var totalDuration = 0;\r\n            var data = { id: parent.task.internalId };\r\n            for (var i = 0; i < children.length; i++) {\r\n                var childTask = children[i].task;\r\n                start = DateTimeUtils_1.DateTimeUtils.getMinDate(start, childTask.start);\r\n                end = DateTimeUtils_1.DateTimeUtils.getMaxDate(end, childTask.end);\r\n                var duration = childTask.getDuration();\r\n                progress += childTask.progress * duration;\r\n                totalDuration += duration;\r\n            }\r\n            if (!DateTimeUtils_1.DateTimeUtils.areDatesEqual(parent.task.start, start))\r\n                data[\"start\"] = start;\r\n            if (!DateTimeUtils_1.DateTimeUtils.areDatesEqual(parent.task.end, end))\r\n                data[\"end\"] = end;\r\n            progress = Math.ceil(progress / totalDuration);\r\n            if (progress !== parent.task.progress)\r\n                data[\"progress\"] = progress;\r\n            calcStepCallback(data);\r\n            parent = parent.parent;\r\n        }\r\n    };\r\n    ValidationController.prototype.updateParentsRangeByChild = function (taskId) {\r\n        var _this = this;\r\n        this.recalculateParents(this.viewModel.findItem(taskId), function (data) {\r\n            if (!common_1.isDefined(data.id))\r\n                return;\r\n            var history = _this.history;\r\n            var manipulator = _this.gantt.modelManipulator;\r\n            if (common_1.isDefined(data.start))\r\n                history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(manipulator, data.id, data.start));\r\n            if (common_1.isDefined(data.end))\r\n                history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(manipulator, data.id, data.end));\r\n            if (common_1.isDefined(data.progress))\r\n                history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(manipulator, data.id, data.progress));\r\n        });\r\n    };\r\n    ValidationController.prototype.updateChildRangeByParent = function (parentId, delta, changedTasks) {\r\n        var item = this.viewModel.findItem(parentId);\r\n        if (!item || item.children.length === 0)\r\n            return;\r\n        var children = item.children;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var childTask = children[i].task;\r\n            var newStart = new Date(childTask.start.getTime() + delta);\r\n            var newEnd = new Date(childTask.end.getTime() + delta);\r\n            changedTasks.push({ id: childTask.internalId, start: childTask.start, end: childTask.end });\r\n            if (newStart < childTask.end) {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.gantt.modelManipulator, childTask.internalId, newStart));\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.gantt.modelManipulator, childTask.internalId, newEnd));\r\n            }\r\n            else {\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.gantt.modelManipulator, childTask.internalId, newEnd));\r\n                this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.gantt.modelManipulator, childTask.internalId, newStart));\r\n            }\r\n            this.updateChildRangeByParent(childTask.internalId, delta, changedTasks);\r\n        }\r\n    };\r\n    ValidationController.prototype.updateParentsIfRequired = function (childId) {\r\n        if (this._parentAutoCalc) {\r\n            this.updateParentsRangeByChild(childId);\r\n            this.gantt.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData());\r\n        }\r\n    };\r\n    ValidationController.prototype.correctOnMoving = function (taskId, delta) {\r\n        var _this = this;\r\n        if (this._parentAutoCalc && delta !== 0) {\r\n            this.updateParentsRangeByChild(taskId);\r\n            var changedTasks = [];\r\n            this.updateChildRangeByParent(taskId, delta, changedTasks);\r\n            if (this.gantt.settings.validation.validateDependencies)\r\n                changedTasks.forEach(function (i) {\r\n                    _this.moveStartDependTasks(i.id, i.start);\r\n                    _this.moveEndDependTasks(i.id, i.end);\r\n                });\r\n            this.gantt.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData());\r\n        }\r\n    };\r\n    Object.defineProperty(ValidationController.prototype, \"_parentAutoCalc\", {\r\n        get: function () {\r\n            return this.viewModel.parentAutoCalc;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return ValidationController;\r\n}());\r\nexports.ValidationController = ValidationController;\r\n\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FullScreenModeHelper = void 0;\r\nvar browser_1 = __webpack_require__(5);\r\nvar attr_1 = __webpack_require__(124);\r\nvar dom_1 = __webpack_require__(3);\r\nvar FullScreenModeHelper = (function () {\r\n    function FullScreenModeHelper(gantt) {\r\n        this._isInFullScreenMode = false;\r\n        this.fullScreenTempVars = {};\r\n        this.gantt = gantt;\r\n    }\r\n    Object.defineProperty(FullScreenModeHelper.prototype, \"isInFullScreenMode\", {\r\n        get: function () { return this._isInFullScreenMode; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    FullScreenModeHelper.prototype.toggle = function () {\r\n        this._isInFullScreenMode = !this._isInFullScreenMode;\r\n        if (this._isInFullScreenMode)\r\n            this.setFullScreenMode();\r\n        else\r\n            this.setNormalMode();\r\n        return true;\r\n    };\r\n    FullScreenModeHelper.prototype.setFullScreenMode = function () {\r\n        this.prepareFullScreenMode();\r\n        this.adjustControlInFullScreenMode();\r\n    };\r\n    FullScreenModeHelper.prototype.prepareFullScreenMode = function () {\r\n        var mainElement = this.getMainElement();\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-top-width\", \"0px\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-left-width\", \"0px\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-right-width\", \"0px\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"border-bottom-width\", \"0px\");\r\n        this.fullScreenTempVars.scrollTop = dom_1.DomUtils.getDocumentScrollTop();\r\n        this.fullScreenTempVars.scrollLeft = dom_1.DomUtils.getDocumentScrollLeft();\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"background-color\", \"white\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"position\", \"fixed\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"top\", \"0px\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"left\", \"0px\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(mainElement, \"z-index\", \"10001\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(document.documentElement, \"position\", \"static\");\r\n        attr_1.AttrUtils.changeElementStyleAttribute(document.documentElement, \"overflow\", \"hidden\");\r\n        this.fullScreenTempVars.bodyMargin = document.body.style.margin;\r\n        document.body.style.margin = \"0\";\r\n        this.fullScreenTempVars.width = mainElement.style.width;\r\n        this.fullScreenTempVars.height = mainElement.style.height;\r\n        if (window.self !== window.top)\r\n            this.requestFullScreen(document.body);\r\n    };\r\n    FullScreenModeHelper.prototype.setNormalMode = function () {\r\n        this.cancelFullScreen(document);\r\n        var mainElement = this.getMainElement();\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"left\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"top\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"background-color\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(document.documentElement, \"overflow\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(document.documentElement, \"position\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"z-index\");\r\n        document.body.style.margin = this.fullScreenTempVars.bodyMargin;\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"position\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-top-width\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-left-width\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-right-width\");\r\n        attr_1.AttrUtils.restoreElementStyleAttribute(mainElement, \"border-bottom-width\");\r\n        this.setHeight(this.fullScreenTempVars.height);\r\n        this.setWidth(this.fullScreenTempVars.width);\r\n        document.documentElement.scrollTop = this.fullScreenTempVars.scrollTop;\r\n        document.documentElement.scrollLeft = this.fullScreenTempVars.scrollLeft;\r\n        this.adjustControl();\r\n    };\r\n    FullScreenModeHelper.prototype.adjustControlInFullScreenMode = function () {\r\n        var documentWidth = document.documentElement.clientWidth == 0 ? document.body.clientWidth : document.documentElement.clientWidth;\r\n        var documentHeight = document.documentElement.clientHeight == 0 ? document.body.clientHeight : document.documentElement.clientHeight;\r\n        this.setWidth(documentWidth);\r\n        this.setHeight(documentHeight);\r\n        this.adjustControl();\r\n    };\r\n    FullScreenModeHelper.prototype.requestFullScreen = function (element) {\r\n        if (element.requestFullscreen)\r\n            element.requestFullscreen();\r\n        else if (element.mozRequestFullScreen)\r\n            element.mozRequestFullScreen();\r\n        else if (element.webkitRequestFullscreen)\r\n            element.webkitRequestFullscreen();\r\n        else if (element.msRequestFullscreen)\r\n            element.msRequestFullscreen();\r\n    };\r\n    FullScreenModeHelper.prototype.cancelFullScreen = function (document) {\r\n        if (browser_1.Browser.Firefox && !this.getFullScreenElement(document))\r\n            return;\r\n        if (document.webkitExitFullscreen)\r\n            document.webkitExitFullscreen();\r\n        else if (document.mozCancelFullScreen)\r\n            document.mozCancelFullScreen();\r\n        else if (document.msExitFullscreen)\r\n            document.msExitFullscreen();\r\n        else if (document.exitFullscreen)\r\n            document.exitFullscreen();\r\n    };\r\n    FullScreenModeHelper.prototype.getFullScreenElement = function (document) {\r\n        return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\r\n    };\r\n    FullScreenModeHelper.prototype.setWidth = function (width) {\r\n        var mainElement = this.getMainElement();\r\n        mainElement.style.width = this.isNumber(width) ? width + \"px\" : width;\r\n    };\r\n    FullScreenModeHelper.prototype.setHeight = function (height) {\r\n        var mainElement = this.getMainElement();\r\n        mainElement.style.height = this.isNumber(height) ? height + \"px\" : height;\r\n    };\r\n    FullScreenModeHelper.prototype.isNumber = function (str) {\r\n        return !isNaN(parseFloat(str)) && isFinite(str);\r\n    };\r\n    FullScreenModeHelper.prototype.getMainElement = function () {\r\n        return this.gantt.getOwnerControlMainElement();\r\n    };\r\n    FullScreenModeHelper.prototype.adjustControl = function () {\r\n        this.gantt.adjustOwnerControl();\r\n    };\r\n    return FullScreenModeHelper;\r\n}());\r\nexports.FullScreenModeHelper = FullScreenModeHelper;\r\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar browser_1 = __webpack_require__(5);\r\nvar AttrUtils = (function () {\r\n    function AttrUtils() {\r\n    }\r\n    AttrUtils.setElementAttribute = function (obj, attrName, value) {\r\n        if (obj.setAttribute) {\r\n            if (browser_1.Browser.IE && browser_1.Browser.MajorVersion >= 11 && attrName.toLowerCase() === 'src')\r\n                obj.setAttribute(attrName, '');\r\n            obj.setAttribute(attrName, value);\r\n        }\r\n    };\r\n    AttrUtils.setStyleAttribute = function (obj, attrName, value) {\r\n        if (obj.setProperty)\r\n            obj.setProperty(attrName, value, '');\r\n    };\r\n    AttrUtils.getElementAttribute = function (obj, attrName) {\r\n        return obj.getAttribute(attrName);\r\n    };\r\n    AttrUtils.getStyleAttribute = function (obj, attrName) {\r\n        if (obj.getPropertyValue) {\r\n            if (browser_1.Browser.Firefox) {\r\n                try {\r\n                    return obj.getPropertyValue(attrName);\r\n                }\r\n                catch (e) {\r\n                    return obj[attrName];\r\n                }\r\n            }\r\n            return obj.getPropertyValue(attrName);\r\n        }\r\n        return null;\r\n    };\r\n    AttrUtils.removeElementAttribute = function (obj, attrName) {\r\n        if (obj.removeAttribute)\r\n            obj.removeAttribute(attrName);\r\n    };\r\n    AttrUtils.removeStyleAttribute = function (obj, attrName) {\r\n        if (obj.removeProperty)\r\n            obj.removeProperty(attrName);\r\n    };\r\n    AttrUtils.changeElementStyleAttribute = function (obj, attrName, newValue) {\r\n        AttrUtils.saveStyleAttributeInElement(obj, attrName);\r\n        AttrUtils.setStyleAttribute(obj.style, attrName, newValue);\r\n    };\r\n    AttrUtils.restoreElementStyleAttribute = function (obj, attrName) {\r\n        var savedAttrName = \"saved\" + attrName;\r\n        var style = obj.style;\r\n        if (AttrUtils.isExistsAttributeInElement(obj, savedAttrName)) {\r\n            var oldValue = AttrUtils.getElementAttribute(obj, savedAttrName);\r\n            if (oldValue === AttrUtils.emptyObject || oldValue === null)\r\n                AttrUtils.removeStyleAttribute(style, attrName);\r\n            else\r\n                AttrUtils.setStyleAttribute(style, attrName, oldValue);\r\n            AttrUtils.removeElementAttribute(obj, savedAttrName);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    AttrUtils.saveStyleAttributeInElement = function (obj, attrName) {\r\n        var savedAttrName = \"saved\" + attrName;\r\n        var style = obj.style;\r\n        if (!AttrUtils.isExistsAttributeInElement(obj, savedAttrName)) {\r\n            var oldValue = AttrUtils.getStyleAttribute(style, attrName);\r\n            AttrUtils.setElementAttribute(obj, savedAttrName, AttrUtils.isAttributeExists(oldValue) ? oldValue : AttrUtils.emptyObject);\r\n        }\r\n    };\r\n    AttrUtils.isExistsAttributeInElement = function (obj, attrName) {\r\n        var value = AttrUtils.getElementAttribute(obj, attrName);\r\n        return AttrUtils.isAttributeExists(value);\r\n    };\r\n    AttrUtils.isAttributeExists = function (attrValue) {\r\n        return attrValue !== null && attrValue !== '';\r\n    };\r\n    AttrUtils.emptyObject = 'DxEmptyValue';\r\n    return AttrUtils;\r\n}());\r\nexports.AttrUtils = AttrUtils;\r\n\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}