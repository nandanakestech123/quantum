{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\StaffPlus\\\\StaffSchedule\\\\CalenderTable\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { withTranslation } from \"react-i18next\";\nimport \"./style.scss\";\n\nclass CalenderTableClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedMonth: \"\"\n    };\n  }\n\n  componentWillMount() {\n    const date = new Date();\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n    const year = date.getFullYear();\n    this.setState({\n      selectedMonth: `${year}-${month}`\n    });\n  }\n\n  componentDidMount() {\n    for (let index = 1; index <= 31; index++) {\n      var _document$getElementB;\n\n      let anchor = (_document$getElementB = document.getElementById(index)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.parentElement;\n\n      if (anchor) {\n        anchor.onclick = () => {\n          var _this$props$disabled;\n\n          let sections = document.querySelectorAll(\".dropdown-content\");\n\n          for (let i = 0; i < sections.length; i++) {\n            sections[i].classList.remove(\"show\"); // querySelectorAll return an array of dom elements, u can access them directly.\n          }\n\n          if ((_this$props$disabled = this.props.disabled) !== null && _this$props$disabled !== void 0 ? _this$props$disabled : false) return;\n          document.getElementById(index).classList.toggle(\"show\");\n        };\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    var tableData = document.getElementsByTagName(\"TD\");\n\n    for (var i = 0; i < tableData.length; i++) {\n      var td = tableData[i];\n      td.onclick = null;\n    }\n\n    for (let index = 1; index <= 31; index++) {\n      var _document$getElementB2;\n\n      let anchor = (_document$getElementB2 = document.getElementById(index)) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.parentElement;\n\n      if (anchor) {\n        anchor.onclick = () => {\n          var _this$props$disabled2;\n\n          let sections = document.querySelectorAll(\".dropdown-content\");\n\n          for (let i = 0; i < sections.length; i++) {\n            sections[i].classList.remove(\"show\"); // querySelectorAll return an array of dom elements, u can access them directly.\n          }\n\n          if ((_this$props$disabled2 = this.props.disabled) !== null && _this$props$disabled2 !== void 0 ? _this$props$disabled2 : false) return;\n          document.getElementById(index).classList.toggle(\"show\");\n        };\n      }\n    }\n  }\n\n  render() {\n    let {\n      date = this.state.selectedMonth,\n      data = [],\n      onChange,\n      optionList,\n      disabled = false,\n      t\n    } = this.props;\n\n    const handOnOptionClick = (index, value) => {\n      let sections = document.querySelectorAll(\".dropdown-content\");\n\n      for (let i = 0; i < sections.length; i++) {\n        sections[i].classList.remove(\"show\"); // querySelectorAll return an array of dom elements, u can access them directly.\n      }\n\n      if (disabled) return;\n      var d = new Date(date);\n      var newDate = new Date(d.getFullYear(), d.getMonth(), index);\n      var obj = data.find(e => newDate.getTime() === new Date(e.itm_date).getTime());\n      data[data.indexOf(obj)].itm_type = value;\n      onChange(data);\n    };\n\n    const getDate = index => {\n      var _data$find;\n\n      var d = new Date(date);\n      var firstDayDate = new Date(d.getFullYear(), d.getMonth(), 1);\n      var lastDayDate = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\n      var startIndex = firstDayDate.getDay() == 0 ? 7 : firstDayDate.getDay();\n      var currentDate = index - startIndex + 1;\n      if (currentDate <= 0) return;\n      if (currentDate > lastDayDate) return;\n      var newDate = new Date(d.getFullYear(), d.getMonth(), currentDate);\n      var itm_type = (_data$find = data.find(e => newDate.getTime() === new Date(e.itm_date).getTime())) === null || _data$find === void 0 ? void 0 : _data$find.itm_type;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, currentDate, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }), \"(\", t(optionList.find(val => val.value == itm_type) != null ? optionList.find(val => val.value == itm_type).shortDesc : \"N/A\"), \")\", /*#__PURE__*/React.createElement(\"div\", {\n        id: currentDate,\n        class: \"dropdown-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, optionList.map(val => {\n        return /*#__PURE__*/React.createElement(\"label\", {\n          style: {\n            cursor: \"pointer\"\n          },\n          key: \"ws\" + val.id,\n          onClick: () => {},\n          onDoubleClick: () => handOnOptionClick(currentDate, val.value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }\n        }, t(val.label));\n      })));\n    };\n\n    const getStyle = index => {\n      var _data$find2;\n\n      var d = new Date(date);\n      var firstDayDate = new Date(d.getFullYear(), d.getMonth(), 1);\n      var lastDayDate = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\n      var startIndex = firstDayDate.getDay() == 0 ? 7 : firstDayDate.getDay();\n      var currentDate = index - startIndex + 1;\n      if (currentDate <= 0) return;\n      if (currentDate > lastDayDate) return;\n      var newDate = new Date(d.getFullYear(), d.getMonth(), currentDate);\n      var itm_type = (_data$find2 = data.find(e => newDate.getTime() === new Date(e.itm_date).getTime())) === null || _data$find2 === void 0 ? void 0 : _data$find2.itm_type;\n      return {\n        backgroundColor: optionList.find(val => val.value == itm_type) != null ? optionList.find(val => val.value == itm_type).color : \"white\",\n        cursor: \"pointer\"\n      };\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-header-color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, \"Mon\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, \"Tue\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, \"Wed\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, \"Thu\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, \"Fri\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \"Sat\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    }, \"Sun\"))), data.length == 0 ? null : /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, getDate(1)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, getDate(2)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, getDate(3)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, getDate(4)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(5),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, getDate(5)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(6),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, getDate(6)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(7),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, getDate(7))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(8),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, getDate(8)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(9),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, getDate(9)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(10),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, getDate(10)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(11),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, getDate(11)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(12),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, getDate(12)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(13),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }, getDate(13)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(14),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, getDate(14))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(15),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, getDate(15)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(16),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, getDate(16)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(17),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, getDate(17)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(18),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, getDate(18)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(19),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, getDate(19)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(20),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, getDate(20)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(21),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, getDate(21))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(22),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, getDate(22)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(23),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, getDate(23)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(24),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, getDate(24)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(25),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, getDate(25)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(26),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, getDate(26)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(27),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, getDate(27)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(28),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, getDate(28))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(29),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, getDate(29)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(30),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, getDate(30)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(31),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, getDate(31)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(32),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, getDate(32)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(33),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, getDate(33)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(34),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, getDate(34)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(35),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }, getDate(35))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(36),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, getDate(36)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(37),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, getDate(37)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(38),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, getDate(38)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(39),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, getDate(39)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(40),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, getDate(40)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(41),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, getDate(41)), /*#__PURE__*/React.createElement(\"td\", {\n      style: getStyle(42),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, getDate(42))))));\n  }\n\n}\n\nexport const CalenderTable = withTranslation()(CalenderTableClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/StaffPlus/StaffSchedule/CalenderTable/index.js"],"names":["React","Component","withTranslation","CalenderTableClass","state","selectedMonth","componentWillMount","date","Date","month","getMonth","slice","year","getFullYear","setState","componentDidMount","index","anchor","document","getElementById","parentElement","onclick","sections","querySelectorAll","i","length","classList","remove","props","disabled","toggle","componentDidUpdate","tableData","getElementsByTagName","td","render","data","onChange","optionList","t","handOnOptionClick","value","d","newDate","obj","find","e","getTime","itm_date","indexOf","itm_type","getDate","firstDayDate","lastDayDate","startIndex","getDay","currentDate","val","shortDesc","map","cursor","id","label","getStyle","backgroundColor","color","CalenderTable"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport \"./style.scss\";\r\n\r\nclass CalenderTableClass extends Component {\r\n  state = {\r\n    selectedMonth: \"\",\r\n  };\r\n  componentWillMount() {\r\n    const date = new Date();\r\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\r\n    const year = date.getFullYear();\r\n\r\n    this.setState({ selectedMonth: `${year}-${month}` });\r\n  }\r\n  componentDidMount() {\r\n    for (let index = 1; index <= 31; index++) {\r\n      let anchor = document.getElementById(index)?.parentElement;\r\n      if (anchor) {\r\n        anchor.onclick = () => {\r\n          let sections = document.querySelectorAll(\".dropdown-content\");\r\n          for (let i = 0; i < sections.length; i++) {\r\n            sections[i].classList.remove(\"show\");\r\n            // querySelectorAll return an array of dom elements, u can access them directly.\r\n          }\r\n          if (this.props.disabled ?? false) return;\r\n          document.getElementById(index).classList.toggle(\"show\");\r\n        };\r\n      }\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    var tableData = document.getElementsByTagName(\"TD\");\r\n    for (var i = 0; i < tableData.length; i++) {\r\n      var td = tableData[i];\r\n      td.onclick = null;\r\n    }\r\n\r\n    for (let index = 1; index <= 31; index++) {\r\n      let anchor = document.getElementById(index)?.parentElement;\r\n      if (anchor) {\r\n        anchor.onclick = () => {\r\n          let sections = document.querySelectorAll(\".dropdown-content\");\r\n          for (let i = 0; i < sections.length; i++) {\r\n            sections[i].classList.remove(\"show\");\r\n            // querySelectorAll return an array of dom elements, u can access them directly.\r\n          }\r\n          if (this.props.disabled ?? false) return;\r\n          document.getElementById(index).classList.toggle(\"show\");\r\n        };\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let {\r\n      date = this.state.selectedMonth,\r\n      data = [],\r\n      onChange,\r\n      optionList,\r\n      disabled = false,\r\n      t,\r\n    } = this.props;\r\n\r\n    const handOnOptionClick = (index, value) => {\r\n      let sections = document.querySelectorAll(\".dropdown-content\");\r\n      for (let i = 0; i < sections.length; i++) {\r\n        sections[i].classList.remove(\"show\");\r\n        // querySelectorAll return an array of dom elements, u can access them directly.\r\n      }\r\n      if (disabled) return;\r\n      var d = new Date(date);\r\n      var newDate = new Date(d.getFullYear(), d.getMonth(), index);\r\n      var obj = data.find(\r\n        e => newDate.getTime() === new Date(e.itm_date).getTime()\r\n      );\r\n      data[data.indexOf(obj)].itm_type = value;\r\n      onChange(data);\r\n    };\r\n    const getDate = index => {\r\n      var d = new Date(date);\r\n      var firstDayDate = new Date(d.getFullYear(), d.getMonth(), 1);\r\n      var lastDayDate = new Date(\r\n        d.getFullYear(),\r\n        d.getMonth() + 1,\r\n        0\r\n      ).getDate();\r\n      var startIndex = firstDayDate.getDay() == 0 ? 7 : firstDayDate.getDay();\r\n      var currentDate = index - startIndex + 1;\r\n      if (currentDate <= 0) return;\r\n      if (currentDate > lastDayDate) return;\r\n      var newDate = new Date(d.getFullYear(), d.getMonth(), currentDate);\r\n      var itm_type = data.find(\r\n        e => newDate.getTime() === new Date(e.itm_date).getTime()\r\n      )?.itm_type;\r\n      return (\r\n        <>\r\n          {currentDate}\r\n          <br />(\r\n          {t(\r\n            optionList.find(val => val.value == itm_type) != null\r\n              ? optionList.find(val => val.value == itm_type).shortDesc\r\n              : \"N/A\"\r\n          )}\r\n          )\r\n          <div id={currentDate} class=\"dropdown-content\">\r\n            {optionList.map(val => {\r\n              return (\r\n                <label\r\n                  style={{ cursor: \"pointer\" }}\r\n                  key={\"ws\" + val.id}\r\n                  onClick={() => {}}\r\n                  onDoubleClick={() =>\r\n                    handOnOptionClick(currentDate, val.value)\r\n                  }\r\n                >\r\n                  {t(val.label)}\r\n                </label>\r\n              );\r\n            })}\r\n          </div>\r\n        </>\r\n      );\r\n    };\r\n\r\n    const getStyle = index => {\r\n      var d = new Date(date);\r\n      var firstDayDate = new Date(d.getFullYear(), d.getMonth(), 1);\r\n      var lastDayDate = new Date(\r\n        d.getFullYear(),\r\n        d.getMonth() + 1,\r\n        0\r\n      ).getDate();\r\n      var startIndex = firstDayDate.getDay() == 0 ? 7 : firstDayDate.getDay();\r\n      var currentDate = index - startIndex + 1;\r\n      if (currentDate <= 0) return;\r\n      if (currentDate > lastDayDate) return;\r\n      var newDate = new Date(d.getFullYear(), d.getMonth(), currentDate);\r\n      var itm_type = data.find(\r\n        e => newDate.getTime() === new Date(e.itm_date).getTime()\r\n      )?.itm_type;\r\n      return {\r\n        backgroundColor:\r\n          optionList.find(val => val.value == itm_type) != null\r\n            ? optionList.find(val => val.value == itm_type).color\r\n            : \"white\",\r\n        cursor: \"pointer\",\r\n      };\r\n    };\r\n    return (\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr className=\"table-header-color\">\r\n              <th className=\"text-dark\">Mon</th>\r\n              <th className=\"text-dark\">Tue</th>\r\n              <th className=\"text-dark\">Wed</th>\r\n              <th className=\"text-dark\">Thu</th>\r\n              <th className=\"text-dark\">Fri</th>\r\n              <th className=\"text-danger\">Sat</th>\r\n              <th className=\"text-danger\">Sun</th>\r\n            </tr>\r\n          </thead>\r\n          {data.length == 0 ? null : (\r\n            <tbody>\r\n              <tr>\r\n                <td style={getStyle(1)}>{getDate(1)}</td>\r\n                <td style={getStyle(2)}>{getDate(2)}</td>\r\n                <td style={getStyle(3)}>{getDate(3)}</td>\r\n                <td style={getStyle(4)}>{getDate(4)}</td>\r\n                <td style={getStyle(5)}>{getDate(5)}</td>\r\n                <td style={getStyle(6)}>{getDate(6)}</td>\r\n                <td style={getStyle(7)}>{getDate(7)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(8)}>{getDate(8)}</td>\r\n                <td style={getStyle(9)}>{getDate(9)}</td>\r\n                <td style={getStyle(10)}>{getDate(10)}</td>\r\n                <td style={getStyle(11)}>{getDate(11)}</td>\r\n                <td style={getStyle(12)}>{getDate(12)}</td>\r\n                <td style={getStyle(13)}>{getDate(13)}</td>\r\n                <td style={getStyle(14)}>{getDate(14)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(15)}>{getDate(15)}</td>\r\n                <td style={getStyle(16)}>{getDate(16)}</td>\r\n                <td style={getStyle(17)}>{getDate(17)}</td>\r\n                <td style={getStyle(18)}>{getDate(18)}</td>\r\n                <td style={getStyle(19)}>{getDate(19)}</td>\r\n                <td style={getStyle(20)}>{getDate(20)}</td>\r\n                <td style={getStyle(21)}>{getDate(21)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(22)}>{getDate(22)}</td>\r\n                <td style={getStyle(23)}>{getDate(23)}</td>\r\n                <td style={getStyle(24)}>{getDate(24)}</td>\r\n                <td style={getStyle(25)}>{getDate(25)}</td>\r\n                <td style={getStyle(26)}>{getDate(26)}</td>\r\n                <td style={getStyle(27)}>{getDate(27)}</td>\r\n                <td style={getStyle(28)}>{getDate(28)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(29)}>{getDate(29)}</td>\r\n                <td style={getStyle(30)}>{getDate(30)}</td>\r\n                <td style={getStyle(31)}>{getDate(31)}</td>\r\n                <td style={getStyle(32)}>{getDate(32)}</td>\r\n                <td style={getStyle(33)}>{getDate(33)}</td>\r\n                <td style={getStyle(34)}>{getDate(34)}</td>\r\n                <td style={getStyle(35)}>{getDate(35)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={getStyle(36)}>{getDate(36)}</td>\r\n                <td style={getStyle(37)}>{getDate(37)}</td>\r\n                <td style={getStyle(38)}>{getDate(38)}</td>\r\n                <td style={getStyle(39)}>{getDate(39)}</td>\r\n                <td style={getStyle(40)}>{getDate(40)}</td>\r\n                <td style={getStyle(41)}>{getDate(41)}</td>\r\n                <td style={getStyle(42)}>{getDate(42)}</td>\r\n              </tr>\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const CalenderTable = withTranslation()(CalenderTableClass);\r\n"]},"metadata":{},"sourceType":"module"}