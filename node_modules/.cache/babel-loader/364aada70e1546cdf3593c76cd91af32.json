{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NavLink}from\"react-router-dom\";import{NormalButton,NormalSelect}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import Brush from\"assets/images/make-up-brush.png\";import filter from\"assets/images/filter.png\";import CartImg from\"assets/images/shopping-cart.png\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi}from\"redux/actions/common\";import{Category,Dept,ServicesItem,ItemDetail}from\"./services/index\";export var VoucherClass=/*#__PURE__*/function(_Component){_inherits(VoucherClass,_Component);var _super=_createSuper(VoucherClass);function VoucherClass(){var _this;_classCallCheck(this,VoucherClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={productCard:[{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true},{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true},{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:false},{stock:false,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true},{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true},{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true},{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true},{stock:true,label:\"Makeup brush\",img:Brush,cost:\"$ 4\",combo:true}],activeTab:\"category\",selectedCategoryId:\"\",selectedServicesId:\"\",selectedDeptId:195,active:false,currentValue:0,navLinks:[{to:\"/admin/catalog\",label:\"Retails Products\"},{to:\"/admin/catalog\",label:\"Salon Products\"},{to:\"/admin/catalog\",label:\"Services\"},{to:\"/admin/catalog\",label:\"Courses\"}],page:1,formFields:{search:\"\"},rangeId:\"\",rangeName:\"\",rangeOption:[],menuId:\"\",menuOption:[]};_this.componentDidMount=function(){var productCard=_this.state.productCard;//this.getMenus();\n// this.getServices({});\n// this.getRange();\n};_this.getMenus=function(){var menuOption=_this.state.menuOption;menuOption=[];console.log(\"sdfsdhfghjghj\",_this.props);_this.props.getCommonApi(\"catalogitemdept/?Item_Dept=\".concat(_this.props.id)).then(function(res){// activeMenu = []\nconsole.log(\"sdfsdhfghjghj ress\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;menuOption.push({value:key.id,label:key.itm_desc,code:key.itm_code,seq:key.itm_seq});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({menuOption:menuOption});});};_this.getRange=function(){var rangeOption=_this.state.rangeOption;rangeOption=[];_this.props.getCommonApi(\"catalogitemrange?Item_Deptid=\".concat(_this.state.menuId)).then(function(res){// activeMenu = []\nvar _iterator2=_createForOfIteratorHelper(res.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;rangeOption.push({value:key.id,label:key.itm_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({rangeOption:rangeOption});});};_this.getServices=function(query){var _query$page=query.page,page=_query$page===void 0?_this.state.page:_query$page,_query$search=query.search,search=_query$search===void 0?_this.state.formFields.search:_query$search,_query$rangeId=query.rangeId,rangeId=_query$rangeId===void 0?_this.state.rangeId:_query$rangeId;_this.props.getCommonApi(\"servicestock/?Item_Deptid=\".concat(_this.state.menuId,\"&page=\").concat(page,\"&Item_Rangeid=\").concat(rangeId)).then(function(key){var status=key.status,data=key.data;if(status===200){_this.setState({productCard:data});}});};_this.handleSelectCategory=function(id){_this.setState({activeTab:\"dept\",selectedCategoryId:id});};_this.handleSelectDept=function(id){_this.setState({activeTab:\"ServicesItem\",selectedDeptId:id});};_this.handleSelectServices=function(id){_this.setState({activeTab:\"ItemDetail\",selectedServicesId:id});};_this.handleClick=function(key){var _this$state=_this.state,active=_this$state.active,currentValue=_this$state.currentValue;_this.setState({active:true,currentValue:key});};_this.handleMenuChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$target,value,name,menuId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;menuId=Object.assign({},_this.state.menuId);menuId=value;_context.next=5;return _this.setState({menuId:menuId});case 5:_this.getRange();case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleRangeChange=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3){var _ref3$target,value,name,rangeId,rangeName,rangeOption,_iterator3,_step3,key;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;rangeId=Object.assign({},_this.state.rangeId);rangeName=Object.assign({},_this.state.rangeName);rangeOption=_this.state.rangeOption;rangeId=value;// rangeName = name;\n_iterator3=_createForOfIteratorHelper(rangeOption);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){key=_step3.value;if(key.value==value){rangeName=key.label;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_context2.next=9;return _this.setState({rangeId:rangeId,rangeName:rangeName});case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref4.apply(this,arguments);};}();return _this;}_createClass(VoucherClass,[{key:\"render\",value:function render(){var _this$state2=this.state,productCard=_this$state2.productCard,activeTab=_this$state2.activeTab,navLinks=_this$state2.navLinks,menuId=_this$state2.menuId,menuOption=_this$state2.menuOption,rangeOption=_this$state2.rangeOption,rangeId=_this$state2.rangeId,selectedCategoryId=_this$state2.selectedCategoryId,currentValue=_this$state2.currentValue,active=_this$state2.active,selectedDeptId=_this$state2.selectedDeptId,selectedServicesId=_this$state2.selectedServicesId;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ServicesItem,{id:this.props.id,menuId:menuId,rangeId:rangeId,handleSelectServices:this.handleSelectServices,api:this.props.api,search:this.props.search}),activeTab===\"ItemDetail\"?/*#__PURE__*/React.createElement(ItemDetail,{id:menuId,rangeId:rangeId}):\"\");}}]);return VoucherClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{customerDetail:state.appointment.customerDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({// getCustomer,\ngetCommonApi:getCommonApi},dispatch);};export var Voucher=connect(mapStateToProps,mapDispatchToProps)(VoucherClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Catalog/voucher.js"],"names":["React","Component","NavLink","NormalButton","NormalSelect","InputSearch","TableWrapper","Brush","filter","CartImg","connect","bindActionCreators","getCommonApi","Category","Dept","ServicesItem","ItemDetail","VoucherClass","state","productCard","stock","label","img","cost","combo","activeTab","selectedCategoryId","selectedServicesId","selectedDeptId","active","currentValue","navLinks","to","page","formFields","search","rangeId","rangeName","rangeOption","menuId","menuOption","componentDidMount","getMenus","console","log","props","id","then","res","data","key","push","value","itm_desc","code","itm_code","seq","itm_seq","setState","getRange","getServices","query","status","handleSelectCategory","handleSelectDept","handleSelectServices","handleClick","handleMenuChange","target","name","Object","assign","handleRangeChange","api","mapStateToProps","customerDetail","appointment","mapDispatchToProps","dispatch","Voucher"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport Brush from \"assets/images/make-up-brush.png\";\r\nimport filter from \"assets/images/filter.png\";\r\nimport CartImg from \"assets/images/shopping-cart.png\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport { Category, Dept, ServicesItem, ItemDetail } from \"./services/index\";\r\n\r\nexport class VoucherClass extends Component {\r\n  state = {\r\n    productCard: [\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: false,\r\n      },\r\n      {\r\n        stock: false,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n    ],\r\n    activeTab: \"category\",\r\n    selectedCategoryId: \"\",\r\n    selectedServicesId: \"\",\r\n    selectedDeptId: 195,\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Retails Products\",\r\n      },\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Salon Products\",\r\n      },\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Services\",\r\n      },\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Courses\",\r\n      },\r\n    ],\r\n    page: 1,\r\n    formFields: {\r\n      search: \"\",\r\n    },\r\n    rangeId: \"\",\r\n    rangeName: \"\",\r\n    rangeOption: [],\r\n    menuId: \"\",\r\n    menuOption: [],\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    let { productCard } = this.state;\r\n    //this.getMenus();\r\n    // this.getServices({});\r\n    // this.getRange();\r\n  };\r\n\r\n  getMenus = () => {\r\n    let { menuOption } = this.state;\r\n    menuOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`catalogitemdept/?Item_Dept=${this.props.id}`)\r\n      .then(res => {\r\n        // activeMenu = []\r\n        console.log(\"sdfsdhfghjghj ress\", res);\r\n        for (let key of res.data) {\r\n          menuOption.push({\r\n            value: key.id,\r\n            label: key.itm_desc,\r\n            code: key.itm_code,\r\n            seq: key.itm_seq,\r\n          });\r\n        }\r\n        this.setState({ menuOption });\r\n      });\r\n  };\r\n\r\n  getRange = () => {\r\n    let { rangeOption } = this.state;\r\n    rangeOption = [];\r\n    this.props\r\n      .getCommonApi(`catalogitemrange?Item_Deptid=${this.state.menuId}`)\r\n      .then(res => {\r\n        // activeMenu = []\r\n        for (let key of res.data) {\r\n          rangeOption.push({ value: key.id, label: key.itm_desc });\r\n        }\r\n        this.setState({ rangeOption });\r\n      });\r\n  };\r\n\r\n  getServices = query => {\r\n    let {\r\n      page = this.state.page,\r\n      search = this.state.formFields.search,\r\n      rangeId = this.state.rangeId,\r\n    } = query;\r\n    this.props\r\n      .getCommonApi(\r\n        `servicestock/?Item_Deptid=${this.state.menuId}&page=${page}&Item_Rangeid=${rangeId}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          this.setState({ productCard: data });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSelectCategory = id => {\r\n    this.setState({ activeTab: \"dept\", selectedCategoryId: id });\r\n  };\r\n\r\n  handleSelectDept = id => {\r\n    this.setState({ activeTab: \"ServicesItem\", selectedDeptId: id });\r\n  };\r\n\r\n  handleSelectServices = id => {\r\n    this.setState({ activeTab: \"ItemDetail\", selectedServicesId: id });\r\n  };\r\n\r\n  handleClick = key => {\r\n    let { active, currentValue } = this.state;\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key,\r\n    });\r\n  };\r\n\r\n  handleMenuChange = async ({ target: { value, name } }) => {\r\n    let menuId = Object.assign({}, this.state.menuId);\r\n    menuId = value;\r\n    await this.setState({ menuId });\r\n    this.getRange();\r\n  };\r\n\r\n  handleRangeChange = async ({ target: { value, name } }) => {\r\n    let rangeId = Object.assign({}, this.state.rangeId);\r\n    let rangeName = Object.assign({}, this.state.rangeName);\r\n    let { rangeOption } = this.state;\r\n    rangeId = value;\r\n    // rangeName = name;\r\n\r\n    for (let key of rangeOption) {\r\n      if (key.value == value) {\r\n        rangeName = key.label;\r\n      }\r\n    }\r\n\r\n    await this.setState({\r\n      rangeId,\r\n      rangeName,\r\n    });\r\n    // this.getServices({});\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      productCard,\r\n      activeTab,\r\n      navLinks,\r\n      menuId,\r\n      menuOption,\r\n      rangeOption,\r\n      rangeId,\r\n      selectedCategoryId,\r\n      currentValue,\r\n      active,\r\n      selectedDeptId,\r\n      selectedServicesId,\r\n    } = this.state;\r\n    return (\r\n      <>\r\n        <ServicesItem\r\n          id={this.props.id}\r\n          menuId={menuId}\r\n          rangeId={rangeId}\r\n          handleSelectServices={this.handleSelectServices}\r\n          api={this.props.api}\r\n          search={this.props.search}\r\n        ></ServicesItem>\r\n\r\n        {/* } */}\r\n        {activeTab === \"ItemDetail\" ? (\r\n          <ItemDetail id={menuId} rangeId={rangeId}></ItemDetail>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  customerDetail: state.appointment.customerDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Voucher = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(VoucherClass);\r\n"]},"metadata":{},"sourceType":"module"}