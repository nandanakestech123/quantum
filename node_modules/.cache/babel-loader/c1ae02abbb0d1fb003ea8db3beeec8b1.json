{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./style.scss';import{NormalButton,NormalInput,NormalSelect,InputSearch,NormalModal,TableWrapper,NormalTextarea}from'component/common';import{dateFormat}from'service/helperFunctions';import _ from'lodash';import{history}from'helpers';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import{getCommonApi,updateForm,commonUpdateApi,commonCreateApi}from\"redux/actions/common\";import SimpleReactValidator from'simple-react-validator';// import { Treatment, Payment, EditCart } from './cart/index';\nimport service from'assets/images/make-up-brush.png';import{Discount}from'./discount';import closeIcon from'assets/images/close.png';export var EditCartClass=/*#__PURE__*/function(_Component){_inherits(EditCartClass,_Component);var _super=_createSuper(EditCartClass);function EditCartClass(){var _this;_classCallCheck(this,EditCartClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{quantity:0,price:0,sales_staff:[],itemstatus:null,remark:\"\",focreason:null,holdreason:null,holditemqty:null,ratio:null},staffList:{dataList:[]},cartDetail:{},itemStatusList:[],holdReasonList:[],focReasonList:[],page:1};_this.componentWillMount=function(){console.log(_this.props,\"fgfsdgetrtrey\");// this.getCart();\n_this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});var basicApptDetail=_this.props.basicApptDetail;if(basicApptDetail.custId){var formFields=_this.state.formFields;// formFields[\"custId\"] = basicApptDetail.custId;\n// formFields[\"custName\"] = basicApptDetail.custName;\n_this.setState({formFields:formFields});}_this.getDropdownData();_this.getCartData();_this.getStafflist();};_this.getCartData=function(){_this.props.getCommonApi(\"itemcart/\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var status,data,cartDetail;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=key.status,data=key.data;cartDetail=_this.state.cartDetail;cartDetail=data;_this.setState({cartDetail:cartDetail});_this.getDataFromStore(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.getStafflist=function(data){var page=_this.state.page;_this.props.getCommonApi(\"empcartlist/?sales_staff=1&page=\".concat(page)).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key){var status,data,staffList;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:status=key.status,data=key.data;console.log(data,\"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");staffList=_this.state.staffList;staffList=data;_this.setState({staffList:staffList});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var page;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:page=_this.state.page;page=page+1;_context3.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context3.stop();}}},_callee3);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var page;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:page=_this.state.page;page=page-1;_context4.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context4.stop();}}},_callee4);}));_this.getDataFromStore=function(data){var formFields=_this.state.formFields;console.log(\"assdfasdfasdffgh\",formFields,data);formFields['quantity']=data.quantity;formFields['price']=data.price;_this.getsalsStaff(data.sales_staff);formFields['itemstatus']=data.itemstatus;formFields['remark']=data.remark;formFields['focreason']=data.focreason;formFields['discount_price']=data.discount_price;formFields['trans_amt']=data.trans_amt;formFields['holdreason']=data.holdreason;formFields['holditemqty']=data.holditemqty;formFields['deposit']=data.deposit;formFields['ratio']=data.ratio;_this.setState({formFields:formFields});};_this.getsalsStaff=function(data){var formFields=_this.state.formFields;formFields['sales_staff']=[];var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;formFields['sales_staff'].push(key.id);}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({formFields:formFields});};_this.getDropdownData=function(){var _this$state=_this.state,itemStatusList=_this$state.itemStatusList,holdReasonList=_this$state.holdReasonList,focReasonList=_this$state.focReasonList;_this.props.getCommonApi(\"itemstatus/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator2=_createForOfIteratorHelper(data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;itemStatusList.push({value:value.id,label:value.status_short_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({itemStatusList:itemStatusList});}});_this.props.getCommonApi(\"holditemsetup/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator3=_createForOfIteratorHelper(data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var value=_step3.value;holdReasonList.push({value:value.id,label:value.hold_desc});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.setState({holdReasonList:holdReasonList});}});_this.props.getCommonApi(\"focreason/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator4=_createForOfIteratorHelper(data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var value=_step4.value;focReasonList.push({value:value.id,label:value.foc_reason_ldesc});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.setState({focReasonList:focReasonList});}});};_this.getDateTime=function(data){var date=new Date(data);date=String(date).split(\" \");var date1=date[2]+\"th \"+date[1]+\", \"+date[3];var time=date[4].split(\":\");var time1=String(Number(time[0])>12?Number(time[0])-12:time[0])+\":\"+time[1]+(Number(time[0])>12?\"PM\":\"AM\");return time1+\", \"+date1;};_this.handleChange=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref5){var _ref5$target,value,name,formFields;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_ref5$target=_ref5.target,value=_ref5$target.value,name=_ref5$target.name;formFields=_this.state.formFields;formFields[name]=value;_context5.next=5;return _this.setState({formFields:formFields});case 5:if(name===\"quantity\"){_this.quantityChange();}else if(name===\"price\"){_this.priceChange();}// this.props.updateForm('customerDetail', formFields)\n// await this.props.updateForm('appointmentCustomerDetail', formFields)\ncase 6:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3){return _ref6.apply(this,arguments);};}();_this.quantityChange=function(){var _this$state2=_this.state,formFields=_this$state2.formFields,cartDetail=_this$state2.cartDetail;var total_disc=cartDetail.discount_amt+cartDetail.additional_discountamt;formFields['discount_price']=Number(formFields.price-total_disc).toFixed(2);var after_linedisc=(formFields.price-cartDetail.discount_amt)*formFields.quantity;formFields['trans_amt']=Number(after_linedisc-cartDetail.additional_discountamt).toFixed(2);formFields['deposit']=Number(after_linedisc-cartDetail.additional_discountamt).toFixed(2);_this.setState({formFields:formFields});};_this.priceChange=function(){var _this$state3=_this.state,formFields=_this$state3.formFields,cartDetail=_this$state3.cartDetail;var total_disc=cartDetail.discount_amt+cartDetail.additional_discountamt;formFields['discount_price']=Number(formFields.price-total_disc).toFixed(2);var after_linedisc=(formFields.price-cartDetail.discount_amt)*formFields.quantity;formFields['trans_amt']=Number(after_linedisc-cartDetail.additional_discountamt).toFixed(2);formFields['deposit']=Number(after_linedisc-cartDetail.additional_discountamt).toFixed(2);_this.setState({formFields:formFields});};_this.handleMultipleCustomer=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(_ref7){var _ref7$target,value,name,formFields;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_ref7$target=_ref7.target,value=_ref7$target.value,name=_ref7$target.name;formFields=_this.state.formFields;formFields[name]=value;_context6.next=5;return _this.setState({formFields:formFields});case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref8.apply(this,arguments);};}();_this.handleAddstaff=function(data){var _this$state4=_this.state,formFields=_this$state4.formFields,staffList=_this$state4.staffList;console.log(formFields,\"kjhafsdkjasdo\",staffList,formFields['sales_staff']);formFields['sales_staff'].push(data.id);formFields['sales_staff']=formFields['sales_staff'].reduce(function(a,b){if(a.indexOf(b)<0)a.push(b);return a;},[]);// formFields['ratio'] = Math.round(100 / formFields['sales_staff'].length);\n_this.setState({formFields:formFields});};_this.selectedStaff=function(id){var staffList=_this.state.staffList;var _iterator5=_createForOfIteratorHelper(staffList.dataList),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var key=_step5.value;if(key.id===id){console.log(\"kjhafsdkjasdo\",key.id,id,key.emp_name,key);return key.emp_name;}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}};_this.removeSalesStaff=function(id){var formFields=_this.state.formFields;formFields['sales_staff'].splice(id,1);// formFields['ratio'] = Math.round(100 / formFields['sales_staff'].length);\n_this.setState({formFields:formFields});};_this.handleUpdateCart=function(){var formFields=_this.state.formFields;if(_this.validator.allValid()){_this.props.commonUpdateApi(\"itemcart/\".concat(_this.props.id,\"/?sales_all=0&deposit=\").concat(formFields.deposit),formFields).then(function(key){var status=key.status,data=key.data;_this.props.handleModal();});}else{_this.validator.showMessages();}};return _this;}_createClass(EditCartClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state5=this.state,cartDetail=_this$state5.cartDetail,_this$state5$staffLis=_this$state5.staffList,staffList=_this$state5$staffLis===void 0?[]:_this$state5$staffLis,formFields=_this$state5.formFields;var _this$state6=this.state,itemStatusList=_this$state6.itemStatusList,holdReasonList=_this$state6.holdReasonList,focReasonList=_this$state6.focReasonList;console.log(this.state,\"sdfgsdfgsdfgdfg\");return/*#__PURE__*/React.createElement(\"div\",{className:\"row new-cart treatment-done\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"fs-18 font-700 mb-3 title\"},\"Edit Cart\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-left text-black common-label-text \"},cartDetail.item),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",src:cartDetail.stock_pic,alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,cartDetail.item_class),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Customer remark\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.remark,name:\"remark\",onChange:this.handleChange,className:\"customer-name\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"staff-listing d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"forward-button cursor-pointer\",onClick:this.handleBack},/*#__PURE__*/React.createElement(\"svg\",{width:\"6\",height:\"10\",viewBox:\"0 0 6 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M5 0.5L1 5L5 9.5\",stroke:\"#888888\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}))),staffList.dataList&&staffList.dataList.length>0?staffList.dataList.map(function(item,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mx-1 staff-list cursor-pointer\",key:index,onClick:function onClick(){return _this2.handleAddstaff(item);}},/*#__PURE__*/React.createElement(\"img\",{src:item.emp_pic,alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,item.emp_name)));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"back-button cursor-pointer\",onClick:this.handleNext},/*#__PURE__*/React.createElement(\"svg\",{width:\"5\",height:\"10\",viewBox:\"0 0 5 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M0.5 9.5L4.5 5L0.5 0.5\",stroke:\"#888888\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"})))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Sales Staff\"),/*#__PURE__*/React.createElement(\"div\",{className:\" d-flex mb-2\"},formFields.sales_staff.length>0?formFields.sales_staff.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"mx-1\",key:index},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},_this2.selectedStaff(item)),/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.removeSalesStaff(index);},className:\"close ml-2 cursor-pointer\",src:closeIcon,alt:\"\"}));}):\"\",this.validator.message('sales_staff',formFields.sales_staff,'required')),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Quantity\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.quantity,name:\"quantity\",onChange:this.handleChange,className:\"customer-name special\"}),this.validator.message('Quantity',formFields.quantity,'required'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Unit price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.price,name:\"price\",onChange:this.handleChange,className:\"customer-name\"})))),cartDetail.id?/*#__PURE__*/React.createElement(Discount,{cartData:cartDetail,discount_price:formFields.discount_price,id:this.props.id,handleRefresh:this.getCartData}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"D / Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.discount_price,name:\"discount_price\"// onChange={this.handleChange}\n,className:\"customer-name\",disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Transac Amount\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.trans_amt,name:\"trans_amt\"// onChange={this.handleChange}\n,className:\"customer-name\",disabled:true})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Deposit\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.deposit,name:\"deposit\",onChange:this.handleChange,className:\"customer-name\"}),this.validator.message('deposit',formFields.deposit,'required'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Item Status\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:itemStatusList,value:formFields.itemstatus,name:\"itemstatus\",onChange:this.handleChange,className:\"customer-name py-0\"})))),cartDetail.item_div===\"1\"?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Hold reason\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:holdReasonList,value:formFields.holdreason,name:\"holdreason\",onChange:this.handleChange,className:\"customer-name py-0\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Hold quantity\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.holditemqty,name:\"holditemqty\",onChange:this.handleChange,className:\"customer-name special\"})))):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"FOC reason\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:focReasonList,value:formFields.focreason,name:\"focreason\",onChange:this.handleChange,className:\"customer-name py-0\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Ratio\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formFields.ratio,name:\"ratio\",onChange:this.handleChange,className:\"customer-name\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pt-4 action-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\" fs-15 confirm\",label:\"Confirm\",outline:false,onClick:this.handleUpdateCart})))));}}]);return EditCartClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{selected_cstomer:state.common.selected_cstomer,basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({// getCustomer,\ngetCommonApi:getCommonApi,updateForm:updateForm,commonUpdateApi:commonUpdateApi,commonCreateApi:commonCreateApi},dispatch);};export var EditCart=connect(mapStateToProps,mapDispatchToProps)(EditCartClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/editCart.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","NormalTextarea","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonUpdateApi","commonCreateApi","SimpleReactValidator","service","Discount","closeIcon","EditCartClass","state","formFields","quantity","price","sales_staff","itemstatus","remark","focreason","holdreason","holditemqty","ratio","staffList","dataList","cartDetail","itemStatusList","holdReasonList","focReasonList","page","componentWillMount","console","log","props","validator","element","message","autoForceUpdate","basicApptDetail","custId","setState","getDropdownData","getCartData","getStafflist","id","then","key","status","data","getDataFromStore","handleNext","handleBack","getsalsStaff","discount_price","trans_amt","deposit","push","value","label","status_short_desc","hold_desc","foc_reason_ldesc","getDateTime","date","Date","String","split","date1","time","time1","Number","handleChange","target","name","quantityChange","priceChange","total_disc","discount_amt","additional_discountamt","toFixed","after_linedisc","handleMultipleCustomer","handleAddstaff","reduce","a","b","indexOf","selectedStaff","emp_name","removeSalesStaff","splice","handleUpdateCart","allValid","handleModal","showMessages","item","stock_pic","item_class","length","map","index","emp_pic","item_div","mapStateToProps","selected_cstomer","common","appointment","mapDispatchToProps","dispatch","EditCart"],"mappings":"qqCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,cAAP,CACA,OAASC,YAAT,CAAuBC,WAAvB,CAAoCC,YAApC,CAAkDC,WAAlD,CAA+DC,WAA/D,CAA4EC,YAA5E,CAA0FC,cAA1F,KAAgH,kBAAhH,CACA,OAASC,UAAT,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,OAASC,OAAT,KAAwB,SAAxB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,YAAT,CAAuBC,UAAvB,CAAmCC,eAAnC,CAAoDC,eAApD,KAA2E,sBAA3E,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wBAAjC,CACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,iCAApB,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAGA,UAAaC,CAAAA,aAAb,uVACIC,KADJ,CACY,CAEJC,UAAU,CAAE,CACRC,QAAQ,CAAE,CADF,CAERC,KAAK,CAAE,CAFC,CAGRC,WAAW,CAAE,EAHL,CAIRC,UAAU,CAAE,IAJJ,CAKRC,MAAM,CAAE,EALA,CAMRC,SAAS,CAAE,IANH,CAORC,UAAU,CAAE,IAPJ,CAQRC,WAAW,CAAE,IARL,CASRC,KAAK,CAAE,IATC,CAFR,CAeJC,SAAS,CAAE,CACPC,QAAQ,CAAE,EADH,CAfP,CAmBJC,UAAU,CAAE,EAnBR,CAoBJC,cAAc,CAAE,EApBZ,CAqBJC,cAAc,CAAE,EArBZ,CAsBJC,aAAa,CAAE,EAtBX,CAuBJC,IAAI,CAAE,CAvBF,CADZ,OA2BIC,kBA3BJ,CA2ByB,UAAM,CACvBC,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAjB,CAAwB,eAAxB,EACA;AACA,MAAKC,SAAL,CAAiB,GAAI3B,CAAAA,oBAAJ,CAAyB,CACtC4B,OAAO,CAAE,iBAAAC,OAAO,qBAAI,4BAAM,SAAS,CAAC,wCAAhB,EAA0DA,OAA1D,CAAJ,EADsB,CAEtCC,eAAe,8BAFuB,CAAzB,CAAjB,CAIA,GAAMC,CAAAA,eAAN,CAA0B,MAAKL,KAA/B,CAAMK,eAAN,CACA,GAAIA,eAAe,CAACC,MAApB,CAA4B,CACxB,GAAM1B,CAAAA,UAAN,CAAqB,MAAKD,KAA1B,CAAMC,UAAN,CACA;AACA;AACA,MAAK2B,QAAL,CAAc,CAAE3B,UAAU,CAAVA,UAAF,CAAd,EACH,CAED,MAAK4B,eAAL,GAEA,MAAKC,WAAL,GAEA,MAAKC,YAAL,GAEH,CAhDL,OAkDID,WAlDJ,CAkDkB,UAAM,CAChB,MAAKT,KAAL,CAAW9B,YAAX,oBAAoC,MAAK8B,KAAL,CAAWW,EAA/C,GAAqDC,IAArD,0FAA0D,iBAAOC,GAAP,6IAChDC,MADgD,CAC/BD,GAD+B,CAChDC,MADgD,CACxCC,IADwC,CAC/BF,GAD+B,CACxCE,IADwC,CAEhDvB,UAFgD,CAEjC,MAAKb,KAF4B,CAEhDa,UAFgD,CAGtDA,UAAU,CAAGuB,IAAb,CACA,MAAKR,QAAL,CAAc,CACVf,UAAU,CAAVA,UADU,CAAd,EAGA,MAAKwB,gBAAL,CAAsBD,IAAtB,EAPsD,sDAA1D,gEASH,CA5DL,OA8DIL,YA9DJ,CA8DmB,SAACK,IAAD,CAAU,CACrB,GAAMnB,CAAAA,IAAN,CAAe,MAAKjB,KAApB,CAAMiB,IAAN,CACA,MAAKI,KAAL,CAAW9B,YAAX,2CAA2D0B,IAA3D,GAAmEgB,IAAnE,2FAAwE,kBAAOC,GAAP,gJAC9DC,MAD8D,CAC7CD,GAD6C,CAC9DC,MAD8D,CACtDC,IADsD,CAC7CF,GAD6C,CACtDE,IADsD,CAEpEjB,OAAO,CAACC,GAAR,CAAYgB,IAAZ,CAAkB,8BAAlB,EACMzB,SAH8D,CAGhD,MAAKX,KAH2C,CAG9DW,SAH8D,CAIpEA,SAAS,CAAGyB,IAAZ,CACA,MAAKR,QAAL,CAAc,CACVjB,SAAS,CAATA,SADU,CAAd,EALoE,wDAAxE,kEASH,CAzEL,OA2EI2B,UA3EJ,sEA2EiB,iJACHrB,IADG,CACM,MAAKjB,KADX,CACHiB,IADG,CAETA,IAAI,CAAGA,IAAI,CAAG,CAAd,CAFS,uBAGH,OAAKW,QAAL,CAAc,CAChBX,IAAI,CAAJA,IADgB,CAAd,CAHG,QAMT,GAAIA,IAAI,CAAG,CAAX,CAAc,CACV,MAAKc,YAAL,GACH,CARQ,wDA3EjB,SAsFIQ,UAtFJ,sEAsFiB,iJACHtB,IADG,CACM,MAAKjB,KADX,CACHiB,IADG,CAETA,IAAI,CAAGA,IAAI,CAAG,CAAd,CAFS,uBAGH,OAAKW,QAAL,CAAc,CAChBX,IAAI,CAAJA,IADgB,CAAd,CAHG,QAMT,GAAIA,IAAI,CAAG,CAAX,CAAc,CACV,MAAKc,YAAL,GACH,CARQ,wDAtFjB,SAiGIM,gBAjGJ,CAiGuB,SAACD,IAAD,CAAU,CACzB,GAAMnC,CAAAA,UAAN,CAAqB,MAAKD,KAA1B,CAAMC,UAAN,CACAkB,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCnB,UAAhC,CAA4CmC,IAA5C,EACAnC,UAAU,CAAC,UAAD,CAAV,CAAyBmC,IAAI,CAAClC,QAA9B,CACAD,UAAU,CAAC,OAAD,CAAV,CAAsBmC,IAAI,CAACjC,KAA3B,CACA,MAAKqC,YAAL,CAAkBJ,IAAI,CAAChC,WAAvB,EACAH,UAAU,CAAC,YAAD,CAAV,CAA2BmC,IAAI,CAAC/B,UAAhC,CACAJ,UAAU,CAAC,QAAD,CAAV,CAAuBmC,IAAI,CAAC9B,MAA5B,CACAL,UAAU,CAAC,WAAD,CAAV,CAA0BmC,IAAI,CAAC7B,SAA/B,CACAN,UAAU,CAAC,gBAAD,CAAV,CAA+BmC,IAAI,CAACK,cAApC,CACAxC,UAAU,CAAC,WAAD,CAAV,CAA0BmC,IAAI,CAACM,SAA/B,CACAzC,UAAU,CAAC,YAAD,CAAV,CAA2BmC,IAAI,CAAC5B,UAAhC,CACAP,UAAU,CAAC,aAAD,CAAV,CAA4BmC,IAAI,CAAC3B,WAAjC,CACAR,UAAU,CAAC,SAAD,CAAV,CAAwBmC,IAAI,CAACO,OAA7B,CACA1C,UAAU,CAAC,OAAD,CAAV,CAAsBmC,IAAI,CAAC1B,KAA3B,CACA,MAAKkB,QAAL,CAAc,CACV3B,UAAU,CAAVA,UADU,CAAd,EAGH,CAnHL,OAqHIuC,YArHJ,CAqHmB,SAACJ,IAAD,CAAU,CACrB,GAAMnC,CAAAA,UAAN,CAAqB,MAAKD,KAA1B,CAAMC,UAAN,CACAA,UAAU,CAAC,aAAD,CAAV,CAA4B,EAA5B,CAFqB,yCAGLmC,IAHK,YAGrB,+CAAsB,IAAbF,CAAAA,GAAa,aAClBjC,UAAU,CAAC,aAAD,CAAV,CAA0B2C,IAA1B,CAA+BV,GAAG,CAACF,EAAnC,EACH,CALoB,qDAMrB,MAAKJ,QAAL,CAAc,CACV3B,UAAU,CAAVA,UADU,CAAd,EAGH,CA9HL,OAgII4B,eAhIJ,CAgIsB,UAAM,CACpB,gBAAwD,MAAK7B,KAA7D,CAAMc,cAAN,aAAMA,cAAN,CAAsBC,cAAtB,aAAsBA,cAAtB,CAAsCC,aAAtC,aAAsCA,aAAtC,CACA,MAAKK,KAAL,CAAW9B,YAAX,gBAAuC0C,IAAvC,CAA4C,SAACC,GAAD,CAAS,CACjD,GAAMC,CAAAA,MAAN,CAAuBD,GAAvB,CAAMC,MAAN,CAAcC,IAAd,CAAuBF,GAAvB,CAAcE,IAAd,CACA,GAAID,MAAM,GAAK,GAAf,CAAoB,2CACEC,IADF,aAChB,kDAAwB,IAAfS,CAAAA,KAAe,cACpB/B,cAAc,CAAC8B,IAAf,CAAoB,CAAEC,KAAK,CAAEA,KAAK,CAACb,EAAf,CAAmBc,KAAK,CAAED,KAAK,CAACE,iBAAhC,CAApB,EACH,CAHe,uDAIhB,MAAKnB,QAAL,CAAc,CAAEd,cAAc,CAAdA,cAAF,CAAd,EACH,CACJ,CARD,EASA,MAAKO,KAAL,CAAW9B,YAAX,mBAA0C0C,IAA1C,CAA+C,SAACC,GAAD,CAAS,CACpD,GAAMC,CAAAA,MAAN,CAAuBD,GAAvB,CAAMC,MAAN,CAAcC,IAAd,CAAuBF,GAAvB,CAAcE,IAAd,CACA,GAAID,MAAM,GAAK,GAAf,CAAoB,2CACEC,IADF,aAChB,kDAAwB,IAAfS,CAAAA,KAAe,cACpB9B,cAAc,CAAC6B,IAAf,CAAoB,CAAEC,KAAK,CAAEA,KAAK,CAACb,EAAf,CAAmBc,KAAK,CAAED,KAAK,CAACG,SAAhC,CAApB,EACH,CAHe,uDAIhB,MAAKpB,QAAL,CAAc,CAAEb,cAAc,CAAdA,cAAF,CAAd,EACH,CACJ,CARD,EASA,MAAKM,KAAL,CAAW9B,YAAX,eAAsC0C,IAAtC,CAA2C,SAACC,GAAD,CAAS,CAChD,GAAMC,CAAAA,MAAN,CAAuBD,GAAvB,CAAMC,MAAN,CAAcC,IAAd,CAAuBF,GAAvB,CAAcE,IAAd,CACA,GAAID,MAAM,GAAK,GAAf,CAAoB,2CACEC,IADF,aAChB,kDAAwB,IAAfS,CAAAA,KAAe,cACpB7B,aAAa,CAAC4B,IAAd,CAAmB,CAAEC,KAAK,CAAEA,KAAK,CAACb,EAAf,CAAmBc,KAAK,CAAED,KAAK,CAACI,gBAAhC,CAAnB,EACH,CAHe,uDAIhB,MAAKrB,QAAL,CAAc,CAAEZ,aAAa,CAAbA,aAAF,CAAd,EACH,CACJ,CARD,EAUH,CA9JL,OAiKIkC,WAjKJ,CAiKkB,SAACd,IAAD,CAAU,CACpB,GAAIe,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAShB,IAAT,CAAX,CACAe,IAAI,CAAGE,MAAM,CAACF,IAAD,CAAN,CAAaG,KAAb,CAAmB,GAAnB,CAAP,CACA,GAAIC,CAAAA,KAAK,CAAGJ,IAAI,CAAC,CAAD,CAAJ,CAAU,KAAV,CAAkBA,IAAI,CAAC,CAAD,CAAtB,CAA4B,IAA5B,CAAmCA,IAAI,CAAC,CAAD,CAAnD,CACA,GAAIK,CAAAA,IAAI,CAAGL,IAAI,CAAC,CAAD,CAAJ,CAAQG,KAAR,CAAc,GAAd,CAAX,CACA,GAAIG,CAAAA,KAAK,CAAGJ,MAAM,CAACK,MAAM,CAACF,IAAI,CAAC,CAAD,CAAL,CAAN,CAAkB,EAAlB,CAAwBE,MAAM,CAACF,IAAI,CAAC,CAAD,CAAL,CAAN,CAAkB,EAA1C,CAAgDA,IAAI,CAAC,CAAD,CAArD,CAAN,CAAkE,GAAlE,CAAwEA,IAAI,CAAC,CAAD,CAA5E,EAAmFE,MAAM,CAACF,IAAI,CAAC,CAAD,CAAL,CAAN,CAAkB,EAAlB,CAAuB,IAAvB,CAA8B,IAAjH,CAAZ,CACA,MAAOC,CAAAA,KAAK,CAAG,IAAR,CAAeF,KAAtB,CACH,CAxKL,OA2KII,YA3KJ,2FA2KmB,uMAASC,MAAT,CAAmBf,KAAnB,cAAmBA,KAAnB,CAA0BgB,IAA1B,cAA0BA,IAA1B,CACL5D,UADK,CACU,MAAKD,KADf,CACLC,UADK,CAEXA,UAAU,CAAC4D,IAAD,CAAV,CAAmBhB,KAAnB,CAFW,uBAGL,OAAKjB,QAAL,CAAc,CAChB3B,UAAU,CAAVA,UADgB,CAAd,CAHK,QAMX,GAAI4D,IAAI,GAAK,UAAb,CAAyB,CACrB,MAAKC,cAAL,GACH,CAFD,IAEO,IAAID,IAAI,GAAK,OAAb,CAAsB,CACzB,MAAKE,WAAL,GACH,CACD;AACA;AAZW,wDA3KnB,uEA0LID,cA1LJ,CA0LqB,UAAM,CACnB,iBAAiC,MAAK9D,KAAtC,CAAMC,UAAN,cAAMA,UAAN,CAAkBY,UAAlB,cAAkBA,UAAlB,CAEA,GAAImD,CAAAA,UAAU,CAAGnD,UAAU,CAACoD,YAAX,CAA0BpD,UAAU,CAACqD,sBAAtD,CAEAjE,UAAU,CAAC,gBAAD,CAAV,CAA+ByD,MAAM,CAACzD,UAAU,CAACE,KAAX,CAAmB6D,UAApB,CAAN,CAAsCG,OAAtC,CAA8C,CAA9C,CAA/B,CAEA,GAAIC,CAAAA,cAAc,CAAG,CAACnE,UAAU,CAACE,KAAX,CAAmBU,UAAU,CAACoD,YAA/B,EAA+ChE,UAAU,CAACC,QAA/E,CAEAD,UAAU,CAAC,WAAD,CAAV,CAA0ByD,MAAM,CAACU,cAAc,CAAGvD,UAAU,CAACqD,sBAA7B,CAAN,CAA2DC,OAA3D,CAAmE,CAAnE,CAA1B,CAEAlE,UAAU,CAAC,SAAD,CAAV,CAAwByD,MAAM,CAACU,cAAc,CAAGvD,UAAU,CAACqD,sBAA7B,CAAN,CAA2DC,OAA3D,CAAmE,CAAnE,CAAxB,CAEA,MAAKvC,QAAL,CAAc,CACV3B,UAAU,CAAVA,UADU,CAAd,EAGH,CA1ML,OA4MI8D,WA5MJ,CA4MkB,UAAM,CAChB,iBAAiC,MAAK/D,KAAtC,CAAMC,UAAN,cAAMA,UAAN,CAAkBY,UAAlB,cAAkBA,UAAlB,CAEA,GAAImD,CAAAA,UAAU,CAAGnD,UAAU,CAACoD,YAAX,CAA0BpD,UAAU,CAACqD,sBAAtD,CAEAjE,UAAU,CAAC,gBAAD,CAAV,CAA+ByD,MAAM,CAACzD,UAAU,CAACE,KAAX,CAAmB6D,UAApB,CAAN,CAAsCG,OAAtC,CAA8C,CAA9C,CAA/B,CAEA,GAAIC,CAAAA,cAAc,CAAG,CAACnE,UAAU,CAACE,KAAX,CAAmBU,UAAU,CAACoD,YAA/B,EAA+ChE,UAAU,CAACC,QAA/E,CAEAD,UAAU,CAAC,WAAD,CAAV,CAA0ByD,MAAM,CAACU,cAAc,CAAGvD,UAAU,CAACqD,sBAA7B,CAAN,CAA2DC,OAA3D,CAAmE,CAAnE,CAA1B,CAEAlE,UAAU,CAAC,SAAD,CAAV,CAAwByD,MAAM,CAACU,cAAc,CAAGvD,UAAU,CAACqD,sBAA7B,CAAN,CAA2DC,OAA3D,CAAmE,CAAnE,CAAxB,CAEA,MAAKvC,QAAL,CAAc,CACV3B,UAAU,CAAVA,UADU,CAAd,EAGH,CA5NL,OA8NIoE,sBA9NJ,2FA8N6B,uMAAST,MAAT,CAAmBf,KAAnB,cAAmBA,KAAnB,CAA0BgB,IAA1B,cAA0BA,IAA1B,CACf5D,UADe,CACA,MAAKD,KADL,CACfC,UADe,CAErBA,UAAU,CAAC4D,IAAD,CAAV,CAAmBhB,KAAnB,CAFqB,uBAGf,OAAKjB,QAAL,CAAc,CAChB3B,UAAU,CAAVA,UADgB,CAAd,CAHe,yDA9N7B,uEAsOIqE,cAtOJ,CAsOqB,SAAClC,IAAD,CAAU,CACvB,iBAAgC,MAAKpC,KAArC,CAAMC,UAAN,cAAMA,UAAN,CAAkBU,SAAlB,cAAkBA,SAAlB,CACAQ,OAAO,CAACC,GAAR,CAAYnB,UAAZ,CAAwB,eAAxB,CAAyCU,SAAzC,CAAoDV,UAAU,CAAC,aAAD,CAA9D,EACAA,UAAU,CAAC,aAAD,CAAV,CAA0B2C,IAA1B,CAA+BR,IAAI,CAACJ,EAApC,EACA/B,UAAU,CAAC,aAAD,CAAV,CAA4BA,UAAU,CAAC,aAAD,CAAV,CAA0BsE,MAA1B,CAAiC,SAAUC,CAAV,CAAaC,CAAb,CAAgB,CAAE,GAAID,CAAC,CAACE,OAAF,CAAUD,CAAV,EAAe,CAAnB,CAAsBD,CAAC,CAAC5B,IAAF,CAAO6B,CAAP,EAAW,MAAOD,CAAAA,CAAP,CAAW,CAA/F,CAAiG,EAAjG,CAA5B,CACA;AACA,MAAK5C,QAAL,CAAc,CACV3B,UAAU,CAAVA,UADU,CAAd,EAGH,CA/OL,OAiPI0E,aAjPJ,CAiPoB,SAAC3C,EAAD,CAAQ,CACpB,GAAMrB,CAAAA,SAAN,CAAoB,MAAKX,KAAzB,CAAMW,SAAN,CADoB,0CAEJA,SAAS,CAACC,QAFN,aAEpB,kDAAoC,IAA3BsB,CAAAA,GAA2B,cAChC,GAAIA,GAAG,CAACF,EAAJ,GAAWA,EAAf,CAAmB,CACfb,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6Bc,GAAG,CAACF,EAAjC,CAAqCA,EAArC,CAAyCE,GAAG,CAAC0C,QAA7C,CAAuD1C,GAAvD,EACA,MAAOA,CAAAA,GAAG,CAAC0C,QAAX,CACH,CACJ,CAPmB,uDAQvB,CAzPL,OA2PIC,gBA3PJ,CA2PuB,SAAC7C,EAAD,CAAQ,CACvB,GAAM/B,CAAAA,UAAN,CAAqB,MAAKD,KAA1B,CAAMC,UAAN,CACAA,UAAU,CAAC,aAAD,CAAV,CAA0B6E,MAA1B,CAAiC9C,EAAjC,CAAqC,CAArC,EACA;AACA,MAAKJ,QAAL,CAAc,CAAE3B,UAAU,CAAVA,UAAF,CAAd,EACH,CAhQL,OAmQI8E,gBAnQJ,CAmQuB,UAAM,CACrB,GAAM9E,CAAAA,UAAN,CAAqB,MAAKD,KAA1B,CAAMC,UAAN,CACA,GAAI,MAAKqB,SAAL,CAAe0D,QAAf,EAAJ,CAA+B,CAC3B,MAAK3D,KAAL,CAAW5B,eAAX,oBAAuC,MAAK4B,KAAL,CAAWW,EAAlD,kCAA6E/B,UAAU,CAAC0C,OAAxF,EAAmG1C,UAAnG,EAA+GgC,IAA/G,CAAoH,SAACC,GAAD,CAAS,CACzH,GAAMC,CAAAA,MAAN,CAAuBD,GAAvB,CAAMC,MAAN,CAAcC,IAAd,CAAuBF,GAAvB,CAAcE,IAAd,CACA,MAAKf,KAAL,CAAW4D,WAAX,GACH,CAHD,EAIH,CALD,IAKO,CACH,MAAK3D,SAAL,CAAe4D,YAAf,GACH,CACJ,CA7QL,+DA+QI,iBAAS,iBACL,iBAAiD,KAAKlF,KAAtD,CAAMa,UAAN,cAAMA,UAAN,oCAAkBF,SAAlB,CAAkBA,SAAlB,gCAA8B,EAA9B,uBAAkCV,UAAlC,cAAkCA,UAAlC,CACA,iBAAwD,KAAKD,KAA7D,CAAMc,cAAN,cAAMA,cAAN,CAAsBC,cAAtB,cAAsBA,cAAtB,CAAsCC,aAAtC,cAAsCA,aAAtC,CACAG,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAjB,CAAwB,iBAAxB,EACA,mBACI,2BAAK,SAAS,CAAC,6BAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,yBAAG,SAAS,CAAC,2BAAb,cADJ,CADJ,cAII,2BAAK,SAAS,CAAC,YAAf,eACI,yBAAG,SAAS,CAAC,yCAAb,EACKa,UAAU,CAACsE,IADhB,CADJ,cAII,2BAAK,KAAK,CAAC,KAAX,CAAiB,GAAG,CAAEtE,UAAU,CAACuE,SAAjC,CAA4C,GAAG,CAAE,EAAjD,EAJJ,cAKI,6BAAIvE,UAAU,CAACwE,UAAf,CALJ,cAmBI,6BAAO,SAAS,CAAC,yCAAjB,oBAnBJ,cAsBI,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAEpF,UAAU,CAACK,MAHtB,CAII,IAAI,CAAC,QAJT,CAKI,QAAQ,CAAE,KAAKqD,YALnB,CAMI,SAAS,CAAC,eANd,EADJ,CAtBJ,CAJJ,cAsCI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,CAAC,sBAAf,eACI,2BAAK,SAAS,CAAC,+BAAf,CAA+C,OAAO,CAAE,KAAKpB,UAA7D,eACI,2BAAK,KAAK,CAAC,GAAX,CAAe,MAAM,CAAC,IAAtB,CAA2B,OAAO,CAAC,UAAnC,CAA8C,IAAI,CAAC,MAAnD,CAA0D,KAAK,CAAC,4BAAhE,eACI,4BAAM,CAAC,CAAC,kBAAR,CAA2B,MAAM,CAAC,SAAlC,CAA4C,iBAAe,OAA3D,CAAmE,kBAAgB,OAAnF,EADJ,CADJ,CADJ,CAOS5B,SAAS,CAACC,QAAV,EAAsBD,SAAS,CAACC,QAAV,CAAmB0E,MAAnB,CAA4B,CAAnD,CAAwD3E,SAAS,CAACC,QAAV,CAAmB2E,GAAnB,CAAuB,SAACJ,IAAD,CAAOK,KAAP,CAAiB,CAC5F,mBACI,qDACI,2BAAK,SAAS,CAAC,gCAAf,CAAgD,GAAG,CAAEA,KAArD,CAA4D,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClB,cAAL,CAAoBa,IAApB,CAAN,EAArE,eACI,2BAAK,GAAG,CAAEA,IAAI,CAACM,OAAf,CAAwB,GAAG,CAAC,EAA5B,EADJ,cAEI,6BAAIN,IAAI,CAACP,QAAT,CAFJ,CADJ,CADJ,CAOH,CARuD,CAAxD,CAQK,EAfb,cAkBI,2BAAK,SAAS,CAAC,4BAAf,CAA4C,OAAO,CAAE,KAAKtC,UAA1D,eACI,2BAAK,KAAK,CAAC,GAAX,CAAe,MAAM,CAAC,IAAtB,CAA2B,OAAO,CAAC,UAAnC,CAA8C,IAAI,CAAC,MAAnD,CAA0D,KAAK,CAAC,4BAAhE,eACI,4BAAM,CAAC,CAAC,wBAAR,CAAiC,MAAM,CAAC,SAAxC,CAAkD,iBAAe,OAAjE,CAAyE,kBAAgB,OAAzF,EADJ,CADJ,CAlBJ,CADJ,cAyBI,6BAAO,SAAS,CAAC,yCAAjB,gBAzBJ,cA4BI,2BAAK,SAAS,CAAC,cAAf,EAEKrC,UAAU,CAACG,WAAX,CAAuBkF,MAAvB,CAAgC,CAAhC,CAAoCrF,UAAU,CAACG,WAAX,CAAuBmF,GAAvB,CAA2B,SAACJ,IAAD,CAAOK,KAAP,CAAiB,CAE7E,mBACI,2BAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAEA,KAA3B,eACI,4BAAM,SAAS,CAAC,EAAhB,EAAoB,MAAI,CAACb,aAAL,CAAmBQ,IAAnB,CAApB,CADJ,cAEI,2BAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACN,gBAAL,CAAsBW,KAAtB,CAAN,EAAd,CAAkD,SAAS,CAAC,2BAA5D,CAAwF,GAAG,CAAE1F,SAA7F,CAAwG,GAAG,CAAC,EAA5G,EAFJ,CADJ,CAKH,CAPoC,CAApC,CAOI,EATT,CAWK,KAAKwB,SAAL,CAAeE,OAAf,CAAuB,aAAvB,CAAsCvB,UAAU,CAACG,WAAjD,CAA8D,UAA9D,CAXL,CA5BJ,cA0CI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,aADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAEH,UAAU,CAACC,QAHtB,CAII,IAAI,CAAC,UAJT,CAKI,QAAQ,CAAE,KAAKyD,YALnB,CAMI,SAAS,CAAC,uBANd,EADJ,CASK,KAAKrC,SAAL,CAAeE,OAAf,CAAuB,UAAvB,CAAmCvB,UAAU,CAACC,QAA9C,CAAwD,UAAxD,CATL,CAJJ,CADJ,cAiBI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,eADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAED,UAAU,CAACE,KAHtB,CAII,IAAI,CAAC,OAJT,CAKI,QAAQ,CAAE,KAAKwD,YALnB,CAMI,SAAS,CAAC,eANd,EADJ,CAJJ,CAjBJ,CA1CJ,CA6EK9C,UAAU,CAACmB,EAAX,cAAgB,oBAAC,QAAD,EAAU,QAAQ,CAAEnB,UAApB,CAAgC,cAAc,CAAIZ,UAAU,CAACwC,cAA7D,CAA6E,EAAE,CAAE,KAAKpB,KAAL,CAAWW,EAA5F,CAAgG,aAAa,CAAE,KAAKF,WAApH,EAAhB,CAA+J,EA7EpK,cA+EI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,cADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAE7B,UAAU,CAACwC,cAHtB,CAII,IAAI,CAAC,gBACL;AALJ,CAMI,SAAS,CAAC,eANd,CAOI,QAAQ,CAAE,IAPd,EADJ,CAJJ,CADJ,cAkBI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,mBADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAExC,UAAU,CAACyC,SAHtB,CAII,IAAI,CAAC,WACL;AALJ,CAMI,SAAS,CAAC,eANd,CAOI,QAAQ,CAAE,IAPd,EADJ,CAJJ,CAlBJ,CA/EJ,cAmHI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,YADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAEzC,UAAU,CAAC0C,OAHtB,CAII,IAAI,CAAC,SAJT,CAKI,QAAQ,CAAE,KAAKgB,YALnB,CAMI,SAAS,CAAC,eANd,EADJ,CASK,KAAKrC,SAAL,CAAeE,OAAf,CAAuB,SAAvB,CAAkCvB,UAAU,CAAC0C,OAA7C,CAAsD,UAAtD,CATL,CAJJ,CADJ,cAiBI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,gBADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,YACG;AADJ,EAEI,OAAO,CAAE7B,cAFb,CAGI,KAAK,CAAEb,UAAU,CAACI,UAHtB,CAII,IAAI,CAAC,YAJT,CAKI,QAAQ,CAAE,KAAKsD,YALnB,CAMI,SAAS,CAAC,oBANd,EADJ,CAJJ,CAjBJ,CAnHJ,CAsJQ9C,UAAU,CAAC6E,QAAX,GAAwB,GAAxB,cACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,gBADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,YACG;AADJ,EAEI,OAAO,CAAE3E,cAFb,CAGI,KAAK,CAAEd,UAAU,CAACO,UAHtB,CAII,IAAI,CAAC,YAJT,CAKI,QAAQ,CAAE,KAAKmD,YALnB,CAMI,SAAS,CAAC,oBANd,EADJ,CAJJ,CADJ,cAiBI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,kBADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAE1D,UAAU,CAACQ,WAHtB,CAII,IAAI,CAAC,aAJT,CAKI,QAAQ,CAAE,KAAKkD,YALnB,CAMI,SAAS,CAAC,uBANd,EADJ,CAJJ,CAjBJ,CADJ,CAkCa,EAxLrB,cA2LI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,eADJ,cAII,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,YACG;AADJ,EAEI,OAAO,CAAE3C,aAFb,CAGI,KAAK,CAAEf,UAAU,CAACM,SAHtB,CAII,IAAI,CAAC,WAJT,CAKI,QAAQ,CAAE,KAAKoD,YALnB,CAMI,SAAS,CAAC,oBANd,EADJ,CAJJ,CADJ,cAiBI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,yCAAjB,UADJ,cAII,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,WACG;AACA;AAFJ,EAGI,KAAK,CAAE1D,UAAU,CAACS,KAHtB,CAII,IAAI,CAAC,OAJT,CAKI,QAAQ,CAAE,KAAKiD,YALnB,CAMI,SAAS,CAAC,eANd,EADJ,CAJJ,CAjBJ,CA3LJ,CAtCJ,cAuQI,2BAAK,SAAS,CAAC,wBAAf,eACI,2BAAK,SAAS,CAAC,KAAf,eAEI,2BAAK,SAAS,CAAC,oBAAf,eAEI,oBAAC,YAAD,EACI,WAAW,CAAE,MADjB,CAEI,MAAM,CAAE,IAFZ,CAGI,SAAS,CAAC,gBAHd,CAII,KAAK,CAAC,SAJV,CAKI,OAAO,CAAE,KALb,CAMI,OAAO,CAAE,KAAKoB,gBANlB,EAFJ,CAFJ,CADJ,CAvQJ,CADJ,CA4RH,CA/iBL,2BAAmCrG,SAAnC,EAmjBA,GAAMiH,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC3F,KAAD,QAAY,CAChC4F,gBAAgB,CAAE5F,KAAK,CAAC6F,MAAN,CAAaD,gBADC,CAEhClE,eAAe,CAAE1B,KAAK,CAAC8F,WAAN,CAAkBpE,eAFH,CAAZ,EAAxB,CAKA,GAAMqE,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC,MAAO1G,CAAAA,kBAAkB,CAAC,CACtB;AACAC,YAAY,CAAZA,YAFsB,CAGtBC,UAAU,CAAVA,UAHsB,CAItBC,eAAe,CAAfA,eAJsB,CAKtBC,eAAe,CAAfA,eALsB,CAAD,CAMtBsG,QANsB,CAAzB,CAOH,CARD,CAUA,MAAO,IAAMC,CAAAA,QAAQ,CAAG5G,OAAO,CAACsG,eAAD,CAAkBI,kBAAlB,CAAP,CAA6ChG,aAA7C,CAAjB","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper, NormalTextarea } from 'component/common';\r\nimport { dateFormat } from 'service/helperFunctions';\r\nimport _ from 'lodash';\r\nimport { history } from 'helpers';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, updateForm, commonUpdateApi, commonCreateApi } from \"redux/actions/common\"\r\nimport SimpleReactValidator from 'simple-react-validator';\r\n// import { Treatment, Payment, EditCart } from './cart/index';\r\nimport service from 'assets/images/make-up-brush.png';\r\nimport { Discount } from './discount';\r\nimport closeIcon from 'assets/images/close.png';\r\n\r\n\r\nexport class EditCartClass extends Component {\r\n    state = {\r\n\r\n        formFields: {\r\n            quantity: 0,\r\n            price: 0,\r\n            sales_staff: [],\r\n            itemstatus: null,\r\n            remark: \"\",\r\n            focreason: null,\r\n            holdreason: null,\r\n            holditemqty: null,\r\n            ratio: null\r\n\r\n        },\r\n\r\n        staffList: {\r\n            dataList: []\r\n        },\r\n\r\n        cartDetail: {},\r\n        itemStatusList: [],\r\n        holdReasonList: [],\r\n        focReasonList: [],\r\n        page: 1\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        console.log(this.props, \"fgfsdgetrtrey\")\r\n        // this.getCart();\r\n        this.validator = new SimpleReactValidator({\r\n            element: message => <span className=\"error-message text-danger validNo fs14\">{message}</span>,\r\n            autoForceUpdate: this,\r\n        });\r\n        let { basicApptDetail } = this.props;\r\n        if (basicApptDetail.custId) {\r\n            let { formFields } = this.state;\r\n            // formFields[\"custId\"] = basicApptDetail.custId;\r\n            // formFields[\"custName\"] = basicApptDetail.custName;\r\n            this.setState({ formFields });\r\n        }\r\n\r\n        this.getDropdownData();\r\n\r\n        this.getCartData();\r\n\r\n        this.getStafflist();\r\n\r\n    }\r\n\r\n    getCartData = () => {\r\n        this.props.getCommonApi(`itemcart/${this.props.id}`).then(async (key) => {\r\n            let { status, data } = key;\r\n            let { cartDetail } = this.state;\r\n            cartDetail = data;\r\n            this.setState({\r\n                cartDetail\r\n            })\r\n            this.getDataFromStore(data);\r\n        })\r\n    }\r\n\r\n    getStafflist = (data) => {\r\n        let { page } = this.state;\r\n        this.props.getCommonApi(`empcartlist/?sales_staff=1&page=${page}`).then(async (key) => {\r\n            let { status, data } = key;\r\n            console.log(data, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\")\r\n            let { staffList } = this.state;\r\n            staffList = data;\r\n            this.setState({\r\n                staffList\r\n            })\r\n        })\r\n    }\r\n\r\n    handleNext = async () => {\r\n        let { page } = this.state;\r\n        page = page + 1;\r\n        await this.setState({\r\n            page\r\n        })\r\n        if (page > 0) {\r\n            this.getStafflist();\r\n        }\r\n    }\r\n\r\n    handleBack = async () => {\r\n        let { page } = this.state;\r\n        page = page - 1;\r\n        await this.setState({\r\n            page\r\n        })\r\n        if (page > 0) {\r\n            this.getStafflist();\r\n        }\r\n    }\r\n\r\n    getDataFromStore = (data) => {\r\n        let { formFields } = this.state;\r\n        console.log(\"assdfasdfasdffgh\", formFields, data)\r\n        formFields['quantity'] = data.quantity;\r\n        formFields['price'] = data.price;\r\n        this.getsalsStaff(data.sales_staff);\r\n        formFields['itemstatus'] = data.itemstatus;\r\n        formFields['remark'] = data.remark;\r\n        formFields['focreason'] = data.focreason;\r\n        formFields['discount_price'] = data.discount_price;\r\n        formFields['trans_amt'] = data.trans_amt;\r\n        formFields['holdreason'] = data.holdreason;\r\n        formFields['holditemqty'] = data.holditemqty;\r\n        formFields['deposit'] = data.deposit;\r\n        formFields['ratio'] = data.ratio;\r\n        this.setState({\r\n            formFields\r\n        })\r\n    }\r\n\r\n    getsalsStaff = (data) => {\r\n        let { formFields } = this.state;\r\n        formFields['sales_staff'] = [];\r\n        for (let key of data) {\r\n            formFields['sales_staff'].push(key.id);\r\n        }\r\n        this.setState({\r\n            formFields\r\n        })\r\n    }\r\n\r\n    getDropdownData = () => {\r\n        let { itemStatusList, holdReasonList, focReasonList } = this.state;\r\n        this.props.getCommonApi(`itemstatus/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    itemStatusList.push({ value: value.id, label: value.status_short_desc })\r\n                }\r\n                this.setState({ itemStatusList })\r\n            }\r\n        })\r\n        this.props.getCommonApi(`holditemsetup/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    holdReasonList.push({ value: value.id, label: value.hold_desc })\r\n                }\r\n                this.setState({ holdReasonList })\r\n            }\r\n        })\r\n        this.props.getCommonApi(`focreason/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    focReasonList.push({ value: value.id, label: value.foc_reason_ldesc })\r\n                }\r\n                this.setState({ focReasonList })\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    getDateTime = (data) => {\r\n        let date = new Date(data)\r\n        date = String(date).split(\" \")\r\n        let date1 = date[2] + \"th \" + date[1] + \", \" + date[3]\r\n        let time = date[4].split(\":\")\r\n        let time1 = String(Number(time[0]) > 12 ? (Number(time[0]) - 12) : time[0]) + \":\" + time[1] + (Number(time[0]) > 12 ? \"PM\" : \"AM\")\r\n        return time1 + \", \" + date1\r\n    }\r\n\r\n\r\n    handleChange = async ({ target: { value, name } }) => {\r\n        let { formFields } = this.state;\r\n        formFields[name] = value;\r\n        await this.setState({\r\n            formFields,\r\n        });\r\n        if (name === \"quantity\") {\r\n            this.quantityChange();\r\n        } else if (name === \"price\") {\r\n            this.priceChange();\r\n        }\r\n        // this.props.updateForm('customerDetail', formFields)\r\n        // await this.props.updateForm('appointmentCustomerDetail', formFields)\r\n    };\r\n\r\n    quantityChange = () => {\r\n        let { formFields, cartDetail } = this.state;\r\n\r\n        let total_disc = cartDetail.discount_amt + cartDetail.additional_discountamt\r\n\r\n        formFields['discount_price'] = Number(formFields.price - total_disc).toFixed(2)\r\n\r\n        let after_linedisc = (formFields.price - cartDetail.discount_amt) * formFields.quantity\r\n\r\n        formFields['trans_amt'] = Number(after_linedisc - cartDetail.additional_discountamt).toFixed(2);\r\n\r\n        formFields['deposit'] = Number(after_linedisc - cartDetail.additional_discountamt).toFixed(2);\r\n\r\n        this.setState({\r\n            formFields\r\n        })\r\n    }\r\n\r\n    priceChange = () => {\r\n        let { formFields, cartDetail } = this.state;\r\n\r\n        let total_disc = cartDetail.discount_amt + cartDetail.additional_discountamt\r\n\r\n        formFields['discount_price'] = Number(formFields.price - total_disc).toFixed(2)\r\n\r\n        let after_linedisc = (formFields.price - cartDetail.discount_amt) * formFields.quantity\r\n\r\n        formFields['trans_amt'] = Number(after_linedisc - cartDetail.additional_discountamt).toFixed(2)\r\n\r\n        formFields['deposit'] = Number(after_linedisc - cartDetail.additional_discountamt).toFixed(2)\r\n\r\n        this.setState({\r\n            formFields\r\n        })\r\n    }\r\n\r\n    handleMultipleCustomer = async ({ target: { value, name } }) => {\r\n        let { formFields } = this.state;\r\n        formFields[name] = value;\r\n        await this.setState({\r\n            formFields,\r\n        });\r\n    };\r\n\r\n    handleAddstaff = (data) => {\r\n        let { formFields, staffList } = this.state;\r\n        console.log(formFields, \"kjhafsdkjasdo\", staffList, formFields['sales_staff'])\r\n        formFields['sales_staff'].push(data.id);\r\n        formFields['sales_staff'] = formFields['sales_staff'].reduce(function (a, b) { if (a.indexOf(b) < 0) a.push(b); return a; }, []);\r\n        // formFields['ratio'] = Math.round(100 / formFields['sales_staff'].length);\r\n        this.setState({\r\n            formFields\r\n        })\r\n    }\r\n\r\n    selectedStaff = (id) => {\r\n        let { staffList } = this.state;\r\n        for (let key of staffList.dataList) {\r\n            if (key.id === id) {\r\n                console.log(\"kjhafsdkjasdo\", key.id, id, key.emp_name, key)\r\n                return key.emp_name;\r\n            }\r\n        }\r\n    }\r\n\r\n    removeSalesStaff = (id) => {\r\n        let { formFields } = this.state;\r\n        formFields['sales_staff'].splice(id, 1);\r\n        // formFields['ratio'] = Math.round(100 / formFields['sales_staff'].length);\r\n        this.setState({ formFields });\r\n    }\r\n\r\n\r\n    handleUpdateCart = () => {\r\n        let { formFields } = this.state;\r\n        if (this.validator.allValid()) {\r\n            this.props.commonUpdateApi(`itemcart/${this.props.id}/?sales_all=0&deposit=${formFields.deposit}`, formFields).then((key) => {\r\n                let { status, data } = key;\r\n                this.props.handleModal();\r\n            })\r\n        } else {\r\n            this.validator.showMessages();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { cartDetail, staffList = [], formFields } = this.state;\r\n        let { itemStatusList, holdReasonList, focReasonList } = this.state;\r\n        console.log(this.state, \"sdfgsdfgsdfgdfg\")\r\n        return (\r\n            <div className=\"row new-cart treatment-done\">\r\n                <div className=\"col-12\">\r\n                    <p className=\"fs-18 font-700 mb-3 title\">Edit Cart</p>\r\n                </div>\r\n                <div className=\"col-4 mb-2\">\r\n                    <p className=\"text-left text-black common-label-text \">\r\n                        {cartDetail.item}\r\n                    </p>\r\n                    <img width=\"100\" src={cartDetail.stock_pic} alt={\"\"} />\r\n                    <p>{cartDetail.item_class}</p>\r\n                    {/* <label className=\"text-left text-black common-label-text \">\r\n                        Products used\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                        <NormalInput\r\n                            // placeholder=\"Enter here\"\r\n                            // options={siteList}\r\n                            value={formFields.productUsed}\r\n                            name=\"productUsed\"\r\n                            onChange={this.handleChange}\r\n                            className=\"customer-name\"\r\n                        />\r\n                    </div> removed my monica*/}\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                        Customer remark\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                        <NormalInput\r\n                            // placeholder=\"Enter here\"\r\n                            // options={siteList}\r\n                            value={formFields.remark}\r\n                            name=\"remark\"\r\n                            onChange={this.handleChange}\r\n                            className=\"customer-name\"\r\n                        />\r\n                        {/* {this.validator.message('Remark', formFields.remark, 'required')} */}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-8 mb-2\">\r\n                    <div className=\"staff-listing d-flex\">\r\n                        <div className=\"forward-button cursor-pointer\" onClick={this.handleBack}>\r\n                            <svg width=\"6\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M5 0.5L1 5L5 9.5\" stroke=\"#888888\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                            </svg>\r\n                        </div>\r\n                        {\r\n                            (staffList.dataList && staffList.dataList.length > 0) ? staffList.dataList.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <div className=\"mx-1 staff-list cursor-pointer\" key={index} onClick={() => this.handleAddstaff(item)}>\r\n                                            <img src={item.emp_pic} alt=\"\" />\r\n                                            <p>{item.emp_name}</p>\r\n                                        </div>\r\n                                    </>)\r\n                            }) : \"\"\r\n                        }\r\n\r\n                        <div className=\"back-button cursor-pointer\" onClick={this.handleNext}>\r\n                            <svg width=\"5\" height=\"10\" viewBox=\"0 0 5 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M0.5 9.5L4.5 5L0.5 0.5\" stroke=\"#888888\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                        Sales Staff\r\n                    </label>\r\n                    <div className=\" d-flex mb-2\">\r\n\r\n                        {formFields.sales_staff.length > 0 ? formFields.sales_staff.map((item, index) => {\r\n\r\n                            return (\r\n                                <div className=\"mx-1\" key={index}>\r\n                                    <span className=\"\">{this.selectedStaff(item)}</span>\r\n                                    <img onClick={() => this.removeSalesStaff(index)} className=\"close ml-2 cursor-pointer\" src={closeIcon} alt=\"\" />\r\n                                </div>)\r\n                        }) : \"\"\r\n                        }\r\n                        {this.validator.message('sales_staff', formFields.sales_staff, 'required')}\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Quantity\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalInput\r\n                                    // placeholder=\"Enter here\"\r\n                                    // options={siteList}\r\n                                    value={formFields.quantity}\r\n                                    name=\"quantity\"\r\n                                    onChange={this.handleChange}\r\n                                    className=\"customer-name special\"\r\n                                />\r\n                                {this.validator.message('Quantity', formFields.quantity, 'required')}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Unit price\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalInput\r\n                                    // placeholder=\"Enter here\"\r\n                                    // options={siteList}\r\n                                    value={formFields.price}\r\n                                    name=\"price\"\r\n                                    onChange={this.handleChange}\r\n                                    className=\"customer-name\"\r\n                                />\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {cartDetail.id ? <Discount cartData={cartDetail} discount_price = {formFields.discount_price} id={this.props.id} handleRefresh={this.getCartData}></Discount> : \"\"}\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                D / Price\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalInput\r\n                                    // placeholder=\"Enter here\"\r\n                                    // options={siteList}\r\n                                    value={formFields.discount_price}\r\n                                    name=\"discount_price\"\r\n                                    // onChange={this.handleChange}\r\n                                    className=\"customer-name\"\r\n                                    disabled={true}\r\n                                />\r\n                                {/* {this.validator.message('discount price', formFields.disc_price, 'required')} */}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Transac Amount\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalInput\r\n                                    // placeholder=\"Enter here\"\r\n                                    // options={siteList}\r\n                                    value={formFields.trans_amt}\r\n                                    name=\"trans_amt\"\r\n                                    // onChange={this.handleChange}\r\n                                    className=\"customer-name\"\r\n                                    disabled={true}\r\n                                />\r\n                                {/* {this.validator.message('Remark', formFields.new_remark, 'required')} */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Deposit\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalInput\r\n                                    // placeholder=\"Enter here\"\r\n                                    // options={siteList}\r\n                                    value={formFields.deposit}\r\n                                    name=\"deposit\"\r\n                                    onChange={this.handleChange}\r\n                                    className=\"customer-name\"\r\n                                />\r\n                                {this.validator.message('deposit', formFields.deposit, 'required')}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Item Status\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalSelect\r\n                                    // placeholder=\"Enter here\"\r\n                                    options={itemStatusList}\r\n                                    value={formFields.itemstatus}\r\n                                    name=\"itemstatus\"\r\n                                    onChange={this.handleChange}\r\n                                    className=\"customer-name py-0\"\r\n                                />\r\n                                {/* {this.validator.message('item status', formFields.itemstatus, 'required')} */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        cartDetail.item_div === \"1\" ?\r\n                            <div className=\"row\">\r\n                                <div className=\"col-4\">\r\n                                    <label className=\"text-left text-black common-label-text \">\r\n                                        Hold reason\r\n                                    </label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                        <NormalSelect\r\n                                            // placeholder=\"Enter here\"\r\n                                            options={holdReasonList}\r\n                                            value={formFields.holdreason}\r\n                                            name=\"holdreason\"\r\n                                            onChange={this.handleChange}\r\n                                            className=\"customer-name py-0\"\r\n                                        />\r\n                                        {/* {this.validator.message('hold reason', formFields.holdreason, 'required')} */}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <label className=\"text-left text-black common-label-text \">\r\n                                        Hold quantity\r\n                                    </label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                        <NormalInput\r\n                                            // placeholder=\"Enter here\"\r\n                                            // options={siteList}\r\n                                            value={formFields.holditemqty}\r\n                                            name=\"holditemqty\"\r\n                                            onChange={this.handleChange}\r\n                                            className=\"customer-name special\"\r\n                                        />\r\n                                        {/* {this.validator.message('Hold item qty', formFields.holditemqty, 'required')} */}\r\n                                    </div>\r\n                                </div>\r\n                            </div> : \"\"\r\n                    }\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                FOC reason\r\n                            </label>\r\n                            <div className=\"input-group\">\r\n                                <NormalSelect\r\n                                    // placeholder=\"Enter here\"\r\n                                    options={focReasonList}\r\n                                    value={formFields.focreason}\r\n                                    name=\"focreason\"\r\n                                    onChange={this.handleChange}\r\n                                    className=\"customer-name py-0\"\r\n                                />\r\n                                {/* {this.validator.message('FOC reason', formFields.focreason, 'required')} */}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <label className=\"text-left text-black common-label-text \">\r\n                                Ratio\r\n                        </label>\r\n                            <div className=\"input-group mb-2\">\r\n                                <NormalInput\r\n                                    // placeholder=\"Enter here\"\r\n                                    // options={siteList}\r\n                                    value={formFields.ratio}\r\n                                    name=\"ratio\"\r\n                                    onChange={this.handleChange}\r\n                                    className=\"customer-name\"\r\n                                />\r\n                                {/* {this.validator.message('Ratio', formFields.ratio, 'required')} */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n                <div className=\"col-12 pt-4 action-bar\">\r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-12 text-center\">\r\n\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\" fs-15 confirm\"\r\n                                label=\"Confirm\"\r\n                                outline={false}\r\n                                onClick={this.handleUpdateCart}\r\n                            />\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    selected_cstomer: state.common.selected_cstomer,\r\n    basicApptDetail: state.appointment.basicApptDetail,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        // getCustomer,\r\n        getCommonApi,\r\n        updateForm,\r\n        commonUpdateApi,\r\n        commonCreateApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const EditCart = connect(mapStateToProps, mapDispatchToProps)(EditCartClass)"]},"metadata":{},"sourceType":"module"}