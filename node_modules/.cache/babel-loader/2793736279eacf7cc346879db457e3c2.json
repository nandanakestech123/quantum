{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\CustomerDetailsPlus\\\\Details\\\\Dianosis.js\";\nimport React from \"react\";\nimport { NormalButton, NormalModal, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport closeIcon from \"assets/images/close.png\";\nimport _ from \"lodash\";\nimport { AddPhotoPopup } from \"./AddPhotoPopup\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { ComparePhotoPopup } from \"./ComparePhotoPopup\";\nimport { withTranslation } from \"react-i18next\";\nimport { getDiagnosisPhotos, getDiagnosisHistory } from \"redux/actions/customerPlus\";\nexport class DianosisClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      photoTableHeader: [{\n        label: \"Date Taken\",\n        sortKey: \"date\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Diagnosis Code\",\n        sortKey: \"code\",\n        enabled: true\n      }, {\n        label: \"Remarks\",\n        sortKey: \"remarks\",\n        enabled: true\n      }, {\n        label: \"Compare\",\n        sortKey: \"compare\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"View\",\n        sortKey: \"view\",\n        divClass: \"justify-content-center\"\n      }],\n      photoList: [],\n      historyTableHeader: [{\n        label: \"Compare Date\",\n        sortKey: \"date\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Compare Remarks\",\n        sortKey: \"remarks\",\n        enabled: true\n      }, {\n        label: \"Diagnosis Reference\",\n        sortKey: \"referance\",\n        enabled: true\n      }, {\n        label: \"Date\",\n        sortKey: \"dDate\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"View\",\n        sortKey: \"view\",\n        divClass: \"justify-content-center\"\n      }],\n      historyList: [],\n      visitTableHeader: [{\n        label: \"Date\",\n        sortKey: \"date\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"PDPA\",\n        sortKey: \"pdpa\",\n        enabled: true\n      }, {\n        label: \"Questionairre / Consultation\",\n        sortKey: \"consultation\",\n        enabled: true\n      }, {\n        label: \"Diagnosis\",\n        sortKey: \"diagnosis\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Consent Form\",\n        sortKey: \"consent\"\n      }, {\n        label: \"Treatment Done\",\n        sortKey: \"treatments\"\n      }, {\n        label: \"Sales\",\n        sortKey: \"sales\",\n        divClass: \"justify-content-center\"\n      }],\n      visitList: [],\n      compareList: [],\n      photoListMeta: {},\n      historyMeta: {},\n      visitMeta: {},\n      active: false,\n      currentIndex: -1,\n      currentMenu: \"/\",\n      selectedRemark: null,\n      selectedHistoryCode: null,\n      currentData: null,\n      isAddPhotoOpen: false,\n      isCompareOpen: false,\n      isMounted: true,\n      isLoading: true\n    };\n\n    this.loadDiagnosisPhotos = async (data = {}) => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        page = 1,\n        search = \"\"\n      } = data;\n      await this.props.getDiagnosisPhotos(this.props.id, `?page=${page}&search=${search}`);\n      let {\n        photoList\n      } = this.props;\n      this.state.photoList = photoList.diagnosisList;\n      this.state.photoListMeta = photoList.pagination;\n      this.updateState({\n        isLoading: false\n      });\n    };\n\n    this.loadDiagnosisHistory = async (data = {}) => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        page = 1,\n        search = \"\"\n      } = data;\n      await this.props.getDiagnosisHistory(this.props.id, `?page=${page}&search=${search}`);\n      let {\n        historyList\n      } = this.props;\n      this.state.historyList = historyList.diagnosisList;\n      this.state.historyMeta = historyList.pagination;\n      this.updateState({\n        isLoading: false\n      });\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.handlePagination = (type, page) => {\n      if (type === \"photo\") {\n        this.loadDiagnosisPhotos(page);\n      }\n\n      if (type === \"history\") {}\n\n      if (type === \"visit\") {}\n    };\n\n    this.handlePhotosearch = event => {\n      this.loadDiagnosisPhotos({\n        search: event.target.value\n      });\n    };\n\n    this.handleHistorySearch = event => {\n      this.loadDiagnosisHistory({\n        search: event.target.value\n      });\n    };\n\n    this.handleVisitSearch = event => {};\n\n    this.handleMenuSelection = value => {\n      this.setState({\n        currentMenu: value,\n        selectedRemark: null\n      });\n    };\n  }\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const submenu = queryParams.get(\"submenu\");\n    if (submenu) if (submenu == \"history\" || submenu == \"visits\") this.setState({\n      currentMenu: \"/\" + submenu\n    });\n    this.loadDiagnosisPhotos();\n    this.loadDiagnosisHistory();\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      photoTableHeader,\n      photoList,\n      photoListMeta,\n      historyMeta,\n      visitMeta,\n      compareList,\n      currentData,\n      currentMenu,\n      isAddPhotoOpen,\n      isCompareOpen,\n      historyList,\n      historyTableHeader,\n      selectedRemark,\n      visitList,\n      visitTableHeader,\n      isLoading\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-2 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, t(\"Diagnosis\"))), /*#__PURE__*/React.createElement(Navigation, {\n      activeItemId: currentMenu,\n      onSelect: ({\n        itemId\n      }) => this.handleMenuSelection(itemId),\n      items: [{\n        title: t(\"Photos\"),\n        itemId: \"/\"\n      }, {\n        title: t(\"History\"),\n        itemId: \"/history\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    })), isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, \"Loading...\")))) : currentMenu == \"/\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-6 mb-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Photo\",\n      onEnter: this.handlePhotosearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-6 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-md-10 fs-15 float-right\",\n      label: \"Add Photo\",\n      onClick: () => {\n        this.state.currentData = null;\n        this.setState({\n          isAddPhotoOpen: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: photoTableHeader,\n      queryHandler: e => this.handlePagination(\"photo\", e),\n      pageMeta: photoListMeta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.setState(() => photoTableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }\n    }, photoList.length > 0 ? photoList.map((item, index) => {\n      var _photoTableHeader$0$e, _photoTableHeader$1$e, _photoTableHeader$2$e, _photoTableHeader$3$e, _photoTableHeader$4$e;\n\n      let {\n        isCompare,\n        pic_path,\n        diagnosis_date,\n        diagnosis_code,\n        sys_code,\n        remarks,\n        pic_data1\n      } = item;\n      console.log(photoTableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$0$e = photoTableHeader[0].enabled) !== null && _photoTableHeader$0$e !== void 0 ? _photoTableHeader$0$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 35\n        }\n      }, new Date(diagnosis_date).toLocaleDateString(\"en-GB\"))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$1$e = photoTableHeader[1].enabled) !== null && _photoTableHeader$1$e !== void 0 ? _photoTableHeader$1$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 35\n        }\n      }, diagnosis_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$2$e = photoTableHeader[2].enabled) !== null && _photoTableHeader$2$e !== void 0 ? _photoTableHeader$2$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 35\n        }\n      }, remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$3$e = photoTableHeader[3].enabled) !== null && _photoTableHeader$3$e !== void 0 ? _photoTableHeader$3$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: isCompare,\n        onClick: () => {\n          photoList[index].isCompare = !isCompare;\n          this.setState({});\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$4$e = photoTableHeader[4].enabled) !== null && _photoTableHeader$4$e !== void 0 ? _photoTableHeader$4$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-20\",\n        onClick: () => this.setState({\n          currentData: {\n            image: pic_path,\n            remarks,\n            pic_data1,\n            diagnosis_code: sys_code\n          },\n          isAddPhotoOpen: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 39\n        }\n      })))));\n    }) : null))), photoList && photoList.filter(e => e.isCompare).length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Compare\",\n      onClick: () => {\n        this.state.selectedRemark = null;\n        this.setState({\n          isCompareOpen: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    })) : null) : currentMenu == \"/history\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search History\",\n      onEnter: this.handleHistorySearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: historyTableHeader,\n      queryHandler: e => this.handlePagination(\"history\", e),\n      pageMeta: historyMeta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.setState(() => historyTableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }\n    }, historyList ? historyList.map((item, index) => {\n      var _historyTableHeader$, _historyTableHeader$2, _historyTableHeader$3, _historyTableHeader$4, _historyTableHeader$5;\n\n      let {\n        diagnosis_list,\n        compare_datetime,\n        compare_remark,\n        id\n      } = item;\n      console.log(historyTableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$ = historyTableHeader[0].enabled) !== null && _historyTableHeader$ !== void 0 ? _historyTableHeader$ : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 35\n        }\n      }, new Date(compare_datetime).toLocaleDateString(\"en-GB\"))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$2 = historyTableHeader[1].enabled) !== null && _historyTableHeader$2 !== void 0 ? _historyTableHeader$2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 35\n        }\n      }, compare_remark)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$3 = historyTableHeader[2].enabled) !== null && _historyTableHeader$3 !== void 0 ? _historyTableHeader$3 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 35\n        }\n      }, diagnosis_list.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, image.diagnosis_code, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 64\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$4 = historyTableHeader[3].enabled) !== null && _historyTableHeader$4 !== void 0 ? _historyTableHeader$4 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 35\n        }\n      }, diagnosis_list.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, new Date(image.date_pic_take).toLocaleDateString(\"en-GB\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 41\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$5 = historyTableHeader[4].enabled) !== null && _historyTableHeader$5 !== void 0 ? _historyTableHeader$5 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-20\",\n        onClick: () => this.setState({\n          selectedRemark: compare_remark,\n          selectedHistoryCode: id,\n          compareList: diagnosis_list,\n          isCompareOpen: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 39\n        }\n      })))));\n    }) : null)))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Visit\",\n      onEnter: this.handleVisitSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: visitTableHeader,\n      queryHandler: e => this.handlePagination(\"visit\", e),\n      pageMeta: visitMeta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.setState(() => visitTableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 21\n      }\n    }, visitList ? visitList.map((item, index) => {\n      var _visitTableHeader$0$e, _visitTableHeader$1$e, _visitTableHeader$2$e, _visitTableHeader$3$e, _visitTableHeader$4$e;\n\n      let {\n        images,\n        date,\n        remarks\n      } = item;\n      console.log(visitTableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$0$e = visitTableHeader[0].enabled) !== null && _visitTableHeader$0$e !== void 0 ? _visitTableHeader$0$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 35\n        }\n      }, date)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$1$e = visitTableHeader[1].enabled) !== null && _visitTableHeader$1$e !== void 0 ? _visitTableHeader$1$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 35\n        }\n      }, remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$2$e = visitTableHeader[2].enabled) !== null && _visitTableHeader$2$e !== void 0 ? _visitTableHeader$2$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 35\n        }\n      }, images.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, image.id, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 52\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$3$e = visitTableHeader[3].enabled) !== null && _visitTableHeader$3$e !== void 0 ? _visitTableHeader$3$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 35\n        }\n      }, images.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, image.date, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 54\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$4$e = visitTableHeader[4].enabled) !== null && _visitTableHeader$4$e !== void 0 ? _visitTableHeader$4$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-20\",\n        onClick: () => this.setState({\n          selectedRemark: remarks,\n          compareList: images,\n          isCompareOpen: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 39\n        }\n      })))));\n    }) : null))))), /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"80%\"\n      },\n      modal: isAddPhotoOpen,\n      handleModal: () => this.setState({\n        isAddPhotoOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: () => this.setState({\n        isAddPhotoOpen: false\n      }),\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(AddPhotoPopup, {\n      image: currentData === null || currentData === void 0 ? void 0 : currentData.image,\n      remarks: currentData === null || currentData === void 0 ? void 0 : currentData.remarks,\n      layoutData: currentData === null || currentData === void 0 ? void 0 : currentData.pic_data1,\n      diagnosis_code: currentData === null || currentData === void 0 ? void 0 : currentData.diagnosis_code,\n      cust_no: this.props.id,\n      onDone: () => {\n        this.updateState({\n          isAddPhotoOpen: false\n        });\n        this.loadDiagnosisHistory();\n        this.loadDiagnosisPhotos();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"80%\"\n      },\n      modal: isCompareOpen,\n      handleModal: () => this.setState({\n        isCompareOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: () => this.setState({\n        isCompareOpen: false\n      }),\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ComparePhotoPopup, {\n      dataList: currentMenu == \"/\" ? photoList && photoList.filter(e => e.isCompare) : compareList,\n      remarks: currentMenu == \"/\" ? null : selectedRemark,\n      id: this.state.selectedHistoryCode,\n      cust_code: this.props.id,\n      onDone: () => {\n        this.updateState({\n          isCompareOpen: false\n        });\n        this.loadDiagnosisHistory();\n        this.loadDiagnosisPhotos();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  photoList: state.customerPlus.customerDiagnosisPhotoList,\n  historyList: state.customerPlus.customerDiagnosisHistory\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getDiagnosisPhotos,\n    getDiagnosisHistory\n  }, dispatch);\n};\n\nexport const Dianosis = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(DianosisClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Details/Dianosis.js"],"names":["React","NormalButton","NormalModal","NormalSelect","InputSearch","TableWrapper","connect","bindActionCreators","closeIcon","_","AddPhotoPopup","Navigation","ComparePhotoPopup","withTranslation","getDiagnosisPhotos","getDiagnosisHistory","DianosisClass","Component","state","photoTableHeader","label","sortKey","divClass","enabled","photoList","historyTableHeader","historyList","visitTableHeader","visitList","compareList","photoListMeta","historyMeta","visitMeta","active","currentIndex","currentMenu","selectedRemark","selectedHistoryCode","currentData","isAddPhotoOpen","isCompareOpen","isMounted","isLoading","loadDiagnosisPhotos","data","updateState","page","search","props","id","diagnosisList","pagination","loadDiagnosisHistory","setState","handleOutsideClick","e","node","contains","target","handleClick","handlePagination","type","handlePhotosearch","event","value","handleHistorySearch","handleVisitSearch","handleMenuSelection","componentDidMount","queryParams","URLSearchParams","window","location","submenu","get","componentWillUnmount","render","t","itemId","title","length","map","item","index","isCompare","pic_path","diagnosis_date","diagnosis_code","sys_code","remarks","pic_data1","console","log","Date","toLocaleDateString","image","filter","diagnosis_list","compare_datetime","compare_remark","date_pic_take","images","date","minWidth","mapStateToProps","customerPlus","customerDiagnosisPhotoList","customerDiagnosisHistory","mapDispatchToProps","dispatch","Dianosis"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton, NormalModal, NormalSelect } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport _ from \"lodash\";\r\nimport { AddPhotoPopup } from \"./AddPhotoPopup\";\r\nimport { Navigation } from \"react-minimal-side-navigation\";\r\nimport { ComparePhotoPopup } from \"./ComparePhotoPopup\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  getDiagnosisPhotos,\r\n  getDiagnosisHistory,\r\n} from \"redux/actions/customerPlus\";\r\n\r\nexport class DianosisClass extends React.Component {\r\n  state = {\r\n    photoTableHeader: [\r\n      {\r\n        label: \"Date Taken\",\r\n        sortKey: \"date\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Diagnosis Code\", sortKey: \"code\", enabled: true },\r\n      { label: \"Remarks\", sortKey: \"remarks\", enabled: true },\r\n      {\r\n        label: \"Compare\",\r\n        sortKey: \"compare\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      { label: \"View\", sortKey: \"view\", divClass: \"justify-content-center\" },\r\n    ],\r\n    photoList: [],\r\n    historyTableHeader: [\r\n      {\r\n        label: \"Compare Date\",\r\n        sortKey: \"date\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Compare Remarks\", sortKey: \"remarks\", enabled: true },\r\n      { label: \"Diagnosis Reference\", sortKey: \"referance\", enabled: true },\r\n      {\r\n        label: \"Date\",\r\n        sortKey: \"dDate\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"View\", sortKey: \"view\", divClass: \"justify-content-center\" },\r\n    ],\r\n    historyList: [],\r\n    visitTableHeader: [\r\n      {\r\n        label: \"Date\",\r\n        sortKey: \"date\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"PDPA\", sortKey: \"pdpa\", enabled: true },\r\n      {\r\n        label: \"Questionairre / Consultation\",\r\n        sortKey: \"consultation\",\r\n        enabled: true,\r\n      },\r\n      {\r\n        label: \"Diagnosis\",\r\n        sortKey: \"diagnosis\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Consent Form\", sortKey: \"consent\" },\r\n      { label: \"Treatment Done\", sortKey: \"treatments\" },\r\n      { label: \"Sales\", sortKey: \"sales\", divClass: \"justify-content-center\" },\r\n    ],\r\n    visitList: [],\r\n    compareList: [],\r\n    photoListMeta: {},\r\n    historyMeta: {},\r\n    visitMeta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n    currentMenu: \"/\",\r\n    selectedRemark: null,\r\n    selectedHistoryCode: null,\r\n    currentData: null,\r\n    isAddPhotoOpen: false,\r\n    isCompareOpen: false,\r\n    isMounted: true,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const submenu = queryParams.get(\"submenu\");\r\n    if (submenu)\r\n      if (submenu == \"history\" || submenu == \"visits\")\r\n        this.setState({ currentMenu: \"/\" + submenu });\r\n    this.loadDiagnosisPhotos();\r\n    this.loadDiagnosisHistory();\r\n  }\r\n\r\n  loadDiagnosisPhotos = async (data = {}) => {\r\n    this.updateState({ isLoading: true });\r\n    let { page = 1, search = \"\" } = data;\r\n    await this.props.getDiagnosisPhotos(\r\n      this.props.id,\r\n      `?page=${page}&search=${search}`\r\n    );\r\n    let { photoList } = this.props;\r\n    this.state.photoList = photoList.diagnosisList;\r\n    this.state.photoListMeta = photoList.pagination;\r\n    this.updateState({ isLoading: false });\r\n  };\r\n\r\n  loadDiagnosisHistory = async (data = {}) => {\r\n    this.updateState({ isLoading: true });\r\n    let { page = 1, search = \"\" } = data;\r\n    await this.props.getDiagnosisHistory(\r\n      this.props.id,\r\n      `?page=${page}&search=${search}`\r\n    );\r\n    let { historyList } = this.props;\r\n    this.state.historyList = historyList.diagnosisList;\r\n    this.state.historyMeta = historyList.pagination;\r\n    this.updateState({ isLoading: false });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  handlePagination = (type, page) => {\r\n    if (type === \"photo\") {\r\n      this.loadDiagnosisPhotos(page);\r\n    }\r\n    if (type === \"history\") {\r\n    }\r\n    if (type === \"visit\") {\r\n    }\r\n  };\r\n\r\n  handlePhotosearch = event => {\r\n    this.loadDiagnosisPhotos({ search: event.target.value });\r\n  };\r\n  handleHistorySearch = event => {\r\n    this.loadDiagnosisHistory({ search: event.target.value });\r\n  };\r\n  handleVisitSearch = event => {};\r\n\r\n  handleMenuSelection = value => {\r\n    this.setState({\r\n      currentMenu: value,\r\n      selectedRemark: null,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      photoTableHeader,\r\n      photoList,\r\n      photoListMeta,\r\n      historyMeta,\r\n      visitMeta,\r\n      compareList,\r\n      currentData,\r\n      currentMenu,\r\n      isAddPhotoOpen,\r\n      isCompareOpen,\r\n      historyList,\r\n      historyTableHeader,\r\n      selectedRemark,\r\n      visitList,\r\n      visitTableHeader,\r\n      isLoading,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mt-4\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 col-lg-2 mb-4\">\r\n              <div className=\"col-md-12 mb-4\">\r\n                <h3 className=\"head-label\">{t(\"Diagnosis\")}</h3>\r\n              </div>\r\n              <Navigation\r\n                activeItemId={currentMenu}\r\n                onSelect={({ itemId }) => this.handleMenuSelection(itemId)}\r\n                items={[\r\n                  {\r\n                    title: t(\"Photos\"),\r\n                    itemId: \"/\",\r\n                  },\r\n                  {\r\n                    title: t(\"History\"),\r\n                    itemId: \"/history\",\r\n                  },\r\n                ]}\r\n              />\r\n            </div>\r\n            {isLoading ? (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                  <div className=\"spinner-border\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : currentMenu == \"/\" ? (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"col-md-12 mb-4\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-12 col-md-6 mb-4 p-0\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search Photo\"\r\n                        onEnter={this.handlePhotosearch}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-sm-12 col-md-6 p-0\">\r\n                      <NormalButton\r\n                        mainbg={true}\r\n                        className=\"col-md-10 fs-15 float-right\"\r\n                        label=\"Add Photo\"\r\n                        onClick={() => {\r\n                          this.state.currentData = null;\r\n                          this.setState({ isAddPhotoOpen: true });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"table-responsive\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={photoTableHeader}\r\n                      queryHandler={e => this.handlePagination(\"photo\", e)}\r\n                      pageMeta={photoListMeta}\r\n                      showFilterColumn={true}\r\n                      parentHeaderChange={value =>\r\n                        this.setState(() => (photoTableHeader = value))\r\n                      }\r\n                    >\r\n                      {photoList.length > 0\r\n                        ? photoList.map((item, index) => {\r\n                            let {\r\n                              isCompare,\r\n                              pic_path,\r\n                              diagnosis_date,\r\n                              diagnosis_code,\r\n                              sys_code,\r\n                              remarks,\r\n                              pic_data1,\r\n                            } = item;\r\n                            console.log(photoTableHeader[0]);\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[0].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-right\">\r\n                                    {new Date(\r\n                                      diagnosis_date\r\n                                    ).toLocaleDateString(\"en-GB\")}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[1].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-left\">\r\n                                    {diagnosis_code}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[2].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-left\">{remarks}</div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[3].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={isCompare}\r\n                                      onClick={() => {\r\n                                        photoList[index].isCompare = !isCompare;\r\n                                        this.setState({});\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[4].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div\r\n                                      className=\"d-flex align-items-center fs-20\"\r\n                                      onClick={() =>\r\n                                        this.setState({\r\n                                          currentData: {\r\n                                            image: pic_path,\r\n                                            remarks,\r\n                                            pic_data1,\r\n                                            diagnosis_code: sys_code,\r\n                                          },\r\n                                          isAddPhotoOpen: true,\r\n                                        })\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-eye-grey\"></span>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        : null}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n                {photoList && photoList.filter(e => e.isCompare).length > 0 ? (\r\n                  <div className=\"w-100 col-4 p-0\">\r\n                    <NormalButton\r\n                      mainbg={true}\r\n                      className=\"col-12 fs-15 float-right\"\r\n                      label=\"Compare\"\r\n                      onClick={() => {\r\n                        this.state.selectedRemark = null;\r\n                        this.setState({ isCompareOpen: true });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            ) : currentMenu == \"/history\" ? (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"col-md-12 mb-4\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 p-0\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search History\"\r\n                        onEnter={this.handleHistorySearch}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"table-responsive\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={historyTableHeader}\r\n                      queryHandler={e => this.handlePagination(\"history\", e)}\r\n                      pageMeta={historyMeta}\r\n                      showFilterColumn={true}\r\n                      parentHeaderChange={value =>\r\n                        this.setState(() => (historyTableHeader = value))\r\n                      }\r\n                    >\r\n                      {historyList\r\n                        ? historyList.map((item, index) => {\r\n                            let {\r\n                              diagnosis_list,\r\n                              compare_datetime,\r\n                              compare_remark,\r\n                              id,\r\n                            } = item;\r\n                            console.log(historyTableHeader[0]);\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[0].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-right\">\r\n                                    {new Date(\r\n                                      compare_datetime\r\n                                    ).toLocaleDateString(\"en-GB\")}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[1].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-left\">\r\n                                    {compare_remark}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[2].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-left\">\r\n                                    {diagnosis_list.map(image => (\r\n                                      <>\r\n                                        {image.diagnosis_code} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[3].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-right\">\r\n                                    {diagnosis_list.map(image => (\r\n                                      <>\r\n                                        {new Date(\r\n                                          image.date_pic_take\r\n                                        ).toLocaleDateString(\"en-GB\")}\r\n                                        <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[4].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div\r\n                                      className=\"d-flex align-items-center fs-20\"\r\n                                      onClick={() =>\r\n                                        this.setState({\r\n                                          selectedRemark: compare_remark,\r\n                                          selectedHistoryCode: id,\r\n                                          compareList: diagnosis_list,\r\n                                          isCompareOpen: true,\r\n                                        })\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-eye-grey\"></span>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        : null}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"col-md-12 mb-4\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 p-0\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search Visit\"\r\n                        onEnter={this.handleVisitSearch}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"table-responsive\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={visitTableHeader}\r\n                      queryHandler={e => this.handlePagination(\"visit\", e)}\r\n                      pageMeta={visitMeta}\r\n                      showFilterColumn={true}\r\n                      parentHeaderChange={value =>\r\n                        this.setState(() => (visitTableHeader = value))\r\n                      }\r\n                    >\r\n                      {visitList\r\n                        ? visitList.map((item, index) => {\r\n                            let { images, date, remarks } = item;\r\n                            console.log(visitTableHeader[0]);\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[0].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-right\">{date}</div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[1].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-left\">{remarks}</div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[2].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-left\">\r\n                                    {images.map(image => (\r\n                                      <>\r\n                                        {image.id} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[3].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"text-right\">\r\n                                    {images.map(image => (\r\n                                      <>\r\n                                        {image.date} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[4].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div\r\n                                      className=\"d-flex align-items-center fs-20\"\r\n                                      onClick={() =>\r\n                                        this.setState({\r\n                                          selectedRemark: remarks,\r\n                                          compareList: images,\r\n                                          isCompareOpen: true,\r\n                                        })\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-eye-grey\"></span>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        : null}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <NormalModal\r\n            style={{ minWidth: \"80%\" }}\r\n            modal={isAddPhotoOpen}\r\n            handleModal={() => this.setState({ isAddPhotoOpen: false })}\r\n          >\r\n            <img\r\n              onClick={() => this.setState({ isAddPhotoOpen: false })}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <AddPhotoPopup\r\n              image={currentData?.image}\r\n              remarks={currentData?.remarks}\r\n              layoutData={currentData?.pic_data1}\r\n              diagnosis_code={currentData?.diagnosis_code}\r\n              cust_no={this.props.id}\r\n              onDone={() => {\r\n                this.updateState({ isAddPhotoOpen: false });\r\n                this.loadDiagnosisHistory();\r\n                this.loadDiagnosisPhotos();\r\n              }}\r\n            />\r\n          </NormalModal>\r\n          <NormalModal\r\n            style={{ minWidth: \"80%\" }}\r\n            modal={isCompareOpen}\r\n            handleModal={() => this.setState({ isCompareOpen: false })}\r\n          >\r\n            <img\r\n              onClick={() => this.setState({ isCompareOpen: false })}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <ComparePhotoPopup\r\n              dataList={\r\n                currentMenu == \"/\"\r\n                  ? photoList && photoList.filter(e => e.isCompare)\r\n                  : compareList\r\n              }\r\n              remarks={currentMenu == \"/\" ? null : selectedRemark}\r\n              id={this.state.selectedHistoryCode}\r\n              cust_code={this.props.id}\r\n              onDone={() => {\r\n                this.updateState({ isCompareOpen: false });\r\n                this.loadDiagnosisHistory();\r\n                this.loadDiagnosisPhotos();\r\n              }}\r\n            />\r\n          </NormalModal>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  photoList: state.customerPlus.customerDiagnosisPhotoList,\r\n  historyList: state.customerPlus.customerDiagnosisHistory,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getDiagnosisPhotos,\r\n      getDiagnosisHistory,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Dianosis = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(DianosisClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}