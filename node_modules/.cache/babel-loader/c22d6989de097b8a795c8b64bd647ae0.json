{"ast":null,"code":"import _defineProperty from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{updateForm,getCommonApi,commonCreateApi,commonPatchApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{NormalButton,NormalModal,NormalInput,TableWrapper,NormalTextarea}from\"component/common\";import classnames from\"classnames\";import{Nav,NavItem,NavLink,TabContent,TabPane}from\"reactstrap\";import closeIcon from\"assets/images/close.png\";import{ItemUsageUpdatePopup}from\"./ItemUsageUpdatePopup\";import{Toast}from\"service/toast\";import{TreatmentUsageDetail}from\"./TreatmentUsageDetail\";export var TreatmentUsagePopupClass=/*#__PURE__*/function(_Component){_inherits(TreatmentUsagePopupClass,_Component);var _super=_createSuper(TreatmentUsagePopupClass);function TreatmentUsagePopupClass(){var _this;_classCallCheck(this,TreatmentUsagePopupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={TreatmentUsageListHeader:[{label:\"No.\"},{label:\"Item Code\"},{label:\"Link Code\"},{label:\"Item Desc\"},{label:\"Quantity\"},{label:\"UOM\"},{label:\"Remove\"}],TreatmentUsageList:[],meta:{},ExchangeTreatmentListHeader:[{label:\"No.\"},{label:\"Staff Code\"},{label:\"Staff Name\"},{label:\"Trmt No\"},{label:\"Original Item Code\"},{label:\"Original Item Desc\"},{label:\"Exchange Item Code\"},{label:\"Exchange Item Desc\"},{label:\"Trans#\"},{label:\"Trans. Date\"},{label:\"Exchange Date\"}],ExchangeTreatmentList:[],ExchangeMeta:{},activeTab:\"3\",isItemUsageUpdatePopup:false,TreatmentHistoryId:0,treatment_code:\"\",course:\"\",remarks:\"\",EditableRemark:true,ExchangeStaffListHeader:[{label:\"No.\"},{label:\"Staff Code\"},{label:\"Staff Name\"}],ExchangeStaffList:[],isNewItemUsage:false};_this.componentDidMount=function(){_this.getTreatmentUsageList(_this.props.TreatmentHistoryId);};_this.getTreatmentUsageList=function(data){var TreatmentUsageList=_this.state.TreatmentUsageList;_this.setState({TreatmentHistoryId:data});if(data>0){_this.props.getCommonApi(\"stockusage/\".concat(data,\"/\")).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data,status,ExchangeStaffList,_iterator,_step,datalist,item_code,link_code,item_desc,qty,uom,stock_id,Treatmentid;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({treatmentUsageList:[]});case 2:data=res.data,status=res.status;if(!(status===200&&res.error!==true)){_context.next=12;break;}if(!data){_context.next=12;break;}_context.next=7;return _this.setState({TreatmentHistoryId:data.id,treatment_code:data.treatment_code,course:data.course,remarks:data.remarks});case 7:ExchangeStaffList=data.staffs;_iterator=_createForOfIteratorHelper(data.usage);try{for(_iterator.s();!(_step=_iterator.n()).done;){datalist=_step.value;item_code=datalist.item_code;link_code=datalist.link_code;item_desc=datalist.item_desc;qty=datalist.qty;uom=datalist.uom;stock_id=datalist.id;Treatmentid=data.id;TreatmentUsageList.push({item_code:item_code,link_code:link_code,item_desc:item_desc,qty:qty,uom:uom,stock_id:stock_id,Treatmentid:Treatmentid});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_context.next=12;return _this.setState({TreatmentUsageList:TreatmentUsageList,ExchangeStaffList:ExchangeStaffList});case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}};_this.toggle=function(tab){if(tab==\"3\"){_this.setState({EditableRemark:true});}else if(tab==\"1\"){var TreatmentUsageList=_this.state.TreatmentUsageList;var filterEditableRemark=TreatmentUsageList.find(function(account){return account.Treatmentid===0;});if(filterEditableRemark){_this.setState({EditableRemark:true});}else{_this.setState({EditableRemark:false});}}else{_this.setState({EditableRemark:false});}if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.itemUsageUpdatePopup=function(){var TreatmentUsageList=_this.state.TreatmentUsageList;if(TreatmentUsageList&&TreatmentUsageList.length>0){_this.setState(function(prevState){return{isItemUsageUpdatePopup:!prevState.isItemUsageUpdatePopup};});}else{_this.setState(function(prevState){return{isNewItemUsage:!prevState.isNewItemUsage};});}};_this.handleCloseItemUsagePopup=function(){_this.setState(function(prevState){return{isItemUsageUpdatePopup:!prevState.isItemUsageUpdatePopup};});};_this.remarkHandle=function(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;_this.setState(_defineProperty({},name,value));};_this.includeNewItems=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var TreatmentUsageList,_iterator2,_step2,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.setState({isNewItemUsage:false,isItemUsageUpdatePopup:false,EditableRemark:true});case 2:TreatmentUsageList=_this.state.TreatmentUsageList;_iterator2=_createForOfIteratorHelper(data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){value=_step2.value;TreatmentUsageList.push({item_code:value.item_code,link_code:value.link_code,item_desc:value.ItemDesc,qty:parseInt(value.qty),uom:value.uom,stock_id:value.stock_id,Treatmentid:0});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_context2.next=7;return _this.setState({TreatmentUsageList:TreatmentUsageList});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.handleSave=function(){var _this$state=_this.state,TreatmentUsageList=_this$state.TreatmentUsageList,TreatmentHistoryId=_this$state.TreatmentHistoryId,remarks=_this$state.remarks;var data=[];var _iterator3=_createForOfIteratorHelper(TreatmentUsageList),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var final=_step3.value;if(final.Treatmentid==0){data.push({item_code:final.item_code,link_code:final.link_code,item_desc:final.item_desc,qty:final.qty,uom:final.uom,stock_id:final.stock_id});}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}if(data.length>0){_this.props.commonCreateApi(\"stockusage/?treat_id=\".concat(TreatmentHistoryId,\"&treat_remarks=\").concat(remarks),data).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(res.status===201){_this.setState({TreatmentUsageList:[],TreatmentHistoryId:0});_this.props.treatmentUsagePopupclose();}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());}else{Toast({type:\"error\",message:\"Please Add New Product and then try!\"});}};_this.deleteSelectedItem=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(item){var TreatmentUsageList,filterEditableRemark,TreatmentHistoryId;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(item.Treatmentid===0)){_context5.next=8;break;}_context5.next=3;return _this.setState(function(data){return{TreatmentUsageList:data.TreatmentUsageList.filter(function(x){return x.stock_id!=item.stock_id;})};});case 3:TreatmentUsageList=_this.state.TreatmentUsageList;filterEditableRemark=TreatmentUsageList.find(function(account){return account.Treatmentid===0;});if(filterEditableRemark){_this.setState({EditableRemark:true});}else{_this.setState({EditableRemark:false});}_context5.next=10;break;case 8:TreatmentHistoryId=_this.state.TreatmentHistoryId;_this.props.commonPatchApi(\"stockusage/\".concat(item.stock_id,\"/?treat_id=\").concat(TreatmentHistoryId)).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(res){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(res.status===200)){_context4.next=3;break;}_context4.next=3;return _this.setState(function(data){return{TreatmentUsageList:data.TreatmentUsageList.filter(function(x){return x.stock_id!=item.stock_id;})};});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref6.apply(this,arguments);};}());case 10:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref5.apply(this,arguments);};}();return _this;}_createClass(TreatmentUsagePopupClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,TreatmentUsageList=_this$state2.TreatmentUsageList,TreatmentUsageListHeader=_this$state2.TreatmentUsageListHeader,meta=_this$state2.meta,isItemUsageUpdatePopup=_this$state2.isItemUsageUpdatePopup,ExchangeTreatmentList=_this$state2.ExchangeTreatmentList,ExchangeTreatmentListHeader=_this$state2.ExchangeTreatmentListHeader,ExchangeMeta=_this$state2.ExchangeMeta,TreatmentHistoryId=_this$state2.TreatmentHistoryId,treatment_code=_this$state2.treatment_code,course=_this$state2.course,remarks=_this$state2.remarks,EditableRemark=_this$state2.EditableRemark,ExchangeStaffList=_this$state2.ExchangeStaffList,ExchangeStaffListHeader=_this$state2.ExchangeStaffListHeader,isNewItemUsage=_this$state2.isNewItemUsage;return/*#__PURE__*/React.createElement(NormalModal,{className:\"select-category\",style:{minWidth:\"75%\"},modal:this.props.isTreatmentUsagePopup,handleModal:this.props.treatmentUsagePopupclose},/*#__PURE__*/React.createElement(\"img\",{onClick:this.props.treatmentUsagePopupclose,className:\"close\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex h4 justify-content-center p-1\"},\"Treatment Usage\"),/*#__PURE__*/React.createElement(\"div\",{className:\"customer-list container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},\"Treatment Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left fs-15 fw-500\"},treatment_code))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},\"Treatment Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left fs-15 fw-500\"},course))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},\"Treatment Remarks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left fs-15 fw-500\"},EditableRemark?/*#__PURE__*/React.createElement(NormalTextarea,{value:remarks,name:\"remarks\",onChange:this.remarkHandle}):/*#__PURE__*/React.createElement(NormalTextarea,{value:remarks,name:\"remarks\",onChange:this.remarkHandle,disabled:true})))),/*#__PURE__*/React.createElement(\"div\",{className:\"beautesoft-navlink customer-detail mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filled-tabs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tabs-block\"},/*#__PURE__*/React.createElement(Nav,{tabs:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:this.state.activeTab===\"3\"}),onClick:function onClick(){_this2.toggle(\"3\");}},\"Detail\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:this.state.activeTab===\"1\"}),onClick:function onClick(){_this2.toggle(\"1\");}},\"Stock Usage\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:this.state.activeTab===\"4\"}),onClick:function onClick(){_this2.toggle(\"4\");}},\"Staff\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:this.state.activeTab===\"2\"}),onClick:function onClick(){_this2.toggle(\"2\");}},\"Exchange Treatment\")))),/*#__PURE__*/React.createElement(TabContent,{activeTab:this.state.activeTab},/*#__PURE__*/React.createElement(TabPane,{tabId:\"1\"},this.state.activeTab===\"1\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-2 fs-15 mt-3\",label:\"Add Item Usage\",onClick:this.itemUsageUpdatePopup}),/*#__PURE__*/React.createElement(\"div\",{className:\"table-container table-responsive mt-3\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:TreatmentUsageListHeader},TreatmentUsageList&&TreatmentUsageList.length>0?TreatmentUsageList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"w-100\",key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},index+1)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.item_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.link_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.item_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.qty)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.uom)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\",onClick:function onClick(){return _this2.deleteSelectedItem(item);}},/*#__PURE__*/React.createElement(\"img\",{width:\"25\",height:\"25\",className:\"ml-3\",src:closeIcon,alt:\"\"}))));}):/*#__PURE__*/React.createElement(\"tr\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"No data available\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row text-center justify-content-end w-100 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"col-2\",mainbg:true,className:\"col-12 ml-4 fs-15 \",label:\"Save\",onClick:this.handleSave}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"col-2\",mainbg:true,className:\"col-12 ml-4 fs-15 \",label:\"Cancel\",onClick:this.props.treatmentUsagePopupclose}))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 d-flex justify-center\"},isNewItemUsage?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NormalModal,{style:{minWidth:\"280px\"},modal:isNewItemUsage,handleModal:this.toggle},/*#__PURE__*/React.createElement(\"div\",{className:\"row new-cart issued-staff p-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Do you want to add default product for this treatment ?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.setState({isNewItemUsage:false});},className:\"btn outline-btn mx-2 fs-14  text-capitalize\"},\"Yes\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.setState(function(prevState){return{isNewItemUsage:!prevState.isNewItemUsage,isItemUsageUpdatePopup:!prevState.isItemUsageUpdatePopup};});},className:\"btn outline-btn mx-2 fs-14  text-capitalize\"},\"No\"))))))):\"\")),/*#__PURE__*/React.createElement(TabPane,{tabId:\"2\"},this.state.activeTab===\"2\"?/*#__PURE__*/React.createElement(\"div\",{className:\"table-container table-responsive mt-3\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:ExchangeTreatmentListHeader//queryHandler={this.handlePagination}\n,pageMeta:ExchangeMeta},ExchangeTreatmentList&&ExchangeTreatmentList.length>0?ExchangeTreatmentList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"w-100\",onClick:function onClick(){return _this2.handleSelectTreatment(item);},key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.Item_Class)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.item_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.add_duration)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.item_price)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.item_price)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.item_price)));}):/*#__PURE__*/React.createElement(\"tr\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"No data available\"))))):null),/*#__PURE__*/React.createElement(TabPane,{tabId:\"3\"},this.state.activeTab===\"3\"?/*#__PURE__*/React.createElement(TreatmentUsageDetail,{TreatmentHistoryId:this.props.TreatmentHistoryId,remarks:remarks,treatment_code:treatment_code}):null),/*#__PURE__*/React.createElement(TabPane,{tabId:\"4\"},this.state.activeTab===\"4\"?/*#__PURE__*/React.createElement(\"div\",{className:\"table-container table-responsive mt-3\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:ExchangeStaffListHeader//queryHandler={this.handlePagination}\n,pageMeta:ExchangeMeta},ExchangeStaffList&&ExchangeStaffList.length>0?ExchangeStaffList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"w-100\",key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.no)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.staff_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.helper_name)));}):/*#__PURE__*/React.createElement(\"tr\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},\"No data available\"))))):null))))),isItemUsageUpdatePopup?/*#__PURE__*/React.createElement(ItemUsageUpdatePopup,{isItemUsageUpdatePopup:isItemUsageUpdatePopup,itemUsageUpdatePopup:this.handleCloseItemUsagePopup,newItemlist:function newItemlist(StockItemUsageList){return _this2.includeNewItems(StockItemUsageList);}}):null);}}]);return TreatmentUsagePopupClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{// filter: state.dashboard\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({updateForm:updateForm,getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi},dispatch);};export var TreatmentUsagePopup=connect(mapStateToProps,mapDispatchToProps)(TreatmentUsagePopupClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/treatmentDone/TreatmentUsagePopup.js"],"names":["React","Component","updateForm","getCommonApi","commonCreateApi","commonPatchApi","connect","bindActionCreators","NormalButton","NormalModal","NormalInput","TableWrapper","NormalTextarea","classnames","Nav","NavItem","NavLink","TabContent","TabPane","closeIcon","ItemUsageUpdatePopup","Toast","TreatmentUsageDetail","TreatmentUsagePopupClass","state","TreatmentUsageListHeader","label","TreatmentUsageList","meta","ExchangeTreatmentListHeader","ExchangeTreatmentList","ExchangeMeta","activeTab","isItemUsageUpdatePopup","TreatmentHistoryId","treatment_code","course","remarks","EditableRemark","ExchangeStaffListHeader","ExchangeStaffList","isNewItemUsage","componentDidMount","getTreatmentUsageList","props","data","setState","then","res","treatmentUsageList","status","error","id","staffs","usage","datalist","item_code","link_code","item_desc","qty","uom","stock_id","Treatmentid","push","toggle","tab","filterEditableRemark","find","account","itemUsageUpdatePopup","length","prevState","handleCloseItemUsagePopup","remarkHandle","target","name","value","includeNewItems","ItemDesc","parseInt","handleSave","final","treatmentUsagePopupclose","type","message","deleteSelectedItem","item","filter","x","minWidth","isTreatmentUsagePopup","active","map","index","handleSelectTreatment","Item_Class","add_duration","item_price","no","staff_code","helper_name","StockItemUsageList","mapStateToProps","mapDispatchToProps","dispatch","TreatmentUsagePopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  updateForm,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalInput,\r\n  TableWrapper,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport classnames from \"classnames\";\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { ItemUsageUpdatePopup } from \"./ItemUsageUpdatePopup\";\r\nimport { Toast } from \"service/toast\";\r\nimport { TreatmentUsageDetail } from \"./TreatmentUsageDetail\";\r\n\r\nexport class TreatmentUsagePopupClass extends Component {\r\n  state = {\r\n    TreatmentUsageListHeader: [\r\n      { label: \"No.\" },\r\n      { label: \"Item Code\" },\r\n      { label: \"Link Code\" },\r\n      { label: \"Item Desc\" },\r\n      { label: \"Quantity\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Remove\" },\r\n    ],\r\n    TreatmentUsageList: [],\r\n    meta: {},\r\n    ExchangeTreatmentListHeader: [\r\n      { label: \"No.\" },\r\n      { label: \"Staff Code\" },\r\n      { label: \"Staff Name\" },\r\n      { label: \"Trmt No\" },\r\n      { label: \"Original Item Code\" },\r\n      { label: \"Original Item Desc\" },\r\n      { label: \"Exchange Item Code\" },\r\n      { label: \"Exchange Item Desc\" },\r\n      { label: \"Trans#\" },\r\n      { label: \"Trans. Date\" },\r\n      { label: \"Exchange Date\" },\r\n    ],\r\n    ExchangeTreatmentList: [],\r\n    ExchangeMeta: {},\r\n    activeTab: \"3\",\r\n    isItemUsageUpdatePopup: false,\r\n    TreatmentHistoryId: 0,\r\n    treatment_code: \"\",\r\n    course: \"\",\r\n    remarks: \"\",\r\n    EditableRemark: true,\r\n    ExchangeStaffListHeader: [\r\n      { label: \"No.\" },\r\n      { label: \"Staff Code\" },\r\n      { label: \"Staff Name\" },\r\n    ],\r\n    ExchangeStaffList: [],\r\n    isNewItemUsage: false,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getTreatmentUsageList(this.props.TreatmentHistoryId);\r\n  };\r\n\r\n  getTreatmentUsageList = data => {\r\n    let { TreatmentUsageList } = this.state;\r\n    this.setState({\r\n      TreatmentHistoryId: data,\r\n    });\r\n    if (data > 0) {\r\n      this.props.getCommonApi(`stockusage/${data}/`).then(async res => {\r\n        await this.setState({ treatmentUsageList: [] });\r\n        let { data, status } = res;\r\n\r\n        if (status === 200 && res.error !== true) {\r\n          if (data) {\r\n            await this.setState({\r\n              TreatmentHistoryId: data.id,\r\n              treatment_code: data.treatment_code,\r\n              course: data.course,\r\n              remarks: data.remarks,\r\n            });\r\n\r\n            let ExchangeStaffList = data.staffs;\r\n            for (let datalist of data.usage) {\r\n              let item_code = datalist.item_code;\r\n              let link_code = datalist.link_code;\r\n              let item_desc = datalist.item_desc;\r\n              let qty = datalist.qty;\r\n              let uom = datalist.uom;\r\n              let stock_id = datalist.id;\r\n              let Treatmentid = data.id;\r\n              TreatmentUsageList.push({\r\n                item_code,\r\n                link_code,\r\n                item_desc,\r\n                qty,\r\n                uom,\r\n                stock_id,\r\n                Treatmentid,\r\n              });\r\n            }\r\n            await this.setState({ TreatmentUsageList, ExchangeStaffList });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n  toggle = tab => {\r\n    if (tab == \"3\") {\r\n      this.setState({ EditableRemark: true });\r\n    } else if (tab == \"1\") {\r\n      let { TreatmentUsageList } = this.state;\r\n      let filterEditableRemark = TreatmentUsageList.find(\r\n        account => account.Treatmentid === 0\r\n      );\r\n      if (filterEditableRemark) {\r\n        this.setState({ EditableRemark: true });\r\n      } else {\r\n        this.setState({ EditableRemark: false });\r\n      }\r\n    } else {\r\n      this.setState({ EditableRemark: false });\r\n    }\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n\r\n  itemUsageUpdatePopup = () => {\r\n    let { TreatmentUsageList } = this.state;\r\n    if (TreatmentUsageList && TreatmentUsageList.length > 0) {\r\n      this.setState(prevState => ({\r\n        isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup,\r\n      }));\r\n    } else {\r\n      this.setState(prevState => ({\r\n        isNewItemUsage: !prevState.isNewItemUsage,\r\n      }));\r\n    }\r\n  };\r\n  handleCloseItemUsagePopup = () => {\r\n    this.setState(prevState => ({\r\n      isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup,\r\n    }));\r\n  };\r\n\r\n  remarkHandle = ({ target: { name, value } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n  includeNewItems = async data => {\r\n    await this.setState({\r\n      isNewItemUsage: false,\r\n      isItemUsageUpdatePopup: false,\r\n      EditableRemark: true,\r\n    });\r\n\r\n    let { TreatmentUsageList } = this.state;\r\n    for (let value of data) {\r\n      TreatmentUsageList.push({\r\n        item_code: value.item_code,\r\n        link_code: value.link_code,\r\n        item_desc: value.ItemDesc,\r\n        qty: parseInt(value.qty),\r\n        uom: value.uom,\r\n        stock_id: value.stock_id,\r\n        Treatmentid: 0,\r\n      });\r\n    }\r\n    await this.setState({ TreatmentUsageList });\r\n  };\r\n  handleSave = () => {\r\n    let { TreatmentUsageList, TreatmentHistoryId, remarks } = this.state;\r\n    let data = [];\r\n    for (let final of TreatmentUsageList) {\r\n      if (final.Treatmentid == 0) {\r\n        data.push({\r\n          item_code: final.item_code,\r\n          link_code: final.link_code,\r\n          item_desc: final.item_desc,\r\n          qty: final.qty,\r\n          uom: final.uom,\r\n          stock_id: final.stock_id,\r\n        });\r\n      }\r\n    }\r\n    if (data.length > 0) {\r\n      this.props\r\n        .commonCreateApi(\r\n          `stockusage/?treat_id=${TreatmentHistoryId}&treat_remarks=${remarks}`,\r\n          data\r\n        )\r\n        .then(async res => {\r\n          if (res.status === 201) {\r\n            this.setState({ TreatmentUsageList: [], TreatmentHistoryId: 0 });\r\n            this.props.treatmentUsagePopupclose();\r\n          }\r\n        });\r\n    } else {\r\n      Toast({ type: \"error\", message: \"Please Add New Product and then try!\" });\r\n    }\r\n  };\r\n  deleteSelectedItem = async item => {\r\n    if (item.Treatmentid === 0) {\r\n      await this.setState(data => ({\r\n        TreatmentUsageList: data.TreatmentUsageList.filter(\r\n          x => x.stock_id != item.stock_id\r\n        ),\r\n      }));\r\n      let { TreatmentUsageList } = this.state;\r\n      let filterEditableRemark = TreatmentUsageList.find(\r\n        account => account.Treatmentid === 0\r\n      );\r\n      if (filterEditableRemark) {\r\n        this.setState({\r\n          EditableRemark: true,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          EditableRemark: false,\r\n        });\r\n      }\r\n    } else {\r\n      let { TreatmentHistoryId } = this.state;\r\n      this.props\r\n        .commonPatchApi(\r\n          `stockusage/${item.stock_id}/?treat_id=${TreatmentHistoryId}`\r\n        )\r\n        .then(async res => {\r\n          if (res.status === 200) {\r\n            await this.setState(data => ({\r\n              TreatmentUsageList: data.TreatmentUsageList.filter(\r\n                x => x.stock_id != item.stock_id\r\n              ),\r\n            }));\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      TreatmentUsageList,\r\n      TreatmentUsageListHeader,\r\n      meta,\r\n      isItemUsageUpdatePopup,\r\n      ExchangeTreatmentList,\r\n      ExchangeTreatmentListHeader,\r\n      ExchangeMeta,\r\n      TreatmentHistoryId,\r\n      treatment_code,\r\n      course,\r\n      remarks,\r\n      EditableRemark,\r\n      ExchangeStaffList,\r\n      ExchangeStaffListHeader,\r\n      isNewItemUsage,\r\n    } = this.state;\r\n    return (\r\n      <NormalModal\r\n        className={\"select-category\"}\r\n        style={{ minWidth: \"75%\" }}\r\n        modal={this.props.isTreatmentUsagePopup}\r\n        handleModal={this.props.treatmentUsagePopupclose}\r\n      >\r\n        <img\r\n          onClick={this.props.treatmentUsagePopupclose}\r\n          className=\"close\"\r\n          src={closeIcon}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"d-flex h4 justify-content-center p-1\">\r\n          Treatment Usage\r\n        </div>\r\n        <div className=\"customer-list container\">\r\n          <div className=\"d-flex justify-content-left\">\r\n            <div className=\"col-2\">\r\n              <div className=\"text-left\">{`Treatment Code`}</div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <div className=\"text-left fs-15 fw-500\">{treatment_code}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-left\">\r\n            <div className=\"col-2\">\r\n              <div className=\"text-left\">{`Treatment Name`}</div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <div className=\"text-left fs-15 fw-500\">{course}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-left\">\r\n            <div className=\"col-2\">\r\n              <div className=\"text-left\">Treatment Remarks</div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <div className=\"text-left fs-15 fw-500\">\r\n                {EditableRemark ? (\r\n                  <NormalTextarea\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.remarkHandle}\r\n                  />\r\n                ) : (\r\n                  <NormalTextarea\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.remarkHandle}\r\n                    disabled\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"beautesoft-navlink customer-detail mt-3\">\r\n            <div className=\"filled-tabs\">\r\n              <div className=\"tabs-block\">\r\n                <Nav tabs>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"3\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"3\");\r\n                      }}\r\n                    >\r\n                      Detail\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"1\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"1\");\r\n                      }}\r\n                    >\r\n                      Stock Usage\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"4\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"4\");\r\n                      }}\r\n                    >\r\n                      Staff\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"2\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"2\");\r\n                      }}\r\n                    >\r\n                      Exchange Treatment\r\n                    </NavLink>\r\n                  </NavItem>\r\n                </Nav>\r\n              </div>\r\n              <TabContent activeTab={this.state.activeTab}>\r\n                <TabPane tabId=\"1\">\r\n                  {this.state.activeTab === \"1\" ? (\r\n                    <div>\r\n                      <NormalButton\r\n                        mainbg={true}\r\n                        className=\"col-2 fs-15 mt-3\"\r\n                        label=\"Add Item Usage\"\r\n                        onClick={this.itemUsageUpdatePopup}\r\n                      />\r\n\r\n                      <div className=\"table-container table-responsive mt-3\">\r\n                        <TableWrapper headerDetails={TreatmentUsageListHeader}>\r\n                          {TreatmentUsageList &&\r\n                          TreatmentUsageList.length > 0 ? (\r\n                            TreatmentUsageList.map((item, index) => {\r\n                              return (\r\n                                <tr className=\"w-100\" key={index}>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {index + 1}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.item_code}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.link_code}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.item_desc}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.qty}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.uom}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div\r\n                                      className=\"d-flex align-items-center justify-content-center\"\r\n                                      onClick={() =>\r\n                                        this.deleteSelectedItem(item)\r\n                                      }\r\n                                    >\r\n                                      <img\r\n                                        width=\"25\"\r\n                                        height=\"25\"\r\n                                        className=\"ml-3\"\r\n                                        src={closeIcon}\r\n                                        alt=\"\"\r\n                                      />\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })\r\n                          ) : (\r\n                            <tr className=\"w-100\">\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  No data available\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </TableWrapper>\r\n                      </div>\r\n                      <div className=\"row text-center justify-content-end w-100 mt-3\">\r\n                        <NormalButton\r\n                          buttonClass={\"col-2\"}\r\n                          mainbg={true}\r\n                          className=\"col-12 ml-4 fs-15 \"\r\n                          label=\"Save\"\r\n                          onClick={this.handleSave}\r\n                        />\r\n                        <NormalButton\r\n                          buttonClass={\"col-2\"}\r\n                          mainbg={true}\r\n                          className=\"col-12 ml-4 fs-15 \"\r\n                          label=\"Cancel\"\r\n                          onClick={this.props.treatmentUsagePopupclose}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n                  <div className=\"col-12 d-flex justify-center\">\r\n                    {isNewItemUsage ? (\r\n                      <>\r\n                        <NormalModal\r\n                          style={{ minWidth: \"280px\" }}\r\n                          modal={isNewItemUsage}\r\n                          handleModal={this.toggle}\r\n                        >\r\n                          <div className=\"row new-cart issued-staff p-3\">\r\n                            <div className=\"col-12\">\r\n                              <div>\r\n                                <p>\r\n                                  Do you want to add default product for this\r\n                                  treatment ?\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-12 p-3\">\r\n                              <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      this.setState({ isNewItemUsage: false })\r\n                                    }\r\n                                    className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                                  >\r\n                                    Yes\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      this.setState(prevState => ({\r\n                                        isNewItemUsage: !prevState.isNewItemUsage,\r\n                                        isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup,\r\n                                      }))\r\n                                    }\r\n                                    className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                                  >\r\n                                    No\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </NormalModal>\r\n                      </>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </TabPane>\r\n                <TabPane tabId=\"2\">\r\n                  {this.state.activeTab === \"2\" ? (\r\n                    <div className=\"table-container table-responsive mt-3\">\r\n                      <TableWrapper\r\n                        headerDetails={ExchangeTreatmentListHeader}\r\n                        //queryHandler={this.handlePagination}\r\n                        pageMeta={ExchangeMeta}\r\n                      >\r\n                        {ExchangeTreatmentList &&\r\n                        ExchangeTreatmentList.length > 0 ? (\r\n                          ExchangeTreatmentList.map((item, index) => {\r\n                            return (\r\n                              <tr\r\n                                className=\"w-100\"\r\n                                onClick={() => this.handleSelectTreatment(item)}\r\n                                key={index}\r\n                              >\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.Item_Class}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_desc}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.add_duration}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_price}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_price}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_price}\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        ) : (\r\n                          <tr className=\"w-100\">\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                No data available\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  ) : null}\r\n                </TabPane>\r\n                <TabPane tabId=\"3\">\r\n                  {this.state.activeTab === \"3\" ? (\r\n                    <TreatmentUsageDetail\r\n                      TreatmentHistoryId={this.props.TreatmentHistoryId}\r\n                      remarks={remarks}\r\n                      treatment_code={treatment_code}\r\n                    />\r\n                  ) : null}\r\n                </TabPane>\r\n                <TabPane tabId=\"4\">\r\n                  {this.state.activeTab === \"4\" ? (\r\n                    <div className=\"table-container table-responsive mt-3\">\r\n                      <TableWrapper\r\n                        headerDetails={ExchangeStaffListHeader}\r\n                        //queryHandler={this.handlePagination}\r\n                        pageMeta={ExchangeMeta}\r\n                      >\r\n                        {ExchangeStaffList && ExchangeStaffList.length > 0 ? (\r\n                          ExchangeStaffList.map((item, index) => {\r\n                            return (\r\n                              <tr className=\"w-100\" key={index}>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.no}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.staff_code}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.helper_name}\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        ) : (\r\n                          <tr className=\"w-100\">\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                No data available\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  ) : null}\r\n                </TabPane>\r\n              </TabContent>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {isItemUsageUpdatePopup ? (\r\n          <ItemUsageUpdatePopup\r\n            isItemUsageUpdatePopup={isItemUsageUpdatePopup}\r\n            itemUsageUpdatePopup={this.handleCloseItemUsagePopup}\r\n            newItemlist={StockItemUsageList =>\r\n              this.includeNewItems(StockItemUsageList)\r\n            }\r\n          />\r\n        ) : null}\r\n      </NormalModal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateForm,\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TreatmentUsagePopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TreatmentUsagePopupClass);\r\n"]},"metadata":{},"sourceType":"module"}