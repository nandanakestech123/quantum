{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\PO\\\\AddPO\\\\details.js\";\nimport React from \"react\";\nimport { Toast } from \"service/toast\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { NormalButton, NormalDate, TableWrapper, InputSearch } from \"component/common\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport { withTranslation } from \"react-i18next\";\nimport { NormalInput, NormalDateTime } from \"component/common\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport updateBtn from \"../../../../assets/images/edit1.png\";\nimport deleteBtn from \"../../../../assets/images/delete1.png\";\nimport closeBtn from \"../../../../assets/images/close.png\";\nimport saveBtn from \"../../../../assets/images/save.png\";\nexport class DetailsClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Item Code\"\n      }, {\n        label: \"Item Description\"\n      }, {\n        label: \"Unit Price\"\n      }, {\n        label: \"Quantity\"\n      }, {\n        label: \"\"\n      }],\n      headerSelectedDetails: [{\n        label: \"Item Code\"\n      }, {\n        label: \"Item Description\"\n      }, {\n        label: \"Remarks\"\n      }, {\n        label: \"Unit Price\"\n      }, {\n        label: \"Quantity\"\n      }, {\n        label: \"\"\n      }, {\n        label: \"\"\n      }],\n      formFields: {\n        po_shipcost: \"\",\n        po_discount: \"\",\n        po_taxes: \"\",\n        po_total: \"\"\n      },\n      detailsList: [],\n      storedItemList: [],\n      pageMeta: {},\n      search: \"\",\n      active: false,\n      currentIndex: -1,\n      page: 1,\n      // limit: 10,\n      limit: 4,\n      isOpenvoidCheckout: false,\n      isLoading: true,\n      // is_loading: false,\n      isMounted: true // salesCollectionHeader: [\n      //   { label: \"Sales Collection\" },\n      //   { label: \"Before Tax\" },\n      //   { label: \"Amount\" },\n      //   { label: \"Qty\" },\n      // ],\n      // nonSalesCollectionHeader: [\n      //   { label: \"Non Sales Collection\" },\n      //   { label: \"Amount\" },\n      //   { label: \"Qty\" },\n      // ],\n      // deptSalesHeader: [{ label: \"Dept Sales\" }, { label: \"Amount\" }],\n      // salesTransactionHeader: [\n      //   { label: \"Sales Transaction\" },\n      //   { label: \"Amount\" },\n      //   { label: \"Paid\" },\n      //   { label: \"Outstanding\" },\n      // ],\n      // ARTransactionHeader: [{ label: \"AR Transaction\" }, { label: \"Amount\" }],\n      // TreatmentDoneHeader: [\n      //   { label: \"Customer\" },\n      //   { label: \"Customer Reference\" },\n      //   { label: \"Treatment Done\" },\n      //   { label: \"Description\" },\n      //   { label: \"Staff\" },\n      //   { label: \"Amount\" },\n      // DayDate: new Date(),\n      // runDayEnd: false,\n      // reportDate: \"\",\n      // sales_collec: null,\n      // sales_trasac: null,\n      // ar_trasac: null,\n      // treatment_done: null,\n      // dept_sales: null,\n\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.autofillDetailsFromQuo = () => {\n      let formFields = Object.assign({}, this.state.formFields);\n      let {\n        storedItemList\n      } = this.state;\n      this.props.getCommonApi(`quotationdetail/?searchqdetailid=${this.props.quoId}`).then(res => {\n        console.log(\"res in autofillDetailsFromQuo\", res);\n\n        if (res.status == 200) {\n          formFields[\"po_shipcost\"] = res.data[0].q_shipcost;\n          formFields[\"po_discount\"] = res.data[0].q_discount;\n          formFields[\"po_taxes\"] = res.data[0].q_taxes;\n          formFields[\"po_total\"] = res.data[0].q_total; // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\n\n          this.updateState({\n            formFields\n          });\n          this.props.storeItemDetails(storedItemList, formFields); // this.setState(this.state.formFields)\n        }\n\n        console.log(\"formFields in autofillDetailsFromQuo\", this.state.formFields);\n      });\n    };\n\n    this.autofillDetails = () => {\n      let formFields = Object.assign({}, this.state.formFields); // formFields[\"q_shipcost\"] = 12\n      // this.updateState({\n      //   formFields,\n      // });\n\n      this.props.getCommonApi(`podetail/?searchpodetailid=${this.props.poId}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res);\n\n        if (res.status == 200) {\n          formFields[\"po_shipcost\"] = res.data[0].po_shipcost;\n          formFields[\"po_discount\"] = res.data[0].po_discount;\n          formFields[\"po_taxes\"] = res.data[0].po_taxes;\n          formFields[\"po_total\"] = res.data[0].po_total; // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\n\n          this.updateState({\n            formFields\n          });\n          console.log(\"this.state.formFields in componentWillMount\", this.state.formFields);\n        }\n      });\n    };\n\n    this.getDetails = () => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        detailsList,\n        pageMeta,\n        page,\n        limit,\n        search\n      } = this.state; // let { item_desc } = formField;\n\n      this.props.getCommonApi(`qpoitem/?searchitemdesc=${search}&page=${page}&limit=${limit}`).then(async res => {\n        console.log(res, \"dsfdfaafg\");\n        await this.setState({\n          detailsList: []\n        });\n        detailsList = res.data.dataList; // pageMeta = res.data.meta.pagination;\n\n        pageMeta = res.data.pagination; // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\n        // this.setState({ detailsList, pageMeta });\n        // this.setState({ detailsList });\n\n        console.log('res.data', res.data);\n        console.log('detailsList', detailsList);\n        console.log('pageMeta', pageMeta);\n        this.updateState({\n          detailsList,\n          pageMeta,\n          isLoading: false\n        });\n      });\n    };\n\n    this.handlePagination = async pageNo => {\n      let {\n        page\n      } = this.state;\n      page = pageNo.page;\n      await this.setState({\n        page\n      });\n      this.getDetails();\n    };\n\n    this.handlesearch = event => {\n      // event.persist();\n      console.log(event.target.value);\n      let {\n        search\n      } = this.state;\n      search = event.target.value;\n      this.setState({\n        search\n      });\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(async () => {\n          this.getDetails({});\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.handleChangeDetails = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        detailsList\n      } = this.state;\n      console.log(\"value\", value);\n      console.log(\"name\", name);\n\n      for (let list in detailsList) {\n        if (detailsList[list].item_code == name) {\n          detailsList[list].item_quantity = value;\n        }\n\n        console.log(\"detailsList[list].item_code\", detailsList[list].item_code);\n      }\n\n      this.setState({\n        detailsList\n      });\n      console.log(\"detailsList in handleChange\", detailsList); // current_item_quantity = value\n      // this.setState({ current_item_quantity })\n    };\n\n    this.handleSelect = (item_code, item_desc, item_price) => {\n      let {\n        storedItemList,\n        detailsList,\n        formFields\n      } = this.state;\n      console.log(\"item_code\", item_code);\n      console.log(\"item_desc\", item_desc);\n      console.log(\"item_price\", item_price);\n\n      for (let list in detailsList) {\n        if (detailsList[list].item_code == item_code) {\n          let item_quantiy = detailsList[list].item_quantity;\n\n          if (item_quantiy) {\n            storedItemList.push({\n              \"item_code\": item_code,\n              \"item_desc\": item_desc,\n              \"item_remarks\": \"\",\n              \"item_price\": item_price,\n              \"item_quantity\": item_quantiy,\n              \"editing\": false\n            });\n          } else {\n            item_quantiy = 1;\n            storedItemList.push({\n              \"item_code\": item_code,\n              \"item_desc\": item_desc,\n              \"item_remarks\": \"\",\n              \"item_price\": item_price,\n              \"item_quantity\": item_quantiy,\n              \"editing\": false\n            });\n          }\n        }\n      }\n\n      console.log(\"storedItemList\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleRemoveStoredItem = item_code => {\n      let {\n        storedItemList,\n        formFields\n      } = this.state;\n\n      for (var i = 0; i < storedItemList.length; i++) {\n        if (storedItemList[i].item_code == item_code) {\n          storedItemList.splice(i, 1);\n        }\n      }\n\n      console.log(\"storedItemList after remove\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleEdit = item_code => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == item_code) {\n          storedItemList[list].editing = true;\n        }\n      }\n\n      console.log(\"storedItemList in handleedit\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n    };\n\n    this.handleSave = item_code => {\n      let {\n        storedItemList,\n        formFields\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == item_code) {\n          storedItemList[list].editing = false;\n        }\n      }\n\n      console.log(\"storedItemList in handleedit\", storedItemList);\n      this.setState({\n        storedItemList\n      });\n      this.props.storeItemDetails(storedItemList, formFields);\n    };\n\n    this.handleEditChangeRemarks = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_remarks = value;\n        } // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.handleEditChangePrice = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_price = value;\n        } // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.handleEditChangeQuantity = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        storedItemList\n      } = this.state;\n\n      for (let list in storedItemList) {\n        if (storedItemList[list].item_code == name) {\n          storedItemList[list].item_quantity = value;\n        } // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\n\n      }\n\n      this.setState({\n        storedItemList\n      });\n      console.log(\"storedItemList in handleEditChange\", storedItemList);\n    };\n\n    this.autofillSaved = () => {\n      let {\n        storedItemList,\n        formFields\n      } = this.state;\n      storedItemList = this.props.storedItemListStored;\n      formFields.po_shipcost = this.props.formFieldsDetailsStored.po_shipcost;\n      formFields.po_discount = this.props.formFieldsDetailsStored.po_discount;\n      formFields.po_taxes = this.props.formFieldsDetailsStored.po_taxes;\n      formFields.po_total = this.props.formFieldsDetailsStored.po_total;\n      this.setState({\n        storedItemList,\n        formFields\n      });\n      console.log(\"storedItemList in autofillSaved\", storedItemList);\n      console.log(\"formFields in autofillSaved\", formFields);\n    };\n  }\n\n  componentWillMount() {\n    this.autofillSaved();\n  }\n\n  componentDidMount() {\n    // let From = new Date();\n    // let { formField } = this.state;\n    // let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\n    // formField[\"fromDate\"] = firstdayMonth;\n    // this.setState({\n    //   formField,\n    // });\n    this.getDetails();\n\n    if (this.props.poId) {\n      this.autofillDetails();\n    }\n\n    if (this.props.quoId) {\n      this.autofillDetailsFromQuo();\n      console.log(\"this.props.quoId\", this.props.quoId);\n    }\n\n    console.log(\"this.props in comdidmount\", this.props); // this.queryHandler({});\n\n    console.log(\"this.props.storedItemListStored loaded\", this.props.storedItemListStored);\n    console.log(\"this.props.formFieldsDetailsStored loaded\", this.props.formFieldsDetailsStored);\n  }\n\n  render() {\n    let {\n      headerDetails,\n      headerSelectedDetails,\n      pageMeta,\n      detailsList,\n      storedItemList,\n      isLoading,\n      formFields\n    } = this.state;\n    let {\n      po_shipcost,\n      po_discount,\n      po_taxes,\n      po_total\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      placeholder: \"Search Item\",\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: pageMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 15\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 31\n      }\n    }, t(\"Loading...\")))))) : detailsList ? detailsList.map((item, index) => {\n      let {\n        item_code,\n        item_desc,\n        item_price,\n        item_quantity\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 29\n        }\n      }, item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 29\n        }\n      }, item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 29\n        }\n      }, item_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_quantity,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"mx-2\",\n        disabled: this.props.disableEdit,\n        mainbg: true,\n        className: \"warning\",\n        label: \"Select\",\n        onClick: () => this.handleSelect(item_code, item_desc, item_price),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 31\n        }\n      }))));\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerSelectedDetails // queryHandler={this.handlePagination}\n      // pageMeta={pageMeta}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 17\n      }\n    }, storedItemList ? storedItemList.map((item, index) => {\n      let {\n        item_code,\n        item_desc,\n        item_remarks,\n        item_price,\n        item_quantity,\n        editing\n      } = item;\n      return editing == false ? /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 31\n        }\n      }, item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 31\n        }\n      }, item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 31\n        }\n      }, item_remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 31\n        }\n      }, item_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 31\n        }\n      }, item_quantity)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: updateBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent\",\n        onClick: this.props.disableEdit == false ? () => this.handleEdit(item_code) : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: deleteBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent \",\n        onClick: this.props.disableEdit == false ? () => this.handleRemoveStoredItem(item_code) : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 33\n        }\n      })))) : /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 31\n        }\n      }, item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 31\n        }\n      }, item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_remarks,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleEditChangeRemarks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 31\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_price,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleEditChangePrice,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 31\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalInput, {\n        value: item_quantity,\n        disabled: this.props.disableEdit,\n        name: item_code,\n        onChange: this.handleEditChangeQuantity,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 31\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: saveBtn,\n        width: \"35\",\n        height: \"35\",\n        alt: \"\",\n        className: \"action-img bg-transparent \",\n        onClick: this.props.disableEdit == false ? () => this.handleSave(item_code) : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 33\n        }\n      }))));\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-end mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 23\n      }\n    }, t(\"Shipping Cost\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: this.props.disableEdit,\n      value: po_shipcost,\n      name: \"po_shipcost\",\n      onChange: this.handleChangeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 23\n      }\n    }, t(\"Discount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-discount w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput // placeholder=\"Enter here\"\n    , {\n      disabled: this.props.disableEdit,\n      value: po_discount,\n      name: \"po_discount\",\n      onChange: this.handleChangeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 23\n      }\n    }, t(\"Taxes\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 714,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: this.props.disableEdit,\n      value: po_taxes,\n      name: \"po_taxes\",\n      onChange: this.handleChangeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 23\n      }\n    }, t(\"Total\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-address w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: this.props.disableEdit,\n      value: po_total,\n      name: \"po_total\",\n      onChange: this.handleChangeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 21\n      }\n    }, this.props.validator.message(t(\"Total\"), po_total, t(\"required\")))))));\n  }\n\n} // const mapStateToProps = state => ({\n//   projectDetail: state.project.projectDetail,\n// });\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi // deleteProject,\n    // getProject\n\n  }, dispatch);\n};\n\nexport const Details = withTranslation()(connect(null, mapDispatchToProps)(DetailsClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/PO/AddPO/details.js"],"names":["React","Toast","connect","bindActionCreators","getCommonApi","NormalButton","NormalDate","TableWrapper","InputSearch","dateFormat","withTranslation","NormalInput","NormalDateTime","Link","_","updateBtn","deleteBtn","closeBtn","saveBtn","DetailsClass","Component","state","headerDetails","label","headerSelectedDetails","formFields","po_shipcost","po_discount","po_taxes","po_total","detailsList","storedItemList","pageMeta","search","active","currentIndex","page","limit","isOpenvoidCheckout","isLoading","isMounted","updateState","data","setState","autofillDetailsFromQuo","Object","assign","props","quoId","then","res","console","log","status","q_shipcost","q_discount","q_taxes","q_total","storeItemDetails","autofillDetails","poId","getDetails","dataList","pagination","handlePagination","pageNo","handlesearch","event","target","value","debouncedFn","debounce","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","e","node","contains","handleChangeDetails","name","handleChange","list","item_code","item_quantity","handleSelect","item_desc","item_price","item_quantiy","push","handleRemoveStoredItem","i","length","splice","handleEdit","editing","handleSave","handleEditChangeRemarks","item_remarks","handleEditChangePrice","handleEditChangeQuantity","autofillSaved","storedItemListStored","formFieldsDetailsStored","componentWillMount","componentDidMount","render","t","map","item","index","disableEdit","validator","message","mapDispatchToProps","dispatch","Details"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Toast } from \"service/toast\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport { NormalButton, NormalDate, TableWrapper, InputSearch } from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NormalInput, NormalDateTime } from \"component/common\";\r\nimport { Link } from \"react-router-dom\"; \r\nimport _ from \"lodash\";\r\nimport updateBtn from  \"../../../../assets/images/edit1.png\"\r\nimport deleteBtn from  \"../../../../assets/images/delete1.png\"\r\nimport closeBtn from \"../../../../assets/images/close.png\"\r\nimport saveBtn from \"../../../../assets/images/save.png\"\r\n\r\nexport class DetailsClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Unit Price\" },\r\n      { label: \"Quantity\" },\r\n      { label: \"\" },\r\n\r\n    ],\r\n    headerSelectedDetails: [\r\n      { label: \"Item Code\" },\r\n      { label: \"Item Description\" },\r\n      { label: \"Remarks\" },\r\n      { label: \"Unit Price\" },\r\n      { label: \"Quantity\" },\r\n      { label: \"\" },\r\n      { label: \"\" },\r\n\r\n    ],\r\n    formFields: {\r\n      po_shipcost:\"\",\r\n      po_discount:\"\",\r\n      po_taxes:\"\",\r\n      po_total:\"\",\r\n\r\n    },\r\n    \r\n    detailsList: [],\r\n    storedItemList:[],\r\n    pageMeta: { },\r\n\r\n\r\n    search: \"\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    page: 1,\r\n    // limit: 10,\r\n    limit: 4,\r\n    isOpenvoidCheckout: false,\r\n    isLoading: true,\r\n    // is_loading: false,\r\n    isMounted: true,\r\n\r\n    \r\n\r\n    // salesCollectionHeader: [\r\n    //   { label: \"Sales Collection\" },\r\n    //   { label: \"Before Tax\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Qty\" },\r\n    // ],\r\n    // nonSalesCollectionHeader: [\r\n    //   { label: \"Non Sales Collection\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Qty\" },\r\n    // ],\r\n    // deptSalesHeader: [{ label: \"Dept Sales\" }, { label: \"Amount\" }],\r\n    // salesTransactionHeader: [\r\n    //   { label: \"Sales Transaction\" },\r\n    //   { label: \"Amount\" },\r\n    //   { label: \"Paid\" },\r\n    //   { label: \"Outstanding\" },\r\n    // ],\r\n    // ARTransactionHeader: [{ label: \"AR Transaction\" }, { label: \"Amount\" }],\r\n    // TreatmentDoneHeader: [\r\n    //   { label: \"Customer\" },\r\n    //   { label: \"Customer Reference\" },\r\n    //   { label: \"Treatment Done\" },\r\n    //   { label: \"Description\" },\r\n    //   { label: \"Staff\" },\r\n    //   { label: \"Amount\" },\r\n    // DayDate: new Date(),\r\n    // runDayEnd: false,\r\n    // reportDate: \"\",\r\n    // sales_collec: null,\r\n    // sales_trasac: null,\r\n    // ar_trasac: null,\r\n    // treatment_done: null,\r\n    // dept_sales: null,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.autofillSaved();\r\n  };\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentDidMount() {\r\n    // let From = new Date();\r\n    // let { formField } = this.state;\r\n    // let firstdayMonth = new Date(From.getFullYear(), From.getMonth(), 1);\r\n    // formField[\"fromDate\"] = firstdayMonth;\r\n    // this.setState({\r\n    //   formField,\r\n    // });\r\n\r\n    this.getDetails();\r\n    if(this.props.poId){\r\n      this.autofillDetails()\r\n    }\r\n    if(this.props.quoId){\r\n      this.autofillDetailsFromQuo()\r\n      console.log(\"this.props.quoId\",this.props.quoId)\r\n    } \r\n    console.log(\"this.props in comdidmount\",this.props)\r\n    // this.queryHandler({});\r\n    console.log(\"this.props.storedItemListStored loaded\",this.props.storedItemListStored)\r\n    console.log(\"this.props.formFieldsDetailsStored loaded\",this.props.formFieldsDetailsStored)\r\n  }\r\n\r\n  autofillDetailsFromQuo = () => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    let { storedItemList } = this.state\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationdetail/?searchqdetailid=${this.props.quoId}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in autofillDetailsFromQuo\", res)\r\n\r\n        if(res.status == 200){       \r\n          formFields[\"po_shipcost\"] = res.data[0].q_shipcost\r\n          formFields[\"po_discount\"] = res.data[0].q_discount\r\n          formFields[\"po_taxes\"] = res.data[0].q_taxes\r\n          formFields[\"po_total\"] = res.data[0].q_total\r\n\r\n          // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\r\n          this.updateState({\r\n            formFields,\r\n          });\r\n          this.props.storeItemDetails(storedItemList, formFields)\r\n          // this.setState(this.state.formFields)\r\n        }\r\n        console.log(\"formFields in autofillDetailsFromQuo\",this.state.formFields)\r\n      })\r\n  }\r\n\r\n  autofillDetails = () => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n      // formFields[\"q_shipcost\"] = 12\r\n      // this.updateState({\r\n      //   formFields,\r\n      // });\r\n      this.props\r\n      .getCommonApi(\r\n        `podetail/?searchpodetailid=${this.props.poId}`\r\n      )\r\n        .then(res => {\r\n          console.log(\"res in getAutofillItemDetails\", res)\r\n          if(res.status == 200){ \r\n            formFields[\"po_shipcost\"] = res.data[0].po_shipcost\r\n            formFields[\"po_discount\"] = res.data[0].po_discount\r\n            formFields[\"po_taxes\"] = res.data[0].po_taxes\r\n            formFields[\"po_total\"] = res.data[0].po_total\r\n            // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\r\n            this.updateState({\r\n              formFields,\r\n            });\r\n            console.log(\"this.state.formFields in componentWillMount\",this.state.formFields)\r\n          }\r\n        })\r\n  }\r\n  \r\n\r\n  getDetails = () => {\r\n    this.updateState({ isLoading: true });\r\n    let { detailsList, pageMeta, page, limit, search } = this.state;\r\n    // let { item_desc } = formField;\r\n\r\n    this.props\r\n    .getCommonApi(\r\n      `qpoitem/?searchitemdesc=${search}&page=${page}&limit=${limit}`\r\n    )\r\n      .then(async res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        await this.setState({ detailsList: [] });\r\n        detailsList = res.data.dataList;\r\n        // pageMeta = res.data.meta.pagination;\r\n        pageMeta = res.data.pagination;\r\n        // pageMeta = {per_page:5, current_page:1, total:2, total_pages:4}\r\n        // this.setState({ detailsList, pageMeta });\r\n        // this.setState({ detailsList });\r\n        \r\n        console.log('res.data',res.data)\r\n        console.log('detailsList',detailsList)\r\n        console.log('pageMeta',pageMeta)\r\n        this.updateState({\r\n          detailsList,\r\n          pageMeta,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handlePagination = async pageNo => {\r\n    let { page } = this.state;\r\n    page = pageNo.page;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    this.getDetails();\r\n  };\r\n  // pagination\r\n  // handlePagination = page => {\r\n  //   this.queryHandler(page);\r\n  // };\r\n\r\n  handlesearch = event => {\r\n    // event.persist();\r\n    console.log(event.target.value);\r\n    let { search } = this.state;\r\n    search = event.target.value;\r\n    this.setState({ search });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getDetails({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  handleChangeDetails = ({ target: { value, name } }) => {\r\n    let {storedItemList} = this.state\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n    this.props.storeItemDetails(storedItemList, formFields)\r\n  };\r\n\r\n  handleChange = ({ target: { value, name }}) => {\r\n    let { detailsList} = this.state;\r\n    console.log(\"value\",value)\r\n    console.log(\"name\",name)\r\n    \r\n    for (let list in detailsList){\r\n        if (detailsList[list].item_code == name){\r\n          detailsList[list].item_quantity = value\r\n        }\r\n        console.log(\"detailsList[list].item_code\",detailsList[list].item_code)\r\n        \r\n      }\r\n      \r\n      this.setState({\r\n        detailsList,\r\n      });\r\n      console.log(\"detailsList in handleChange\", detailsList)\r\n    // current_item_quantity = value\r\n    // this.setState({ current_item_quantity })\r\n  };\r\n\r\n  handleSelect = (item_code, item_desc, item_price) => {\r\n    let { storedItemList, detailsList, formFields } = this.state;\r\n    console.log(\"item_code\", item_code)\r\n    console.log(\"item_desc\", item_desc)\r\n    console.log(\"item_price\", item_price)\r\n\r\n    for (let list in detailsList){\r\n      if (detailsList[list].item_code == item_code){\r\n        let item_quantiy = detailsList[list].item_quantity\r\n        if (item_quantiy){\r\n        storedItemList.push({\"item_code\":item_code, \"item_desc\":item_desc, \"item_remarks\":\"\", \"item_price\":item_price, \"item_quantity\":item_quantiy, \"editing\":false})\r\n        }\r\n        else{\r\n          item_quantiy = 1\r\n          storedItemList.push({\"item_code\":item_code, \"item_desc\":item_desc, \"item_remarks\":\"\", \"item_price\":item_price, \"item_quantity\":item_quantiy, \"editing\":false})\r\n        }\r\n      }\r\n    }\r\n\r\n    \r\n    console.log(\"storedItemList\",storedItemList)\r\n    this.setState({storedItemList})\r\n    this.props.storeItemDetails(storedItemList, formFields)\r\n  }\r\n  \r\n  handleRemoveStoredItem = (item_code) => {\r\n    let {storedItemList, formFields} = this.state\r\n    for (var i = 0; i < storedItemList.length; i++){\r\n      if(storedItemList[i].item_code == item_code) {\r\n        storedItemList.splice(i,1)\r\n      }\r\n    }\r\n    console.log(\"storedItemList after remove\", storedItemList)\r\n    this.setState({storedItemList})\r\n    this.props.storeItemDetails(storedItemList, formFields)\r\n  }\r\n\r\n  handleEdit = (item_code) => {\r\n    let {storedItemList} = this.state\r\n    for (let list in storedItemList){\r\n      if (storedItemList[list].item_code == item_code){\r\n        storedItemList[list].editing = true\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList)\r\n\r\n    this.setState({storedItemList})\r\n  }\r\n\r\n  handleSave = (item_code) => {\r\n    let {storedItemList, formFields} = this.state\r\n    for (let list in storedItemList){\r\n      if (storedItemList[list].item_code == item_code){\r\n        storedItemList[list].editing = false\r\n      }\r\n    }\r\n    console.log(\"storedItemList in handleedit\", storedItemList)\r\n\r\n    this.setState({storedItemList})\r\n    this.props.storeItemDetails(storedItemList, formFields)\r\n  }\r\n\r\n  handleEditChangeRemarks = ({ target: { value, name }}) => {\r\n    let {storedItemList} = this.state\r\n\r\n    for (let list in storedItemList){\r\n      if (storedItemList[list].item_code == name){\r\n        storedItemList[list].item_remarks = value\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      \r\n    }\r\n    \r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    \r\n    console.log(\"storedItemList in handleEditChange\", storedItemList)\r\n  }\r\n\r\n  handleEditChangePrice = ({ target: { value, name }}) => {\r\n    let {storedItemList} = this.state\r\n\r\n    for (let list in storedItemList){\r\n      if (storedItemList[list].item_code == name){\r\n        storedItemList[list].item_price = value\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      \r\n    }\r\n    \r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList)\r\n  }\r\n\r\n  handleEditChangeQuantity = ({ target: { value, name }}) => {\r\n    let {storedItemList} = this.state\r\n\r\n    for (let list in storedItemList){\r\n      if (storedItemList[list].item_code == name){\r\n        storedItemList[list].item_quantity = value\r\n      }\r\n      // console.log(\"storedItemList[list].item_code\",storedItemList[list].item_code)\r\n      \r\n    }\r\n    \r\n    this.setState({\r\n      storedItemList,\r\n    });\r\n    console.log(\"storedItemList in handleEditChange\", storedItemList)\r\n  }\r\n\r\n  autofillSaved = () => {\r\n    let { storedItemList, formFields } = this.state;\r\n\r\n    storedItemList = this.props.storedItemListStored\r\n    \r\n    formFields.po_shipcost = this.props.formFieldsDetailsStored.po_shipcost\r\n    formFields.po_discount = this.props.formFieldsDetailsStored.po_discount\r\n    formFields.po_taxes = this.props.formFieldsDetailsStored.po_taxes\r\n    formFields.po_total = this.props.formFieldsDetailsStored.po_total\r\n    \r\n    this.setState({storedItemList, formFields})\r\n    console.log(\"storedItemList in autofillSaved\", storedItemList)\r\n    console.log(\"formFields in autofillSaved\", formFields)\r\n  }\r\n  \r\n  \r\n\r\n  render() {\r\n    let { headerDetails, headerSelectedDetails, pageMeta, detailsList, storedItemList, isLoading, formFields } = \r\n      this.state;\r\n\r\n    let { po_shipcost, po_discount, po_taxes, po_total } = formFields\r\n    \r\n    let {t} =this.props;\r\n    \r\n    return (\r\n\r\n      <div className=\"py-4\">\r\n            <div className=\"table-container\">\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-8\"></div>\r\n\r\n                <div className='col-4 mb-3'>\r\n                  <div className=\"w-100\">\r\n                    <InputSearch\r\n                      placeholder=\"Search Item\"\r\n                      onChange={this.handlesearch}\r\n                    />\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n                pageMeta={pageMeta}\r\n              >\r\n                {isLoading ? (\r\n                      <tr>\r\n                        <td colSpan=\"7\">\r\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                            <div class=\"spinner-border\" role=\"status\">\r\n                              <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                \r\n                ) : detailsList\r\n                  ? detailsList.map((item, index) => {\r\n                      let {\r\n                        item_code,\r\n                        item_desc,\r\n                        item_price,\r\n                        item_quantity                    \r\n                        \r\n                      } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              { item_code }\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              { item_desc }\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              { item_price }\r\n                            </div>\r\n                          </td>\r\n\r\n                          <td>\r\n                            {/* <div className=\"input-group\"> */}\r\n                              <NormalInput\r\n                                value={item_quantity}\r\n                                disabled={this.props.disableEdit}\r\n                                name={item_code}\r\n                                onChange={this.handleChange}\r\n                              />\r\n                            {/* </div> */}\r\n                          </td>\r\n\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                disabled={this.props.disableEdit}\r\n                                mainbg={true}\r\n                                className=\"warning\"\r\n                                label=\"Select\"\r\n                                onClick={() => this.handleSelect(item_code, item_desc, item_price)}\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                          \r\n                                   \r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n                \r\n              \r\n              </TableWrapper >\r\n\r\n              <div className=\"row mt-5\"></div>\r\n                <TableWrapper\r\n                headerDetails={headerSelectedDetails}\r\n                // queryHandler={this.handlePagination}\r\n                // pageMeta={pageMeta}\r\n                >\r\n                  {storedItemList\r\n                  ? storedItemList.map((item, index) => {\r\n                      let {\r\n                        item_code,\r\n                        item_desc,\r\n                        item_remarks,\r\n                        item_price,\r\n                        item_quantity,\r\n                        editing\r\n                      } = item;\r\n                        return (\r\n                          editing==false ?\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_code }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_desc }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_remarks }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_price }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_quantity }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={updateBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent\"\r\n                                  onClick={this.props.disableEdit==false ? () =>this.handleEdit(item_code):\"\"}\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={deleteBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent \" \r\n                                  onClick={this.props.disableEdit==false ? () =>this.handleRemoveStoredItem(item_code):\"\"}\r\n                                />\r\n                              </div>\r\n                            </td>                        \r\n                                    \r\n                          </tr> : \r\n\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_code }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                { item_desc }\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalInput\r\n                                value={item_remarks}\r\n                                disabled={this.props.disableEdit}\r\n                                name={item_code}\r\n                                onChange={this.handleEditChangeRemarks}\r\n                              />\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalInput\r\n                                value={item_price}\r\n                                disabled={this.props.disableEdit}\r\n                                name={item_code}\r\n                                onChange={this.handleEditChangePrice}\r\n                              />\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalInput\r\n                                value={item_quantity}\r\n                                disabled={this.props.disableEdit}\r\n                                name={item_code}\r\n                                onChange={this.handleEditChangeQuantity}\r\n                              />\r\n                              </div>\r\n                            </td>\r\n                            {/* <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={closeBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent\"\r\n                                  onClick={() =>this.handleClose(item_code)}\r\n                                />\r\n                              </div>\r\n                            </td> */}\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <img\r\n                                  src={saveBtn}\r\n                                  width=\"35\"\r\n                                  height=\"35\"\r\n                                  alt=\"\"\r\n                                  className=\"action-img bg-transparent \" \r\n                                  onClick={this.props.disableEdit==false ? () =>this.handleSave(item_code):\"\"}\r\n                                  \r\n                                />\r\n                              </div>\r\n                            </td>                        \r\n                                  \r\n                          </tr>\r\n                        );\r\n                    })\r\n                  : null}\r\n\r\n                </TableWrapper >\r\n\r\n                <div className=\"row justify-content-end mt-5\">\r\n                  <div className=\"col-4\">\r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Shipping Cost\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_shipcost}\r\n                          name=\"po_shipcost\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Discount\")}\r\n                      </label>\r\n                      <div className=\"input-group-discount w-100\">\r\n                        <NormalInput\r\n                          // placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_discount}\r\n                          name=\"po_discount\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                      \r\n                    </div>                   \r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Taxes\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_taxes}\r\n                          name=\"po_taxes\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex mb-3\"> \r\n                      <label className=\"text-left w-100 text-black common-label-text fs-15 pl-5 pt-2\">\r\n                        {t(\"Total\")}\r\n                      </label>\r\n                      <div className=\"input-group-address w-100\">\r\n                        <NormalInput\r\n                          placeholder=\"Enter here\"\r\n                          disabled={this.props.disableEdit}\r\n                          value={po_total}\r\n                          name=\"po_total\"\r\n                          onChange={this.handleChangeDetails}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                        {this.props.validator.message(\r\n                          t(\"Total\"),\r\n                          po_total,\r\n                          t(\"required\")\r\n                        )}\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                \r\n                \r\n              \r\n            </div>\r\n          </div>\r\n    );\r\n    \r\n  }\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n//   projectDetail: state.project.projectDetail,\r\n// });\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      // deleteProject,\r\n      // getProject\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\n\r\n\r\nexport const Details =withTranslation()( connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(DetailsClass));\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}