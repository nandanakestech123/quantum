{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Quantum\\\\PO\\\\AddPO\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { NormalInput, NormalSelect, NormalButton, NormalDateTime, NormalMultiSelect, NormalTextarea } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { getJobtitle, getCommonApi, commonCreateApi, commonUpdateApi, commonDeleteApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\nimport { NavLink } from \"react-router-dom\";\nimport { Address } from \"./address\";\nimport { Details } from \"./details\";\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\nimport { getTokenDetails } from \"redux/actions/auth\";\nimport { useLocation } from \"react-router-dom\";\nimport { history } from \"helpers\";\nexport class AddPOClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        PONumber: \"\",\n        projectTitle: \"\",\n        PODate: new Date(),\n        companyName: \"\",\n        status: \"\",\n        from: \"\",\n        remarks: \"\",\n        quoNumber: \"\",\n        contactPerson: []\n      },\n      fkProject: \"\",\n      fkQuotation: \"\",\n      statusOption: [],\n      countryOption: [],\n      stateOption: [],\n      cityOption: [],\n      disableEdit: false,\n      is_loading: true,\n      isMounted: true,\n      siteGstList: [],\n      formFieldsBillingStored: [],\n      formFieldsShippingStored: [],\n      storedItemListStored: [],\n      itemListBeforeEdit: [],\n      formFieldsDetailsStored: {},\n      active: false,\n      currentValue: 0,\n      navLinks: [{\n        to: this.props.location.pathname,\n        label: \"Details\",\n        id: \"Details\"\n      }, {\n        to: this.props.location.pathname,\n        label: \"Address\",\n        id: \"Address\"\n      }],\n      selectedMenu: \"Details\",\n      visible: false,\n      visibleCustomer: false,\n      projectOption: [],\n      customerOption: []\n    };\n\n    this.componentWillMount = () => {\n      if (this.props.location.state) {\n        if (this.props.location.state.quoId) {\n          this.state.fkQuotation = this.props.location.state.quoId;\n          this.setState({\n            fkQuotation: this.state.fkQuotation\n          });\n          console.log(\"this.props.location.state.quoId\", this.props.location.state.quoId);\n          console.log(\"this.state.fkQuotation\", this.state.fkQuotation);\n        }\n      }\n\n      this.getStatus();\n      this.getCountry();\n      this.getState();\n      this.getCity();\n      this.validator = new SimpleReactValidator({\n        validators: {},\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n    };\n\n    this.componentDidMount = () => {\n      if (this.props.location.state) {\n        if (this.props.location.state.projectFk) {\n          this.state.fkProject = this.props.location.state.projectFk;\n          this.setState({\n            fkProject: this.state.fkProject\n          });\n          console.log(\"this.props.location.state.projectFk\", this.props.location.state.projectFk);\n          console.log(\"this.state.fkProject\", this.state.fkProject);\n        } // this.state.fkQuotation = this.props.location.state.quoId\n        // this.setState({fkQuotation : this.state.fkQuotation})\n        // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\n        // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\n\n      }\n\n      console.log(\"this.props\", this.props);\n      console.log(\"this.state\", this.state); // console.log(\"useLocation()\",useLocation())\n\n      if (this.props.match.params.id) {\n        this.getAutofillItemDetails();\n      }\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleSearchClick();\n    };\n\n    this.search = () => {\n      let {\n        formFields\n      } = this.state;\n      this.props.getCommonApi(`projectsearch/?search=${formFields.projectTitle}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            projectOption: data\n          });\n        }\n      });\n    };\n\n    this.handleSearch = async event => {\n      //    event.persist();\n      let {\n        formFields,\n        visible\n      } = this.state;\n      formFields[\"projectTitle\"] = event.target.value;\n      visible = true;\n      this.setState({\n        formFields,\n        visible\n      });\n      this.search();\n    };\n\n    this.handleSearchClick = key => {\n      if (!this.state.visible) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      if (this.state.visible) {\n        this.search();\n      }\n\n      this.setState(prevState => ({\n        visible: !prevState.visible\n      }));\n    };\n\n    this.handleSelectProject = async data => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"projectTitle\"] = data.title;\n      formFields[\"companyName\"] = data.customer_name;\n      this.props.getCommonApi(`custappt/?search=${data.customer_name}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          if (data.length > 0) {\n            if (!data[0].cust_corporate) {\n              let {\n                formFields\n              } = this.state;\n              formFields[\"attnTo\"] = data[0].cust_name;\n              formFields[\"contactPerson\"] = [];\n            } else {\n              formFields[\"contactPerson\"] = data[0].contactperson;\n            }\n          } else {\n            formFields[\"attnTo\"] = formFields[\"companyName\"];\n            formFields[\"contactPerson\"] = [];\n          }\n        } else if (status === 204) {\n          formFields[\"attnTo\"] = formFields[\"companyName\"];\n          formFields[\"contactPerson\"] = [];\n        }\n\n        this.setState({\n          formFields,\n          projectOption: []\n        });\n      });\n      this.setState({\n        formFields,\n        projectOption: []\n      });\n      this.handleSearchClick();\n    };\n\n    this.handleSelectCustomer = async data => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"companyName\"] = data.cust_name;\n\n      if (!data.cust_corporate) {\n        formFields[\"attnTo\"] = data.cust_name;\n      } else {\n        formFields[\"contactPerson\"] = data.contactperson;\n      }\n\n      this.setState({\n        formFields,\n        customerOption: []\n      });\n      this.handleCustomerSearchClick();\n    };\n\n    this.handleCustomerSearchClick = key => {\n      if (!this.state.visibleCustomer) {\n        document.addEventListener(\"click\", this.handleOutsideCustomerClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideCustomerClick, false);\n      }\n\n      if (this.state.visibleCustomer) {\n        this.searchCustomer();\n      }\n\n      this.setState(prevState => ({\n        visibleCustomer: !prevState.visibleCustomer\n      }));\n    };\n\n    this.handleCustomerSearch = async event => {\n      //    event.persist();\n      let {\n        formFields,\n        visibleCustomer\n      } = this.state;\n      formFields[\"companyName\"] = event.target.value;\n      visibleCustomer = true;\n      this.setState({\n        formFields,\n        visibleCustomer\n      });\n      this.searchCustomer();\n    };\n\n    this.searchCustomer = () => {\n      let {\n        formFields\n      } = this.state;\n      this.props.getCommonApi(`custappt/?search=${formFields.companyName}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            customerOption: data\n          });\n        }\n      });\n    };\n\n    this.handleOutsideCustomerClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleCustomerSearchClick();\n    };\n\n    this.handleClick = async key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      await this.setState({\n        selectedMenu: key.id\n      });\n      this.setState({\n        active: true,\n        currentValue: key.key,\n        selected: key.id\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleDatePick = async (name, value) => {\n      // dateFormat(new Date())\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.updateState({\n        formFields\n      });\n    };\n\n    this.getSiteGst = () => {\n      let {\n        siteGstList\n      } = this.state; // statusOption = [];\n\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`).then(res => {\n        console.log(\"res.data getSiteGst\", res.data.dataList);\n        siteGstList = res.data.dataList;\n        this.setState({\n          siteGstList\n        });\n      });\n    };\n\n    this.getStatus = () => {\n      let {\n        statusOption\n      } = this.state;\n      statusOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`dropdown`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          statusOption.push({\n            value: key.id,\n            label: key.dropdown_item,\n            code: key.dropdown_desc,\n            active: key.active\n          });\n        }\n\n        if (!this.props.match.params.id) {\n          for (var i = 0; i < statusOption.length; i++) {\n            if (statusOption[i].label == \"Void\") {\n              statusOption.splice(i, 1);\n            }\n          }\n        }\n\n        console.log(\"statusOption\", statusOption);\n        this.setState({\n          statusOption\n        });\n\n        if (this.props.match.params.id) {\n          this.autoFillForm();\n        }\n\n        if (this.props.tokenDetail) {\n          this.getSiteGst();\n        }\n      });\n    };\n\n    this.getCountry = () => {\n      let {\n        countryOption\n      } = this.state;\n      countryOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`country`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          countryOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"countryOption\", countryOption);\n        this.setState({\n          countryOption\n        });\n      });\n    };\n\n    this.getState = () => {\n      let {\n        stateOption\n      } = this.state;\n      stateOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`state`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          stateOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"stateOption\", stateOption);\n        this.setState({\n          stateOption\n        });\n      });\n    };\n\n    this.getCity = () => {\n      let {\n        cityOption\n      } = this.state;\n      cityOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`city`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          cityOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"cityOption\", cityOption);\n        this.setState({\n          cityOption\n        });\n\n        if (this.props.match.params.id) {\n          this.getAutofillAddress();\n        }\n\n        if (this.props.location.state) {\n          if (this.props.location.state.quoId) {\n            this.getAutofillByQuotationNo();\n            console.log(\"this.props.location.state.quoId\", this.props.location.state.quoId);\n          }\n        }\n      });\n    };\n\n    this.getAutofillByQuotationNo = () => {\n      this.props.getCommonApi(`quotationlist/?searchid=${this.props.location.state.quoId}`).then(res => {\n        console.log(\"res in getAutofillByQuotationNo\", res);\n\n        if (res.status == 200) {\n          // this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number\n          this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n          this.state.formFields[\"PODate\"] = res.data.dataList[0].created_at;\n          this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\n\n          if (res.data.dataList[0].status) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === \"Open\").value;\n          }\n\n          this.state.formFields[\"from\"] = res.data.dataList[0].contact_person;\n          this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\n          this.state.formFields[\"quoNumber\"] = res.data.dataList[0].quotation_number;\n          this.updateState(this.state.formFields);\n        }\n      });\n      this.props.getCommonApi(`quotationitem/?searchqitemid=${this.props.location.state.quoId}`).then(res => {\n        console.log(\"res in getAutofillByQuotationNo\", res); // this.state.storedItemListStored = res.data.dataList\n\n        if (res.status == 200) {\n          for (let item of res.data.dataList) {\n            this.state.storedItemListStored.push({\n              item_code: item.quotation_itemcode,\n              item_desc: item.quotation_itemdesc,\n              item_remarks: item.quotation_itemremarks,\n              item_price: item.quotation_unitprice,\n              item_quantity: item.quotation_quantity,\n              editing: false\n            });\n          }\n\n          this.setState(this.state.storedItemListStored);\n        }\n      }); // this.props\n      // .getCommonApi(\n      //   `quotationdetail/?searchqdetailid=${this.props.location.state.quoId}`\n      // )\n      // .then(res => {\n      //   console.log(\"res in getAutofillByQuotationNo\", res)\n      //   if(res.status == 200){\n      //     this.state.formFieldsDetailsStored.po_shipcost = res.data[0].q_shipcost\n      //     this.state.formFieldsDetailsStored.po_discount = res.data[0].q_discount\n      //     this.state.formFieldsDetailsStored.po_taxes = res.data[0].q_taxes\n      //     this.state.formFieldsDetailsStored.po_total = res.data[0].q_total\n      //     this.setState(this.state.formFieldsDetailsStored)\n      //   }\n      // })\n\n      this.props.getCommonApi(`quotationaddr/?searchqaddrid=${this.props.location.state.quoId}`).then(res => {\n        console.log(\"res in getAutofillByQuotationNo\", res);\n\n        if (res.status == 200) {\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\n          this.state.formFieldsBillingStored.postalCode = res.data[0].bill_postalcode;\n\n          if (res.data[0].bill_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data[0].bill_city).value;\n          }\n\n          if (res.data[0].bill_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data[0].bill_state).value;\n          }\n\n          if (res.data[0].bill_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data[0].bill_country).value;\n          }\n\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\n          this.state.formFieldsShippingStored.postalCode = res.data[0].ship_postalcode;\n\n          if (res.data[0].ship_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data[0].ship_city).value;\n          }\n\n          if (res.data[0].ship_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data[0].ship_state).value;\n          }\n\n          if (res.data[0].ship_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data[0].ship_country).value;\n          }\n\n          console.log(\"this.state.formFieldsBillingStored in getAutofillByQuotationNo\", this.state.formFieldsBillingStored);\n          console.log(\"this.state.formFieldsShippingStored in getAutofillByQuotationNo\", this.state.formFieldsShippingStored);\n          this.setState(this.state.formFieldsBillingStored);\n          this.setState(this.state.formFieldsShippingStored);\n        }\n      });\n    };\n\n    this.getAutofillItemDetails = () => {\n      this.props.getCommonApi(`podetail/?searchpodetailid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res);\n\n        if (res.status == 200) {\n          this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost;\n          this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount;\n          this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes;\n          this.state.formFieldsDetailsStored.po_total = res.data[0].po_total;\n          this.setState(this.state.formFieldsDetailsStored);\n        }\n      });\n      this.props.getCommonApi(`poitem/?searchpoitemid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res); // this.state.storedItemListStored = res.data.dataList\n\n        if (res.status == 200) {\n          for (let item of res.data.dataList) {\n            this.state.storedItemListStored.push({\n              item_code: item.po_itemcode,\n              item_desc: item.po_itemdesc,\n              item_remarks: item.po_itemremarks,\n              item_price: item.po_unitprice,\n              item_quantity: item.po_quantity,\n              editing: false\n            });\n            this.state.itemListBeforeEdit.push({\n              item_id: item.id,\n              item_code: item.po_itemcode\n            });\n          }\n\n          this.setState(this.state.storedItemListStored);\n          this.setState(this.state.itemListBeforeEdit);\n          console.log(\"this.state.itemListBeforeEdit\", this.state.itemListBeforeEdit);\n        } // this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\n        // this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\n        // this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\n        // this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\n        // this.setState(this.state.formFieldsDetailsStored)\n\n      });\n    };\n\n    this.getAutofillAddress = () => {\n      this.props.getCommonApi(`poaddr/?searchpoaddrid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in autofillAddr\", res);\n\n        if (res.status == 200) {\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\n          this.state.formFieldsBillingStored.postalCode = res.data[0].bill_postalcode;\n\n          if (res.data[0].bill_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data[0].bill_city).value;\n          }\n\n          if (res.data[0].bill_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data[0].bill_state).value;\n          }\n\n          if (res.data[0].bill_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data[0].bill_country).value;\n          }\n\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\n          this.state.formFieldsShippingStored.postalCode = res.data[0].ship_postalcode;\n\n          if (res.data[0].ship_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data[0].ship_city).value;\n          }\n\n          if (res.data[0].ship_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data[0].ship_state).value;\n          }\n\n          if (res.data[0].ship_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data[0].ship_country).value;\n          }\n\n          console.log(\"this.state.formFieldsBillingStored in autofillAddr\", this.state.formFieldsBillingStored);\n          console.log(\"this.state.formFieldsShippingStored in autofillAddr\", this.state.formFieldsShippingStored);\n          this.setState(this.state.formFieldsBillingStored);\n          this.setState(this.state.formFieldsShippingStored);\n        }\n      });\n    };\n\n    this.storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\n      this.state.formFieldsBillingStored = formFieldsBilling;\n      this.state.formFieldsShippingStored = formFieldsShipping; // this.state.formFieldsShippingStored = formFieldsShipping\n      // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\n\n      console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\n      console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\n      console.log(\"formFieldsBillingStored in addpo\", this.state.formFieldsBillingStored);\n      console.log(\"formFieldsShippingStored in addpo\", this.state.formFieldsShippingStored);\n      this.setState(this.state.formFieldsBillingStored);\n      this.setState(this.state.formFieldsShippingStored);\n    };\n\n    this.storeItemDetails = (storedItemList, formFields) => {\n      this.state.storedItemListStored = storedItemList;\n      this.state.formFieldsDetailsStored = formFields;\n      console.log(\"storedItemList in addquo\", storedItemList);\n      console.log(\"formFields in addquo\", formFields);\n      console.log(\"storedItemListStored in addpo\", this.state.storedItemListStored);\n      console.log(\"formFieldsDetailsStored in addpo\", this.state.formFieldsDetailsStored);\n      this.setState(this.state.storedItemListStored);\n      this.setState(this.state.formFieldsDetailsStored);\n    };\n\n    this.autoFillForm = () => {\n      let {\n        disableEdit,\n        statusOption\n      } = this.state;\n      this.props.getCommonApi(`polist/?searchid=${this.props.match.params.id}`).then(async res => {\n        console.log(\"po dataList\", res.data.dataList); // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n        // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number;\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n        this.state.formFields[\"PODate\"] = res.data.dataList[0].created_at;\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\n        console.log(\"statusOption in prefill\", this.state.statusOption);\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status); // if status empty prevent err\n\n        if (res.data.dataList[0].status) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value;\n          console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\n\n          if (res.data.dataList[0].status == \"Posted\") {\n            disableEdit = true;\n\n            for (var i = 0; i < statusOption.length; i++) {\n              if (statusOption[i].label == \"Posted\") {\n                statusOption = statusOption.filter(e => e.label !== \"Open\");\n              }\n            }\n\n            console.log(\"statusOption when status is posted\", statusOption);\n            this.setState({\n              disableEdit,\n              statusOption\n            });\n            console.log(\"this.state.disableEdit\", disableEdit);\n          }\n        }\n\n        this.state.formFields[\"from\"] = res.data.dataList[0].contact_person;\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\n        this.state.formFields[\"quoNumber\"] = res.data.dataList[0].fk_quotation_number;\n        this.updateState(this.state.formFields);\n        console.log(\"this.state.formFields\", this.state.formFields);\n      });\n    };\n\n    this.handleItemDetailsSubmit = resPO => {\n      let {\n        storedItemListStored,\n        formFieldsDetailsStored,\n        itemListBeforeEdit\n      } = this.state;\n      const formDataDetails = new FormData();\n      formDataDetails.append(\"po_shipcost\", formFieldsDetailsStored.po_shipcost ? formFieldsDetailsStored.po_shipcost : 0);\n      formDataDetails.append(\"po_discount\", formFieldsDetailsStored.po_discount ? formFieldsDetailsStored.po_discount : 0);\n      formDataDetails.append(\"po_taxes\", formFieldsDetailsStored.po_taxes ? formFieldsDetailsStored.po_taxes : 0);\n      formDataDetails.append(\"po_total\", formFieldsDetailsStored.po_total ? formFieldsDetailsStored.po_total : 0);\n      this.props.getCommonApi(`podetail/?searchpodetailid=${resPO.data.id}`).then(resGetDetails => {\n        if (resGetDetails.status == 200) {\n          console.log(\"resGetDetails\", resGetDetails);\n          this.props.commonUpdateApi(`podetail/${resGetDetails.data[0].id}/`, formDataDetails).then(resUpdateDetails => {\n            console.log(\"resUpdateDetails\", resUpdateDetails);\n            history.push(`/admin/quantum`);\n          });\n        } else if (resGetDetails.status == 204) {\n          formDataDetails.append(\"fk_po\", resPO.data.id);\n          this.props.commonCreateApi(`podetail/`, formDataDetails).then(resCreateDetails => {\n            console.log(\"resCreateDetails\", resCreateDetails);\n            history.push(`/admin/quantum`);\n          });\n        }\n      });\n\n      for (let item of itemListBeforeEdit) {\n        let found = storedItemListStored.some(el => el.item_code === item.item_code);\n\n        if (!found) {\n          this.props.commonDeleteApi(`poitem/${item.item_id}/`).then(res => {});\n        }\n      }\n\n      for (let item of storedItemListStored) {\n        const formDataItem = new FormData();\n        formDataItem.append(\"po_itemcode\", item.item_code);\n        formDataItem.append(\"po_itemdesc\", item.item_desc);\n        formDataItem.append(\"po_itemremarks\", item.item_remarks);\n        formDataItem.append(\"po_unitprice\", item.item_price);\n        formDataItem.append(\"po_quantity\", item.item_quantity);\n        this.props.getCommonApi(`poitem/?searchpoitemid=${resPO.data.id}&searchpoitemcode=${item.item_code}`).then(resGetItem => {\n          if (resGetItem.status == 200) {\n            console.log(\"resGetItem\", resGetItem);\n            this.props.commonUpdateApi(`poitem/${resGetItem.data.dataList[0].id}/`, formDataItem).then(resUpdateItem => {\n              console.log(\"resUpdateItem\", resUpdateItem);\n            });\n          } else if (resGetItem.status == 204) {\n            formDataItem.append(\"fk_po\", resPO.data.id);\n            this.props.commonCreateApi(`poitem/`, formDataItem).then(resCreateItem => {\n              console.log(\"resCreateItem\", resCreateItem);\n            });\n          }\n        });\n      }\n    };\n\n    this.handleAddressSubmit = resPO => {\n      let {\n        cityOption,\n        countryOption,\n        stateOption\n      } = this.state; //submit address\n\n      const formDataAddress = new FormData();\n      console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\", this.state.formFieldsBillingStored);\n      console.log(\"this.state.formFieldsBillingStored.to\", this.state.formFieldsBillingStored.to);\n      console.log(\"this.state.formFieldsBillingStored.address1\", this.state.formFieldsBillingStored.address1);\n      formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to ? this.state.formFieldsBillingStored.to : \"\");\n      formDataAddress.append(\"bill_addr1\", this.state.formFieldsBillingStored.address1 ? this.state.formFieldsBillingStored.address1 : \"\");\n      formDataAddress.append(\"bill_addr2\", this.state.formFieldsBillingStored.address2 ? this.state.formFieldsBillingStored.address2 : \"\");\n      formDataAddress.append(\"bill_addr3\", this.state.formFieldsBillingStored.address3 ? this.state.formFieldsBillingStored.address3 : \"\");\n      formDataAddress.append(\"bill_postalcode\", this.state.formFieldsBillingStored.postalCode ? this.state.formFieldsBillingStored.postalCode : \"\"); // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\n\n      formDataAddress.append(\"bill_city\", this.state.formFieldsBillingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label : \"\");\n      formDataAddress.append(\"bill_state\", this.state.formFieldsBillingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.state)).label : \"\");\n      formDataAddress.append(\"bill_country\", this.state.formFieldsBillingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label : \"\");\n      formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to ? this.state.formFieldsShippingStored.to : \"\");\n      formDataAddress.append(\"ship_addr1\", this.state.formFieldsShippingStored.address1 ? this.state.formFieldsShippingStored.address1 : \"\");\n      formDataAddress.append(\"ship_addr2\", this.state.formFieldsShippingStored.address2 ? this.state.formFieldsShippingStored.address2 : \"\");\n      formDataAddress.append(\"ship_addr3\", this.state.formFieldsShippingStored.address3 ? this.state.formFieldsShippingStored.address3 : \"\");\n      formDataAddress.append(\"ship_postalcode\", this.state.formFieldsShippingStored.postalCode ? this.state.formFieldsShippingStored.postalCode : \"\");\n      formDataAddress.append(\"ship_city\", this.state.formFieldsShippingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.city)).label : \"\");\n      formDataAddress.append(\"ship_state\", this.state.formFieldsShippingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.state)).label : \"\");\n      formDataAddress.append(\"ship_country\", this.state.formFieldsShippingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.country)).label : \"\");\n      this.props.getCommonApi(`poaddr/?searchpoaddrid=${resPO.data.id}`).then(resGetAddr => {\n        if (resGetAddr.status == 200) {\n          console.log(\"resGetAddr\", resGetAddr);\n          this.props.commonUpdateApi(`poaddr/${resGetAddr.data[0].id}/`, formDataAddress).then(resUpdateAddr => {\n            console.log(\"resCreateAddr\", resUpdateAddr);\n          });\n        } else if (resGetAddr.status == 204) {\n          formDataAddress.append(\"fk_po\", resPO.data.id);\n          this.props.commonCreateApi(`poaddr/`, formDataAddress).then(resCreateAddr => {\n            console.log(\"resCreateAddr\", resCreateAddr);\n          });\n        }\n      });\n    };\n\n    this.handleSubmit = async status => {\n      try {\n        if (this.validator.allValid()) {\n          let {\n            formFields,\n            statusOption\n          } = this.state;\n          let statusValue = \"\";\n          console.log(\"formFields.status\", formFields.status);\n\n          for (let key of statusOption) {\n            // console.log(key.value)\n            if (key.value == formFields.status) {\n              statusValue = key.label;\n            }\n          }\n\n          console.log(\"statusValue\", statusValue);\n          const formData = new FormData(); // formData.append(\"po_number\", formFields.PONumber);\n          //check save or post\n\n          if (status) {\n            formData.append(\"status\", \"Posted\");\n          } else {\n            formData.append(\"status\", statusValue);\n          }\n\n          formData.append(\"title\", formFields.projectTitle);\n          formData.append(\"company\", formFields.companyName);\n          formData.append(\"contact_person\", formFields.from);\n          formData.append(\"remarks\", formFields.remarks);\n          console.log(\"formFields.PODate\", formFields.PODate);\n          formData.append(\"created_at\", dateFormat(formFields.PODate) + \" 00:00:00\"); // formData.append(\"created_at\", dateFormat(formFields.PODate) + \" \"+formFields.PODate.getHours() + \":\" + formFields.PODate.getMinutes() + \":\" + formFields.PODate.getSeconds());\n\n          formData.append(\"fk_quotation_number\", formFields.quoNumber);\n          formData.append(\"username\", this.props.tokenDetail.username);\n          console.log(\"this.state.fkProject in submit\", this.state.fkProject);\n\n          if (this.state.fkProject) {\n            formData.append(\"fk_project\", this.state.fkProject);\n          }\n\n          console.log(\"formData\", formData);\n\n          if (this.props.match.params.id) {\n            console.log(\"in if loop\");\n            console.log(\"this.props.match.params.id\", this.props.match.params.id);\n            var resPO = await this.props.updatePO(`${this.props.match.params.id}/`, formData);\n            console.log(resPO);\n            this.handleAddressSubmit(resPO);\n            this.handleItemDetailsSubmit(resPO);\n\n            if (statusValue == \"Void\") {\n              console.log(\"in void loop\");\n              await this.props.deletePO(`${this.props.match.params.id}/`);\n            } // this.props.history.push(\n            //   `/admin/po`\n            // )\n\n          } else {\n            console.log(\"this.props before createPO\", this.props); // if (this.props.location.state){\n            //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n            //   formData.append(\"fk_project\", this.props.location.state.projectFk);\n            // }\n\n            console.log(\"this.state.fkProject before createPO\", this.state.fkProject); // formData.append(\"fk_project\", this.state.fkProject);\n\n            var resPO = await this.props.createPO(formData);\n            console.log(\"resPO in createPO\", resPO);\n            console.log(\"resPO.data.id\", resPO.data.id);\n            this.handleAddressSubmit(resPO);\n            this.handleItemDetailsSubmit(resPO); // this.props.history.push(\n            //   `/admin/po`\n            // )\n          }\n        } else {\n          this.validator.showMessages();\n        } // this.updateState({ is_loading: false });\n\n      } catch (e) {\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      formFields,\n      statusOption,\n      currentValue,\n      navLinks,\n      disableEdit,\n      fkQuotation\n    } = this.state;\n    let {\n      PONumber,\n      projectTitle,\n      PODate,\n      companyName,\n      status,\n      from,\n      remarks,\n      quoNumber,\n      contactPerson\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5 container create-PO\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1165,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1166,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      onClick: () => {\n        if (window.confirm(\"Are you sure you want to leave this page and discard changes?\")) history.push(`/admin/quantum`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 11\n      }\n    }, t(\"PO\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1180,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 11\n      }\n    }, t(`${this.props.match.params.id ? \"Edit\" : \"New\"} PO`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"PO-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1186,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 17\n      }\n    }, t(\"PO No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: true,\n      placeholder: \"Auto generated\",\n      value: PONumber,\n      name: \"PONumber\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1209,\n        columnNumber: 17\n      }\n    }, t(\"Project\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: projectTitle,\n      name: \"projectTitle\",\n      onChange: this.handleSearch,\n      onClick: this.handleSearchClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 19\n      }\n    })), this.state.visible ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"projectSearch-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-3 table table-header w-100 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 19\n      }\n    }, t(\"Project\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1226,\n        columnNumber: 19\n      }\n    }, t(\"Customer Name\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-table w-100 row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1229,\n        columnNumber: 17\n      }\n    }, this.state.projectOption.length > 0 ? this.state.projectOption.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 table-body w-100 border\",\n        onClick: () => this.handleSelectProject(item),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1239,\n          columnNumber: 27\n        }\n      }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1240,\n          columnNumber: 27\n        }\n      }, item.customer_name));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1246,\n        columnNumber: 21\n      }\n    }, t(\"No Data Available\")))) : '', /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1252,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Project\"), projectTitle, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1262,\n        columnNumber: 17\n      }\n    }, t(\"PO Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: PODate ? new Date(PODate) : new Date(),\n      name: \"PODate\" //className=\"dob-pick\"\n      ,\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\" // maxDate={new Date(toDate)}\n      ,\n      showDisabledMonthNavigation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1266,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1278,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"PO Date\"), PODate, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1282,\n        columnNumber: 17\n      }\n    }, t(\"Company Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1285,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: true,\n      value: companyName,\n      name: \"companyName\",\n      onChange: this.handleCustomerSearch,\n      onClick: this.handleCustomerSearchClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 19\n      }\n    })), this.state.visibleCustomer ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customerSearch-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1296,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-3 table table-header w-100 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1297,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1298,\n        columnNumber: 19\n      }\n    }, t(\"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1299,\n        columnNumber: 19\n      }\n    }, t(\"Phone\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1300,\n        columnNumber: 19\n      }\n    }, t(\"Customer Code\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1301,\n        columnNumber: 19\n      }\n    }, t(\"Reference\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 19\n      }\n    }, t(\"Email\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1303,\n        columnNumber: 19\n      }\n    }, t(\"NRIC\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-table w-100 row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1305,\n        columnNumber: 17\n      }\n    }, this.state.customerOption.length > 0 ? this.state.customerOption.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 table-body w-100 border\",\n        onClick: () => this.handleSelectCustomer(item),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1309,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 27\n        }\n      }, item.cust_name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1316,\n          columnNumber: 27\n        }\n      }, item.cust_phone1), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1317,\n          columnNumber: 27\n        }\n      }, item.cust_code), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1318,\n          columnNumber: 27\n        }\n      }, item.cust_refer), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1319,\n          columnNumber: 27\n        }\n      }, item.cust_email), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 27\n        }\n      }, item.cust_nric));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1325,\n        columnNumber: 21\n      }\n    }, t(\"No Data Available\")))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1332,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Company Name\"), companyName, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1341,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1342,\n        columnNumber: 17\n      }\n    }, t(\"Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: statusOption,\n      value: status,\n      name: \"status\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1346,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1353,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Status\"), status, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1357,\n        columnNumber: 17\n      }\n    }, t(\"From\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1360,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: from,\n      name: \"from\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1369,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"From\"), from, t(\"required\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1375,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1376,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1377,\n        columnNumber: 17\n      }\n    }, t(\"Remarks\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1380,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: remarks,\n      name: \"remarks\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1381,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1391,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1393,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1394,\n        columnNumber: 17\n      }\n    }, t(\"Quotation Number\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1397,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: quoNumber,\n      name: \"quoNumber\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1398,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 PO-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1416,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1417,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1418,\n        columnNumber: 17\n      }\n    }, navLinks.map(({\n      to,\n      label,\n      id\n    }, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1420,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: to,\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `sidebar-menu ${currentValue === index ? \"active\" : \"\"}`,\n      onClick: () => this.handleClick({\n        key: index,\n        id: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1422,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sidebar-menu-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1430,\n        columnNumber: 27\n      }\n    }, t(label)))))))), this.state.selectedMenu === \"Details\" && /*#__PURE__*/React.createElement(Details, {\n      disableEdit: disableEdit,\n      poId: this.props.match.params.id,\n      quoId: fkQuotation,\n      siteGstList: this.state.siteGstList,\n      validator: this.validator,\n      storeItemDetails: this.storeItemDetails.bind(this),\n      storedItemListStored: this.state.storedItemListStored,\n      formFieldsDetailsStored: this.state.formFieldsDetailsStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1438,\n        columnNumber: 17\n      }\n    }), this.state.selectedMenu === \"Address\" && /*#__PURE__*/React.createElement(Address, {\n      disableEdit: disableEdit,\n      storeAddressFields: this.storeAddressFields.bind(this),\n      formFieldsBillingStored: this.state.formFieldsBillingStored,\n      formFieldsShippingStored: this.state.formFieldsShippingStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1453,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1465,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1466,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1468,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Cancel\",\n      outline: false,\n      onClick: () => {\n        if (window.confirm(\"Are you sure you want to leave this page and discard changes?\")) history.push(`/admin/quantum`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1469,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1486,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      disabled: this.state.storedItemListStored.length < 1,\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Save\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1487,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1497,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Post\",\n      outline: false,\n      onClick: () => this.handleSubmit(status),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1498,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi,\n    commonUpdateApi,\n    updatePO,\n    createPO,\n    deletePO,\n    commonDeleteApi,\n    getTokenDetails\n  }, dispatch);\n};\n\nexport const AddPO = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddPOClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Quantum/PO/AddPO/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","Address","Details","createPO","updatePO","deletePO","getTokenDetails","useLocation","history","AddPOClass","state","formFields","PONumber","projectTitle","PODate","Date","companyName","status","from","remarks","quoNumber","contactPerson","fkProject","fkQuotation","statusOption","countryOption","stateOption","cityOption","disableEdit","is_loading","isMounted","siteGstList","formFieldsBillingStored","formFieldsShippingStored","storedItemListStored","itemListBeforeEdit","formFieldsDetailsStored","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","visible","visibleCustomer","projectOption","customerOption","componentWillMount","quoId","setState","console","log","getStatus","getCountry","getState","getCity","validator","validators","element","message","autoForceUpdate","componentDidMount","projectFk","match","params","getAutofillItemDetails","updateState","data","handleOutsideClick","e","node","contains","target","handleSearchClick","search","then","key","handleSearch","event","value","document","addEventListener","removeEventListener","prevState","handleSelectProject","title","customer_name","length","cust_corporate","cust_name","contactperson","handleSelectCustomer","handleCustomerSearchClick","handleOutsideCustomerClick","searchCustomer","handleCustomerSearch","handleClick","selected","handleChange","name","Object","assign","handleDatePick","getSiteGst","tokenDetail","site_code","res","dataList","push","dropdown_item","code","dropdown_desc","i","splice","autoFillForm","itm_id","itm_desc","itm_code","itm_isactive","getAutofillAddress","getAutofillByQuotationNo","created_at","company","find","option","contact_person","quotation_number","item","item_code","quotation_itemcode","item_desc","quotation_itemdesc","item_remarks","quotation_itemremarks","item_price","quotation_unitprice","item_quantity","quotation_quantity","editing","billto","address1","bill_addr1","address2","bill_addr2","address3","bill_addr3","postalCode","bill_postalcode","bill_city","city","bill_state","bill_country","country","shipto","ship_addr1","ship_addr2","ship_addr3","ship_postalcode","ship_city","ship_state","ship_country","po_shipcost","po_discount","po_taxes","po_total","po_itemcode","po_itemdesc","po_itemremarks","po_unitprice","po_quantity","item_id","storeAddressFields","formFieldsBilling","formFieldsShipping","storeItemDetails","storedItemList","po_number","filter","fk_quotation_number","handleItemDetailsSubmit","resPO","formDataDetails","FormData","append","resGetDetails","resUpdateDetails","resCreateDetails","found","some","el","formDataItem","resGetItem","resUpdateItem","resCreateItem","handleAddressSubmit","formDataAddress","parseInt","resGetAddr","resUpdateAddr","resCreateAddr","handleSubmit","allValid","statusValue","formData","username","showMessages","componentWillUnmount","render","t","window","confirm","map","index","cust_phone1","cust_code","cust_refer","cust_email","cust_nric","bind","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddPO"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Address } from \"./address\";\r\nimport { Details } from \"./details\";\r\nimport { createPO, updatePO, deletePO } from \"redux/actions/po\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { history } from \"helpers\";\r\n\r\nexport class AddPOClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      PONumber: \"\",\r\n      projectTitle: \"\",\r\n      PODate: new Date(),\r\n      companyName: \"\",\r\n      status: \"\",\r\n      from: \"\",\r\n      remarks: \"\",\r\n      quoNumber: \"\",\r\n      contactPerson:[]\r\n    },\r\n    fkProject: \"\",\r\n    fkQuotation: \"\",\r\n    statusOption: [],\r\n    countryOption: [],\r\n    stateOption: [],\r\n    cityOption: [],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n    siteGstList: [],\r\n\r\n    formFieldsBillingStored: [],\r\n    formFieldsShippingStored: [],\r\n    storedItemListStored: [],\r\n    itemListBeforeEdit: [],\r\n    formFieldsDetailsStored: {},\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n      { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    ],\r\n    selectedMenu: \"Details\",\r\n    visible: false,\r\n    visibleCustomer: false,\r\n    projectOption: [],\r\n    customerOption:[]\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    if (this.props.location.state) {\r\n      if (this.props.location.state.quoId) {\r\n        this.state.fkQuotation = this.props.location.state.quoId;\r\n        this.setState({ fkQuotation: this.state.fkQuotation });\r\n        console.log(\r\n          \"this.props.location.state.quoId\",\r\n          this.props.location.state.quoId\r\n        );\r\n        console.log(\"this.state.fkQuotation\", this.state.fkQuotation);\r\n      }\r\n    }\r\n    this.getStatus();\r\n    this.getCountry();\r\n    this.getState();\r\n    this.getCity();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.location.state) {\r\n      if (this.props.location.state.projectFk) {\r\n        this.state.fkProject = this.props.location.state.projectFk;\r\n        this.setState({ fkProject: this.state.fkProject });\r\n        console.log(\r\n          \"this.props.location.state.projectFk\",\r\n          this.props.location.state.projectFk\r\n        );\r\n        console.log(\"this.state.fkProject\", this.state.fkProject);\r\n      }\r\n\r\n      // this.state.fkQuotation = this.props.location.state.quoId\r\n      // this.setState({fkQuotation : this.state.fkQuotation})\r\n\r\n      // console.log(\"this.props.location.state.quoId\",this.props.location.state.quoId)\r\n      // console.log(\"this.state.fkQuotation\",this.state.fkQuotation)\r\n    }\r\n\r\n    console.log(\"this.props\", this.props);\r\n\r\n    console.log(\"this.state\", this.state);\r\n    // console.log(\"useLocation()\",useLocation())\r\n\r\n    if (this.props.match.params.id) {\r\n      this.getAutofillItemDetails();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n  \r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleSearchClick();\r\n  };\r\n  search = () => {\r\n    let { formFields } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `projectsearch/?search=${formFields.projectTitle}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          \r\n          this.setState({ projectOption: data });\r\n        }\r\n      });\r\n  };\r\n  handleSearch = async event => {\r\n    //    event.persist();\r\n    let { formFields, visible } = this.state;\r\n    formFields[\"projectTitle\"] = event.target.value;\r\n    visible = true;\r\n     this.setState({ formFields, visible });\r\n     this.search();\r\n  };\r\n  handleSearchClick = key => {\r\n    if (!this.state.visible) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    if (this.state.visible) {\r\n      this.search();\r\n    }\r\n    this.setState(prevState => ({\r\n      visible: !prevState.visible,\r\n    }));\r\n  };\r\n\r\n  handleSelectProject = async data => {\r\n    let { formFields } = this.state;    \r\n    formFields[\"projectTitle\"] = data.title;\r\n    formFields[\"companyName\"]=data.customer_name;\r\n    this.props\r\n    .getCommonApi(\r\n      `custappt/?search=${data.customer_name}`\r\n    )\r\n    .then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        if(data.length> 0){\r\n        if(!data[0].cust_corporate){\r\n          let { formFields } = this.state;\r\n          formFields[\"attnTo\"] = data[0].cust_name;\r\n          formFields[\"contactPerson\"]=[];\r\n          }else{\r\n            formFields[\"contactPerson\"]=data[0].contactperson\r\n          }\r\n          \r\n        }else{\r\n          formFields[\"attnTo\"]=formFields[\"companyName\"];\r\n          formFields[\"contactPerson\"]=[];\r\n        }\r\n        \r\n      }else if(status === 204){\r\n        formFields[\"attnTo\"]=formFields[\"companyName\"];\r\n        formFields[\"contactPerson\"]=[];\r\n      }\r\n      this.setState({ formFields, projectOption: [] });\r\n    });\r\n    this.setState({ formFields, projectOption: [] });\r\n    this.handleSearchClick();\r\n    \r\n  };\r\n\r\n  handleSelectCustomer = async data => {\r\n    let { formFields } = this.state;    \r\n    formFields[\"companyName\"] = data.cust_name;    \r\n    if(!data.cust_corporate){\r\n    formFields[\"attnTo\"] = data.cust_name;\r\n    }else{\r\n      formFields[\"contactPerson\"]=data.contactperson\r\n    }\r\n    this.setState({ formFields, customerOption: [] });\r\n    this.handleCustomerSearchClick();\r\n  };\r\n  handleCustomerSearchClick = key => {\r\n    if (!this.state.visibleCustomer) {\r\n      document.addEventListener(\"click\", this.handleOutsideCustomerClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideCustomerClick, false);\r\n    }\r\n\r\n    if (this.state.visibleCustomer) {\r\n      this.searchCustomer();\r\n    }\r\n    this.setState(prevState => ({\r\n      visibleCustomer: !prevState.visibleCustomer,\r\n    }));\r\n  };\r\n  handleCustomerSearch = async event => {\r\n    //    event.persist();\r\n    let { formFields, visibleCustomer } = this.state;\r\n    formFields[\"companyName\"] = event.target.value;\r\n    visibleCustomer = true;\r\n     this.setState({ formFields, visibleCustomer });\r\n     this.searchCustomer();\r\n  };\r\n  searchCustomer = () => {\r\n    let { formFields } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `custappt/?search=${formFields.companyName}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) { \r\n          this.setState({customerOption:data });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleOutsideCustomerClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleCustomerSearchClick();\r\n  };\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getSiteGst = () => {\r\n    let { siteGstList } = this.state;\r\n    // statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(\r\n        `gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res.data getSiteGst\", res.data.dataList);\r\n        siteGstList = res.data.dataList;\r\n        this.setState({ siteGstList });\r\n      });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.dropdown_item,\r\n          code: key.dropdown_desc,\r\n          active: key.active,\r\n        });\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Void\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption });\r\n      if (this.props.match.params.id) {\r\n        this.autoFillForm();\r\n      }\r\n      if (this.props.tokenDetail) {\r\n        this.getSiteGst();\r\n      }\r\n    });\r\n  };\r\n\r\n  getCountry = () => {\r\n    let { countryOption } = this.state;\r\n    countryOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`country`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        countryOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"countryOption\", countryOption);\r\n      this.setState({ countryOption });\r\n    });\r\n  };\r\n\r\n  getState = () => {\r\n    let { stateOption } = this.state;\r\n    stateOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`state`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        stateOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"stateOption\", stateOption);\r\n      this.setState({ stateOption });\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then(res => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n      if (this.props.match.params.id) {\r\n        this.getAutofillAddress();\r\n      }\r\n      if (this.props.location.state) {\r\n        if (this.props.location.state.quoId) {\r\n          this.getAutofillByQuotationNo();\r\n          console.log(\r\n            \"this.props.location.state.quoId\",\r\n            this.props.location.state.quoId\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  getAutofillByQuotationNo = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationlist/?searchid=${this.props.location.state.quoId}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillByQuotationNo\", res);\r\n\r\n        if (res.status == 200) {\r\n          // this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number\r\n          this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\r\n          this.state.formFields[\"PODate\"] = res.data.dataList[0].created_at;\r\n          this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\r\n          if (res.data.dataList[0].status) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFields[\"status\"] = this.state.statusOption.find(\r\n              option => option.label === \"Open\"\r\n            ).value;\r\n          }\r\n          this.state.formFields[\"from\"] = res.data.dataList[0].contact_person;\r\n          this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\r\n          this.state.formFields[\"quoNumber\"] =\r\n            res.data.dataList[0].quotation_number;\r\n\r\n          this.updateState(this.state.formFields);\r\n        }\r\n      });\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationitem/?searchqitemid=${this.props.location.state.quoId}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillByQuotationNo\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemListStored.push({\r\n              item_code: item.quotation_itemcode,\r\n              item_desc: item.quotation_itemdesc,\r\n              item_remarks: item.quotation_itemremarks,\r\n              item_price: item.quotation_unitprice,\r\n              item_quantity: item.quotation_quantity,\r\n              editing: false,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemListStored);\r\n        }\r\n      });\r\n\r\n    // this.props\r\n    // .getCommonApi(\r\n    //   `quotationdetail/?searchqdetailid=${this.props.location.state.quoId}`\r\n    // )\r\n    // .then(res => {\r\n    //   console.log(\"res in getAutofillByQuotationNo\", res)\r\n\r\n    //   if(res.status == 200){\r\n    //     this.state.formFieldsDetailsStored.po_shipcost = res.data[0].q_shipcost\r\n    //     this.state.formFieldsDetailsStored.po_discount = res.data[0].q_discount\r\n    //     this.state.formFieldsDetailsStored.po_taxes = res.data[0].q_taxes\r\n    //     this.state.formFieldsDetailsStored.po_total = res.data[0].q_total\r\n    //     this.setState(this.state.formFieldsDetailsStored)\r\n    //   }\r\n    // })\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `quotationaddr/?searchqaddrid=${this.props.location.state.quoId}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"res in getAutofillByQuotationNo\", res);\r\n        if (res.status == 200) {\r\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\r\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\r\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\r\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\r\n          this.state.formFieldsBillingStored.postalCode =\r\n            res.data[0].bill_postalcode;\r\n          if (res.data[0].bill_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.city =\r\n              this.state.cityOption.find(\r\n                option => option.label === res.data[0].bill_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.state =\r\n              this.state.stateOption.find(\r\n                option => option.label === res.data[0].bill_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.country =\r\n              this.state.countryOption.find(\r\n                option => option.label === res.data[0].bill_country\r\n              ).value;\r\n          }\r\n\r\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\r\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\r\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\r\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\r\n          this.state.formFieldsShippingStored.postalCode =\r\n            res.data[0].ship_postalcode;\r\n          if (res.data[0].ship_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.city =\r\n              this.state.cityOption.find(\r\n                option => option.label === res.data[0].ship_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.state =\r\n              this.state.stateOption.find(\r\n                option => option.label === res.data[0].ship_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.country =\r\n              this.state.countryOption.find(\r\n                option => option.label === res.data[0].ship_country\r\n              ).value;\r\n          }\r\n\r\n          console.log(\r\n            \"this.state.formFieldsBillingStored in getAutofillByQuotationNo\",\r\n            this.state.formFieldsBillingStored\r\n          );\r\n          console.log(\r\n            \"this.state.formFieldsShippingStored in getAutofillByQuotationNo\",\r\n            this.state.formFieldsShippingStored\r\n          );\r\n          this.setState(this.state.formFieldsBillingStored);\r\n          this.setState(this.state.formFieldsShippingStored);\r\n        }\r\n      });\r\n  };\r\n\r\n  getAutofillItemDetails = () => {\r\n    this.props\r\n      .getCommonApi(`podetail/?searchpodetailid=${this.props.match.params.id}`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n\r\n        if (res.status == 200) {\r\n          this.state.formFieldsDetailsStored.po_shipcost =\r\n            res.data[0].po_shipcost;\r\n          this.state.formFieldsDetailsStored.po_discount =\r\n            res.data[0].po_discount;\r\n          this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes;\r\n          this.state.formFieldsDetailsStored.po_total = res.data[0].po_total;\r\n          this.setState(this.state.formFieldsDetailsStored);\r\n        }\r\n      });\r\n\r\n    this.props\r\n      .getCommonApi(`poitem/?searchpoitemid=${this.props.match.params.id}`)\r\n      .then(res => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemListStored.push({\r\n              item_code: item.po_itemcode,\r\n              item_desc: item.po_itemdesc,\r\n              item_remarks: item.po_itemremarks,\r\n              item_price: item.po_unitprice,\r\n              item_quantity: item.po_quantity,\r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.id,\r\n              item_code: item.po_itemcode,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemListStored);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n          console.log(\r\n            \"this.state.itemListBeforeEdit\",\r\n            this.state.itemListBeforeEdit\r\n          );\r\n        }\r\n        // this.state.formFieldsDetailsStored.po_shipcost = res.data[0].po_shipcost\r\n        // this.state.formFieldsDetailsStored.po_discount = res.data[0].po_discount\r\n        // this.state.formFieldsDetailsStored.po_taxes = res.data[0].po_taxes\r\n        // this.state.formFieldsDetailsStored.po_total = res.data[0].po_total\r\n        // this.setState(this.state.formFieldsDetailsStored)\r\n      });\r\n  };\r\n\r\n  getAutofillAddress = () => {\r\n    this.props\r\n      .getCommonApi(`poaddr/?searchpoaddrid=${this.props.match.params.id}`)\r\n      .then(res => {\r\n        console.log(\"res in autofillAddr\", res);\r\n        if (res.status == 200) {\r\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\r\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\r\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\r\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\r\n          this.state.formFieldsBillingStored.postalCode =\r\n            res.data[0].bill_postalcode;\r\n          if (res.data[0].bill_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.city =\r\n              this.state.cityOption.find(\r\n                option => option.label === res.data[0].bill_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.state =\r\n              this.state.stateOption.find(\r\n                option => option.label === res.data[0].bill_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.country =\r\n              this.state.countryOption.find(\r\n                option => option.label === res.data[0].bill_country\r\n              ).value;\r\n          }\r\n\r\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\r\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\r\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\r\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\r\n          this.state.formFieldsShippingStored.postalCode =\r\n            res.data[0].ship_postalcode;\r\n          if (res.data[0].ship_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.city =\r\n              this.state.cityOption.find(\r\n                option => option.label === res.data[0].ship_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.state =\r\n              this.state.stateOption.find(\r\n                option => option.label === res.data[0].ship_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.country =\r\n              this.state.countryOption.find(\r\n                option => option.label === res.data[0].ship_country\r\n              ).value;\r\n          }\r\n\r\n          console.log(\r\n            \"this.state.formFieldsBillingStored in autofillAddr\",\r\n            this.state.formFieldsBillingStored\r\n          );\r\n          console.log(\r\n            \"this.state.formFieldsShippingStored in autofillAddr\",\r\n            this.state.formFieldsShippingStored\r\n          );\r\n          this.setState(this.state.formFieldsBillingStored);\r\n          this.setState(this.state.formFieldsShippingStored);\r\n        }\r\n      });\r\n  };\r\n\r\n  storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\r\n    this.state.formFieldsBillingStored = formFieldsBilling;\r\n    this.state.formFieldsShippingStored = formFieldsShipping;\r\n    // this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\r\n    console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\r\n    console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\r\n    console.log(\r\n      \"formFieldsBillingStored in addpo\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"formFieldsShippingStored in addpo\",\r\n      this.state.formFieldsShippingStored\r\n    );\r\n    this.setState(this.state.formFieldsBillingStored);\r\n    this.setState(this.state.formFieldsShippingStored);\r\n  };\r\n\r\n  storeItemDetails = (storedItemList, formFields) => {\r\n    this.state.storedItemListStored = storedItemList;\r\n    this.state.formFieldsDetailsStored = formFields;\r\n\r\n    console.log(\"storedItemList in addquo\", storedItemList);\r\n    console.log(\"formFields in addquo\", formFields);\r\n    console.log(\r\n      \"storedItemListStored in addpo\",\r\n      this.state.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"formFieldsDetailsStored in addpo\",\r\n      this.state.formFieldsDetailsStored\r\n    );\r\n    this.setState(this.state.storedItemListStored);\r\n    this.setState(this.state.formFieldsDetailsStored);\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`polist/?searchid=${this.props.match.params.id}`)\r\n      .then(async res => {\r\n        console.log(\"po dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"PONumber\"] = res.data.dataList[0].po_number;\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\r\n        this.state.formFields[\"PODate\"] = res.data.dataList[0].created_at;\r\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\r\n\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].status) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"status\"] = this.state.statusOption.find(\r\n            option => option.label === res.data.dataList[0].status\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].status\",\r\n            res.data.dataList[0].status\r\n          );\r\n          if (res.data.dataList[0].status == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            for (var i = 0; i < statusOption.length; i++) {\r\n              if (statusOption[i].label == \"Posted\") {\r\n                statusOption = statusOption.filter(e => e.label !== \"Open\");\r\n              }\r\n            }\r\n            console.log(\"statusOption when status is posted\", statusOption);\r\n\r\n            this.setState({ disableEdit, statusOption });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n        this.state.formFields[\"from\"] = res.data.dataList[0].contact_person;\r\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\r\n        this.state.formFields[\"quoNumber\"] =\r\n          res.data.dataList[0].fk_quotation_number;\r\n\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = resPO => {\r\n    let { storedItemListStored, formFieldsDetailsStored, itemListBeforeEdit } =\r\n      this.state;\r\n    const formDataDetails = new FormData();\r\n\r\n    formDataDetails.append(\r\n      \"po_shipcost\",\r\n      formFieldsDetailsStored.po_shipcost\r\n        ? formFieldsDetailsStored.po_shipcost\r\n        : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"po_discount\",\r\n      formFieldsDetailsStored.po_discount\r\n        ? formFieldsDetailsStored.po_discount\r\n        : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"po_taxes\",\r\n      formFieldsDetailsStored.po_taxes ? formFieldsDetailsStored.po_taxes : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"po_total\",\r\n      formFieldsDetailsStored.po_total ? formFieldsDetailsStored.po_total : 0\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`podetail/?searchpodetailid=${resPO.data.id}`)\r\n      .then(resGetDetails => {\r\n        if (resGetDetails.status == 200) {\r\n          console.log(\"resGetDetails\", resGetDetails);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `podetail/${resGetDetails.data[0].id}/`,\r\n              formDataDetails\r\n            )\r\n            .then(resUpdateDetails => {\r\n              console.log(\"resUpdateDetails\", resUpdateDetails);\r\n              history.push(`/admin/quantum`);\r\n            });\r\n        } else if (resGetDetails.status == 204) {\r\n          formDataDetails.append(\"fk_po\", resPO.data.id);\r\n          this.props\r\n            .commonCreateApi(`podetail/`, formDataDetails)\r\n            .then(resCreateDetails => {\r\n              console.log(\"resCreateDetails\", resCreateDetails);\r\n              history.push(`/admin/quantum`);\r\n            });\r\n        }\r\n      });\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemListStored.some(\r\n        el => el.item_code === item.item_code\r\n      );\r\n      if (!found) {\r\n        this.props.commonDeleteApi(`poitem/${item.item_id}/`).then(res => {});\r\n      }\r\n    }\r\n\r\n    for (let item of storedItemListStored) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"po_itemcode\", item.item_code);\r\n      formDataItem.append(\"po_itemdesc\", item.item_desc);\r\n      formDataItem.append(\"po_itemremarks\", item.item_remarks);\r\n      formDataItem.append(\"po_unitprice\", item.item_price);\r\n      formDataItem.append(\"po_quantity\", item.item_quantity);\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `poitem/?searchpoitemid=${resPO.data.id}&searchpoitemcode=${item.item_code}`\r\n        )\r\n        .then(resGetItem => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `poitem/${resGetItem.data.dataList[0].id}/`,\r\n                formDataItem\r\n              )\r\n              .then(resUpdateItem => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"fk_po\", resPO.data.id);\r\n            this.props\r\n              .commonCreateApi(`poitem/`, formDataItem)\r\n              .then(resCreateItem => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleAddressSubmit = resPO => {\r\n    let { cityOption, countryOption, stateOption } = this.state;\r\n    //submit address\r\n    const formDataAddress = new FormData();\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored in handleAddressSubmit\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.to\",\r\n      this.state.formFieldsBillingStored.to\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.address1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"billto\",\r\n      this.state.formFieldsBillingStored.to\r\n        ? this.state.formFieldsBillingStored.to\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr1\",\r\n      this.state.formFieldsBillingStored.address1\r\n        ? this.state.formFieldsBillingStored.address1\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr2\",\r\n      this.state.formFieldsBillingStored.address2\r\n        ? this.state.formFieldsBillingStored.address2\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr3\",\r\n      this.state.formFieldsBillingStored.address3\r\n        ? this.state.formFieldsBillingStored.address3\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_postalcode\",\r\n      this.state.formFieldsBillingStored.postalCode\r\n        ? this.state.formFieldsBillingStored.postalCode\r\n        : \"\"\r\n    );\r\n\r\n    // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n    formDataAddress.append(\r\n      \"bill_city\",\r\n      this.state.formFieldsBillingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value === parseInt(this.state.formFieldsBillingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_state\",\r\n      this.state.formFieldsBillingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_country\",\r\n      this.state.formFieldsBillingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"shipto\",\r\n      this.state.formFieldsShippingStored.to\r\n        ? this.state.formFieldsShippingStored.to\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr1\",\r\n      this.state.formFieldsShippingStored.address1\r\n        ? this.state.formFieldsShippingStored.address1\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr2\",\r\n      this.state.formFieldsShippingStored.address2\r\n        ? this.state.formFieldsShippingStored.address2\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr3\",\r\n      this.state.formFieldsShippingStored.address3\r\n        ? this.state.formFieldsShippingStored.address3\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_postalcode\",\r\n      this.state.formFieldsShippingStored.postalCode\r\n        ? this.state.formFieldsShippingStored.postalCode\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_city\",\r\n      this.state.formFieldsShippingStored.city\r\n        ? cityOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_state\",\r\n      this.state.formFieldsShippingStored.state\r\n        ? stateOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_country\",\r\n      this.state.formFieldsShippingStored.country\r\n        ? countryOption.find(\r\n            option =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`poaddr/?searchpoaddrid=${resPO.data.id}`)\r\n      .then(resGetAddr => {\r\n        if (resGetAddr.status == 200) {\r\n          console.log(\"resGetAddr\", resGetAddr);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `poaddr/${resGetAddr.data[0].id}/`,\r\n              formDataAddress\r\n            )\r\n            .then(resUpdateAddr => {\r\n              console.log(\"resCreateAddr\", resUpdateAddr);\r\n            });\r\n        } else if (resGetAddr.status == 204) {\r\n          formDataAddress.append(\"fk_po\", resPO.data.id);\r\n          this.props\r\n            .commonCreateApi(`poaddr/`, formDataAddress)\r\n            .then(resCreateAddr => {\r\n              console.log(\"resCreateAddr\", resCreateAddr);\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSubmit = async status => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let { formFields, statusOption } = this.state;\r\n        let statusValue = \"\";\r\n        console.log(\"formFields.status\", formFields.status);\r\n\r\n        for (let key of statusOption) {\r\n          // console.log(key.value)\r\n          if (key.value == formFields.status) {\r\n            statusValue = key.label;\r\n          }\r\n        }\r\n        console.log(\"statusValue\", statusValue);\r\n        const formData = new FormData();\r\n        // formData.append(\"po_number\", formFields.PONumber);\r\n        //check save or post\r\n        if (status) {\r\n          formData.append(\"status\", \"Posted\");\r\n        } else {\r\n          formData.append(\"status\", statusValue);\r\n        }\r\n        formData.append(\"title\", formFields.projectTitle);\r\n        formData.append(\"company\", formFields.companyName);\r\n        formData.append(\"contact_person\", formFields.from);\r\n        formData.append(\"remarks\", formFields.remarks);\r\n        console.log(\"formFields.PODate\", formFields.PODate);\r\n        formData.append(\r\n          \"created_at\",\r\n          dateFormat(formFields.PODate) + \" 00:00:00\"\r\n        );\r\n        // formData.append(\"created_at\", dateFormat(formFields.PODate) + \" \"+formFields.PODate.getHours() + \":\" + formFields.PODate.getMinutes() + \":\" + formFields.PODate.getSeconds());\r\n\r\n        formData.append(\"fk_quotation_number\", formFields.quoNumber);\r\n        formData.append(\"username\", this.props.tokenDetail.username);\r\n        console.log(\"this.state.fkProject in submit\", this.state.fkProject);\r\n        if (this.state.fkProject) {\r\n          formData.append(\"fk_project\", this.state.fkProject);\r\n        }\r\n        console.log(\"formData\", formData);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resPO = await this.props.updatePO(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          console.log(resPO);\r\n          this.handleAddressSubmit(resPO);\r\n          this.handleItemDetailsSubmit(resPO);\r\n          if (statusValue == \"Void\") {\r\n            console.log(\"in void loop\");\r\n            await this.props.deletePO(`${this.props.match.params.id}/`);\r\n          }\r\n\r\n          // this.props.history.push(\r\n          //   `/admin/po`\r\n          // )\r\n        } else {\r\n          console.log(\"this.props before createPO\", this.props);\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          console.log(\r\n            \"this.state.fkProject before createPO\",\r\n            this.state.fkProject\r\n          );\r\n          // formData.append(\"fk_project\", this.state.fkProject);\r\n          var resPO = await this.props.createPO(formData);\r\n\r\n          console.log(\"resPO in createPO\", resPO);\r\n          console.log(\"resPO.data.id\", resPO.data.id);\r\n\r\n          this.handleAddressSubmit(resPO);\r\n          this.handleItemDetailsSubmit(resPO);\r\n\r\n          // this.props.history.push(\r\n          //   `/admin/po`\r\n          // )\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      currentValue,\r\n      navLinks,\r\n      disableEdit,\r\n      fkQuotation,\r\n    } = this.state;\r\n\r\n    let {\r\n      PONumber,\r\n      projectTitle,\r\n      PODate,\r\n      companyName,\r\n      status,\r\n      from,\r\n      remarks,\r\n      quoNumber,      \r\n      contactPerson\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5 container create-PO\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category\"\r\n            onClick={() => {\r\n              if (\r\n                window.confirm(\r\n                  \"Are you sure you want to leave this page and discard changes?\"\r\n                )\r\n              )\r\n                history.push(`/admin/quantum`);\r\n            }}\r\n          >\r\n            {t(\"PO\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} PO`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"PO-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"PO No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={PONumber}\r\n                    name=\"PONumber\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"PO No\"),\r\n                      PONumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Project\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={projectTitle}\r\n                    name=\"projectTitle\"\r\n                    onChange={this.handleSearch}\r\n                    onClick={this.handleSearchClick}                    \r\n                  />\r\n                </div>\r\n                {this.state.visible?(\r\n              <div className=\"projectSearch-block\" >\r\n                <div className=\"d-flex mt-3 table table-header w-100 m-0\">\r\n                  <div className=\"col-6\">{t(\"Project\")}</div>\r\n                  <div className=\"col-6\">{t(\"Customer Name\")}</div>\r\n                  \r\n                </div>\r\n                <div className=\"response-table w-100 row\">\r\n                  {this.state.projectOption.length > 0 ? (\r\n                    this.state.projectOption.map((item, index) => {\r\n                      return (\r\n                        <div\r\n                          className=\"row m-0 table-body w-100 border\"\r\n                          onClick={() => this.handleSelectProject(item)\r\n                          }\r\n                          key={index}\r\n                        >\r\n                          <div className=\"col-6\">{item.title}</div>\r\n                          <div className=\"col-6\">{item.customer_name}</div>\r\n                          \r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <div className=\"text-center w-100\">\r\n                      {t(\"No Data Available\")}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                </div>):''}\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Project\"),\r\n                    projectTitle,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"PO Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={PODate ? new Date(PODate) : new Date()}\r\n                    name=\"PODate\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"PO Date\"), PODate, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Company Name\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={true}\r\n                    value={companyName}\r\n                    name=\"companyName\"\r\n                    onChange={this.handleCustomerSearch}\r\n                    onClick={this.handleCustomerSearchClick}\r\n                  />\r\n                </div>\r\n                {this.state.visibleCustomer? (\r\n              <div className=\"customerSearch-block\">\r\n                <div className=\"d-flex mt-3 table table-header w-100 m-0\">\r\n                  <div className=\"col-2\">{t(\"Name\")}</div>\r\n                  <div className=\"col-2\">{t(\"Phone\")}</div>\r\n                  <div className=\"col-2\">{t(\"Customer Code\")}</div>\r\n                  <div className=\"col-2\">{t(\"Reference\")}</div>\r\n                  <div className=\"col-3\">{t(\"Email\")}</div>\r\n                  <div className=\"col-1\">{t(\"NRIC\")}</div>\r\n                </div>\r\n                <div className=\"response-table w-100 row\">\r\n                  {this.state.customerOption.length > 0 ? (\r\n                   this.state. customerOption.map((item, index) => {\r\n                      return (\r\n                        <div\r\n                          className=\"row m-0 table-body w-100 border\"\r\n                          onClick={() => this.handleSelectCustomer(item)\r\n                          }\r\n                          key={index}\r\n                        >\r\n                          <div className=\"col-2\">{item.cust_name}</div>\r\n                          <div className=\"col-2\">{item.cust_phone1}</div>\r\n                          <div className=\"col-2\">{item.cust_code}</div>\r\n                          <div className=\"col-2\">{item.cust_refer}</div>\r\n                          <div className=\"col-3\">{item.cust_email}</div>\r\n                          <div className=\"col-1\">{item.cust_nric}</div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <div className=\"text-center w-100\">\r\n                      {t(\"No Data Available\")}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Company Name\"),\r\n                    companyName,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    value={status}\r\n                    name=\"status\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Status\"), status, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"From\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={from}\r\n                    name=\"from\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"From\"), from, t(\"required\"))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12\"></div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Quotation Number\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={quoNumber}\r\n                    name=\"quoNumber\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {/* <div>\r\n                    {this.validator.message(\r\n                      t(\"Quotation Number\"),\r\n                      quoNumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div> */}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-12 PO-content\">\r\n              <div className=\"tab-menus\">\r\n                <ul>\r\n                  {navLinks.map(({ to, label, id }, index) => (\r\n                    <li key={index}>\r\n                      <NavLink to={to} className=\"nav-link\">\r\n                        <div\r\n                          className={`sidebar-menu ${\r\n                            currentValue === index ? \"active\" : \"\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            this.handleClick({ key: index, id: id })\r\n                          }\r\n                        >\r\n                          <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                        </div>\r\n                      </NavLink>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              {this.state.selectedMenu === \"Details\" && (\r\n                <Details\r\n                  disableEdit={disableEdit}\r\n                  poId={this.props.match.params.id}\r\n                  quoId={fkQuotation}\r\n                  siteGstList={this.state.siteGstList}\r\n                  validator={this.validator}\r\n                  storeItemDetails={this.storeItemDetails.bind(this)}\r\n                  storedItemListStored={this.state.storedItemListStored}\r\n                  formFieldsDetailsStored={this.state.formFieldsDetailsStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"details\"}\r\n                />\r\n              )}\r\n              {this.state.selectedMenu === \"Address\" && (\r\n                <Address\r\n                  disableEdit={disableEdit}\r\n                  storeAddressFields={this.storeAddressFields.bind(this)}\r\n                  formFieldsBillingStored={this.state.formFieldsBillingStored}\r\n                  formFieldsShippingStored={this.state.formFieldsShippingStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"address\"}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12 mt-3\"></div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    if (\r\n                      window.confirm(\r\n                        \"Are you sure you want to leave this page and discard changes?\"\r\n                      )\r\n                    )\r\n                      history.push(`/admin/quantum`);\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  disabled={this.state.storedItemListStored.length<1}\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(status)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      updatePO,\r\n      createPO,\r\n      deletePO,\r\n      commonDeleteApi,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const AddPO = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddPOClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}