{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\Project\\\\AddProject\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { Redirect } from 'react-router-dom';\nimport { NormalInput, NormalSelect, NormalButton, NormalTextarea, NormalDateTime, NormalMultiSelect } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\"; // import { DragFileUpload } from \"../../../common\";\n\nimport { createProject, updateProject } from \"redux/actions/project\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\"; // import { ScheduleTable } from \"./ScheduleTable\";\n\nimport { withTranslation } from \"react-i18next\";\nimport { Activities } from \"./activities\";\nimport { Quotation } from \"./quotation\";\nimport { PO } from \"./PO\";\nimport { NavLink } from \"react-router-dom\";\nimport { getTokenDetails } from \"redux/actions/auth\";\nexport class AddProjectClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        projectTitle: \"\",\n        projectDesc: \"\",\n        status: \"\",\n        custName: \"\",\n        contactName: \"\",\n        contactNumber: \"\"\n      },\n      // scheduleOptions: [],\n      projectList: [],\n      statusOption: [],\n      // locationOption: [],\n      // levelList: [],\n      is_loading: true,\n      isMounted: true,\n      active: false,\n      currentValue: 0,\n      // navLinks: [\n      //   { to: \"/admin/project/add\", label: \"Activities\", id: \"Activities\" },\n      //   { to: \"/admin/project/add\", label: \"Quotation\", id: \"Quotation\" },\n      //   { to: \"/admin/project/add\", label: \"Purchase Order\", id: \"PO\" },\n      // ],\n      navLinks: [{\n        to: this.props.location.pathname,\n        label: \"Activities\",\n        id: \"Activities\"\n      }, {\n        to: this.props.location.pathname,\n        label: \"Quotation\",\n        id: \"Quotation\"\n      }, {\n        to: this.props.location.pathname,\n        label: \"Purchase Order\",\n        id: \"PO\"\n      }],\n      selectedMenu: \"Activities\"\n    };\n\n    this.componentWillMount = () => {\n      this.getStatus(); // console.log(\"componentWillMount statusoption\",this.state.statusOption )\n\n      this.validator = new SimpleReactValidator({\n        validators: {},\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.getStatus = () => {\n      let {\n        statusOption\n      } = this.state;\n      console.log(\"this.props addpro\", this.props);\n      console.log(\"this.props.match.params.id addpro\", this.props.match.params.id); // statusOption = [];\n\n      this.props.getCommonApi(`dropdownproject`).then(res => {\n        // activeMenu = []\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          statusOption.push({\n            value: key.id,\n            label: key.dropdown_item,\n            code: key.dropdown_desc,\n            active: key.active\n          });\n        }\n\n        console.log(\"statusOption\", statusOption);\n        this.updateState({\n          statusOption\n        });\n\n        if (this.props.match.params.id) {\n          this.autoFillForm();\n        }\n\n        ;\n      });\n    };\n\n    this.autoFillForm = () => {\n      // let { statusOption } = this.state;\n      this.props.getCommonApi(`projectlist/?searchid=${this.props.match.params.id}`).then(async res => {\n        console.log(\"project dataList\", res.data.dataList);\n        console.log(\"project dataList cust name\", res.data.dataList[0].customer_name); // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n        this.state.formFields[\"projectDesc\"] = res.data.dataList[0].desc; // const people = [ {name: \"john\", age:23},\n        //         {name: \"john\", age:43},\n        //         {name: \"jim\", age:101},\n        //         {name: \"bob\", age:67} ];\n        //   // const john = people.find(person => person.name === john);\n        // console.log(\"people testing\",people.find(person => person.name === \"john\"));\n        // const statusOPtionLoop = this.state.statusOption\n        // console.log(\"statusOPtionLoop\",statusOPtionLoop[0])\n        // for (let x in statusOPtionLoop){\n        //   console.log(\"statusOPtionLoop elements\", x)\n        // }\n        // console.log(\"statusOPtionLoop\",statusOPtionLoop.find((person => person.label === \"Lead\")))\n        // console.log(\"statusOptionTemp\",statusOptionTemp)\n        // console.log(\"statusOptionTemp[0]\",statusOptionTemp[0])\n\n        console.log(\"statusOption in prefill\", this.state.statusOption);\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status); // if status empty prevent err\n\n        if (res.data.dataList[0].status) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value;\n        }\n\n        this.state.formFields[\"custName\"] = res.data.dataList[0].customer_name;\n        this.state.formFields[\"contactName\"] = res.data.dataList[0].contact_person;\n        this.state.formFields[\"contactNumber\"] = res.data.dataList[0].contact_number;\n        this.updateState(this.state.formFields);\n        console.log(\"this.state.formFields\", this.state.formFields);\n      });\n    };\n\n    this.handleClick = async key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      await this.updateState({\n        selectedMenu: key.id\n      });\n      this.updateState({\n        active: true,\n        currentValue: key.key,\n        selected: key.id\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleSubmit = async () => {\n      try {\n        if (this.validator.allValid()) {\n          //   this.updateState({ is_loading: true });\n          //   let { formFields } = this.state;\n          //   Object.keys(formFields).forEach((e) => {\n          //     if (typeof formFields[e] === \"boolean\")\n          //       formFields[e] = formFields[e] ? \"True\" : \"False\";\n          //   });\n          let {\n            formFields,\n            statusOption\n          } = this.state;\n          let statusValue = \"\";\n          console.log('formFields.status', formFields.status);\n\n          for (let key of statusOption) {\n            // console.log(key.value)\n            if (key.value == formFields.status) {\n              statusValue = key.label;\n            }\n          }\n\n          console.log(\"statusValue\", statusValue);\n          const formData = new FormData();\n          formData.append(\"title\", formFields.projectTitle);\n          formData.append(\"desc\", formFields.projectDesc);\n          formData.append(\"status\", statusValue);\n          formData.append(\"customer_name\", formFields.custName);\n          formData.append(\"contact_person\", formFields.contactName);\n          formData.append(\"contact_number\", formFields.contactNumber);\n          formData.append(\"username\", this.props.tokenDetail.username);\n          console.log(\"formData\", formData);\n\n          if (this.props.match.params.id) {\n            console.log(\"in if loop\");\n            console.log(\"this.props.match.params.id\", this.props.match.params.id);\n            var res = await this.props.updateProject(`${this.props.match.params.id}/`, formData);\n            console.log(res);\n            this.props.history.push(`/admin/project`);\n          } else {\n            var res = await this.props.createProject(formData);\n            this.props.history.push(`/admin/project`);\n          } // if (\n          //   formFields.emp_pic != null &&\n          //   typeof formFields.emp_pic === \"object\"\n          // )\n          //   formData.append(\"emp_pic\", formFields.emp_pic);\n          // formData.append(\"emp_nric\", formFields.emp_nric);\n          // formData.append(\"is_login\", formFields.is_login);\n          // formData.append(\"emp_isactive\", formFields.emp_isactive);\n          // formData.append(\"max_disc\", formFields.max_disc);\n          // formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\n          // formData.append(\"show_in_sales\", formFields.show_in_sales);\n          // formData.append(\"show_in_appt\", formFields.show_in_appt);\n          // formData.append(\"show_in_trmt\", formFields.show_in_trmt);\n          // formData.append(\n          //   \"site_list\",\n          //   formFields.siteCodes.map((e) => e.value).reduce((a, e) => a + \",\" + e)\n          // );\n          // const scheduleData = new FormData();\n          // scheduleData.append(\"monday\", formFields.work_schedule.monday);\n          // scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n          // scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\n          // scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\n          // scheduleData.append(\"friday\", formFields.work_schedule.friday);\n          // scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\n          // scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\n          // if (this.props.match.params.id) {\n          //   var res = await this.props.updateStaffPlus(\n          //     `${this.props.match.params.id}/`,\n          //     formData\n          //   );\n          //   console.log(res);\n          //   if (res.status === 200) {\n          //     await this.props.updateWorkSchedule(\n          //       this.props.match.params.id,\n          //       scheduleData\n          //     );\n          //   }\n          //   await this.getStaffDetail();\n          // } else {\n          //   var res = await this.props.createStaffPlus(formData);\n          //   console.log(res);\n          //   if (res.status === 201) {\n          //     var res2 = await this.props.updateWorkSchedule(\n          //       res.data.id,\n          //       scheduleData\n          //     );\n          //     if (res2.status === 200)\n          //       this.props.history.push(\n          //         `/admin/staffPlus/${res.data.id}/editStaff`\n          //       );\n          //   }\n          // }\n\n        } else {\n          this.validator.showMessages();\n        } // this.updateState({ is_loading: false });\n\n      } catch (e) {\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {}\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      formFields,\n      navLinks,\n      currentValue,\n      statusOption\n    } = this.state;\n    let {\n      projectTitle,\n      projectDesc,\n      status,\n      custName,\n      contactName,\n      contactNumber\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5 container create-project\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }\n    }, t(\"Project\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }\n    }, t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Project`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quotation-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 19\n      }\n    }, t(\"Project Title\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: projectTitle,\n      name: \"projectTitle\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 19\n      }\n    }, this.validator.message(t(\"Project Title\"), projectTitle, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 19\n      }\n    }, t(\"Project Description\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      placeholder: \"Enter here\",\n      value: projectDesc,\n      name: \"projectDesc\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 19\n      }\n    }, t(\"Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: statusOption,\n      value: status,\n      name: \"status\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 19\n      }\n    }, this.validator.message(t(\"Status\"), status, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 19\n      }\n    }, t(\"Customer\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: custName,\n      name: \"custName\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 19\n      }\n    }, this.validator.message(t(\"Customer\"), custName, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 19\n      }\n    }, t(\"Contact Person\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: contactName,\n      name: \"contactName\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 19\n      }\n    }, this.validator.message(t(\"Contact Person\"), contactName, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 19\n      }\n    }, t(\"Contact Number\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      value: contactNumber,\n      name: \"contactNumber\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 19\n      }\n    }, this.validator.message(t(\"Contact Number\"), contactNumber, t(\"required\")))), this.props.match.params.id && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 project-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 21\n      }\n    }, navLinks.map(({\n      to,\n      label,\n      id\n    }, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: to,\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `sidebar-menu ${currentValue === index ? \"active\" : \"\"}`,\n      onClick: () => this.handleClick({\n        key: index,\n        id: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sidebar-menu-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 31\n      }\n    }, t(label)))))))), this.state.selectedMenu === \"Activities\" && /*#__PURE__*/React.createElement(Activities, {\n      fk_id: this.props.match.params.id,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"activities\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 21\n      }\n    }), this.state.selectedMenu === \"Quotation\" && /*#__PURE__*/React.createElement(Quotation, {\n      fk_id: this.props.match.params.id,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"quotation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 21\n      }\n    }), this.state.selectedMenu === \"PO\" && /*#__PURE__*/React.createElement(PO, {\n      fk_id: this.props.match.params.id,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"po\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Cancel\",\n      outline: false,\n      onClick: () => {\n        if (window.confirm('Are you sure you want to leave this page and discard changes?')) // window.location.href = '/admin/project' \n          this.props.history.push(`/admin/project`);\n      } // onClick={this.handleSearch}               \n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Save\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    createProject,\n    updateProject,\n    getTokenDetails\n  }, dispatch);\n}; // export const AddProject = withTranslation()(\n//   connect(mapStateToProps, mapDispatchToProps)(AddProjectClass)\n// );\n\n\nexport const AddProject = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddProjectClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Project/AddProject/index.js"],"names":["React","Component","Link","SimpleReactValidator","Redirect","NormalInput","NormalSelect","NormalButton","NormalTextarea","NormalDateTime","NormalMultiSelect","displayImg","dateFormat","createProject","updateProject","getJobtitle","getCommonApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","Activities","Quotation","PO","NavLink","getTokenDetails","AddProjectClass","state","formFields","projectTitle","projectDesc","status","custName","contactName","contactNumber","projectList","statusOption","is_loading","isMounted","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","componentWillMount","getStatus","validator","validators","element","message","autoForceUpdate","updateState","data","setState","console","log","match","params","then","res","key","push","value","dropdown_item","code","dropdown_desc","autoFillForm","dataList","customer_name","title","desc","find","option","contact_person","contact_number","handleClick","selected","handleChange","target","name","Object","assign","handleSubmit","allValid","statusValue","formData","FormData","append","tokenDetail","username","history","showMessages","e","componentDidMount","componentWillUnmount","render","t","map","index","window","confirm","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddProject"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { Redirect } from 'react-router-dom'\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalTextarea,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\n// import { DragFileUpload } from \"../../../common\";\r\nimport {\r\n  createProject,\r\n  updateProject\r\n} from \"redux/actions/project\";\r\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\n// import { ScheduleTable } from \"./ScheduleTable\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Activities } from \"./activities\"\r\nimport { Quotation } from \"./quotation\"\r\nimport { PO } from \"./PO\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\n\r\nexport class AddProjectClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      projectTitle: \"\",\r\n      projectDesc: \"\",\r\n      status: \"\",\r\n      custName: \"\",\r\n      contactName: \"\",\r\n      contactNumber:\"\"\r\n    },\r\n    // scheduleOptions: [],\r\n    projectList: [],\r\n    statusOption: [],\r\n    // locationOption: [],\r\n    // levelList: [],\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    // navLinks: [\r\n    //   { to: \"/admin/project/add\", label: \"Activities\", id: \"Activities\" },\r\n    //   { to: \"/admin/project/add\", label: \"Quotation\", id: \"Quotation\" },\r\n    //   { to: \"/admin/project/add\", label: \"Purchase Order\", id: \"PO\" },\r\n    // ],\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Activities\", id: \"Activities\" },\r\n      { to: this.props.location.pathname, label: \"Quotation\", id: \"Quotation\" },\r\n      { to: this.props.location.pathname, label: \"Purchase Order\", id: \"PO\" },\r\n    ],\r\n    selectedMenu: \"Activities\",\r\n  };\r\n\r\n  \r\n\r\n  componentWillMount = () => {\r\n    this.getStatus();\r\n    // console.log(\"componentWillMount statusoption\",this.state.statusOption )\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: (message) => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n    \r\n  };\r\n    \r\n\r\n  componentDidMount() {\r\n    \r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    console.log(\"this.props addpro\", this.props)\r\n    console.log(\"this.props.match.params.id addpro\", this.props.match.params.id)\r\n    // statusOption = [];\r\n    this.props\r\n      .getCommonApi(`dropdownproject`)\r\n      .then(res => {\r\n        // activeMenu = []\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data) {\r\n          statusOption.push({\r\n            value: key.id,\r\n            label: key.dropdown_item,\r\n            code: key.dropdown_desc,\r\n            active: key.active,\r\n          });\r\n        }\r\n        console.log(\"statusOption\", statusOption)\r\n        this.updateState({ statusOption });\r\n\r\n        if (this.props.match.params.id) {\r\n          this.autoFillForm()\r\n        };\r\n      });\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    // let { statusOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `projectlist/?searchid=${this.props.match.params.id}`\r\n      )\r\n      .then(async res => {\r\n        \r\n        console.log(\"project dataList\", res.data.dataList);\r\n        console.log(\"project dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title\r\n        this.state.formFields[\"projectDesc\"] = res.data.dataList[0].desc\r\n        // const people = [ {name: \"john\", age:23},\r\n        //         {name: \"john\", age:43},\r\n        //         {name: \"jim\", age:101},\r\n        //         {name: \"bob\", age:67} ];\r\n\r\n        //   // const john = people.find(person => person.name === john);\r\n        // console.log(\"people testing\",people.find(person => person.name === \"john\"));\r\n        // const statusOPtionLoop = this.state.statusOption\r\n        // console.log(\"statusOPtionLoop\",statusOPtionLoop[0])\r\n        // for (let x in statusOPtionLoop){\r\n        //   console.log(\"statusOPtionLoop elements\", x)\r\n        // }\r\n        // console.log(\"statusOPtionLoop\",statusOPtionLoop.find((person => person.label === \"Lead\")))\r\n        // console.log(\"statusOptionTemp\",statusOptionTemp)\r\n        // console.log(\"statusOptionTemp[0]\",statusOptionTemp[0])\r\n        console.log(\"statusOption in prefill\",this.state.statusOption)\r\n        console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status)\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].status) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value\r\n        }\r\n        this.state.formFields[\"custName\"] = res.data.dataList[0].customer_name\r\n        this.state.formFields[\"contactName\"] = res.data.dataList[0].contact_person\r\n        this.state.formFields[\"contactNumber\"] = res.data.dataList[0].contact_number\r\n        this.updateState( this.state.formFields )\r\n        console.log(\"this.state.formFields\", this.state.formFields)\r\n      });\r\n  }\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.updateState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.updateState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n\r\n  \r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // handleMultiSelect = (data = []) => {\r\n  //   let { formFields } = this.state;\r\n  //   formFields.siteCodes = data;\r\n  //   console.log(data);\r\n  //   this.updateState({ formFields });\r\n  // };\r\n\r\n  // handleDatePick = async (name, value) => {\r\n  //   // dateFormat(new Date())\r\n  //   let { formFields } = this.state;\r\n  //   formFields[name] = value;\r\n  //   // formFields[name] = value;\r\n  //   await this.updateState({\r\n  //     formFields,\r\n  //   });\r\n  // };\r\n\r\n  // handleInput = ({ target: { name, value } }) => {\r\n  //   let formFields = Object.assign({}, this.state.formFields);\r\n  //   formFields[name] = value === true ? 1 : value;\r\n  //   this.updateState({\r\n  //     formFields,\r\n  //   });\r\n  // };\r\n\r\n  // submit to create/update project\r\n  handleSubmit = async () => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n      //   this.updateState({ is_loading: true });\r\n      //   let { formFields } = this.state;\r\n      //   Object.keys(formFields).forEach((e) => {\r\n      //     if (typeof formFields[e] === \"boolean\")\r\n      //       formFields[e] = formFields[e] ? \"True\" : \"False\";\r\n      //   });\r\n        let { formFields, statusOption } = this.state;\r\n        let statusValue =\"\"\r\n        console.log('formFields.status', formFields.status)\r\n\r\n        for (let key of statusOption){\r\n          // console.log(key.value)\r\n          if(key.value == formFields.status){\r\n            statusValue = key.label\r\n          }\r\n        }\r\n        console.log(\"statusValue\", statusValue)\r\n        const formData = new FormData();\r\n        formData.append(\"title\", formFields.projectTitle);\r\n        formData.append(\"desc\", formFields.projectDesc);\r\n        formData.append(\"status\", statusValue);\r\n        formData.append(\"customer_name\", formFields.custName);\r\n        formData.append(\"contact_person\", formFields.contactName);\r\n        formData.append(\"contact_number\", formFields.contactNumber);\r\n        formData.append(\"username\", this.props.tokenDetail.username);\r\n        console.log(\"formData\", formData)\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\")\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id)\r\n          var res = await this.props.updateProject(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n          console.log(res);\r\n          this.props.history.push(\r\n            `/admin/project`\r\n          )\r\n        }  \r\n        else{\r\n          var res = await this.props.createProject(formData);\r\n          this.props.history.push(\r\n            `/admin/project`\r\n          )\r\n        } \r\n        \r\n        // if (\r\n        //   formFields.emp_pic != null &&\r\n        //   typeof formFields.emp_pic === \"object\"\r\n        // )\r\n        //   formData.append(\"emp_pic\", formFields.emp_pic);\r\n        // formData.append(\"emp_nric\", formFields.emp_nric);\r\n        // formData.append(\"is_login\", formFields.is_login);\r\n        // formData.append(\"emp_isactive\", formFields.emp_isactive);\r\n        // formData.append(\"max_disc\", formFields.max_disc);\r\n        // formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\r\n        // formData.append(\"show_in_sales\", formFields.show_in_sales);\r\n        // formData.append(\"show_in_appt\", formFields.show_in_appt);\r\n        // formData.append(\"show_in_trmt\", formFields.show_in_trmt);\r\n        // formData.append(\r\n        //   \"site_list\",\r\n        //   formFields.siteCodes.map((e) => e.value).reduce((a, e) => a + \",\" + e)\r\n        // );\r\n        // const scheduleData = new FormData();\r\n        // scheduleData.append(\"monday\", formFields.work_schedule.monday);\r\n        // scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\r\n        // scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\r\n        // scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\r\n        // scheduleData.append(\"friday\", formFields.work_schedule.friday);\r\n        // scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\r\n        // scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\r\n        // if (this.props.match.params.id) {\r\n        //   var res = await this.props.updateStaffPlus(\r\n        //     `${this.props.match.params.id}/`,\r\n        //     formData\r\n        //   );\r\n        //   console.log(res);\r\n        //   if (res.status === 200) {\r\n        //     await this.props.updateWorkSchedule(\r\n        //       this.props.match.params.id,\r\n        //       scheduleData\r\n        //     );\r\n        //   }\r\n        //   await this.getStaffDetail();\r\n        // } else {\r\n        //   var res = await this.props.createStaffPlus(formData);\r\n        //   console.log(res);\r\n        //   if (res.status === 201) {\r\n        //     var res2 = await this.props.updateWorkSchedule(\r\n        //       res.data.id,\r\n        //       scheduleData\r\n        //     );\r\n        //     if (res2.status === 200)\r\n        //       this.props.history.push(\r\n        //         `/admin/staffPlus/${res.data.id}/editStaff`\r\n        //       );\r\n        //   }\r\n        // }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      navLinks,\r\n      currentValue,\r\n      statusOption,\r\n    } = this.state;\r\n\r\n    let {\r\n      projectTitle,\r\n      projectDesc,\r\n      status,\r\n      custName,\r\n      contactName,\r\n      contactNumber,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return ( \r\n      \r\n      \r\n      <div className=\"px-5 container create-project\">\r\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Staff</p> */}\r\n        <div className=\"head-label-nav\">\r\n          <p className=\"category\">{t(\"Project\")}</p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Project`)}\r\n          </p>\r\n        </div>\r\n        {/* {is_loading ? (\r\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n            <div class=\"spinner-border\" role=\"status\">\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        ) : ( */}\r\n          <div className=\"quotation-detail\">\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row mt-5\">\r\n  \r\n                <div className=\"col-md-6 col-12 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Project Title\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={projectTitle}\r\n                      name=\"projectTitle\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Project Title\"),\r\n                      projectTitle,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Project Description\")}\r\n                  </label>\r\n                  <div className=\"input-group-desc\">\r\n                    <NormalTextarea\r\n                      placeholder=\"Enter here\"\r\n                      value={projectDesc}\r\n                      name=\"projectDesc\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n\r\n                  \r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Status\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      options={statusOption}                     \r\n                      value={status}\r\n                      name=\"status\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Status\"),\r\n                      status,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n                  \r\n\r\n                </div>\r\n\r\n                <div className=\"col-md-6 col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Customer\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={custName}\r\n                      name=\"custName\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Customer\"),\r\n                      custName,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Contact Person\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={contactName}\r\n                      name=\"contactName\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Contact Person\"),\r\n                      contactName,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Contact Number\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={contactNumber}\r\n                      name=\"contactNumber\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Contact Number\"),\r\n                      contactNumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n                  \r\n                </div>\r\n                \r\n                \r\n                {/* <div className=\"col-6 mb-3\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Join Date\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalDateTime\r\n                      onChange={this.handleDatePick}\r\n                      inputcol=\"p-0 inTime\"\r\n                      value={emp_joindate}\r\n                      name=\"emp_joindate\"\r\n                      className=\"dob-pick\"\r\n                      showYearDropdown={true}\r\n                      dateFormat=\"MM/dd/yyyy\"\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"join date\"),\r\n                    emp_joindate,\r\n                    t(\"required\")\r\n                  )}\r\n                </div> */}\r\n                {this.props.match.params.id && \r\n                <div className=\"col-md-12 project-content\">\r\n                  <div className=\"tab-menus\">\r\n                    <ul>\r\n                      {navLinks.map(({ to, label, id }, index) => (\r\n                        <li key={index}>\r\n                          <NavLink to={to} className=\"nav-link\">\r\n                            <div\r\n                              className={`sidebar-menu ${\r\n                                currentValue === index ? \"active\" : \"\"\r\n                              }`}\r\n                              onClick={() => this.handleClick({ key: index, id: id })}\r\n                            >\r\n                              <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                            </div>\r\n                          </NavLink>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                  {this.state.selectedMenu === \"Activities\" && (\r\n                    <Activities\r\n                      fk_id={this.props.match.params.id}\r\n                      id={this.state.selectedMenu}\r\n                      // search={formFields.search}\r\n                      api={\"activities\"}\r\n                    />\r\n                  )}\r\n                  {this.state.selectedMenu === \"Quotation\" && (\r\n                    <Quotation\r\n                      fk_id={this.props.match.params.id}\r\n                      id={this.state.selectedMenu}\r\n                      // search={formFields.search}\r\n                      api={\"quotation\"}\r\n                    />\r\n                  )}\r\n                  {this.state.selectedMenu === \"PO\" && (\r\n                    <PO\r\n                      fk_id={this.props.match.params.id}\r\n                      id={this.state.selectedMenu}\r\n                      // search={formFields.search}\r\n                      api={\"po\"}\r\n                    />\r\n                  )}\r\n                \r\n                </div>\r\n                }     \r\n\r\n                <div className=\"col-md-4 col-12 mt-3\"></div>\r\n                \r\n                <div className=\"col-md-4 col-12 mt-3\">\r\n                  {/* <Link to=\"/admin/project\"> */}\r\n                    <NormalButton\r\n                      buttonClass={\"mx-2 mb-3\"}\r\n                      mainbg={true}\r\n                      className=\"confirm\"\r\n                      label=\"Cancel\"\r\n                      outline={false}\r\n                      onClick={() => { \r\n                        if (window.confirm('Are you sure you want to leave this page and discard changes?'))\r\n                        // window.location.href = '/admin/project' \r\n                        this.props.history.push(\r\n                          `/admin/project`\r\n                        )\r\n                      }\r\n                      }\r\n                      // onClick={this.handleSearch}               \r\n                    />\r\n                  {/* </Link> */}\r\n                </div>\r\n\r\n                <div className=\"col-md-4 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Save\"\r\n                    onClick={() => this.handleSubmit()}\r\n                  />\r\n                </div>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      createProject,\r\n      updateProject,\r\n      getTokenDetails\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\n// export const AddProject = withTranslation()(\r\n//   connect(mapStateToProps, mapDispatchToProps)(AddProjectClass)\r\n// );\r\n\r\nexport const AddProject = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddProjectClass)\r\n);"]},"metadata":{},"sourceType":"module"}