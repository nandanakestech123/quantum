{"ast":null,"code":"import _slicedToArray from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{NormalButton,NormalInput,NormalSelect,InputSearch,NormalModal,TableWrapper,NormalMultiSelect}from\"component/common\";import{Toast}from\"service/toast\";import{dateFormat}from\"service/helperFunctions\";import _ from\"lodash\";import{history}from\"helpers\";import{connect}from\"react-redux\";import Tree from\"react-animated-tree\";import{bindActionCreators}from\"redux\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import SimpleReactValidator from\"simple-react-validator\";// import { Treatment, Payment, EditCart } from './cart/index';\nimport service from\"assets/images/make-up-brush.png\";// import Discount from './cart/discount';\nexport var SelectStaffClass=/*#__PURE__*/function(_Component){_inherits(SelectStaffClass,_Component);var _super=_createSuper(SelectStaffClass);function SelectStaffClass(){var _this;_classCallCheck(this,SelectStaffClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isOpen:false,currentIndex:-1,tstaffList:[],cartData:{},postFields:{work_point:\"\"},Room:null,Source:null,new_remark:null,updateFields:{Room_Codeid:\"\",Source_Codeid:\"\",new_remark:\"\"},outletList:[],headerDetails:[{label:\"Employee name\",sortKey:false,width:\"130px\"},{label:\"Sessions\",width:\"30px\"},{label:\"WP1\",width:\"42px\"},{label:\"St. time\",sortKey:false,width:\"55px\"},{label:\"End time\",sortKey:false,width:\"55px\"},{label:\"Duration\",sortKey:false,width:\"55px\"}],sessionTableHeader:[{label:\"Sessions\",width:\"30px\"},{label:\"Employees\"},{label:\"\"}],sessionTableDetails:[],employeeOptions:[],customerOption:[],// cartData: {},\nroomList:[],sourceList:[],staffList:[],duration:[],startDuration:[],showPostError:false,showUpdateError:false,staffData:{},page:1,hideNotNeededControls:\"false\"};_this.componentWillMount=function(){// this.getCart();\n_this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});// let { basicApptDetail } = this.props;\n// if (basicApptDetail.custId) {\n//     let { formFields } = this.state;\n//     formFields[\"custId\"] = basicApptDetail.custId;\n//     formFields[\"custName\"] = basicApptDetail.custName;\n//     this.setState({ formFields });\n// }\nvar _this$state=_this.state,roomList=_this$state.roomList,sourceList=_this$state.sourceList,staffList=_this$state.staffList,cartData=_this$state.cartData,duration=_this$state.duration,startDuration=_this$state.startDuration,tstaffList=_this$state.tstaffList;_this.props.getCommonApi(\"room/\").then(function(key){var status=key.status,data=key.data;var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;roomList.push({value:value.id,label:value.displayname});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({roomList:roomList});});_this.props.getCommonApi(\"source/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator2=_createForOfIteratorHelper(data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;sourceList.push({value:value.id,label:value.source_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({sourceList:sourceList});}});_this.getStaffList();_this.getCart();var durationLocal=[\"00:10\",\"00:20\",\"00:30\",\"00:40\",\"00:50\",\"01:00\",\"01:10\",\"01:20\",\"01:30\",\"01:40\",\"01:50\",\"02:00\",\"02:10\",\"02:20\",\"02:30\",\"02:40\",\"02:50\",\"03:00\",\"03:10\",\"03:20\",\"03:30\",\"03:40\",\"03:50\",\"04:00\",\"04:10\",\"04:20\",\"04:30\",\"04:40\",\"04:50\",\"05:00\",\"05:10\",\"05:20\",\"05:30\",\"05:40\",\"05:50\",\"06:00\",\"06:10\",\"06:20\",\"06:30\",\"06:40\",\"06:50\",\"07:00\",\"07:10\",\"07:20\",\"07:30\",\"07:40\",\"07:50\",\"08:00\",\"08:10\",\"08:20\",\"08:30\",\"08:40\",\"08:50\",\"09:00\",\"09:10\",\"09:20\",\"09:30\",\"09:40\",\"09:50\",\"10:00\",\"10:10\",\"10:20\",\"10:30\",\"10:40\",\"10:50\",\"11:00\",\"11:10\",\"11:20\",\"11:30\",\"11:40\",\"11:50\",\"12:00\",\"12:10\",\"12:20\",\"12:30\",\"12:40\",\"12:50\",\"13:00\",\"13:10\",\"13:20\",\"13:30\",\"13:40\",\"13:50\",\"14:00\",\"14:10\",\"14:20\",\"14:30\",\"14:40\",\"14:50\",\"15:00\",\"15:10\",\"15:20\",\"15:30\",\"15:40\",\"15:50\",\"16:00\",\"16:10\",\"16:20\",\"16:30\",\"16:40\",\"16:50\",\"17:00\",\"17:10\",\"17:20\",\"17:30\",\"17:40\",\"17:50\",\"18:00\",\"18:10\",\"18:20\",\"18:30\",\"18:40\",\"18:50\",\"19:00\",\"19:10\",\"19:20\",\"19:30\",\"19:40\",\"19:50\",\"20:00\",\"20:10\",\"20:20\",\"20:30\",\"20:40\",\"20:50\",\"21:00\",\"21:10\",\"21:20\",\"21:30\",\"21:40\",\"21:50\",\"22:00\",\"22:10\",\"22:20\",\"22:30\",\"22:40\",\"22:50\",\"23:00\",\"23:10\",\"23:20\",\"23:30\",\"23:40\",\"23:50\"];var startDurationLocal=[\"08:00\",\"08:10\",\"08:20\",\"08:30\",\"08:40\",\"08:50\",\"09:00\",\"09:10\",\"09:20\",\"09:30\",\"09:40\",\"09:50\",\"10:00\",\"10:10\",\"10:20\",\"10:30\",\"10:40\",\"10:50\",\"11:00\",\"11:10\",\"11:20\",\"11:30\",\"11:40\",\"11:50\",\"12:00\",\"12:10\",\"12:20\",\"12:30\",\"12:40\",\"12:50\",\"13:00\",\"13:10\",\"13:20\",\"13:30\",\"13:40\",\"13:50\",\"14:00\",\"14:10\",\"14:20\",\"14:30\",\"14:40\",\"14:50\",\"15:00\",\"15:10\",\"15:20\",\"15:30\",\"15:40\",\"15:50\",\"16:00\",\"16:10\",\"16:20\",\"16:30\",\"16:40\",\"16:50\",\"17:00\",\"17:10\",\"17:20\",\"17:30\",\"17:40\",\"17:50\",\"18:00\",\"18:10\",\"18:20\",\"18:30\",\"18:40\",\"18:50\",\"19:00\",\"19:10\",\"19:20\",\"19:30\",\"19:40\",\"19:50\",\"20:00\",\"20:10\",\"20:20\",\"20:30\",\"20:40\",\"20:50\",\"21:00\",\"21:10\",\"21:20\",\"21:30\",\"21:40\",\"21:50\",\"22:00\",\"22:10\",\"22:20\",\"22:30\",\"22:40\",\"22:50\",\"23:00\"];//this.props.getCommonApi(`treatment/Duration/`).then((key) => {\n//let { status, data } = key;\n//if (status === 200) {\nfor(var _i=0,_durationLocal=durationLocal;_i<_durationLocal.length;_i++){var value=_durationLocal[_i];duration.push({value:value,label:value});}for(var _i2=0,_startDurationLocal=startDurationLocal;_i2<_startDurationLocal.length;_i2++){var _value=_startDurationLocal[_i2];startDuration.push({value:_value,label:_value});}_this.setState({duration:duration,startDuration:startDuration});//}\n//})\n//this.setState({ duration:durationLocal })\n};_this.getCart=function(){var _this$state2=_this.state,roomList=_this$state2.roomList,sourceList=_this$state2.sourceList,staffList=_this$state2.staffList,cartData=_this$state2.cartData,duration=_this$state2.duration,tstaffList=_this$state2.tstaffList,employeeOptions=_this$state2.employeeOptions;_this.props.getCommonApi(\"trmttmpitemhelper/?treatmentid=\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cartData=key;_context.next=3;return _this.setState({tstaffList:[],employeeOptions:[],sessionTableDetails:[]});case 3:tstaffList=key.data;employeeOptions=[];tstaffList.forEach(function(e){employeeOptions.push({label:e.helper_name,value:e.helper_id});});_this.setState({cartData:cartData,tstaffList:tstaffList,employeeOptions:employeeOptions});_this.getDataFromRes(key);case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.getDataFromRes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key){var _this$state3,postFields,updateFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state3=_this.state,postFields=_this$state3.postFields,updateFields=_this$state3.updateFields;postFields[\"work_point\"]=key.value.work_point?key.value.work_point:\"\";updateFields[\"Room_Codeid\"]=key.value.room_id?key.value.room_id:\"\";updateFields[\"Source_Codeid\"]=key.value.source_id?key.value.source_id:\"\";updateFields[\"new_remark\"]=key.value.new_remark?key.value.new_remark:\"\";_context2.next=7;return _this.setState({postFields:postFields,updateFields:updateFields});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleSubmit=function(id){console.log(\"this.state.updateFields.Source_Codeid\",_this.state.updateFields.Source_Codeid);/* if(this.state.updateFields.Room_Codeid==\"\")\r\n        {\r\n            alert(\"Room Must be selected\");\r\n            return\r\n        }\r\n        if(this.state.updateFields.Source_Codeid==\"01\")\r\n        {\r\n            alert(\"Source Must be selected\");\r\n            return\r\n        }*/var _this$state4=_this.state,tstaffList=_this$state4.tstaffList,formFields=_this$state4.formFields,cartData=_this$state4.cartData,postFields=_this$state4.postFields;var xTotalWp1Amount=0;for(var i=0;i<_this.state.tstaffList.length;i++){xTotalWp1Amount+=parseFloat(_this.state.tstaffList[i].wp1);}if(parseFloat(xTotalWp1Amount)==parseFloat(postFields.work_point)){}else{alert(\"User Entry should not greater or lesser than Work point\");return;}_this.props.getCommonApi(\"trmttmpitemhelper/confirm/?treatmentid=\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(key.status===200){_this.props.handleModal();}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};_this.handleDialog=function(){};_this.handleAddstaff=function(item){var _this$state5=_this.state,tstaffList=_this$state5.tstaffList,formFields=_this$state5.formFields,cartData=_this$state5.cartData,postFields=_this$state5.postFields;var data={helper_id:item.id};if(postFields.work_point&&postFields.times){_this.props.commonCreateApi(\"trmttmpitemhelper/?cartid=\".concat(_this.props.cartId,\"&workcommpoints=\").concat(postFields.work_point,\"&times=\").concat(postFields.times),data).then(function(){_this.getCart();});}else{_this.setState({showPostError:true});}};_this.handleuUpdateWp=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(event,item,index){var postFields,workpoint,userEnteredValue,tstaffList;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:// event.persist();\npostFields=_this.state.postFields;workpoint=parseFloat(postFields.work_point);userEnteredValue=parseFloat(event.target.value);if(!(userEnteredValue>workpoint)){_context5.next=5;break;}return _context5.abrupt(\"return\");case 5:tstaffList=_this.state.tstaffList;tstaffList[index][event.target.name]=event.target.value;_context5.next=9;return _this.setState({tstaffList:tstaffList});case 9:console.log(event,item,index,\"sfdgfdgsgf too\");if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event,item,index){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(event,item,index,\"sfdgfdgsgf inside\");_this.handleUpdatestaff(event,item,index);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8,_x9){return _ref5.apply(this,arguments);};}(),1000);}_this.debouncedFn(event,item,index);case 12:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4,_x5,_x6){return _ref4.apply(this,arguments);};}();_this.handleUpdateSession=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(event,item,index){var postFields,sessionPoints,userEnteredValue,tstaffList;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:// event.persist();\npostFields=_this.state.postFields;sessionPoints=_this.props.session;userEnteredValue=parseFloat(event.target.value);if(!(userEnteredValue>sessionPoints)){_context7.next=5;break;}return _context7.abrupt(\"return\");case 5:tstaffList=_this.state.tstaffList;tstaffList[index][event.target.name]=event.target.value;_context7.next=9;return _this.setState({tstaffList:tstaffList});case 9:console.log(event,item,index,\"sfdgfdgsgf too\");if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event,item,index){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log(event,item,index,\"sfdgfdgsgf inside\");_this.handleUpdatestaff(event,item,index);case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x13,_x14,_x15){return _ref7.apply(this,arguments);};}(),1000);}_this.debouncedFn(event,item,index);case 12:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x10,_x11,_x12){return _ref6.apply(this,arguments);};}();_this.handleUpdatestaff=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(event,item,index){var _this$state6,tstaffList,cartData,updateFields,Room_Codeid,Source_Codeid,new_remark,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0://this.state.updateFields.Source_Codeid=\"\";\n_this$state6=_this.state,tstaffList=_this$state6.tstaffList,cartData=_this$state6.cartData,updateFields=_this$state6.updateFields;Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;if(event.target.name!==\"wp1\"&&event.target.name!==\"session\"){tstaffList[index][event.target.name]=event.target.value;_this.setState({tstaffList:tstaffList});}console.log(event,item,index,\"sfdgfdgsgf\");data={};if(event.target.name===\"appt_fr_time\"){data={appt_fr_time:event.target.value,add_duration:cartData.value.add_duration,wp1:item.wp1};}if(event.target.name===\"add_duration\"){data={appt_fr_time:item.appt_fr_time,add_duration:event.target.value,wp1:item.wp1};}if(event.target.name===\"wp1\"){data={appt_fr_time:item.appt_fr_time,add_duration:cartData.value.add_duration,wp1:item.wp1};}if(event.target.name===\"session\"){data={appt_fr_time:item.appt_fr_time,add_duration:cartData.value.add_duration,wp1:item.wp1,session:item.session};}// if (updateFields.Source && updateFields.Room) {\n_this.props.commonPatchApi(\"trmttmpitemhelper/\".concat(item.id,\"/?Room_Codeid=\").concat(Room_Codeid,\"&Source_Codeid=\").concat(Source_Codeid,\"&new_remark=\").concat(new_remark),data).then(function(){_this.getCart();});// } else {\n//     this.setState({ showUpdateError: true })\n// }\ncase 10:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x16,_x17,_x18){return _ref8.apply(this,arguments);};}();_this.handleClearLine=function(){_this.props.commonDeleteApi(\"trmttmpitemhelper/delete/?clear_all=0&treatmentid=\".concat(_this.props.id)).then(function(){_this.getCart();});};_this.handleClearAll=function(){_this.props.commonDeleteApi(\"trmttmpitemhelper/delete/?clear_all=1&treatmentid=\".concat(_this.props.id)).then(function(){_this.getCart();});};_this.getStaffList=function(){_this.props.getCommonApi(\"empcartlist/?sales_staff=0&page=\".concat(_this.state.page)).then(function(key){var status=key.status,data=key.data;if(status===200){_this.setState({staffList:data.dataList});}console.log(data);});};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var page;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:page=_this.state.page;page=page+1;_context9.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStaffList();}case 5:case\"end\":return _context9.stop();}}},_callee9);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var page;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:page=_this.state.page;page=page-1;_context10.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStaffList();}case 5:case\"end\":return _context10.stop();}}},_callee10);}));_this.handleSelect_Staff=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(staff){var _this$state7,tstaffList,postFields,cartData,updateFields,Room_Codeid,Source_Codeid,new_remark,work_point,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_this$state7=_this.state,tstaffList=_this$state7.tstaffList,postFields=_this$state7.postFields,cartData=_this$state7.cartData,updateFields=_this$state7.updateFields;console.log(\"handleSelect_Staff-Source_Codeid\",_this.state.updateFields);Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;work_point=postFields.work_point;console.log(\"workpoint\",_this.props.workPoint);data={helper_id:staff.id};_context11.next=8;return _this.props.commonCreateApi(\"trmttmpitemhelper/?treatmentid=\".concat(_this.props.id,\"&workcommpoints=\").concat(work_point),data).then(function(key){_this.getCart1();});case 8:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x19){return _ref11.apply(this,arguments);};}();_this.getCart1=function(){var _this$state8=_this.state,roomList=_this$state8.roomList,sourceList=_this$state8.sourceList,staffList=_this$state8.staffList,cartData=_this$state8.cartData,duration=_this$state8.duration,tstaffList=_this$state8.tstaffList,employeeOptions=_this$state8.employeeOptions;_this.props.getCommonApi(\"trmttmpitemhelper/?treatmentid=\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(key){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:cartData=key;_context12.next=3;return _this.setState({tstaffList:[],employeeOptions:[],sessionTableDetails:[]});case 3:tstaffList=key.data;employeeOptions=[];tstaffList.forEach(function(e){employeeOptions.push({label:e.helper_name,value:e.helper_id});});_this.setState({cartData:cartData,tstaffList:tstaffList,employeeOptions:employeeOptions},function(){_this.checkFirstArrayAndUpdateTiming();});_this.getDataFromRes(key);case 8:case\"end\":return _context12.stop();}}},_callee12);}));return function(_x20){return _ref12.apply(this,arguments);};}());};_this.checkFirstArrayAndUpdateTiming=function(){var _this$state9=_this.state,tstaffList=_this$state9.tstaffList,cartData=_this$state9.cartData,updateFields=_this$state9.updateFields;var item=tstaffList[0];var Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;var today=new Date(),time=today.getHours()+\":\"+today.getMinutes();var data={};data={appt_fr_time:_this.roundTime(time,10),add_duration:cartData.value.add_duration,wp1:item.wp1};_this.props.commonPatchApi(\"trmttmpitemhelper/\".concat(item.id,\"/?Room_Codeid=\").concat(Room_Codeid,\"&Source_Codeid=\").concat(Source_Codeid,\"&new_remark=\").concat(new_remark),data).then(function(){_this.getCart();});};_this.roundTime=function(time,minutesToRound){var _time$split=time.split(\":\"),_time$split2=_slicedToArray(_time$split,2),hours=_time$split2[0],minutes=_time$split2[1];hours=parseInt(hours);minutes=parseInt(minutes);// Convert hours and minutes to time in minutes\ntime=hours*60+minutes;var rounded=Math.round(time/minutesToRound)*minutesToRound;var rHr=\"\"+Math.floor(rounded/60);var rMin=\"\"+rounded%60;return rHr.padStart(2,\"0\")+\":\"+rMin.padStart(2,\"0\");};_this.handleUpdatChanges=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(_ref13){var _ref13$target,value,name,updateFields;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_ref13$target=_ref13.target,value=_ref13$target.value,name=_ref13$target.name;updateFields=_this.state.updateFields;updateFields[name]=value;_this.setState({updateFields:updateFields});case 4:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x21){return _ref14.apply(this,arguments);};}();_this.handlePostChanges=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(_ref15){var _ref15$target,value,name,postFields;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_ref15$target=_ref15.target,value=_ref15$target.value,name=_ref15$target.name;postFields=_this.state.postFields;postFields[name]=value;_this.setState({postFields:postFields});case 4:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x22){return _ref16.apply(this,arguments);};}();_this.handleAddRow=function(){_this.state.sessionTableDetails.push({sessions:0.0,values:[]});_this.setState({});};_this.handleRemoveRow=function(index){var sessionTableDetails=_this.state.sessionTableDetails;if(index>-1){sessionTableDetails.splice(index,1);}_this.setState({sessionTableDetails:sessionTableDetails});};_this.handleSessionsChange=function(e,index){var sessionTableDetails=_this.state.sessionTableDetails;sessionTableDetails[index].sessions=parseFloat(e.target.value);_this.setState({sessionTableDetails:sessionTableDetails});};_this.handleSessionEmpChange=function(e,index){var sessionTableDetails=_this.state.sessionTableDetails;var values=[];e.forEach(function(e){values.push(e.value);});sessionTableDetails[index].values=values;_this.setState({sessionTableDetails:sessionTableDetails});};_this.calculateSessions=function(){var _this$state10=_this.state,sessionTableDetails=_this$state10.sessionTableDetails,employeeOptions=_this$state10.employeeOptions,tstaffList=_this$state10.tstaffList;var sessionCount=0;sessionTableDetails.forEach(function(e){sessionCount+=e.sessions;});if(sessionCount>_this.props.session){Toast({type:\"error\",message:\"Session count cannot exceed!\"});return;}employeeOptions.forEach(function(e){var total=0.0;sessionTableDetails.forEach(function(sessionTable,index){if(sessionTable.values.includes(e.value)){total+=sessionTableDetails[index].sessions/sessionTableDetails[index].values.length;}});tstaffList.filter(function(ele){return ele.helper_id==e.value;})[0].session=total;});console.log(tstaffList,\"list with sessions\");_this.setState({tstaffList:tstaffList});var event={target:{name:\"session\"}};tstaffList.forEach(function(item,index){_this.handleUpdatestaff(event,item,index);});};return _this;}_createClass(SelectStaffClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state11=this.state,_this$state11$staffLi=_this$state11.staffList,staffList=_this$state11$staffLi===void 0?[]:_this$state11$staffLi,_this$state11$tstaffL=_this$state11.tstaffList,tstaffList=_this$state11$tstaffL===void 0?[]:_this$state11$tstaffL,roomList=_this$state11.roomList,Room=_this$state11.Room,Source=_this$state11.Source,duration=_this$state11.duration,startDuration=_this$state11.startDuration,sourceList=_this$state11.sourceList,updateFields=_this$state11.updateFields,headerDetails=_this$state11.headerDetails,_this$state11$cartDat=_this$state11.cartData,cartData=_this$state11$cartDat===void 0?{}:_this$state11$cartDat,postFields=_this$state11.postFields,employeeOptions=_this$state11.employeeOptions,sessionTableDetails=_this$state11.sessionTableDetails,sessionTableHeader=_this$state11.sessionTableHeader;var _cartData$value=cartData.value,value=_cartData$value===void 0?{}:_cartData$value;var work_point=postFields.work_point;var Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;var Item=value.Item,Price=value.Price,add_duration=value.add_duration,room_id=value.room_id,room_name=value.room_name,source_id=value.source_id,source_name=value.source_name,times=value.times;var _this$props$tsStaff=this.props.tsStaff,tsStaff=_this$props$tsStaff===void 0?{}:_this$props$tsStaff;var course=tsStaff.course,unit_amount=tsStaff.unit_amount,workpoint=tsStaff.workpoint;return/*#__PURE__*/React.createElement(\"div\",{className:\"row new-cart treatment-done\",id:\"treatment-done-sesiions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"fs-18 font-700 mb-3 title\"},\"Treatment Done\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Item\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},Item),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},Price),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Work Point\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:work_point?work_point:\"\",name:\"work_point\",onChange:this.handlePostChanges,className:\"customer-name\",disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Session\"),/*#__PURE__*/React.createElement(\"h1\",null,this.props.session)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 cart-item emp-image\"},/*#__PURE__*/React.createElement(\"div\",{className:\"staff-listing d-flex emp-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"forward-button cursor-pointer\",onClick:this.handleBack},/*#__PURE__*/React.createElement(\"svg\",{width:\"6\",height:\"10\",viewBox:\"0 0 6 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M5 0.5L1 5L5 9.5\",stroke:\"#888888\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}))),staffList.length>0?staffList.map(function(staff){return/*#__PURE__*/React.createElement(\"div\",{className:\"mx-1 staff-list cursor-pointer emp\",key:staff.id,onClick:function onClick(){return _this2.handleSelect_Staff(staff);}},/*#__PURE__*/React.createElement(\"img\",{className:\"img\",src:staff.emp_pic,alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,staff.display_name));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"back-button cursor-pointer\",onClick:this.handleNext},/*#__PURE__*/React.createElement(\"svg\",{width:\"5\",height:\"10\",viewBox:\"0 0 5 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M0.5 9.5L4.5 5L0.5 0.5\",stroke:\"#888888\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 cart-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination// pageMeta={pageMeta}\n// isEmpty={tstaffList.length === 0 ? true:false}\n},tstaffList&&tstaffList.length>0?tstaffList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative status-type\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center fs-20\"},item.helper_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:item.session,name:\"session\",type:\"number\",min:\"0\",max:_this2.props.session,onChange:function onChange(e){return _this2.handleUpdateSession(e,item,index);}//className=\"wpr\"\n}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:item.wp1,name:\"wp1\",type:\"number\",min:\"0\",max:postFields.work_point,onChange:function onChange(e){return _this2.handleuUpdateWp(e,item,index);}//className=\"wpr\"\n}))),/*#__PURE__*/React.createElement(\"td\",null,_this2.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:startDuration,value:item.appt_fr_time,name:\"appt_fr_time\",onChange:function onChange(e){return _this2.handleUpdatestaff(e,item,index);},className:\"customer-name py-0\"})))),/*#__PURE__*/React.createElement(\"td\",null,_this2.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.appt_to_time)),/*#__PURE__*/React.createElement(\"td\",null,_this2.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"this.setState({add_duration:e.target.value})\n,{options:duration,value:item.add_duration,name:\"add_duration\",onChange:function onChange(e){return _this2.handleUpdatestaff(e,item,index);},className:\"customer-name p-0\"})))));}):\"\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 cart-item\"},/*#__PURE__*/React.createElement(Tree,{content:\"Assign Sessions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-list p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 p-0 mb-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Add Row\",onClick:this.handleAddRow}))),/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:sessionTableHeader},sessionTableDetails&&sessionTableDetails.length>0?sessionTableDetails.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:item.sessions,name:\"session\",type:\"number\",min:\"0\",max:_this2.props.session,onChange:function onChange(e){return _this2.handleSessionsChange(e,index);}//className=\"wpr\"\n}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalMultiSelect// placeholder=\"Enter here\"\n,{target:document.getElementById('treatment-done-sesiions'),options:employeeOptions,value:item.values,handleMultiSelect:function handleMultiSelect(e){return _this2.handleSessionEmpChange(e,index);}//className=\"wpr\"\n}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icon\",onClick:function onClick(){return _this2.handleRemoveRow(index);}},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"30\",height:\"30\",fill:\"red\",class:\"bi bi-x\",viewBox:\"0 0 16 16\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"}))))));}):\"\")),(sessionTableDetails===null||sessionTableDetails===void 0?void 0:sessionTableDetails.length)>0?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 p-0 mt-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Assign Sessions\",onClick:this.calculateSessions}))):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},this.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Room\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:roomList,value:Room_Codeid,name:\"Room_Codeid\",onChange:this.handleUpdatChanges,className:\"customer-name py-0\"// disabled={Room_Codeid}\n}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Source\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:sourceList,value:Source_Codeid,name:\"Source_Codeid\",onChange:this.handleUpdatChanges,className:\"customer-name py-0\"// disabled={Source_Codeid}\n}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"New Remark\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:new_remark,name:\"new_remark\",onChange:this.handleUpdatChanges,className:\"customer-name\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pt-4 action-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 d-flex\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"fs-15 clear-line\",label:\"Clear Line\",outline:false,onClick:this.handleClearLine}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"fs-15 clear-all\",label:\"Clear All\",outline:false,onClick:this.handleClearAll})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-right\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\" fs-15 confirm\",label:\"Confirm\",outline:false,onClick:this.handleSubmit})))));}}]);return SelectStaffClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{selected_cstomer:state.common.selected_cstomer,basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({// getCustomer,\ngetCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var SelectStaff=connect(mapStateToProps,mapDispatchToProps)(SelectStaffClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/treatmentDone/treatmentDone.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","NormalMultiSelect","Toast","dateFormat","_","history","connect","Tree","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","SimpleReactValidator","service","SelectStaffClass","state","isOpen","currentIndex","tstaffList","cartData","postFields","work_point","Room","Source","new_remark","updateFields","Room_Codeid","Source_Codeid","outletList","headerDetails","label","sortKey","width","sessionTableHeader","sessionTableDetails","employeeOptions","customerOption","roomList","sourceList","staffList","duration","startDuration","showPostError","showUpdateError","staffData","page","hideNotNeededControls","componentWillMount","validator","element","message","autoForceUpdate","props","then","key","status","data","value","push","id","displayname","setState","source_desc","getStaffList","getCart","durationLocal","startDurationLocal","forEach","e","helper_name","helper_id","getDataFromRes","room_id","source_id","handleSubmit","console","log","formFields","xTotalWp1Amount","i","length","parseFloat","wp1","alert","handleModal","handleDialog","handleAddstaff","item","times","cartId","handleuUpdateWp","event","index","workpoint","userEnteredValue","target","name","debouncedFn","debounce","handleUpdatestaff","handleUpdateSession","sessionPoints","session","appt_fr_time","add_duration","handleClearLine","handleClearAll","dataList","handleNext","handleBack","handleSelect_Staff","staff","workPoint","getCart1","checkFirstArrayAndUpdateTiming","today","Date","time","getHours","getMinutes","roundTime","minutesToRound","split","hours","minutes","parseInt","rounded","Math","round","rHr","floor","rMin","padStart","handleUpdatChanges","handlePostChanges","handleAddRow","sessions","values","handleRemoveRow","splice","handleSessionsChange","handleSessionEmpChange","calculateSessions","sessionCount","type","total","sessionTable","includes","filter","ele","Item","Price","room_name","source_name","tsStaff","course","unit_amount","map","emp_pic","display_name","handlePagination","appt_to_time","document","getElementById","mapStateToProps","selected_cstomer","common","basicApptDetail","appointment","mapDispatchToProps","dispatch","SelectStaff"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport {\r\n  NormalButton,\r\n  NormalInput,\r\n  NormalSelect,\r\n  InputSearch,\r\n  NormalModal,\r\n  TableWrapper,\r\n  NormalMultiSelect,\r\n} from \"component/common\";\r\nimport { Toast } from \"service/toast\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport Tree from \"react-animated-tree\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\n// import { Treatment, Payment, EditCart } from './cart/index';\r\nimport service from \"assets/images/make-up-brush.png\";\r\n// import Discount from './cart/discount';\r\n\r\nexport class SelectStaffClass extends Component {\r\n  state = {\r\n    isOpen: false,\r\n    currentIndex: -1,\r\n    tstaffList: [],\r\n    cartData: {},\r\n    postFields: {\r\n      work_point: \"\",\r\n    },\r\n    Room: null,\r\n    Source: null,\r\n    new_remark: null,\r\n    updateFields: {\r\n      Room_Codeid: \"\",\r\n      Source_Codeid: \"\",\r\n      new_remark: \"\",\r\n    },\r\n    outletList: [],\r\n    headerDetails: [\r\n      { label: \"Employee name\", sortKey: false, width: \"130px\" },\r\n      { label: \"Sessions\", width: \"30px\" },\r\n      { label: \"WP1\", width: \"42px\" },\r\n      { label: \"St. time\", sortKey: false, width: \"55px\" },\r\n      { label: \"End time\", sortKey: false, width: \"55px\" },\r\n      { label: \"Duration\", sortKey: false, width: \"55px\" },\r\n    ],\r\n    sessionTableHeader: [\r\n      { label: \"Sessions\", width: \"30px\" },\r\n      { label: \"Employees\" },\r\n      { label: \"\" },\r\n    ],\r\n    sessionTableDetails: [],\r\n    employeeOptions: [],\r\n    customerOption: [],\r\n    // cartData: {},\r\n    roomList: [],\r\n    sourceList: [],\r\n    staffList: [],\r\n    duration: [],\r\n    startDuration: [],\r\n    showPostError: false,\r\n    showUpdateError: false,\r\n    staffData: {},\r\n    page: 1,\r\n    hideNotNeededControls: \"false\",\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    // this.getCart();\r\n    this.validator = new SimpleReactValidator({\r\n      element: (message) => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n    // let { basicApptDetail } = this.props;\r\n    // if (basicApptDetail.custId) {\r\n    //     let { formFields } = this.state;\r\n    //     formFields[\"custId\"] = basicApptDetail.custId;\r\n    //     formFields[\"custName\"] = basicApptDetail.custName;\r\n    //     this.setState({ formFields });\r\n    // }\r\n    let {\r\n      roomList,\r\n      sourceList,\r\n      staffList,\r\n      cartData,\r\n      duration,\r\n      startDuration,\r\n      tstaffList,\r\n    } = this.state;\r\n    this.props.getCommonApi(\"room/\").then((key) => {\r\n      let { status, data } = key;\r\n      for (let value of data) {\r\n        roomList.push({ value: value.id, label: value.displayname });\r\n      }\r\n      this.setState({ roomList });\r\n    });\r\n    this.props.getCommonApi(`source/`).then((key) => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          sourceList.push({ value: value.id, label: value.source_desc });\r\n        }\r\n        this.setState({ sourceList });\r\n      }\r\n    });\r\n    this.getStaffList();\r\n    this.getCart();\r\n\r\n    const durationLocal = [\r\n      \"00:10\",\r\n      \"00:20\",\r\n      \"00:30\",\r\n      \"00:40\",\r\n      \"00:50\",\r\n      \"01:00\",\r\n      \"01:10\",\r\n      \"01:20\",\r\n      \"01:30\",\r\n      \"01:40\",\r\n      \"01:50\",\r\n      \"02:00\",\r\n      \"02:10\",\r\n      \"02:20\",\r\n      \"02:30\",\r\n      \"02:40\",\r\n      \"02:50\",\r\n      \"03:00\",\r\n      \"03:10\",\r\n      \"03:20\",\r\n      \"03:30\",\r\n      \"03:40\",\r\n      \"03:50\",\r\n      \"04:00\",\r\n      \"04:10\",\r\n      \"04:20\",\r\n      \"04:30\",\r\n      \"04:40\",\r\n      \"04:50\",\r\n      \"05:00\",\r\n      \"05:10\",\r\n      \"05:20\",\r\n      \"05:30\",\r\n      \"05:40\",\r\n      \"05:50\",\r\n      \"06:00\",\r\n      \"06:10\",\r\n      \"06:20\",\r\n      \"06:30\",\r\n      \"06:40\",\r\n      \"06:50\",\r\n      \"07:00\",\r\n      \"07:10\",\r\n      \"07:20\",\r\n      \"07:30\",\r\n      \"07:40\",\r\n      \"07:50\",\r\n      \"08:00\",\r\n      \"08:10\",\r\n      \"08:20\",\r\n      \"08:30\",\r\n      \"08:40\",\r\n      \"08:50\",\r\n      \"09:00\",\r\n      \"09:10\",\r\n      \"09:20\",\r\n      \"09:30\",\r\n      \"09:40\",\r\n      \"09:50\",\r\n      \"10:00\",\r\n      \"10:10\",\r\n      \"10:20\",\r\n      \"10:30\",\r\n      \"10:40\",\r\n      \"10:50\",\r\n      \"11:00\",\r\n      \"11:10\",\r\n      \"11:20\",\r\n      \"11:30\",\r\n      \"11:40\",\r\n      \"11:50\",\r\n      \"12:00\",\r\n      \"12:10\",\r\n      \"12:20\",\r\n      \"12:30\",\r\n      \"12:40\",\r\n      \"12:50\",\r\n      \"13:00\",\r\n      \"13:10\",\r\n      \"13:20\",\r\n      \"13:30\",\r\n      \"13:40\",\r\n      \"13:50\",\r\n      \"14:00\",\r\n      \"14:10\",\r\n      \"14:20\",\r\n      \"14:30\",\r\n      \"14:40\",\r\n      \"14:50\",\r\n      \"15:00\",\r\n      \"15:10\",\r\n      \"15:20\",\r\n      \"15:30\",\r\n      \"15:40\",\r\n      \"15:50\",\r\n      \"16:00\",\r\n      \"16:10\",\r\n      \"16:20\",\r\n      \"16:30\",\r\n      \"16:40\",\r\n      \"16:50\",\r\n      \"17:00\",\r\n      \"17:10\",\r\n      \"17:20\",\r\n      \"17:30\",\r\n      \"17:40\",\r\n      \"17:50\",\r\n      \"18:00\",\r\n      \"18:10\",\r\n      \"18:20\",\r\n      \"18:30\",\r\n      \"18:40\",\r\n      \"18:50\",\r\n      \"19:00\",\r\n      \"19:10\",\r\n      \"19:20\",\r\n      \"19:30\",\r\n      \"19:40\",\r\n      \"19:50\",\r\n      \"20:00\",\r\n      \"20:10\",\r\n      \"20:20\",\r\n      \"20:30\",\r\n      \"20:40\",\r\n      \"20:50\",\r\n      \"21:00\",\r\n      \"21:10\",\r\n      \"21:20\",\r\n      \"21:30\",\r\n      \"21:40\",\r\n      \"21:50\",\r\n      \"22:00\",\r\n      \"22:10\",\r\n      \"22:20\",\r\n      \"22:30\",\r\n      \"22:40\",\r\n      \"22:50\",\r\n      \"23:00\",\r\n      \"23:10\",\r\n      \"23:20\",\r\n      \"23:30\",\r\n      \"23:40\",\r\n      \"23:50\",\r\n    ];\r\n    const startDurationLocal = [\r\n      \"08:00\",\r\n      \"08:10\",\r\n      \"08:20\",\r\n      \"08:30\",\r\n      \"08:40\",\r\n      \"08:50\",\r\n      \"09:00\",\r\n      \"09:10\",\r\n      \"09:20\",\r\n      \"09:30\",\r\n      \"09:40\",\r\n      \"09:50\",\r\n      \"10:00\",\r\n      \"10:10\",\r\n      \"10:20\",\r\n      \"10:30\",\r\n      \"10:40\",\r\n      \"10:50\",\r\n      \"11:00\",\r\n      \"11:10\",\r\n      \"11:20\",\r\n      \"11:30\",\r\n      \"11:40\",\r\n      \"11:50\",\r\n      \"12:00\",\r\n      \"12:10\",\r\n      \"12:20\",\r\n      \"12:30\",\r\n      \"12:40\",\r\n      \"12:50\",\r\n      \"13:00\",\r\n      \"13:10\",\r\n      \"13:20\",\r\n      \"13:30\",\r\n      \"13:40\",\r\n      \"13:50\",\r\n      \"14:00\",\r\n      \"14:10\",\r\n      \"14:20\",\r\n      \"14:30\",\r\n      \"14:40\",\r\n      \"14:50\",\r\n      \"15:00\",\r\n      \"15:10\",\r\n      \"15:20\",\r\n      \"15:30\",\r\n      \"15:40\",\r\n      \"15:50\",\r\n      \"16:00\",\r\n      \"16:10\",\r\n      \"16:20\",\r\n      \"16:30\",\r\n      \"16:40\",\r\n      \"16:50\",\r\n      \"17:00\",\r\n      \"17:10\",\r\n      \"17:20\",\r\n      \"17:30\",\r\n      \"17:40\",\r\n      \"17:50\",\r\n      \"18:00\",\r\n      \"18:10\",\r\n      \"18:20\",\r\n      \"18:30\",\r\n      \"18:40\",\r\n      \"18:50\",\r\n      \"19:00\",\r\n      \"19:10\",\r\n      \"19:20\",\r\n      \"19:30\",\r\n      \"19:40\",\r\n      \"19:50\",\r\n      \"20:00\",\r\n      \"20:10\",\r\n      \"20:20\",\r\n      \"20:30\",\r\n      \"20:40\",\r\n      \"20:50\",\r\n      \"21:00\",\r\n      \"21:10\",\r\n      \"21:20\",\r\n      \"21:30\",\r\n      \"21:40\",\r\n      \"21:50\",\r\n      \"22:00\",\r\n      \"22:10\",\r\n      \"22:20\",\r\n      \"22:30\",\r\n      \"22:40\",\r\n      \"22:50\",\r\n      \"23:00\",\r\n    ];\r\n    //this.props.getCommonApi(`treatment/Duration/`).then((key) => {\r\n    //let { status, data } = key;\r\n    //if (status === 200) {\r\n    for (let value of durationLocal) {\r\n      duration.push({ value: value, label: value });\r\n    }\r\n    for (let value of startDurationLocal) {\r\n      startDuration.push({ value: value, label: value });\r\n    }\r\n    this.setState({ duration, startDuration });\r\n    //}\r\n    //})\r\n\r\n    //this.setState({ duration:durationLocal })\r\n  };\r\n\r\n  getCart = () => {\r\n    let {\r\n      roomList,\r\n      sourceList,\r\n      staffList,\r\n      cartData,\r\n      duration,\r\n      tstaffList,\r\n      employeeOptions,\r\n    } = this.state;\r\n    this.props\r\n      .getCommonApi(`trmttmpitemhelper/?treatmentid=${this.props.id}`)\r\n      .then(async (key) => {\r\n        cartData = key;\r\n        await this.setState({\r\n          tstaffList: [],\r\n          employeeOptions: [],\r\n          sessionTableDetails: [],\r\n        });\r\n        tstaffList = key.data;\r\n        employeeOptions = [];\r\n        tstaffList.forEach((e) => {\r\n          employeeOptions.push({ label: e.helper_name, value: e.helper_id });\r\n        });\r\n        this.setState({ cartData, tstaffList, employeeOptions });\r\n        this.getDataFromRes(key);\r\n      });\r\n  };\r\n\r\n  getDataFromRes = async (key) => {\r\n    let { postFields, updateFields } = this.state;\r\n    postFields[\"work_point\"] = key.value.work_point ? key.value.work_point : \"\";\r\n    updateFields[\"Room_Codeid\"] = key.value.room_id ? key.value.room_id : \"\";\r\n    updateFields[\"Source_Codeid\"] = key.value.source_id\r\n      ? key.value.source_id\r\n      : \"\";\r\n    updateFields[\"new_remark\"] = key.value.new_remark\r\n      ? key.value.new_remark\r\n      : \"\";\r\n    await this.setState({\r\n      postFields,\r\n      updateFields,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (id) => {\r\n    console.log(\r\n      \"this.state.updateFields.Source_Codeid\",\r\n      this.state.updateFields.Source_Codeid\r\n    );\r\n    /* if(this.state.updateFields.Room_Codeid==\"\")\r\n        {\r\n            alert(\"Room Must be selected\");\r\n            return\r\n        }\r\n        if(this.state.updateFields.Source_Codeid==\"01\")\r\n        {\r\n            alert(\"Source Must be selected\");\r\n            return\r\n        }*/\r\n    let { tstaffList, formFields, cartData, postFields } = this.state;\r\n    let xTotalWp1Amount = 0;\r\n    for (var i = 0; i < this.state.tstaffList.length; i++) {\r\n      xTotalWp1Amount += parseFloat(this.state.tstaffList[i].wp1);\r\n    }\r\n    if (parseFloat(xTotalWp1Amount) == parseFloat(postFields.work_point)) {\r\n    } else {\r\n      alert(\"User Entry should not greater or lesser than Work point\");\r\n      return;\r\n    }\r\n    this.props\r\n      .getCommonApi(`trmttmpitemhelper/confirm/?treatmentid=${this.props.id}`)\r\n      .then(async (key) => {\r\n        if (key.status === 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n  };\r\n\r\n  handleDialog = () => {};\r\n\r\n  handleAddstaff = (item) => {\r\n    let { tstaffList, formFields, cartData, postFields } = this.state;\r\n    let data = {\r\n      helper_id: item.id,\r\n    };\r\n    if (postFields.work_point && postFields.times) {\r\n      this.props\r\n        .commonCreateApi(\r\n          `trmttmpitemhelper/?cartid=${this.props.cartId}&workcommpoints=${postFields.work_point}&times=${postFields.times}`,\r\n          data\r\n        )\r\n        .then(() => {\r\n          this.getCart();\r\n        });\r\n    } else {\r\n      this.setState({ showPostError: true });\r\n    }\r\n  };\r\n\r\n  handleuUpdateWp = async (event, item, index) => {\r\n    // event.persist();\r\n    let { postFields } = this.state;\r\n    let workpoint = parseFloat(postFields.work_point);\r\n    let userEnteredValue = parseFloat(event.target.value);\r\n    if (userEnteredValue > workpoint) {\r\n      return;\r\n    }\r\n\r\n    let { tstaffList } = this.state;\r\n    tstaffList[index][event.target.name] = event.target.value;\r\n    await this.setState({\r\n      tstaffList,\r\n    });\r\n    console.log(event, item, index, \"sfdgfdgsgf too\");\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async (event, item, index) => {\r\n        console.log(event, item, index, \"sfdgfdgsgf inside\");\r\n        this.handleUpdatestaff(event, item, index);\r\n      }, 1000);\r\n    }\r\n    this.debouncedFn(event, item, index);\r\n  };\r\n\r\n  handleUpdateSession = async (event, item, index) => {\r\n    // event.persist();\r\n    let { postFields } = this.state;\r\n    let sessionPoints = this.props.session;\r\n    let userEnteredValue = parseFloat(event.target.value);\r\n    if (userEnteredValue > sessionPoints) {\r\n      return;\r\n    }\r\n\r\n    let { tstaffList } = this.state;\r\n    tstaffList[index][event.target.name] = event.target.value;\r\n    await this.setState({\r\n      tstaffList,\r\n    });\r\n    console.log(event, item, index, \"sfdgfdgsgf too\");\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async (event, item, index) => {\r\n        console.log(event, item, index, \"sfdgfdgsgf inside\");\r\n        this.handleUpdatestaff(event, item, index);\r\n      }, 1000);\r\n    }\r\n    this.debouncedFn(event, item, index);\r\n  };\r\n\r\n  handleUpdatestaff = async (event, item, index) => {\r\n    //this.state.updateFields.Source_Codeid=\"\";\r\n    let { tstaffList, cartData, updateFields } = this.state;\r\n    let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n    if (event.target.name !== \"wp1\" && event.target.name !== \"session\") {\r\n      tstaffList[index][event.target.name] = event.target.value;\r\n      this.setState({\r\n        tstaffList,\r\n      });\r\n    }\r\n    console.log(event, item, index, \"sfdgfdgsgf\");\r\n    let data = {};\r\n    if (event.target.name === \"appt_fr_time\") {\r\n      data = {\r\n        appt_fr_time: event.target.value,\r\n        add_duration: cartData.value.add_duration,\r\n        wp1: item.wp1,\r\n      };\r\n    }\r\n    if (event.target.name === \"add_duration\") {\r\n      data = {\r\n        appt_fr_time: item.appt_fr_time,\r\n        add_duration: event.target.value,\r\n        wp1: item.wp1,\r\n      };\r\n    }\r\n    if (event.target.name === \"wp1\") {\r\n      data = {\r\n        appt_fr_time: item.appt_fr_time,\r\n        add_duration: cartData.value.add_duration,\r\n        wp1: item.wp1,\r\n      };\r\n    }\r\n    if (event.target.name === \"session\") {\r\n      data = {\r\n        appt_fr_time: item.appt_fr_time,\r\n        add_duration: cartData.value.add_duration,\r\n        wp1: item.wp1,\r\n        session: item.session,\r\n      };\r\n    }\r\n\r\n    // if (updateFields.Source && updateFields.Room) {\r\n    this.props\r\n      .commonPatchApi(\r\n        `trmttmpitemhelper/${item.id}/?Room_Codeid=${Room_Codeid}&Source_Codeid=${Source_Codeid}&new_remark=${new_remark}`,\r\n        data\r\n      )\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n    // } else {\r\n    //     this.setState({ showUpdateError: true })\r\n    // }\r\n  };\r\n\r\n  handleClearLine = () => {\r\n    this.props\r\n      .commonDeleteApi(\r\n        `trmttmpitemhelper/delete/?clear_all=0&treatmentid=${this.props.id}`\r\n      )\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n  };\r\n\r\n  handleClearAll = () => {\r\n    this.props\r\n      .commonDeleteApi(\r\n        `trmttmpitemhelper/delete/?clear_all=1&treatmentid=${this.props.id}`\r\n      )\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n  };\r\n\r\n  getStaffList = () => {\r\n    this.props\r\n      .getCommonApi(`empcartlist/?sales_staff=0&page=${this.state.page}`)\r\n      .then((key) => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          this.setState({ staffList: data.dataList });\r\n        }\r\n        console.log(data);\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStaffList();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStaffList();\r\n    }\r\n  };\r\n\r\n  handleSelect_Staff = async (staff) => {\r\n    let { tstaffList, postFields, cartData, updateFields } = this.state;\r\n    console.log(\"handleSelect_Staff-Source_Codeid\", this.state.updateFields);\r\n    let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n    let { work_point } = postFields;\r\n    console.log(\"workpoint\", this.props.workPoint);\r\n    let data = {\r\n      helper_id: staff.id,\r\n    };\r\n    await this.props\r\n      .commonCreateApi(\r\n        `trmttmpitemhelper/?treatmentid=${this.props.id}&workcommpoints=${work_point}`,\r\n        data\r\n      )\r\n      .then((key) => {\r\n        this.getCart1();\r\n      });\r\n  };\r\n  getCart1 = () => {\r\n    let {\r\n      roomList,\r\n      sourceList,\r\n      staffList,\r\n      cartData,\r\n      duration,\r\n      tstaffList,\r\n      employeeOptions,\r\n    } = this.state;\r\n    this.props\r\n      .getCommonApi(`trmttmpitemhelper/?treatmentid=${this.props.id}`)\r\n      .then(async (key) => {\r\n        cartData = key;\r\n        await this.setState({\r\n          tstaffList: [],\r\n          employeeOptions: [],\r\n          sessionTableDetails: [],\r\n        });\r\n        tstaffList = key.data;\r\n        employeeOptions = [];\r\n        tstaffList.forEach((e) => {\r\n          employeeOptions.push({ label: e.helper_name, value: e.helper_id });\r\n        });\r\n        this.setState({ cartData, tstaffList, employeeOptions }, () => {\r\n          this.checkFirstArrayAndUpdateTiming();\r\n        });\r\n        this.getDataFromRes(key);\r\n      });\r\n  };\r\n  checkFirstArrayAndUpdateTiming = () => {\r\n    let { tstaffList, cartData, updateFields } = this.state;\r\n    var item = tstaffList[0];\r\n    let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n    var today = new Date(),\r\n      time = today.getHours() + \":\" + today.getMinutes();\r\n    let data = {};\r\n\r\n    data = {\r\n      appt_fr_time: this.roundTime(time, 10),\r\n      add_duration: cartData.value.add_duration,\r\n      wp1: item.wp1,\r\n    };\r\n\r\n    this.props\r\n      .commonPatchApi(\r\n        `trmttmpitemhelper/${item.id}/?Room_Codeid=${Room_Codeid}&Source_Codeid=${Source_Codeid}&new_remark=${new_remark}`,\r\n        data\r\n      )\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n  };\r\n  roundTime = (time, minutesToRound) => {\r\n    let [hours, minutes] = time.split(\":\");\r\n    hours = parseInt(hours);\r\n    minutes = parseInt(minutes);\r\n\r\n    // Convert hours and minutes to time in minutes\r\n    time = hours * 60 + minutes;\r\n\r\n    let rounded = Math.round(time / minutesToRound) * minutesToRound;\r\n    let rHr = \"\" + Math.floor(rounded / 60);\r\n    let rMin = \"\" + (rounded % 60);\r\n\r\n    return rHr.padStart(2, \"0\") + \":\" + rMin.padStart(2, \"0\");\r\n  };\r\n  handleUpdatChanges = async ({ target: { value, name } }) => {\r\n    let { updateFields } = this.state;\r\n    updateFields[name] = value;\r\n    this.setState({\r\n      updateFields,\r\n    });\r\n  };\r\n\r\n  handlePostChanges = async ({ target: { value, name } }) => {\r\n    let { postFields } = this.state;\r\n    postFields[name] = value;\r\n    this.setState({\r\n      postFields,\r\n    });\r\n  };\r\n\r\n  handleAddRow = () => {\r\n    this.state.sessionTableDetails.push({ sessions: 0.0, values: [] });\r\n    this.setState({});\r\n  };\r\n\r\n  handleRemoveRow = (index) => {\r\n    let { sessionTableDetails } = this.state;\r\n    if (index > -1) {\r\n      sessionTableDetails.splice(index, 1);\r\n    }\r\n    this.setState({ sessionTableDetails });\r\n  };\r\n\r\n  handleSessionsChange = (e, index) => {\r\n    let { sessionTableDetails } = this.state;\r\n    sessionTableDetails[index].sessions = parseFloat(e.target.value);\r\n    this.setState({ sessionTableDetails });\r\n  };\r\n\r\n  handleSessionEmpChange = (e, index) => {\r\n    let { sessionTableDetails } = this.state;\r\n    let values = [];\r\n    e.forEach((e) => {\r\n      values.push(e.value);\r\n    });\r\n    sessionTableDetails[index].values = values;\r\n    this.setState({ sessionTableDetails });\r\n  };\r\n\r\n  calculateSessions = () => {\r\n    let { sessionTableDetails, employeeOptions, tstaffList } = this.state;\r\n    let sessionCount = 0;\r\n    sessionTableDetails.forEach((e) => {\r\n      sessionCount += e.sessions;\r\n    });\r\n    if (sessionCount > this.props.session) {\r\n      Toast({ type: \"error\", message: \"Session count cannot exceed!\" });\r\n      return;\r\n    }\r\n    employeeOptions.forEach((e) => {\r\n      let total = 0.0;\r\n      sessionTableDetails.forEach((sessionTable, index) => {\r\n        if (sessionTable.values.includes(e.value)) {\r\n          total +=\r\n            sessionTableDetails[index].sessions /\r\n            sessionTableDetails[index].values.length;\r\n        }\r\n      });\r\n      tstaffList.filter((ele) => ele.helper_id == e.value)[0].session = total;\r\n    });\r\n    console.log(tstaffList, \"list with sessions\");\r\n    this.setState({ tstaffList });\r\n\r\n    let event = { target: { name: \"session\" } };\r\n    tstaffList.forEach((item, index) => {\r\n      this.handleUpdatestaff(event, item, index);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      staffList = [],\r\n      tstaffList = [],\r\n      roomList,\r\n      Room,\r\n      Source,\r\n      duration,\r\n      startDuration,\r\n      sourceList,\r\n      updateFields,\r\n      headerDetails,\r\n      cartData = {},\r\n      postFields,\r\n      employeeOptions,\r\n      sessionTableDetails,\r\n      sessionTableHeader,\r\n    } = this.state;\r\n    let { value = {} } = cartData;\r\n    let { work_point } = postFields;\r\n    let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n    let {\r\n      Item,\r\n      Price,\r\n      add_duration,\r\n      room_id,\r\n      room_name,\r\n      source_id,\r\n      source_name,\r\n      times,\r\n    } = value;\r\n    let { tsStaff = {} } = this.props;\r\n    let { course, unit_amount, workpoint } = tsStaff;\r\n    return (\r\n      <div className=\"row new-cart treatment-done\" id=\"treatment-done-sesiions\">\r\n        <div className=\"col-12\">\r\n          <p className=\"fs-18 font-700 mb-3 title\">Treatment Done</p>\r\n        </div>\r\n        <div className=\"col-6 mb-2\">\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Item\r\n          </label>\r\n          <div className=\"input-group mb-2\">{Item}</div>\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Price\r\n          </label>\r\n          <div className=\"input-group mb-2\">{Price}</div>\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Work Point\r\n          </label>\r\n\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              value={work_point ? work_point : \"\"}\r\n              name=\"work_point\"\r\n              onChange={this.handlePostChanges}\r\n              className={`customer-name`}\r\n              disabled={true}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-4 mb-2\"></div>\r\n        <div className=\"col-2 mb-2\">\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Session\r\n          </label>\r\n\r\n          <h1>{this.props.session}</h1>\r\n        </div>\r\n        <div className={`col-12 cart-item emp-image`}>\r\n          <div className={`staff-listing d-flex emp-list`}>\r\n            <div\r\n              className=\"forward-button cursor-pointer\"\r\n              onClick={this.handleBack}\r\n            >\r\n              <svg\r\n                width=\"6\"\r\n                height=\"10\"\r\n                viewBox=\"0 0 6 10\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M5 0.5L1 5L5 9.5\"\r\n                  stroke=\"#888888\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            {staffList.length > 0\r\n              ? staffList.map((staff) => {\r\n                  return (\r\n                    <div\r\n                      className=\"mx-1 staff-list cursor-pointer emp\"\r\n                      key={staff.id}\r\n                      onClick={() => this.handleSelect_Staff(staff)}\r\n                    >\r\n                      <img className=\"img\" src={staff.emp_pic} alt=\"\" />\r\n                      <p>{staff.display_name}</p>\r\n                    </div>\r\n                  );\r\n                })\r\n              : \"\"}\r\n            <div\r\n              className=\"back-button cursor-pointer\"\r\n              onClick={this.handleNext}\r\n            >\r\n              <svg\r\n                width=\"5\"\r\n                height=\"10\"\r\n                viewBox=\"0 0 5 10\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M0.5 9.5L4.5 5L0.5 0.5\"\r\n                  stroke=\"#888888\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={`col-12 cart-item`}>\r\n          <div className={`item-list`}>\r\n            <div className=\"table\">\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n                // pageMeta={pageMeta}\r\n                // isEmpty={tstaffList.length === 0 ? true:false}\r\n              >\r\n                {tstaffList && tstaffList.length > 0\r\n                  ? tstaffList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td className=\"position-relative status-type\">\r\n                            <div className=\"d-flex align-items-center justify-content-center fs-20\">\r\n                              {item.helper_name}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalInput\r\n                                // placeholder=\"Enter here\"\r\n                                // options={siteList}\r\n                                value={item.session}\r\n                                name=\"session\"\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                max={this.props.session}\r\n                                onChange={(e) =>\r\n                                  this.handleUpdateSession(e, item, index)\r\n                                }\r\n                                //className=\"wpr\"\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalInput\r\n                                // placeholder=\"Enter here\"\r\n                                // options={siteList}\r\n                                value={item.wp1}\r\n                                name=\"wp1\"\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                max={postFields.work_point}\r\n                                onChange={(e) =>\r\n                                  this.handleuUpdateWp(e, item, index)\r\n                                }\r\n                                //className=\"wpr\"\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            {this.state.hideNotNeededControls == \"true\" && (\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <div className=\"input-group\">\r\n                                  <NormalSelect\r\n                                    // placeholder=\"Enter here\"\r\n                                    options={startDuration}\r\n                                    value={item.appt_fr_time}\r\n                                    name=\"appt_fr_time\"\r\n                                    onChange={(e) =>\r\n                                      this.handleUpdatestaff(e, item, index)\r\n                                    }\r\n                                    className=\"customer-name py-0\"\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n                          <td>\r\n                            {this.state.hideNotNeededControls == \"true\" && (\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {item.appt_to_time}\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n\r\n                          <td>\r\n                            {this.state.hideNotNeededControls == \"true\" && (\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <div className=\"input-group\">\r\n                                  <NormalSelect\r\n                                    // placeholder=\"Enter here\"this.setState({add_duration:e.target.value})\r\n                                    options={duration}\r\n                                    value={item.add_duration}\r\n                                    name=\"add_duration\"\r\n                                    onChange={(e) =>\r\n                                      this.handleUpdatestaff(e, item, index)\r\n                                    }\r\n                                    className=\"customer-name p-0\"\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n              </TableWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 cart-item\">\r\n          <Tree\r\n            content=\"Assign Sessions\"\r\n          >\r\n            <div className=\"item-list p-0\">\r\n              <div className=\"d-flex justify-content-end\">\r\n                <div className=\"col-md-4 p-0 mb-2\">\r\n                  <NormalButton\r\n                    mainbg={true}\r\n                    label=\"Add Row\"\r\n                    onClick={this.handleAddRow}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"table\">\r\n                <TableWrapper headerDetails={sessionTableHeader}>\r\n                  {sessionTableDetails && sessionTableDetails.length > 0\r\n                    ? sessionTableDetails.map((item, index) => {\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <NormalInput\r\n                                  // placeholder=\"Enter here\"\r\n                                  // options={siteList}\r\n                                  value={item.sessions}\r\n                                  name=\"session\"\r\n                                  type=\"number\"\r\n                                  min=\"0\"\r\n                                  max={this.props.session}\r\n                                  onChange={(e) =>\r\n                                    this.handleSessionsChange(e, index)\r\n                                  }\r\n                                  //className=\"wpr\"\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <NormalMultiSelect\r\n                                  // placeholder=\"Enter here\"\r\n                                  target={document.getElementById('treatment-done-sesiions')}\r\n                                  options={employeeOptions}\r\n                                  value={item.values}\r\n                                  handleMultiSelect={(e) =>\r\n                                    this.handleSessionEmpChange(e, index)\r\n                                  }\r\n                                  //className=\"wpr\"\r\n                                />\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                <div\r\n                                  className=\"icon\"\r\n                                  onClick={() => this.handleRemoveRow(index)}\r\n                                >\r\n                                  <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    width=\"30\"\r\n                                    height=\"30\"\r\n                                    fill=\"red\"\r\n                                    class=\"bi bi-x\"\r\n                                    viewBox=\"0 0 16 16\"\r\n                                  >\r\n                                    <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n                                  </svg>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </TableWrapper>\r\n              </div>\r\n              {sessionTableDetails?.length > 0 ? (\r\n                <div className=\"d-flex justify-content-end\">\r\n                  <div className=\"col-md-4 p-0 mt-2\">\r\n                    <NormalButton\r\n                      mainbg={true}\r\n                      label=\"Assign Sessions\"\r\n                      onClick={this.calculateSessions}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </Tree>\r\n        </div>\r\n\r\n        <div className=\"col-12 mb-2\">\r\n          {this.state.hideNotNeededControls == \"true\" && (\r\n            <div className=\"row\">\r\n              <div className=\"col-4\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  Room\r\n                </label>\r\n\r\n                <div className=\"input-group\">\r\n                  <NormalSelect\r\n                    // placeholder=\"Enter here\"\r\n                    options={roomList}\r\n                    value={Room_Codeid}\r\n                    name=\"Room_Codeid\"\r\n                    onChange={this.handleUpdatChanges}\r\n                    className=\"customer-name py-0\"\r\n                    // disabled={Room_Codeid}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  Source\r\n                </label>\r\n\r\n                <div className=\"input-group\">\r\n                  <NormalSelect\r\n                    // placeholder=\"Enter here\"\r\n                    options={sourceList}\r\n                    value={Source_Codeid}\r\n                    name=\"Source_Codeid\"\r\n                    onChange={this.handleUpdatChanges}\r\n                    className=\"customer-name py-0\"\r\n                    // disabled={Source_Codeid}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-4\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  New Remark\r\n                </label>\r\n\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    // placeholder=\"Enter here\"\r\n                    // options={siteList}\r\n                    value={new_remark}\r\n                    name=\"new_remark\"\r\n                    onChange={this.handleUpdatChanges}\r\n                    className=\"customer-name\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12 pt-4 action-bar\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6 d-flex\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\"fs-15 clear-line\"\r\n                label=\"Clear Line\"\r\n                outline={false}\r\n                onClick={this.handleClearLine}\r\n              />\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\"fs-15 clear-all\"\r\n                label=\"Clear All\"\r\n                outline={false}\r\n                onClick={this.handleClearAll}\r\n              />\r\n            </div>\r\n            <div className=\"col-4 text-right\">\r\n              {/* <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                danger={true}\r\n                                className=\" fs-15 close\"\r\n                                label=\"Close\"\r\n                                outline={false}\r\n                                onClick={this.props.handleModal}\r\n                            /> */}\r\n            </div>\r\n            <div className=\"col-2 text-right\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\" fs-15 confirm\"\r\n                label=\"Confirm\"\r\n                outline={false}\r\n                onClick={this.handleSubmit}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  selected_cstomer: state.common.selected_cstomer,\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const SelectStaff = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectStaffClass);\r\n"]},"metadata":{},"sourceType":"module"}