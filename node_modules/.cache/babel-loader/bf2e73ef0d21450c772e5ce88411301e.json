{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,TableWrapper,NormalInput}from\"component/common\";import\"./style.scss\";import{AiOutlinePlus,AiOutlineMinus}from\"react-icons/ai\";import{withTranslation}from\"react-i18next\";import{PayGroups,NewPayGroups,updateCommon}from\"redux/actions/Backend\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Toast}from\"service/toast\";import{DragFileUpload}from\"../../../../common\";import{displayImg}from\"service/helperFunctions\";export var PaymentGroupClass=/*#__PURE__*/function(_Component){_inherits(PaymentGroupClass,_Component);var _super=_createSuper(PaymentGroupClass);function PaymentGroupClass(){var _this;_classCallCheck(this,PaymentGroupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={CommissionDetails:[{label:\"Code\"},{label:\"Sequence\",divClass:\"justify-content-end\"}],count:null,iscreation:false,islist:false,staffList:[],code:null,pic:null,codeedit:null,countedit:null,imagesedit:null,edit:false};_this.componentDidMount=function(){_this.Listofpaygroups({});};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleedit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(itemcode){var _this$state,edit,codeedit,countedit,imagesedit,temp,pic;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,edit=_this$state.edit,codeedit=_this$state.codeedit,countedit=_this$state.countedit,imagesedit=_this$state.imagesedit,temp=_this$state.temp,pic=_this$state.pic;edit=true;_this.setState({edit:edit});console.log(edit);_context.next=6;return _this.props.PayGroups().then(function(res){console.log(res);debugger;var objIndex=res.findIndex(function(obj){return obj.payGroupCode==itemcode;});temp=res[objIndex];_this.setState({temp:temp});console.log(temp);codeedit=temp.payGroupCode;countedit=temp.seq;imagesedit=temp.pictureLocation;//      var uri = window.URL.createObjectURL(temp.pictureLocation);\n//  var uri = window.URL.createObjectURL(temp.pictureLocation);\n// var binaryData = [];\n//  binaryData.push();\n// var foo = URL.createObjectURL(\n//   new Blob(temp.pictureLocation, { type: \"jpg/jpeg\" })\n//);\n//      var uri = window.URL.createObjectURL(temp.pictureLocation);\n//  var uri = window.URL.createObjectURL(temp.pictureLocation);\n// var binaryData = [];\n//  binaryData.push();\n// var foo = URL.createObjectURL(\n//   new Blob(temp.pictureLocation, { type: \"jpg/jpeg\" })\n//);\ndebugger;var file_img=new File([temp.pictureLocation],temp.payGroupCode);pic=file_img;////  let reader = new FileReader();\n//  reader.readAsDataURL(\n//    \"blob:http://localhost:3000/0952bae4-322e-4462-aaed-91d5a106dac9\"\n//  );\n//  imagesedit = reader.result;\n////  let reader = new FileReader();\n//  reader.readAsDataURL(\n//    \"blob:http://localhost:3000/0952bae4-322e-4462-aaed-91d5a106dac9\"\n//  );\n//  imagesedit = reader.result;\n_this.setState({codeedit:codeedit,countedit:countedit,imagesedit:imagesedit,pic:pic});console.log(pic);});case 6:_this.generalcontent();case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleupdates=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state2,edit,code,count,pic,descJson;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state2=_this.state,edit=_this$state2.edit,code=_this$state2.code,count=_this$state2.count,pic=_this$state2.pic;descJson={payGroupCode:_this.state.codeedit,pictureLocation:_this.state.imagesedit,seq:_this.state.countedit,iscreditcard:null};_context2.next=4;return _this.props.updateCommon(\"PayGroups/update?where=%7B%22payGroupCode%22%3A%20%22\".concat(_this.state.codeedit,\"%22%7D\\n    \"),descJson).then(function(data){_this.Listofpaygroups({});Toast({type:\"success\",message:\"Updated Successfully\"});});case 4:edit=false;code=\"\";count=\"\";pic=\"\";_this.setState({edit:edit,code:code,count:count,pic:pic});_this.generalcontent();case 10:case\"end\":return _context2.stop();}}},_callee2);}));_this.Listofpaygroups=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.updateState({is_loading:true});_context3.next=3;return _this.props.PayGroups().then(function(res){console.log(res);var staffList=_this.state.staffList;staffList=res;console.log(staffList);_this.setState({staffList:staffList,is_loading:false});console.log(staffList.length);});case 3:case\"end\":return _context3.stop();}}},_callee3);}));_this.temp=function(_ref4){var _ref4$target=_ref4.target,value=_ref4$target.value,name=_ref4$target.name;console.log(value,name);var _this$state3=_this.state,code=_this$state3.code,count=_this$state3.count;if(name==\"code\"){code=value;_this.setState({code:code});}if(name==\"count\"){count=value;_this.setState({count:count});}};_this.handleeditinput=function(_ref5){var _ref5$target=_ref5.target,value=_ref5$target.value,name=_ref5$target.name;console.log(value,name);var _this$state4=_this.state,codeedit=_this$state4.codeedit,countedit=_this$state4.countedit;if(name==\"code\"){codeedit=value;_this.setState({codeedit:codeedit});}if(name==\"count\"){countedit=value;_this.setState({countedit:countedit});}};_this.Addnewone=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _this$state5,code,pic,count,Filedt,newroom;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this$state5=_this.state,code=_this$state5.code,pic=_this$state5.pic,count=_this$state5.count;if(!(code==null||count==null)){_context4.next=5;break;}Toast({type:\"error\",message:\"Please check required \"});_context4.next=12;break;case 5:if(!(pic!=null&&typeof pic===\"object\")){_context4.next=12;break;}console.log(pic);if(!pic){_context4.next=12;break;}Filedt=new File([pic],\"name\");newroom={payGroupCode:code,pictureLocation:Filedt,seq:count,iscreditcard:true};_context4.next=12;return _this.props.NewPayGroups(newroom).then(function(res){console.log(res);_this.Listofpaygroups({});Toast({type:\"success\",message:\"Successfully Added\"});code=\"\";count=\"\";_this.setState({code:code,count:count});}).catch(function(e){return console.log(e);});case 12:case\"end\":return _context4.stop();}}},_callee4);}));_this.handleImageUpload=function(file){var pic=_this.state.pic;debugger;pic=file;_this.setState({pic:pic});console.log(pic);};return _this;}_createClass(PaymentGroupClass,[{key:\"generalcontent\",value:function generalcontent(){this.setState({iscreation:!this.state.iscreation});}},{key:\"commissioncontent\",value:function commissioncontent(){this.setState({islist:!this.state.islist});}},{key:\"handleimageChange\",value:function handleimageChange(event){var pic=this.state.pic;console.log(event);pic=URL.createObjectURL(event.target.files[0]);this.setState({pic:pic});console.log(pic);}},{key:\"handleedutimageChange\",value:function handleedutimageChange(event){var imagesedit=this.state.imagesedit;imagesedit=URL.createObjectURL(event.target.files[0]);this.setState({imagesedit:imagesedit});console.log(imagesedit);}// fileToDataUri = (file) =>\n//   new Promise((resolve, reject) => {\n//     const reader = new FileReader();\n//     reader.onload = (event) => {\n//       resolve(event.target.result);\n//     };\n//     reader.readAsDataURL(file);\n//   });\n// upload imag to formfield\n},{key:\"render\",value:function render(){var _this2=this;var _this$state6=this.state,CommissionDetails=_this$state6.CommissionDetails,staffList=_this$state6.staffList,is_loading=_this$state6.is_loading,code=_this$state6.code,iscreation=_this$state6.iscreation,islist=_this$state6.islist,count=_this$state6.count,codeedit=_this$state6.codeedit,countedit=_this$state6.countedit,imagesedit=_this$state6.imagesedit,edit=_this$state6.edit,pic=_this$state6.pic;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid salespayment\"},/*#__PURE__*/React.createElement(\"h4\",null,t(\"Payment Group\")),edit==false?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex  justify-content-between p-3 payment\",onClick:function onClick(){return _this2.generalcontent();}},/*#__PURE__*/React.createElement(\"p\",null,t(\"Payment Group Creation\")),/*#__PURE__*/React.createElement(\"div\",{className:\"icons\"},iscreation==false?/*#__PURE__*/React.createElement(AiOutlinePlus,null):/*#__PURE__*/React.createElement(AiOutlineMinus,null))),iscreation==true?/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid roomcontent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,t(\"Code\")),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:code,name:\"code\",onChange:this.temp}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,t(\"Sequence\")),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:count,name:\"count\",onChange:this.temp}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(DragFileUpload,{className:\"file-uploader size-sm \".concat(pic?\"\":\"no-img\"),label:\"Upload Thumbnail\",handleFileUpload:this.handleImageUpload},pic?/*#__PURE__*/React.createElement(\"div\",null,console.log(pic,\"imageontagonrender\"),/*#__PURE__*/React.createElement(\"img\",{src:pic,alt:\"\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"uploader-content text-center\"},/*#__PURE__*/React.createElement(\"span\",null,\"Upload Image\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\",style:{width:100}},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Add\",onClick:function onClick(){return _this2.Addnewone();}}))))):\"\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex  justify-content-between p-3 payment\",onClick:function onClick(){return _this2.generalcontent();}},/*#__PURE__*/React.createElement(\"p\",null,t(\"Payment Group Creation\")),/*#__PURE__*/React.createElement(\"div\",{className:\"icons\"},iscreation==false?/*#__PURE__*/React.createElement(AiOutlinePlus,null):/*#__PURE__*/React.createElement(AiOutlineMinus,null))),iscreation==true?/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid roomcontent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,t(\"Code\")),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:codeedit,name:\"code\",onChange:this.handleeditinput}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"span\",null,t(\"Sequence\")),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:countedit,name:\"count\",onChange:this.handleeditinput}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(DragFileUpload,{className:\"file-uploader size-sm \".concat(imagesedit?\"\":\"no-img\"),label:\"Upload Thumbnail\",handleFileUpload:this.handleImageUpload},imagesedit?/*#__PURE__*/React.createElement(\"div\",null,console.log(pic,\"imageontagonrender\"),/*#__PURE__*/React.createElement(\"img\",{src:imagesedit,alt:\"\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"uploader-content text-center\"},/*#__PURE__*/React.createElement(\"span\",null,\"Upload Image\"))),/*#__PURE__*/React.createElement(\"img\",{src:displayImg(imagesedit),alt:\"edit\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\",style:{width:100}},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,label:\"Update\",onClick:function onClick(){return _this2.handleupdates();}}))))):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex  justify-content-between p-3 payment mt-5\",onClick:function onClick(){return _this2.commissioncontent();}},/*#__PURE__*/React.createElement(\"p\",null,t(\"Payment Group List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"icons\"},islist==false?/*#__PURE__*/React.createElement(AiOutlinePlus,null):/*#__PURE__*/React.createElement(AiOutlineMinus,null))),islist==true?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mt-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mt-3\"},t(\"List of Payment Groups\")),/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:CommissionDetails},is_loading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))))):staffList.length>0?staffList.map(function(_ref7,index){var payGroupCode=_ref7.payGroupCode,seq=_ref7.seq;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left text-success\",onClick:function onClick(){return _this2.handleedit(payGroupCode);}},payGroupCode)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},seq)));}):null)))))):\"\"));}}]);return PaymentGroupClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({PayGroups:PayGroups,NewPayGroups:NewPayGroups,updateCommon:updateCommon},dispatch);};export var PaymentGroup=withTranslation()(connect(null,mapDispatchToProps)(PaymentGroupClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Backend/Sales/PaymentGroup/index.js"],"names":["React","Component","NormalButton","TableWrapper","NormalInput","AiOutlinePlus","AiOutlineMinus","withTranslation","PayGroups","NewPayGroups","updateCommon","connect","bindActionCreators","Toast","DragFileUpload","displayImg","PaymentGroupClass","state","CommissionDetails","label","divClass","count","iscreation","islist","staffList","code","pic","codeedit","countedit","imagesedit","edit","componentDidMount","Listofpaygroups","updateState","data","isMounted","setState","handleedit","itemcode","temp","console","log","props","then","res","objIndex","findIndex","obj","payGroupCode","seq","pictureLocation","file_img","File","generalcontent","handleupdates","descJson","iscreditcard","type","message","is_loading","length","target","value","name","handleeditinput","Addnewone","Filedt","newroom","catch","e","handleImageUpload","file","event","URL","createObjectURL","files","t","color","width","commissioncontent","map","index","mapDispatchToProps","dispatch","PaymentGroup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, TableWrapper, NormalInput } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { AiOutlinePlus, AiOutlineMinus } from \"react-icons/ai\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { PayGroups, NewPayGroups, updateCommon } from \"redux/actions/Backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Toast } from \"service/toast\";\r\nimport { DragFileUpload } from \"../../../../common\";\r\nimport { displayImg } from \"service/helperFunctions\";\r\nexport class PaymentGroupClass extends Component {\r\n  state = {\r\n    CommissionDetails: [\r\n      { label: \"Code\" },\r\n      { label: \"Sequence\", divClass: \"justify-content-end\" },\r\n    ],\r\n    count: null,\r\n    iscreation: false,\r\n    islist: false,\r\n    staffList: [],\r\n    code: null,\r\n    pic: null,\r\n    codeedit: null,\r\n    countedit: null,\r\n    imagesedit: null,\r\n    edit: false,\r\n  };\r\n\r\n  generalcontent() {\r\n    this.setState({\r\n      iscreation: !this.state.iscreation,\r\n    });\r\n  }\r\n\r\n  commissioncontent() {\r\n    this.setState({\r\n      islist: !this.state.islist,\r\n    });\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.Listofpaygroups({});\r\n  };\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleedit = async (itemcode) => {\r\n    let { edit, codeedit, countedit, imagesedit, temp, pic } = this.state;\r\n    edit = true;\r\n    this.setState({ edit });\r\n    console.log(edit);\r\n    await this.props.PayGroups().then((res) => {\r\n      console.log(res);\r\n      debugger;\r\n      let objIndex = res.findIndex((obj) => obj.payGroupCode == itemcode);\r\n      temp = res[objIndex];\r\n      this.setState({\r\n        temp,\r\n      });\r\n      console.log(temp);\r\n      codeedit = temp.payGroupCode;\r\n      countedit = temp.seq;\r\n      imagesedit = temp.pictureLocation;\r\n\r\n      //      var uri = window.URL.createObjectURL(temp.pictureLocation);\r\n      //  var uri = window.URL.createObjectURL(temp.pictureLocation);\r\n      // var binaryData = [];\r\n      //  binaryData.push();\r\n      // var foo = URL.createObjectURL(\r\n      //   new Blob(temp.pictureLocation, { type: \"jpg/jpeg\" })\r\n      //);\r\n      debugger;\r\n      var file_img = new File([temp.pictureLocation], temp.payGroupCode);\r\n      pic = file_img;\r\n      ////  let reader = new FileReader();\r\n      //  reader.readAsDataURL(\r\n      //    \"blob:http://localhost:3000/0952bae4-322e-4462-aaed-91d5a106dac9\"\r\n      //  );\r\n      //  imagesedit = reader.result;\r\n      this.setState({\r\n        codeedit,\r\n        countedit,\r\n        imagesedit,\r\n        pic,\r\n      });\r\n      console.log(pic);\r\n    });\r\n    this.generalcontent();\r\n  };\r\n\r\n  handleupdates = async () => {\r\n    let { edit, code, count, pic } = this.state;\r\n    let descJson = {\r\n      payGroupCode: this.state.codeedit,\r\n      pictureLocation: this.state.imagesedit,\r\n      seq: this.state.countedit,\r\n      iscreditcard: null,\r\n    };\r\n    await this.props\r\n      .updateCommon(\r\n        `PayGroups/update?where=%7B%22payGroupCode%22%3A%20%22${this.state.codeedit}%22%7D\r\n    `,\r\n        descJson\r\n      )\r\n      .then((data) => {\r\n        this.Listofpaygroups({});\r\n        Toast({\r\n          type: \"success\",\r\n          message: \"Updated Successfully\",\r\n        });\r\n      });\r\n    edit = false;\r\n    code = \"\";\r\n    count = \"\";\r\n    pic = \"\";\r\n\r\n    this.setState({ edit, code, count, pic });\r\n    this.generalcontent();\r\n  };\r\n\r\n  Listofpaygroups = async () => {\r\n    this.updateState({ is_loading: true });\r\n    await this.props.PayGroups().then((res) => {\r\n      console.log(res);\r\n      let { staffList } = this.state;\r\n\r\n      staffList = res;\r\n      console.log(staffList);\r\n      this.setState({\r\n        staffList,\r\n        is_loading: false,\r\n      });\r\n      console.log(staffList.length);\r\n    });\r\n  };\r\n\r\n  temp = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { code, count } = this.state;\r\n    if (name == \"code\") {\r\n      code = value;\r\n      this.setState({ code });\r\n    }\r\n    if (name == \"count\") {\r\n      count = value;\r\n      this.setState({ count });\r\n    }\r\n  };\r\n\r\n  handleeditinput = ({ target: { value, name } }) => {\r\n    console.log(value, name);\r\n    let { codeedit, countedit } = this.state;\r\n    if (name == \"code\") {\r\n      codeedit = value;\r\n      this.setState({ codeedit });\r\n    }\r\n    if (name == \"count\") {\r\n      countedit = value;\r\n      this.setState({ countedit });\r\n    }\r\n  };\r\n\r\n  Addnewone = async () => {\r\n    let { code, pic, count } = this.state;\r\n    if (code == null || count == null) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Please check required \",\r\n      });\r\n    } else {\r\n      if (pic != null && typeof pic === \"object\") {\r\n        console.log(pic);\r\n        if (pic) {\r\n          let Filedt = new File([pic], \"name\");\r\n\r\n          let newroom = {\r\n            payGroupCode: code,\r\n            pictureLocation: Filedt,\r\n            seq: count,\r\n            iscreditcard: true,\r\n          };\r\n          await this.props\r\n            .NewPayGroups(newroom)\r\n            .then((res) => {\r\n              console.log(res);\r\n              this.Listofpaygroups({});\r\n              Toast({\r\n                type: \"success\",\r\n                message: \"Successfully Added\",\r\n              });\r\n              code = \"\";\r\n              count = \"\";\r\n              this.setState({ code, count });\r\n            })\r\n\r\n            .catch((e) => console.log(e));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleimageChange(event) {\r\n    let { pic } = this.state;\r\n    console.log(event);\r\n    pic = URL.createObjectURL(event.target.files[0]);\r\n    this.setState({\r\n      pic,\r\n    });\r\n    console.log(pic);\r\n  }\r\n\r\n  handleedutimageChange(event) {\r\n    let { imagesedit } = this.state;\r\n    imagesedit = URL.createObjectURL(event.target.files[0]);\r\n    this.setState({\r\n      imagesedit,\r\n    });\r\n    console.log(imagesedit);\r\n  }\r\n  // fileToDataUri = (file) =>\r\n  //   new Promise((resolve, reject) => {\r\n  //     const reader = new FileReader();\r\n  //     reader.onload = (event) => {\r\n  //       resolve(event.target.result);\r\n  //     };\r\n  //     reader.readAsDataURL(file);\r\n  //   });\r\n  // upload imag to formfield\r\n  handleImageUpload = (file) => {\r\n    let { pic } = this.state;\r\n    debugger;\r\n    pic = file;\r\n    this.setState({\r\n      pic,\r\n    });\r\n    console.log(pic);\r\n  };\r\n  render() {\r\n    let {\r\n      CommissionDetails,\r\n      staffList,\r\n      is_loading,\r\n      code,\r\n      iscreation,\r\n      islist,\r\n      count,\r\n      codeedit,\r\n      countedit,\r\n      imagesedit,\r\n      edit,\r\n      pic,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid salespayment\">\r\n          <h4>{t(\"Payment Group\")}</h4>\r\n          {edit == false ? (\r\n            <>\r\n              <div\r\n                className=\"d-flex  justify-content-between p-3 payment\"\r\n                onClick={() => this.generalcontent()}\r\n              >\r\n                <p>{t(\"Payment Group Creation\")}</p>\r\n                <div className=\"icons\">\r\n                  {iscreation == false ? <AiOutlinePlus /> : <AiOutlineMinus />}\r\n                </div>\r\n              </div>\r\n              {iscreation == true ? (\r\n                <div className=\"container-fluid roomcontent\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 \">\r\n                      <div className=\"mt-3\">\r\n                        <span>{t(\"Code\")}</span>\r\n                        <span style={{ color: \"red\" }}>*</span>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            value={code}\r\n                            name=\"code\"\r\n                            onChange={this.temp}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"mt-3\">\r\n                        <span>{t(\"Sequence\")}</span>\r\n                        <span style={{ color: \"red\" }}>*</span>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            value={count}\r\n                            name=\"count\"\r\n                            onChange={this.temp}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"mt-3\">\r\n                        {/* <input type = \"file\" onChange = {(event) => this.handleimageChange(event)} />  */}\r\n                        <DragFileUpload\r\n                          className={`file-uploader size-sm ${\r\n                            pic ? \"\" : \"no-img\"\r\n                          }`}\r\n                          label=\"Upload Thumbnail\"\r\n                          handleFileUpload={this.handleImageUpload}\r\n                        >\r\n                          {pic ? (\r\n                            <div>\r\n                              {console.log(pic, \"imageontagonrender\")}\r\n                              <img src={pic} alt=\"\" />\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"uploader-content text-center\">\r\n                              <span>Upload Image</span>\r\n                            </div>\r\n                          )}\r\n                        </DragFileUpload>\r\n                      </div>\r\n\r\n                      <div className=\"mt-3\" style={{ width: 100 }}>\r\n                        <NormalButton\r\n                          mainbg={true}\r\n                          label={\"Add\"}\r\n                          onClick={() => this.Addnewone()}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div\r\n                className=\"d-flex  justify-content-between p-3 payment\"\r\n                onClick={() => this.generalcontent()}\r\n              >\r\n                <p>{t(\"Payment Group Creation\")}</p>\r\n                <div className=\"icons\">\r\n                  {iscreation == false ? <AiOutlinePlus /> : <AiOutlineMinus />}\r\n                </div>\r\n              </div>\r\n              {iscreation == true ? (\r\n                <div className=\"container-fluid roomcontent\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 \">\r\n                      <div className=\"mt-3\">\r\n                        <span>{t(\"Code\")}</span>\r\n                        <span style={{ color: \"red\" }}>*</span>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            value={codeedit}\r\n                            name=\"code\"\r\n                            onChange={this.handleeditinput}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"mt-3\">\r\n                        <span>{t(\"Sequence\")}</span>\r\n                        <span style={{ color: \"red\" }}>*</span>\r\n                        <div className=\"input-group\">\r\n                          <NormalInput\r\n                            value={countedit}\r\n                            name=\"count\"\r\n                            onChange={this.handleeditinput}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"mt-3\">\r\n                        <DragFileUpload\r\n                          className={`file-uploader size-sm ${\r\n                            imagesedit ? \"\" : \"no-img\"\r\n                          }`}\r\n                          label=\"Upload Thumbnail\"\r\n                          handleFileUpload={this.handleImageUpload}\r\n                        >\r\n                          {imagesedit ? (\r\n                            <div>\r\n                              {console.log(pic, \"imageontagonrender\")}\r\n                              <img src={imagesedit} alt=\"\" />\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"uploader-content text-center\">\r\n                              <span>Upload Image</span>\r\n                            </div>\r\n                          )}\r\n                        </DragFileUpload>\r\n                        <img src={displayImg(imagesedit)} alt=\"edit\" />\r\n                      </div>\r\n\r\n                      <div className=\"mt-3\" style={{ width: 100 }}>\r\n                        <NormalButton\r\n                          mainbg={true}\r\n                          label={\"Update\"}\r\n                          onClick={() => this.handleupdates()}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          <div\r\n            className=\"d-flex  justify-content-between p-3 payment mt-5\"\r\n            onClick={() => this.commissioncontent()}\r\n          >\r\n            <p>{t(\"Payment Group List\")}</p>\r\n            <div className=\"icons\">\r\n              {islist == false ? <AiOutlinePlus /> : <AiOutlineMinus />}\r\n            </div>\r\n          </div>\r\n          {islist == true ? (\r\n            <div>\r\n              <div className=\"col-12 mt-1\">\r\n                <div className=\"tab-table-content\">\r\n                  <h5 className=\"mt-3\">{t(\"List of Payment Groups\")}</h5>\r\n                  <div className=\"py-4\">\r\n                    <div className=\"table-container\">\r\n                      <TableWrapper headerDetails={CommissionDetails}>\r\n                        {is_loading ? (\r\n                          <tr>\r\n                            <td colSpan=\"7\">\r\n                              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                                <div class=\"spinner-border\" role=\"status\">\r\n                                  <span class=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ) : staffList.length > 0 ? (\r\n                          staffList.map(({ payGroupCode, seq }, index) => {\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td>\r\n                                  <div\r\n                                    className=\"text-left text-success\"\r\n                                    onClick={() =>\r\n                                      this.handleedit(payGroupCode)\r\n                                    }\r\n                                  >\r\n                                    {payGroupCode}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"text-right\">{seq}</div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        ) : null}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      PayGroups,\r\n      NewPayGroups,\r\n      updateCommon,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const PaymentGroup = withTranslation()(\r\n  connect(null, mapDispatchToProps)(PaymentGroupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}