{"ast":null,"code":"/**\r\n * DevExtreme (ui/diagram/ui.diagram.dialog_manager.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _diagram = require(\"./diagram.importer\");\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nvar _file_uploader = _interopRequireDefault(require(\"../file_uploader\"));\n\nvar _window = require(\"../../core/utils/window\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar DiagramDialogManager = {\n  getConfigurations: function () {\n    var _getDiagram = (0, _diagram.getDiagram)(),\n        DiagramCommand = _getDiagram.DiagramCommand;\n\n    return this.dialogList || (this.dialogList = [{\n      command: DiagramCommand.InsertShapeImage,\n      title: _message.default.format(\"dxDiagram-dialogInsertShapeImageTitle\"),\n      onGetContent: this.getChangeImageDialogContent\n    }, {\n      command: DiagramCommand.EditShapeImage,\n      title: _message.default.format(\"dxDiagram-dialogEditShapeImageTitle\"),\n      onGetContent: this.getChangeImageDialogContent\n    }]);\n  },\n  getChangeImageDialogContent: function (args) {\n    var $uploader = (0, _renderer.default)(\"<div>\");\n\n    args.component._createComponent($uploader, _file_uploader.default, {\n      selectButtonText: _message.default.format(\"dxDiagram-dialogEditShapeImageSelectButton\"),\n      accept: \"image/*\",\n      uploadMode: \"useForm\",\n      onValueChanged: function (e) {\n        var window = (0, _window.getWindow)();\n        var reader = new window.FileReader();\n\n        reader.onload = function (e) {\n          args.component._commandParameter = e.target.result;\n        };\n\n        reader.readAsDataURL(e.value[0]);\n      }\n    });\n\n    return $uploader;\n  },\n  getDialogParameters: function (command) {\n    var commandIndex = this.getConfigurations().map(function (c) {\n      return c.command;\n    }).indexOf(command);\n\n    if (commandIndex >= 0) {\n      return this.getConfigurations()[commandIndex];\n    } else {\n      return null;\n    }\n  }\n};\nvar _default = DiagramDialogManager;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/diagram/ui.diagram.dialog_manager.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_diagram","_message","_file_uploader","_window","obj","__esModule","DiagramDialogManager","getConfigurations","_getDiagram","getDiagram","DiagramCommand","dialogList","command","InsertShapeImage","title","format","onGetContent","getChangeImageDialogContent","EditShapeImage","args","$uploader","component","_createComponent","selectButtonText","accept","uploadMode","onValueChanged","e","window","getWindow","reader","FileReader","onload","_commandParameter","target","result","readAsDataURL","value","getDialogParameters","commandIndex","map","c","indexOf","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/diagram/ui.diagram.dialog_manager.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _diagram = require(\"./diagram.importer\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _file_uploader = _interopRequireDefault(require(\"../file_uploader\"));\r\nvar _window = require(\"../../core/utils/window\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DiagramDialogManager = {\r\n    getConfigurations: function() {\r\n        var _getDiagram = (0, _diagram.getDiagram)(),\r\n            DiagramCommand = _getDiagram.DiagramCommand;\r\n        return this.dialogList || (this.dialogList = [{\r\n            command: DiagramCommand.InsertShapeImage,\r\n            title: _message.default.format(\"dxDiagram-dialogInsertShapeImageTitle\"),\r\n            onGetContent: this.getChangeImageDialogContent\r\n        }, {\r\n            command: DiagramCommand.EditShapeImage,\r\n            title: _message.default.format(\"dxDiagram-dialogEditShapeImageTitle\"),\r\n            onGetContent: this.getChangeImageDialogContent\r\n        }])\r\n    },\r\n    getChangeImageDialogContent: function(args) {\r\n        var $uploader = (0, _renderer.default)(\"<div>\");\r\n        args.component._createComponent($uploader, _file_uploader.default, {\r\n            selectButtonText: _message.default.format(\"dxDiagram-dialogEditShapeImageSelectButton\"),\r\n            accept: \"image/*\",\r\n            uploadMode: \"useForm\",\r\n            onValueChanged: function(e) {\r\n                var window = (0, _window.getWindow)();\r\n                var reader = new window.FileReader;\r\n                reader.onload = function(e) {\r\n                    args.component._commandParameter = e.target.result\r\n                };\r\n                reader.readAsDataURL(e.value[0])\r\n            }\r\n        });\r\n        return $uploader\r\n    },\r\n    getDialogParameters: function(command) {\r\n        var commandIndex = this.getConfigurations().map(function(c) {\r\n            return c.command\r\n        }).indexOf(command);\r\n        if (commandIndex >= 0) {\r\n            return this.getConfigurations()[commandIndex]\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n};\r\nvar _default = DiagramDialogManager;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}