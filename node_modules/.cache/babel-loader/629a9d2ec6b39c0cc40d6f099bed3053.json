{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{NormalButton,NormalModal,NormalSelect}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import closeIcon from\"assets/images/close.png\";import _ from\"lodash\";import{AddPhotoPopup}from\"./AddPhotoPopup\";import{Navigation}from\"react-minimal-side-navigation\";import{ComparePhotoPopup}from\"./ComparePhotoPopup\";import{withTranslation}from\"react-i18next\";export var DianosisClass=/*#__PURE__*/function(_React$Component){_inherits(DianosisClass,_React$Component);var _super=_createSuper(DianosisClass);function DianosisClass(){var _this;_classCallCheck(this,DianosisClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={photoTableHeader:[{label:\"Date Taken\",sortKey:\"date\"},{label:\"Diagnosis Code\",sortKey:\"code\",enabled:true},{label:\"Remarks\",sortKey:\"remarks\",enabled:true},{label:\"Compare\",sortKey:\"compare\"},{label:\"View\",sortKey:\"view\"}],photoList:[{id:\"1\",date:\"2020/04/02\",code:\"123\",image:\"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg\",remarks:\"test \",isCompare:false},{id:\"2\",date:\"2020/04/02\",code:\"123\",image:\"https://i0.wp.com/post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/03/GettyImages-1092658864_hero-1024x575.jpg?w=1155&h=1528\",remarks:\"test 2\",isCompare:false},{id:\"3\",date:\"2020/04/02\",code:\"123\",image:\"https://media.glamour.com/photos/5a425fd3b6bcee68da9f86f8/master/pass/best-face-oil.png\",remarks:\"test 3\",isCompare:false}],historyTableHeader:[{label:\"Compare Date\",sortKey:\"date\"},{label:\"Compare Remarks\",sortKey:\"remarks\",enabled:true},{label:\"Diagnosis Reference\",sortKey:\"referance\",enabled:true},{label:\"Date\",sortKey:\"dDate\"},{label:\"View\",sortKey:\"view\"}],historyList:[{id:\"1\",date:\"2020/04/02\",remarks:\"test 3\",images:[{id:\"2\",date:\"2020/04/02\",code:\"123\",image:\"https://i0.wp.com/post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/03/GettyImages-1092658864_hero-1024x575.jpg?w=1155&h=1528\",remarks:\"test 2\",isCompare:false},{id:\"3\",date:\"2020/04/02\",code:\"123\",image:\"https://media.glamour.com/photos/5a425fd3b6bcee68da9f86f8/master/pass/best-face-oil.png\",remarks:\"test 3\",isCompare:false}]}],visitTableHeader:[{label:\"Date\",sortKey:\"date\"},{label:\"PDPA\",sortKey:\"pdpa\",enabled:true},{label:\"Questionairre / Consultation\",sortKey:\"consultation\",enabled:true},{label:\"Diagnosis\",sortKey:\"diagnosis\"},{label:\"Consent Form\",sortKey:\"consent\"},{label:\"Treatment Done\",sortKey:\"treatments\"},{label:\"Sales\",sortKey:\"sales\"}],visitList:[],meta:{},active:false,currentIndex:-1,currentMenu:\"/\",compareList:[],selectedRemark:null,currentData:null,isAddPhotoOpen:false,isCompareOpen:false,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.handleOutsideClick=function(e){if(_this.node!=null){if(_this.node.contains(e.target)){return;}}_this.handleClick();};_this.handlePagination=function(page){console.log(page,\"dsfsdfsdfsdf\");};_this.handlePhotosearch=function(event){};_this.handleHistorySearch=function(event){};_this.handleVisitSearch=function(event){};_this.handleMenuSelection=function(value){_this.setState({currentMenu:value,selectedRemark:null,compareList:[]});};return _this;}_createClass(DianosisClass,[{key:\"componentDidMount\",value:function componentDidMount(){var queryParams=new URLSearchParams(window.location.search);var submenu=queryParams.get(\"submenu\");if(submenu)if(submenu==\"history\"||submenu==\"visits\")this.setState({currentMenu:\"/\"+submenu});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,photoTableHeader=_this$state.photoTableHeader,photoList=_this$state.photoList,meta=_this$state.meta,currentData=_this$state.currentData,currentMenu=_this$state.currentMenu,isAddPhotoOpen=_this$state.isAddPhotoOpen,isCompareOpen=_this$state.isCompareOpen,compareList=_this$state.compareList,historyList=_this$state.historyList,historyTableHeader=_this$state.historyTableHeader,selectedRemark=_this$state.selectedRemark,visitList=_this$state.visitList,visitTableHeader=_this$state.visitTableHeader;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-2 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"head-label\"},t(\"Diagnosis\"))),/*#__PURE__*/React.createElement(Navigation,{activeItemId:currentMenu,onSelect:function onSelect(_ref){var itemId=_ref.itemId;return _this2.handleMenuSelection(itemId);},items:[{title:\"Photos\",itemId:\"/\"},{title:\"History\",itemId:\"/history\"},{title:\"Visits\",itemId:\"/visits\"}]})),currentMenu==\"/\"?/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 mb-4 p-0\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Photo\",onChange:this.handlePhotosearch})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-md-10 fs-15 float-right\",label:\"Add Photo\",onClick:function onClick(){return _this2.setState({isAddPhotoOpen:true});}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:photoTableHeader,queryHandler:this.handlePagination,pageMeta:meta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.setState(function(){return photoTableHeader=value;});}},photoList?photoList.map(function(item,index){var _photoTableHeader$0$e,_photoTableHeader$1$e,_photoTableHeader$2$e,_photoTableHeader$3$e,_photoTableHeader$4$e;var isCompare=item.isCompare,image=item.image,date=item.date,code=item.code,remarks=item.remarks;console.log(photoTableHeader[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$0$e=photoTableHeader[0].enabled)!==null&&_photoTableHeader$0$e!==void 0?_photoTableHeader$0$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},date)),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$1$e=photoTableHeader[1].enabled)!==null&&_photoTableHeader$1$e!==void 0?_photoTableHeader$1$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},code)),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$2$e=photoTableHeader[2].enabled)!==null&&_photoTableHeader$2$e!==void 0?_photoTableHeader$2$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},remarks)),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$3$e=photoTableHeader[3].enabled)!==null&&_photoTableHeader$3$e!==void 0?_photoTableHeader$3$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",checked:isCompare,onClick:function onClick(){if(isCompare){if(compareList.indexOf(index)!=-1)compareList.pop(index);}else compareList.push(index);photoList[index].isCompare=!isCompare;_this2.setState({compareList:compareList});console.log(_this2.state.compareList);}}))),/*#__PURE__*/React.createElement(\"td\",{className:((_photoTableHeader$4$e=photoTableHeader[4].enabled)!==null&&_photoTableHeader$4$e!==void 0?_photoTableHeader$4$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-20\",onClick:function onClick(){return _this2.setState({currentData:{image:image,remarks:remarks},isAddPhotoOpen:true});}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey\"})))));}):\"\"))),compareList.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-4 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 float-right\",label:\"Compare\",onClick:function onClick(){_this2.setState({isCompareOpen:true});}})):null):currentMenu==\"/history\"?/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-0\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search History\",onChange:this.handleHistorySearch})))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:historyTableHeader,queryHandler:this.handlePagination,pageMeta:meta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.setState(function(){return historyTableHeader=value;});}},historyList?historyList.map(function(item,index){var _historyTableHeader$,_historyTableHeader$2,_historyTableHeader$3,_historyTableHeader$4,_historyTableHeader$5;var images=item.images,date=item.date,remarks=item.remarks;console.log(historyTableHeader[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$=historyTableHeader[0].enabled)!==null&&_historyTableHeader$!==void 0?_historyTableHeader$:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},date)),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$2=historyTableHeader[1].enabled)!==null&&_historyTableHeader$2!==void 0?_historyTableHeader$2:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},remarks)),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$3=historyTableHeader[2].enabled)!==null&&_historyTableHeader$3!==void 0?_historyTableHeader$3:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},images.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.id,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$4=historyTableHeader[3].enabled)!==null&&_historyTableHeader$4!==void 0?_historyTableHeader$4:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},images.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.date,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_historyTableHeader$5=historyTableHeader[4].enabled)!==null&&_historyTableHeader$5!==void 0?_historyTableHeader$5:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-20\",onClick:function onClick(){return _this2.setState({selectedRemark:remarks,compareList:images,isCompareOpen:true});}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey\"})))));}):\"\")))):/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-0\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Visit\",onChange:this.handleVisitSearch})))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:visitTableHeader,queryHandler:this.handlePagination,pageMeta:meta,showFilterColumn:true,parentHeaderChange:function parentHeaderChange(value){return _this2.setState(function(){return visitTableHeader=value;});}},visitList?visitList.map(function(item,index){var _visitTableHeader$0$e,_visitTableHeader$1$e,_visitTableHeader$2$e,_visitTableHeader$3$e,_visitTableHeader$4$e;var images=item.images,date=item.date,remarks=item.remarks;console.log(visitTableHeader[0]);return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$0$e=visitTableHeader[0].enabled)!==null&&_visitTableHeader$0$e!==void 0?_visitTableHeader$0$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},date)),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$1$e=visitTableHeader[1].enabled)!==null&&_visitTableHeader$1$e!==void 0?_visitTableHeader$1$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},remarks)),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$2$e=visitTableHeader[2].enabled)!==null&&_visitTableHeader$2$e!==void 0?_visitTableHeader$2$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},images.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.id,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$3$e=visitTableHeader[3].enabled)!==null&&_visitTableHeader$3$e!==void 0?_visitTableHeader$3$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},images.map(function(image){return/*#__PURE__*/React.createElement(React.Fragment,null,image.date,\" \",/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"td\",{className:((_visitTableHeader$4$e=visitTableHeader[4].enabled)!==null&&_visitTableHeader$4$e!==void 0?_visitTableHeader$4$e:true)?\"\":\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-20\",onClick:function onClick(){return _this2.setState({selectedRemark:remarks,compareList:images,isCompareOpen:true});}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey\"})))));}):\"\"))))),/*#__PURE__*/React.createElement(NormalModal,{style:{minWidth:\"80%\"},modal:isAddPhotoOpen,handleModal:function handleModal(){return _this2.setState({isAddPhotoOpen:false});}},/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.setState({isAddPhotoOpen:false});},className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(AddPhotoPopup,{image:currentData===null||currentData===void 0?void 0:currentData.image,remarks:currentData===null||currentData===void 0?void 0:currentData.remarks})),/*#__PURE__*/React.createElement(NormalModal,{style:{minWidth:\"80%\"},modal:isCompareOpen,handleModal:function handleModal(){return _this2.setState({isCompareOpen:false});}},/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _this2.setState({isCompareOpen:false});},className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(ComparePhotoPopup,{dataList:currentMenu==\"/\"?compareList.map(function(id){return photoList[id];}):compareList,remarks:currentMenu==\"/\"?null:selectedRemark}))));}}]);return DianosisClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({},dispatch);};export var Dianosis=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(DianosisClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Details/Dianosis.js"],"names":["React","NormalButton","NormalModal","NormalSelect","InputSearch","TableWrapper","connect","bindActionCreators","closeIcon","_","AddPhotoPopup","Navigation","ComparePhotoPopup","withTranslation","DianosisClass","state","photoTableHeader","label","sortKey","enabled","photoList","id","date","code","image","remarks","isCompare","historyTableHeader","historyList","images","visitTableHeader","visitList","meta","active","currentIndex","currentMenu","compareList","selectedRemark","currentData","isAddPhotoOpen","isCompareOpen","isMounted","updateState","data","setState","handleOutsideClick","e","node","contains","target","handleClick","handlePagination","page","console","log","handlePhotosearch","event","handleHistorySearch","handleVisitSearch","handleMenuSelection","value","queryParams","URLSearchParams","window","location","search","submenu","get","t","props","itemId","title","map","item","index","indexOf","pop","push","length","minWidth","Component","mapStateToProps","mapDispatchToProps","dispatch","Dianosis"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton, NormalModal, NormalSelect } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport _ from \"lodash\";\r\nimport { AddPhotoPopup } from \"./AddPhotoPopup\";\r\nimport { Navigation } from \"react-minimal-side-navigation\";\r\nimport { ComparePhotoPopup } from \"./ComparePhotoPopup\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class DianosisClass extends React.Component {\r\n  state = {\r\n    photoTableHeader: [\r\n      { label: \"Date Taken\", sortKey: \"date\" },\r\n      { label: \"Diagnosis Code\", sortKey: \"code\", enabled: true },\r\n      { label: \"Remarks\", sortKey: \"remarks\", enabled: true },\r\n      { label: \"Compare\", sortKey: \"compare\" },\r\n      { label: \"View\", sortKey: \"view\" },\r\n    ],\r\n    photoList: [\r\n      {\r\n        id: \"1\",\r\n        date: \"2020/04/02\",\r\n        code: \"123\",\r\n        image: \"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg\",\r\n        remarks: \"test \",\r\n        isCompare: false,\r\n      },\r\n      {\r\n        id: \"2\",\r\n        date: \"2020/04/02\",\r\n        code: \"123\",\r\n        image:\r\n          \"https://i0.wp.com/post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/03/GettyImages-1092658864_hero-1024x575.jpg?w=1155&h=1528\",\r\n        remarks: \"test 2\",\r\n        isCompare: false,\r\n      },\r\n      {\r\n        id: \"3\",\r\n        date: \"2020/04/02\",\r\n        code: \"123\",\r\n        image:\r\n          \"https://media.glamour.com/photos/5a425fd3b6bcee68da9f86f8/master/pass/best-face-oil.png\",\r\n        remarks: \"test 3\",\r\n        isCompare: false,\r\n      },\r\n    ],\r\n    historyTableHeader: [\r\n      { label: \"Compare Date\", sortKey: \"date\" },\r\n      { label: \"Compare Remarks\", sortKey: \"remarks\", enabled: true },\r\n      { label: \"Diagnosis Reference\", sortKey: \"referance\", enabled: true },\r\n      { label: \"Date\", sortKey: \"dDate\" },\r\n      { label: \"View\", sortKey: \"view\" },\r\n    ],\r\n    historyList: [\r\n      {\r\n        id: \"1\",\r\n        date: \"2020/04/02\",\r\n        remarks: \"test 3\",\r\n        images: [\r\n          {\r\n            id: \"2\",\r\n            date: \"2020/04/02\",\r\n            code: \"123\",\r\n            image:\r\n              \"https://i0.wp.com/post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/03/GettyImages-1092658864_hero-1024x575.jpg?w=1155&h=1528\",\r\n            remarks: \"test 2\",\r\n            isCompare: false,\r\n          },\r\n          {\r\n            id: \"3\",\r\n            date: \"2020/04/02\",\r\n            code: \"123\",\r\n            image:\r\n              \"https://media.glamour.com/photos/5a425fd3b6bcee68da9f86f8/master/pass/best-face-oil.png\",\r\n            remarks: \"test 3\",\r\n            isCompare: false,\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    visitTableHeader: [\r\n      { label: \"Date\", sortKey: \"date\" },\r\n      { label: \"PDPA\", sortKey: \"pdpa\", enabled: true },\r\n      {\r\n        label: \"Questionairre / Consultation\",\r\n        sortKey: \"consultation\",\r\n        enabled: true,\r\n      },\r\n      { label: \"Diagnosis\", sortKey: \"diagnosis\" },\r\n      { label: \"Consent Form\", sortKey: \"consent\" },\r\n      { label: \"Treatment Done\", sortKey: \"treatments\" },\r\n      { label: \"Sales\", sortKey: \"sales\" },\r\n    ],\r\n    visitList: [],\r\n    meta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n    currentMenu: \"/\",\r\n    compareList: [],\r\n    selectedRemark: null,\r\n    currentData: null,\r\n    isAddPhotoOpen: false,\r\n    isCompareOpen: false,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const submenu = queryParams.get(\"submenu\");\r\n    if (submenu)\r\n      if (submenu == \"history\" || submenu == \"visits\")\r\n        this.setState({ currentMenu: \"/\" + submenu });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  handlePagination = page => {\r\n    console.log(page, \"dsfsdfsdfsdf\");\r\n  };\r\n\r\n  handlePhotosearch = event => {};\r\n  handleHistorySearch = event => {};\r\n  handleVisitSearch = event => {};\r\n\r\n  handleMenuSelection = value => {\r\n    this.setState({\r\n      currentMenu: value,\r\n      selectedRemark: null,\r\n      compareList: [],\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      photoTableHeader,\r\n      photoList,\r\n      meta,\r\n      currentData,\r\n      currentMenu,\r\n      isAddPhotoOpen,\r\n      isCompareOpen,\r\n      compareList,\r\n      historyList,\r\n      historyTableHeader,\r\n      selectedRemark,\r\n      visitList,\r\n      visitTableHeader,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mt-4\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 col-lg-2 mb-4\">\r\n              <div className=\"col-md-12 mb-4\">\r\n                <h3 className=\"head-label\">{t(\"Diagnosis\")}</h3>\r\n              </div>\r\n              <Navigation\r\n                activeItemId={currentMenu}\r\n                onSelect={({ itemId }) => this.handleMenuSelection(itemId)}\r\n                items={[\r\n                  {\r\n                    title: \"Photos\",\r\n                    itemId: \"/\",\r\n                  },\r\n                  {\r\n                    title: \"History\",\r\n                    itemId: \"/history\",\r\n                  },\r\n                  {\r\n                    title: \"Visits\",\r\n                    itemId: \"/visits\",\r\n                  },\r\n                ]}\r\n              />\r\n            </div>\r\n            {currentMenu == \"/\" ? (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"col-md-12 mb-4\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-12 col-md-6 mb-4 p-0\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search Photo\"\r\n                        onChange={this.handlePhotosearch}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-sm-12 col-md-6 p-0\">\r\n                      <NormalButton\r\n                        mainbg={true}\r\n                        className=\"col-md-10 fs-15 float-right\"\r\n                        label=\"Add Photo\"\r\n                        onClick={() => this.setState({ isAddPhotoOpen: true })}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"table-responsive\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={photoTableHeader}\r\n                      queryHandler={this.handlePagination}\r\n                      pageMeta={meta}\r\n                      showFilterColumn={true}\r\n                      parentHeaderChange={value =>\r\n                        this.setState(() => (photoTableHeader = value))\r\n                      }\r\n                    >\r\n                      {photoList\r\n                        ? photoList.map((item, index) => {\r\n                            let { isCompare, image, date, code, remarks } =\r\n                              item;\r\n                            console.log(photoTableHeader[0]);\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[0].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {date}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[1].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {code}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[2].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {remarks}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[3].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={isCompare}\r\n                                      onClick={() => {\r\n                                        if (isCompare) {\r\n                                          if (compareList.indexOf(index) != -1)\r\n                                            compareList.pop(index);\r\n                                        } else compareList.push(index);\r\n                                        photoList[index].isCompare = !isCompare;\r\n                                        this.setState({ compareList });\r\n                                        console.log(this.state.compareList);\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    photoTableHeader[4].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div\r\n                                      className=\"d-flex align-items-center fs-20\"\r\n                                      onClick={() =>\r\n                                        this.setState({\r\n                                          currentData: { image, remarks },\r\n                                          isAddPhotoOpen: true,\r\n                                        })\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-eye-grey\"></span>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        : \"\"}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n                {compareList.length > 0 ? (\r\n                  <div className=\"w-100 col-4 p-0\">\r\n                    <NormalButton\r\n                      mainbg={true}\r\n                      className=\"col-12 fs-15 float-right\"\r\n                      label=\"Compare\"\r\n                      onClick={() => {\r\n                        this.setState({ isCompareOpen: true });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            ) : currentMenu == \"/history\" ? (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"col-md-12 mb-4\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 p-0\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search History\"\r\n                        onChange={this.handleHistorySearch}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"table-responsive\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={historyTableHeader}\r\n                      queryHandler={this.handlePagination}\r\n                      pageMeta={meta}\r\n                      showFilterColumn={true}\r\n                      parentHeaderChange={value =>\r\n                        this.setState(() => (historyTableHeader = value))\r\n                      }\r\n                    >\r\n                      {historyList\r\n                        ? historyList.map((item, index) => {\r\n                            let { images, date, remarks } = item;\r\n                            console.log(historyTableHeader[0]);\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[0].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {date}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[1].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {remarks}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[2].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {images.map(image => (\r\n                                      <>\r\n                                        {image.id} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[3].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {images.map(image => (\r\n                                      <>\r\n                                        {image.date} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    historyTableHeader[4].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div\r\n                                      className=\"d-flex align-items-center fs-20\"\r\n                                      onClick={() =>\r\n                                        this.setState({\r\n                                          selectedRemark: remarks,\r\n                                          compareList: images,\r\n                                          isCompareOpen: true,\r\n                                        })\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-eye-grey\"></span>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        : \"\"}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"col-md-12 mb-4\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 p-0\">\r\n                      <InputSearch\r\n                        className=\"\"\r\n                        placeholder=\"Search Visit\"\r\n                        onChange={this.handleVisitSearch}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"table-responsive\">\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={visitTableHeader}\r\n                      queryHandler={this.handlePagination}\r\n                      pageMeta={meta}\r\n                      showFilterColumn={true}\r\n                      parentHeaderChange={value =>\r\n                        this.setState(() => (visitTableHeader = value))\r\n                      }\r\n                    >\r\n                      {visitList\r\n                        ? visitList.map((item, index) => {\r\n                            let { images, date, remarks } = item;\r\n                            console.log(visitTableHeader[0]);\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[0].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {date}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[1].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {remarks}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[2].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {images.map(image => (\r\n                                      <>\r\n                                        {image.id} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[3].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {images.map(image => (\r\n                                      <>\r\n                                        {image.date} <br />\r\n                                      </>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                                <td\r\n                                  className={\r\n                                    visitTableHeader[4].enabled ?? true\r\n                                      ? \"\"\r\n                                      : \"d-none\"\r\n                                  }\r\n                                >\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    <div\r\n                                      className=\"d-flex align-items-center fs-20\"\r\n                                      onClick={() =>\r\n                                        this.setState({\r\n                                          selectedRemark: remarks,\r\n                                          compareList: images,\r\n                                          isCompareOpen: true,\r\n                                        })\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-eye-grey\"></span>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        : \"\"}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <NormalModal\r\n            style={{ minWidth: \"80%\" }}\r\n            modal={isAddPhotoOpen}\r\n            handleModal={() => this.setState({ isAddPhotoOpen: false })}\r\n          >\r\n            <img\r\n              onClick={() => this.setState({ isAddPhotoOpen: false })}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <AddPhotoPopup\r\n              image={currentData?.image}\r\n              remarks={currentData?.remarks}\r\n            />\r\n          </NormalModal>\r\n          <NormalModal\r\n            style={{ minWidth: \"80%\" }}\r\n            modal={isCompareOpen}\r\n            handleModal={() => this.setState({ isCompareOpen: false })}\r\n          >\r\n            <img\r\n              onClick={() => this.setState({ isCompareOpen: false })}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <ComparePhotoPopup\r\n              dataList={\r\n                currentMenu == \"/\"\r\n                  ? compareList.map(id => photoList[id])\r\n                  : compareList\r\n              }\r\n              remarks={currentMenu == \"/\" ? null : selectedRemark}\r\n            />\r\n          </NormalModal>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({}, dispatch);\r\n};\r\n\r\nexport const Dianosis = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(DianosisClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}