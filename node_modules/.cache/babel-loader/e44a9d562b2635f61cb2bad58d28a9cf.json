{"ast":null,"code":"/**\r\n * DevExtreme (ui/map/provider.dynamic.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _promise = _interopRequireDefault(require(\"../../core/polyfills/promise\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _provider = _interopRequireDefault(require(\"./provider\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar abstract = _provider.default.abstract;\n\nvar DynamicProvider = _provider.default.inherit({\n  _geocodeLocation: function (location) {\n    return new _promise.default(function (resolve) {\n      var cache = this._geocodedLocations;\n      var cachedLocation = cache[location];\n\n      if (cachedLocation) {\n        resolve(cachedLocation);\n      } else {\n        this._geocodeLocationImpl(location).then(function (geocodedLocation) {\n          cache[location] = geocodedLocation;\n          resolve(geocodedLocation);\n        });\n      }\n    }.bind(this));\n  },\n  _renderImpl: function () {\n    return this._load().then(function () {\n      return this._init();\n    }.bind(this)).then(function () {\n      return _promise.default.all([this.updateMapType(), this._areBoundsSet() ? this.updateBounds() : this.updateCenter()]);\n    }.bind(this)).then(function () {\n      this._attachHandlers();\n\n      return new _promise.default(function (resolve) {\n        var timeout = setTimeout(function () {\n          clearTimeout(timeout);\n          resolve();\n        });\n      });\n    }.bind(this));\n  },\n  _load: function () {\n    if (!this._mapsLoader) {\n      this._mapsLoader = this._loadImpl();\n    }\n\n    this._markers = [];\n    this._routes = [];\n    return this._mapsLoader;\n  },\n  _loadImpl: abstract,\n  _init: abstract,\n  _attachHandlers: abstract,\n  addMarkers: function (options) {\n    return _promise.default.all((0, _iterator.map)(options, function (options) {\n      return this._addMarker(options);\n    }.bind(this))).then(function (markerObjects) {\n      this._fitBounds();\n\n      return [false, (0, _iterator.map)(markerObjects, function (markerObject) {\n        return markerObject.marker;\n      })];\n    }.bind(this));\n  },\n  _addMarker: function (options) {\n    return this._renderMarker(options).then(function (markerObject) {\n      this._markers.push((0, _extend.extend)({\n        options: options\n      }, markerObject));\n\n      this._fireMarkerAddedAction({\n        options: options,\n        originalMarker: markerObject.marker\n      });\n\n      return markerObject;\n    }.bind(this));\n  },\n  _renderMarker: abstract,\n  removeMarkers: function (markersOptionsToRemove) {\n    var that = this;\n    (0, _iterator.each)(markersOptionsToRemove, function (_, markerOptionToRemove) {\n      that._removeMarker(markerOptionToRemove);\n    });\n    return _promise.default.resolve();\n  },\n  _removeMarker: function (markersOptionToRemove) {\n    var that = this;\n    (0, _iterator.each)(this._markers, function (markerIndex, markerObject) {\n      if (markerObject.options !== markersOptionToRemove) {\n        return true;\n      }\n\n      that._destroyMarker(markerObject);\n\n      that._markers.splice(markerIndex, 1);\n\n      that._fireMarkerRemovedAction({\n        options: markerObject.options\n      });\n\n      return false;\n    });\n  },\n  _destroyMarker: abstract,\n  _clearMarkers: function () {\n    while (this._markers.length > 0) {\n      this._removeMarker(this._markers[0].options);\n    }\n  },\n  addRoutes: function (options) {\n    return _promise.default.all((0, _iterator.map)(options, function (options) {\n      return this._addRoute(options);\n    }.bind(this))).then(function (routeObjects) {\n      this._fitBounds();\n\n      return [false, (0, _iterator.map)(routeObjects, function (routeObject) {\n        return routeObject.instance;\n      })];\n    }.bind(this));\n  },\n  _addRoute: function (options) {\n    return this._renderRoute(options).then(function (routeObject) {\n      this._routes.push((0, _extend.extend)({\n        options: options\n      }, routeObject));\n\n      this._fireRouteAddedAction({\n        options: options,\n        originalRoute: routeObject.instance\n      });\n\n      return routeObject;\n    }.bind(this));\n  },\n  _renderRoute: abstract,\n  removeRoutes: function (options) {\n    var that = this;\n    (0, _iterator.each)(options, function (routeIndex, options) {\n      that._removeRoute(options);\n    });\n    return _promise.default.resolve();\n  },\n  _removeRoute: function (options) {\n    var that = this;\n    (0, _iterator.each)(this._routes, function (routeIndex, routeObject) {\n      if (routeObject.options !== options) {\n        return true;\n      }\n\n      that._destroyRoute(routeObject);\n\n      that._routes.splice(routeIndex, 1);\n\n      that._fireRouteRemovedAction({\n        options: options\n      });\n\n      return false;\n    });\n  },\n  _destroyRoute: abstract,\n  _clearRoutes: function () {\n    while (this._routes.length > 0) {\n      this._removeRoute(this._routes[0].options);\n    }\n  },\n  adjustViewport: function () {\n    return this._fitBounds();\n  },\n  isEventsCanceled: function () {\n    return true;\n  },\n  _fitBounds: abstract,\n  _updateBounds: function () {\n    var that = this;\n\n    this._clearBounds();\n\n    if (!this._option(\"autoAdjust\")) {\n      return;\n    }\n\n    (0, _iterator.each)(this._markers, function (_, markerObject) {\n      that._extendBounds(markerObject.location);\n    });\n    (0, _iterator.each)(this._routes, function (_, routeObject) {\n      routeObject.northEast && that._extendBounds(routeObject.northEast);\n      routeObject.southWest && that._extendBounds(routeObject.southWest);\n    });\n  },\n  _clearBounds: function () {\n    this._bounds = null;\n  },\n  _extendBounds: abstract\n});\n\nvar _default = DynamicProvider;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/map/provider.dynamic.js"],"names":["exports","default","_promise","_interopRequireDefault","require","_extend","_iterator","_provider","obj","__esModule","abstract","DynamicProvider","inherit","_geocodeLocation","location","resolve","cache","_geocodedLocations","cachedLocation","_geocodeLocationImpl","then","geocodedLocation","bind","_renderImpl","_load","_init","all","updateMapType","_areBoundsSet","updateBounds","updateCenter","_attachHandlers","timeout","setTimeout","clearTimeout","_mapsLoader","_loadImpl","_markers","_routes","addMarkers","options","map","_addMarker","markerObjects","_fitBounds","markerObject","marker","_renderMarker","push","extend","_fireMarkerAddedAction","originalMarker","removeMarkers","markersOptionsToRemove","that","each","_","markerOptionToRemove","_removeMarker","markersOptionToRemove","markerIndex","_destroyMarker","splice","_fireMarkerRemovedAction","_clearMarkers","length","addRoutes","_addRoute","routeObjects","routeObject","instance","_renderRoute","_fireRouteAddedAction","originalRoute","removeRoutes","routeIndex","_removeRoute","_destroyRoute","_fireRouteRemovedAction","_clearRoutes","adjustViewport","isEventsCanceled","_updateBounds","_clearBounds","_option","_extendBounds","northEast","southWest","_bounds","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/map/provider.dynamic.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _promise = _interopRequireDefault(require(\"../../core/polyfills/promise\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _provider = _interopRequireDefault(require(\"./provider\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar abstract = _provider.default.abstract;\r\nvar DynamicProvider = _provider.default.inherit({\r\n    _geocodeLocation: function(location) {\r\n        return new _promise.default(function(resolve) {\r\n            var cache = this._geocodedLocations;\r\n            var cachedLocation = cache[location];\r\n            if (cachedLocation) {\r\n                resolve(cachedLocation)\r\n            } else {\r\n                this._geocodeLocationImpl(location).then(function(geocodedLocation) {\r\n                    cache[location] = geocodedLocation;\r\n                    resolve(geocodedLocation)\r\n                })\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _renderImpl: function() {\r\n        return this._load().then(function() {\r\n            return this._init()\r\n        }.bind(this)).then(function() {\r\n            return _promise.default.all([this.updateMapType(), this._areBoundsSet() ? this.updateBounds() : this.updateCenter()])\r\n        }.bind(this)).then(function() {\r\n            this._attachHandlers();\r\n            return new _promise.default(function(resolve) {\r\n                var timeout = setTimeout(function() {\r\n                    clearTimeout(timeout);\r\n                    resolve()\r\n                })\r\n            })\r\n        }.bind(this))\r\n    },\r\n    _load: function() {\r\n        if (!this._mapsLoader) {\r\n            this._mapsLoader = this._loadImpl()\r\n        }\r\n        this._markers = [];\r\n        this._routes = [];\r\n        return this._mapsLoader\r\n    },\r\n    _loadImpl: abstract,\r\n    _init: abstract,\r\n    _attachHandlers: abstract,\r\n    addMarkers: function(options) {\r\n        return _promise.default.all((0, _iterator.map)(options, function(options) {\r\n            return this._addMarker(options)\r\n        }.bind(this))).then(function(markerObjects) {\r\n            this._fitBounds();\r\n            return [false, (0, _iterator.map)(markerObjects, function(markerObject) {\r\n                return markerObject.marker\r\n            })]\r\n        }.bind(this))\r\n    },\r\n    _addMarker: function(options) {\r\n        return this._renderMarker(options).then(function(markerObject) {\r\n            this._markers.push((0, _extend.extend)({\r\n                options: options\r\n            }, markerObject));\r\n            this._fireMarkerAddedAction({\r\n                options: options,\r\n                originalMarker: markerObject.marker\r\n            });\r\n            return markerObject\r\n        }.bind(this))\r\n    },\r\n    _renderMarker: abstract,\r\n    removeMarkers: function(markersOptionsToRemove) {\r\n        var that = this;\r\n        (0, _iterator.each)(markersOptionsToRemove, function(_, markerOptionToRemove) {\r\n            that._removeMarker(markerOptionToRemove)\r\n        });\r\n        return _promise.default.resolve()\r\n    },\r\n    _removeMarker: function(markersOptionToRemove) {\r\n        var that = this;\r\n        (0, _iterator.each)(this._markers, function(markerIndex, markerObject) {\r\n            if (markerObject.options !== markersOptionToRemove) {\r\n                return true\r\n            }\r\n            that._destroyMarker(markerObject);\r\n            that._markers.splice(markerIndex, 1);\r\n            that._fireMarkerRemovedAction({\r\n                options: markerObject.options\r\n            });\r\n            return false\r\n        })\r\n    },\r\n    _destroyMarker: abstract,\r\n    _clearMarkers: function() {\r\n        while (this._markers.length > 0) {\r\n            this._removeMarker(this._markers[0].options)\r\n        }\r\n    },\r\n    addRoutes: function(options) {\r\n        return _promise.default.all((0, _iterator.map)(options, function(options) {\r\n            return this._addRoute(options)\r\n        }.bind(this))).then(function(routeObjects) {\r\n            this._fitBounds();\r\n            return [false, (0, _iterator.map)(routeObjects, function(routeObject) {\r\n                return routeObject.instance\r\n            })]\r\n        }.bind(this))\r\n    },\r\n    _addRoute: function(options) {\r\n        return this._renderRoute(options).then(function(routeObject) {\r\n            this._routes.push((0, _extend.extend)({\r\n                options: options\r\n            }, routeObject));\r\n            this._fireRouteAddedAction({\r\n                options: options,\r\n                originalRoute: routeObject.instance\r\n            });\r\n            return routeObject\r\n        }.bind(this))\r\n    },\r\n    _renderRoute: abstract,\r\n    removeRoutes: function(options) {\r\n        var that = this;\r\n        (0, _iterator.each)(options, function(routeIndex, options) {\r\n            that._removeRoute(options)\r\n        });\r\n        return _promise.default.resolve()\r\n    },\r\n    _removeRoute: function(options) {\r\n        var that = this;\r\n        (0, _iterator.each)(this._routes, function(routeIndex, routeObject) {\r\n            if (routeObject.options !== options) {\r\n                return true\r\n            }\r\n            that._destroyRoute(routeObject);\r\n            that._routes.splice(routeIndex, 1);\r\n            that._fireRouteRemovedAction({\r\n                options: options\r\n            });\r\n            return false\r\n        })\r\n    },\r\n    _destroyRoute: abstract,\r\n    _clearRoutes: function() {\r\n        while (this._routes.length > 0) {\r\n            this._removeRoute(this._routes[0].options)\r\n        }\r\n    },\r\n    adjustViewport: function() {\r\n        return this._fitBounds()\r\n    },\r\n    isEventsCanceled: function() {\r\n        return true\r\n    },\r\n    _fitBounds: abstract,\r\n    _updateBounds: function() {\r\n        var that = this;\r\n        this._clearBounds();\r\n        if (!this._option(\"autoAdjust\")) {\r\n            return\r\n        }(0, _iterator.each)(this._markers, function(_, markerObject) {\r\n            that._extendBounds(markerObject.location)\r\n        });\r\n        (0, _iterator.each)(this._routes, function(_, routeObject) {\r\n            routeObject.northEast && that._extendBounds(routeObject.northEast);\r\n            routeObject.southWest && that._extendBounds(routeObject.southWest)\r\n        })\r\n    },\r\n    _clearBounds: function() {\r\n        this._bounds = null\r\n    },\r\n    _extendBounds: abstract\r\n});\r\nvar _default = DynamicProvider;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}