{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\Catalog\\\\prepaid.js\";\nimport React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { NormalButton, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport Brush from \"assets/images/make-up-brush.png\";\nimport filter from \"assets/images/filter.png\";\nimport CartImg from \"assets/images/shopping-cart.png\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { Category, Dept, ServicesItem, ItemDetail } from \"./services/index\";\nexport class PrepaidClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productCard: [{\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }, {\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }, {\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: false\n      }, {\n        stock: false,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }, {\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }, {\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }, {\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }, {\n        stock: true,\n        label: \"Makeup brush\",\n        img: Brush,\n        cost: \"$ 4\",\n        combo: true\n      }],\n      activeTab: \"category\",\n      selectedCategoryId: \"\",\n      selectedServicesId: \"\",\n      selectedDeptId: 196,\n      active: false,\n      currentValue: 0,\n      navLinks: [{\n        to: \"/admin/catalog\",\n        label: \"Retails Products\"\n      }, {\n        to: \"/admin/catalog\",\n        label: \"Salon Products\"\n      }, {\n        to: \"/admin/catalog\",\n        label: \"Services\"\n      }, {\n        to: \"/admin/catalog\",\n        label: \"Courses\"\n      }],\n      page: 1,\n      formFields: {\n        search: \"\"\n      },\n      rangeId: \"\",\n      rangeName: \"\",\n      rangeOption: [],\n      menuId: \"\",\n      menuOption: []\n    };\n\n    this.componentDidMount = () => {\n      let {\n        productCard\n      } = this.state; //this.getMenus();\n      // this.getServices({});\n      // this.getRange();\n    };\n\n    this.getMenus = () => {\n      let {\n        menuOption\n      } = this.state;\n      menuOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`catalogitemdept/?Item_Dept=${this.props.id}`).then(res => {\n        // activeMenu = []\n        console.log(\"sdfsdhfghjghj ress\", res);\n\n        for (let key of res.data) {\n          menuOption.push({\n            value: key.id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            seq: key.itm_seq\n          });\n        }\n\n        this.setState({\n          menuOption\n        });\n      });\n    };\n\n    this.getRange = () => {\n      let {\n        rangeOption\n      } = this.state;\n      rangeOption = [];\n      this.props.getCommonApi(`catalogitemrange?Item_Deptid=${this.state.menuId}`).then(res => {\n        // activeMenu = []\n        for (let key of res.data) {\n          rangeOption.push({\n            value: key.id,\n            label: key.itm_desc\n          });\n        }\n\n        this.setState({\n          rangeOption\n        });\n      });\n    };\n\n    this.getServices = query => {\n      let {\n        page = this.state.page,\n        search = this.state.formFields.search,\n        rangeId = this.state.rangeId\n      } = query;\n      this.props.getCommonApi(`servicestock/?Item_Deptid=${this.state.menuId}&page=${page}&Item_Rangeid=${rangeId}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            productCard: data\n          });\n        }\n      });\n    };\n\n    this.handleSelectCategory = id => {\n      this.setState({\n        activeTab: \"dept\",\n        selectedCategoryId: id\n      });\n    };\n\n    this.handleSelectDept = id => {\n      this.setState({\n        activeTab: \"ServicesItem\",\n        selectedDeptId: id\n      });\n    };\n\n    this.handleSelectServices = id => {\n      this.setState({\n        activeTab: \"ItemDetail\",\n        selectedServicesId: id\n      });\n    };\n\n    this.handleClick = key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      this.setState({\n        active: true,\n        currentValue: key\n      });\n    };\n\n    this.handleMenuChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let menuId = Object.assign({}, this.state.menuId);\n      menuId = value;\n      await this.setState({\n        menuId\n      });\n      this.getRange();\n    };\n\n    this.handleRangeChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let rangeId = Object.assign({}, this.state.rangeId);\n      let rangeName = Object.assign({}, this.state.rangeName);\n      let {\n        rangeOption\n      } = this.state;\n      rangeId = value; // rangeName = name;\n\n      for (let key of rangeOption) {\n        if (key.value == value) {\n          rangeName = key.label;\n        }\n      }\n\n      await this.setState({\n        rangeId,\n        rangeName\n      }); // this.getServices({});\n    };\n  }\n\n  render() {\n    let {\n      productCard,\n      activeTab,\n      navLinks,\n      menuId,\n      menuOption,\n      rangeOption,\n      rangeId,\n      selectedCategoryId,\n      currentValue,\n      active,\n      selectedDeptId,\n      selectedServicesId\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ServicesItem, {\n      id: this.props.id,\n      menuId: menuId,\n      rangeId: rangeId,\n      handleSelectServices: this.handleSelectServices,\n      api: this.props.api,\n      search: this.props.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }\n    }), activeTab === \"ItemDetail\" ? /*#__PURE__*/React.createElement(ItemDetail, {\n      id: menuId,\n      rangeId: rangeId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }) : \"\");\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  customerDetail: state.appointment.customerDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    // getCustomer,\n    getCommonApi\n  }, dispatch);\n};\n\nexport const Prepaid = connect(mapStateToProps, mapDispatchToProps)(PrepaidClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Catalog/prepaid.js"],"names":["React","Component","NavLink","NormalButton","NormalSelect","InputSearch","TableWrapper","Brush","filter","CartImg","connect","bindActionCreators","getCommonApi","Category","Dept","ServicesItem","ItemDetail","PrepaidClass","state","productCard","stock","label","img","cost","combo","activeTab","selectedCategoryId","selectedServicesId","selectedDeptId","active","currentValue","navLinks","to","page","formFields","search","rangeId","rangeName","rangeOption","menuId","menuOption","componentDidMount","getMenus","console","log","props","id","then","res","key","data","push","value","itm_desc","code","itm_code","seq","itm_seq","setState","getRange","getServices","query","status","handleSelectCategory","handleSelectDept","handleSelectServices","handleClick","handleMenuChange","target","name","Object","assign","handleRangeChange","render","api","mapStateToProps","customerDetail","appointment","mapDispatchToProps","dispatch","Prepaid"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport Brush from \"assets/images/make-up-brush.png\";\r\nimport filter from \"assets/images/filter.png\";\r\nimport CartImg from \"assets/images/shopping-cart.png\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport { Category, Dept, ServicesItem, ItemDetail } from \"./services/index\";\r\n\r\nexport class PrepaidClass extends Component {\r\n  state = {\r\n    productCard: [\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: false,\r\n      },\r\n      {\r\n        stock: false,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n      {\r\n        stock: true,\r\n        label: \"Makeup brush\",\r\n        img: Brush,\r\n        cost: \"$ 4\",\r\n        combo: true,\r\n      },\r\n    ],\r\n    activeTab: \"category\",\r\n    selectedCategoryId: \"\",\r\n    selectedServicesId: \"\",\r\n    selectedDeptId: 196,\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Retails Products\",\r\n      },\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Salon Products\",\r\n      },\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Services\",\r\n      },\r\n      {\r\n        to: \"/admin/catalog\",\r\n        label: \"Courses\",\r\n      },\r\n    ],\r\n    page: 1,\r\n    formFields: {\r\n      search: \"\",\r\n    },\r\n    rangeId: \"\",\r\n    rangeName: \"\",\r\n    rangeOption: [],\r\n    menuId: \"\",\r\n    menuOption: [],\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    let { productCard } = this.state;\r\n    //this.getMenus();\r\n    // this.getServices({});\r\n    // this.getRange();\r\n  };\r\n\r\n  getMenus = () => {\r\n    let { menuOption } = this.state;\r\n    menuOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(`catalogitemdept/?Item_Dept=${this.props.id}`)\r\n      .then(res => {\r\n        // activeMenu = []\r\n        console.log(\"sdfsdhfghjghj ress\", res);\r\n        for (let key of res.data) {\r\n          menuOption.push({\r\n            value: key.id,\r\n            label: key.itm_desc,\r\n            code: key.itm_code,\r\n            seq: key.itm_seq,\r\n          });\r\n        }\r\n        this.setState({ menuOption });\r\n      });\r\n  };\r\n\r\n  getRange = () => {\r\n    let { rangeOption } = this.state;\r\n    rangeOption = [];\r\n    this.props\r\n      .getCommonApi(`catalogitemrange?Item_Deptid=${this.state.menuId}`)\r\n      .then(res => {\r\n        // activeMenu = []\r\n        for (let key of res.data) {\r\n          rangeOption.push({ value: key.id, label: key.itm_desc });\r\n        }\r\n        this.setState({ rangeOption });\r\n      });\r\n  };\r\n\r\n  getServices = query => {\r\n    let {\r\n      page = this.state.page,\r\n      search = this.state.formFields.search,\r\n      rangeId = this.state.rangeId,\r\n    } = query;\r\n    this.props\r\n      .getCommonApi(\r\n        `servicestock/?Item_Deptid=${this.state.menuId}&page=${page}&Item_Rangeid=${rangeId}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          this.setState({ productCard: data });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSelectCategory = id => {\r\n    this.setState({ activeTab: \"dept\", selectedCategoryId: id });\r\n  };\r\n\r\n  handleSelectDept = id => {\r\n    this.setState({ activeTab: \"ServicesItem\", selectedDeptId: id });\r\n  };\r\n\r\n  handleSelectServices = id => {\r\n    this.setState({ activeTab: \"ItemDetail\", selectedServicesId: id });\r\n  };\r\n\r\n  handleClick = key => {\r\n    let { active, currentValue } = this.state;\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key,\r\n    });\r\n  };\r\n\r\n  handleMenuChange = async ({ target: { value, name } }) => {\r\n    let menuId = Object.assign({}, this.state.menuId);\r\n    menuId = value;\r\n    await this.setState({ menuId });\r\n    this.getRange();\r\n  };\r\n\r\n  handleRangeChange = async ({ target: { value, name } }) => {\r\n    let rangeId = Object.assign({}, this.state.rangeId);\r\n    let rangeName = Object.assign({}, this.state.rangeName);\r\n    let { rangeOption } = this.state;\r\n    rangeId = value;\r\n    // rangeName = name;\r\n\r\n    for (let key of rangeOption) {\r\n      if (key.value == value) {\r\n        rangeName = key.label;\r\n      }\r\n    }\r\n\r\n    await this.setState({\r\n      rangeId,\r\n      rangeName,\r\n    });\r\n    // this.getServices({});\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      productCard,\r\n      activeTab,\r\n      navLinks,\r\n      menuId,\r\n      menuOption,\r\n      rangeOption,\r\n      rangeId,\r\n      selectedCategoryId,\r\n      currentValue,\r\n      active,\r\n      selectedDeptId,\r\n      selectedServicesId,\r\n    } = this.state;\r\n    return (\r\n      <>\r\n        <ServicesItem\r\n          id={this.props.id}\r\n          menuId={menuId}\r\n          rangeId={rangeId}\r\n          handleSelectServices={this.handleSelectServices}\r\n          api={this.props.api}\r\n          search={this.props.search}\r\n        ></ServicesItem>\r\n\r\n        {activeTab === \"ItemDetail\" ? (\r\n          <ItemDetail id={menuId} rangeId={rangeId}></ItemDetail>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  customerDetail: state.appointment.customerDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const Prepaid = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PrepaidClass);\r\n"]},"metadata":{},"sourceType":"module"}