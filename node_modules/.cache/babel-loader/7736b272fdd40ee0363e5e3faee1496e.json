{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi}from\"redux/actions/common\";import user from\"assets/images/user-image.png\";import{getTokenDetails}from\"redux/actions/auth\";export var NewStaffStatsClass=/*#__PURE__*/function(_Component){_inherits(NewStaffStatsClass,_Component);var _super=_createSuper(NewStaffStatsClass);function NewStaffStatsClass(){var _this;_classCallCheck(this,NewStaffStatsClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={staffList:[],limit:8,page:1,meta:{}};_this.componentDidMount=function(){_this.getStafflist({});};_this.getStafflist=function(data){var _this$state=_this.state,page=_this$state.page,limit=_this$state.limit;_this.props.getCommonApi(\"attendancestaff/?page=\".concat(page,\"&limit=\").concat(limit)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var status,data,staffList,meta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=key.status,data=key.data;console.log(key,\"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");staffList=_this.state.staffList;meta=_this.state.meta;staffList=[];meta={};// if (data && data.length > 0) {\n//   staffList = data;\n//   meta = data.meta.pagination;\n// }\nconsole.log(meta,\"metalist\");_this.setState({staffList:staffList,meta:meta});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var page;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=_this.state.page;page=page+1;_context2.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var page;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:page=_this.state.page;page=page-1;_context3.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStafflist();}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}_createClass(NewStaffStatsClass,[{key:\"render\",value:function render(){var _this$state2=this.state,staffList=_this$state2.staffList,meta=_this$state2.meta;var tokenDetail=this.props.tokenDetail;return/*#__PURE__*/React.createElement(\"div\",{className:\"staffStats pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row pb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail col-md-7 fs-18 fw-500\"},\"Hello \",tokenDetail.username,\",\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row pb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail col-md-7 fs-18 fw-500\"},\"Staffs in attendance today\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start align-items-center forward-button cursor-pointer col fw-700\",onClick:this.handleBack},meta&&Number(meta.current_page)!==1?/*#__PURE__*/React.createElement(\"svg\",{width:\"10\",height:\"25\",viewBox:\"0 0 6 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M5 0.5L1 5L5 9.5\",stroke:\"#888888\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})):null),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},staffList.dataList&&staffList.dataList.length>0?staffList.dataList.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-card card\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-img\"},/*#__PURE__*/React.createElement(\"img\",{src:item.emp_pic?item.emp_pic:user,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-center pt-1\"},/*#__PURE__*/React.createElement(\"p\",{className:\"customer-label\"},item.emp_name)));}):/*#__PURE__*/React.createElement(\"div\",{className:\"mx-1 staff-list cursor-pointer\"},\"No staffs in attendance\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end align-items-center back-button cursor-pointer col fw-700\",onClick:this.handleNext},meta&&Number(meta.current_page)!==Number(meta.total_pages)?/*#__PURE__*/React.createElement(\"svg\",{width:\"10\",height:\"25\",viewBox:\"0 0 6 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M0.5 9.5L4.5 5L0.5 0.5\",stroke:\"#888888\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})):null)));}}]);return NewStaffStatsClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,getTokenDetails:getTokenDetails},dispatch);};export var NewStaffStats=connect(mapStateToProps,mapDispatchToProps)(NewStaffStatsClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Dashboard/Statistic/AdminStats/NewDashboard/NewStaffStats/index.js"],"names":["React","Component","connect","bindActionCreators","getCommonApi","commonCreateApi","user","getTokenDetails","NewStaffStatsClass","state","staffList","limit","page","meta","componentDidMount","getStafflist","data","props","then","key","status","console","log","setState","handleNext","handleBack","tokenDetail","username","Number","current_page","dataList","length","map","item","index","emp_pic","emp_name","total_pages","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","NewStaffStats"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport user from \"assets/images/user-image.png\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\n\r\nexport class NewStaffStatsClass extends Component {\r\n  state = { staffList: [], limit: 8, page: 1, meta: {} };\r\n  componentDidMount = () => {\r\n    this.getStafflist({});\r\n  };\r\n  getStafflist = data => {\r\n    let { page, limit } = this.state;\r\n    this.props\r\n      .getCommonApi(`attendancestaff/?page=${page}&limit=${limit}`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\r\n        let { staffList } = this.state;\r\n        let { meta } = this.state;\r\n        staffList = [];\r\n        meta = {};\r\n        // if (data && data.length > 0) {\r\n        //   staffList = data;\r\n        //   meta = data.meta.pagination;\r\n        // }\r\n        console.log(meta, \"metalist\");\r\n        this.setState({\r\n          staffList,\r\n          meta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { staffList, meta } = this.state;\r\n    let { tokenDetail } = this.props;\r\n    return (\r\n      <div className=\"staffStats pb-5\">\r\n        <div className=\"row pb-4\">\r\n          <div className=\"color-detail col-md-7 fs-18 fw-500\">\r\n            Hello {tokenDetail.username},\r\n          </div>\r\n        </div>\r\n        <div className=\"row pb-4\">\r\n          <div className=\"color-detail col-md-7 fs-18 fw-500\">\r\n            Staffs in attendance today\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex\">\r\n          <div\r\n            className=\"d-flex justify-content-start align-items-center forward-button cursor-pointer col fw-700\"\r\n            onClick={this.handleBack}\r\n          >\r\n            {meta && Number(meta.current_page) !== 1 ? (\r\n              <svg\r\n                width=\"10\"\r\n                height=\"25\"\r\n                viewBox=\"0 0 6 10\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M5 0.5L1 5L5 9.5\"\r\n                  stroke=\"#888888\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                />\r\n              </svg>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div className=\"d-flex\">\r\n            {staffList.dataList && staffList.dataList.length > 0 ? (\r\n              staffList.dataList.map((item, index) => {\r\n                return (\r\n                  <div className={`d-flex product-card card`} key={index}>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                      <div className=\"cart-img\">\r\n                        <img src={item.emp_pic ? item.emp_pic : user} alt=\"\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-wrap justify-content-center pt-1\">\r\n                      <p className=\"customer-label\">{item.emp_name}</p>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <div className=\"mx-1 staff-list cursor-pointer\">\r\n                No staffs in attendance\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div\r\n            className=\"d-flex justify-content-end align-items-center back-button cursor-pointer col fw-700\"\r\n            onClick={this.handleNext}\r\n          >\r\n            {meta && Number(meta.current_page) !== Number(meta.total_pages) ? (\r\n              <svg\r\n                width=\"10\"\r\n                height=\"25\"\r\n                viewBox=\"0 0 6 10\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M0.5 9.5L4.5 5L0.5 0.5\"\r\n                  stroke=\"#888888\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                />\r\n              </svg>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      getTokenDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const NewStaffStats = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(NewStaffStatsClass);\r\n"]},"metadata":{},"sourceType":"module"}