{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";export var BigCalander=/*#__PURE__*/function(_Component){_inherits(BigCalander,_Component);var _super=_createSuper(BigCalander);function BigCalander(){var _this;_classCallCheck(this,BigCalander);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedMonth:\"\"};return _this;}_createClass(BigCalander,[{key:\"componentWillMount\",value:function componentWillMount(){var date=new Date();var month=(\"0\"+(date.getMonth()+1)).slice(-2);var year=date.getFullYear();this.setState({selectedMonth:\"\".concat(year,\"-\").concat(month)});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _loop=function _loop(staffIndex){var staff=_this2.props.data[staffIndex];var _loop2=function _loop2(index){var _document$getElementB;var anchor=(_document$getElementB=document.getElementById(staff.emp_code+index))===null||_document$getElementB===void 0?void 0:_document$getElementB.parentElement;if(anchor){anchor.onclick=function(){var _this2$props$disabled;if((_this2$props$disabled=_this2.props.disabled)!==null&&_this2$props$disabled!==void 0?_this2$props$disabled:false)return;document.getElementById(staff.emp_code+index).classList.toggle(\"show\");};}};for(var index=0;index<=(staff===null||staff===void 0?void 0:(_staff$schedules=staff.schedules)===null||_staff$schedules===void 0?void 0:_staff$schedules.length);index++){var _staff$schedules;_loop2(index);}};for(var staffIndex=0;staffIndex<this.props.data.length;staffIndex++){_loop(staffIndex);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this3=this;var tableData=document.getElementsByTagName(\"TD\");for(var i=0;i<tableData.length;i++){var td=tableData[i];td.onclick=null;}var _loop3=function _loop3(staffIndex){var staff=_this3.props.data[staffIndex];var _loop4=function _loop4(index){var _document$getElementB2;var anchor=(_document$getElementB2=document.getElementById(staff.name+index))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.parentElement;if(anchor){anchor.onclick=function(){var _this3$props$disabled;if((_this3$props$disabled=_this3.props.disabled)!==null&&_this3$props$disabled!==void 0?_this3$props$disabled:false)return;document.getElementById(staff.name+index).classList.toggle(\"show\");};}};for(var index=0;index<=staff.schedules.length;index++){_loop4(index);}};for(var staffIndex=0;staffIndex<this.props.data.length;staffIndex++){_loop3(staffIndex);}}},{key:\"render\",value:function render(){var _this$props=this.props,_this$props$date=_this$props.date,date=_this$props$date===void 0?this.state.selectedMonth:_this$props$date,_this$props$data=_this$props.data,data=_this$props$data===void 0?[{emp_name:\"TestTherapist\",emp_code:\"EMP100001\",schedules:[{id:7971,date:\"2021-06-01T00:00:00\",itm_type:\"100010\"},{id:7971,date:\"2021-06-02T00:00:00\",itm_type:\"100010\"}]}]:_this$props$data,options=_this$props.options,onChange=_this$props.onChange,_this$props$disabled=_this$props.disabled,disabled=_this$props$disabled===void 0?false:_this$props$disabled;console.log(data);var d=new Date(date);var lastDayDate=new Date(d.getFullYear(),d.getMonth()+1,0).getDate();var handOnOptionClick=function handOnOptionClick(staffIndex,index,value){if(disabled)return;data[staffIndex].schedules[index].itm_type=value;onChange(data);};var headers=[];for(var index=1;index<=lastDayDate;index++){headers.push(/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},index));}var rows=[];var _loop5=function _loop5(staffIndex){var staff=data[staffIndex];rows.push(/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"table-header-color text-dark\"},staff.emp_name),staff.schedules.map(function(data,index){return/*#__PURE__*/React.createElement(\"td\",{style:{backgroundColor:options.find(function(val){return val.value==data.itm_type;})!=null?options.find(function(val){return val.value==data.itm_type;}).color:\"white\"}},options.find(function(val){return val.value==data.itm_type;})!=null?options.find(function(val){return val.value==data.itm_type;}).shortDesc:\"N/A\",/*#__PURE__*/React.createElement(\"div\",{id:staff.emp_code+index,class:\"dropdown-content\"},/*#__PURE__*/React.createElement(\"label\",{onClick:function onClick(){return handOnOptionClick(staffIndex,index,\"e\");}},\"empty\"),/*#__PURE__*/React.createElement(\"label\",{onClick:function onClick(){return handOnOptionClick(staffIndex,index,\"o\");}},\"option 1\"),/*#__PURE__*/React.createElement(\"label\",{onClick:function onClick(){return handOnOptionClick(staffIndex,index,\"w\");}},\"option 2\")));})));};for(var staffIndex=0;staffIndex<data.length;staffIndex++){_loop5(staffIndex);}return/*#__PURE__*/React.createElement(\"div\",{class:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"table-header-color\"},/*#__PURE__*/React.createElement(\"th\",{className:\"text-dark\"},\"Staff\"),headers)),/*#__PURE__*/React.createElement(\"tbody\",null,rows)));}}]);return BigCalander;}(Component);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/StaffSchedule/BigCalander/index.js"],"names":["React","Component","BigCalander","state","selectedMonth","date","Date","month","getMonth","slice","year","getFullYear","setState","staffIndex","staff","props","data","index","anchor","document","getElementById","emp_code","parentElement","onclick","disabled","classList","toggle","schedules","length","tableData","getElementsByTagName","i","td","name","emp_name","id","itm_type","options","onChange","console","log","d","lastDayDate","getDate","handOnOptionClick","value","headers","push","rows","map","backgroundColor","find","val","color","shortDesc"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.scss\";\n\nexport class BigCalander extends Component {\n  state = {\n    selectedMonth: \"\",\n  };\n  componentWillMount() {\n    const date = new Date();\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n    const year = date.getFullYear();\n\n    this.setState({ selectedMonth: `${year}-${month}` });\n  }\n  componentDidMount() {\n    for (\n      let staffIndex = 0;\n      staffIndex < this.props.data.length;\n      staffIndex++\n    ) {\n      let staff = this.props.data[staffIndex];\n      for (let index = 0; index <= staff?.schedules?.length; index++) {\n        let anchor = document.getElementById(\n          staff.emp_code + index\n        )?.parentElement;\n        if (anchor) {\n          anchor.onclick = () => {\n            if (this.props.disabled ?? false) return;\n            document\n              .getElementById(staff.emp_code + index)\n              .classList.toggle(\"show\");\n          };\n        }\n      }\n    }\n  }\n  componentDidUpdate() {\n    var tableData = document.getElementsByTagName(\"TD\");\n    for (var i = 0; i < tableData.length; i++) {\n      var td = tableData[i];\n      td.onclick = null;\n    }\n\n    for (\n      let staffIndex = 0;\n      staffIndex < this.props.data.length;\n      staffIndex++\n    ) {\n      let staff = this.props.data[staffIndex];\n      for (let index = 0; index <= staff.schedules.length; index++) {\n        let anchor = document.getElementById(staff.name + index)?.parentElement;\n        if (anchor) {\n          anchor.onclick = () => {\n            if (this.props.disabled ?? false) return;\n            document\n              .getElementById(staff.name + index)\n              .classList.toggle(\"show\");\n          };\n        }\n      }\n    }\n  }\n  render() {\n    let {\n      date = this.state.selectedMonth,\n      data = [\n        {\n          emp_name: \"TestTherapist\",\n          emp_code: \"EMP100001\",\n          schedules: [\n            { id: 7971, date: \"2021-06-01T00:00:00\", itm_type: \"100010\" },\n            { id: 7971, date: \"2021-06-02T00:00:00\", itm_type: \"100010\" },\n          ],\n        },\n      ],\n      options,\n      onChange,\n      disabled = false,\n    } = this.props;\n    console.log(data);\n    let d = new Date(date);\n    let lastDayDate = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\n\n    const handOnOptionClick = (staffIndex, index, value) => {\n      if (disabled) return;\n      data[staffIndex].schedules[index].itm_type = value;\n      onChange(data);\n    };\n\n    const headers = [];\n\n    for (let index = 1; index <= lastDayDate; index++) {\n      headers.push(<th className=\"text-dark\">{index}</th>);\n    }\n    const rows = [];\n    for (let staffIndex = 0; staffIndex < data.length; staffIndex++) {\n      let staff = data[staffIndex];\n      rows.push(\n        <tr>\n          <th className=\"table-header-color text-dark\">{staff.emp_name}</th>\n          {staff.schedules.map((data, index) => (\n            <td\n              style={{\n                backgroundColor:\n                  options.find((val) => val.value == data.itm_type) != null\n                    ? options.find((val) => val.value == data.itm_type).color\n                    : \"white\",\n              }}\n            >\n              {options.find((val) => val.value == data.itm_type) != null\n                ? options.find((val) => val.value == data.itm_type).shortDesc\n                : \"N/A\"}\n              <div id={staff.emp_code + index} class=\"dropdown-content\">\n                <label\n                  onClick={() => handOnOptionClick(staffIndex, index, \"e\")}\n                >\n                  empty\n                </label>\n                <label\n                  onClick={() => handOnOptionClick(staffIndex, index, \"o\")}\n                >\n                  option 1\n                </label>\n                <label\n                  onClick={() => handOnOptionClick(staffIndex, index, \"w\")}\n                >\n                  option 2\n                </label>\n              </div>\n            </td>\n          ))}\n        </tr>\n      );\n    }\n    return (\n      <div class=\"table-responsive\">\n        <table className=\"table\">\n          <thead>\n            <tr className=\"table-header-color\">\n              <th className=\"text-dark\">Staff</th>\n              {headers}\n            </tr>\n          </thead>\n          <tbody>{rows}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}