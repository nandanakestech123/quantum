{"ast":null,"code":"import _objectSpread from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalSelect,NormalModal,NormalCheckbox,NormalDateTime,NormalDate}from\"component/common\";import{InputSearch,TableWrapper}from\"component/common\";import\"./style.scss\";import{dateFormat}from\"service/helperFunctions\";import{history}from\"helpers\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi}from\"redux/actions/common\";import{withTranslation}from\"react-i18next\";import _ from\"lodash\";import closeIcon from\"assets/images/close.png\";import{Toast}from\"service/toast\";import{CredentialConfirmation}from\"component/Admin/Cart/credentialConfirmation\";import moment from\"moment\";import Payslip from\"../Payslippdf/Payslip\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";export var PayrollMainClass=/*#__PURE__*/function(_Component){_inherits(PayrollMainClass,_Component);var _super=_createSuper(PayrollMainClass);function PayrollMainClass(){var _this;_classCallCheck(this,PayrollMainClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={page:1,limit:10,selectAll:false,headerDetails:[{label:\"\",width:\"20px\",selectAll:true,selectAllCheck:false,checkboxChange:function checkboxChange(e){return _this.handleSelectAllCheckbox(e);}},{label:\"Staff ID\"},{label:\"NRIC\"},{label:\"Staff Name\",divClass:\"\",width:\"125px\"},{label:\"Site\",divClass:\"\",width:\"120px\"},{label:\"Emp Level\"},{label:\"Basic\"},{label:\"OT\"},{label:\"Commission\"},{label:\"Others\"},{label:\"Total\"},{label:\"Status\"}],pageMeta:{},formField:{pay_month:\"\",pay_year:\"\",pay_site:\"\",pay_active:\"\",pay_EmpLevel:\"\",pay_status:\"\",searchText:\"\",fromDate:new Date()},active:false,currentIndex:-1,payStatusOptions:[{value:\"new\",label:\"New\"},{value:\"open\",label:\"Open\"},{value:\"posted\",label:\"Posted\"}],payEmpLevelOptions:[],paySiteOptions:[],payYearOptions:[],payMonthOptions:[{value:1,label:\"Jan\"},{value:2,label:\"Feb\"},{value:3,label:\"Mar\"},{value:4,label:\"Apr\"},{value:5,label:\"May\"},{value:6,label:\"Jun\"},{value:7,label:\"Jul\"},{value:8,label:\"Aug\"},{value:9,label:\"Sep\"},{value:10,label:\"Oct\"},{value:11,label:\"Nov\"},{value:12,label:\"Dec\"}],payActiveOptions:[{value:1,label:\"Active\"},{value:0,label:\"In Active\"},{value:\"\",label:\"All\"}],isLoginConfirmation:false,isAllow:false,selected:false,isPrintPdfClick:false,PayrollList:[// {\n// payrollId: \"1\",\n// EmpName: \"kaleeswaran\",\n// EmpCode: \"HS010121\",\n// nric: \"\",\n// FromDate: new Date(),\n// toDate: new Date(),\n// BasicSalary: \"60000\",\n// hourlySalHour: \"\",\n// hourlySalRate: \"\",\n// firstOverTimeRate: \"\",\n// firstOverTimeHour: \"\",\n// totOTPay: \"\",\n// totCommission: \"\",\n// totAllowance: \"\",\n// totDeduct: \"\",\n// AddPay: \"\",\n// netPay: \"\",\n// empCPFCont: \"\",\n// dateofPay: new Date(),\n// modeofPayId: \"\",\n// modeofPay: \"\",\n// secondOverTimeHour: \"\",\n// secondOverTimeRate: \"\",\n// TotAllowanceList: [\n//   { desc: \"desc\", type: 2, typeName: \"totallowtype2\", amount: 500 },\n// ],\n// TotDeductionList: [\n//   {\n//     desc: \"deducdesc\",\n//     type: 1,\n//     typeName: \"totdeductype1\",\n//     amount: 200,\n//   },\n// ],\n// AddPaymentList: [\n//   {\n//     desc: \"paydesc\",\n//     type: 3,\n//     typeName: \"paytype3\",\n//     amount: 300,\n//   },\n// ],\n// checkbox: false,\n//  },\n// {\n// payrollId: \"2\",\n// EmpName: \"rajan\",\n// EmpCode: \"HS010121\",\n// FromDate: new Date(),\n// nric: \"\",\n// toDate: new Date(),\n// BasicSalary: \"2000\",\n// hourlySalHour: \"\",\n// hourlySalRate: \"\",\n// firstOverTimeRate: \"\",\n// firstOverTimeHour: \"\",\n// totOTPay: \"\",\n// totCommission: \"\",\n// totAllowance: \"\",\n// totDeduct: \"\",\n// AddPay: \"\",\n// netPay: \"\",\n// empCPFCont: \"\",\n// dateofPay: new Date(),\n// modeofPayId: \"\",\n// modeofPay: \"\",\n// secondOverTimeHour: \"\",\n// secondOverTimeRate: \"\",\n// TotAllowanceList: [],\n// TotDeductionList: [],\n// AddPaymentList: [],\n// checkbox: false,\n//  },\n],accountHeader:{name:\"Employer name\",address:\"\",logo:\"\"}};_this.getPayrollList=function(query){var _this$state=_this.state,formField=_this$state.formField,limit=_this$state.limit;var _query$page=query.page,page=_query$page===void 0?_this.state.page:_query$page;var PayrollList=Object.assign({},_this.state.PayrollList);var pay_status=formField.pay_status,pay_EmpLevel=formField.pay_EmpLevel,pay_active=formField.pay_active,pay_site=formField.pay_site,pay_year=formField.pay_year,pay_month=formField.pay_month,fromDate=formField.fromDate,searchText=formField.searchText;_this.props.getCommonApi(\"employeesalary/?month=\".concat(pay_month?pay_month:\"\",\"&year=\").concat(pay_year?new Date(pay_year).getFullYear():0,\"&site_code=\").concat(pay_site?pay_site:\"\",\"&active=\").concat(pay_active?pay_active:\"\",\"&emplevel=\").concat(pay_EmpLevel?pay_EmpLevel:\"\",\"&status=\").concat(pay_status?pay_status:\"\",\"&page=\").concat(page,\"&limit=\").concat(limit,\"&search=\").concat(searchText?searchText:\"\")).then(function(key){var status=key.status,data=key.data;var pageMeta=_this.state.pageMeta;if(status===200){if(data){PayrollList=data.printData;pageMeta=data.pagination;}_this.setState({PayrollList:PayrollList,pageMeta:pageMeta});}else{pageMeta={};PayrollList=[];_this.setState({PayrollList:PayrollList,pageMeta:pageMeta});}});};_this.getSiteCode=function(){var paySiteOptions=_this.state.paySiteOptions;_this.props.getCommonApi(\"branchlist/\").then(function(key){var status=key.status,data=key.data;console.log(data,\"sitecodelist\");if(status===200){var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;paySiteOptions.push({value:value.id,label:value.itemsite_code// selected: false,\n});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({paySiteOptions:paySiteOptions});}});};_this.handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var formField;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formField=_this.state;formField[event.target.name]=event.target.value;_context.next=4;return _this.setState({formField:formField});case 4:_this.getPayrollList({});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handlesearch=function(event){console.log(event.target.value);var formField=_this.state.formField;formField[\"searchText\"]=event.target.value;_this.setState({formField:formField});if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.getPayrollList({});case 1:case\"end\":return _context2.stop();}}},_callee2);})),500);}_this.debouncedFn();};_this.handleLoginConfirmationDialog=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.setState(function(prevState){return{isLoginConfirmation:!prevState.isLoginConfirmation};});case 2:case\"end\":return _context3.stop();}}},_callee3);}));_this.handleOpenTrac=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.setState(function(prevState){return{isAllow:!prevState.isAllow};});case 2:_this.getPayrollList({});case 3:case\"end\":return _context4.stop();}}},_callee4);}));_this.handleauthentication=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(user,pass){var Body;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:Body={username:user,password:pass};_this.props.commonCreateApi(\"userauthorizationpopup/\",Body).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(key){var status,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:status=key.status,data=key.data;if(!(status==200)){_context5.next=5;break;}_context5.next=4;return _this.setState(function(prevState){return{isLoginConfirmation:!prevState.isLoginConfirmation};});case 4:_this.handleOpenTrac();case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref6.apply(this,arguments);};}());case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x2,_x3){return _ref5.apply(this,arguments);};}();_this.handleCheckbox=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(_ref7,item){var _ref7$target,value,name,PayrollList,PayrollListCheckbox;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_ref7$target=_ref7.target,value=_ref7$target.value,name=_ref7$target.name;PayrollList=_this.state.PayrollList;PayrollListCheckbox=PayrollList.find(function(acc){return acc.payrollId===item.payrollId;});if(!PayrollListCheckbox){_context7.next=7;break;}PayrollListCheckbox[name]=value;_context7.next=7;return _this.setState(_objectSpread(_objectSpread({},_this.state.PayrollList),{},{PayrollListCheckbox:PayrollListCheckbox}));case 7:_this.UpdateSelectAllcheckbox();case 8:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5,_x6){return _ref8.apply(this,arguments);};}();_this.UpdateSelectAllcheckbox=function(){debugger;var _this$state2=_this.state,PayrollList=_this$state2.PayrollList,headerDetails=_this$state2.headerDetails;var PayrollListfullyChecked=PayrollList.find(function(acc){return acc.checkbox===false;});if(!PayrollListfullyChecked){headerDetails[0][\"selectAllCheck\"]=true;_this.setState({selectAll:true});}if(PayrollListfullyChecked){headerDetails[0][\"selectAllCheck\"]=false;_this.setState({selectAll:false});}};_this.handleSelectAllCheckbox=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(_ref9){var _ref9$target,value,name,_this$state3,PayrollList,headerDetails,_iterator2,_step2,item;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_ref9$target=_ref9.target,value=_ref9$target.value,name=_ref9$target.name;_this$state3=_this.state,PayrollList=_this$state3.PayrollList,headerDetails=_this$state3.headerDetails;if(!PayrollList){_context8.next=26;break;}headerDetails[0][\"selectAllCheck\"]=value;_context8.next=6;return _this.setState({selectAll:value,headerDetails:headerDetails});case 6:_iterator2=_createForOfIteratorHelper(PayrollList);_context8.prev=7;_iterator2.s();case 9:if((_step2=_iterator2.n()).done){_context8.next=16;break;}item=_step2.value;item[\"checkbox\"]=value;_context8.next=14;return _this.setState(_objectSpread(_objectSpread({},_this.state.PayrollList),{},{item:item}));case 14:_context8.next=9;break;case 16:_context8.next=21;break;case 18:_context8.prev=18;_context8.t0=_context8[\"catch\"](7);_iterator2.e(_context8.t0);case 21:_context8.prev=21;_iterator2.f();return _context8.finish(21);case 24:_context8.next=26;return _this.setState({PayrollList:PayrollList});case 26:case\"end\":return _context8.stop();}}},_callee8,null,[[7,18,21,24]]);}));return function(_x7){return _ref10.apply(this,arguments);};}();_this.handlePrintPdfFormat=function(url){var formField=_this.state.formField;console.log(formField,\"payslipmain\");_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var page;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:page=_this.state.page;page=page+1;_context9.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getPayrollList({});}case 5:case\"end\":return _context9.stop();}}},_callee9);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var page;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:page=_this.state.page;page=page-1;_context10.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getPayrollList({});}case 5:case\"end\":return _context10.stop();}}},_callee10);}));_this.handlePagination=function(page){debugger;_this.getPayrollList(page);};_this.hanldePostSelected=function(){var PayrollList=_this.state.PayrollList;if(PayrollList.length>0){var PayrollListCheckbox=PayrollList.find(function(acc){return acc.checkbox===true;});if(PayrollListCheckbox){var _PayrollList=_this.state.PayrollList;var payrollIds=[];var _iterator3=_createForOfIteratorHelper(_PayrollList),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var item=_step3.value;if(item.checkbox){payrollIds.push({value:item.payrollId});}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var body={post_ids:payrollIds.map(function(e){return e.value;})};try{_this.props.commonCreateApi(\"employeesalary/postselectedlist/\",body).then(function(key){var status=key.status;if(status==200){_this.getPayrollList();}});}catch(e){console.log(e);}}else{Toast({type:\"error\",message:\"Please Select Item for update!\"});}}else{Toast({type:\"error\",message:\"No data found!\"});}};return _this;}_createClass(PayrollMainClass,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.tokenDetails.emp_payroll_setup){this.setState({isLoginConfirmation:true});}var From=new Date();var formField=this.state.formField;var firstdayMonth=new Date(From.getFullYear()-20,From.getMonth(),1);formField[\"fromDate\"]=firstdayMonth;this.setState({formField:formField});var _this$state4=this.state,payEmpLevelOptions=_this$state4.payEmpLevelOptions,payStatusOptions=_this$state4.payStatusOptions;this.props.getCommonApi(\"jobtitle/\").then(function(res){var _iterator4=_createForOfIteratorHelper(res.data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;payEmpLevelOptions.push({value:key.id,label:key.level_desc});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this2.setState({payEmpLevelOptions:payEmpLevelOptions});});this.getSiteCode();}},{key:\"render\",value:function render(){var _this3=this;var _this$state5=this.state,headerDetails=_this$state5.headerDetails,pageMeta=_this$state5.pageMeta,PayrollList=_this$state5.PayrollList,formField=_this$state5.formField,payStatusOptions=_this$state5.payStatusOptions,payEmpLevelOptions=_this$state5.payEmpLevelOptions,paySiteOptions=_this$state5.paySiteOptions,payYearOptions=_this$state5.payYearOptions,payMonthOptions=_this$state5.payMonthOptions,payActiveOptions=_this$state5.payActiveOptions,isLoginConfirmation=_this$state5.isLoginConfirmation,isAllow=_this$state5.isAllow,isPrintPdfClick=_this$state5.isPrintPdfClick,printData=_this$state5.printData,accountHeader=_this$state5.accountHeader;var pay_status=formField.pay_status,pay_EmpLevel=formField.pay_EmpLevel,pay_active=formField.pay_active,pay_site=formField.pay_site,pay_year=formField.pay_year,pay_month=formField.pay_month,fromDate=formField.fromDate,searchText=formField.searchText;var t=this.props.t;return/*#__PURE__*/React.createElement(React.Fragment,null,isAllow?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"payroll-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"label-head mb-4\"},t(\"List of Staffs\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mb-2\"},t(\"Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:false,options:payMonthOptions,value:t(pay_month),iconname:\"icon-down-key\",name:\"pay_month\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Year\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDate,{selected:pay_year,onChange:function onChange(date){return _this3.handleChange(date);},showYearPicker:true,dateFormat:\"yyyy\"// yearItemNumber={9}\n,value:pay_year,name:\"pay_year\",type:\"date\",minDate:new Date(fromDate)// minDate={new Date(fromDate)}\n,maxDate:new Date(),popperPlacement:\"bottom\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Site Code\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:false,options:paySiteOptions,value:t(pay_site),iconname:\"icon-down-key\",name:\"pay_site\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Active\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:false,options:payActiveOptions,value:t(pay_active),iconname:\"icon-down-key\",name:\"pay_active\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Employee Level\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:false,options:payEmpLevelOptions,value:t(pay_EmpLevel),iconname:\"icon-down-key\",name:\"pay_EmpLevel\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{placeholderrequired:false,options:payStatusOptions,value:t(pay_status),iconname:\"icon-down-key\",name:\"pay_status\",onChange:this.handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"payroll-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mb-2\"},/*#__PURE__*/React.createElement(InputSearch,{placeholder:\"Search staff\",value:searchText,name:\"searchText\",onChange:this.handlesearch})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2 col-12 mb-2\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:\"true\",label:\"Add New\",onClick:function onClick(){history.push(\"Payroll/add\");}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:pageMeta},PayrollList?PayrollList.map(function(dataitem,index){var payrollId=dataitem.payrollId,EmpName=dataitem.EmpName,EmpCode=dataitem.EmpCode,emp_level_id=dataitem.emp_level_id,emp_level_name=dataitem.emp_level_name,FromDate=dataitem.FromDate,toDate=dataitem.toDate,nric=dataitem.nric,BasicSalary=dataitem.BasicSalary,otsalary=dataitem.otsalary,othersalary=dataitem.othersalary,totalsalary=dataitem.totalsalary,salarystatus=dataitem.salarystatus,checkbox=dataitem.checkbox,hourlySalHour=dataitem.hourlySalHour,hourlySalRate=dataitem.hourlySalRate,firstOverTimeRate=dataitem.firstOverTimeRate,firstOverTimeHour=dataitem.firstOverTimeHour,totOTPay=dataitem.totOTPay,totCommission=dataitem.totCommission,totAllowance=dataitem.totAllowance,totDeduct=dataitem.totDeduct,AddPay=dataitem.AddPay,netPay=dataitem.netPay,empCPFCont=dataitem.empCPFCont,dateofPay=dataitem.dateofPay,modeofPayId=dataitem.modeofPayId,modeofPay=dataitem.modeofPay,secondOverTimeHour=dataitem.secondOverTimeHour,secondOverTimeRate=dataitem.secondOverTimeRate,TotAllowanceList=dataitem.TotAllowanceList,TotDeducionList=dataitem.TotDeducionList,AddPaymentList=dataitem.AddPaymentList,site_code=dataitem.site_code;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this3.handleCheckbox(e,dataitem);},name:\"checkbox\",checked:checkbox,type:\"checkbox\"}))),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},EmpCode)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},nric)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},EmpName)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},site_code)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},emp_level_name)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},BasicSalary)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},totOTPay)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},totCommission)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},AddPay)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},netPay)),/*#__PURE__*/React.createElement(\"td\",{onClick:function onClick(){return history.push(\"payroll/edit/\".concat(payrollId,\"/\"));}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},salarystatus)));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:12},t(\"No Data\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-end\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-2\",submitBtn:true,label:\"Post Selected\",onClick:_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_this3.hanldePostSelected();case 1:case\"end\":return _context11.stop();}}},_callee11);})),500)}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"p-2\",submitBtn:true,label:\"Print Selected\",onClick:_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:PayrollList&&PayrollList.length>0&&_this3.setState({isPrintPdfClick:true});case 1:case\"end\":return _context12.stop();}}},_callee12);})),500)})))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex justify-content-center\"},/*#__PURE__*/React.createElement(\"h5\",null,t(\"You dont have a access to see this page\")))),/*#__PURE__*/React.createElement(NormalModal,{className:\"d-flex justify-content-center\",style:{minWidth:\"15%\"},modal:isLoginConfirmation,handleModal:function handleModal(){}},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleLoginConfirmationDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(CredentialConfirmation,{handleLoginSubmit:function handleLoginSubmit(user,pass){return _this3.handleauthentication(user,pass);}})),isPrintPdfClick&&/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(Payslip,{MainInfo:PayrollList.filter(function(print){return print.checkbox!=false;}),Flag:1,landscape:false})},function(_ref15){var blob=_ref15.blob,url=_ref15.url,loading=_ref15.loading,error=_ref15.error;return!loading&&url?_this3.handlePrintPdfFormat(url):null;}));}}]);return PayrollMainClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetails:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var PayrollMain=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(PayrollMainClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Payroll/ListPayroll/index.js"],"names":["React","Component","NormalButton","NormalSelect","NormalModal","NormalCheckbox","NormalDateTime","NormalDate","InputSearch","TableWrapper","dateFormat","history","connect","bindActionCreators","getCommonApi","commonCreateApi","withTranslation","_","closeIcon","Toast","CredentialConfirmation","moment","Payslip","PDFViewer","PDFDownloadLink","BlobProvider","PayrollMainClass","state","page","limit","selectAll","headerDetails","label","width","selectAllCheck","checkboxChange","e","handleSelectAllCheckbox","divClass","pageMeta","formField","pay_month","pay_year","pay_site","pay_active","pay_EmpLevel","pay_status","searchText","fromDate","Date","active","currentIndex","payStatusOptions","value","payEmpLevelOptions","paySiteOptions","payYearOptions","payMonthOptions","payActiveOptions","isLoginConfirmation","isAllow","selected","isPrintPdfClick","PayrollList","accountHeader","name","address","logo","getPayrollList","query","Object","assign","props","getFullYear","then","key","status","data","printData","pagination","setState","getSiteCode","console","log","push","id","itemsite_code","handleChange","event","target","handlesearch","debouncedFn","debounce","handleLoginConfirmationDialog","prevState","handleOpenTrac","handleauthentication","user","pass","Body","username","password","handleCheckbox","item","PayrollListCheckbox","find","acc","payrollId","UpdateSelectAllcheckbox","PayrollListfullyChecked","checkbox","handlePrintPdfFormat","url","a","document","createElement","setAttribute","click","window","open","handleNext","handleBack","handlePagination","hanldePostSelected","length","payrollIds","body","post_ids","map","type","message","tokenDetails","emp_payroll_setup","From","firstdayMonth","getMonth","res","level_desc","t","date","dataitem","index","EmpName","EmpCode","emp_level_id","emp_level_name","FromDate","toDate","nric","BasicSalary","otsalary","othersalary","totalsalary","salarystatus","hourlySalHour","hourlySalRate","firstOverTimeRate","firstOverTimeHour","totOTPay","totCommission","totAllowance","totDeduct","AddPay","netPay","empCPFCont","dateofPay","modeofPayId","modeofPay","secondOverTimeHour","secondOverTimeRate","TotAllowanceList","TotDeducionList","AddPaymentList","site_code","minWidth","filter","print","blob","loading","error","mapStateToProps","authStore","mapDispatchToProps","dispatch","PayrollMain"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalSelect,\r\n  NormalModal,\r\n  NormalCheckbox,\r\n  NormalDateTime,\r\n  NormalDate,\r\n} from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport _ from \"lodash\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { Toast } from \"service/toast\";\r\nimport { CredentialConfirmation } from \"component/Admin/Cart/credentialConfirmation\";\r\nimport moment from \"moment\";\r\nimport Payslip from \"../Payslippdf/Payslip\";\r\n\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\n\r\nexport class PayrollMainClass extends Component {\r\n  state = {\r\n    page: 1,\r\n    limit: 10,\r\n    selectAll: false,\r\n    headerDetails: [\r\n      {\r\n        label: \"\",\r\n        width: \"20px\",\r\n        selectAll: true,\r\n        selectAllCheck: false,\r\n        checkboxChange: e => this.handleSelectAllCheckbox(e),\r\n      },\r\n      { label: \"Staff ID\" },\r\n      { label: \"NRIC\" },\r\n      {\r\n        label: \"Staff Name\",\r\n        divClass: \"\",\r\n        width: \"125px\",\r\n      },\r\n      {\r\n        label: \"Site\",\r\n        divClass: \"\",\r\n        width: \"120px\",\r\n      },\r\n      { label: \"Emp Level\" },\r\n      { label: \"Basic\" },\r\n      { label: \"OT\" },\r\n\r\n      { label: \"Commission\" },\r\n      { label: \"Others\" },\r\n      { label: \"Total\" },\r\n      { label: \"Status\" },\r\n    ],\r\n    pageMeta: {},\r\n    formField: {\r\n      pay_month: \"\",\r\n      pay_year: \"\",\r\n      pay_site: \"\",\r\n      pay_active: \"\",\r\n      pay_EmpLevel: \"\",\r\n      pay_status: \"\",\r\n      searchText: \"\",\r\n      fromDate: new Date(),\r\n    },\r\n    active: false,\r\n    currentIndex: -1,\r\n    payStatusOptions: [\r\n      { value: \"new\", label: \"New\" },\r\n      { value: \"open\", label: \"Open\" },\r\n      { value: \"posted\", label: \"Posted\" },\r\n    ],\r\n    payEmpLevelOptions: [],\r\n    paySiteOptions: [],\r\n    payYearOptions: [],\r\n    payMonthOptions: [\r\n      { value: 1, label: \"Jan\" },\r\n      { value: 2, label: \"Feb\" },\r\n      { value: 3, label: \"Mar\" },\r\n      { value: 4, label: \"Apr\" },\r\n      { value: 5, label: \"May\" },\r\n      { value: 6, label: \"Jun\" },\r\n      { value: 7, label: \"Jul\" },\r\n      { value: 8, label: \"Aug\" },\r\n      { value: 9, label: \"Sep\" },\r\n      { value: 10, label: \"Oct\" },\r\n      { value: 11, label: \"Nov\" },\r\n      { value: 12, label: \"Dec\" },\r\n    ],\r\n    payActiveOptions: [\r\n      { value: 1, label: \"Active\" },\r\n      { value: 0, label: \"In Active\" },\r\n      { value: \"\", label: \"All\" },\r\n    ],\r\n    isLoginConfirmation: false,\r\n    isAllow: false,\r\n    selected: false,\r\n    isPrintPdfClick: false,\r\n    PayrollList: [\r\n      // {\r\n      // payrollId: \"1\",\r\n      // EmpName: \"kaleeswaran\",\r\n      // EmpCode: \"HS010121\",\r\n      // nric: \"\",\r\n      // FromDate: new Date(),\r\n      // toDate: new Date(),\r\n      // BasicSalary: \"60000\",\r\n      // hourlySalHour: \"\",\r\n      // hourlySalRate: \"\",\r\n      // firstOverTimeRate: \"\",\r\n      // firstOverTimeHour: \"\",\r\n      // totOTPay: \"\",\r\n      // totCommission: \"\",\r\n      // totAllowance: \"\",\r\n      // totDeduct: \"\",\r\n      // AddPay: \"\",\r\n      // netPay: \"\",\r\n      // empCPFCont: \"\",\r\n      // dateofPay: new Date(),\r\n      // modeofPayId: \"\",\r\n      // modeofPay: \"\",\r\n      // secondOverTimeHour: \"\",\r\n      // secondOverTimeRate: \"\",\r\n      // TotAllowanceList: [\r\n      //   { desc: \"desc\", type: 2, typeName: \"totallowtype2\", amount: 500 },\r\n      // ],\r\n      // TotDeductionList: [\r\n      //   {\r\n      //     desc: \"deducdesc\",\r\n      //     type: 1,\r\n      //     typeName: \"totdeductype1\",\r\n      //     amount: 200,\r\n      //   },\r\n      // ],\r\n      // AddPaymentList: [\r\n      //   {\r\n      //     desc: \"paydesc\",\r\n      //     type: 3,\r\n      //     typeName: \"paytype3\",\r\n      //     amount: 300,\r\n      //   },\r\n      // ],\r\n      // checkbox: false,\r\n      //  },\r\n      // {\r\n      // payrollId: \"2\",\r\n      // EmpName: \"rajan\",\r\n      // EmpCode: \"HS010121\",\r\n      // FromDate: new Date(),\r\n      // nric: \"\",\r\n      // toDate: new Date(),\r\n      // BasicSalary: \"2000\",\r\n      // hourlySalHour: \"\",\r\n      // hourlySalRate: \"\",\r\n      // firstOverTimeRate: \"\",\r\n      // firstOverTimeHour: \"\",\r\n      // totOTPay: \"\",\r\n      // totCommission: \"\",\r\n      // totAllowance: \"\",\r\n      // totDeduct: \"\",\r\n      // AddPay: \"\",\r\n      // netPay: \"\",\r\n      // empCPFCont: \"\",\r\n      // dateofPay: new Date(),\r\n      // modeofPayId: \"\",\r\n      // modeofPay: \"\",\r\n      // secondOverTimeHour: \"\",\r\n      // secondOverTimeRate: \"\",\r\n      // TotAllowanceList: [],\r\n      // TotDeductionList: [],\r\n      // AddPaymentList: [],\r\n      // checkbox: false,\r\n      //  },\r\n    ],\r\n    accountHeader: { name: \"Employer name\", address: \"\", logo: \"\" },\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.tokenDetails.emp_payroll_setup) {\r\n      this.setState({\r\n        isLoginConfirmation: true,\r\n      });\r\n    }\r\n\r\n    let From = new Date();\r\n    let { formField } = this.state;\r\n    let firstdayMonth = new Date(From.getFullYear() - 20, From.getMonth(), 1);\r\n    formField[\"fromDate\"] = firstdayMonth;\r\n    this.setState({\r\n      formField,\r\n    });\r\n    let { payEmpLevelOptions, payStatusOptions } = this.state;\r\n    this.props.getCommonApi(\"jobtitle/\").then(res => {\r\n      for (let key of res.data) {\r\n        payEmpLevelOptions.push({ value: key.id, label: key.level_desc });\r\n      }\r\n      this.setState({ payEmpLevelOptions });\r\n    });\r\n\r\n    this.getSiteCode();\r\n  }\r\n  getPayrollList = query => {\r\n    let { formField, limit } = this.state;\r\n    let { page = this.state.page } = query;\r\n    let PayrollList = Object.assign({}, this.state.PayrollList);\r\n\r\n    let {\r\n      pay_status,\r\n      pay_EmpLevel,\r\n      pay_active,\r\n      pay_site,\r\n      pay_year,\r\n      pay_month,\r\n      fromDate,\r\n      searchText,\r\n    } = formField;\r\n    this.props\r\n      .getCommonApi(\r\n        `employeesalary/?month=${pay_month ? pay_month : \"\"}&year=${\r\n          pay_year ? new Date(pay_year).getFullYear() : 0\r\n        }&site_code=${pay_site ? pay_site : \"\"}&active=${\r\n          pay_active ? pay_active : \"\"\r\n        }&emplevel=${pay_EmpLevel ? pay_EmpLevel : \"\"}&status=${\r\n          pay_status ? pay_status : \"\"\r\n        }&page=${page}&limit=${limit}&search=${searchText ? searchText : \"\"}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        let { pageMeta } = this.state;\r\n        if (status === 200) {\r\n          if (data) {\r\n            PayrollList = data.printData;\r\n            pageMeta = data.pagination;\r\n          }\r\n          this.setState({\r\n            PayrollList,\r\n            pageMeta,\r\n          });\r\n        } else {\r\n          pageMeta = {};\r\n          PayrollList = [];\r\n          this.setState({\r\n            PayrollList,\r\n            pageMeta,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  getSiteCode = () => {\r\n    let { paySiteOptions } = this.state;\r\n    this.props.getCommonApi(`branchlist/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(data, \"sitecodelist\");\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          paySiteOptions.push({\r\n            value: value.id,\r\n            label: value.itemsite_code,\r\n            // selected: false,\r\n          });\r\n        }\r\n        this.setState({ paySiteOptions });\r\n      }\r\n    });\r\n  };\r\n  handleChange = async event => {\r\n    let formField = this.state;\r\n    formField[event.target.name] = event.target.value;\r\n    await this.setState({\r\n      formField,\r\n    });\r\n    this.getPayrollList({});\r\n  };\r\n\r\n  handlesearch = event => {\r\n    console.log(event.target.value);\r\n    let { formField } = this.state;\r\n    formField[\"searchText\"] = event.target.value;\r\n    this.setState({ formField });\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.getPayrollList({});\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleLoginConfirmationDialog = async () => {\r\n    await this.setState(prevState => ({\r\n      isLoginConfirmation: !prevState.isLoginConfirmation,\r\n    }));\r\n  };\r\n\r\n  handleOpenTrac = async () => {\r\n    await this.setState(prevState => ({\r\n      isAllow: !prevState.isAllow,\r\n    }));\r\n    this.getPayrollList({});\r\n  };\r\n\r\n  handleauthentication = async (user, pass) => {\r\n    let Body = {\r\n      username: user,\r\n      password: pass,\r\n    };\r\n    this.props\r\n      .commonCreateApi(`userauthorizationpopup/`, Body)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          await this.setState(prevState => ({\r\n            isLoginConfirmation: !prevState.isLoginConfirmation,\r\n          }));\r\n          this.handleOpenTrac();\r\n        }\r\n      });\r\n  };\r\n\r\n  handleCheckbox = async ({ target: { value, name } }, item) => {\r\n    let { PayrollList } = this.state;\r\n    let PayrollListCheckbox = PayrollList.find(\r\n      acc => acc.payrollId === item.payrollId\r\n    );\r\n    if (PayrollListCheckbox) {\r\n      PayrollListCheckbox[name] = value;\r\n      await this.setState({ ...this.state.PayrollList, PayrollListCheckbox });\r\n    }\r\n    this.UpdateSelectAllcheckbox();\r\n  };\r\n\r\n  UpdateSelectAllcheckbox = () => {\r\n    debugger;\r\n    let { PayrollList, headerDetails } = this.state;\r\n    let PayrollListfullyChecked = PayrollList.find(\r\n      acc => acc.checkbox === false\r\n    );\r\n\r\n    if (!PayrollListfullyChecked) {\r\n      headerDetails[0][\"selectAllCheck\"] = true;\r\n      this.setState({\r\n        selectAll: true,\r\n      });\r\n    }\r\n\r\n    if (PayrollListfullyChecked) {\r\n      headerDetails[0][\"selectAllCheck\"] = false;\r\n      this.setState({\r\n        selectAll: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSelectAllCheckbox = async ({ target: { value, name } }) => {\r\n    let { PayrollList, headerDetails } = this.state;\r\n    if (PayrollList) {\r\n      headerDetails[0][\"selectAllCheck\"] = value;\r\n      await this.setState({ selectAll: value, headerDetails });\r\n      for (let item of PayrollList) {\r\n        item[\"checkbox\"] = value;\r\n        await this.setState({ ...this.state.PayrollList, item });\r\n      }\r\n      await this.setState({ PayrollList });\r\n    }\r\n  };\r\n\r\n  handlePrintPdfFormat = url => {\r\n    let { formField } = this.state;\r\n    console.log(formField, \"payslipmain\");\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getPayrollList({});\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getPayrollList({});\r\n    }\r\n  };\r\n\r\n  handlePagination = page => {\r\n    debugger;\r\n    this.getPayrollList(page);\r\n  };\r\n\r\n  hanldePostSelected = () => {\r\n    let { PayrollList } = this.state;\r\n    if (PayrollList.length > 0) {\r\n      let PayrollListCheckbox = PayrollList.find(acc => acc.checkbox === true);\r\n      if (PayrollListCheckbox) {\r\n        let { PayrollList } = this.state;\r\n        let payrollIds = [];\r\n        for (let item of PayrollList) {\r\n          if (item.checkbox) {\r\n            payrollIds.push({\r\n              value: item.payrollId,\r\n            });\r\n          }\r\n        }\r\n\r\n        let body = {\r\n          post_ids: payrollIds.map(e => e.value),\r\n        };\r\n        try {\r\n          this.props\r\n            .commonCreateApi(`employeesalary/postselectedlist/`, body)\r\n            .then(key => {\r\n              let { status } = key;\r\n              if (status == 200) {\r\n                this.getPayrollList();\r\n              }\r\n            });\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Please Select Item for update!\",\r\n        });\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"No data found!\",\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      pageMeta,\r\n      PayrollList,\r\n      formField,\r\n      payStatusOptions,\r\n      payEmpLevelOptions,\r\n      paySiteOptions,\r\n      payYearOptions,\r\n      payMonthOptions,\r\n      payActiveOptions,\r\n      isLoginConfirmation,\r\n      isAllow,\r\n      isPrintPdfClick,\r\n      printData,\r\n      accountHeader,\r\n    } = this.state;\r\n    let {\r\n      pay_status,\r\n      pay_EmpLevel,\r\n      pay_active,\r\n      pay_site,\r\n      pay_year,\r\n      pay_month,\r\n      fromDate,\r\n      searchText,\r\n    } = formField;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        {isAllow ? (\r\n          <>\r\n            <div className=\"payroll-section\">\r\n              <div className=\"col-md-12 d-flex align-items-center\">\r\n                <p className=\"label-head mb-4\">{t(\"List of Staffs\")}</p>\r\n              </div>\r\n              <div className=\"d-flex flex-wrap\">\r\n                <div className=\"col-md-2 col-12\">\r\n                  <label className=\"text-left w-100 text-black common-label-text mb-2\">\r\n                    {t(\"Month\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      placeholderrequired={false}\r\n                      options={payMonthOptions}\r\n                      value={t(pay_month)}\r\n                      iconname=\"icon-down-key\"\r\n                      name=\"pay_month\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-2 col-12\">\r\n                  <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                    {t(\"Year\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalDate\r\n                      selected={pay_year}\r\n                      onChange={date => this.handleChange(date)}\r\n                      showYearPicker\r\n                      dateFormat=\"yyyy\"\r\n                      // yearItemNumber={9}\r\n                      value={pay_year}\r\n                      name=\"pay_year\"\r\n                      type=\"date\"\r\n                      minDate={new Date(fromDate)}\r\n                      // minDate={new Date(fromDate)}\r\n                      maxDate={new Date()}\r\n                      popperPlacement={\"bottom\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-2 col-12\">\r\n                  <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                    {t(\"Site Code\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      placeholderrequired={false}\r\n                      options={paySiteOptions}\r\n                      value={t(pay_site)}\r\n                      iconname=\"icon-down-key\"\r\n                      name=\"pay_site\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-2 col-12\">\r\n                  <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                    {t(\"Active\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      placeholderrequired={false}\r\n                      options={payActiveOptions}\r\n                      value={t(pay_active)}\r\n                      iconname=\"icon-down-key\"\r\n                      name=\"pay_active\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-2 col-12\">\r\n                  <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                    {t(\"Employee Level\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      placeholderrequired={false}\r\n                      options={payEmpLevelOptions}\r\n                      value={t(pay_EmpLevel)}\r\n                      iconname=\"icon-down-key\"\r\n                      name=\"pay_EmpLevel\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-2 col-12\">\r\n                  <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                    {t(\"Status\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      placeholderrequired={false}\r\n                      options={payStatusOptions}\r\n                      value={t(pay_status)}\r\n                      iconname=\"icon-down-key\"\r\n                      name=\"pay_status\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"payroll-table\">\r\n                <div className=\"py-4\">\r\n                  <div className=\"d-flex flex-wrap justify-content-end\">\r\n                    <div className=\"col-md-2 col-12 mb-2\">\r\n                      <InputSearch\r\n                        placeholder=\"Search staff\"\r\n                        value={searchText}\r\n                        name=\"searchText\"\r\n                        onChange={this.handlesearch}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-2 col-12 mb-2\">\r\n                      <NormalButton\r\n                        mainbg={`true`}\r\n                        label={`Add New`}\r\n                        onClick={() => {\r\n                          history.push(\"Payroll/add\");\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"table-container\">\r\n                    <TableWrapper\r\n                      headerDetails={headerDetails}\r\n                      queryHandler={this.handlePagination}\r\n                      pageMeta={pageMeta}\r\n                    >\r\n                      {PayrollList ? (\r\n                        PayrollList.map((dataitem, index) => {\r\n                          let {\r\n                            payrollId,\r\n                            EmpName,\r\n                            EmpCode,\r\n                            emp_level_id,\r\n                            emp_level_name,\r\n                            FromDate,\r\n                            toDate,\r\n                            nric,\r\n                            BasicSalary,\r\n                            otsalary,\r\n                            othersalary,\r\n                            totalsalary,\r\n                            salarystatus,\r\n                            checkbox,\r\n                            hourlySalHour,\r\n                            hourlySalRate,\r\n                            firstOverTimeRate,\r\n                            firstOverTimeHour,\r\n                            totOTPay,\r\n                            totCommission,\r\n                            totAllowance,\r\n                            totDeduct,\r\n                            AddPay,\r\n                            netPay,\r\n                            empCPFCont,\r\n                            dateofPay,\r\n                            modeofPayId,\r\n                            modeofPay,\r\n                            secondOverTimeHour,\r\n                            secondOverTimeRate,\r\n                            TotAllowanceList,\r\n                            TotDeducionList,\r\n                            AddPaymentList,\r\n                            site_code,\r\n                          } = dataitem;\r\n                          return (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <div\r\n                                  className={`d-flex align-items-center justify-content-center`}\r\n                                >\r\n                                  <NormalCheckbox\r\n                                    onChange={e =>\r\n                                      this.handleCheckbox(e, dataitem)\r\n                                    }\r\n                                    name=\"checkbox\"\r\n                                    checked={checkbox}\r\n                                    type=\"checkbox\"\r\n                                  />\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{EmpCode}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{nric}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{EmpName}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{site_code}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">\r\n                                  {emp_level_name}\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{BasicSalary}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{totOTPay}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{totCommission}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{AddPay}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{netPay}</div>\r\n                              </td>\r\n                              <td\r\n                                onClick={() =>\r\n                                  history.push(`payroll/edit/${payrollId}/`)\r\n                                }\r\n                              >\r\n                                <div className=\"text-left\">{salarystatus}</div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan={12}>{t(\"No Data\")}</td>\r\n                        </tr>\r\n                      )}\r\n                    </TableWrapper>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex flex-wrap justify-content-end\">\r\n                <NormalButton\r\n                  buttonClass={`p-2`}\r\n                  submitBtn={true}\r\n                  label={`Post Selected`}\r\n                  onClick={_.debounce(async () => {\r\n                    {\r\n                      this.hanldePostSelected();\r\n                    }\r\n                  }, 500)}\r\n                />\r\n                <NormalButton\r\n                  buttonClass={`p-2`}\r\n                  submitBtn={true}\r\n                  label={`Print Selected`}\r\n                  onClick={_.debounce(async () => {\r\n                    {\r\n                      PayrollList &&\r\n                        PayrollList.length > 0 &&\r\n                        this.setState({ isPrintPdfClick: true });\r\n                    }\r\n                  }, 500)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div>\r\n            <div className=\"d-flex flex justify-content-center\">\r\n              <h5>{t(\"You dont have a access to see this page\")}</h5>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <NormalModal\r\n          className={\"d-flex justify-content-center\"}\r\n          style={{ minWidth: \"15%\" }}\r\n          modal={isLoginConfirmation}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleLoginConfirmationDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <CredentialConfirmation\r\n            handleLoginSubmit={(user, pass) =>\r\n              this.handleauthentication(user, pass)\r\n            }\r\n          />\r\n        </NormalModal>\r\n        {isPrintPdfClick && (\r\n          <PDFDownloadLink\r\n            document={\r\n              <Payslip\r\n                MainInfo={PayrollList.filter(print => print.checkbox != false)}\r\n                Flag={1}\r\n                landscape={false}\r\n              />\r\n            }\r\n          >\r\n            {({ blob, url, loading, error }) =>\r\n              !loading && url ? this.handlePrintPdfFormat(url) : null\r\n            }\r\n          </PDFDownloadLink>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const PayrollMain = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(PayrollMainClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}