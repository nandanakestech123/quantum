{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{NormalInput,NormalSelect,NormalButton,NormalTextarea}from\"component/common\";import{updateEmpInfo,getStaffPlus}from\"redux/actions/staffPlus\";import{getCommonApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";export var EmployeeInfoClass=/*#__PURE__*/function(_Component){_inherits(EmployeeInfoClass,_Component);var _super=_createSuper(EmployeeInfoClass);function EmployeeInfoClass(){var _this;_classCallCheck(this,EmployeeInfoClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{display_name:\"\",emp_name:\"\",emp_phone1:\"\",emp_address:\"\",Emp_sexesid:\"\",emp_nric:\"\",emp_race:\"\",Emp_nationalityid:\"\",emp_country:\"\",Emp_maritalid:\"\",Emp_religionid:\"\",emp_emer:\"\",emp_emerno:\"\",emp_remarks:\"\"},sexOption:[{value:1,label:\"Male\"},{value:2,label:\"Female\"}],raceList:[],nationalityList:[],maritialStatusList:[{value:1,label:\"Single\"},{value:2,label:\"Married\"}],religionList:[],countryList:[],is_loading:false,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getDetails=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.updateState({is_loading:true});_context.next=3;return _this.props.getStaffPlus(\"\".concat(_this.props.match.params.id,\"/\")).then(function(res){_this.setDataFromStore();});case 3:_context.next=5;return _this.props.getCommonApi(\"meta/religion/\").then(function(res){var religionList=_this.state.religionList;var _iterator=_createForOfIteratorHelper(res.religions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;religionList.push({value:key.itm_id,label:key.itm_name});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.updateState({religionList:religionList});});case 5:_context.next=7;return _this.props.getCommonApi(\"meta/nationality/\").then(function(res){var nationalityList=_this.state.nationalityList;var _iterator2=_createForOfIteratorHelper(res.nationalities),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;nationalityList.push({value:key.itm_id,label:key.itm_name});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.updateState({nationalityList:nationalityList});});case 7:_context.next=9;return _this.props.getCommonApi(\"meta/race/\").then(function(res){var raceList=_this.state.raceList;var _iterator3=_createForOfIteratorHelper(res.races),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var key=_step3.value;raceList.push({value:key.itm_id,label:key.itm_name});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.updateState({raceList:raceList});});case 9:_context.next=11;return _this.props.getCommonApi(\"meta/country/\").then(function(res){var countryList=_this.state.countryList;var _iterator4=_createForOfIteratorHelper(res.countries),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value;countryList.push({value:key.itm_id,label:key.itm_desc});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.updateState({countryList:countryList});});case 11:_this.updateState({is_loading:false});case 12:case\"end\":return _context.stop();}}},_callee);}));_this.setDataFromStore=function(){var staffPlusDetail=_this.props.staffPlusDetail;var formFields=_this.state.formFields;formFields[\"emp_name\"]=staffPlusDetail.emp_name;formFields[\"display_name\"]=staffPlusDetail.display_name;formFields[\"emp_nric\"]=staffPlusDetail.emp_nric;formFields[\"emp_phone1\"]=staffPlusDetail.emp_phone1;formFields[\"emp_address\"]=staffPlusDetail.emp_address;formFields[\"Emp_sexesid\"]=staffPlusDetail.Emp_sexesid;formFields[\"emp_race\"]=staffPlusDetail.emp_race;formFields[\"Emp_maritalid\"]=staffPlusDetail.Emp_maritalid;formFields[\"Emp_nationalityid\"]=staffPlusDetail.Emp_nationalityid;formFields[\"Emp_religionid\"]=staffPlusDetail.Emp_religionid;formFields[\"emp_country\"]=staffPlusDetail.emp_country;formFields[\"emp_emer\"]=staffPlusDetail.emp_emer;formFields[\"emp_emerno\"]=staffPlusDetail.emp_emerno;formFields[\"emp_remarks\"]=staffPlusDetail.emp_remarks;_this.updateState({formFields:formFields});};_this.handleChange=function(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleDatePick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,value){var formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formFields=_this.state.formFields;formFields[name]=value;_context2.next=4;return _this.updateState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}();_this.handleInput=function(_ref4){var _ref4$target=_ref4.target,name=_ref4$target.name,value=_ref4$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value===true?1:value;_this.updateState({formFields:formFields});};_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var formFields,formData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!_this.validator.allValid()){_context3.next=26;break;}_context3.prev=1;_this.updateState({is_loading:true});formFields=_this.state.formFields;formData=new FormData();formData.append(\"emp_phone1\",formFields.emp_phone1);formData.append(\"emp_address\",formFields.emp_address);formData.append(\"Emp_sexesid\",formFields.Emp_sexesid);formData.append(\"emp_race\",formFields.emp_race);formData.append(\"Emp_maritalid\",formFields.Emp_maritalid);formData.append(\"Emp_nationalityid\",formFields.Emp_nationalityid);formData.append(\"Emp_religionid\",formFields.Emp_religionid);formData.append(\"emp_country\",formFields.emp_country);formData.append(\"emp_emer\",formFields.emp_emer);formData.append(\"emp_emerno\",formFields.emp_emerno);formData.append(\"emp_remarks\",formFields.emp_remarks);_context3.next=18;return _this.props.updateEmpInfo(_this.props.match.params.id,formData).then(function(res){console.log(res);if(res.status===200){window.location.reload();}});case 18:_context3.next=23;break;case 20:_context3.prev=20;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 23:_this.updateState({is_loading:true});_context3.next=27;break;case 26:_this.validator.showMessages();case 27:case\"end\":return _context3.stop();}}},_callee3,null,[[1,20]]);}));_this.handleChangeBox=function(event){var formFields=Object.assign({},_this.state.formFields);console.log(formFields,\"oyokkjk\",event.target.name,event.target);formFields[event.target.name]=event.target.checked;_this.updateState({formFields:formFields});};return _this;}_createClass(EmployeeInfoClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.validator=new SimpleReactValidator({validators:{contactNumber:{message:\"The :attribute must be a valid format.\",rule:function rule(val,params,validator){return validator.helpers.testRegex(val,/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&params.indexOf(val)===-1;},messageReplace:function messageReplace(message,params){return message.replace(\"\",_this2.helpers.toSentence(params));},required:true}},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});this.getDetails();}// get data from apis\n},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,formFields=_this$state.formFields,sexOption=_this$state.sexOption,raceList=_this$state.raceList,nationalityList=_this$state.nationalityList,maritialStatusList=_this$state.maritialStatusList,religionList=_this$state.religionList,countryList=_this$state.countryList,is_loading=_this$state.is_loading;var emp_name=formFields.emp_name,emp_nric=formFields.emp_nric,display_name=formFields.display_name,emp_phone1=formFields.emp_phone1,emp_address=formFields.emp_address,Emp_sexesid=formFields.Emp_sexesid,emp_race=formFields.emp_race,Emp_nationalityid=formFields.Emp_nationalityid,emp_country=formFields.emp_country,Emp_maritalid=formFields.Emp_maritalid,Emp_religionid=formFields.Emp_religionid,emp_emer=formFields.emp_emer,emp_emerno=formFields.emp_emerno,emp_remarks=formFields.emp_remarks;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5 container create-staff\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\"},\"StaffPlus \"),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},\"Edit Employee Information\")),is_loading?/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"staff-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\":\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},emp_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"NRIC / WP\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\":\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},emp_nric)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Username\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\":\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},display_name)))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Phone\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_phone1,name:\"emp_phone1\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Address\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_address,name:\"emp_address\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Gender\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:sexOption,value:Emp_sexesid,name:\"Emp_sexesid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Race\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:raceList,value:emp_race,name:\"emp_race\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Nationality\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:nationalityList,value:Emp_nationalityid,name:\"Emp_nationalityid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Marital Status\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:maritialStatusList,value:Emp_maritalid,name:\"Emp_maritalid\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Religion\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:religionList,value:Emp_religionid,name:\"Emp_religionid\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Country\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:countryList,value:emp_country,name:\"emp_country\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Emergency Person\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_emer,name:\"emp_emer\",onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Emergency Phone\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:emp_emerno,name:\"emp_emerno\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Remarks\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalTextarea,{value:emp_remarks,name:\"emp_remarks\",onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"border-bottom-line\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/staffplus\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Cancel\",danger:true,className:\"mr-2 col-12\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this3.handleSubmit();},label:\"Save\",success:true,className:\"mr-2 col-12\"})))));}}]);return EmployeeInfoClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{staffPlusDetail:state.staffPlus.staffPlusDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getStaffPlus:getStaffPlus,updateEmpInfo:updateEmpInfo,getCommonApi:getCommonApi},dispatch);};export var EmployeeInfo=connect(mapStateToProps,mapDispatchToProps)(EmployeeInfoClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/EmployeeInfo/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalTextarea","updateEmpInfo","getStaffPlus","getCommonApi","connect","bindActionCreators","EmployeeInfoClass","state","formFields","display_name","emp_name","emp_phone1","emp_address","Emp_sexesid","emp_nric","emp_race","Emp_nationalityid","emp_country","Emp_maritalid","Emp_religionid","emp_emer","emp_emerno","emp_remarks","sexOption","value","label","raceList","nationalityList","maritialStatusList","religionList","countryList","is_loading","isMounted","updateState","data","setState","getDetails","props","match","params","id","then","res","setDataFromStore","religions","key","push","itm_id","itm_name","nationalities","races","countries","itm_desc","staffPlusDetail","handleChange","target","name","Object","assign","handleDatePick","handleInput","handleSubmit","validator","allValid","formData","FormData","append","console","log","status","window","location","reload","showMessages","handleChangeBox","event","checked","validators","contactNumber","message","rule","val","helpers","testRegex","indexOf","messageReplace","replace","toSentence","required","element","autoForceUpdate","mapStateToProps","staffPlus","mapDispatchToProps","dispatch","EmployeeInfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  NormalInput,\n  NormalSelect,\n  NormalButton,\n  NormalTextarea,\n} from \"component/common\";\nimport { updateEmpInfo, getStaffPlus } from \"redux/actions/staffPlus\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nexport class EmployeeInfoClass extends Component {\n  state = {\n    formFields: {\n      display_name: \"\",\n      emp_name: \"\",\n      emp_phone1: \"\",\n      emp_address: \"\",\n      Emp_sexesid: \"\",\n      emp_nric: \"\",\n      emp_race: \"\",\n      Emp_nationalityid: \"\",\n      emp_country: \"\",\n      Emp_maritalid: \"\",\n      Emp_religionid: \"\",\n      emp_emer: \"\",\n      emp_emerno: \"\",\n      emp_remarks: \"\",\n    },\n    sexOption: [\n      { value: 1, label: \"Male\" },\n      { value: 2, label: \"Female\" },\n    ],\n    raceList: [],\n    nationalityList: [],\n    maritialStatusList: [\n      { value: 1, label: \"Single\" },\n      { value: 2, label: \"Married\" },\n    ],\n    religionList: [],\n    countryList: [],\n    is_loading: false,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentWillMount() {\n    this.validator = new SimpleReactValidator({\n      validators: {\n        contactNumber: {\n          message: \"The :attribute must be a valid format.\",\n          rule: (val, params, validator) => {\n            return (\n              validator.helpers.testRegex(\n                val,\n                /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/\n              ) && params.indexOf(val) === -1\n            );\n          },\n          messageReplace: (message, params) =>\n            message.replace(\"\", this.helpers.toSentence(params)),\n          required: true,\n        },\n      },\n      element: (message) => (\n        <span className=\"error-message text-danger validNo fs14\">\n          {message}\n        </span>\n      ),\n      autoForceUpdate: this,\n    });\n\n    this.getDetails();\n  }\n\n  // get data from apis\n  getDetails = async () => {\n    this.updateState({ is_loading: true });\n    await this.props\n      .getStaffPlus(`${this.props.match.params.id}/`)\n      .then((res) => {\n        this.setDataFromStore();\n      });\n    await this.props.getCommonApi(\"meta/religion/\").then((res) => {\n      let { religionList } = this.state;\n      for (let key of res.religions) {\n        religionList.push({ value: key.itm_id, label: key.itm_name });\n      }\n      this.updateState({ religionList });\n    });\n    await this.props.getCommonApi(\"meta/nationality/\").then((res) => {\n      let { nationalityList } = this.state;\n      for (let key of res.nationalities) {\n        nationalityList.push({ value: key.itm_id, label: key.itm_name });\n      }\n      this.updateState({ nationalityList });\n    });\n    await this.props.getCommonApi(\"meta/race/\").then((res) => {\n      let { raceList } = this.state;\n      for (let key of res.races) {\n        raceList.push({ value: key.itm_id, label: key.itm_name });\n      }\n      this.updateState({ raceList });\n    });\n    await this.props.getCommonApi(\"meta/country/\").then((res) => {\n      let { countryList } = this.state;\n      for (let key of res.countries) {\n        countryList.push({ value: key.itm_id, label: key.itm_desc });\n      }\n      this.updateState({ countryList });\n    });\n    this.updateState({ is_loading: false });\n  };\n\n  // set data to formfield from response while edit\n  setDataFromStore = () => {\n    let { staffPlusDetail } = this.props;\n    let { formFields } = this.state;\n    formFields[\"emp_name\"] = staffPlusDetail.emp_name;\n    formFields[\"display_name\"] = staffPlusDetail.display_name;\n    formFields[\"emp_nric\"] = staffPlusDetail.emp_nric;\n    formFields[\"emp_phone1\"] = staffPlusDetail.emp_phone1;\n    formFields[\"emp_address\"] = staffPlusDetail.emp_address;\n    formFields[\"Emp_sexesid\"] = staffPlusDetail.Emp_sexesid;\n    formFields[\"emp_race\"] = staffPlusDetail.emp_race;\n    formFields[\"Emp_maritalid\"] = staffPlusDetail.Emp_maritalid;\n    formFields[\"Emp_nationalityid\"] = staffPlusDetail.Emp_nationalityid;\n    formFields[\"Emp_religionid\"] = staffPlusDetail.Emp_religionid;\n    formFields[\"emp_country\"] = staffPlusDetail.emp_country;\n    formFields[\"emp_emer\"] = staffPlusDetail.emp_emer;\n    formFields[\"emp_emerno\"] = staffPlusDetail.emp_emerno;\n    formFields[\"emp_remarks\"] = staffPlusDetail.emp_remarks;\n    this.updateState({ formFields });\n  };\n\n  handleChange = ({ target: { value, name } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n\n    formFields[name] = value;\n\n    this.updateState({\n      formFields,\n    });\n  };\n\n  handleDatePick = async (name, value) => {\n    let { formFields } = this.state;\n    formFields[name] = value;\n    await this.updateState({\n      formFields,\n    });\n  };\n\n  handleInput = ({ target: { name, value } }) => {\n    let formFields = Object.assign({}, this.state.formFields);\n    formFields[name] = value === true ? 1 : value;\n    this.updateState({\n      formFields,\n    });\n  };\n\n  // submit to create/update staff\n  handleSubmit = async () => {\n    if (this.validator.allValid()) {\n      try {\n        this.updateState({ is_loading: true });\n        let { formFields } = this.state;\n        const formData = new FormData();\n        formData.append(\"emp_phone1\", formFields.emp_phone1);\n        formData.append(\"emp_address\", formFields.emp_address);\n        formData.append(\"Emp_sexesid\", formFields.Emp_sexesid);\n        formData.append(\"emp_race\", formFields.emp_race);\n        formData.append(\"Emp_maritalid\", formFields.Emp_maritalid);\n        formData.append(\"Emp_nationalityid\", formFields.Emp_nationalityid);\n        formData.append(\"Emp_religionid\", formFields.Emp_religionid);\n        formData.append(\"emp_country\", formFields.emp_country);\n        formData.append(\"emp_emer\", formFields.emp_emer);\n        formData.append(\"emp_emerno\", formFields.emp_emerno);\n        formData.append(\"emp_remarks\", formFields.emp_remarks);\n        await this.props\n          .updateEmpInfo(this.props.match.params.id, formData)\n          .then((res) => {\n            console.log(res);\n            if (res.status === 200) {\n              window.location.reload();\n            }\n          });\n      } catch (e) {\n        console.log(e);\n      }\n      this.updateState({ is_loading: true });\n    } else {\n      this.validator.showMessages();\n    }\n  };\n\n  handleChangeBox = (event) => {\n    let formFields = Object.assign({}, this.state.formFields);\n    console.log(formFields, \"oyokkjk\", event.target.name, event.target);\n    formFields[event.target.name] = event.target.checked;\n\n    this.updateState({\n      formFields,\n    });\n  };\n\n  render() {\n    let {\n      formFields,\n      sexOption,\n      raceList,\n      nationalityList,\n      maritialStatusList,\n      religionList,\n      countryList,\n      is_loading,\n    } = this.state;\n\n    let {\n      emp_name,\n      emp_nric,\n      display_name,\n      emp_phone1,\n      emp_address,\n      Emp_sexesid,\n      emp_race,\n      Emp_nationalityid,\n      emp_country,\n      Emp_maritalid,\n      Emp_religionid,\n      emp_emer,\n      emp_emerno,\n      emp_remarks,\n    } = formFields;\n    return (\n      <div className=\"px-5 container create-staff\">\n        <div className=\"head-label-nav\">\n          <p className=\"category\">StaffPlus </p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">Edit Employee Information</p>\n        </div>\n        {is_loading ? (\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n            <div class=\"spinner-border\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        ) : (\n          <div className=\"staff-detail\">\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Name\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    :\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {emp_name}\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    NRIC / WP\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    :\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {emp_nric}\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Username\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    :\n                  </label>\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    {display_name}\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Phone\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_phone1}\n                      name=\"emp_phone1\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Address\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_address}\n                      name=\"emp_address\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Gender\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      // placeholder=\"Enter here\"\n                      options={sexOption}\n                      value={Emp_sexesid}\n                      name=\"Emp_sexesid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Race\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      // placeholder=\"Enter here\"\n                      options={raceList}\n                      value={emp_race}\n                      name=\"emp_race\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Nationality\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      // placeholder=\"Enter here\"\n                      options={nationalityList}\n                      value={Emp_nationalityid}\n                      name=\"Emp_nationalityid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Marital Status\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      // placeholder=\"Enter here\"\n                      options={maritialStatusList}\n                      value={Emp_maritalid}\n                      name=\"Emp_maritalid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Religion\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      // placeholder=\"Enter here\"\n                      options={religionList}\n                      value={Emp_religionid}\n                      name=\"Emp_religionid\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Country\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalSelect\n                      // placeholder=\"Enter here\"\n                      options={countryList}\n                      value={emp_country}\n                      name=\"emp_country\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Emergency Person\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_emer}\n                      name=\"emp_emer\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-6\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Emergency Phone\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalInput\n                      placeholder=\"Enter here\"\n                      value={emp_emerno}\n                      name=\"emp_emerno\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group mb-4 pb-2\">\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                    Remarks\n                  </label>\n                  <div className=\"input-group\">\n                    <NormalTextarea\n                      value={emp_remarks}\n                      name=\"emp_remarks\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"border-bottom-line\"></div>\n            <div className=\"pt-5 d-flex justify-content-center\">\n              <div className=\"col-2\">\n                <Link to=\"/admin/staffplus\">\n                  <NormalButton\n                    label=\"Cancel\"\n                    danger={true}\n                    className=\"mr-2 col-12\"\n                  />\n                </Link>\n              </div>\n              <div className=\"col-2\">\n                <NormalButton\n                  onClick={() => this.handleSubmit()}\n                  label=\"Save\"\n                  success={true}\n                  className=\"mr-2 col-12\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  staffPlusDetail: state.staffPlus.staffPlusDetail,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getStaffPlus,\n      updateEmpInfo,\n      getCommonApi,\n    },\n    dispatch\n  );\n};\n\nexport const EmployeeInfo = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EmployeeInfoClass);\n"]},"metadata":{},"sourceType":"module"}