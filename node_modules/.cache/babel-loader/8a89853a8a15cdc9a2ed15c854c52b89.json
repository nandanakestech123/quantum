{"ast":null,"code":"import _objectSpread from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{AuthActionType}from'redux/actions/actionType';import{authApi}from'service/apiVariables';import{addQuery}from'service/helperFunctions';import{history}from'../../helpers';import{saloon,staff,customer,services,Products}from'../../service/apiVariables';import{api}from'../../service/api';import{Toast}from'../../service/toast';import{NotificationManager}from'react-notifications';// login action\nexport var login=function login(body){return function(dispatch,getState,_ref){var api=_ref.api,Toast=_ref.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.login),{},{body:body})).then(function(response){// console.log(message,Token,'123')\nresolve(response);var status=response.status,data=response.data;var message=data.message,token=data.token;if(status===200){localStorage.setItem('AuthToken',token);// localStorage.setItem('AuthTypeId', data.typeId);\n// reject(Toast({ type: 'error', message }));\n}// Toast({ type: 'success', message, time: 5000 })\n// dispatch({ type: AuthActionType.getUserLoginDetails, payload: Token });\n// if (data.typeId == 1) {\n//   history.push('/admin/adminManagement');\n// } else if (data.typeId == 2) { \n//   history.push('/admin/manageDriver');\n// }\n}).catch(function(_ref2){var message=_ref2.message;reject(Toast({type:'error',message:message}));});});};};export var getLoginSaloon=function getLoginSaloon(id){return function(dispatch,getState,_ref3){var api=_ref3.api,Toast=_ref3.Toast;return new Promise(function(resolve,reject){api(_objectSpread({},authApi.getSaloon)).then(function(response){resolve(response);var message=response.message,status=response.status;if(status===200){// Toast({ type: 'success', message })\n}else{reject(Toast({type:'error',message:message}));}}).catch(function(_ref4){var message=_ref4.message;reject(Toast({type:'error',message:message}));});});};};// Getting user details for header\nexport var getTokenDetails=function getTokenDetails(body){return function(dispatch,getState,_ref5){var api=_ref5.api,Toast=_ref5.Toast;return new Promise(function(resolve,reject){api(_objectSpread({},authApi.getTokenDetails)).then(function(_ref6){var data=_ref6.data;resolve(true);localStorage.setItem('AuthTypeId',data.typeId);dispatch({type:AuthActionType.getTokenDetails,payload:data});}).catch(function(_ref7){var message=_ref7.message;localStorage.clear();history.push('/');// window.location.reload(true)\nreject(Toast({type:'error',message:message}));});});};};export var addStaff=function addStaff(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},staff.addStaff),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200){resolve(res);return;}resolve(Toast({type:'success',message:message}));}).catch(function(_ref8){var message=_ref8.message;Toast({type:'error',message:message});reject(true);});});};export var addCustomer=function addCustomer(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},customer.addCustomer),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200){resolve(res);return;}resolve(Toast({type:'success',message:message}));}).catch(function(_ref9){var message=_ref9.message;Toast({type:'error',message:message});reject(true);});});};export var addService=function addService(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},services.addService),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200){resolve(res);return;}resolve(Toast({type:'success',message:message}));}).catch(function(_ref10){var message=_ref10.message;Toast({type:'error',message:message});reject(true);});});};export var addProduct=function addProduct(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},Products.addProduct),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200){resolve(res);return;}resolve(Toast({type:'success',message:message}));}).catch(function(_ref11){var message=_ref11.message;Toast({type:'error',message:message});reject(true);});});};// Forgot password common\nexport var forgotPassword=function forgotPassword(body){return function(dispatch,getState,_ref12){var api=_ref12.api,Toast=_ref12.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.forgotPassword),{},{body:body})).then(function(response){resolve(response);var message=response.message;Toast({type:'success',message:message});}).catch(function(_ref13){var message=_ref13.message;reject(Toast({type:'error',message:message}));});});};};// Forgot password common\nexport var verifyOtp=function verifyOtp(id,body){return function(dispatch,getState,_ref14){var api=_ref14.api,Toast=_ref14.Toast;authApi.verifyOtp.addQuery={key:'id',payload:id};return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.verifyOtp),{},{body:body})).then(function(response){resolve(response);var message=response.message;Toast({type:'success',message:message});}).catch(function(_ref15){var message=_ref15.message;reject(Toast({type:'error',message:message}));});});};};// Forgot password common\nexport var resetPassword=function resetPassword(id,body){return function(dispatch,getState,_ref16){var api=_ref16.api,Toast=_ref16.Toast;return new Promise(function(resolve,reject){authApi.resetPassword.addQuery={key:'id',payload:id};api(_objectSpread(_objectSpread({},authApi.resetPassword),{},{body:body})).then(function(response){resolve(response);var message=response.message;Toast({type:'success',message:message});}).catch(function(_ref17){var message=_ref17.message;reject(Toast({type:'error',message:message}));});});};};// get method for token verification\nexport var getTokenVerify=function getTokenVerify(body){return function(dispatch,getState,_ref18){var api=_ref18.api,Toast=_ref18.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.getTokenVerify),{},{body:body})).then(function(_ref19){var data=_ref19.data,message=_ref19.message;resolve(Toast({type:'success',message:message}));localStorage.setItem('AuthToken',data.jwtToken);}).catch(function(_ref20){var message=_ref20.message;history.push('/');reject(Toast({type:'error',message:message}));});});};};// Change Password after forgot password\nexport var changePassword=function changePassword(body){return function(dispatch,getState,_ref21){var api=_ref21.api,Toast=_ref21.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.changePassword),{},{body:body})).then(function(_ref22){var message=_ref22.message;resolve(Toast({type:'success',message:message}));}).catch(function(_ref23){var message=_ref23.message;reject(Toast({type:'error',message:message}));});});};};// Logout using loged user\nexport var Logout=function Logout(body){return function(dispatch,getState,_ref24){var api=_ref24.api,Toast=_ref24.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.logout),{},{body:body})).then(function(response){resolve(response);var message=response.message;Toast({type:'success',message:message});}).catch(function(_ref25){var message=_ref25.message;reject(Toast({type:'error',message:message}));});});};};","map":{"version":3,"sources":["E:/newfrontend/webfe/src/redux/actions/auth.js"],"names":["AuthActionType","authApi","addQuery","history","saloon","staff","customer","services","Products","api","Toast","NotificationManager","login","body","dispatch","getState","Promise","resolve","reject","then","response","status","data","message","token","localStorage","setItem","catch","type","getLoginSaloon","id","getSaloon","getTokenDetails","typeId","payload","clear","push","addStaff","res","Message","addCustomer","addService","addProduct","forgotPassword","verifyOtp","key","resetPassword","getTokenVerify","jwtToken","changePassword","Logout","logout"],"mappings":"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","sourcesContent":["import { AuthActionType } from 'redux/actions/actionType';\r\nimport { authApi } from 'service/apiVariables';\r\nimport { addQuery } from 'service/helperFunctions';\r\nimport { history } from '../../helpers';\r\nimport { saloon, staff, customer, services, Products } from '../../service/apiVariables'\r\nimport { api } from '../../service/api'\r\nimport { Toast } from '../../service/toast';\r\nimport { NotificationManager } from 'react-notifications';\r\n\r\n// login action\r\nexport const login = body => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.login, body })\r\n    .then((response) => {\r\n      // console.log(message,Token,'123')\r\n      resolve(response);\r\n      let { status, data} = response;\r\n      let { message, token } = data;\r\n        if (status===200) {\r\n          localStorage.setItem('AuthToken', token);\r\n          // localStorage.setItem('AuthTypeId', data.typeId);\r\n          // reject(Toast({ type: 'error', message }));\r\n        }\r\n        // Toast({ type: 'success', message, time: 5000 })\r\n        \r\n        // dispatch({ type: AuthActionType.getUserLoginDetails, payload: Token });\r\n\r\n        // if (data.typeId == 1) {\r\n        //   history.push('/admin/adminManagement');\r\n        // } else if (data.typeId == 2) { \r\n        //   history.push('/admin/manageDriver');\r\n        // }\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\nexport const getLoginSaloon = (id) => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.getSaloon })\r\n      .then((response) => {\r\n        resolve(response)\r\n        let { message, status } = response\r\n        if (status === 200) {\r\n          // Toast({ type: 'success', message })\r\n        } else {\r\n          reject(Toast({ type: 'error', message }));\r\n        }\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\n// Getting user details for header\r\nexport const getTokenDetails = body => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.getTokenDetails })\r\n      .then(({ data }) => {\r\n        resolve(true);\r\n        localStorage.setItem('AuthTypeId', data.typeId);\r\n        dispatch({ type: AuthActionType.getTokenDetails, payload: data });\r\n      })\r\n      .catch(({ message }) => {\r\n        localStorage.clear();\r\n        history.push('/');\r\n        // window.location.reload(true)\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\n\r\nexport const addStaff = (body) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n      api({ ...staff.addStaff, body }).then((res) => {\r\n        let message=res.Message;\r\n          // Toast({ type: 'error', message: JSON.stringify(message) })\r\n          if (res.status == 200) {\r\n              resolve(res)\r\n              return\r\n          }\r\n          resolve(Toast({ type: 'success', message}));\r\n      }).catch(({ message }) => {\r\n\r\n          Toast({ type: 'error', message: message })\r\n          reject(true)\r\n\r\n      })\r\n\r\n  })\r\n}\r\n\r\nexport const addCustomer = (body) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n      api({ ...customer.addCustomer, body }).then((res) => {\r\n        let message=res.Message;\r\n          // Toast({ type: 'error', message: JSON.stringify(message) })\r\n          if (res.status == 200) {\r\n              resolve(res)\r\n              return\r\n          }\r\n          resolve(Toast({ type: 'success', message}));\r\n      }).catch(({ message }) => {\r\n\r\n          Toast({ type: 'error', message: message })\r\n          reject(true)\r\n\r\n      })\r\n\r\n  })\r\n}\r\n\r\n\r\nexport const addService = (body) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n      api({ ...services.addService, body }).then((res) => {\r\n        let message=res.Message;\r\n          // Toast({ type: 'error', message: JSON.stringify(message) })\r\n          if (res.status == 200) {\r\n              resolve(res)\r\n              return\r\n          }\r\n          resolve(Toast({ type: 'success', message}));\r\n      }).catch(({ message }) => {\r\n\r\n          Toast({ type: 'error', message: message })\r\n          reject(true)\r\n\r\n      })\r\n\r\n  })\r\n}\r\n\r\nexport const addProduct = (body) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n      api({ ...Products.addProduct, body }).then((res) => {\r\n        let message=res.Message;\r\n          // Toast({ type: 'error', message: JSON.stringify(message) })\r\n          if (res.status == 200) {\r\n              resolve(res)\r\n              return\r\n          }\r\n          resolve(Toast({ type: 'success', message}));\r\n      }).catch(({ message }) => {\r\n\r\n          Toast({ type: 'error', message: message })\r\n          reject(true)\r\n\r\n      })\r\n\r\n  })\r\n}\r\n\r\n\r\n\r\n// Forgot password common\r\nexport const forgotPassword = body => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.forgotPassword, body })\r\n      .then((response) => {      \r\n        resolve(response);\r\n        let { message } = response\r\n        Toast({ type: 'success', message });\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\n// Forgot password common\r\nexport const verifyOtp = (id, body) => (dispatch, getState, { api, Toast }) => {\r\n  authApi.verifyOtp.addQuery = { key: 'id', payload: id };\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.verifyOtp, body })\r\n      .then((response) => {\r\n        resolve(response);\r\n        let { message } = response\r\n        Toast({ type: 'success', message });\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n// Forgot password common\r\nexport const resetPassword = (id, body) => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    authApi.resetPassword.addQuery = { key: 'id', payload: id };\r\n    api({ ...authApi.resetPassword, body })\r\n      .then((response) => {\r\n        resolve(response);\r\n        let { message } = response\r\n        Toast({ type: 'success', message });\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\n// get method for token verification\r\nexport const getTokenVerify = body => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.getTokenVerify, body })\r\n      .then(({ data, message }) => {\r\n        resolve(Toast({ type: 'success', message }));\r\n        localStorage.setItem('AuthToken', data.jwtToken);\r\n      })\r\n      .catch(({ message }) => {\r\n        history.push('/');\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\n// Change Password after forgot password\r\nexport const changePassword = body => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.changePassword, body })\r\n      .then(({ message }) => {\r\n        resolve(Toast({ type: 'success', message }));\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n\r\n\r\n// Logout using loged user\r\nexport const Logout = body => (dispatch, getState, { api, Toast }) => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...authApi.logout, body })\r\n      .then((response) => {\r\n        resolve(response);\r\n        let { message } = response;\r\n        Toast({ type: 'success', message })\r\n      })\r\n      .catch(({ message }) => {\r\n        reject(Toast({ type: 'error', message }));\r\n      });\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}