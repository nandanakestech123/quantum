{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Salons\\\\ListSalons\\\\index.js\";\nimport React from 'react';\nimport { NormalButton } from 'component/common';\nimport { InputSearch, TableWrapper } from 'component/common'; // import More from '../../../../assets/images/H-more.svg'\n// import MoreActive from '../../../../assets/images/H-more-blue.svg'\n\nimport './style.scss';\nimport { getSaloon, deleteSaloon } from 'redux/actions/saloon';\nimport { getBranch } from 'redux/actions/common';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport _ from 'lodash';\nexport class ListSalonsClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: 'Salons Name',\n        sortKey: true\n      }, {\n        label: 'Branch/Location',\n        sortKey: true\n      }, {\n        label: 'Service Details',\n        sortKey: true\n      }, {\n        label: 'Contact Number'\n      }, {\n        label: 'Opening date',\n        sortKey: true\n      }, {\n        label: ''\n      }],\n      saloonList: [],\n      meta: {},\n      active: false,\n      currentIndex: -1\n    };\n\n    this.componentDidMount = () => {\n      this.queryHandler({});\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener('click', this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener('click', this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.queryHandler = data => {\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      this.props.getBranch(`?page=${page}&limit=${limit}`).then(res => {\n        // this.props.getSaloon(`?page=${page}&limit=${limit}&search=${search}`).then((res) => {\n        console.log(res, \"dsfdfaafg\");\n        this.setState({\n          saloonList: res.data.dataList,\n          meta: res.data.meta.pagination\n        });\n      });\n    };\n\n    this.handlePagination = page => {\n      console.log(page, \"dsfsdfsdfsdf\");\n      this.queryHandler(page);\n    };\n\n    this.handlesearch = event => {\n      console.log(\"sadfasdfasdf\", event.target.value);\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          };\n          this.queryHandler(data);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleDeleteSaloon = id => {\n      this.props.deleteSaloon(`${id}/`).then(res => {});\n    };\n  }\n\n  render() {\n    let {\n      headerDetails,\n      saloonList,\n      meta,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-salon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, \"List of Salons\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 ml-5 mr-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Salons\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right add-saloon\",\n      label: \"Add Salon\",\n      onClick: () => this.props.history.push('/admin/salons/add'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, saloonList.length > 0 ? saloonList.map((item, index) => {\n      let {\n        ItemSite_Date,\n        itemsite_desc,\n        salon_name,\n        itemsite_phone1,\n        site_name,\n        created_at,\n        itemsite_date,\n        id,\n        images,\n        services,\n        skills\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }\n      }, salon_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 29\n        }\n      }, itemsite_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 29\n        }\n      }, skills)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      }, itemsite_phone1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }\n      }, itemsite_date)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, this.state.active && currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"42\",\n        height: \"42\",\n        viewBox: \"0 0 42 42\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"circle\", {\n        opacity: \"0.2\",\n        cx: \"21\",\n        cy: \"21\",\n        r: \"21\",\n        fill: \"#023F88\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M25.5 20.5C25.5 19.125 26.5125 18 27.75 18C28.9875 18 30 19.125 30 20.5C30 21.875 28.9875 23 27.75 23C26.5125 23 25.5 21.875 25.5 20.5ZM23.25 20.5C23.25 21.875 22.2375 23 21 23C19.7625 23 18.75 21.875 18.75 20.5C18.75 19.125 19.7625 18 21 18C22.2375 18 23.25 19.125 23.25 20.5ZM16.5 20.5C16.5 21.875 15.4875 23 14.25 23C13.0125 23 12 21.875 12 20.5C12 19.125 13.0125 18 14.25 18C15.4875 18 16.5 19.125 16.5 20.5Z\",\n        fill: \"#023F88\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 35\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pt-3\",\n        onClick: () => this.props.history.push(`/admin/salons/${id}/salonDetails`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 163\n        }\n      }), \" View \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16\",\n        onClick: () => this.props.history.push(`/admin/salons/${id}/editSaloon`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-edit px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 156\n        }\n      }), \" Edit \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-16 pb-3\",\n        onClick: () => this.handleDeleteSaloon(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 131\n        }\n      }), \" Delete \"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more horizontal-more-befor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        width: \"18\",\n        height: \"42\",\n        viewBox: \"0 0 18 5\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M13.5 2.5C13.5 1.125 14.5125 -8.01231e-07 15.75 -8.55324e-07C16.9875 -9.09417e-07 18 1.125 18 2.5C18 3.875 16.9875 5 15.75 5C14.5125 5 13.5 3.875 13.5 2.5ZM11.25 2.5C11.25 3.875 10.2375 5 9 5C7.7625 5 6.75 3.875 6.75 2.5C6.75 1.125 7.7625 -5.06179e-07 9 -5.60272e-07C10.2375 -6.14365e-07 11.25 1.125 11.25 2.5ZM4.5 2.5C4.5 3.875 3.4875 5 2.25 5C1.0125 5 -4.91753e-08 3.875 -1.09278e-07 2.5C-1.69382e-07 1.125 1.0125 -2.11127e-07 2.25 -2.6522e-07C3.4875 -3.19313e-07 4.5 1.125 4.5 2.5Z\",\n        fill: \"#C4C4C4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 33\n        }\n      })))));\n    }) : \"\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getSaloon,\n    deleteSaloon,\n    getBranch\n  }, dispatch);\n};\n\nexport const ListSalons = connect(mapStateToProps, mapDispatchToProps)(ListSalonsClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Salons/ListSalons/index.js"],"names":["React","NormalButton","InputSearch","TableWrapper","getSaloon","deleteSaloon","getBranch","connect","bindActionCreators","_","ListSalonsClass","Component","state","headerDetails","label","sortKey","saloonList","meta","active","currentIndex","componentDidMount","queryHandler","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","data","page","limit","search","props","then","res","console","log","dataList","pagination","handlePagination","handlesearch","event","value","persist","debouncedFn","debounce","searchString","handleDeleteSaloon","id","render","handleChange","history","push","length","map","item","index","ItemSite_Date","itemsite_desc","salon_name","itemsite_phone1","site_name","created_at","itemsite_date","images","services","skills","mapStateToProps","mapDispatchToProps","dispatch","ListSalons"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { NormalButton } from 'component/common';\r\nimport { InputSearch, TableWrapper } from 'component/common';\r\n// import More from '../../../../assets/images/H-more.svg'\r\n// import MoreActive from '../../../../assets/images/H-more-blue.svg'\r\nimport './style.scss'\r\nimport { getSaloon, deleteSaloon } from 'redux/actions/saloon';\r\nimport { getBranch } from 'redux/actions/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from 'lodash';\r\n\r\nexport class ListSalonsClass extends React.Component {\r\n\r\n  state = {\r\n    headerDetails: [\r\n      { label: 'Salons Name', sortKey: true },\r\n      { label: 'Branch/Location', sortKey: true },\r\n      { label: 'Service Details', sortKey: true },\r\n      { label: 'Contact Number' },\r\n      { label: 'Opening date', sortKey: true },\r\n      { label: '' }\r\n    ],\r\n    saloonList: [],\r\n    meta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // popup open/close\r\n  handleClick = (key) => {\r\n    if (!this.state.active) {\r\n      document.addEventListener('click', this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener('click', this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key\r\n    }));\r\n  }\r\n\r\n  // popup outside click\r\n  handleOutsideClick = (e) => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  }\r\n\r\n  // api call for salon\r\n  queryHandler = (data) => {\r\n    let { page = 1, limit = 10, search = \"\" } = data\r\n    this.props.getBranch(`?page=${page}&limit=${limit}`).then((res) => {\r\n      // this.props.getSaloon(`?page=${page}&limit=${limit}&search=${search}`).then((res) => {\r\n      console.log(res, \"dsfdfaafg\")\r\n      this.setState({ \r\n        saloonList: res.data.dataList, \r\n        meta: res.data.meta.pagination \r\n      })\r\n    })\r\n  }\r\n\r\n  // pagination\r\n  handlePagination = (page) => {\r\n    console.log(page, \"dsfsdfsdfsdf\")\r\n    this.queryHandler(page)\r\n  }\r\n\r\n  // search input changes and api call here\r\n  handlesearch = (event) => {\r\n    console.log(\"sadfasdfasdf\", event.target.value)\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString }\r\n        this.queryHandler(data)\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  }\r\n\r\n  // delete api call for salon\r\n  handleDeleteSaloon = (id) => {\r\n    this.props.deleteSaloon(`${id}/`).then((res) => {\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let { headerDetails, saloonList, meta, currentIndex } = this.state\r\n    return (\r\n      <>\r\n        <div className=\"list-salon\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-md-7\">\r\n              <h3>List of Salons</h3>\r\n            </div>\r\n            <div className=\"col-md-5\">\r\n              <div className=\"d-flex\">\r\n                <div className=\"w-100 ml-5 mr-3\">\r\n                  <InputSearch\r\n                    className=\"\"\r\n                    placeholder='Search Salons'\r\n                    onChange={this.handleChange} />\r\n                </div>\r\n                <div className=\"w-100 col-4 p-0\">\r\n                  <NormalButton\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15 float-right add-saloon\"\r\n                    label=\"Add Salon\"\r\n                    onClick={() => this.props.history.push('/admin/salons/add')}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"tab-table-content\" >\r\n            <div className=\"py-4\">\r\n              <div className=\"table-container\">\r\n                <TableWrapper\r\n                  headerDetails={headerDetails}\r\n                  queryHandler={this.handlePagination}\r\n                  pageMeta={meta}\r\n                >\r\n\r\n                  {saloonList.length > 0 ? saloonList.map((item, index) => {\r\n\r\n                    let {\r\n                      ItemSite_Date,\r\n                      itemsite_desc,\r\n                      salon_name,\r\n                      itemsite_phone1,\r\n                      site_name,\r\n                      created_at,\r\n                      itemsite_date,\r\n                      id,\r\n                      images,\r\n                      services,\r\n                      skills\r\n                    } = item\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{salon_name}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{itemsite_desc}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{skills}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{itemsite_phone1}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{itemsite_date}</div></td>\r\n\r\n                        <td className=\"position-relative\" ref={node => { this.node = node; }}\r\n                          onClick={() => this.handleClick(index)}\r\n                        >\r\n                          {this.state.active && currentIndex === index ?\r\n                            <>\r\n                              <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\r\n                                <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                  <circle opacity=\"0.2\" cx=\"21\" cy=\"21\" r=\"21\" fill=\"#023F88\" />\r\n                                  <path d=\"M25.5 20.5C25.5 19.125 26.5125 18 27.75 18C28.9875 18 30 19.125 30 20.5C30 21.875 28.9875 23 27.75 23C26.5125 23 25.5 21.875 25.5 20.5ZM23.25 20.5C23.25 21.875 22.2375 23 21 23C19.7625 23 18.75 21.875 18.75 20.5C18.75 19.125 19.7625 18 21 18C22.2375 18 23.25 19.125 23.25 20.5ZM16.5 20.5C16.5 21.875 15.4875 23 14.25 23C13.0125 23 12 21.875 12 20.5C12 19.125 13.0125 18 14.25 18C15.4875 18 16.5 19.125 16.5 20.5Z\" fill=\"#023F88\" />\r\n                                </svg>\r\n                              </div>\r\n                              <div className=\"option card\">\r\n                                <div className=\"d-flex align-items-center fs-16 pt-3\" onClick={() => this.props.history.push(`/admin/salons/${id}/salonDetails`)}><span className=\"icon-eye-grey px-3\"></span> View </div>\r\n                                <div className=\"d-flex align-items-center fs-16\" onClick={() => this.props.history.push(`/admin/salons/${id}/editSaloon`)}><span className=\"icon-edit px-3\"></span> Edit </div>\r\n                                <div className=\"d-flex align-items-center fs-16 pb-3\" onClick={() => this.handleDeleteSaloon(id)}><span className=\"icon-delete px-3\"></span> Delete </div>\r\n                              </div>\r\n                            </>\r\n                            :\r\n                            <div className=\"d-flex align-items-center justify-content-center horizontal-more horizontal-more-befor\">\r\n                              <svg width=\"18\" height=\"42\" viewBox=\"0 0 18 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M13.5 2.5C13.5 1.125 14.5125 -8.01231e-07 15.75 -8.55324e-07C16.9875 -9.09417e-07 18 1.125 18 2.5C18 3.875 16.9875 5 15.75 5C14.5125 5 13.5 3.875 13.5 2.5ZM11.25 2.5C11.25 3.875 10.2375 5 9 5C7.7625 5 6.75 3.875 6.75 2.5C6.75 1.125 7.7625 -5.06179e-07 9 -5.60272e-07C10.2375 -6.14365e-07 11.25 1.125 11.25 2.5ZM4.5 2.5C4.5 3.875 3.4875 5 2.25 5C1.0125 5 -4.91753e-08 3.875 -1.09278e-07 2.5C-1.69382e-07 1.125 1.0125 -2.11127e-07 2.25 -2.6522e-07C3.4875 -3.19313e-07 4.5 1.125 4.5 2.5Z\" fill=\"#C4C4C4\" />\r\n                              </svg>\r\n                            </div>\r\n                          }\r\n                        </td>\r\n\r\n                      </tr>\r\n                    )\r\n                  }) : \"\"}\r\n\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // filter: state.dashboard\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getSaloon,\r\n    deleteSaloon,\r\n    getBranch\r\n  }, dispatch)\r\n}\r\n\r\nexport const ListSalons = connect(mapStateToProps, mapDispatchToProps)(ListSalonsClass)"]},"metadata":{},"sourceType":"module"}