{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\CustomerDetailsPlus\\\\Details\\\\Dianosis.js\";\nimport React from \"react\";\nimport { NormalButton, NormalModal, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport closeIcon from \"assets/images/close.png\";\nimport _ from \"lodash\";\nimport { AddPhotoPopup } from \"./AddPhotoPopup\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { ComparePhotoPopup } from \"./ComparePhotoPopup\";\nimport { withTranslation } from \"react-i18next\";\nimport { getDiagnosisPhotos, getDiagnosisHistory } from \"redux/actions/customerPlus\";\nexport class DianosisClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      photoTableHeader: [{\n        label: \"Date Taken\",\n        sortKey: \"date\"\n      }, {\n        label: \"Diagnosis Code\",\n        sortKey: \"code\",\n        enabled: true\n      }, {\n        label: \"Remarks\",\n        sortKey: \"remarks\",\n        enabled: true\n      }, {\n        label: \"Compare\",\n        sortKey: \"compare\"\n      }, {\n        label: \"View\",\n        sortKey: \"view\"\n      }],\n      photoList: [],\n      historyTableHeader: [{\n        label: \"Compare Date\",\n        sortKey: \"date\"\n      }, {\n        label: \"Compare Remarks\",\n        sortKey: \"remarks\",\n        enabled: true\n      }, {\n        label: \"Diagnosis Reference\",\n        sortKey: \"referance\",\n        enabled: true\n      }, {\n        label: \"Date\",\n        sortKey: \"dDate\"\n      }, {\n        label: \"View\",\n        sortKey: \"view\"\n      }],\n      historyList: [],\n      visitTableHeader: [{\n        label: \"Date\",\n        sortKey: \"date\"\n      }, {\n        label: \"PDPA\",\n        sortKey: \"pdpa\",\n        enabled: true\n      }, {\n        label: \"Questionairre / Consultation\",\n        sortKey: \"consultation\",\n        enabled: true\n      }, {\n        label: \"Diagnosis\",\n        sortKey: \"diagnosis\"\n      }, {\n        label: \"Consent Form\",\n        sortKey: \"consent\"\n      }, {\n        label: \"Treatment Done\",\n        sortKey: \"treatments\"\n      }, {\n        label: \"Sales\",\n        sortKey: \"sales\"\n      }],\n      visitList: [],\n      photoListMeta: {},\n      historyMeta: {},\n      visitMeta: {},\n      active: false,\n      currentIndex: -1,\n      currentMenu: \"/\",\n      compareList: [],\n      selectedRemark: null,\n      selectedHistoryCode: null,\n      currentData: null,\n      isAddPhotoOpen: false,\n      isCompareOpen: false,\n      isMounted: true,\n      isLoading: true\n    };\n\n    this.loadDiagnosisPhotos = async (data = {}) => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        page = 1,\n        search = \"\"\n      } = data;\n      await this.props.getDiagnosisPhotos(this.props.id, `?page=${page}&search=${search}`);\n      let {\n        photoList\n      } = this.props;\n      this.state.photoList = photoList.diagnosisList;\n      this.state.photoListMeta = photoList.pagination;\n      this.updateState({\n        isLoading: false\n      });\n    };\n\n    this.loadDiagnosisHistory = async (data = {}) => {\n      this.updateState({\n        isLoading: true\n      });\n      let {\n        page = 1,\n        search = \"\"\n      } = data;\n      await this.props.getDiagnosisHistory(this.props.id, `?page=${page}&search=${search}`);\n      let {\n        historyList\n      } = this.props;\n      this.state.historyList = historyList.diagnosisList;\n      this.state.historyMeta = historyList.pagination;\n      this.updateState({\n        isLoading: false\n      });\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.handlePagination = (type, page) => {\n      if (type === \"photo\") {\n        this.loadDiagnosisPhotos(page);\n      }\n\n      if (type === \"history\") {}\n\n      if (type === \"visit\") {}\n    };\n\n    this.handlePhotosearch = event => {\n      this.loadDiagnosisPhotos({\n        search: event.target.value\n      });\n    };\n\n    this.handleHistorySearch = event => {\n      this.loadDiagnosisHistory({\n        search: event.target.value\n      });\n    };\n\n    this.handleVisitSearch = event => {};\n\n    this.handleMenuSelection = value => {\n      this.setState({\n        currentMenu: value,\n        selectedRemark: null,\n        compareList: []\n      });\n    };\n  }\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const submenu = queryParams.get(\"submenu\");\n    if (submenu) if (submenu == \"history\" || submenu == \"visits\") this.setState({\n      currentMenu: \"/\" + submenu\n    });\n    this.loadDiagnosisPhotos();\n    this.loadDiagnosisHistory();\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      photoTableHeader,\n      photoList,\n      photoListMeta,\n      historyMeta,\n      visitMeta,\n      currentData,\n      currentMenu,\n      isAddPhotoOpen,\n      isCompareOpen,\n      compareList,\n      historyList,\n      historyTableHeader,\n      selectedRemark,\n      visitList,\n      visitTableHeader,\n      isLoading\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-2 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"head-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, t(\"Dianosis\"))), /*#__PURE__*/React.createElement(Navigation, {\n      activeItemId: currentMenu,\n      onSelect: ({\n        itemId\n      }) => this.handleMenuSelection(itemId),\n      items: [{\n        title: t(\"Photos\"),\n        itemId: \"/\"\n      }, {\n        title: t(\"History\"),\n        itemId: \"/history\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    })), isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, \"Loading...\")))) : currentMenu == \"/\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-6 mb-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Photo\",\n      onEnter: this.handlePhotosearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-6 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-md-10 fs-15 float-right\",\n      label: \"Add Photo\",\n      onClick: () => {\n        this.state.currentData = null;\n        this.setState({\n          isAddPhotoOpen: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: photoTableHeader,\n      queryHandler: e => this.handlePagination(\"photo\", e),\n      pageMeta: photoListMeta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.setState(() => photoTableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, photoList ? photoList.map((item, index) => {\n      var _photoTableHeader$0$e, _photoTableHeader$1$e, _photoTableHeader$2$e, _photoTableHeader$3$e, _photoTableHeader$4$e;\n\n      let {\n        isCompare,\n        pic_path,\n        diagnosis_date,\n        diagnosis_code,\n        sys_code,\n        remarks,\n        pic_data1\n      } = item;\n      console.log(photoTableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$0$e = photoTableHeader[0].enabled) !== null && _photoTableHeader$0$e !== void 0 ? _photoTableHeader$0$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 35\n        }\n      }, new Date(diagnosis_date).toLocaleDateString(\"en-GB\"))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$1$e = photoTableHeader[1].enabled) !== null && _photoTableHeader$1$e !== void 0 ? _photoTableHeader$1$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 35\n        }\n      }, diagnosis_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$2$e = photoTableHeader[2].enabled) !== null && _photoTableHeader$2$e !== void 0 ? _photoTableHeader$2$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 35\n        }\n      }, remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$3$e = photoTableHeader[3].enabled) !== null && _photoTableHeader$3$e !== void 0 ? _photoTableHeader$3$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: isCompare,\n        onClick: () => {\n          if (isCompare) {\n            if (compareList.indexOf(index) != -1) compareList.pop(index);\n          } else compareList.push(index);\n\n          photoList[index].isCompare = !isCompare;\n          this.setState({\n            compareList\n          });\n          console.log(this.state.compareList);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_photoTableHeader$4$e = photoTableHeader[4].enabled) !== null && _photoTableHeader$4$e !== void 0 ? _photoTableHeader$4$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-20\",\n        onClick: () => this.setState({\n          currentData: {\n            image: pic_path,\n            remarks,\n            pic_data1,\n            diagnosis_code: sys_code\n          },\n          isAddPhotoOpen: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 39\n        }\n      })))));\n    }) : \"\"))), compareList.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: \"Compare\",\n      onClick: () => {\n        this.state.selectedRemark = null;\n        this.setState({\n          isCompareOpen: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }\n    })) : null) : currentMenu == \"/history\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search History\",\n      onEnter: this.handleHistorySearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: historyTableHeader,\n      queryHandler: e => this.handlePagination(\"history\", e),\n      pageMeta: historyMeta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.setState(() => historyTableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }\n    }, historyList ? historyList.map((item, index) => {\n      var _historyTableHeader$, _historyTableHeader$2, _historyTableHeader$3, _historyTableHeader$4, _historyTableHeader$5;\n\n      let {\n        diagnosis_list,\n        compare_datetime,\n        compare_remark,\n        id\n      } = item;\n      console.log(historyTableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$ = historyTableHeader[0].enabled) !== null && _historyTableHeader$ !== void 0 ? _historyTableHeader$ : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 35\n        }\n      }, new Date(compare_datetime).toLocaleDateString(\"en-GB\"))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$2 = historyTableHeader[1].enabled) !== null && _historyTableHeader$2 !== void 0 ? _historyTableHeader$2 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 35\n        }\n      }, compare_remark)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$3 = historyTableHeader[2].enabled) !== null && _historyTableHeader$3 !== void 0 ? _historyTableHeader$3 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 35\n        }\n      }, diagnosis_list.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, image.diagnosis_code, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 64\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$4 = historyTableHeader[3].enabled) !== null && _historyTableHeader$4 !== void 0 ? _historyTableHeader$4 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 35\n        }\n      }, diagnosis_list.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, new Date(image.date_pic_take).toLocaleDateString(\"en-GB\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 41\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_historyTableHeader$5 = historyTableHeader[4].enabled) !== null && _historyTableHeader$5 !== void 0 ? _historyTableHeader$5 : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-20\",\n        onClick: () => this.setState({\n          selectedRemark: compare_remark,\n          selectedHistoryCode: id,\n          compareList: diagnosis_list,\n          isCompareOpen: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 39\n        }\n      })))));\n    }) : \"\")))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: \"Search Visit\",\n      onEnter: this.handleVisitSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: visitTableHeader,\n      queryHandler: e => this.handlePagination(\"visit\", e),\n      pageMeta: visitMeta,\n      showFilterColumn: true,\n      parentHeaderChange: value => this.setState(() => visitTableHeader = value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 21\n      }\n    }, visitList ? visitList.map((item, index) => {\n      var _visitTableHeader$0$e, _visitTableHeader$1$e, _visitTableHeader$2$e, _visitTableHeader$3$e, _visitTableHeader$4$e;\n\n      let {\n        images,\n        date,\n        remarks\n      } = item;\n      console.log(visitTableHeader[0]);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$0$e = visitTableHeader[0].enabled) !== null && _visitTableHeader$0$e !== void 0 ? _visitTableHeader$0$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 35\n        }\n      }, date)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$1$e = visitTableHeader[1].enabled) !== null && _visitTableHeader$1$e !== void 0 ? _visitTableHeader$1$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 35\n        }\n      }, remarks)), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$2$e = visitTableHeader[2].enabled) !== null && _visitTableHeader$2$e !== void 0 ? _visitTableHeader$2$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 35\n        }\n      }, images.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, image.id, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 52\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$3$e = visitTableHeader[3].enabled) !== null && _visitTableHeader$3$e !== void 0 ? _visitTableHeader$3$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 35\n        }\n      }, images.map(image => /*#__PURE__*/React.createElement(React.Fragment, null, image.date, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 54\n        }\n      }))))), /*#__PURE__*/React.createElement(\"td\", {\n        className: ((_visitTableHeader$4$e = visitTableHeader[4].enabled) !== null && _visitTableHeader$4$e !== void 0 ? _visitTableHeader$4$e : true) ? \"\" : \"d-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-20\",\n        onClick: () => this.setState({\n          selectedRemark: remarks,\n          compareList: images,\n          isCompareOpen: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 39\n        }\n      })))));\n    }) : \"\"))))), /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"80%\"\n      },\n      modal: isAddPhotoOpen,\n      handleModal: () => this.setState({\n        isAddPhotoOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: () => this.setState({\n        isAddPhotoOpen: false\n      }),\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(AddPhotoPopup, {\n      image: currentData === null || currentData === void 0 ? void 0 : currentData.image,\n      remarks: currentData === null || currentData === void 0 ? void 0 : currentData.remarks,\n      layoutData: currentData === null || currentData === void 0 ? void 0 : currentData.pic_data1,\n      diagnosis_code: currentData === null || currentData === void 0 ? void 0 : currentData.diagnosis_code,\n      cust_no: this.props.id,\n      onDone: () => {\n        this.updateState({\n          isAddPhotoOpen: false\n        });\n        this.loadDiagnosisHistory();\n        this.loadDiagnosisPhotos();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"80%\"\n      },\n      modal: isCompareOpen,\n      handleModal: () => this.setState({\n        isCompareOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: () => this.setState({\n        isCompareOpen: false\n      }),\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ComparePhotoPopup, {\n      dataList: currentMenu == \"/\" ? compareList.map(id => photoList[id]) : compareList,\n      remarks: currentMenu == \"/\" ? null : selectedRemark,\n      id: this.state.selectedHistoryCode,\n      cust_code: this.props.id,\n      onDone: () => {\n        this.updateState({\n          isCompareOpen: false\n        });\n        this.loadDiagnosisHistory();\n        this.loadDiagnosisPhotos();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  photoList: state.customerPlus.customerDiagnosisPhotoList,\n  historyList: state.customerPlus.customerDiagnosisHistory\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getDiagnosisPhotos,\n    getDiagnosisHistory\n  }, dispatch);\n};\n\nexport const Dianosis = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(DianosisClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Details/Dianosis.js"],"names":["React","NormalButton","NormalModal","NormalSelect","InputSearch","TableWrapper","connect","bindActionCreators","closeIcon","_","AddPhotoPopup","Navigation","ComparePhotoPopup","withTranslation","getDiagnosisPhotos","getDiagnosisHistory","DianosisClass","Component","state","photoTableHeader","label","sortKey","enabled","photoList","historyTableHeader","historyList","visitTableHeader","visitList","photoListMeta","historyMeta","visitMeta","active","currentIndex","currentMenu","compareList","selectedRemark","selectedHistoryCode","currentData","isAddPhotoOpen","isCompareOpen","isMounted","isLoading","loadDiagnosisPhotos","data","updateState","page","search","props","id","diagnosisList","pagination","loadDiagnosisHistory","setState","handleOutsideClick","e","node","contains","target","handleClick","handlePagination","type","handlePhotosearch","event","value","handleHistorySearch","handleVisitSearch","handleMenuSelection","componentDidMount","queryParams","URLSearchParams","window","location","submenu","get","componentWillUnmount","render","t","itemId","title","map","item","index","isCompare","pic_path","diagnosis_date","diagnosis_code","sys_code","remarks","pic_data1","console","log","Date","toLocaleDateString","indexOf","pop","push","image","length","diagnosis_list","compare_datetime","compare_remark","date_pic_take","images","date","minWidth","mapStateToProps","customerPlus","customerDiagnosisPhotoList","customerDiagnosisHistory","mapDispatchToProps","dispatch","Dianosis"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NormalButton, NormalModal, NormalSelect } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport closeIcon from \"assets/images/close.png\";\nimport _ from \"lodash\";\nimport { AddPhotoPopup } from \"./AddPhotoPopup\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { ComparePhotoPopup } from \"./ComparePhotoPopup\";\nimport { withTranslation } from \"react-i18next\";\nimport {\n  getDiagnosisPhotos,\n  getDiagnosisHistory,\n} from \"redux/actions/customerPlus\";\n\nexport class DianosisClass extends React.Component {\n  state = {\n    photoTableHeader: [\n      { label: \"Date Taken\", sortKey: \"date\" },\n      { label: \"Diagnosis Code\", sortKey: \"code\", enabled: true },\n      { label: \"Remarks\", sortKey: \"remarks\", enabled: true },\n      { label: \"Compare\", sortKey: \"compare\" },\n      { label: \"View\", sortKey: \"view\" },\n    ],\n    photoList: [],\n    historyTableHeader: [\n      { label: \"Compare Date\", sortKey: \"date\" },\n      { label: \"Compare Remarks\", sortKey: \"remarks\", enabled: true },\n      { label: \"Diagnosis Reference\", sortKey: \"referance\", enabled: true },\n      { label: \"Date\", sortKey: \"dDate\" },\n      { label: \"View\", sortKey: \"view\" },\n    ],\n    historyList: [],\n    visitTableHeader: [\n      { label: \"Date\", sortKey: \"date\" },\n      { label: \"PDPA\", sortKey: \"pdpa\", enabled: true },\n      {\n        label: \"Questionairre / Consultation\",\n        sortKey: \"consultation\",\n        enabled: true,\n      },\n      { label: \"Diagnosis\", sortKey: \"diagnosis\" },\n      { label: \"Consent Form\", sortKey: \"consent\" },\n      { label: \"Treatment Done\", sortKey: \"treatments\" },\n      { label: \"Sales\", sortKey: \"sales\" },\n    ],\n    visitList: [],\n    photoListMeta: {},\n    historyMeta: {},\n    visitMeta: {},\n    active: false,\n    currentIndex: -1,\n    currentMenu: \"/\",\n    compareList: [],\n    selectedRemark: null,\n    selectedHistoryCode: null,\n    currentData: null,\n    isAddPhotoOpen: false,\n    isCompareOpen: false,\n    isMounted: true,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const submenu = queryParams.get(\"submenu\");\n    if (submenu)\n      if (submenu == \"history\" || submenu == \"visits\")\n        this.setState({ currentMenu: \"/\" + submenu });\n    this.loadDiagnosisPhotos();\n    this.loadDiagnosisHistory();\n  }\n\n  loadDiagnosisPhotos = async (data = {}) => {\n    this.updateState({ isLoading: true });\n    let { page = 1, search = \"\" } = data;\n    await this.props.getDiagnosisPhotos(\n      this.props.id,\n      `?page=${page}&search=${search}`\n    );\n    let { photoList } = this.props;\n    this.state.photoList = photoList.diagnosisList;\n    this.state.photoListMeta = photoList.pagination;\n    this.updateState({ isLoading: false });\n  };\n\n  loadDiagnosisHistory = async (data = {}) => {\n    this.updateState({ isLoading: true });\n    let { page = 1, search = \"\" } = data;\n    await this.props.getDiagnosisHistory(\n      this.props.id,\n      `?page=${page}&search=${search}`\n    );\n    let { historyList } = this.props;\n    this.state.historyList = historyList.diagnosisList;\n    this.state.historyMeta = historyList.pagination;\n    this.updateState({ isLoading: false });\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  handleOutsideClick = (e) => {\n    if (this.node != null) {\n      if (this.node.contains(e.target)) {\n        return;\n      }\n    }\n    this.handleClick();\n  };\n\n  handlePagination = (type, page) => {\n    if (type === \"photo\") {\n      this.loadDiagnosisPhotos(page);\n    }\n    if (type === \"history\") {\n    }\n    if (type === \"visit\") {\n    }\n  };\n\n  handlePhotosearch = (event) => {\n    this.loadDiagnosisPhotos({ search: event.target.value });\n  };\n  handleHistorySearch = (event) => {\n    this.loadDiagnosisHistory({ search: event.target.value });\n  };\n  handleVisitSearch = (event) => {};\n\n  handleMenuSelection = (value) => {\n    this.setState({\n      currentMenu: value,\n      selectedRemark: null,\n      compareList: [],\n    });\n  };\n\n  render() {\n    let {\n      photoTableHeader,\n      photoList,\n      photoListMeta,\n      historyMeta,\n      visitMeta,\n      currentData,\n      currentMenu,\n      isAddPhotoOpen,\n      isCompareOpen,\n      compareList,\n      historyList,\n      historyTableHeader,\n      selectedRemark,\n      visitList,\n      visitTableHeader,\n      isLoading,\n    } = this.state;\n    let { t } = this.props;\n    return (\n      <>\n        <div className=\"container-fluid mt-4\">\n          <div className=\"row\">\n            <div className=\"col-md-12 col-lg-2 mb-4\">\n              <div className=\"col-md-12 mb-4\">\n                <h3 className=\"head-label\">{t(\"Dianosis\")}</h3>\n              </div>\n              <Navigation\n                activeItemId={currentMenu}\n                onSelect={({ itemId }) => this.handleMenuSelection(itemId)}\n                items={[\n                  {\n                    title: t(\"Photos\"),\n                    itemId: \"/\",\n                  },\n                  {\n                    title: t(\"History\"),\n                    itemId: \"/history\",\n                  },\n                ]}\n              />\n            </div>\n            {isLoading ? (\n              <div className=\"col-md-12 col-lg-10\">\n                <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                  <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"sr-only\">Loading...</span>\n                  </div>\n                </div>\n              </div>\n            ) : currentMenu == \"/\" ? (\n              <div className=\"col-md-12 col-lg-10\">\n                <div className=\"col-md-12 mb-4\">\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 col-md-6 mb-4 p-0\">\n                      <InputSearch\n                        className=\"\"\n                        placeholder=\"Search Photo\"\n                        onEnter={this.handlePhotosearch}\n                      />\n                    </div>\n                    <div className=\"col-sm-12 col-md-6 p-0\">\n                      <NormalButton\n                        mainbg={true}\n                        className=\"col-md-10 fs-15 float-right\"\n                        label=\"Add Photo\"\n                        onClick={() => {\n                          this.state.currentData = null;\n                          this.setState({ isAddPhotoOpen: true });\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <div className=\"table-container\">\n                    <TableWrapper\n                      headerDetails={photoTableHeader}\n                      queryHandler={(e) => this.handlePagination(\"photo\", e)}\n                      pageMeta={photoListMeta}\n                      showFilterColumn={true}\n                      parentHeaderChange={(value) =>\n                        this.setState(() => (photoTableHeader = value))\n                      }\n                    >\n                      {photoList\n                        ? photoList.map((item, index) => {\n                            let {\n                              isCompare,\n                              pic_path,\n                              diagnosis_date,\n                              diagnosis_code,\n                              sys_code,\n                              remarks,\n                              pic_data1,\n                            } = item;\n                            console.log(photoTableHeader[0]);\n                            return (\n                              <tr key={index}>\n                                <td\n                                  className={\n                                    photoTableHeader[0].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {new Date(\n                                      diagnosis_date\n                                    ).toLocaleDateString(\"en-GB\")}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[1].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {diagnosis_code}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[2].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {remarks}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[3].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <input\n                                      type=\"checkbox\"\n                                      checked={isCompare}\n                                      onClick={() => {\n                                        if (isCompare) {\n                                          if (compareList.indexOf(index) != -1)\n                                            compareList.pop(index);\n                                        } else compareList.push(index);\n                                        photoList[index].isCompare = !isCompare;\n                                        this.setState({ compareList });\n                                        console.log(this.state.compareList);\n                                      }}\n                                    />\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    photoTableHeader[4].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-20\"\n                                      onClick={() =>\n                                        this.setState({\n                                          currentData: {\n                                            image: pic_path,\n                                            remarks,\n                                            pic_data1,\n                                            diagnosis_code: sys_code,\n                                          },\n                                          isAddPhotoOpen: true,\n                                        })\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey\"></span>\n                                    </div>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        : \"\"}\n                    </TableWrapper>\n                  </div>\n                </div>\n                {compareList.length > 0 ? (\n                  <div className=\"w-100 col-4 p-0\">\n                    <NormalButton\n                      mainbg={true}\n                      className=\"col-12 fs-15 float-right\"\n                      label=\"Compare\"\n                      onClick={() => {\n                        this.state.selectedRemark = null;\n                        this.setState({ isCompareOpen: true });\n                      }}\n                    />\n                  </div>\n                ) : null}\n              </div>\n            ) : currentMenu == \"/history\" ? (\n              <div className=\"col-md-12 col-lg-10\">\n                <div className=\"col-md-12 mb-4\">\n                  <div className=\"row\">\n                    <div className=\"col-12 p-0\">\n                      <InputSearch\n                        className=\"\"\n                        placeholder=\"Search History\"\n                        onEnter={this.handleHistorySearch}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <div className=\"table-container\">\n                    <TableWrapper\n                      headerDetails={historyTableHeader}\n                      queryHandler={(e) => this.handlePagination(\"history\", e)}\n                      pageMeta={historyMeta}\n                      showFilterColumn={true}\n                      parentHeaderChange={(value) =>\n                        this.setState(() => (historyTableHeader = value))\n                      }\n                    >\n                      {historyList\n                        ? historyList.map((item, index) => {\n                            let {\n                              diagnosis_list,\n                              compare_datetime,\n                              compare_remark,\n                              id,\n                            } = item;\n                            console.log(historyTableHeader[0]);\n                            return (\n                              <tr key={index}>\n                                <td\n                                  className={\n                                    historyTableHeader[0].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {new Date(\n                                      compare_datetime\n                                    ).toLocaleDateString(\"en-GB\")}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[1].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {compare_remark}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[2].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {diagnosis_list.map((image) => (\n                                      <>\n                                        {image.diagnosis_code} <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[3].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {diagnosis_list.map((image) => (\n                                      <>\n                                        {new Date(\n                                          image.date_pic_take\n                                        ).toLocaleDateString(\"en-GB\")}\n                                        <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    historyTableHeader[4].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-20\"\n                                      onClick={() =>\n                                        this.setState({\n                                          selectedRemark: compare_remark,\n                                          selectedHistoryCode: id,\n                                          compareList: diagnosis_list,\n                                          isCompareOpen: true,\n                                        })\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey\"></span>\n                                    </div>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        : \"\"}\n                    </TableWrapper>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"col-md-12 col-lg-10\">\n                <div className=\"col-md-12 mb-4\">\n                  <div className=\"row\">\n                    <div className=\"col-12 p-0\">\n                      <InputSearch\n                        className=\"\"\n                        placeholder=\"Search Visit\"\n                        onEnter={this.handleVisitSearch}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <div className=\"table-container\">\n                    <TableWrapper\n                      headerDetails={visitTableHeader}\n                      queryHandler={(e) => this.handlePagination(\"visit\", e)}\n                      pageMeta={visitMeta}\n                      showFilterColumn={true}\n                      parentHeaderChange={(value) =>\n                        this.setState(() => (visitTableHeader = value))\n                      }\n                    >\n                      {visitList\n                        ? visitList.map((item, index) => {\n                            let { images, date, remarks } = item;\n                            console.log(visitTableHeader[0]);\n                            return (\n                              <tr key={index}>\n                                <td\n                                  className={\n                                    visitTableHeader[0].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {date}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[1].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {remarks}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[2].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {images.map((image) => (\n                                      <>\n                                        {image.id} <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[3].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    {images.map((image) => (\n                                      <>\n                                        {image.date} <br />\n                                      </>\n                                    ))}\n                                  </div>\n                                </td>\n                                <td\n                                  className={\n                                    visitTableHeader[4].enabled ?? true\n                                      ? \"\"\n                                      : \"d-none\"\n                                  }\n                                >\n                                  <div className=\"d-flex align-items-center justify-content-center\">\n                                    <div\n                                      className=\"d-flex align-items-center fs-20\"\n                                      onClick={() =>\n                                        this.setState({\n                                          selectedRemark: remarks,\n                                          compareList: images,\n                                          isCompareOpen: true,\n                                        })\n                                      }\n                                    >\n                                      <span className=\"icon-eye-grey\"></span>\n                                    </div>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        : \"\"}\n                    </TableWrapper>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <NormalModal\n            style={{ minWidth: \"80%\" }}\n            modal={isAddPhotoOpen}\n            handleModal={() => this.setState({ isAddPhotoOpen: false })}\n          >\n            <img\n              onClick={() => this.setState({ isAddPhotoOpen: false })}\n              className=\"close cursor-pointer\"\n              src={closeIcon}\n              alt=\"\"\n            />\n            <AddPhotoPopup\n              image={currentData?.image}\n              remarks={currentData?.remarks}\n              layoutData={currentData?.pic_data1}\n              diagnosis_code={currentData?.diagnosis_code}\n              cust_no={this.props.id}\n              onDone={() => {\n                this.updateState({ isAddPhotoOpen: false });\n                this.loadDiagnosisHistory();\n                this.loadDiagnosisPhotos();\n              }}\n            />\n          </NormalModal>\n          <NormalModal\n            style={{ minWidth: \"80%\" }}\n            modal={isCompareOpen}\n            handleModal={() => this.setState({ isCompareOpen: false })}\n          >\n            <img\n              onClick={() => this.setState({ isCompareOpen: false })}\n              className=\"close cursor-pointer\"\n              src={closeIcon}\n              alt=\"\"\n            />\n            <ComparePhotoPopup\n              dataList={\n                currentMenu == \"/\"\n                  ? compareList.map((id) => photoList[id])\n                  : compareList\n              }\n              remarks={currentMenu == \"/\" ? null : selectedRemark}\n              id={this.state.selectedHistoryCode}\n              cust_code={this.props.id}\n              onDone={() => {\n                this.updateState({ isCompareOpen: false });\n                this.loadDiagnosisHistory();\n                this.loadDiagnosisPhotos();\n              }}\n            />\n          </NormalModal>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  photoList: state.customerPlus.customerDiagnosisPhotoList,\n  historyList: state.customerPlus.customerDiagnosisHistory,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getDiagnosisPhotos,\n      getDiagnosisHistory,\n    },\n    dispatch\n  );\n};\n\nexport const Dianosis = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(DianosisClass)\n);\n"]},"metadata":{},"sourceType":"module"}