{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalInput,NormalSelect,NormalTextarea,NormalDate,NormalButton,NormalModal}from\"component/common\";import Modal from\"assets/images/modal-avatar.png\";import\"./style.scss\";import{getCommonApi,commonPatchApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import closeIcon from\"assets/images/close.png\";import _ from\"lodash\";import{dateFormat}from\"service/helperFunctions\";import{history}from\"helpers\";export var AppointmentDetailClass=/*#__PURE__*/function(_Component){_inherits(AppointmentDetailClass,_Component);var _super=_createSuper(AppointmentDetailClass);function AppointmentDetailClass(){var _this;_classCallCheck(this,AppointmentDetailClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{appt_status:\"\",sec_status:\"\",Treatment:{emp_no:null}},appointmentDetail:{},userDetail:[{label:\"Joined\",value:\"02.05.2020\"},{label:\"D.O.B\",value:\"02.05.1995\"},{label:\"Gender\",value:\"Female\"},{label:\"Phone\",value:\"+65 62970125\"},{label:\"Email\",value:\"jamie@gmail.com\"},{label:\"Address\",value:\"1/2, Jurong west, Singapore.\"},{label:\"Member type\",value:\"Premium\"}],bookingList:[],secStatusList:[],isOpenModal:true,customerOption:[],search:\"\",staffOption:[]};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,formFields,staffOption;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,formFields=_this$state.formFields,staffOption=_this$state.staffOption;_context2.next=3;return _this.props.getCommonApi(\"bookingstatus/\").then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var status,data,sec_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=res.status,data=res.data,sec_data=res.sec_data;if(!(status===200)){_context.next=4;break;}_context.next=4;return _this.setState({bookingList:data,secStatusList:sec_data});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 3:_context2.next=5;return _this.props.getCommonApi(\"appointment/Staffs/?Outlet=&date=\".concat(dateFormat(new Date()))).then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;staffOption.push({value:value.id,label:value.emp_name});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({staffOption:staffOption});}});case 5:_this.getAppointmentDetail();case 6:case\"end\":return _context2.stop();}}},_callee2);}));_this.getAppointmentDetail=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var appointmentDetail;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:appointmentDetail=_this.state.appointmentDetail;_context4.next=3;return _this.props.getCommonApi(\"appointment/\".concat(_this.props.match.params.id,\"/\")).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key){var status,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:status=key.status,data=key.data;if(!(status===200)){_context3.next=6;break;}appointmentDetail=data;_context3.next=5;return _this.setState({appointmentDetail:appointmentDetail});case 5:_this.getDataFromStore();case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());case 3:case\"end\":return _context4.stop();}}},_callee4);}));_this.getDataFromStore=function(){debugger;var _this$state2=_this.state,appointmentDetail=_this$state2.appointmentDetail,formFields=_this$state2.formFields;formFields[\"appt_status\"]=appointmentDetail?appointmentDetail.Appointment_details.Booking_status:\"\";formFields[\"sec_status\"]=appointmentDetail.Appointment_details.Secondary_Status;formFields[\"Treatment\"][\"emp_no\"]=appointmentDetail.Treatment.emp_id;_this.setState({formFields:formFields});};_this.handleInput=function(_ref5){var _ref5$target=_ref5.target,name=_ref5$target.name,value=_ref5$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value===true?1:value;_this.setState({formFields:formFields});};_this.handleRemark=function(_ref6){var _ref6$target=_ref6.target,name=_ref6$target.name,value=_ref6$target.value;var appointmentDetail=_this.state.appointmentDetail;appointmentDetail[\"Remark\"][\"New_Remark\"]=value;_this.setState({appointmentDetail:appointmentDetail});};_this.handleBookingStatus=function(_ref7){var _ref7$target=_ref7.target,name=_ref7$target.name,value=_ref7$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[\"appt_status\"]=value;_this.setState({formFields:formFields});};_this.handleSecStatus=function(_ref8){var _ref8$target=_ref8.target,name=_ref8$target.name,value=_ref8$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[\"sec_status\"]=value;_this.setState({formFields:formFields});};_this.handleChangeTerapist=function(_ref9){var _ref9$target=_ref9.target,name=_ref9$target.name,value=_ref9$target.value;var formFields=Object.assign({},_this.state.formFields);formFields[\"Treatment\"][\"emp_no\"]=value;_this.setState({formFields:formFields});};_this.handleCloseDialog=function(){_this.setState({isOpenModal:false});history.push(\"/admin/newappointment\");};_this.handleSearch=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:event.persist();if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var searchString,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:searchString=event.target.value;data={search:searchString};// this.queryHandler(data)\n_context5.next=4;return _this.setState({search:searchString});case 4:_this.search(searchString);case 5:case\"end\":return _context5.stop();}}},_callee5);})),500);}_this.debouncedFn();case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x3){return _ref10.apply(this,arguments);};}();_this.search=function(searchString){var search=_this.state.search;_this.props.getCommonApi(\"custappt/?search=\".concat(search)).then(function(key){var status=key.status,data=key.data;if(status===200){// for (let value of data) {\n//     customerList.push({ value: value.id, label: value.emp_name })\n// }\n_this.setState({customerOption:data});}});};_this.handleSubmit=function(){var formFields=_this.state.formFields;_this.props.commonPatchApi(\"appointment/\".concat(_this.props.match.params.id,\"/UpdateDetail/\"),formFields).then(function(res){});};return _this;}_createClass(AppointmentDetailClass,[{key:\"render\",value:function render(){var _this$state3=this.state,_this$state3$appointm=_this$state3.appointmentDetail,appointmentDetail=_this$state3$appointm===void 0?{}:_this$state3$appointm,formFields=_this$state3.formFields,bookingList=_this$state3.bookingList,secStatusList=_this$state3.secStatusList,customerOption=_this$state3.customerOption,isOpenModal=_this$state3.isOpenModal,staffOption=_this$state3.staffOption;var _appointmentDetail$Ap=appointmentDetail.Appointment_details,Appointment_details=_appointmentDetail$Ap===void 0?{}:_appointmentDetail$Ap,_appointmentDetail$Bo=appointmentDetail.Booking_details,Booking_details=_appointmentDetail$Bo===void 0?{}:_appointmentDetail$Bo,_appointmentDetail$Re=appointmentDetail.Remark,Remark=_appointmentDetail$Re===void 0?{}:_appointmentDetail$Re,_appointmentDetail$Tr=appointmentDetail.Treatment,Treatment=_appointmentDetail$Tr===void 0?{}:_appointmentDetail$Tr,_appointmentDetail$cu=appointmentDetail.customer_detail,customer_detail=_appointmentDetail$cu===void 0?{}:_appointmentDetail$cu,Payment=appointmentDetail.Payment,Customer_Request=appointmentDetail.Customer_Request;var Booking_status=Appointment_details.Booking_status,Date=Appointment_details.Date,Outlet=Appointment_details.Outlet,Secondary_Status=Appointment_details.Secondary_Status,Time=Appointment_details.Time;var Appointment_channel=Booking_details.Appointment_channel,Booked_by=Booking_details.Booked_by,Source=Booking_details.Source;var New_Remark=Remark.New_Remark,Remark_Points=Remark.Remark_Points;var Duration=Treatment.Duration,End_Time=Treatment.End_Time,Room=Treatment.Room,Start_Time=Treatment.Start_Time,Status=Treatment.Status,Therapist=Treatment.Therapist,id=Treatment.id,emp_no=Treatment.emp_no;var cust_address=customer_detail.cust_address,cust_code=customer_detail.cust_code,cust_dob=customer_detail.cust_dob,cust_email=customer_detail.cust_email,cust_joindate=customer_detail.cust_joindate,cust_name=customer_detail.cust_name,cust_phone2=customer_detail.cust_phone2,cust_pic=customer_detail.cust_pic,cust_sex=customer_detail.cust_sex,member_type=customer_detail.member_type;return/*#__PURE__*/React.createElement(NormalModal,{className:\"w-100\",style:{minWidth:\"1400px\",height:\"100%\"},modal:isOpenModal,handleModal:this.handleCloseDialog},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleCloseDialog,className:\"close\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"appointment-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"re-direct\",onClick:function onClick(){return history.push(\"/admin/newappointment\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-left-arrow\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Back to appointments\")),/*#__PURE__*/React.createElement(\"p\",{className:\"head-label\"},\"Appointment details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"appointment\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"first-value\"},\"Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Time\"),/*#__PURE__*/React.createElement(\"th\",null,\"Outlet\"),/*#__PURE__*/React.createElement(\"th\",null,\"Booking Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Treatment\"))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,Date),/*#__PURE__*/React.createElement(\"td\",null,Time),/*#__PURE__*/React.createElement(\"td\",null,Outlet),/*#__PURE__*/React.createElement(\"td\",{className:\"appointment-status\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:bookingList,value:formFields.appt_status,name:\"bookingStatus\",onChange:this.handleBookingStatus,className:\"customer-name status py-1\"}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:secStatusList,value:formFields.sec_status,name:\"sec_status\",onChange:this.handleSecStatus,className:\"customer-name status py-1\"}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Payment \"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},Payment)),/*#__PURE__*/React.createElement(\"p\",{className:\"head-label\"},\"Treatment\"),/*#__PURE__*/React.createElement(\"div\",{className:\"appointment\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"first-value\"},\"Treatment\"),/*#__PURE__*/React.createElement(\"th\",{className:\"first-value\"},\"Start time\"),/*#__PURE__*/React.createElement(\"th\",null,\"End Time\"),/*#__PURE__*/React.createElement(\"th\",null,\"Room\"),/*#__PURE__*/React.createElement(\"th\",null,\"Therapist(s)\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,Treatment.Treatment),/*#__PURE__*/React.createElement(\"td\",null,Start_Time),/*#__PURE__*/React.createElement(\"td\",null,End_Time),/*#__PURE__*/React.createElement(\"td\",null,Room),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:staffOption,value:formFields.Treatment.emp_no,name:\"emp_no\",onChange:this.handleChangeTerapist,className:\"customer-name p-0\"}))),/*#__PURE__*/React.createElement(\"td\",{className:\"appointment-status\"},Status))))),/*#__PURE__*/React.createElement(\"p\",{className:\"head-label\"},\"Remarks\"),/*#__PURE__*/React.createElement(\"div\",{className:\"my-4\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter customer feedbacks...\",value:New_Remark,name:\"New_Remark\",onChange:this.handleRemark})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{label:\"Submit\",success:true,onClick:this.handleSubmit,className:\"mr-2 col-12\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"detail-card card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"detail-user-profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-avatar\"},/*#__PURE__*/React.createElement(\"img\",{className:\"modal-avatar\",src:cust_pic,alt:\"\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"user-name text-center\"},cust_name),/*#__PURE__*/React.createElement(NormalButton,{label:\"Id : \".concat(cust_code),className:\"mr-2 col-12\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Joined\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},cust_joindate)),/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"D.O.B\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},cust_dob)),/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Gender\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},cust_sex)),/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Phone\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},cust_phone2)),/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Email\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},cust_email)),/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Address\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},cust_address)),/*#__PURE__*/React.createElement(\"div\",{className:\"detail d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"status-label\"},\"Member type\"),/*#__PURE__*/React.createElement(\"p\",{className:\"spliter\"},\":\"),/*#__PURE__*/React.createElement(\"p\",{className:\"status-detail\"},member_type))))))));}}]);return AppointmentDetailClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonPatchApi:commonPatchApi},dispatch);};export var NewAppointmentDetail=connect(null,mapDispatchToProps)(AppointmentDetailClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/NewAppointment/NewAppointmentDetail/index.js"],"names":["React","Component","NormalInput","NormalSelect","NormalTextarea","NormalDate","NormalButton","NormalModal","Modal","getCommonApi","commonPatchApi","connect","bindActionCreators","closeIcon","_","dateFormat","history","AppointmentDetailClass","state","formFields","appt_status","sec_status","Treatment","emp_no","appointmentDetail","userDetail","label","value","bookingList","secStatusList","isOpenModal","customerOption","search","staffOption","componentDidMount","props","then","res","status","data","sec_data","setState","Date","key","push","id","emp_name","getAppointmentDetail","match","params","getDataFromStore","Appointment_details","Booking_status","Secondary_Status","emp_id","handleInput","target","name","Object","assign","handleRemark","handleBookingStatus","handleSecStatus","handleChangeTerapist","handleCloseDialog","handleSearch","event","persist","debouncedFn","debounce","searchString","handleSubmit","Booking_details","Remark","customer_detail","Payment","Customer_Request","Outlet","Time","Appointment_channel","Booked_by","Source","New_Remark","Remark_Points","Duration","End_Time","Room","Start_Time","Status","Therapist","cust_address","cust_code","cust_dob","cust_email","cust_joindate","cust_name","cust_phone2","cust_pic","cust_sex","member_type","minWidth","height","mapDispatchToProps","dispatch","NewAppointmentDetail"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalTextarea,\r\n  NormalDate,\r\n  NormalButton,\r\n  NormalModal,\r\n} from \"component/common\";\r\nimport Modal from \"assets/images/modal-avatar.png\";\r\nimport \"./style.scss\";\r\nimport { getCommonApi, commonPatchApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport _ from \"lodash\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport { history } from \"helpers\";\r\n\r\nexport class AppointmentDetailClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      appt_status: \"\",\r\n      sec_status: \"\",\r\n      Treatment: {\r\n        emp_no: null,\r\n      },\r\n    },\r\n    appointmentDetail: {},\r\n    userDetail: [\r\n      { label: \"Joined\", value: \"02.05.2020\" },\r\n      { label: \"D.O.B\", value: \"02.05.1995\" },\r\n      { label: \"Gender\", value: \"Female\" },\r\n      { label: \"Phone\", value: \"+65 62970125\" },\r\n      { label: \"Email\", value: \"jamie@gmail.com\" },\r\n      { label: \"Address\", value: \"1/2, Jurong west, Singapore.\" },\r\n      { label: \"Member type\", value: \"Premium\" },\r\n    ],\r\n    bookingList: [],\r\n    secStatusList: [],\r\n    isOpenModal: true,\r\n    customerOption: [],\r\n    search: \"\",\r\n    staffOption: [],\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    let { formFields, staffOption } = this.state;\r\n    await this.props.getCommonApi(\"bookingstatus/\").then(async res => {\r\n      let { status, data, sec_data } = res;\r\n      if (status === 200) {\r\n        await this.setState({ bookingList: data, secStatusList: sec_data });\r\n      }\r\n    });\r\n    await this.props\r\n      .getCommonApi(\r\n        `appointment/Staffs/?Outlet=&date=${dateFormat(new Date())}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          for (let value of data) {\r\n            staffOption.push({ value: value.id, label: value.emp_name });\r\n          }\r\n          this.setState({ staffOption });\r\n        }\r\n      });\r\n    this.getAppointmentDetail();\r\n  };\r\n\r\n  getAppointmentDetail = async () => {\r\n    let { appointmentDetail } = this.state;\r\n    await this.props\r\n      .getCommonApi(`appointment/${this.props.match.params.id}/`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          appointmentDetail = data;\r\n          await this.setState({\r\n            appointmentDetail,\r\n          });\r\n          this.getDataFromStore();\r\n        }\r\n      });\r\n  };\r\n\r\n  getDataFromStore = () => {\r\n    debugger;\r\n    let { appointmentDetail, formFields } = this.state;\r\n    formFields[\"appt_status\"] = appointmentDetail\r\n      ? appointmentDetail.Appointment_details.Booking_status\r\n      : \"\";\r\n    formFields[\"sec_status\"] =\r\n      appointmentDetail.Appointment_details.Secondary_Status;\r\n    formFields[\"Treatment\"][\"emp_no\"] = appointmentDetail.Treatment.emp_id;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleInput = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[name] = value === true ? 1 : value;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleRemark = ({ target: { name, value } }) => {\r\n    let { appointmentDetail } = this.state;\r\n    appointmentDetail[\"Remark\"][\"New_Remark\"] = value;\r\n    this.setState({\r\n      appointmentDetail,\r\n    });\r\n  };\r\n  handleBookingStatus = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[\"appt_status\"] = value;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleSecStatus = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[\"sec_status\"] = value;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleChangeTerapist = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n    formFields[\"Treatment\"][\"emp_no\"] = value;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleCloseDialog = () => {\r\n    this.setState({\r\n      isOpenModal: false,\r\n    });\r\n    history.push(`/admin/newappointment`);\r\n  };\r\n\r\n  handleSearch = async event => {\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString };\r\n        // this.queryHandler(data)\r\n        await this.setState({\r\n          search: searchString,\r\n        });\r\n        this.search(searchString);\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  search = searchString => {\r\n    let { search } = this.state;\r\n    this.props.getCommonApi(`custappt/?search=${search}`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        // for (let value of data) {\r\n        //     customerList.push({ value: value.id, label: value.emp_name })\r\n        // }\r\n        this.setState({ customerOption: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { formFields } = this.state;\r\n    this.props\r\n      .commonPatchApi(\r\n        `appointment/${this.props.match.params.id}/UpdateDetail/`,\r\n        formFields\r\n      )\r\n      .then(res => {});\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      appointmentDetail = {},\r\n      formFields,\r\n      bookingList,\r\n      secStatusList,\r\n      customerOption,\r\n      isOpenModal,\r\n      staffOption,\r\n    } = this.state;\r\n    let {\r\n      Appointment_details = {},\r\n      Booking_details = {},\r\n      Remark = {},\r\n      Treatment = {},\r\n      customer_detail = {},\r\n      Payment,\r\n      Customer_Request,\r\n    } = appointmentDetail;\r\n    let {\r\n      Booking_status,\r\n      Date,\r\n      Outlet,\r\n      Secondary_Status,\r\n      Time,\r\n    } = Appointment_details;\r\n    let { Appointment_channel, Booked_by, Source } = Booking_details;\r\n    let { New_Remark, Remark_Points } = Remark;\r\n    let {\r\n      Duration,\r\n      End_Time,\r\n      Room,\r\n      Start_Time,\r\n      Status,\r\n      Therapist,\r\n      id,\r\n      emp_no,\r\n    } = Treatment;\r\n    let {\r\n      cust_address,\r\n      cust_code,\r\n      cust_dob,\r\n      cust_email,\r\n      cust_joindate,\r\n      cust_name,\r\n      cust_phone2,\r\n      cust_pic,\r\n      cust_sex,\r\n      member_type,\r\n    } = customer_detail;\r\n    return (\r\n      <NormalModal\r\n        className=\"w-100\"\r\n        style={{ minWidth: \"1400px\", height: \"100%\" }}\r\n        modal={isOpenModal}\r\n        handleModal={this.handleCloseDialog}\r\n      >\r\n        <img\r\n          onClick={this.handleCloseDialog}\r\n          className=\"close\"\r\n          src={closeIcon}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"appointment-detail\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-9\">\r\n              <div\r\n                className=\"re-direct\"\r\n                onClick={() => history.push(`/admin/newappointment`)}\r\n              >\r\n                <i className=\"icon-left-arrow\"></i>\r\n                <p>Back to appointments</p>\r\n              </div>\r\n              <p className=\"head-label\">Appointment details</p>\r\n              <div className=\"appointment\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"first-value\">Date</th>\r\n                      <th>Time</th>\r\n                      <th>Outlet</th>\r\n                      <th>Booking Status</th>\r\n                      <th>Treatment</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>{Date}</td>\r\n                      <td>{Time}</td>\r\n                      <td>{Outlet}</td>\r\n                      <td className=\"appointment-status\">\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            options={bookingList}\r\n                            value={formFields.appt_status}\r\n                            name=\"bookingStatus\"\r\n                            onChange={this.handleBookingStatus}\r\n                            className=\"customer-name status py-1\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            options={secStatusList}\r\n                            value={formFields.sec_status}\r\n                            name=\"sec_status\"\r\n                            onChange={this.handleSecStatus}\r\n                            className=\"customer-name status py-1\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div className=\"status\">\r\n                <p className=\"status-label\">Payment </p>\r\n                <p className=\"status-detail\">{Payment}</p>\r\n              </div>\r\n              <p className=\"head-label\">Treatment</p>\r\n              <div className=\"appointment\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"first-value\">Treatment</th>\r\n                      <th className=\"first-value\">Start time</th>\r\n                      <th>End Time</th>\r\n                      <th>Room</th>\r\n                      <th>Therapist(s)</th>\r\n                      <th>Status</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>{Treatment.Treatment}</td>\r\n                      <td>{Start_Time}</td>\r\n                      <td>{End_Time}</td>\r\n                      <td>{Room}</td>\r\n                      <td>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            // placeholder=\"Enter here\"\r\n                            options={staffOption}\r\n                            value={formFields.Treatment.emp_no}\r\n                            name=\"emp_no\"\r\n                            onChange={this.handleChangeTerapist}\r\n                            className=\"customer-name p-0\"\r\n                          />\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"appointment-status\">{Status}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <p className=\"head-label\">Remarks</p>\r\n              <div className=\"my-4\">\r\n                <NormalTextarea\r\n                  placeholder=\"Enter customer feedbacks...\"\r\n                  value={New_Remark}\r\n                  name=\"New_Remark\"\r\n                  onChange={this.handleRemark}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"d-flex justify-content-center\">\r\n                <div className=\"col-2\">\r\n                  <NormalButton\r\n                    label=\"Submit\"\r\n                    success={true}\r\n                    onClick={this.handleSubmit}\r\n                    className=\"mr-2 col-12\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              <div className=\"detail-card card\">\r\n                <div className=\"detail-user-profile\">\r\n                  <div className=\"profile-avatar\">\r\n                    <img className=\"modal-avatar\" src={cust_pic} alt=\"\" />\r\n                  </div>\r\n                  <p className=\"user-name text-center\">{cust_name}</p>\r\n                  <NormalButton\r\n                    label={`Id : ${cust_code}`}\r\n                    className=\"mr-2 col-12\"\r\n                  />\r\n                </div>\r\n                <div className=\"user-detail\">\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">Joined</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{cust_joindate}</p>\r\n                  </div>\r\n\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">D.O.B</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{cust_dob}</p>\r\n                  </div>\r\n\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">Gender</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{cust_sex}</p>\r\n                  </div>\r\n\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">Phone</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{cust_phone2}</p>\r\n                  </div>\r\n\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">Email</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{cust_email}</p>\r\n                  </div>\r\n\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">Address</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{cust_address}</p>\r\n                  </div>\r\n\r\n                  <div className=\"detail d-flex\">\r\n                    <p className=\"status-label\">Member type</p>\r\n                    <p className=\"spliter\">:</p>\r\n                    <p className=\"status-detail\">{member_type}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </NormalModal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const NewAppointmentDetail = connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AppointmentDetailClass);\r\n"]},"metadata":{},"sourceType":"module"}