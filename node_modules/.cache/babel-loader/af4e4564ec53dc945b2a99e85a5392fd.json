{"ast":null,"code":"/**\r\n * DevExtreme (ui/diagram/ui.diagram.menu_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _icon = require(\"../../core/utils/icon\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar DIAGRAM_CONTEXT_MENU_CLASS = \"dx-diagram-contextmenu\";\nvar DiagramMenuHelper = {\n  getContextMenuItemTemplate: function (contextMenu, itemData, itemIndex, itemElement) {\n    var $itemElement = (0, _renderer.default)(itemElement);\n    $itemElement.empty();\n    var itemKey = void 0 !== itemData.rootCommand ? itemData.rootCommand : -1;\n\n    if (itemData.icon && !itemData.checked) {\n      var $iconElement = (0, _icon.getImageContainer)(itemData.icon);\n      $itemElement.append($iconElement);\n    } else {\n      if (contextMenu._menuHasCheckedItems && true === contextMenu._menuHasCheckedItems[itemKey]) {\n        var $checkElement = (0, _icon.getImageContainer)(\"check\");\n        $checkElement.css(\"visibility\", !itemData.checked ? \"hidden\" : \"visible\");\n        $itemElement.append($checkElement);\n      }\n    }\n\n    $itemElement.append('<span class=\"dx-menu-item-text\">' + itemData.text + \"</span>\");\n\n    if (Array.isArray(itemData.items) && itemData.items.length > 0) {\n      $itemElement.append('<span class=\"dx-menu-item-popout-container\"><div class=\"dx-menu-item-popout\"></div></span>');\n    }\n  },\n  getContextMenuCssClass: function () {\n    return DIAGRAM_CONTEXT_MENU_CLASS;\n  },\n  onContextMenuItemClick: function (widget, itemData, actionHandler) {\n    if ((void 0 !== itemData.command || void 0 !== itemData.name) && (!Array.isArray(itemData.items) || !itemData.items.length)) {\n      var parameter = DiagramMenuHelper.getItemCommandParameter(widget, itemData);\n      actionHandler.call(this, itemData.command, itemData.name, parameter);\n    } else {\n      if (void 0 !== itemData.rootCommand && void 0 !== itemData.value) {\n        var _parameter = DiagramMenuHelper.getItemCommandParameter(widget, itemData, itemData.value);\n\n        actionHandler.call(this, itemData.rootCommand, void 0, _parameter);\n      }\n    }\n  },\n  getItemValue: function (item) {\n    return \"object\" === _typeof(item.value) ? JSON.stringify(item.value) : item.value;\n  },\n  getItemOptionText: function (contextMenu, indexPath) {\n    if (contextMenu) {\n      indexPath = indexPath.slice();\n\n      var parentItemOptionText = this._getParentItemOptionText(indexPath);\n\n      if (contextMenu && contextMenu._originalItemsInfo && contextMenu._originalItemsInfo[parentItemOptionText]) {\n        indexPath[indexPath.length - 1] += contextMenu._originalItemsInfo[parentItemOptionText].indexPathCorrection;\n      }\n    }\n\n    return this._getItemOptionTextCore(indexPath);\n  },\n  _getParentItemOptionText: function (indexPath) {\n    var parentIndexPath = indexPath.slice(0, indexPath.length - 1);\n    return this._getItemOptionTextCore(parentIndexPath);\n  },\n  _getItemOptionTextCore: function (indexPath) {\n    return indexPath.reduce(function (r, i) {\n      return r + \"items[\".concat(i, \"].\");\n    }, \"\");\n  },\n  getItemCommandParameter: function (widget, item, value) {\n    if (item.getParameter) {\n      return item.getParameter(widget);\n    }\n\n    return value;\n  },\n  updateContextMenuItems: function (contextMenu, itemOptionText, rootCommandKey, items) {\n    var _this = this;\n\n    if (!contextMenu._originalItemsInfo) {\n      contextMenu._originalItemsInfo = {};\n    }\n\n    if (!contextMenu._originalItemsInfo[itemOptionText]) {\n      contextMenu._originalItemsInfo[itemOptionText] = {\n        items: contextMenu.option(itemOptionText + \"items\") || []\n      };\n    }\n\n    items = items.map(function (item) {\n      return {\n        value: _this.getItemValue(item),\n        text: item.text,\n        checked: item.checked,\n        widget: contextMenu,\n        rootCommand: rootCommandKey\n      };\n    });\n    var originalItems = contextMenu._originalItemsInfo[itemOptionText].items;\n    contextMenu.option(itemOptionText + \"items\", items.concat(originalItems));\n\n    if (contextMenu._originalItemsInfo[itemOptionText] && originalItems.length) {\n      contextMenu._originalItemsInfo[itemOptionText].indexPathCorrection = items.length;\n    }\n  },\n  updateContextMenuItemVisible: function (contextMenu, itemOptionText, visible) {\n    contextMenu.option(itemOptionText + \"visible\", visible);\n  },\n  updateContextMenuItemValue: function (contextMenu, itemOptionText, rootCommandKey, value) {\n    var items = contextMenu.option(itemOptionText + \"items\");\n\n    if (\"boolean\" === typeof value && (!items || !items.length)) {\n      this._setContextMenuHasCheckedItems(contextMenu, -1);\n\n      contextMenu.option(itemOptionText + \"checked\", value);\n    } else {\n      if (void 0 !== value) {\n        this._setContextMenuHasCheckedItems(contextMenu, rootCommandKey);\n\n        if (Array.isArray(items)) {\n          items.forEach(function (item, index) {\n            item.checked = item.value === value;\n          });\n        }\n      }\n    }\n  },\n  _setContextMenuHasCheckedItems: function (contextMenu, key) {\n    if (!contextMenu._menuHasCheckedItems) {\n      contextMenu._menuHasCheckedItems = {};\n    }\n\n    contextMenu._menuHasCheckedItems[key] = true;\n  }\n};\nvar _default = DiagramMenuHelper;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/diagram/ui.diagram.menu_helper.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_icon","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","DIAGRAM_CONTEXT_MENU_CLASS","DiagramMenuHelper","getContextMenuItemTemplate","contextMenu","itemData","itemIndex","itemElement","$itemElement","empty","itemKey","rootCommand","icon","checked","$iconElement","getImageContainer","append","_menuHasCheckedItems","$checkElement","css","text","Array","isArray","items","length","getContextMenuCssClass","onContextMenuItemClick","widget","actionHandler","command","name","parameter","getItemCommandParameter","call","value","_parameter","getItemValue","item","JSON","stringify","getItemOptionText","indexPath","slice","parentItemOptionText","_getParentItemOptionText","_originalItemsInfo","indexPathCorrection","_getItemOptionTextCore","parentIndexPath","reduce","r","i","concat","getParameter","updateContextMenuItems","itemOptionText","rootCommandKey","_this","option","map","originalItems","updateContextMenuItemVisible","visible","updateContextMenuItemValue","_setContextMenuHasCheckedItems","forEach","index","key","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/diagram/ui.diagram.menu_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _icon = require(\"../../core/utils/icon\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar DIAGRAM_CONTEXT_MENU_CLASS = \"dx-diagram-contextmenu\";\r\nvar DiagramMenuHelper = {\r\n    getContextMenuItemTemplate: function(contextMenu, itemData, itemIndex, itemElement) {\r\n        var $itemElement = (0, _renderer.default)(itemElement);\r\n        $itemElement.empty();\r\n        var itemKey = void 0 !== itemData.rootCommand ? itemData.rootCommand : -1;\r\n        if (itemData.icon && !itemData.checked) {\r\n            var $iconElement = (0, _icon.getImageContainer)(itemData.icon);\r\n            $itemElement.append($iconElement)\r\n        } else {\r\n            if (contextMenu._menuHasCheckedItems && true === contextMenu._menuHasCheckedItems[itemKey]) {\r\n                var $checkElement = (0, _icon.getImageContainer)(\"check\");\r\n                $checkElement.css(\"visibility\", !itemData.checked ? \"hidden\" : \"visible\");\r\n                $itemElement.append($checkElement)\r\n            }\r\n        }\r\n        $itemElement.append('<span class=\"dx-menu-item-text\">' + itemData.text + \"</span>\");\r\n        if (Array.isArray(itemData.items) && itemData.items.length > 0) {\r\n            $itemElement.append('<span class=\"dx-menu-item-popout-container\"><div class=\"dx-menu-item-popout\"></div></span>')\r\n        }\r\n    },\r\n    getContextMenuCssClass: function() {\r\n        return DIAGRAM_CONTEXT_MENU_CLASS\r\n    },\r\n    onContextMenuItemClick: function(widget, itemData, actionHandler) {\r\n        if ((void 0 !== itemData.command || void 0 !== itemData.name) && (!Array.isArray(itemData.items) || !itemData.items.length)) {\r\n            var parameter = DiagramMenuHelper.getItemCommandParameter(widget, itemData);\r\n            actionHandler.call(this, itemData.command, itemData.name, parameter)\r\n        } else {\r\n            if (void 0 !== itemData.rootCommand && void 0 !== itemData.value) {\r\n                var _parameter = DiagramMenuHelper.getItemCommandParameter(widget, itemData, itemData.value);\r\n                actionHandler.call(this, itemData.rootCommand, void 0, _parameter)\r\n            }\r\n        }\r\n    },\r\n    getItemValue: function(item) {\r\n        return \"object\" === _typeof(item.value) ? JSON.stringify(item.value) : item.value\r\n    },\r\n    getItemOptionText: function(contextMenu, indexPath) {\r\n        if (contextMenu) {\r\n            indexPath = indexPath.slice();\r\n            var parentItemOptionText = this._getParentItemOptionText(indexPath);\r\n            if (contextMenu && contextMenu._originalItemsInfo && contextMenu._originalItemsInfo[parentItemOptionText]) {\r\n                indexPath[indexPath.length - 1] += contextMenu._originalItemsInfo[parentItemOptionText].indexPathCorrection\r\n            }\r\n        }\r\n        return this._getItemOptionTextCore(indexPath)\r\n    },\r\n    _getParentItemOptionText: function(indexPath) {\r\n        var parentIndexPath = indexPath.slice(0, indexPath.length - 1);\r\n        return this._getItemOptionTextCore(parentIndexPath)\r\n    },\r\n    _getItemOptionTextCore: function(indexPath) {\r\n        return indexPath.reduce(function(r, i) {\r\n            return r + \"items[\".concat(i, \"].\")\r\n        }, \"\")\r\n    },\r\n    getItemCommandParameter: function(widget, item, value) {\r\n        if (item.getParameter) {\r\n            return item.getParameter(widget)\r\n        }\r\n        return value\r\n    },\r\n    updateContextMenuItems: function(contextMenu, itemOptionText, rootCommandKey, items) {\r\n        var _this = this;\r\n        if (!contextMenu._originalItemsInfo) {\r\n            contextMenu._originalItemsInfo = {}\r\n        }\r\n        if (!contextMenu._originalItemsInfo[itemOptionText]) {\r\n            contextMenu._originalItemsInfo[itemOptionText] = {\r\n                items: contextMenu.option(itemOptionText + \"items\") || []\r\n            }\r\n        }\r\n        items = items.map(function(item) {\r\n            return {\r\n                value: _this.getItemValue(item),\r\n                text: item.text,\r\n                checked: item.checked,\r\n                widget: contextMenu,\r\n                rootCommand: rootCommandKey\r\n            }\r\n        });\r\n        var originalItems = contextMenu._originalItemsInfo[itemOptionText].items;\r\n        contextMenu.option(itemOptionText + \"items\", items.concat(originalItems));\r\n        if (contextMenu._originalItemsInfo[itemOptionText] && originalItems.length) {\r\n            contextMenu._originalItemsInfo[itemOptionText].indexPathCorrection = items.length\r\n        }\r\n    },\r\n    updateContextMenuItemVisible: function(contextMenu, itemOptionText, visible) {\r\n        contextMenu.option(itemOptionText + \"visible\", visible)\r\n    },\r\n    updateContextMenuItemValue: function(contextMenu, itemOptionText, rootCommandKey, value) {\r\n        var items = contextMenu.option(itemOptionText + \"items\");\r\n        if (\"boolean\" === typeof value && (!items || !items.length)) {\r\n            this._setContextMenuHasCheckedItems(contextMenu, -1);\r\n            contextMenu.option(itemOptionText + \"checked\", value)\r\n        } else {\r\n            if (void 0 !== value) {\r\n                this._setContextMenuHasCheckedItems(contextMenu, rootCommandKey);\r\n                if (Array.isArray(items)) {\r\n                    items.forEach(function(item, index) {\r\n                        item.checked = item.value === value\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _setContextMenuHasCheckedItems: function(contextMenu, key) {\r\n        if (!contextMenu._menuHasCheckedItems) {\r\n            contextMenu._menuHasCheckedItems = {}\r\n        }\r\n        contextMenu._menuHasCheckedItems[key] = true\r\n    }\r\n};\r\nvar _default = DiagramMenuHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}