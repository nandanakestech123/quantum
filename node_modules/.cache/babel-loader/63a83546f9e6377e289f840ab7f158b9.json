{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{Link}from\"react-router-dom\";import SimpleReactValidator from\"simple-react-validator\";import{Redirect}from'react-router-dom';import{NormalInput,NormalSelect,NormalButton,NormalTextarea,NormalDateTime,NormalMultiSelect}from\"component/common\";import{displayImg,dateFormat}from\"service/helperFunctions\";// import { DragFileUpload } from \"../../../common\";\nimport{createProject,updateProject}from\"redux/actions/project\";import{getJobtitle,getCommonApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{FormGroup,Label,Input}from\"reactstrap\";// import { ScheduleTable } from \"./ScheduleTable\";\nimport{withTranslation}from\"react-i18next\";import{Activities}from\"./activities\";import{Quotation}from\"./quotation\";import{PO}from\"./PO\";import{NavLink}from\"react-router-dom\";import{getTokenDetails}from\"redux/actions/auth\";export var AddProjectClass=/*#__PURE__*/function(_Component){_inherits(AddProjectClass,_Component);var _super=_createSuper(AddProjectClass);function AddProjectClass(){var _this;_classCallCheck(this,AddProjectClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{projectTitle:\"\",projectDesc:\"\",status:\"\",custName:\"\",contactName:\"\",contactNumber:\"\"},// scheduleOptions: [],\nprojectList:[],statusOption:[],// locationOption: [],\n// levelList: [],\nis_loading:true,isMounted:true,active:false,currentValue:0,// navLinks: [\n//   { to: \"/admin/project/add\", label: \"Activities\", id: \"Activities\" },\n//   { to: \"/admin/project/add\", label: \"Quotation\", id: \"Quotation\" },\n//   { to: \"/admin/project/add\", label: \"Purchase Order\", id: \"PO\" },\n// ],\nnavLinks:[{to:_this.props.location.pathname,label:\"Activities\",id:\"Activities\"},{to:_this.props.location.pathname,label:\"Quotation\",id:\"Quotation\"},{to:_this.props.location.pathname,label:\"Purchase Order\",id:\"PO\"}],selectedMenu:\"Activities\"};_this.componentWillMount=function(){_this.getStatus();// console.log(\"componentWillMount statusoption\",this.state.statusOption )\n_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.getStatus=function(){var statusOption=_this.state.statusOption;console.log(\"this.props addpro\",_this.props);console.log(\"this.props.match.params.id addpro\",_this.props.match.params.id);// statusOption = [];\n_this.props.getCommonApi(\"dropdownproject\").then(function(res){// activeMenu = []\nconsole.log(\"res.data\",res);var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;statusOption.push({value:key.id,label:key.dropdown_item,code:key.dropdown_desc,active:key.active});}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(\"statusOption\",statusOption);_this.updateState({statusOption:statusOption});if(_this.props.match.params.id){_this.autoFillForm();};});};_this.autoFillForm=function(){// let { statusOption } = this.state;\n_this.props.getCommonApi(\"projectlist/?searchid=\".concat(_this.props.match.params.id)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"project dataList\",res.data.dataList);console.log(\"project dataList cust name\",res.data.dataList[0].customer_name);// custName = res.data.dataList[0].customer_name\n// this.state.projectList = res.data.dataList\n_this.state.formFields[\"projectTitle\"]=res.data.dataList[0].title;_this.state.formFields[\"projectDesc\"]=res.data.dataList[0].desc;// const people = [ {name: \"john\", age:23},\n//         {name: \"john\", age:43},\n//         {name: \"jim\", age:101},\n//         {name: \"bob\", age:67} ];\n//   // const john = people.find(person => person.name === john);\n// console.log(\"people testing\",people.find(person => person.name === \"john\"));\n// const statusOPtionLoop = this.state.statusOption\n// console.log(\"statusOPtionLoop\",statusOPtionLoop[0])\n// for (let x in statusOPtionLoop){\n//   console.log(\"statusOPtionLoop elements\", x)\n// }\n// console.log(\"statusOPtionLoop\",statusOPtionLoop.find((person => person.label === \"Lead\")))\n// console.log(\"statusOptionTemp\",statusOptionTemp)\n// console.log(\"statusOptionTemp[0]\",statusOptionTemp[0])\nconsole.log(\"statusOption in prefill\",_this.state.statusOption);console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status);// if status empty prevent err\nif(res.data.dataList[0].status){//matching status name with the id to set prefill status in dropdown\n_this.state.formFields[\"status\"]=_this.state.statusOption.find(function(option){return option.label===res.data.dataList[0].status;}).value;}_this.state.formFields[\"custName\"]=res.data.dataList[0].customer_name;_this.state.formFields[\"contactName\"]=res.data.dataList[0].contact_person;_this.state.formFields[\"contactNumber\"]=res.data.dataList[0].contact_number;_this.updateState(_this.state.formFields);console.log(\"this.state.formFields\",_this.state.formFields);case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key){var _this$state,active,currentValue;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,active=_this$state.active,currentValue=_this$state.currentValue;_context2.next=3;return _this.updateState({selectedMenu:key.id});case 3:_this.updateState({active:true,currentValue:key.key,selected:key.id});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleChange=function(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;var formFields=Object.assign({},_this.state.formFields);formFields[name]=value;_this.updateState({formFields:formFields});};_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$state2,formFields,statusOption,statusValue,_iterator2,_step2,key,formData,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(!_this.validator.allValid()){_context3.next=33;break;}//   this.updateState({ is_loading: true });\n//   let { formFields } = this.state;\n//   Object.keys(formFields).forEach((e) => {\n//     if (typeof formFields[e] === \"boolean\")\n//       formFields[e] = formFields[e] ? \"True\" : \"False\";\n//   });\n_this$state2=_this.state,formFields=_this$state2.formFields,statusOption=_this$state2.statusOption;statusValue=\"\";console.log('formFields.status',formFields.status);_iterator2=_createForOfIteratorHelper(statusOption);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){key=_step2.value;// console.log(key.value)\nif(key.value==formFields.status){statusValue=key.label;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(\"statusValue\",statusValue);formData=new FormData();formData.append(\"title\",formFields.projectTitle);formData.append(\"desc\",formFields.projectDesc);formData.append(\"status\",statusValue);formData.append(\"customer_name\",formFields.custName);formData.append(\"contact_person\",formFields.contactName);formData.append(\"contact_number\",formFields.contactNumber);formData.append(\"username\",_this.props.tokenDetail.username);console.log(\"formData\",formData);if(!_this.props.match.params.id){_context3.next=27;break;}console.log(\"in if loop\");console.log(\"this.props.match.params.id\",_this.props.match.params.id);_context3.next=22;return _this.props.updateProject(\"\".concat(_this.props.match.params.id,\"/\"),formData);case 22:res=_context3.sent;console.log(res);_this.props.history.push(\"/admin/project\");_context3.next=31;break;case 27:_context3.next=29;return _this.props.createProject(formData);case 29:res=_context3.sent;_this.props.history.push(\"/admin/project\");case 31:_context3.next=34;break;case 33:_this.validator.showMessages();case 34:_context3.next=39;break;case 36:_context3.prev=36;_context3.t0=_context3[\"catch\"](0);_this.updateState({is_loading:false});case 39:case\"end\":return _context3.stop();}}},_callee3,null,[[0,36]]);}));return _this;}_createClass(AddProjectClass,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,formFields=_this$state3.formFields,navLinks=_this$state3.navLinks,currentValue=_this$state3.currentValue,statusOption=_this$state3.statusOption;var projectTitle=formFields.projectTitle,projectDesc=formFields.projectDesc,status=formFields.status,custName=formFields.custName,contactName=formFields.contactName,contactNumber=formFields.contactNumber;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"px-5 container create-project\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\"},t(\"Project\")),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},t(\"\".concat(this.props.match.params.id?\"Edit\":\"New\",\" Project\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"quotation-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Project Title\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:projectTitle,name:\"projectTitle\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Project Title\"),projectTitle,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Project Description\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-desc\"},/*#__PURE__*/React.createElement(NormalTextarea,{placeholder:\"Enter here\",value:projectDesc,name:\"projectDesc\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Status\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:statusOption,value:status,name:\"status\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Status\"),status,t(\"required\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Customer\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:custName,name:\"custName\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Customer\"),custName,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Contact Person\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:contactName,name:\"contactName\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Contact Person\"),contactName,t(\"required\"))),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pt-3\"},t(\"Contact Number\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:contactNumber,name:\"contactNumber\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",null,this.validator.message(t(\"Contact Number\"),contactNumber,t(\"required\")))),this.props.match.params.id&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 project-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-menus\"},/*#__PURE__*/React.createElement(\"ul\",null,navLinks.map(function(_ref5,index){var to=_ref5.to,label=_ref5.label,id=_ref5.id;return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(NavLink,{to:to,className:\"nav-link\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-menu \".concat(currentValue===index?\"active\":\"\"),onClick:function onClick(){return _this2.handleClick({key:index,id:id});}},/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar-menu-desc\"},t(label)))));}))),this.state.selectedMenu===\"Activities\"&&/*#__PURE__*/React.createElement(Activities,{fk_id:this.props.match.params.id,id:this.state.selectedMenu// search={formFields.search}\n,api:\"activities\"}),this.state.selectedMenu===\"Quotation\"&&/*#__PURE__*/React.createElement(Quotation,{fk_id:this.props.match.params.id,id:this.state.selectedMenu// search={formFields.search}\n,api:\"quotation\"}),this.state.selectedMenu===\"PO\"&&/*#__PURE__*/React.createElement(PO,{fk_id:this.props.match.params.id,id:this.state.selectedMenu// search={formFields.search}\n,api:\"po\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12 mt-3\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2 mb-3\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:function onClick(){if(window.confirm('Are you sure you want to leave this page and discard changes?'))// window.location.href = '/admin/project' \n_this2.props.history.push(\"/admin/project\");}// onClick={this.handleSearch}               \n})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-12 mt-3\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"confirm\",label:\"Save\",onClick:function onClick(){return _this2.handleSubmit();}}))))));}}]);return AddProjectClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetail:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,createProject:createProject,updateProject:updateProject,getTokenDetails:getTokenDetails},dispatch);};// export const AddProject = withTranslation()(\n//   connect(mapStateToProps, mapDispatchToProps)(AddProjectClass)\n// );\nexport var AddProject=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(AddProjectClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Project/AddProject/index.js"],"names":["React","Component","Link","SimpleReactValidator","Redirect","NormalInput","NormalSelect","NormalButton","NormalTextarea","NormalDateTime","NormalMultiSelect","displayImg","dateFormat","createProject","updateProject","getJobtitle","getCommonApi","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","Activities","Quotation","PO","NavLink","getTokenDetails","AddProjectClass","state","formFields","projectTitle","projectDesc","status","custName","contactName","contactNumber","projectList","statusOption","is_loading","isMounted","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","componentWillMount","getStatus","validator","validators","element","message","autoForceUpdate","updateState","data","setState","console","log","match","params","then","res","key","push","value","dropdown_item","code","dropdown_desc","autoFillForm","dataList","customer_name","title","desc","find","option","contact_person","contact_number","handleClick","selected","handleChange","target","name","Object","assign","handleSubmit","allValid","statusValue","formData","FormData","append","tokenDetail","username","history","showMessages","t","map","index","window","confirm","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","AddProject"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { Redirect } from 'react-router-dom'\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalTextarea,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\n// import { DragFileUpload } from \"../../../common\";\r\nimport {\r\n  createProject,\r\n  updateProject\r\n} from \"redux/actions/project\";\r\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\n// import { ScheduleTable } from \"./ScheduleTable\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Activities } from \"./activities\"\r\nimport { Quotation } from \"./quotation\"\r\nimport { PO } from \"./PO\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\n\r\nexport class AddProjectClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      projectTitle: \"\",\r\n      projectDesc: \"\",\r\n      status: \"\",\r\n      custName: \"\",\r\n      contactName: \"\",\r\n      contactNumber:\"\"\r\n    },\r\n    // scheduleOptions: [],\r\n    projectList: [],\r\n    statusOption: [],\r\n    // locationOption: [],\r\n    // levelList: [],\r\n    is_loading: true,\r\n    isMounted: true,\r\n\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    // navLinks: [\r\n    //   { to: \"/admin/project/add\", label: \"Activities\", id: \"Activities\" },\r\n    //   { to: \"/admin/project/add\", label: \"Quotation\", id: \"Quotation\" },\r\n    //   { to: \"/admin/project/add\", label: \"Purchase Order\", id: \"PO\" },\r\n    // ],\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Activities\", id: \"Activities\" },\r\n      { to: this.props.location.pathname, label: \"Quotation\", id: \"Quotation\" },\r\n      { to: this.props.location.pathname, label: \"Purchase Order\", id: \"PO\" },\r\n    ],\r\n    selectedMenu: \"Activities\",\r\n  };\r\n\r\n  \r\n\r\n  componentWillMount = () => {\r\n    this.getStatus();\r\n    // console.log(\"componentWillMount statusoption\",this.state.statusOption )\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: (message) => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n    \r\n  };\r\n    \r\n\r\n  componentDidMount() {\r\n    \r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    console.log(\"this.props addpro\", this.props)\r\n    console.log(\"this.props.match.params.id addpro\", this.props.match.params.id)\r\n    // statusOption = [];\r\n    this.props\r\n      .getCommonApi(`dropdownproject`)\r\n      .then(res => {\r\n        // activeMenu = []\r\n        console.log(\"res.data\", res);\r\n        for (let key of res.data) {\r\n          statusOption.push({\r\n            value: key.id,\r\n            label: key.dropdown_item,\r\n            code: key.dropdown_desc,\r\n            active: key.active,\r\n          });\r\n        }\r\n        console.log(\"statusOption\", statusOption)\r\n        this.updateState({ statusOption });\r\n\r\n        if (this.props.match.params.id) {\r\n          this.autoFillForm()\r\n        };\r\n      });\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    // let { statusOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `projectlist/?searchid=${this.props.match.params.id}`\r\n      )\r\n      .then(async res => {\r\n        \r\n        console.log(\"project dataList\", res.data.dataList);\r\n        console.log(\"project dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title\r\n        this.state.formFields[\"projectDesc\"] = res.data.dataList[0].desc\r\n        // const people = [ {name: \"john\", age:23},\r\n        //         {name: \"john\", age:43},\r\n        //         {name: \"jim\", age:101},\r\n        //         {name: \"bob\", age:67} ];\r\n\r\n        //   // const john = people.find(person => person.name === john);\r\n        // console.log(\"people testing\",people.find(person => person.name === \"john\"));\r\n        // const statusOPtionLoop = this.state.statusOption\r\n        // console.log(\"statusOPtionLoop\",statusOPtionLoop[0])\r\n        // for (let x in statusOPtionLoop){\r\n        //   console.log(\"statusOPtionLoop elements\", x)\r\n        // }\r\n        // console.log(\"statusOPtionLoop\",statusOPtionLoop.find((person => person.label === \"Lead\")))\r\n        // console.log(\"statusOptionTemp\",statusOptionTemp)\r\n        // console.log(\"statusOptionTemp[0]\",statusOptionTemp[0])\r\n        console.log(\"statusOption in prefill\",this.state.statusOption)\r\n        console.log(\"res.data.dataList[0].status\",res.data.dataList[0].status)\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].status) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value\r\n        }\r\n        this.state.formFields[\"custName\"] = res.data.dataList[0].customer_name\r\n        this.state.formFields[\"contactName\"] = res.data.dataList[0].contact_person\r\n        this.state.formFields[\"contactNumber\"] = res.data.dataList[0].contact_number\r\n        this.updateState( this.state.formFields )\r\n        console.log(\"this.state.formFields\", this.state.formFields)\r\n      });\r\n  }\r\n\r\n  handleClick = async key => {\r\n    let { active, currentValue } = this.state;\r\n    await this.updateState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.updateState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n\r\n  \r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  // handleMultiSelect = (data = []) => {\r\n  //   let { formFields } = this.state;\r\n  //   formFields.siteCodes = data;\r\n  //   console.log(data);\r\n  //   this.updateState({ formFields });\r\n  // };\r\n\r\n  // handleDatePick = async (name, value) => {\r\n  //   // dateFormat(new Date())\r\n  //   let { formFields } = this.state;\r\n  //   formFields[name] = value;\r\n  //   // formFields[name] = value;\r\n  //   await this.updateState({\r\n  //     formFields,\r\n  //   });\r\n  // };\r\n\r\n  // handleInput = ({ target: { name, value } }) => {\r\n  //   let formFields = Object.assign({}, this.state.formFields);\r\n  //   formFields[name] = value === true ? 1 : value;\r\n  //   this.updateState({\r\n  //     formFields,\r\n  //   });\r\n  // };\r\n\r\n  // submit to create/update project\r\n  handleSubmit = async () => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n      //   this.updateState({ is_loading: true });\r\n      //   let { formFields } = this.state;\r\n      //   Object.keys(formFields).forEach((e) => {\r\n      //     if (typeof formFields[e] === \"boolean\")\r\n      //       formFields[e] = formFields[e] ? \"True\" : \"False\";\r\n      //   });\r\n        let { formFields, statusOption } = this.state;\r\n        let statusValue =\"\"\r\n        console.log('formFields.status', formFields.status)\r\n\r\n        for (let key of statusOption){\r\n          // console.log(key.value)\r\n          if(key.value == formFields.status){\r\n            statusValue = key.label\r\n          }\r\n        }\r\n        console.log(\"statusValue\", statusValue)\r\n        const formData = new FormData();\r\n        formData.append(\"title\", formFields.projectTitle);\r\n        formData.append(\"desc\", formFields.projectDesc);\r\n        formData.append(\"status\", statusValue);\r\n        formData.append(\"customer_name\", formFields.custName);\r\n        formData.append(\"contact_person\", formFields.contactName);\r\n        formData.append(\"contact_number\", formFields.contactNumber);\r\n        formData.append(\"username\", this.props.tokenDetail.username);\r\n        console.log(\"formData\", formData)\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\")\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id)\r\n          var res = await this.props.updateProject(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n          console.log(res);\r\n          this.props.history.push(\r\n            `/admin/project`\r\n          )\r\n        }  \r\n        else{\r\n          var res = await this.props.createProject(formData);\r\n          this.props.history.push(\r\n            `/admin/project`\r\n          )\r\n        } \r\n        \r\n        // if (\r\n        //   formFields.emp_pic != null &&\r\n        //   typeof formFields.emp_pic === \"object\"\r\n        // )\r\n        //   formData.append(\"emp_pic\", formFields.emp_pic);\r\n        // formData.append(\"emp_nric\", formFields.emp_nric);\r\n        // formData.append(\"is_login\", formFields.is_login);\r\n        // formData.append(\"emp_isactive\", formFields.emp_isactive);\r\n        // formData.append(\"max_disc\", formFields.max_disc);\r\n        // formData.append(\"LEVEL_ItmIDid\", formFields.LEVEL_ItmIDid);\r\n        // formData.append(\"show_in_sales\", formFields.show_in_sales);\r\n        // formData.append(\"show_in_appt\", formFields.show_in_appt);\r\n        // formData.append(\"show_in_trmt\", formFields.show_in_trmt);\r\n        // formData.append(\r\n        //   \"site_list\",\r\n        //   formFields.siteCodes.map((e) => e.value).reduce((a, e) => a + \",\" + e)\r\n        // );\r\n        // const scheduleData = new FormData();\r\n        // scheduleData.append(\"monday\", formFields.work_schedule.monday);\r\n        // scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\r\n        // scheduleData.append(\"wednesday\", formFields.work_schedule.wednesday);\r\n        // scheduleData.append(\"tuesday\", formFields.work_schedule.tuesday);\r\n        // scheduleData.append(\"friday\", formFields.work_schedule.friday);\r\n        // scheduleData.append(\"saturday\", formFields.work_schedule.saturday);\r\n        // scheduleData.append(\"sunday\", formFields.work_schedule.sunday);\r\n        // if (this.props.match.params.id) {\r\n        //   var res = await this.props.updateStaffPlus(\r\n        //     `${this.props.match.params.id}/`,\r\n        //     formData\r\n        //   );\r\n        //   console.log(res);\r\n        //   if (res.status === 200) {\r\n        //     await this.props.updateWorkSchedule(\r\n        //       this.props.match.params.id,\r\n        //       scheduleData\r\n        //     );\r\n        //   }\r\n        //   await this.getStaffDetail();\r\n        // } else {\r\n        //   var res = await this.props.createStaffPlus(formData);\r\n        //   console.log(res);\r\n        //   if (res.status === 201) {\r\n        //     var res2 = await this.props.updateWorkSchedule(\r\n        //       res.data.id,\r\n        //       scheduleData\r\n        //     );\r\n        //     if (res2.status === 200)\r\n        //       this.props.history.push(\r\n        //         `/admin/staffPlus/${res.data.id}/editStaff`\r\n        //       );\r\n        //   }\r\n        // }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      navLinks,\r\n      currentValue,\r\n      statusOption,\r\n    } = this.state;\r\n\r\n    let {\r\n      projectTitle,\r\n      projectDesc,\r\n      status,\r\n      custName,\r\n      contactName,\r\n      contactNumber,\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return ( \r\n      \r\n      \r\n      <div className=\"px-5 container create-project\">\r\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Staff</p> */}\r\n        <div className=\"head-label-nav\">\r\n          <p className=\"category\">{t(\"Project\")}</p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} Project`)}\r\n          </p>\r\n        </div>\r\n        {/* {is_loading ? (\r\n          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n            <div class=\"spinner-border\" role=\"status\">\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        ) : ( */}\r\n          <div className=\"quotation-detail\">\r\n            <div className=\"form-group mb-4 pb-2\">\r\n              <div className=\"row mt-5\">\r\n  \r\n                <div className=\"col-md-6 col-12 mb-4\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Project Title\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={projectTitle}\r\n                      name=\"projectTitle\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Project Title\"),\r\n                      projectTitle,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Project Description\")}\r\n                  </label>\r\n                  <div className=\"input-group-desc\">\r\n                    <NormalTextarea\r\n                      placeholder=\"Enter here\"\r\n                      value={projectDesc}\r\n                      name=\"projectDesc\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n\r\n                  \r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Status\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalSelect\r\n                      options={statusOption}                     \r\n                      value={status}\r\n                      name=\"status\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Status\"),\r\n                      status,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n                  \r\n\r\n                </div>\r\n\r\n                <div className=\"col-md-6 col-12\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Customer\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={custName}\r\n                      name=\"custName\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Customer\"),\r\n                      custName,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Contact Person\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={contactName}\r\n                      name=\"contactName\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Contact Person\"),\r\n                      contactName,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Contact Number\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalInput\r\n                      placeholder=\"Enter here\"\r\n                      value={contactNumber}\r\n                      name=\"contactNumber\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {this.validator.message(\r\n                      t(\"Contact Number\"),\r\n                      contactNumber,\r\n                      t(\"required\")\r\n                    )}\r\n                  </div>\r\n                  \r\n                </div>\r\n                \r\n                \r\n                {/* <div className=\"col-6 mb-3\">\r\n                  <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                    {t(\"Join Date\")}\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <NormalDateTime\r\n                      onChange={this.handleDatePick}\r\n                      inputcol=\"p-0 inTime\"\r\n                      value={emp_joindate}\r\n                      name=\"emp_joindate\"\r\n                      className=\"dob-pick\"\r\n                      showYearDropdown={true}\r\n                      dateFormat=\"MM/dd/yyyy\"\r\n                    />\r\n                  </div>\r\n                  {this.validator.message(\r\n                    t(\"join date\"),\r\n                    emp_joindate,\r\n                    t(\"required\")\r\n                  )}\r\n                </div> */}\r\n                {this.props.match.params.id && \r\n                <div className=\"col-md-12 project-content\">\r\n                  <div className=\"tab-menus\">\r\n                    <ul>\r\n                      {navLinks.map(({ to, label, id }, index) => (\r\n                        <li key={index}>\r\n                          <NavLink to={to} className=\"nav-link\">\r\n                            <div\r\n                              className={`sidebar-menu ${\r\n                                currentValue === index ? \"active\" : \"\"\r\n                              }`}\r\n                              onClick={() => this.handleClick({ key: index, id: id })}\r\n                            >\r\n                              <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                            </div>\r\n                          </NavLink>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                  {this.state.selectedMenu === \"Activities\" && (\r\n                    <Activities\r\n                      fk_id={this.props.match.params.id}\r\n                      id={this.state.selectedMenu}\r\n                      // search={formFields.search}\r\n                      api={\"activities\"}\r\n                    />\r\n                  )}\r\n                  {this.state.selectedMenu === \"Quotation\" && (\r\n                    <Quotation\r\n                      fk_id={this.props.match.params.id}\r\n                      id={this.state.selectedMenu}\r\n                      // search={formFields.search}\r\n                      api={\"quotation\"}\r\n                    />\r\n                  )}\r\n                  {this.state.selectedMenu === \"PO\" && (\r\n                    <PO\r\n                      fk_id={this.props.match.params.id}\r\n                      id={this.state.selectedMenu}\r\n                      // search={formFields.search}\r\n                      api={\"po\"}\r\n                    />\r\n                  )}\r\n                \r\n                </div>\r\n                }     \r\n\r\n                <div className=\"col-md-4 col-12 mt-3\"></div>\r\n                \r\n                <div className=\"col-md-4 col-12 mt-3\">\r\n                  {/* <Link to=\"/admin/project\"> */}\r\n                    <NormalButton\r\n                      buttonClass={\"mx-2 mb-3\"}\r\n                      mainbg={true}\r\n                      className=\"confirm\"\r\n                      label=\"Cancel\"\r\n                      outline={false}\r\n                      onClick={() => { \r\n                        if (window.confirm('Are you sure you want to leave this page and discard changes?'))\r\n                        // window.location.href = '/admin/project' \r\n                        this.props.history.push(\r\n                          `/admin/project`\r\n                        )\r\n                      }\r\n                      }\r\n                      // onClick={this.handleSearch}               \r\n                    />\r\n                  {/* </Link> */}\r\n                </div>\r\n\r\n                <div className=\"col-md-4 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Save\"\r\n                    onClick={() => this.handleSubmit()}\r\n                  />\r\n                </div>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      createProject,\r\n      updateProject,\r\n      getTokenDetails\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\n// export const AddProject = withTranslation()(\r\n//   connect(mapStateToProps, mapDispatchToProps)(AddProjectClass)\r\n// );\r\n\r\nexport const AddProject = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(AddProjectClass)\r\n);"]},"metadata":{},"sourceType":"module"}