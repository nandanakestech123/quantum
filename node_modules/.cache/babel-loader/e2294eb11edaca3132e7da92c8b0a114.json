{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Cart\\\\cart\\\\staffSelectionPopup.js\";\nimport React, { Component } from \"react\";\nimport { NormalInput, NormalButton, NormalModal, NormalCheckbox } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, commonCreateApi, commonDeleteApi } from \"redux/actions/common\";\nimport closeIcon from \"assets/images/close.png\";\nimport \"./style.scss\";\nimport { Toast } from \"service/toast\";\nimport { StaffList } from \"./StaffList\";\nexport class StaffSelectionPopupClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data_list: [// {\n        //   id: 4397,\n        //   type: \"Deposit\",\n        //   div: \"3\",\n        //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\n        //   quantity: 5,\n        //   price: \"200.00\",\n        //   totl_disc: \"0.00\",\n        //   discount_price: \"200.00\",\n        //   trans_amt: \"1000.00\",\n        //   deposit: \"1000.00\",\n        //   is_foc: false,\n        //   work_amount: \"200.00\",\n        //   work_point: 0,\n        //   sales_point: 0,\n        //   sales_staffs: \"JACKIE,JANICE,Manager\",\n        //   service_staff: \"JANICE,ARIEL\",\n        //   data: [\n        //     {\n        //       work: true,\n        //       sales: false,\n        //       staff: \"ARIEL\",\n        //       emp_id: 259,\n        //       sales_percentage: null,\n        //       sales_amount: null,\n        //       sp: null,\n        //       work_percentage: 50,\n        //       work_amount: \"100.00\",\n        //       wp: 50,\n        //       tmp_workid: 128962,\n        //       tmp_saleid: null,\n        //     },\n        //     {\n        //       work: true,\n        //       sales: true,\n        //       staff: \"JANICE\",\n        //       emp_id: 173,\n        //       sales_percentage: 33,\n        //       sales_amount: \"333.00\",\n        //       sp: 33,\n        //       work_percentage: 50,\n        //       work_amount: \"100.00\",\n        //       wp: 50,\n        //       tmp_workid: 128965,\n        //       tmp_saleid: 3789,\n        //     },\n        //     {\n        //       work: false,\n        //       sales: true,\n        //       staff: \"Manager\",\n        //       emp_id: 284,\n        //       sales_percentage: 33,\n        //       sales_amount: \"333.00\",\n        //       sp: 33,\n        //       work_percentage: null,\n        //       work_amount: null,\n        //       wp: null,\n        //       tmp_workid: null,\n        //       tmp_saleid: 3786,\n        //     },\n        //     {\n        //       work: false,\n        //       sales: true,\n        //       staff: \"JACKIE\",\n        //       emp_id: 81,\n        //       sales_percentage: 33,\n        //       sales_amount: \"333.00\",\n        //       sp: 33,\n        //       work_percentage: null,\n        //       work_amount: null,\n        //       wp: null,\n        //       tmp_workid: null,\n        //       tmp_saleid: 3787,\n        //     },\n        //   ],\n        // },\n        // {\n        //   id: 4398,\n        //   type: \"Deposit\",\n        //   div: \"3\",\n        //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\n        //   quantity: 5,\n        //   price: \"200.00\",\n        //   totl_disc: \"0.00\",\n        //   discount_price: \"200.00\",\n        //   trans_amt: \"1000.00\",\n        //   deposit: \"1000.00\",\n        //   is_foc: false,\n        //   work_amount: \"200.00\",\n        //   work_point: 0,\n        //   sales_point: 0,\n        //   sales_staffs: \"JACKIE,JANICE,Manager\",\n        //   service_staff: \"JANICE,ARIEL\",\n        //   data: [\n        //     {\n        //       work: true,\n        //       sales: false,\n        //       staff: \"ARIEL\",\n        //       emp_id: 259,\n        //       sales_percentage: null,\n        //       sales_amount: null,\n        //       sp: null,\n        //       work_percentage: 50,\n        //       work_amount: \"100.00\",\n        //       wp: 50,\n        //       tmp_workid: 128962,\n        //       tmp_saleid: null,\n        //     },\n        //     {\n        //       work: true,\n        //       sales: true,\n        //       staff: \"JANICE\",\n        //       emp_id: 173,\n        //       sales_percentage: 33,\n        //       sales_amount: \"333.00\",\n        //       sp: 33,\n        //       work_percentage: 50,\n        //       work_amount: \"100.00\",\n        //       wp: 50,\n        //       tmp_workid: 128965,\n        //       tmp_saleid: 3789,\n        //     },\n        //     {\n        //       work: false,\n        //       sales: true,\n        //       staff: \"Manager\",\n        //       emp_id: 284,\n        //       sales_percentage: 33,\n        //       sales_amount: \"333.00\",\n        //       sp: 33,\n        //       work_percentage: null,\n        //       work_amount: null,\n        //       wp: null,\n        //       tmp_workid: null,\n        //       tmp_saleid: 3786,\n        //     },\n        //     {\n        //       work: false,\n        //       sales: true,\n        //       staff: \"JACKIE\",\n        //       emp_id: 81,\n        //       sales_percentage: 33,\n        //       sales_amount: \"333.00\",\n        //       sp: 33,\n        //       work_percentage: null,\n        //       work_amount: null,\n        //       wp: null,\n        //       tmp_workid: null,\n        //       tmp_saleid: 3787,\n        //     },\n        //  ],\n        //},\n      ],\n      item_status_options: [],\n      staffListPopup: false,\n      selectedAddStaffIndex: null,\n      staffList: [],\n      limit: 6,\n      page: 1,\n      meta: {},\n      sourceList: [],\n      selectedAddStaffType: 1,\n      activeRow: 0\n    };\n\n    this.getStafflist = data => {\n      let {\n        page,\n        limit,\n        selectedAddStaffType\n      } = this.state;\n      this.props.getCommonApi(`empcartlist/?sales_staff=${selectedAddStaffType}&page=${page}&limit=${limit}`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\n        let {\n          staffList\n        } = this.state;\n        let {\n          meta\n        } = this.state;\n        staffList = [];\n        meta = {};\n        staffList = data;\n        meta = data.meta.pagination;\n        console.log(meta, \"metalist\");\n        this.setState({\n          staffList,\n          meta\n        });\n      });\n    };\n\n    this.handleNext = async () => {\n      let {\n        page\n      } = this.state;\n      page = page + 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStafflist();\n      }\n    };\n\n    this.handleBack = async () => {\n      let {\n        page\n      } = this.state;\n      page = page - 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStafflist();\n      }\n    };\n\n    this.getStaffSelectionList = () => {\n      let {\n        data_list\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n      this.props.getCommonApi(`cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_staffs=1`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == \"200\") {\n          console.log(key, \"cartstaffselectionpopuplist\");\n          data_list = data;\n          await this.setState({\n            data_list\n          });\n\n          if (this.state.data_list.length > 0) {\n            this.setState({\n              activeRow: this.state.data_list[0].id\n            });\n            document.getElementById(this.state.data_list[0].id).classList.toggle(\"d-none\");\n          }\n        }\n      });\n    };\n\n    this.handleStaffChange = async (e, index1, index2) => {\n      let data = this.state.data_list[index1].data[index2];\n\n      if ([e.target.name] == \"work\") {\n        if (this.state.data_list[index1][\"type\"].toUpperCase() == \"SALES\" && this.state.data_list[index1][\"div\"] == \"3\" || this.state.data_list[index1][\"type\"].toUpperCase() == \"DEPOSIT\" && this.state.data_list[index1][\"div\"] == \"3\") {\n          data[[e.target.name]] = e.target.value;\n          await this.setState({\n            data\n          });\n        } else {\n          Toast({\n            type: \"error\",\n            message: \"Work staff not allowed for Product\"\n          });\n        }\n      } else {\n        data[[e.target.name]] = e.target.value;\n        await this.setState({\n          data\n        });\n      }\n    };\n\n    this.handleAccordion = async id => {\n      await this.setState({\n        activeRow: id\n      });\n      let elements = document.getElementsByClassName(\"accordion\");\n\n      for (let i = 0; i < elements.length; i++) {\n        elements[i].classList.add(\"d-none\");\n      }\n\n      document.getElementById(id).classList.toggle(\"d-none\");\n      console.log(elements);\n    };\n\n    this.handleSelectedStaff = async item => {\n      this.handleEmployeePopup();\n      let {\n        selectedAddStaffIndex,\n        selectedAddStaffType,\n        data_list\n      } = this.state;\n      let data = this.state.data_list[selectedAddStaffIndex].data;\n      let filter = data.find(acc => acc.emp_id === item.id);\n\n      if (filter) {\n        if (filter.work && filter.sales) {\n          Toast({\n            type: \"error\",\n            message: \"This staff already found in this list\"\n          });\n        } else if (filter.work) {\n          filter.sales = true;\n          this.handleSalesStaffCalc(0);\n        } else {\n          filter.work = true;\n          this.handleWorkStaffCalc(0);\n        }\n      } else {\n        data.push({\n          work: selectedAddStaffType == 0 ? true : false,\n          sales: selectedAddStaffType == 1 ? true : false,\n          staff: item.emp_name,\n          emp_id: item.id,\n          sales_percentage: 0,\n          sales_amount: 0,\n          sp: 0,\n          work_percentage: 0,\n          work_amount: 0,\n          wp: 0,\n          tmp_workid: null,\n          tmp_saleid: null\n        });\n        await this.setState({\n          data\n        });\n        this.setState({\n          selectedAddStaffIndex: null,\n          selectedAddStaffType: null\n        });\n        selectedAddStaffType == 0 ? this.handleWorkStaffCalc(0) : this.handleSalesStaffCalc(0);\n      }\n    };\n\n    this.handleEmployeePopup = () => {\n      this.setState(prevState => ({\n        staffListPopup: !prevState.staffListPopup\n      }));\n    };\n\n    this.handleAddNewStaff = async (index, type, item) => {\n      if (type == 0) {\n        if (item[\"type\"].toUpperCase() == \"SALES\" && item[\"div\"] == \"3\" || item[\"type\"].toUpperCase() == \"DEPOSIT\" && item[\"div\"] == \"3\") {\n          await this.setState({\n            selectedAddStaffIndex: index,\n            selectedAddStaffType: type,\n            staffList: [],\n            meta: {},\n            page: 1\n          });\n          this.getStafflist();\n          this.setState({\n            staffListPopup: true\n          });\n        } else {\n          Toast({\n            type: \"error\",\n            message: \"Work Staff not allowed for Product\"\n          });\n        }\n      } else {\n        await this.setState({\n          selectedAddStaffIndex: index,\n          selectedAddStaffType: type,\n          staffList: [],\n          meta: {},\n          page: 1\n        });\n        this.getStafflist();\n        this.setState({\n          staffListPopup: true\n        });\n      }\n    };\n\n    this.handlePostAction = () => {\n      let {\n        data_list\n      } = this.state;\n\n      for (let value of data_list) {\n        let type = value.type;\n        let div = value.div;\n        let transamt = Number(value.trans_amt).toFixed(2);\n        let work_amount = Number(value.work_amount).toFixed(2);\n        let sales_point = Number(value.sales_point);\n        let work_point = Number(value.work_point);\n        let salesPercent = 0;\n        let salesAmount = Number(0);\n        let salesPoint = Number(0);\n        let workPercent = Number(0);\n        let workAmount = Number(0);\n        let workPoint = Number(0);\n\n        for (let line of value.data) {\n          salesPercent += Number(line.sales_percentage);\n          salesAmount += Number(line.sales_amount);\n          salesPoint += Number(line.sp);\n          workPercent += Number(line.work_percentage);\n          workAmount += Number(line.work_amount);\n          workPoint += Number(line.wp); // if (line.work) {\n          //   if (\n          //     Number(line.work_amount) <= 0 ||\n          //     line.work_amount == null ||\n          //     line.work_percentage == null ||\n          //     Number(line.work_percentage) <= 0\n          //   ) {\n          //     Toast({\n          //       type: \"error\",\n          //       message:\n          //         \"Please check Work Staff Amount or Percentage should not be empty or Zero\",\n          //     });\n          //     return false;\n          //   }\n          // }\n          // if (line.sales) {\n          //   if (\n          //     Number(line.sales_amount) <= 0 ||\n          //     line.sales_amount == null ||\n          //     line.sales_percentage == null ||\n          //     Number(line.sales_percentage) <= 0\n          //   ) {\n          //     Toast({\n          //       type: \"error\",\n          //       message:\n          //         \"Please check Sales Staff Amount or Percentage should not be empty or Zero\",\n          //     });\n          //     return false;\n          //   }\n          // }\n        }\n\n        if (workPercent > 100 || workAmount > transamt) {\n          Toast({\n            type: \"error\",\n            message: \"Please check Work Staff Amount or Percentage should be less than Maximum\"\n          });\n          return false;\n        } else if (div == \"3\" && type.toUpperCase() == \"DEPOSIT\" && workAmount > work_amount) {\n          Toast({\n            type: \"error\",\n            message: \"Please check Work amount is should be equal to Max Work Amount\"\n          });\n          return false;\n        } else if (salesPercent > 100 || salesAmount > transamt) {\n          Toast({\n            type: \"error\",\n            message: \"Please check Sales Amount or percentage should be less than max Amount\"\n          });\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    this.handleSubmit = () => {\n      let {\n        data_list\n      } = this.state;\n      let result = this.handlePostAction();\n\n      if (result) {\n        console.log(data_list, \"savedataforstaffselection\");\n        this.props.commonCreateApi(`cartpopup/staffs/`, data_list).then(key => {\n          console.log(key, \"resultset of staffselection\");\n          let {\n            status,\n            data\n          } = key;\n\n          if (status == 200) {\n            this.props.handleModal();\n          }\n        });\n      }\n    };\n\n    this.handleSalesStaffCalc = async index => {\n      let {\n        data_list\n      } = this.state;\n      let salesStaffCount = 0;\n\n      for (let line of data_list[index].data) {\n        if (line.sales) {\n          salesStaffCount += 1;\n        }\n      }\n\n      if (Number(salesStaffCount) == 2) {\n        let startSales_percent = Number(60 / 100 * 100).toFixed(2);\n        let startSales_amount = Number(Number(60 / 100) * Number(data_list[index][\"trans_amt\"])).toFixed(2);\n        let endSales_percent = Number(40 / 100 * 100).toFixed(2);\n        let endSales_amount = Number(Number(data_list[index][\"trans_amt\"]) - Number(startSales_amount).toFixed(2)).toFixed(2);\n        let data = data_list[index].data;\n        let salesLength = data.filter(acc => acc.sales === true).length;\n        let i = 0;\n        let j = 1;\n\n        for (let dataLine of data_list[index].data) {\n          if (dataLine.sales) {\n            if (j == salesLength) {\n              data[i][\"sales_percentage\"] = Number(endSales_percent).toFixed(2);\n              data[i][\"sales_amount\"] = Number(endSales_amount).toFixed(2); //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            } else {\n              data[i][\"sales_percentage\"] = Number(startSales_percent).toFixed(2);\n              data[i][\"sales_amount\"] = Number(startSales_amount).toFixed(2); //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            }\n\n            j++;\n          }\n\n          i++;\n        }\n      } else {\n        let sales_percent = Number(100 / salesStaffCount).toFixed(2);\n        let totalsale = sales_percent * salesStaffCount;\n        let diff_sales_percent = Number(100 - totalsale).toFixed(2);\n        let sales_amount = Number(data_list[index][\"trans_amt\"] / salesStaffCount).toFixed(2);\n        let diff_sales_amount = Number(data_list[index][\"trans_amt\"] - sales_amount * salesStaffCount).toFixed(2); // let salespoints = Number(\n        //   data_list[index][\"sales_point\"] / salesStaffCount\n        // ).toFixed(2);\n\n        let data = data_list[index].data;\n        let salesLength = data.filter(acc => acc.sales === true).length;\n        let i = 0;\n        let j = 1;\n\n        for (let dataLine of data_list[index].data) {\n          if (dataLine.sales) {\n            if (j == salesLength) {\n              let percent = Number(sales_percent) + Number(diff_sales_percent);\n              let amt = Number(sales_amount) + Number(diff_sales_amount);\n              data[i][\"sales_percentage\"] = Number(percent).toFixed(2);\n              data[i][\"sales_amount\"] = Number(amt).toFixed(2); //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            } else {\n              data[i][\"sales_percentage\"] = sales_percent;\n              data[i][\"sales_amount\"] = sales_amount; //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            }\n\n            j++;\n          }\n\n          i++;\n        }\n      }\n    };\n\n    this.handleWorkStaffCalc = async index => {\n      let {\n        data_list\n      } = this.state;\n      let workStaffCount = 0;\n\n      for (let line of data_list[index].data) {\n        if (line.work) {\n          workStaffCount += 1;\n        }\n      }\n\n      if (Number(workStaffCount) == 2) {\n        let startWork_percent = Number(60 / 100 * 100).toFixed(2);\n        let endWork_percent = Number(40 / 100 * 100).toFixed(2);\n        let startWork_amount = \"\";\n        let endwork_amount = \"\";\n\n        if (data_list[index].div == \"3\" && data_list[index].type.toUpperCase() == \"DEPOSIT\") {\n          startWork_amount = Number(Number(60 / 100) * Number(data_list[index][\"work_amount\"])).toFixed(2);\n          endwork_amount = Number(Number(data_list[index][\"work_amount\"]) - Number(startWork_amount)).toFixed(2);\n        } else {\n          startWork_amount = Number(Number(60 / 100) * Number(data_list[index][\"trans_amt\"])).toFixed(2);\n          endwork_amount = Number(Number(data_list[index][\"trans_amt\"]) - Number(startWork_amount)).toFixed(2);\n        }\n\n        let endWork_amount = Number(Number(data_list[index][\"trans_amt\"]) - Number(startWork_amount).toFixed(2)).toFixed(2);\n        let data = data_list[index].data;\n        let workLength = data.filter(acc => acc.work === true).length;\n        let i = 0;\n        let j = 1;\n\n        for (let line of data_list[index].data) {\n          if (line.work) {\n            if (j == workLength) {\n              data[i][\"work_percentage\"] = Number(endWork_percent).toFixed(2);\n              data[i][\"work_amount\"] = Number(endWork_amount).toFixed(2); //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            } else {\n              data[i][\"work_percentage\"] = Number(startWork_percent).toFixed(2);\n              data[i][\"work_amount\"] = Number(startWork_amount).toFixed(2); //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            }\n\n            j++;\n          }\n\n          i++;\n        }\n      } else {\n        let work_percent = Number(100 / workStaffCount).toFixed(2);\n        let totalwork = work_percent * workStaffCount;\n        let diff_work_percent = Number(100 - totalwork).toFixed(2);\n        let work_amount = \"\";\n        let diff_work_amount = \"\";\n\n        if (data_list[index].div == \"3\" && data_list[index].type.toUpperCase() == \"DEPOSIT\") {\n          work_amount = Number(data_list[index][\"work_amount\"] / workStaffCount).toFixed(2);\n          diff_work_amount = Number(data_list[index][\"work_amount\"] - work_amount * workStaffCount).toFixed(2);\n        } else {\n          work_amount = Number(data_list[index][\"trans_amt\"] / workStaffCount).toFixed(2);\n          diff_work_amount = Number(data_list[index][\"trans_amt\"] - work_amount * workStaffCount).toFixed(2);\n        } // let workpoints = Number(\n        //   data_list[index][\"sales_point\"] / workStaffCount\n        // ).toFixed(2);\n\n\n        let data = data_list[index].data;\n        let i = 0;\n        let j = 1;\n        let workLength = data.filter(acc => acc.work === true).length;\n\n        for (let line of data_list[index].data) {\n          if (line.work) {\n            if (j == workLength) {\n              let percent = Number(work_percent) + Number(diff_work_percent);\n              let amt = Number(work_amount) + Number(diff_work_amount);\n              data[i][\"work_percentage\"] = Number(percent).toFixed(2);\n              data[i][\"work_amount\"] = Number(amt).toFixed(2); //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            } else {\n              data[i][\"work_percentage\"] = work_percent;\n              data[i][\"work_amount\"] = work_amount; //data[i][\"sp\"] = salespoints;\n\n              await this.setState({\n                data\n              });\n            }\n\n            j++;\n          }\n\n          i++;\n        }\n      }\n    };\n\n    this.handleDeleteStaff = async (e, index1, index2) => {\n      let data = this.state.data_list[index1].data[index2];\n      let cartId = this.state.data_list[index1].id;\n      let Workid = 0;\n      let Saleid = 0;\n\n      if (data.tmp_workid == null) {\n        Workid = 0;\n      } else {\n        Workid = data.tmp_workid;\n      }\n\n      if (data.tmp_saleid == null) {\n        Saleid = 0;\n      } else {\n        Saleid = data.tmp_saleid;\n      }\n\n      let body = {\n        sales: data.sales,\n        work: data.work,\n        cart_id: Number(cartId),\n        tmp_workid: Number(Workid),\n        tmp_saleid: Number(Saleid)\n      };\n      console.log(body, \"selected row Item for delete\");\n\n      if (Number(Saleid) > 0 || Number(Workid) > 0) {\n        await this.props.commonCreateApi(`cartpopup/staffsdelete/`, body).then(res => {\n          let {\n            status\n          } = res;\n\n          if (status == \"200\") {\n            console.log(res, \"staffselectionpoppupdeleteresponse\");\n            let {\n              data_list\n            } = this.state;\n            data_list[index1].data.splice(index2, 1);\n            this.setState({\n              data_list\n            });\n            this.getStaffSelectionList();\n          }\n        }); // this.props\n        //   .commonDeleteApi(`cartpopup/staffsdelete/`, body)\n        //   .then(async key => {\n        //     let { status, data } = key;\n        //     console.log(key, \"staffselectionpoppupdeleteresponse\");\n        //     if (status == \"200\" || status == \"201\") {\n        //       let { data_list } = this.state;\n        //       data_list[index1].data.splice(index2, 1);\n        //       this.setState({ data_list });\n        //       this.getStaffSelectionList();\n        //     }\n        //   });\n      } else {\n        let {\n          data_list\n        } = this.state;\n        data_list[index1].data.splice(index2, 1);\n        this.setState({\n          data_list\n        });\n      }\n\n      this.handleWorkStaffCalc(0);\n      this.handleSalesStaffCalc(0);\n    };\n  }\n\n  componentDidMount() {\n    this.getStaffSelectionList();\n  }\n\n  render() {\n    let {\n      data_list,\n      staffListPopup,\n      staffList,\n      meta,\n      activeRow\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mb-4 mt-2 product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 15\n      }\n    }, \"Staff Selection\")), data_list && data_list.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: false,\n      className: \"col-12 fs-15 submit-btn\",\n      label: \"Done\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 17\n      }\n    })) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-3 pr-5 mt-2 fw-500 h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 759,\n        columnNumber: 13\n      }\n    }, `Item`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 760,\n        columnNumber: 13\n      }\n    }, `Qty`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 13\n      }\n    }, `Unit Price`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 13\n      }\n    }, `Disc $`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 13\n      }\n    }, `D/Price`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 764,\n        columnNumber: 13\n      }\n    }, `Amount`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 13\n      }\n    }, `Deposit`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-5 pr-5 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 11\n      }\n    }, data_list && data_list.length > 0 && data_list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row  mb-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `row rounded p-2 accordion-menu border staff ${activeRow == item.id ? \"border-primary\" : \"\"}`,\n        onClick: () => this.handleAccordion(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 23\n        }\n      }, item.itemdesc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 23\n        }\n      }, item.quantity), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 23\n        }\n      }, item.price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 23\n        }\n      }, item.totl_disc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 23\n        }\n      }, item.discount_price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 23\n        }\n      }, item.trans_amt), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 23\n        }\n      }, item.deposit)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row  rounded bg-light p-1 d-none accordion\",\n        id: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row  pl-3 mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table\",\n        style: {\n          marginRight: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-top-0 border-bottom-0\",\n        colSpan: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        mainbg: true,\n        className: \"col-12 fs-15 fw-500\",\n        label: \"Sales +\",\n        onClick: () => this.handleAddNewStaff(index, 1, item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-left border-top-0 border-bottom-0\",\n        colSpan: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 35\n        }\n      }, \"Sales staff\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        mainbg: true,\n        className: \"col-12 top-0 fs-15\",\n        label: \"Auto Calc\",\n        onClick: () => this.handleSalesStaffCalc(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-top-0 border-bottom-0\",\n        colSpan: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        mainbg: true,\n        className: \"col-12 fs-15 fw-500\",\n        label: \"Work +\",\n        onClick: () => this.handleAddNewStaff(index, 0, item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-top-0 border-bottom-0\",\n        colSpan: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 35\n        }\n      }, \"Work staff\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        mainbg: true,\n        className: \"col-12 fs-15\",\n        label: \"Auto Calc\",\n        onClick: () => this.handleWorkStaffCalc(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 37\n        }\n      }))))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 31\n        }\n      }, \"Staff\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 31\n        }\n      }, \"% (\", `100`, \")\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 31\n        }\n      }, \"$ (\", item.trans_amt, \")\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 899,\n          columnNumber: 31\n        }\n      }, \"SP (\", item.sales_point, \")\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 31\n        }\n      }, \"Staff\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 31\n        }\n      }, \"% (\", `100`, \")\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-right border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 31\n        }\n      }, \"$ (\", item.type.toUpperCase() == \"DEPOSIT\" && item.div == \"3\" ? item.work_amount : item.trans_amt, \")\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"text-center border-top-0 border-bottom-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 31\n        }\n      }, \"WP (\", item.work_point, \")\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 31\n        }\n      }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 27\n        }\n      }, data_list[index].data.length <= 0 ? /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 33\n        }\n      }, \"No record found\")) : null, data_list[index].data.map((data, index2) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center d-none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n          type: \"checkbox\",\n          checked: data.sales,\n          name: \"sales\",\n          onChange: e => this.handleStaffChange(e, index, index2),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center d-none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n          type: \"checkbox\",\n          checked: data.work,\n          name: \"work\",\n          onChange: e => this.handleStaffChange(e, index, index2),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"text-left text-black common-label-text fs-17 pb-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 37\n          }\n        }, data.staff)), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalInput, {\n          name: \"sales_percentage\",\n          type: \"number\",\n          value: data.sales && data.sales_percentage ? data.sales_percentage : \"\",\n          onChange: e => this.handleStaffChange(e, index, index2),\n          disabled: data.sales ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalInput, {\n          name: \"sales_amount\",\n          type: \"number\",\n          value: data.sales && data.sales_amount ? data.sales_amount : \"\",\n          onChange: e => this.handleStaffChange(e, index, index2),\n          disabled: data.sales ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalInput, {\n          name: \"sp\",\n          type: \"number\",\n          value: data.sp,\n          onChange: e => this.handleStaffChange(e, index, index2),\n          disabled: data.sales ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"text-left text-black common-label-text fs-17 pb-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 37\n          }\n        }, data.staff)), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1040,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalInput, {\n          name: \"work_percentage\",\n          type: \"number\",\n          value: data.work && data.work_percentage ? data.work_percentage : \"\",\n          onChange: e => this.handleStaffChange(e, index, index2),\n          disabled: data.work ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center border-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalInput, {\n          name: \"work_amount\",\n          type: \"number\",\n          value: data.work && data.work_amount ? data.work_amount : \"\",\n          onChange: e => this.handleStaffChange(e, index, index2),\n          disabled: data.work ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          className: \"text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(NormalInput, {\n          name: \"wp\",\n          type: \"number\",\n          value: data.wp,\n          onChange: e => this.handleStaffChange(e, index, index2),\n          disabled: data.work ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"th\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1087,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-12 p-0 fs-18 text-center cursor-pointer\",\n          onClick: e => this.handleDeleteStaff(e, index, index2),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"icon-delete\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 39\n          }\n        }))));\n      }))))));\n    })), data_list && data_list.length <= 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-5 pr-5 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 13\n      }\n    }, \"No Record Found\") : null, /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"stock-memo-staff-listing\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: staffListPopup,\n      handleModal: this.handleEmployeePopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleEmployeePopup,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1117,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(StaffList, {\n      staffList: staffList,\n      meta: meta,\n      handleNext: () => this.handleNext(),\n      handleBack: () => this.handleBack(),\n      handleSelectedStaff: item => this.handleSelectedStaff(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1123,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  basicApptDetail: state.appointment.basicApptDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const StaffSelectionPopup = connect(mapStateToProps, mapDispatchToProps)(StaffSelectionPopupClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/staffSelectionPopup.js"],"names":["React","Component","NormalInput","NormalButton","NormalModal","NormalCheckbox","connect","bindActionCreators","getCommonApi","commonCreateApi","commonDeleteApi","closeIcon","Toast","StaffList","StaffSelectionPopupClass","state","data_list","item_status_options","staffListPopup","selectedAddStaffIndex","staffList","limit","page","meta","sourceList","selectedAddStaffType","activeRow","getStafflist","data","props","then","key","status","console","log","pagination","setState","handleNext","handleBack","getStaffSelectionList","basicApptDetail","custId","id","length","document","getElementById","classList","toggle","handleStaffChange","e","index1","index2","target","name","toUpperCase","value","type","message","handleAccordion","elements","getElementsByClassName","i","add","handleSelectedStaff","item","handleEmployeePopup","filter","find","acc","emp_id","work","sales","handleSalesStaffCalc","handleWorkStaffCalc","push","staff","emp_name","sales_percentage","sales_amount","sp","work_percentage","work_amount","wp","tmp_workid","tmp_saleid","prevState","handleAddNewStaff","index","handlePostAction","div","transamt","Number","trans_amt","toFixed","sales_point","work_point","salesPercent","salesAmount","salesPoint","workPercent","workAmount","workPoint","line","handleSubmit","result","handleModal","salesStaffCount","startSales_percent","startSales_amount","endSales_percent","endSales_amount","salesLength","j","dataLine","sales_percent","totalsale","diff_sales_percent","diff_sales_amount","percent","amt","workStaffCount","startWork_percent","endWork_percent","startWork_amount","endwork_amount","endWork_amount","workLength","work_percent","totalwork","diff_work_percent","diff_work_amount","handleDeleteStaff","cartId","Workid","Saleid","body","cart_id","res","splice","componentDidMount","render","map","itemdesc","quantity","price","totl_disc","discount_price","deposit","marginRight","minWidth","mapStateToProps","appointment","mapDispatchToProps","dispatch","StaffSelectionPopup"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,WADF,EAEEC,YAFF,EAGEC,WAHF,EAIEC,cAJF,QAKO,kBALP;AAMA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SACEC,YADF,EAEEC,eAFF,EAGEC,eAHF,QAIO,sBAJP;AAKA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAO,cAAP;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,MAAMC,wBAAN,SAAuCb,SAAvC,CAAiD;AAAA;AAAA;AAAA,SACtDc,KADsD,GAC9C;AACNC,MAAAA,SAAS,EAAE,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxJS,OADL;AA2JNC,MAAAA,mBAAmB,EAAE,EA3Jf;AA4JNC,MAAAA,cAAc,EAAE,KA5JV;AA6JNC,MAAAA,qBAAqB,EAAE,IA7JjB;AA8JNC,MAAAA,SAAS,EAAE,EA9JL;AA+JNC,MAAAA,KAAK,EAAE,CA/JD;AAgKNC,MAAAA,IAAI,EAAE,CAhKA;AAiKNC,MAAAA,IAAI,EAAE,EAjKA;AAkKNC,MAAAA,UAAU,EAAE,EAlKN;AAmKNC,MAAAA,oBAAoB,EAAE,CAnKhB;AAoKNC,MAAAA,SAAS,EAAE;AApKL,KAD8C;;AAAA,SA2KtDC,YA3KsD,GA2KvCC,IAAI,IAAI;AACrB,UAAI;AAAEN,QAAAA,IAAF;AAAQD,QAAAA,KAAR;AAAeI,QAAAA;AAAf,UAAwC,KAAKV,KAAjD;AACA,WAAKc,KAAL,CACGrB,YADH,CAEK,4BAA2BiB,oBAAqB,SAAQH,IAAK,UAASD,KAAM,EAFjF,EAIGS,IAJH,CAIQ,MAAMC,GAAN,IAAa;AACjB,YAAI;AAAEC,UAAAA,MAAF;AAAUJ,UAAAA;AAAV,YAAmBG,GAAvB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiB,8BAAjB;AACA,YAAI;AAAEX,UAAAA;AAAF,YAAgB,KAAKL,KAAzB;AACA,YAAI;AAAEQ,UAAAA;AAAF,YAAW,KAAKR,KAApB;AACAK,QAAAA,SAAS,GAAG,EAAZ;AACAG,QAAAA,IAAI,GAAG,EAAP;AACAH,QAAAA,SAAS,GAAGQ,IAAZ;AACAL,QAAAA,IAAI,GAAGK,IAAI,CAACL,IAAL,CAAUY,UAAjB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ,EAAkB,UAAlB;AACA,aAAKa,QAAL,CAAc;AACZhB,UAAAA,SADY;AAEZG,UAAAA;AAFY,SAAd;AAID,OAlBH;AAmBD,KAhMqD;;AAAA,SAkMtDc,UAlMsD,GAkMzC,YAAY;AACvB,UAAI;AAAEf,QAAAA;AAAF,UAAW,KAAKP,KAApB;AACAO,MAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACA,YAAM,KAAKc,QAAL,CAAc;AAClBd,QAAAA;AADkB,OAAd,CAAN;;AAGA,UAAIA,IAAI,GAAG,CAAX,EAAc;AACZ,aAAKK,YAAL;AACD;AACF,KA3MqD;;AAAA,SA6MtDW,UA7MsD,GA6MzC,YAAY;AACvB,UAAI;AAAEhB,QAAAA;AAAF,UAAW,KAAKP,KAApB;AACAO,MAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACA,YAAM,KAAKc,QAAL,CAAc;AAClBd,QAAAA;AADkB,OAAd,CAAN;;AAGA,UAAIA,IAAI,GAAG,CAAX,EAAc;AACZ,aAAKK,YAAL;AACD;AACF,KAtNqD;;AAAA,SAwNtDY,qBAxNsD,GAwN9B,MAAM;AAC5B,UAAI;AAAEvB,QAAAA;AAAF,UAAgB,KAAKD,KAAzB;AACA,UAAI;AAAEyB,QAAAA;AAAF,UAAsB,KAAKX,KAA/B;AACA,WAAKA,KAAL,CACGrB,YADH,CAEK,wBAAuBgC,eAAe,CAACC,MAAO,YAAW,KAAKZ,KAAL,CAAWa,EAAG,cAF5E,EAIGZ,IAJH,CAIQ,MAAMC,GAAN,IAAa;AACjB,YAAI;AAAEC,UAAAA,MAAF;AAAUJ,UAAAA;AAAV,YAAmBG,GAAvB;;AACA,YAAIC,MAAM,IAAI,KAAd,EAAqB;AACnBC,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiB,6BAAjB;AACAf,UAAAA,SAAS,GAAGY,IAAZ;AACA,gBAAM,KAAKQ,QAAL,CAAc;AAClBpB,YAAAA;AADkB,WAAd,CAAN;;AAIA,cAAI,KAAKD,KAAL,CAAWC,SAAX,CAAqB2B,MAArB,GAA8B,CAAlC,EAAqC;AACnC,iBAAKP,QAAL,CAAc;AACZV,cAAAA,SAAS,EAAE,KAAKX,KAAL,CAAWC,SAAX,CAAqB,CAArB,EAAwB0B;AADvB,aAAd;AAGAE,YAAAA,QAAQ,CACLC,cADH,CACkB,KAAK9B,KAAL,CAAWC,SAAX,CAAqB,CAArB,EAAwB0B,EAD1C,EAEGI,SAFH,CAEaC,MAFb,CAEoB,QAFpB;AAGD;AACF;AACF,OAtBH;AAuBD,KAlPqD;;AAAA,SAoPtDC,iBApPsD,GAoPlC,OAAOC,CAAP,EAAUC,MAAV,EAAkBC,MAAlB,KAA6B;AAC/C,UAAIvB,IAAI,GAAG,KAAKb,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6BtB,IAA7B,CAAkCuB,MAAlC,CAAX;;AACA,UAAI,CAACF,CAAC,CAACG,MAAF,CAASC,IAAV,KAAmB,MAAvB,EAA+B;AAC7B,YACG,KAAKtC,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6B,MAA7B,EAAqCI,WAArC,MAAsD,OAAtD,IACC,KAAKvC,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6B,KAA7B,KAAuC,GADzC,IAEC,KAAKnC,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6B,MAA7B,EAAqCI,WAArC,MAAsD,SAAtD,IACC,KAAKvC,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6B,KAA7B,KAAuC,GAJ3C,EAKE;AACAtB,UAAAA,IAAI,CAAC,CAACqB,CAAC,CAACG,MAAF,CAASC,IAAV,CAAD,CAAJ,GAAwBJ,CAAC,CAACG,MAAF,CAASG,KAAjC;AACA,gBAAM,KAAKnB,QAAL,CAAc;AAAER,YAAAA;AAAF,WAAd,CAAN;AACD,SARD,MAQO;AACLhB,UAAAA,KAAK,CAAC;AACJ4C,YAAAA,IAAI,EAAE,OADF;AAEJC,YAAAA,OAAO,EAAE;AAFL,WAAD,CAAL;AAID;AACF,OAfD,MAeO;AACL7B,QAAAA,IAAI,CAAC,CAACqB,CAAC,CAACG,MAAF,CAASC,IAAV,CAAD,CAAJ,GAAwBJ,CAAC,CAACG,MAAF,CAASG,KAAjC;AACA,cAAM,KAAKnB,QAAL,CAAc;AAAER,UAAAA;AAAF,SAAd,CAAN;AACD;AACF,KAzQqD;;AAAA,SA0QtD8B,eA1QsD,GA0QpC,MAAMhB,EAAN,IAAY;AAC5B,YAAM,KAAKN,QAAL,CAAc;AAClBV,QAAAA,SAAS,EAAEgB;AADO,OAAd,CAAN;AAGA,UAAIiB,QAAQ,GAAGf,QAAQ,CAACgB,sBAAT,CAAgC,WAAhC,CAAf;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAAChB,MAA7B,EAAqCkB,CAAC,EAAtC,EAA0C;AACxCF,QAAAA,QAAQ,CAACE,CAAD,CAAR,CAAYf,SAAZ,CAAsBgB,GAAtB,CAA0B,QAA1B;AACD;;AACDlB,MAAAA,QAAQ,CAACC,cAAT,CAAwBH,EAAxB,EAA4BI,SAA5B,CAAsCC,MAAtC,CAA6C,QAA7C;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAYyB,QAAZ;AACD,KApRqD;;AAAA,SAsRtDI,mBAtRsD,GAsRhC,MAAMC,IAAN,IAAc;AAClC,WAAKC,mBAAL;AACA,UAAI;AAAE9C,QAAAA,qBAAF;AAAyBM,QAAAA,oBAAzB;AAA+CT,QAAAA;AAA/C,UAA6D,KAAKD,KAAtE;AACA,UAAIa,IAAI,GAAG,KAAKb,KAAL,CAAWC,SAAX,CAAqBG,qBAArB,EAA4CS,IAAvD;AAEA,UAAIsC,MAAM,GAAGtC,IAAI,CAACuC,IAAL,CAAUC,GAAG,IAAIA,GAAG,CAACC,MAAJ,KAAeL,IAAI,CAACtB,EAArC,CAAb;;AACA,UAAIwB,MAAJ,EAAY;AACV,YAAIA,MAAM,CAACI,IAAP,IAAeJ,MAAM,CAACK,KAA1B,EAAiC;AAC/B3D,UAAAA,KAAK,CAAC;AACJ4C,YAAAA,IAAI,EAAE,OADF;AAEJC,YAAAA,OAAO,EAAE;AAFL,WAAD,CAAL;AAID,SALD,MAKO,IAAIS,MAAM,CAACI,IAAX,EAAiB;AACtBJ,UAAAA,MAAM,CAACK,KAAP,GAAe,IAAf;AACA,eAAKC,oBAAL,CAA0B,CAA1B;AACD,SAHM,MAGA;AACLN,UAAAA,MAAM,CAACI,IAAP,GAAc,IAAd;AACA,eAAKG,mBAAL,CAAyB,CAAzB;AACD;AACF,OAbD,MAaO;AACL7C,QAAAA,IAAI,CAAC8C,IAAL,CAAU;AACRJ,UAAAA,IAAI,EAAE7C,oBAAoB,IAAI,CAAxB,GAA4B,IAA5B,GAAmC,KADjC;AAER8C,UAAAA,KAAK,EAAE9C,oBAAoB,IAAI,CAAxB,GAA4B,IAA5B,GAAmC,KAFlC;AAGRkD,UAAAA,KAAK,EAAEX,IAAI,CAACY,QAHJ;AAIRP,UAAAA,MAAM,EAAEL,IAAI,CAACtB,EAJL;AAKRmC,UAAAA,gBAAgB,EAAE,CALV;AAMRC,UAAAA,YAAY,EAAE,CANN;AAORC,UAAAA,EAAE,EAAE,CAPI;AAQRC,UAAAA,eAAe,EAAE,CART;AASRC,UAAAA,WAAW,EAAE,CATL;AAURC,UAAAA,EAAE,EAAE,CAVI;AAWRC,UAAAA,UAAU,EAAE,IAXJ;AAYRC,UAAAA,UAAU,EAAE;AAZJ,SAAV;AAcA,cAAM,KAAKhD,QAAL,CAAc;AAAER,UAAAA;AAAF,SAAd,CAAN;AACA,aAAKQ,QAAL,CAAc;AACZjB,UAAAA,qBAAqB,EAAE,IADX;AAEZM,UAAAA,oBAAoB,EAAE;AAFV,SAAd;AAIAA,QAAAA,oBAAoB,IAAI,CAAxB,GACI,KAAKgD,mBAAL,CAAyB,CAAzB,CADJ,GAEI,KAAKD,oBAAL,CAA0B,CAA1B,CAFJ;AAGD;AACF,KAjUqD;;AAAA,SAkUtDP,mBAlUsD,GAkUhC,MAAM;AAC1B,WAAK7B,QAAL,CAAciD,SAAS,KAAK;AAC1BnE,QAAAA,cAAc,EAAE,CAACmE,SAAS,CAACnE;AADD,OAAL,CAAvB;AAGD,KAtUqD;;AAAA,SAuUtDoE,iBAvUsD,GAuUlC,OAAOC,KAAP,EAAc/B,IAAd,EAAoBQ,IAApB,KAA6B;AAC/C,UAAIR,IAAI,IAAI,CAAZ,EAAe;AACb,YACGQ,IAAI,CAAC,MAAD,CAAJ,CAAaV,WAAb,MAA8B,OAA9B,IAAyCU,IAAI,CAAC,KAAD,CAAJ,IAAe,GAAzD,IACCA,IAAI,CAAC,MAAD,CAAJ,CAAaV,WAAb,MAA8B,SAA9B,IAA2CU,IAAI,CAAC,KAAD,CAAJ,IAAe,GAF7D,EAGE;AACA,gBAAM,KAAK5B,QAAL,CAAc;AAClBjB,YAAAA,qBAAqB,EAAEoE,KADL;AAElB9D,YAAAA,oBAAoB,EAAE+B,IAFJ;AAGlBpC,YAAAA,SAAS,EAAE,EAHO;AAIlBG,YAAAA,IAAI,EAAE,EAJY;AAKlBD,YAAAA,IAAI,EAAE;AALY,WAAd,CAAN;AAOA,eAAKK,YAAL;AACA,eAAKS,QAAL,CAAc;AACZlB,YAAAA,cAAc,EAAE;AADJ,WAAd;AAGD,SAfD,MAeO;AACLN,UAAAA,KAAK,CAAC;AACJ4C,YAAAA,IAAI,EAAE,OADF;AAEJC,YAAAA,OAAO,EAAE;AAFL,WAAD,CAAL;AAID;AACF,OAtBD,MAsBO;AACL,cAAM,KAAKrB,QAAL,CAAc;AAClBjB,UAAAA,qBAAqB,EAAEoE,KADL;AAElB9D,UAAAA,oBAAoB,EAAE+B,IAFJ;AAGlBpC,UAAAA,SAAS,EAAE,EAHO;AAIlBG,UAAAA,IAAI,EAAE,EAJY;AAKlBD,UAAAA,IAAI,EAAE;AALY,SAAd,CAAN;AAOA,aAAKK,YAAL;AACA,aAAKS,QAAL,CAAc;AACZlB,UAAAA,cAAc,EAAE;AADJ,SAAd;AAGD;AACF,KA3WqD;;AAAA,SA6WtDsE,gBA7WsD,GA6WnC,MAAM;AACvB,UAAI;AAAExE,QAAAA;AAAF,UAAgB,KAAKD,KAAzB;;AAEA,WAAK,IAAIwC,KAAT,IAAkBvC,SAAlB,EAA6B;AAC3B,YAAIwC,IAAI,GAAGD,KAAK,CAACC,IAAjB;AACA,YAAIiC,GAAG,GAAGlC,KAAK,CAACkC,GAAhB;AACA,YAAIC,QAAQ,GAAGC,MAAM,CAACpC,KAAK,CAACqC,SAAP,CAAN,CAAwBC,OAAxB,CAAgC,CAAhC,CAAf;AACA,YAAIZ,WAAW,GAAGU,MAAM,CAACpC,KAAK,CAAC0B,WAAP,CAAN,CAA0BY,OAA1B,CAAkC,CAAlC,CAAlB;AACA,YAAIC,WAAW,GAAGH,MAAM,CAACpC,KAAK,CAACuC,WAAP,CAAxB;AACA,YAAIC,UAAU,GAAGJ,MAAM,CAACpC,KAAK,CAACwC,UAAP,CAAvB;AACA,YAAIC,YAAY,GAAG,CAAnB;AACA,YAAIC,WAAW,GAAGN,MAAM,CAAC,CAAD,CAAxB;AACA,YAAIO,UAAU,GAAGP,MAAM,CAAC,CAAD,CAAvB;AACA,YAAIQ,WAAW,GAAGR,MAAM,CAAC,CAAD,CAAxB;AACA,YAAIS,UAAU,GAAGT,MAAM,CAAC,CAAD,CAAvB;AACA,YAAIU,SAAS,GAAGV,MAAM,CAAC,CAAD,CAAtB;;AACA,aAAK,IAAIW,IAAT,IAAiB/C,KAAK,CAAC3B,IAAvB,EAA6B;AAC3BoE,UAAAA,YAAY,IAAIL,MAAM,CAACW,IAAI,CAACzB,gBAAN,CAAtB;AACAoB,UAAAA,WAAW,IAAIN,MAAM,CAACW,IAAI,CAACxB,YAAN,CAArB;AACAoB,UAAAA,UAAU,IAAIP,MAAM,CAACW,IAAI,CAACvB,EAAN,CAApB;AACAoB,UAAAA,WAAW,IAAIR,MAAM,CAACW,IAAI,CAACtB,eAAN,CAArB;AACAoB,UAAAA,UAAU,IAAIT,MAAM,CAACW,IAAI,CAACrB,WAAN,CAApB;AACAoB,UAAAA,SAAS,IAAIV,MAAM,CAACW,IAAI,CAACpB,EAAN,CAAnB,CAN2B,CAQ3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AACD,YAAIiB,WAAW,GAAG,GAAd,IAAqBC,UAAU,GAAGV,QAAtC,EAAgD;AAC9C9E,UAAAA,KAAK,CAAC;AACJ4C,YAAAA,IAAI,EAAE,OADF;AAEJC,YAAAA,OAAO,EACL;AAHE,WAAD,CAAL;AAKA,iBAAO,KAAP;AACD,SAPD,MAOO,IACLgC,GAAG,IAAI,GAAP,IACAjC,IAAI,CAACF,WAAL,MAAsB,SADtB,IAEA8C,UAAU,GAAGnB,WAHR,EAIL;AACArE,UAAAA,KAAK,CAAC;AACJ4C,YAAAA,IAAI,EAAE,OADF;AAEJC,YAAAA,OAAO,EACL;AAHE,WAAD,CAAL;AAKA,iBAAO,KAAP;AACD,SAXM,MAWA,IAAIuC,YAAY,GAAG,GAAf,IAAsBC,WAAW,GAAGP,QAAxC,EAAkD;AACvD9E,UAAAA,KAAK,CAAC;AACJ4C,YAAAA,IAAI,EAAE,OADF;AAEJC,YAAAA,OAAO,EACL;AAHE,WAAD,CAAL;AAKA,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD,KAhcqD;;AAAA,SAkctD8C,YAlcsD,GAkcvC,MAAM;AACnB,UAAI;AAAEvF,QAAAA;AAAF,UAAgB,KAAKD,KAAzB;AACA,UAAIyF,MAAM,GAAG,KAAKhB,gBAAL,EAAb;;AACA,UAAIgB,MAAJ,EAAY;AACVvE,QAAAA,OAAO,CAACC,GAAR,CAAYlB,SAAZ,EAAuB,2BAAvB;AACA,aAAKa,KAAL,CAAWpB,eAAX,CAA4B,mBAA5B,EAAgDO,SAAhD,EAA2Dc,IAA3D,CAAgEC,GAAG,IAAI;AACrEE,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiB,6BAAjB;AACA,cAAI;AAAEC,YAAAA,MAAF;AAAUJ,YAAAA;AAAV,cAAmBG,GAAvB;;AACA,cAAIC,MAAM,IAAI,GAAd,EAAmB;AACjB,iBAAKH,KAAL,CAAW4E,WAAX;AACD;AACF,SAND;AAOD;AACF,KA/cqD;;AAAA,SAidtDjC,oBAjdsD,GAid/B,MAAMe,KAAN,IAAe;AACpC,UAAI;AAAEvE,QAAAA;AAAF,UAAgB,KAAKD,KAAzB;AACA,UAAI2F,eAAe,GAAG,CAAtB;;AACA,WAAK,IAAIJ,IAAT,IAAiBtF,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAlC,EAAwC;AACtC,YAAI0E,IAAI,CAAC/B,KAAT,EAAgB;AACdmC,UAAAA,eAAe,IAAI,CAAnB;AACD;AACF;;AACD,UAAIf,MAAM,CAACe,eAAD,CAAN,IAA2B,CAA/B,EAAkC;AAChC,YAAIC,kBAAkB,GAAGhB,MAAM,CAAE,KAAK,GAAN,GAAa,GAAd,CAAN,CAAyBE,OAAzB,CAAiC,CAAjC,CAAzB;AACA,YAAIe,iBAAiB,GAAGjB,MAAM,CAC5BA,MAAM,CAAC,KAAK,GAAN,CAAN,GAAmBA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,CAAD,CADG,CAAN,CAEtBM,OAFsB,CAEd,CAFc,CAAxB;AAIA,YAAIgB,gBAAgB,GAAGlB,MAAM,CAAE,KAAK,GAAN,GAAa,GAAd,CAAN,CAAyBE,OAAzB,CAAiC,CAAjC,CAAvB;AACA,YAAIiB,eAAe,GAAGnB,MAAM,CAC1BA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,CAAD,CAAN,GACEI,MAAM,CAACiB,iBAAD,CAAN,CAA0Bf,OAA1B,CAAkC,CAAlC,CAFwB,CAAN,CAGpBA,OAHoB,CAGZ,CAHY,CAAtB;AAKA,YAAIjE,IAAI,GAAGZ,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAA5B;AACA,YAAImF,WAAW,GAAGnF,IAAI,CAACsC,MAAL,CAAYE,GAAG,IAAIA,GAAG,CAACG,KAAJ,KAAc,IAAjC,EAAuC5B,MAAzD;AACA,YAAIkB,CAAC,GAAG,CAAR;AACA,YAAImD,CAAC,GAAG,CAAR;;AACA,aAAK,IAAIC,QAAT,IAAqBjG,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAtC,EAA4C;AAC1C,cAAIqF,QAAQ,CAAC1C,KAAb,EAAoB;AAClB,gBAAIyC,CAAC,IAAID,WAAT,EAAsB;AACpBnF,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,kBAAR,IAA8B8B,MAAM,CAACkB,gBAAD,CAAN,CAAyBhB,OAAzB,CAAiC,CAAjC,CAA9B;AACAjE,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,cAAR,IAA0B8B,MAAM,CAACmB,eAAD,CAAN,CAAwBjB,OAAxB,CAAgC,CAAhC,CAA1B,CAFoB,CAGpB;;AACA,oBAAM,KAAKzD,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD,aALD,MAKO;AACLA,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,kBAAR,IAA8B8B,MAAM,CAACgB,kBAAD,CAAN,CAA2Bd,OAA3B,CAAmC,CAAnC,CAA9B;AACAjE,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,cAAR,IAA0B8B,MAAM,CAACiB,iBAAD,CAAN,CAA0Bf,OAA1B,CAAkC,CAAlC,CAA1B,CAFK,CAGL;;AACA,oBAAM,KAAKzD,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD;;AACDoF,YAAAA,CAAC;AACF;;AACDnD,UAAAA,CAAC;AACF;AACF,OAjCD,MAiCO;AACL,YAAIqD,aAAa,GAAGvB,MAAM,CAAC,MAAMe,eAAP,CAAN,CAA8Bb,OAA9B,CAAsC,CAAtC,CAApB;AACA,YAAIsB,SAAS,GAAGD,aAAa,GAAGR,eAAhC;AACA,YAAIU,kBAAkB,GAAGzB,MAAM,CAAC,MAAMwB,SAAP,CAAN,CAAwBtB,OAAxB,CAAgC,CAAhC,CAAzB;AACA,YAAIf,YAAY,GAAGa,MAAM,CACvB3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,IAAgCmB,eADT,CAAN,CAEjBb,OAFiB,CAET,CAFS,CAAnB;AAGA,YAAIwB,iBAAiB,GAAG1B,MAAM,CAC5B3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,IAAgCT,YAAY,GAAG4B,eADnB,CAAN,CAEtBb,OAFsB,CAEd,CAFc,CAAxB,CAPK,CAUL;AACA;AACA;;AAEA,YAAIjE,IAAI,GAAGZ,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAA5B;AACA,YAAImF,WAAW,GAAGnF,IAAI,CAACsC,MAAL,CAAYE,GAAG,IAAIA,GAAG,CAACG,KAAJ,KAAc,IAAjC,EAAuC5B,MAAzD;AACA,YAAIkB,CAAC,GAAG,CAAR;AACA,YAAImD,CAAC,GAAG,CAAR;;AACA,aAAK,IAAIC,QAAT,IAAqBjG,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAtC,EAA4C;AAC1C,cAAIqF,QAAQ,CAAC1C,KAAb,EAAoB;AAClB,gBAAIyC,CAAC,IAAID,WAAT,EAAsB;AACpB,kBAAIO,OAAO,GAAG3B,MAAM,CAACuB,aAAD,CAAN,GAAwBvB,MAAM,CAACyB,kBAAD,CAA5C;AACA,kBAAIG,GAAG,GAAG5B,MAAM,CAACb,YAAD,CAAN,GAAuBa,MAAM,CAAC0B,iBAAD,CAAvC;AACAzF,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,kBAAR,IAA8B8B,MAAM,CAAC2B,OAAD,CAAN,CAAgBzB,OAAhB,CAAwB,CAAxB,CAA9B;AAEAjE,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,cAAR,IAA0B8B,MAAM,CAAC4B,GAAD,CAAN,CAAY1B,OAAZ,CAAoB,CAApB,CAA1B,CALoB,CAOpB;;AACA,oBAAM,KAAKzD,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD,aATD,MASO;AACLA,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,kBAAR,IAA8BqD,aAA9B;AACAtF,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,cAAR,IAA0BiB,YAA1B,CAFK,CAGL;;AACA,oBAAM,KAAK1C,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD;;AACDoF,YAAAA,CAAC;AACF;;AACDnD,UAAAA,CAAC;AACF;AACF;AACF,KAliBqD;;AAAA,SAmiBtDY,mBAniBsD,GAmiBhC,MAAMc,KAAN,IAAe;AACnC,UAAI;AAAEvE,QAAAA;AAAF,UAAgB,KAAKD,KAAzB;AAEA,UAAIyG,cAAc,GAAG,CAArB;;AACA,WAAK,IAAIlB,IAAT,IAAiBtF,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAlC,EAAwC;AACtC,YAAI0E,IAAI,CAAChC,IAAT,EAAe;AACbkD,UAAAA,cAAc,IAAI,CAAlB;AACD;AACF;;AACD,UAAI7B,MAAM,CAAC6B,cAAD,CAAN,IAA0B,CAA9B,EAAiC;AAC/B,YAAIC,iBAAiB,GAAG9B,MAAM,CAAE,KAAK,GAAN,GAAa,GAAd,CAAN,CAAyBE,OAAzB,CAAiC,CAAjC,CAAxB;AACA,YAAI6B,eAAe,GAAG/B,MAAM,CAAE,KAAK,GAAN,GAAa,GAAd,CAAN,CAAyBE,OAAzB,CAAiC,CAAjC,CAAtB;AACA,YAAI8B,gBAAgB,GAAG,EAAvB;AACA,YAAIC,cAAc,GAAG,EAArB;;AACA,YACE5G,SAAS,CAACuE,KAAD,CAAT,CAAiBE,GAAjB,IAAwB,GAAxB,IACAzE,SAAS,CAACuE,KAAD,CAAT,CAAiB/B,IAAjB,CAAsBF,WAAtB,MAAuC,SAFzC,EAGE;AACAqE,UAAAA,gBAAgB,GAAGhC,MAAM,CACvBA,MAAM,CAAC,KAAK,GAAN,CAAN,GAAmBA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,aAAjB,CAAD,CADF,CAAN,CAEjBM,OAFiB,CAET,CAFS,CAAnB;AAGA+B,UAAAA,cAAc,GAAGjC,MAAM,CACrBA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,aAAjB,CAAD,CAAN,GAA0CI,MAAM,CAACgC,gBAAD,CAD3B,CAAN,CAEf9B,OAFe,CAEP,CAFO,CAAjB;AAGD,SAVD,MAUO;AACL8B,UAAAA,gBAAgB,GAAGhC,MAAM,CACvBA,MAAM,CAAC,KAAK,GAAN,CAAN,GAAmBA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,CAAD,CADF,CAAN,CAEjBM,OAFiB,CAET,CAFS,CAAnB;AAGA+B,UAAAA,cAAc,GAAGjC,MAAM,CACrBA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,CAAD,CAAN,GAAwCI,MAAM,CAACgC,gBAAD,CADzB,CAAN,CAEf9B,OAFe,CAEP,CAFO,CAAjB;AAGD;;AAED,YAAIgC,cAAc,GAAGlC,MAAM,CACzBA,MAAM,CAAC3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,CAAD,CAAN,GACEI,MAAM,CAACgC,gBAAD,CAAN,CAAyB9B,OAAzB,CAAiC,CAAjC,CAFuB,CAAN,CAGnBA,OAHmB,CAGX,CAHW,CAArB;AAKA,YAAIjE,IAAI,GAAGZ,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAA5B;AACA,YAAIkG,UAAU,GAAGlG,IAAI,CAACsC,MAAL,CAAYE,GAAG,IAAIA,GAAG,CAACE,IAAJ,KAAa,IAAhC,EAAsC3B,MAAvD;AACA,YAAIkB,CAAC,GAAG,CAAR;AACA,YAAImD,CAAC,GAAG,CAAR;;AACA,aAAK,IAAIV,IAAT,IAAiBtF,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAlC,EAAwC;AACtC,cAAI0E,IAAI,CAAChC,IAAT,EAAe;AACb,gBAAI0C,CAAC,IAAIc,UAAT,EAAqB;AACnBlG,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,iBAAR,IAA6B8B,MAAM,CAAC+B,eAAD,CAAN,CAAwB7B,OAAxB,CAAgC,CAAhC,CAA7B;AACAjE,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,aAAR,IAAyB8B,MAAM,CAACkC,cAAD,CAAN,CAAuBhC,OAAvB,CAA+B,CAA/B,CAAzB,CAFmB,CAGnB;;AACA,oBAAM,KAAKzD,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD,aALD,MAKO;AACLA,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,iBAAR,IAA6B8B,MAAM,CAAC8B,iBAAD,CAAN,CAA0B5B,OAA1B,CAAkC,CAAlC,CAA7B;AACAjE,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,aAAR,IAAyB8B,MAAM,CAACgC,gBAAD,CAAN,CAAyB9B,OAAzB,CAAiC,CAAjC,CAAzB,CAFK,CAGL;;AACA,oBAAM,KAAKzD,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD;;AACDoF,YAAAA,CAAC;AACF;;AACDnD,UAAAA,CAAC;AACF;AACF,OAlDD,MAkDO;AACL,YAAIkE,YAAY,GAAGpC,MAAM,CAAC,MAAM6B,cAAP,CAAN,CAA6B3B,OAA7B,CAAqC,CAArC,CAAnB;AACA,YAAImC,SAAS,GAAGD,YAAY,GAAGP,cAA/B;AACA,YAAIS,iBAAiB,GAAGtC,MAAM,CAAC,MAAMqC,SAAP,CAAN,CAAwBnC,OAAxB,CAAgC,CAAhC,CAAxB;AACA,YAAIZ,WAAW,GAAG,EAAlB;AACA,YAAIiD,gBAAgB,GAAG,EAAvB;;AACA,YACElH,SAAS,CAACuE,KAAD,CAAT,CAAiBE,GAAjB,IAAwB,GAAxB,IACAzE,SAAS,CAACuE,KAAD,CAAT,CAAiB/B,IAAjB,CAAsBF,WAAtB,MAAuC,SAFzC,EAGE;AACA2B,UAAAA,WAAW,GAAGU,MAAM,CAClB3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,aAAjB,IAAkCiC,cADhB,CAAN,CAEZ3B,OAFY,CAEJ,CAFI,CAAd;AAGAqC,UAAAA,gBAAgB,GAAGvC,MAAM,CACvB3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,aAAjB,IAAkCN,WAAW,GAAGuC,cADzB,CAAN,CAEjB3B,OAFiB,CAET,CAFS,CAAnB;AAGD,SAVD,MAUO;AACLZ,UAAAA,WAAW,GAAGU,MAAM,CAClB3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,IAAgCiC,cADd,CAAN,CAEZ3B,OAFY,CAEJ,CAFI,CAAd;AAGAqC,UAAAA,gBAAgB,GAAGvC,MAAM,CACvB3E,SAAS,CAACuE,KAAD,CAAT,CAAiB,WAAjB,IAAgCN,WAAW,GAAGuC,cADvB,CAAN,CAEjB3B,OAFiB,CAET,CAFS,CAAnB;AAGD,SAvBI,CAwBL;AACA;AACA;;;AACA,YAAIjE,IAAI,GAAGZ,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAA5B;AACA,YAAIiC,CAAC,GAAG,CAAR;AACA,YAAImD,CAAC,GAAG,CAAR;AACA,YAAIc,UAAU,GAAGlG,IAAI,CAACsC,MAAL,CAAYE,GAAG,IAAIA,GAAG,CAACE,IAAJ,KAAa,IAAhC,EAAsC3B,MAAvD;;AACA,aAAK,IAAI2D,IAAT,IAAiBtF,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAlC,EAAwC;AACtC,cAAI0E,IAAI,CAAChC,IAAT,EAAe;AACb,gBAAI0C,CAAC,IAAIc,UAAT,EAAqB;AACnB,kBAAIR,OAAO,GAAG3B,MAAM,CAACoC,YAAD,CAAN,GAAuBpC,MAAM,CAACsC,iBAAD,CAA3C;AACA,kBAAIV,GAAG,GAAG5B,MAAM,CAACV,WAAD,CAAN,GAAsBU,MAAM,CAACuC,gBAAD,CAAtC;AACAtG,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,iBAAR,IAA6B8B,MAAM,CAAC2B,OAAD,CAAN,CAAgBzB,OAAhB,CAAwB,CAAxB,CAA7B;AAEAjE,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,aAAR,IAAyB8B,MAAM,CAAC4B,GAAD,CAAN,CAAY1B,OAAZ,CAAoB,CAApB,CAAzB,CALmB,CAOnB;;AACA,oBAAM,KAAKzD,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD,aATD,MASO;AACLA,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,iBAAR,IAA6BkE,YAA7B;AACAnG,cAAAA,IAAI,CAACiC,CAAD,CAAJ,CAAQ,aAAR,IAAyBoB,WAAzB,CAFK,CAGL;;AACA,oBAAM,KAAK7C,QAAL,CAAc;AAAER,gBAAAA;AAAF,eAAd,CAAN;AACD;;AACDoF,YAAAA,CAAC;AACF;;AACDnD,UAAAA,CAAC;AACF;AACF;AACF,KAnpBqD;;AAAA,SAqpBtDsE,iBArpBsD,GAqpBlC,OAAOlF,CAAP,EAAUC,MAAV,EAAkBC,MAAlB,KAA6B;AAC/C,UAAIvB,IAAI,GAAG,KAAKb,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6BtB,IAA7B,CAAkCuB,MAAlC,CAAX;AACA,UAAIiF,MAAM,GAAG,KAAKrH,KAAL,CAAWC,SAAX,CAAqBkC,MAArB,EAA6BR,EAA1C;AACA,UAAI2F,MAAM,GAAG,CAAb;AACA,UAAIC,MAAM,GAAG,CAAb;;AACA,UAAI1G,IAAI,CAACuD,UAAL,IAAmB,IAAvB,EAA6B;AAC3BkD,QAAAA,MAAM,GAAG,CAAT;AACD,OAFD,MAEO;AACLA,QAAAA,MAAM,GAAGzG,IAAI,CAACuD,UAAd;AACD;;AACD,UAAIvD,IAAI,CAACwD,UAAL,IAAmB,IAAvB,EAA6B;AAC3BkD,QAAAA,MAAM,GAAG,CAAT;AACD,OAFD,MAEO;AACLA,QAAAA,MAAM,GAAG1G,IAAI,CAACwD,UAAd;AACD;;AAED,UAAImD,IAAI,GAAG;AACThE,QAAAA,KAAK,EAAE3C,IAAI,CAAC2C,KADH;AAETD,QAAAA,IAAI,EAAE1C,IAAI,CAAC0C,IAFF;AAGTkE,QAAAA,OAAO,EAAE7C,MAAM,CAACyC,MAAD,CAHN;AAITjD,QAAAA,UAAU,EAAEQ,MAAM,CAAC0C,MAAD,CAJT;AAKTjD,QAAAA,UAAU,EAAEO,MAAM,CAAC2C,MAAD;AALT,OAAX;AAOArG,MAAAA,OAAO,CAACC,GAAR,CAAYqG,IAAZ,EAAkB,8BAAlB;;AACA,UAAI5C,MAAM,CAAC2C,MAAD,CAAN,GAAiB,CAAjB,IAAsB3C,MAAM,CAAC0C,MAAD,CAAN,GAAiB,CAA3C,EAA8C;AAC5C,cAAM,KAAKxG,KAAL,CACHpB,eADG,CACc,yBADd,EACwC8H,IADxC,EAEHzG,IAFG,CAEE2G,GAAG,IAAI;AACX,cAAI;AAAEzG,YAAAA;AAAF,cAAayG,GAAjB;;AACA,cAAIzG,MAAM,IAAI,KAAd,EAAqB;AACnBC,YAAAA,OAAO,CAACC,GAAR,CAAYuG,GAAZ,EAAiB,oCAAjB;AACA,gBAAI;AAAEzH,cAAAA;AAAF,gBAAgB,KAAKD,KAAzB;AACAC,YAAAA,SAAS,CAACkC,MAAD,CAAT,CAAkBtB,IAAlB,CAAuB8G,MAAvB,CAA8BvF,MAA9B,EAAsC,CAAtC;AACA,iBAAKf,QAAL,CAAc;AAAEpB,cAAAA;AAAF,aAAd;AACA,iBAAKuB,qBAAL;AACD;AACF,SAXG,CAAN,CAD4C,CAa5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,OAzBD,MAyBO;AACL,YAAI;AAAEvB,UAAAA;AAAF,YAAgB,KAAKD,KAAzB;AACAC,QAAAA,SAAS,CAACkC,MAAD,CAAT,CAAkBtB,IAAlB,CAAuB8G,MAAvB,CAA8BvF,MAA9B,EAAsC,CAAtC;AACA,aAAKf,QAAL,CAAc;AAAEpB,UAAAA;AAAF,SAAd;AACD;;AACD,WAAKyD,mBAAL,CAAyB,CAAzB;AACA,WAAKD,oBAAL,CAA0B,CAA1B;AACD,KA7sBqD;AAAA;;AAwKtDmE,EAAAA,iBAAiB,GAAG;AAClB,SAAKpG,qBAAL;AACD;;AAoiBDqG,EAAAA,MAAM,GAAG;AACP,QAAI;AAAE5H,MAAAA,SAAF;AAAaE,MAAAA,cAAb;AAA6BE,MAAAA,SAA7B;AAAwCG,MAAAA,IAAxC;AAA8CG,MAAAA;AAA9C,QAA4D,KAAKX,KAArE;AACA,wBACE,uDACE;AAAK,MAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,EAIGC,SAAS,IAAIA,SAAS,CAAC2B,MAAV,GAAmB,CAAhC,gBACC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AACE,MAAA,MAAM,EAAE,KADV;AAEE,MAAA,SAAS,EAAC,yBAFZ;AAGE,MAAA,KAAK,EAAC,MAHR;AAIE,MAAA,OAAO,EAAE,MAAM,KAAK4D,YAAL,EAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADD,GASG,IAbN,CADF,eAgBE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,MAAvB,CADF,eAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,KAAvB,CAFF,eAGE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,YAAvB,CAHF,eAIE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,QAAvB,CAJF,eAKE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,SAAvB,CALF,eAME;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,QAAvB,CANF,eAOE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,SAAvB,CAPF,CAhBF,eAyBE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGvF,SAAS,IACRA,SAAS,CAAC2B,MAAV,GAAmB,CADpB,IAEC3B,SAAS,CAAC6H,GAAV,CAAc,CAAC7E,IAAD,EAAOuB,KAAP,KAAiB;AAC7B,0BACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAEA,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,SAAS,EAAG,+CACV7D,SAAS,IAAIsC,IAAI,CAACtB,EAAlB,GAAuB,gBAAvB,GAA0C,EAC3C,EAHH;AAIE,QAAA,OAAO,EAAE,MAAM,KAAKgB,eAAL,CAAqBM,IAAI,CAACtB,EAA1B,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAME;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBsB,IAAI,CAAC8E,QAA3B,CANF,eAOE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG9E,IAAI,CAAC+E,QADR,CAPF,eAgBE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsB/E,IAAI,CAACgF,KAA3B,CAhBF,eAiBE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBhF,IAAI,CAACiF,SAA3B,CAjBF,eAkBE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBjF,IAAI,CAACkF,cAA3B,CAlBF,eAmBE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBlF,IAAI,CAAC4B,SAA3B,CAnBF,eAoBE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsB5B,IAAI,CAACmF,OAA3B,CApBF,CADF,eAuBE;AACE,QAAA,SAAS,EAAC,4CADZ;AAEE,QAAA,EAAE,EAAEnF,IAAI,CAACtB,EAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAyB,QAAA,KAAK,EAAE;AAAE0G,UAAAA,WAAW,EAAE;AAAf,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,8BAFZ;AAGE,QAAA,OAAO,EAAC,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,YAAD;AACE,QAAA,MAAM,EAAE,IADV;AAEE,QAAA,SAAS,EAAC,qBAFZ;AAGE,QAAA,KAAK,EAAC,SAHR;AAIE,QAAA,OAAO,EAAE,MACP,KAAK9D,iBAAL,CAAuBC,KAAvB,EAA8B,CAA9B,EAAiCvB,IAAjC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CALF,CADF,eAmBE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,mEAFZ;AAGE,QAAA,OAAO,EAAC,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAGE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,YAAD;AACE,QAAA,MAAM,EAAE,IADV;AAEE,QAAA,SAAS,EAAC,oBAFZ;AAGE,QAAA,KAAK,EAAC,WAHR;AAIE,QAAA,OAAO,EAAE,MACP,KAAKQ,oBAAL,CAA0Be,KAA1B,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAHF,CALF,CAnBF,eAuCE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,8BAFZ;AAGE,QAAA,OAAO,EAAC,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,YAAD;AACE,QAAA,MAAM,EAAE,IADV;AAEE,QAAA,SAAS,EAAC,qBAFZ;AAGE,QAAA,KAAK,EAAC,QAHR;AAIE,QAAA,OAAO,EAAE,MACP,KAAKD,iBAAL,CAAuBC,KAAvB,EAA8B,CAA9B,EAAiCvB,IAAjC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CALF,CAvCF,eAyDE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,0CAFZ;AAGE,QAAA,OAAO,EAAC,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAGE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,YAAD;AACE,QAAA,MAAM,EAAE,IADV;AAEE,QAAA,SAAS,EAAC,cAFZ;AAGE,QAAA,KAAK,EAAC,WAHR;AAIE,QAAA,OAAO,EAAE,MACP,KAAKS,mBAAL,CAAyBc,KAAzB,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAHF,CALF,CAzDF,CADF,eA+EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAOE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAIO,KAJP,MAPF,eAaE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAIMvB,IAAI,CAAC4B,SAJX,MAbF,eAmBE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAIO5B,IAAI,CAAC8B,WAJZ,MAnBF,eAyBE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAzBF,eA+BE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAIO,KAJP,MA/BF,eAqCE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKG9B,IAAI,CAACR,IAAL,CAAUF,WAAV,MAA2B,SAA3B,IACDU,IAAI,CAACyB,GAAL,IAAY,GADX,GAEGzB,IAAI,CAACiB,WAFR,GAGGjB,IAAI,CAAC4B,SARX,MArCF,eAgDE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,0CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAIO5B,IAAI,CAAC+B,UAJZ,MAhDF,eAsDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAtDF,CA/EF,CADF,eAyIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG/E,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAjB,CAAsBe,MAAtB,IAAgC,CAAhC,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CADD,GAMG,IAPN,EAQG3B,SAAS,CAACuE,KAAD,CAAT,CAAiB3D,IAAjB,CAAsBiH,GAAtB,CAA0B,CAACjH,IAAD,EAAOuB,MAAP,KAAkB;AAC3C,4BACE;AAAI,UAAA,GAAG,EAAEA,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,oBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,cAAD;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,OAAO,EAAEvB,IAAI,CAAC2C,KAFhB;AAGE,UAAA,IAAI,EAAC,OAHP;AAIE,UAAA,QAAQ,EAAEtB,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CADF,eAcE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,oBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,cAAD;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,OAAO,EAAEvB,IAAI,CAAC0C,IAFhB;AAGE,UAAA,IAAI,EAAC,MAHP;AAIE,UAAA,QAAQ,EAAErB,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CAdF,eA2BE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE;AAAO,UAAA,SAAS,EAAC,mDAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGvB,IAAI,CAAC+C,KADR,CAJF,CA3BF,eAmCE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,kBADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EACH/C,IAAI,CAAC2C,KAAL,IAAc3C,IAAI,CAACiD,gBAAnB,GACIjD,IAAI,CAACiD,gBADT,GAEI,EANR;AAQE,UAAA,QAAQ,EAAE5B,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CATJ;AAWE,UAAA,QAAQ,EAAEvB,IAAI,CAAC2C,KAAL,GAAa,KAAb,GAAqB,IAXjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CAnCF,eAqDE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,cADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EACH3C,IAAI,CAAC2C,KAAL,IAAc3C,IAAI,CAACkD,YAAnB,GACIlD,IAAI,CAACkD,YADT,GAEI,EANR;AAQE,UAAA,QAAQ,EAAE7B,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CATJ;AAWE,UAAA,QAAQ,EAAEvB,IAAI,CAAC2C,KAAL,GAAa,KAAb,GAAqB,IAXjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CArDF,eAuEE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,IADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EAAE3C,IAAI,CAACmD,EAHd;AAIE,UAAA,QAAQ,EAAE9B,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CALJ;AAOE,UAAA,QAAQ,EAAEvB,IAAI,CAAC2C,KAAL,GAAa,KAAb,GAAqB,IAPjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CAvEF,eAqFE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE;AAAO,UAAA,SAAS,EAAC,mDAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG3C,IAAI,CAAC+C,KADR,CAJF,CArFF,eA6FE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,iBADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EACH/C,IAAI,CAAC0C,IAAL,IAAa1C,IAAI,CAACoD,eAAlB,GACIpD,IAAI,CAACoD,eADT,GAEI,EANR;AAQE,UAAA,QAAQ,EAAE/B,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CATJ;AAWE,UAAA,QAAQ,EAAEvB,IAAI,CAAC0C,IAAL,GAAY,KAAZ,GAAoB,IAXhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CA7FF,eA+GE;AACE,UAAA,KAAK,EAAC,KADR;AAEE,UAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,aADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EACH1C,IAAI,CAAC0C,IAAL,IAAa1C,IAAI,CAACqD,WAAlB,GACIrD,IAAI,CAACqD,WADT,GAEI,EANR;AAQE,UAAA,QAAQ,EAAEhC,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CATJ;AAWE,UAAA,QAAQ,EAAEvB,IAAI,CAAC0C,IAAL,GAAY,KAAZ,GAAoB,IAXhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CA/GF,eAiIE;AAAI,UAAA,KAAK,EAAC,KAAV;AAAgB,UAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,IADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EAAE1C,IAAI,CAACsD,EAHd;AAIE,UAAA,QAAQ,EAAEjC,CAAC,IACT,KAAKD,iBAAL,CAAuBC,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CALJ;AAOE,UAAA,QAAQ,EAAEvB,IAAI,CAAC0C,IAAL,GAAY,KAAZ,GAAoB,IAPhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAjIF,eA4IE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AACE,UAAA,SAAS,EAAC,6CADZ;AAEE,UAAA,OAAO,EAAErB,CAAC,IACR,KAAKkF,iBAAL,CAAuBlF,CAAvB,EAA0BsC,KAA1B,EAAiCpC,MAAjC,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAME;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANF,CADF,CA5IF,CADF;AAyJD,OA1JA,CARH,CAzIF,CADF,CAJF,CAvBF,CADF;AA+UD,KAhVD,CAHJ,CAzBF,EA8WGnC,SAAS,IAAIA,SAAS,CAAC2B,MAAV,IAAoB,CAAjC,gBACC;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADD,GAEG,IAhXN,eAiXE,oBAAC,WAAD;AACE,MAAA,SAAS,EAAE,0BADb;AAEE,MAAA,KAAK,EAAE;AAAE0G,QAAAA,QAAQ,EAAE;AAAZ,OAFT;AAGE,MAAA,KAAK,EAAEnI,cAHT;AAIE,MAAA,WAAW,EAAE,KAAK+C,mBAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AACE,MAAA,OAAO,EAAE,KAAKA,mBADhB;AAEE,MAAA,SAAS,EAAC,OAFZ;AAGE,MAAA,GAAG,EAAEtD,SAHP;AAIE,MAAA,GAAG,EAAC,EAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAYE,oBAAC,SAAD;AACE,MAAA,SAAS,EAAES,SADb;AAEE,MAAA,IAAI,EAAEG,IAFR;AAGE,MAAA,UAAU,EAAE,MAAM,KAAKc,UAAL,EAHpB;AAIE,MAAA,UAAU,EAAE,MAAM,KAAKC,UAAL,EAJpB;AAKE,MAAA,mBAAmB,EAAE0B,IAAI,IAAI,KAAKD,mBAAL,CAAyBC,IAAzB,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,CAjXF,CADF,CADF;AA0YD;;AA1lCqD;;AA6lCxD,MAAMsF,eAAe,GAAGvI,KAAK,KAAK;AAChCyB,EAAAA,eAAe,EAAEzB,KAAK,CAACwI,WAAN,CAAkB/G;AADH,CAAL,CAA7B;;AAIA,MAAMgH,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAOlJ,kBAAkB,CACvB;AACEC,IAAAA,YADF;AAEEC,IAAAA,eAFF;AAGEC,IAAAA;AAHF,GADuB,EAMvB+I,QANuB,CAAzB;AAQD,CATD;;AAWA,OAAO,MAAMC,mBAAmB,GAAGpJ,OAAO,CACxCgJ,eADwC,EAExCE,kBAFwC,CAAP,CAGjC1I,wBAHiC,CAA5B","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalCheckbox,\r\n} from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n} from \"redux/actions/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport \"./style.scss\";\r\nimport { Toast } from \"service/toast\";\r\nimport { StaffList } from \"./StaffList\";\r\n\r\nexport class StaffSelectionPopupClass extends Component {\r\n  state = {\r\n    data_list: [\r\n      // {\r\n      //   id: 4397,\r\n      //   type: \"Deposit\",\r\n      //   div: \"3\",\r\n      //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\r\n      //   quantity: 5,\r\n      //   price: \"200.00\",\r\n      //   totl_disc: \"0.00\",\r\n      //   discount_price: \"200.00\",\r\n      //   trans_amt: \"1000.00\",\r\n      //   deposit: \"1000.00\",\r\n      //   is_foc: false,\r\n      //   work_amount: \"200.00\",\r\n      //   work_point: 0,\r\n      //   sales_point: 0,\r\n      //   sales_staffs: \"JACKIE,JANICE,Manager\",\r\n      //   service_staff: \"JANICE,ARIEL\",\r\n      //   data: [\r\n      //     {\r\n      //       work: true,\r\n      //       sales: false,\r\n      //       staff: \"ARIEL\",\r\n      //       emp_id: 259,\r\n      //       sales_percentage: null,\r\n      //       sales_amount: null,\r\n      //       sp: null,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128962,\r\n      //       tmp_saleid: null,\r\n      //     },\r\n      //     {\r\n      //       work: true,\r\n      //       sales: true,\r\n      //       staff: \"JANICE\",\r\n      //       emp_id: 173,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128965,\r\n      //       tmp_saleid: 3789,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"Manager\",\r\n      //       emp_id: 284,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3786,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"JACKIE\",\r\n      //       emp_id: 81,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3787,\r\n      //     },\r\n      //   ],\r\n      // },\r\n      // {\r\n      //   id: 4398,\r\n      //   type: \"Deposit\",\r\n      //   div: \"3\",\r\n      //   itemdesc: \"SM-LYMPHATIC DETOX 60min\",\r\n      //   quantity: 5,\r\n      //   price: \"200.00\",\r\n      //   totl_disc: \"0.00\",\r\n      //   discount_price: \"200.00\",\r\n      //   trans_amt: \"1000.00\",\r\n      //   deposit: \"1000.00\",\r\n      //   is_foc: false,\r\n      //   work_amount: \"200.00\",\r\n      //   work_point: 0,\r\n      //   sales_point: 0,\r\n      //   sales_staffs: \"JACKIE,JANICE,Manager\",\r\n      //   service_staff: \"JANICE,ARIEL\",\r\n      //   data: [\r\n      //     {\r\n      //       work: true,\r\n      //       sales: false,\r\n      //       staff: \"ARIEL\",\r\n      //       emp_id: 259,\r\n      //       sales_percentage: null,\r\n      //       sales_amount: null,\r\n      //       sp: null,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128962,\r\n      //       tmp_saleid: null,\r\n      //     },\r\n      //     {\r\n      //       work: true,\r\n      //       sales: true,\r\n      //       staff: \"JANICE\",\r\n      //       emp_id: 173,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: 50,\r\n      //       work_amount: \"100.00\",\r\n      //       wp: 50,\r\n      //       tmp_workid: 128965,\r\n      //       tmp_saleid: 3789,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"Manager\",\r\n      //       emp_id: 284,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3786,\r\n      //     },\r\n      //     {\r\n      //       work: false,\r\n      //       sales: true,\r\n      //       staff: \"JACKIE\",\r\n      //       emp_id: 81,\r\n      //       sales_percentage: 33,\r\n      //       sales_amount: \"333.00\",\r\n      //       sp: 33,\r\n      //       work_percentage: null,\r\n      //       work_amount: null,\r\n      //       wp: null,\r\n      //       tmp_workid: null,\r\n      //       tmp_saleid: 3787,\r\n      //     },\r\n      //  ],\r\n      //},\r\n    ],\r\n    item_status_options: [],\r\n    staffListPopup: false,\r\n    selectedAddStaffIndex: null,\r\n    staffList: [],\r\n    limit: 6,\r\n    page: 1,\r\n    meta: {},\r\n    sourceList: [],\r\n    selectedAddStaffType: 1,\r\n    activeRow: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getStaffSelectionList();\r\n  }\r\n  getStafflist = data => {\r\n    let { page, limit, selectedAddStaffType } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `empcartlist/?sales_staff=${selectedAddStaffType}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\r\n        let { staffList } = this.state;\r\n        let { meta } = this.state;\r\n        staffList = [];\r\n        meta = {};\r\n        staffList = data;\r\n        meta = data.meta.pagination;\r\n        console.log(meta, \"metalist\");\r\n        this.setState({\r\n          staffList,\r\n          meta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  getStaffSelectionList = () => {\r\n    let { data_list } = this.state;\r\n    let { basicApptDetail } = this.props;\r\n    this.props\r\n      .getCommonApi(\r\n        `cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_staffs=1`\r\n      )\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == \"200\") {\r\n          console.log(key, \"cartstaffselectionpopuplist\");\r\n          data_list = data;\r\n          await this.setState({\r\n            data_list,\r\n          });\r\n\r\n          if (this.state.data_list.length > 0) {\r\n            this.setState({\r\n              activeRow: this.state.data_list[0].id,\r\n            });\r\n            document\r\n              .getElementById(this.state.data_list[0].id)\r\n              .classList.toggle(\"d-none\");\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleStaffChange = async (e, index1, index2) => {\r\n    let data = this.state.data_list[index1].data[index2];\r\n    if ([e.target.name] == \"work\") {\r\n      if (\r\n        (this.state.data_list[index1][\"type\"].toUpperCase() == \"SALES\" &&\r\n          this.state.data_list[index1][\"div\"] == \"3\") ||\r\n        (this.state.data_list[index1][\"type\"].toUpperCase() == \"DEPOSIT\" &&\r\n          this.state.data_list[index1][\"div\"] == \"3\")\r\n      ) {\r\n        data[[e.target.name]] = e.target.value;\r\n        await this.setState({ data });\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Work staff not allowed for Product\",\r\n        });\r\n      }\r\n    } else {\r\n      data[[e.target.name]] = e.target.value;\r\n      await this.setState({ data });\r\n    }\r\n  };\r\n  handleAccordion = async id => {\r\n    await this.setState({\r\n      activeRow: id,\r\n    });\r\n    let elements = document.getElementsByClassName(\"accordion\");\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].classList.add(\"d-none\");\r\n    }\r\n    document.getElementById(id).classList.toggle(\"d-none\");\r\n    console.log(elements);\r\n  };\r\n\r\n  handleSelectedStaff = async item => {\r\n    this.handleEmployeePopup();\r\n    let { selectedAddStaffIndex, selectedAddStaffType, data_list } = this.state;\r\n    let data = this.state.data_list[selectedAddStaffIndex].data;\r\n\r\n    let filter = data.find(acc => acc.emp_id === item.id);\r\n    if (filter) {\r\n      if (filter.work && filter.sales) {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"This staff already found in this list\",\r\n        });\r\n      } else if (filter.work) {\r\n        filter.sales = true;\r\n        this.handleSalesStaffCalc(0);\r\n      } else {\r\n        filter.work = true;\r\n        this.handleWorkStaffCalc(0);\r\n      }\r\n    } else {\r\n      data.push({\r\n        work: selectedAddStaffType == 0 ? true : false,\r\n        sales: selectedAddStaffType == 1 ? true : false,\r\n        staff: item.emp_name,\r\n        emp_id: item.id,\r\n        sales_percentage: 0,\r\n        sales_amount: 0,\r\n        sp: 0,\r\n        work_percentage: 0,\r\n        work_amount: 0,\r\n        wp: 0,\r\n        tmp_workid: null,\r\n        tmp_saleid: null,\r\n      });\r\n      await this.setState({ data });\r\n      this.setState({\r\n        selectedAddStaffIndex: null,\r\n        selectedAddStaffType: null,\r\n      });\r\n      selectedAddStaffType == 0\r\n        ? this.handleWorkStaffCalc(0)\r\n        : this.handleSalesStaffCalc(0);\r\n    }\r\n  };\r\n  handleEmployeePopup = () => {\r\n    this.setState(prevState => ({\r\n      staffListPopup: !prevState.staffListPopup,\r\n    }));\r\n  };\r\n  handleAddNewStaff = async (index, type, item) => {\r\n    if (type == 0) {\r\n      if (\r\n        (item[\"type\"].toUpperCase() == \"SALES\" && item[\"div\"] == \"3\") ||\r\n        (item[\"type\"].toUpperCase() == \"DEPOSIT\" && item[\"div\"] == \"3\")\r\n      ) {\r\n        await this.setState({\r\n          selectedAddStaffIndex: index,\r\n          selectedAddStaffType: type,\r\n          staffList: [],\r\n          meta: {},\r\n          page: 1,\r\n        });\r\n        this.getStafflist();\r\n        this.setState({\r\n          staffListPopup: true,\r\n        });\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Work Staff not allowed for Product\",\r\n        });\r\n      }\r\n    } else {\r\n      await this.setState({\r\n        selectedAddStaffIndex: index,\r\n        selectedAddStaffType: type,\r\n        staffList: [],\r\n        meta: {},\r\n        page: 1,\r\n      });\r\n      this.getStafflist();\r\n      this.setState({\r\n        staffListPopup: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  handlePostAction = () => {\r\n    let { data_list } = this.state;\r\n\r\n    for (let value of data_list) {\r\n      let type = value.type;\r\n      let div = value.div;\r\n      let transamt = Number(value.trans_amt).toFixed(2);\r\n      let work_amount = Number(value.work_amount).toFixed(2);\r\n      let sales_point = Number(value.sales_point);\r\n      let work_point = Number(value.work_point);\r\n      let salesPercent = 0;\r\n      let salesAmount = Number(0);\r\n      let salesPoint = Number(0);\r\n      let workPercent = Number(0);\r\n      let workAmount = Number(0);\r\n      let workPoint = Number(0);\r\n      for (let line of value.data) {\r\n        salesPercent += Number(line.sales_percentage);\r\n        salesAmount += Number(line.sales_amount);\r\n        salesPoint += Number(line.sp);\r\n        workPercent += Number(line.work_percentage);\r\n        workAmount += Number(line.work_amount);\r\n        workPoint += Number(line.wp);\r\n\r\n        // if (line.work) {\r\n        //   if (\r\n        //     Number(line.work_amount) <= 0 ||\r\n        //     line.work_amount == null ||\r\n        //     line.work_percentage == null ||\r\n        //     Number(line.work_percentage) <= 0\r\n        //   ) {\r\n        //     Toast({\r\n        //       type: \"error\",\r\n        //       message:\r\n        //         \"Please check Work Staff Amount or Percentage should not be empty or Zero\",\r\n        //     });\r\n        //     return false;\r\n        //   }\r\n        // }\r\n        // if (line.sales) {\r\n        //   if (\r\n        //     Number(line.sales_amount) <= 0 ||\r\n        //     line.sales_amount == null ||\r\n        //     line.sales_percentage == null ||\r\n        //     Number(line.sales_percentage) <= 0\r\n        //   ) {\r\n        //     Toast({\r\n        //       type: \"error\",\r\n        //       message:\r\n        //         \"Please check Sales Staff Amount or Percentage should not be empty or Zero\",\r\n        //     });\r\n        //     return false;\r\n        //   }\r\n        // }\r\n      }\r\n      if (workPercent > 100 || workAmount > transamt) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Work Staff Amount or Percentage should be less than Maximum\",\r\n        });\r\n        return false;\r\n      } else if (\r\n        div == \"3\" &&\r\n        type.toUpperCase() == \"DEPOSIT\" &&\r\n        workAmount > work_amount\r\n      ) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Work amount is should be equal to Max Work Amount\",\r\n        });\r\n        return false;\r\n      } else if (salesPercent > 100 || salesAmount > transamt) {\r\n        Toast({\r\n          type: \"error\",\r\n          message:\r\n            \"Please check Sales Amount or percentage should be less than max Amount\",\r\n        });\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { data_list } = this.state;\r\n    let result = this.handlePostAction();\r\n    if (result) {\r\n      console.log(data_list, \"savedataforstaffselection\");\r\n      this.props.commonCreateApi(`cartpopup/staffs/`, data_list).then(key => {\r\n        console.log(key, \"resultset of staffselection\");\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSalesStaffCalc = async index => {\r\n    let { data_list } = this.state;\r\n    let salesStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.sales) {\r\n        salesStaffCount += 1;\r\n      }\r\n    }\r\n    if (Number(salesStaffCount) == 2) {\r\n      let startSales_percent = Number((60 / 100) * 100).toFixed(2);\r\n      let startSales_amount = Number(\r\n        Number(60 / 100) * Number(data_list[index][\"trans_amt\"])\r\n      ).toFixed(2);\r\n\r\n      let endSales_percent = Number((40 / 100) * 100).toFixed(2);\r\n      let endSales_amount = Number(\r\n        Number(data_list[index][\"trans_amt\"]) -\r\n          Number(startSales_amount).toFixed(2)\r\n      ).toFixed(2);\r\n\r\n      let data = data_list[index].data;\r\n      let salesLength = data.filter(acc => acc.sales === true).length;\r\n      let i = 0;\r\n      let j = 1;\r\n      for (let dataLine of data_list[index].data) {\r\n        if (dataLine.sales) {\r\n          if (j == salesLength) {\r\n            data[i][\"sales_percentage\"] = Number(endSales_percent).toFixed(2);\r\n            data[i][\"sales_amount\"] = Number(endSales_amount).toFixed(2);\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          } else {\r\n            data[i][\"sales_percentage\"] = Number(startSales_percent).toFixed(2);\r\n            data[i][\"sales_amount\"] = Number(startSales_amount).toFixed(2);\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          }\r\n          j++;\r\n        }\r\n        i++;\r\n      }\r\n    } else {\r\n      let sales_percent = Number(100 / salesStaffCount).toFixed(2);\r\n      let totalsale = sales_percent * salesStaffCount;\r\n      let diff_sales_percent = Number(100 - totalsale).toFixed(2);\r\n      let sales_amount = Number(\r\n        data_list[index][\"trans_amt\"] / salesStaffCount\r\n      ).toFixed(2);\r\n      let diff_sales_amount = Number(\r\n        data_list[index][\"trans_amt\"] - sales_amount * salesStaffCount\r\n      ).toFixed(2);\r\n      // let salespoints = Number(\r\n      //   data_list[index][\"sales_point\"] / salesStaffCount\r\n      // ).toFixed(2);\r\n\r\n      let data = data_list[index].data;\r\n      let salesLength = data.filter(acc => acc.sales === true).length;\r\n      let i = 0;\r\n      let j = 1;\r\n      for (let dataLine of data_list[index].data) {\r\n        if (dataLine.sales) {\r\n          if (j == salesLength) {\r\n            let percent = Number(sales_percent) + Number(diff_sales_percent);\r\n            let amt = Number(sales_amount) + Number(diff_sales_amount);\r\n            data[i][\"sales_percentage\"] = Number(percent).toFixed(2);\r\n\r\n            data[i][\"sales_amount\"] = Number(amt).toFixed(2);\r\n\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          } else {\r\n            data[i][\"sales_percentage\"] = sales_percent;\r\n            data[i][\"sales_amount\"] = sales_amount;\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          }\r\n          j++;\r\n        }\r\n        i++;\r\n      }\r\n    }\r\n  };\r\n  handleWorkStaffCalc = async index => {\r\n    let { data_list } = this.state;\r\n\r\n    let workStaffCount = 0;\r\n    for (let line of data_list[index].data) {\r\n      if (line.work) {\r\n        workStaffCount += 1;\r\n      }\r\n    }\r\n    if (Number(workStaffCount) == 2) {\r\n      let startWork_percent = Number((60 / 100) * 100).toFixed(2);\r\n      let endWork_percent = Number((40 / 100) * 100).toFixed(2);\r\n      let startWork_amount = \"\";\r\n      let endwork_amount = \"\";\r\n      if (\r\n        data_list[index].div == \"3\" &&\r\n        data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n      ) {\r\n        startWork_amount = Number(\r\n          Number(60 / 100) * Number(data_list[index][\"work_amount\"])\r\n        ).toFixed(2);\r\n        endwork_amount = Number(\r\n          Number(data_list[index][\"work_amount\"]) - Number(startWork_amount)\r\n        ).toFixed(2);\r\n      } else {\r\n        startWork_amount = Number(\r\n          Number(60 / 100) * Number(data_list[index][\"trans_amt\"])\r\n        ).toFixed(2);\r\n        endwork_amount = Number(\r\n          Number(data_list[index][\"trans_amt\"]) - Number(startWork_amount)\r\n        ).toFixed(2);\r\n      }\r\n\r\n      let endWork_amount = Number(\r\n        Number(data_list[index][\"trans_amt\"]) -\r\n          Number(startWork_amount).toFixed(2)\r\n      ).toFixed(2);\r\n\r\n      let data = data_list[index].data;\r\n      let workLength = data.filter(acc => acc.work === true).length;\r\n      let i = 0;\r\n      let j = 1;\r\n      for (let line of data_list[index].data) {\r\n        if (line.work) {\r\n          if (j == workLength) {\r\n            data[i][\"work_percentage\"] = Number(endWork_percent).toFixed(2);\r\n            data[i][\"work_amount\"] = Number(endWork_amount).toFixed(2);\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          } else {\r\n            data[i][\"work_percentage\"] = Number(startWork_percent).toFixed(2);\r\n            data[i][\"work_amount\"] = Number(startWork_amount).toFixed(2);\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          }\r\n          j++;\r\n        }\r\n        i++;\r\n      }\r\n    } else {\r\n      let work_percent = Number(100 / workStaffCount).toFixed(2);\r\n      let totalwork = work_percent * workStaffCount;\r\n      let diff_work_percent = Number(100 - totalwork).toFixed(2);\r\n      let work_amount = \"\";\r\n      let diff_work_amount = \"\";\r\n      if (\r\n        data_list[index].div == \"3\" &&\r\n        data_list[index].type.toUpperCase() == \"DEPOSIT\"\r\n      ) {\r\n        work_amount = Number(\r\n          data_list[index][\"work_amount\"] / workStaffCount\r\n        ).toFixed(2);\r\n        diff_work_amount = Number(\r\n          data_list[index][\"work_amount\"] - work_amount * workStaffCount\r\n        ).toFixed(2);\r\n      } else {\r\n        work_amount = Number(\r\n          data_list[index][\"trans_amt\"] / workStaffCount\r\n        ).toFixed(2);\r\n        diff_work_amount = Number(\r\n          data_list[index][\"trans_amt\"] - work_amount * workStaffCount\r\n        ).toFixed(2);\r\n      }\r\n      // let workpoints = Number(\r\n      //   data_list[index][\"sales_point\"] / workStaffCount\r\n      // ).toFixed(2);\r\n      let data = data_list[index].data;\r\n      let i = 0;\r\n      let j = 1;\r\n      let workLength = data.filter(acc => acc.work === true).length;\r\n      for (let line of data_list[index].data) {\r\n        if (line.work) {\r\n          if (j == workLength) {\r\n            let percent = Number(work_percent) + Number(diff_work_percent);\r\n            let amt = Number(work_amount) + Number(diff_work_amount);\r\n            data[i][\"work_percentage\"] = Number(percent).toFixed(2);\r\n\r\n            data[i][\"work_amount\"] = Number(amt).toFixed(2);\r\n\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          } else {\r\n            data[i][\"work_percentage\"] = work_percent;\r\n            data[i][\"work_amount\"] = work_amount;\r\n            //data[i][\"sp\"] = salespoints;\r\n            await this.setState({ data });\r\n          }\r\n          j++;\r\n        }\r\n        i++;\r\n      }\r\n    }\r\n  };\r\n\r\n  handleDeleteStaff = async (e, index1, index2) => {\r\n    let data = this.state.data_list[index1].data[index2];\r\n    let cartId = this.state.data_list[index1].id;\r\n    let Workid = 0;\r\n    let Saleid = 0;\r\n    if (data.tmp_workid == null) {\r\n      Workid = 0;\r\n    } else {\r\n      Workid = data.tmp_workid;\r\n    }\r\n    if (data.tmp_saleid == null) {\r\n      Saleid = 0;\r\n    } else {\r\n      Saleid = data.tmp_saleid;\r\n    }\r\n\r\n    let body = {\r\n      sales: data.sales,\r\n      work: data.work,\r\n      cart_id: Number(cartId),\r\n      tmp_workid: Number(Workid),\r\n      tmp_saleid: Number(Saleid),\r\n    };\r\n    console.log(body, \"selected row Item for delete\");\r\n    if (Number(Saleid) > 0 || Number(Workid) > 0) {\r\n      await this.props\r\n        .commonCreateApi(`cartpopup/staffsdelete/`, body)\r\n        .then(res => {\r\n          let { status } = res;\r\n          if (status == \"200\") {\r\n            console.log(res, \"staffselectionpoppupdeleteresponse\");\r\n            let { data_list } = this.state;\r\n            data_list[index1].data.splice(index2, 1);\r\n            this.setState({ data_list });\r\n            this.getStaffSelectionList();\r\n          }\r\n        });\r\n      // this.props\r\n      //   .commonDeleteApi(`cartpopup/staffsdelete/`, body)\r\n      //   .then(async key => {\r\n      //     let { status, data } = key;\r\n      //     console.log(key, \"staffselectionpoppupdeleteresponse\");\r\n      //     if (status == \"200\" || status == \"201\") {\r\n      //       let { data_list } = this.state;\r\n      //       data_list[index1].data.splice(index2, 1);\r\n      //       this.setState({ data_list });\r\n      //       this.getStaffSelectionList();\r\n      //     }\r\n      //   });\r\n    } else {\r\n      let { data_list } = this.state;\r\n      data_list[index1].data.splice(index2, 1);\r\n      this.setState({ data_list });\r\n    }\r\n    this.handleWorkStaffCalc(0);\r\n    this.handleSalesStaffCalc(0);\r\n  };\r\n  render() {\r\n    let { data_list, staffListPopup, staffList, meta, activeRow } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4 mt-2 product-details\">\r\n          <div className=\"row\">\r\n            <div className=\"col-10\">\r\n              <h4>Staff Selection</h4>\r\n            </div>\r\n            {data_list && data_list.length > 0 ? (\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  mainbg={false}\r\n                  className=\"col-12 fs-15 submit-btn\"\r\n                  label=\"Done\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"row pl-3 pr-5 mt-2 fw-500 h6\">\r\n            <div className=\"col\">{`Item`}</div>\r\n            <div className=\"col\">{`Qty`}</div>\r\n            <div className=\"col\">{`Unit Price`}</div>\r\n            <div className=\"col\">{`Disc $`}</div>\r\n            <div className=\"col\">{`D/Price`}</div>\r\n            <div className=\"col\">{`Amount`}</div>\r\n            <div className=\"col\">{`Deposit`}</div>\r\n          </div>\r\n          <div className=\"row pl-5 pr-5 mt-4\">\r\n            {data_list &&\r\n              data_list.length > 0 &&\r\n              data_list.map((item, index) => {\r\n                return (\r\n                  <div className=\"row  mb-2\" key={index}>\r\n                    <div\r\n                      className={`row rounded p-2 accordion-menu border staff ${\r\n                        activeRow == item.id ? \"border-primary\" : \"\"\r\n                      }`}\r\n                      onClick={() => this.handleAccordion(item.id)}\r\n                    >\r\n                      <div className=\"col\">{item.itemdesc}</div>\r\n                      <div className=\"col\">\r\n                        {item.quantity}\r\n                        {/* <NormalInput\r\n                          name=\"quantity\"\r\n                          type=\"number\"\r\n                          value={item.quantity}\r\n                          onChange={e => this.handleChange(e, index)}\r\n                        /> */}\r\n                      </div>\r\n                      <div className=\"col\">{item.price}</div>\r\n                      <div className=\"col\">{item.totl_disc}</div>\r\n                      <div className=\"col\">{item.discount_price}</div>\r\n                      <div className=\"col\">{item.trans_amt}</div>\r\n                      <div className=\"col\">{item.deposit}</div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row  rounded bg-light p-1 d-none accordion\"\r\n                      id={item.id}\r\n                    >\r\n                      <div className=\"row  pl-3 mb-3\">\r\n                        <table className=\"table\" style={{ marginRight: 10 }}>\r\n                          <thead>\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"border-top-0 border-bottom-0\"\r\n                                colSpan=\"1\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15 fw-500\"\r\n                                      label=\"Sales +\"\r\n                                      onClick={() =>\r\n                                        this.handleAddNewStaff(index, 1, item)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-left border-top-0 border-bottom-0\"\r\n                                colSpan=\"3\"\r\n                              >\r\n                                <div className=\"d-flex\">\r\n                                  <div className=\"col\">Sales staff</div>\r\n\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 top-0 fs-15\"\r\n                                      label=\"Auto Calc\"\r\n                                      onClick={() =>\r\n                                        this.handleSalesStaffCalc(index)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"border-top-0 border-bottom-0\"\r\n                                colSpan=\"1\"\r\n                              >\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15 fw-500\"\r\n                                      label=\"Work +\"\r\n                                      onClick={() =>\r\n                                        this.handleAddNewStaff(index, 0, item)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-top-0 border-bottom-0\"\r\n                                colSpan=\"4\"\r\n                              >\r\n                                <div className=\"d-flex\">\r\n                                  <div className=\"col\">Work staff</div>\r\n\r\n                                  <div className=\"col\">\r\n                                    <NormalButton\r\n                                      mainbg={true}\r\n                                      className=\"col-12 fs-15\"\r\n                                      label=\"Auto Calc\"\r\n                                      onClick={() =>\r\n                                        this.handleWorkStaffCalc(index)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </th>\r\n                            </tr>\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                Staff\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                % ({`100`})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                $ ({item.trans_amt})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                SP ({item.sales_point})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                Staff\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                % ({`100`})\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-right border-top-0 border-bottom-0\"\r\n                              >\r\n                                $ (\r\n                                {item.type.toUpperCase() == \"DEPOSIT\" &&\r\n                                item.div == \"3\"\r\n                                  ? item.work_amount\r\n                                  : item.trans_amt}\r\n                                )\r\n                              </th>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"text-center border-top-0 border-bottom-0\"\r\n                              >\r\n                                WP ({item.work_point})\r\n                              </th>\r\n                              <th>Action</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {data_list[index].data.length <= 0 ? (\r\n                              <tr>\r\n                                <div className=\"d-flex justify-content-center\">\r\n                                  No record found\r\n                                </div>\r\n                              </tr>\r\n                            ) : null}\r\n                            {data_list[index].data.map((data, index2) => {\r\n                              return (\r\n                                <tr key={index2}>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center d-none\"\r\n                                  >\r\n                                    <NormalCheckbox\r\n                                      type=\"checkbox\"\r\n                                      checked={data.sales}\r\n                                      name=\"sales\"\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center d-none\"\r\n                                  >\r\n                                    <NormalCheckbox\r\n                                      type=\"checkbox\"\r\n                                      checked={data.work}\r\n                                      name=\"work\"\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                                      {data.staff}\r\n                                    </label>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sales_percentage\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.sales && data.sales_percentage\r\n                                          ? data.sales_percentage\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sales_amount\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.sales && data.sales_amount\r\n                                          ? data.sales_amount\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"sp\"\r\n                                      type=\"number\"\r\n                                      value={data.sp}\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.sales ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <label className=\"text-left text-black common-label-text fs-17 pb-2\">\r\n                                      {data.staff}\r\n                                    </label>\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"work_percentage\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.work && data.work_percentage\r\n                                          ? data.work_percentage\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th\r\n                                    scope=\"col\"\r\n                                    className=\"text-center border-right\"\r\n                                  >\r\n                                    <NormalInput\r\n                                      name=\"work_amount\"\r\n                                      type=\"number\"\r\n                                      value={\r\n                                        data.work && data.work_amount\r\n                                          ? data.work_amount\r\n                                          : \"\"\r\n                                      }\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th scope=\"col\" className=\"text-center\">\r\n                                    <NormalInput\r\n                                      name=\"wp\"\r\n                                      type=\"number\"\r\n                                      value={data.wp}\r\n                                      onChange={e =>\r\n                                        this.handleStaffChange(e, index, index2)\r\n                                      }\r\n                                      disabled={data.work ? false : true}\r\n                                    />\r\n                                  </th>\r\n                                  <th>\r\n                                    <div\r\n                                      className=\"col-12 p-0 fs-18 text-center cursor-pointer\"\r\n                                      onClick={e =>\r\n                                        this.handleDeleteStaff(e, index, index2)\r\n                                      }\r\n                                    >\r\n                                      <span className=\"icon-delete\"></span>\r\n                                    </div>\r\n                                  </th>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n          {data_list && data_list.length <= 0 ? (\r\n            <div className=\"row pl-5 pr-5 mt-4\">No Record Found</div>\r\n          ) : null}\r\n          <NormalModal\r\n            className={\"stock-memo-staff-listing\"}\r\n            style={{ minWidth: \"75%\" }}\r\n            modal={staffListPopup}\r\n            handleModal={this.handleEmployeePopup}\r\n          >\r\n            <img\r\n              onClick={this.handleEmployeePopup}\r\n              className=\"close\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n            <StaffList\r\n              staffList={staffList}\r\n              meta={meta}\r\n              handleNext={() => this.handleNext()}\r\n              handleBack={() => this.handleBack()}\r\n              handleSelectedStaff={item => this.handleSelectedStaff(item)}\r\n            />\r\n          </NormalModal>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const StaffSelectionPopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(StaffSelectionPopupClass);\r\n"]},"metadata":{},"sourceType":"module"}