{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalSelect}from\"component/common\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{history}from\"helpers\";import{getCommonApi,commonCreateApi}from\"redux/actions/common\";import{ChangePayment}from\"./ChangePayment\";import{ChangeStaff}from\"./ChangeStaff\";import{NormalModal}from\"component/common\";import closeIcon from\"assets/images/close.png\";import{ChangeDate}from\"./ChangeDate\";// import logo from 'assets/images/logo.png'\nexport var TransactionReceiptClass=/*#__PURE__*/function(_Component){_inherits(TransactionReceiptClass,_Component);var _super=_createSuper(TransactionReceiptClass);function TransactionReceiptClass(){var _this;_classCallCheck(this,TransactionReceiptClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={responseData:{},downloadlLink:\"\",isOpenPayment:false,isOpenstaff:false,settingData:{},isOpenDate:false};_this.handleItemSettings=function(){var settingData=_this.state.settingData;_this.props.getCommonApi(\"userlist/\").then(function(key){var status=key.status,data=key.data;console.log(key,\"settingsData changeprice\");if(status===200){settingData=data;_this.setState({settingData:settingData});}});};_this.handlePrint=function(){_this.props.getCommonApi(\"receiptpdf/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({downloadlLink:res.data});});};_this.handleShare=function(){_this.props.commonCreateApi(\"receiptpdfsend/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({responseData:res});});};_this.handleSendSMS=function(){_this.props.commonCreateApi(\"receiptpdfsendsms/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){});};_this.handleChangePayment=function(){_this.setState({isOpenPayment:true});};_this.handlestaffchange=function(){_this.setState({isOpenstaff:true});};_this.handleDialog=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,isOpenPayment,isOpenstaff,isOpenDate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,isOpenPayment=_this$state.isOpenPayment,isOpenstaff=_this$state.isOpenstaff,isOpenDate=_this$state.isOpenDate;isOpenPayment=false;isOpenstaff=false;isOpenDate=false;_context.next=6;return _this.setState({isOpenPayment:isOpenPayment,isOpenstaff:isOpenstaff,isOpenDate:isOpenDate});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.handleChangeDateDialog=function(){_this.handleDialog();_this.componentDidMount();};_this.handleChangeDate=function(){_this.setState({isOpenDate:true});};return _this;}_createClass(TransactionReceiptClass,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.getCommonApi(\"customerreceiptprint/?sa_transacno=\".concat(this.props.match.params.id)).then(function(res){console.log(\"responseofprint:\",res);_this2.setState({responseData:res});});this.handlePrint();this.handleItemSettings();}},{key:\"render\",value:function render(){var _this$state2=this.state,_this$state2$response=_this$state2.responseData,responseData=_this$state2$response===void 0?{}:_this$state2$response,downloadlLink=_this$state2.downloadlLink,isOpenPayment=_this$state2.isOpenPayment,isOpenstaff=_this$state2.isOpenstaff,settingData=_this$state2.settingData,isOpenDate=_this$state2.isOpenDate;var _responseData$hdr_dat=responseData.hdr_data,hdr_data=_responseData$hdr_dat===void 0?[]:_responseData$hdr_dat,_responseData$dtl_dat=responseData.dtl_data,dtl_data=_responseData$dtl_dat===void 0?[]:_responseData$dtl_dat,_responseData$sub_dat=responseData.sub_data,sub_data=_responseData$sub_dat===void 0?{}:_responseData$sub_dat,_responseData$taud_da=responseData.taud_data,taud_data=_responseData$taud_da===void 0?[]:_responseData$taud_da,_responseData$footer=responseData.footer,footer=_responseData$footer===void 0?{}:_responseData$footer,_responseData$company=responseData.company_hdr,company_hdr=_responseData$company===void 0?{}:_responseData$company,_responseData$taud_su=responseData.taud_sub,taud_sub=_responseData$taud_su===void 0?{}:_responseData$taud_su;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"print-section container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"print-bill\"},/*#__PURE__*/React.createElement(\"div\",{className:\"receipt card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"img\",{src:company_hdr?company_hdr.logo:\"\",alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"bill-head\"},company_hdr?company_hdr.name:\"\"),/*#__PURE__*/React.createElement(\"p\",{className:\"receipt-detail\"},company_hdr?company_hdr.address:\"\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"bill-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 f-600\"},\"Code\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_custno:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_custname:\"\")),hdr_data&&hdr_data.is_nric?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"NRIC\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.nric:\"\")):null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Cust Refer\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.cust_refer:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Cust Phone\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.cust_phone2:\"\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Trans\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.trans:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_date:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Time\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_time:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Issued\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.issued:\"\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"bill-detail mt-4 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 table-header  f-600\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"No.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-left\"},\"Description\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},\"U/P\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},\"Disc.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},\"N/P\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},\"Paid\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 d-none\"},\"Balance\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-left\"},\"Sold By\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-left pl-1\"},\"Service By\")),dtl_data.length>0?dtl_data.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 mt-2\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},index+1),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-left\"},item.dt_itemdesc),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},item.dt_qty),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},item.dt_price),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},item.discount),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},item.dt_transacamt),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},item.dt_deposit),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 d-none\"},item.balance),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-left\"},item.sales_staff),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-left\"},item.work_staff));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row table-header sub-total m-0 fs-14 f-600 mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},sub_data.tot_qty),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},sub_data.tot_price),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},sub_data.tot_disc),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},sub_data.tot_net),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-right\"},sub_data.tot_paid),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 d-none\"},sub_data.tot_bal))),/*#__PURE__*/React.createElement(\"div\",{className:\"payment-detail my-4 fs-14 f-600 mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"No\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Type\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Amount\")),taud_data.length>0?taud_data.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-header\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},item.pay_rem1),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},item.pay_type_name),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"},\"$ \",item.pay_amt));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 fs-11\"},taud_sub.gst_label),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Total\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"},taud_sub.total))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Sub Total :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},sub_data.sub_total)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"GST :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},taud_sub.gst)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Rounding :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},taud_sub.rounding)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Grand Total :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},taud_sub.grand_tot)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Deposit :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},sub_data.tot_paid)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Outstanding :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},sub_data.outstanding))))),/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-footer mt-5\"},/*#__PURE__*/React.createElement(\"p\",{className:\"\"},\"Remark: \",footer.remark),footer.footer1?/*#__PURE__*/React.createElement(\"p\",null,\"1. \",footer.footer1):\"\",footer.footer2?/*#__PURE__*/React.createElement(\"p\",null,\"2. \",footer.footer2):\"\",footer.footer3?/*#__PURE__*/React.createElement(\"p\",null,\"3. \",footer.footer3):\"\",footer.footer4?/*#__PURE__*/React.createElement(\"p\",null,\"4. \",footer.footer4):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"customer-signature  f-600\"},\"Customer Signature\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex text-center action-buttons\"},(Number(this.props.tokenDetails.role_code)==1||Number(this.props.tokenDetails.role_code)==2)&&settingData.showChangeStaff?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mr-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handlestaffchange,label:\"Change Staff\",mainbg:true,className:\"print\"})):\"\",(Number(this.props.tokenDetails.role_code)==1||Number(this.props.tokenDetails.role_code)==2)&&settingData.showChangeDate?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mr-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleChangeDate,label:\"Change Date\",mainbg:true,className:\"print\"})):\"\",(Number(this.props.tokenDetails.role_code)==1||Number(this.props.tokenDetails.role_code)==2)&&settingData.showChangePayMode?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mr-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleChangePayment,label:\"Change Payment\",mainbg:true,className:\"print\"})):null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mr-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return window.open(downloadlLink);},label:\"Print\",success:true,className:\"print\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleShare,label:\"Share\",className:\"share\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleSendSMS,label:\"Send SMS\",className:\"share\"}))))),/*#__PURE__*/React.createElement(NormalModal,{className:\"payment-modal\",style:{minWidth:\"75%\"},modal:isOpenPayment,handleModal:function handleModal(){}},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(ChangePayment,{TransactionId:this.props.match.params.id,handleModal:this.handleChangeDateDialog})),/*#__PURE__*/React.createElement(NormalModal,{className:\"payment-modal\",style:{minWidth:\"75%\"},modal:isOpenstaff,handleModal:function handleModal(){}},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(ChangeStaff,{TransactionId:this.props.match.params.id,handleModal:this.handleChangeDateDialog})),/*#__PURE__*/React.createElement(NormalModal,{className:\"changeDate-modal\",style:{minWidth:\"25%\"},modal:isOpenDate,handleModal:function handleModal(){}},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleDialog,className:\"close cursor-pointer\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(ChangeDate,{TransactionId:this.props.match.params.id,TransactionDate:hdr_data.sa_date,handleModal:this.handleChangeDateDialog})));}}]);return TransactionReceiptClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{appointmentDetail:state.appointment.appointmentDetail,tokenDetails:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var TransactionReceipt=connect(mapStateToProps,mapDispatchToProps)(TransactionReceiptClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/TransactionHistory/TransactionReceipt.js"],"names":["React","Component","NormalButton","NormalSelect","connect","bindActionCreators","history","getCommonApi","commonCreateApi","ChangePayment","ChangeStaff","NormalModal","closeIcon","ChangeDate","TransactionReceiptClass","state","responseData","downloadlLink","isOpenPayment","isOpenstaff","settingData","isOpenDate","handleItemSettings","props","then","key","status","data","console","log","setState","handlePrint","match","params","id","res","handleShare","handleSendSMS","handleChangePayment","handlestaffchange","handleDialog","handleChangeDateDialog","componentDidMount","handleChangeDate","hdr_data","dtl_data","sub_data","taud_data","footer","company_hdr","taud_sub","logo","name","address","sa_custno","sa_custname","is_nric","nric","cust_refer","cust_phone2","trans","sa_date","sa_time","issued","length","map","item","index","dt_itemdesc","dt_qty","dt_price","discount","dt_transacamt","dt_deposit","balance","sales_staff","work_staff","tot_qty","tot_price","tot_disc","tot_net","tot_paid","tot_bal","pay_rem1","pay_type_name","pay_amt","gst_label","total","sub_total","gst","rounding","grand_tot","outstanding","remark","footer1","footer2","footer3","footer4","Number","tokenDetails","role_code","showChangeStaff","showChangeDate","showChangePayMode","window","open","minWidth","mapStateToProps","appointmentDetail","appointment","authStore","mapDispatchToProps","dispatch","TransactionReceipt"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from \"helpers\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\nimport { ChangePayment } from \"./ChangePayment\";\r\nimport { ChangeStaff } from \"./ChangeStaff\";\r\nimport { NormalModal } from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { ChangeDate } from \"./ChangeDate\";\r\n// import logo from 'assets/images/logo.png'\r\n\r\nexport class TransactionReceiptClass extends Component {\r\n  state = {\r\n    responseData: {},\r\n    downloadlLink: \"\",\r\n    isOpenPayment: false,\r\n    isOpenstaff: false,\r\n    settingData: {},\r\n    isOpenDate: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props\r\n      .getCommonApi(\r\n        `customerreceiptprint/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"responseofprint:\", res);\r\n        this.setState({ responseData: res });\r\n      });\r\n    this.handlePrint();\r\n    this.handleItemSettings();\r\n  }\r\n\r\n  handleItemSettings = () => {\r\n    let { settingData } = this.state;\r\n    this.props.getCommonApi(`userlist/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"settingsData changeprice\");\r\n      if (status === 200) {\r\n        settingData = data;\r\n        this.setState({ settingData });\r\n      }\r\n    });\r\n  };\r\n  // for get Print response\r\n  handlePrint = () => {\r\n    this.props\r\n      .getCommonApi(`receiptpdf/?sa_transacno=${this.props.match.params.id}`)\r\n      .then(res => {\r\n        this.setState({ downloadlLink: res.data });\r\n      });\r\n  };\r\n\r\n  // for share reciept\r\n  handleShare = () => {\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsend/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        this.setState({ responseData: res });\r\n      });\r\n  };\r\n\r\n  // for send sms reciept\r\n  handleSendSMS = () => {\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsendsms/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {});\r\n  };\r\n  handleChangePayment = () => {\r\n    this.setState({ isOpenPayment: true });\r\n  };\r\n\r\n  handlestaffchange = () => {\r\n    this.setState({ isOpenstaff: true });\r\n  };\r\n\r\n  handleDialog = async () => {\r\n    let { isOpenPayment, isOpenstaff, isOpenDate } = this.state;\r\n    isOpenPayment = false;\r\n    isOpenstaff = false;\r\n    isOpenDate = false;\r\n\r\n    await this.setState({\r\n      isOpenPayment,\r\n      isOpenstaff,\r\n      isOpenDate,\r\n    });\r\n  };\r\n  handleChangeDateDialog = () => {\r\n    this.handleDialog();\r\n    this.componentDidMount();\r\n  };\r\n  handleChangeDate = () => {\r\n    this.setState({ isOpenDate: true });\r\n  };\r\n  render() {\r\n    let {\r\n      responseData = {},\r\n      downloadlLink,\r\n      isOpenPayment,\r\n      isOpenstaff,\r\n      settingData,\r\n      isOpenDate,\r\n    } = this.state;\r\n    let {\r\n      hdr_data = [],\r\n      dtl_data = [],\r\n      sub_data = {},\r\n      taud_data = [],\r\n      footer = {},\r\n      company_hdr = {},\r\n      taud_sub = {},\r\n    } = responseData;\r\n    return (\r\n      <>\r\n        <div className=\"print-section container\">\r\n          <div className=\"print-bill\">\r\n            <div className=\"receipt card\">\r\n              <div className=\"logo-header\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <div className=\"col-10\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <img\r\n                          src={company_hdr ? company_hdr.logo : \"\"}\r\n                          alt=\"\"\r\n                        ></img>\r\n                      </div>\r\n                      <div className=\"col-9\">\r\n                        <h3 className=\"bill-head\">\r\n                          {company_hdr ? company_hdr.name : \"\"}\r\n                        </h3>\r\n                        <p className=\"receipt-detail\">\r\n                          {company_hdr ? company_hdr.address : \"\"}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-header\">\r\n                <div className=\"row \">\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3 f-600\">Code</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_custno : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Name</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_custname : \"\"}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {hdr_data && hdr_data.is_nric ? (\r\n                      <div className=\"row\">\r\n                        <div className=\"col-3  f-600\">NRIC</div>\r\n                        <div className=\"col-9\">\r\n                          : {hdr_data ? hdr_data.nric : \"\"}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Cust Refer</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.cust_refer : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Cust Phone</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.cust_phone2 : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    {/* <div className=\"row\">\r\n                                        <div className=\"col-3  f-600\">Member:</div>\r\n                                        <div className=\"col-9\">: {hdr_data ? hdr_data.member : \"\"}</div>\r\n                                    </div> */}\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Trans</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.trans : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Date</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_date : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Time</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_time : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Issued</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.issued : \"\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-detail mt-4 py-1\">\r\n                <div className=\"row m-0 table-header  f-600\">\r\n                  <div className=\"col-1\">No.</div>\r\n                  <div className=\"col-3 text-left\">Description</div>\r\n                  <div className=\"col-1 text-right\">Qty</div>\r\n                  <div className=\"col-1 text-right\">U/P</div>\r\n                  <div className=\"col-1 text-right\">Disc.</div>\r\n                  <div className=\"col-1 text-right\">N/P</div>\r\n                  <div className=\"col-1 text-right\">Paid</div>\r\n                  <div className=\"col-2 d-none\">Balance</div>\r\n                  <div className=\"col-1 text-left\">Sold By</div>\r\n                  <div className=\"col-2 text-left pl-1\">Service By</div>\r\n                </div>\r\n                {dtl_data.length > 0\r\n                  ? dtl_data.map((item, index) => {\r\n                      return (\r\n                        <div className=\"row m-0 mt-2\" key={index}>\r\n                          <div className=\"col-1\">{index + 1}</div>\r\n                          <div className=\"col-3 text-left\">\r\n                            {item.dt_itemdesc}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">{item.dt_qty}</div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.dt_price}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.discount}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.dt_transacamt}\r\n                          </div>\r\n                          <div className=\"col-1 text-right\">\r\n                            {item.dt_deposit}\r\n                          </div>\r\n                          <div className=\"col-2 d-none\">{item.balance}</div>\r\n                          <div className=\"col-1 text-left\">\r\n                            {item.sales_staff}\r\n                          </div>\r\n                          <div className=\"col-2 text-left\">\r\n                            {item.work_staff}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n\r\n                <div className=\"row table-header sub-total m-0 fs-14 f-600 mt-5\">\r\n                  {/* <div className=\"col-4 text-right\">{sub_data.sub_total}</div> */}\r\n                  <div className=\"col-4 text-right\"></div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_qty}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_price}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_disc}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_net}</div>\r\n                  <div className=\"col-1 text-right\">{sub_data.tot_paid}</div>\r\n                  <div className=\"col-2 d-none\">{sub_data.tot_bal}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"payment-detail my-4 fs-14 f-600 mb-5\">\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-7\">\r\n                    <div className=\"row payment-header\">\r\n                      <div className=\"col-4\">No</div>\r\n                      <div className=\"col-4\">Type</div>\r\n                      <div className=\"col-4\">Amount</div>\r\n                    </div>\r\n                    {taud_data.length > 0\r\n                      ? taud_data.map((item, index) => {\r\n                          return (\r\n                            <div className=\"row payment-header\" key={index}>\r\n                              <div className=\"col-4\">{item.pay_rem1}</div>\r\n                              <div className=\"col-4\">{item.pay_type_name}</div>\r\n                              <div className=\"col-4 text-right\">\r\n                                $ {item.pay_amt}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })\r\n                      : \"\"}\r\n                    <div className=\"row payment-footer\">\r\n                      <div className=\"col-4 fs-11\">{taud_sub.gst_label}</div>\r\n                      <div className=\"col-4\">Total</div>\r\n                      <div className=\"col-4 text-right\">{taud_sub.total}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-5 text-right\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Sub Total :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {sub_data.sub_total}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">GST :</div>\r\n                      <div className=\"col-6 text-right\">{taud_sub.gst}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Rounding :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {taud_sub.rounding}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Grand Total :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {taud_sub.grand_tot}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Deposit :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {sub_data.tot_paid}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Outstanding :</div>\r\n                      <div className=\"col-6 text-right\">\r\n                        {sub_data.outstanding}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* used payment list */}\r\n              </div>\r\n              <div className=\"invoice-footer mt-5\">\r\n                <p className=\"\">Remark: {footer.remark}</p>\r\n\r\n                {footer.footer1 ? <p>1. {footer.footer1}</p> : \"\"}\r\n                {footer.footer2 ? <p>2. {footer.footer2}</p> : \"\"}\r\n                {footer.footer3 ? <p>3. {footer.footer3}</p> : \"\"}\r\n                {footer.footer4 ? <p>4. {footer.footer4}</p> : \"\"}\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-8\"></div>\r\n                  <div className=\"col-4\">\r\n                    <div className=\"customer-signature  f-600\">\r\n                      Customer Signature\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-5 d-flex text-center action-buttons\">\r\n              {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                Number(this.props.tokenDetails.role_code) == 2) &&\r\n              settingData.showChangeStaff ? (\r\n                <div className=\"w-100 mr-2\">\r\n                  <NormalButton\r\n                    onClick={this.handlestaffchange}\r\n                    label=\"Change Staff\"\r\n                    mainbg={true}\r\n                    className=\"print\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                Number(this.props.tokenDetails.role_code) == 2) &&\r\n              settingData.showChangeDate ? (\r\n                <div className=\"w-100 mr-2\">\r\n                  <NormalButton\r\n                    onClick={this.handleChangeDate}\r\n                    label=\"Change Date\"\r\n                    mainbg={true}\r\n                    className=\"print\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                Number(this.props.tokenDetails.role_code) == 2) &&\r\n              settingData.showChangePayMode ? (\r\n                <div className=\"w-100 mr-2\">\r\n                  <NormalButton\r\n                    onClick={this.handleChangePayment}\r\n                    label=\"Change Payment\"\r\n                    mainbg={true}\r\n                    className=\"print\"\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              <div className=\"w-100 mr-2\">\r\n                <NormalButton\r\n                  onClick={() => window.open(downloadlLink)}\r\n                  label=\"Print\"\r\n                  success={true}\r\n                  className=\"print\"\r\n                />\r\n              </div>\r\n              <div className=\"w-100 ml-2\">\r\n                <NormalButton\r\n                  onClick={this.handleShare}\r\n                  label=\"Share\"\r\n                  className=\"share\"\r\n                />\r\n              </div>\r\n              <div className=\"w-100 ml-2\">\r\n                <NormalButton\r\n                  onClick={this.handleSendSMS}\r\n                  label=\"Send SMS\"\r\n                  className=\"share\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <NormalModal\r\n          className={\"payment-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenPayment}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <ChangePayment\r\n            TransactionId={this.props.match.params.id}\r\n            handleModal={this.handleChangeDateDialog}\r\n          ></ChangePayment>\r\n        </NormalModal>\r\n\r\n        <NormalModal\r\n          className={\"payment-modal\"}\r\n          style={{ minWidth: \"75%\" }}\r\n          modal={isOpenstaff}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <ChangeStaff\r\n            TransactionId={this.props.match.params.id}\r\n            handleModal={this.handleChangeDateDialog}\r\n          ></ChangeStaff>\r\n        </NormalModal>\r\n        <NormalModal\r\n          className={\"changeDate-modal\"}\r\n          style={{ minWidth: \"25%\" }}\r\n          modal={isOpenDate}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <ChangeDate\r\n            TransactionId={this.props.match.params.id}\r\n            TransactionDate={hdr_data.sa_date}\r\n            handleModal={this.handleChangeDateDialog}\r\n          ></ChangeDate>\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  appointmentDetail: state.appointment.appointmentDetail,\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TransactionReceipt = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TransactionReceiptClass);\r\n"]},"metadata":{},"sourceType":"module"}