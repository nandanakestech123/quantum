{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalInput,NormalTextarea,NormalSelect,NormalButton}from\"component/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import SimpleReactValidator from\"simple-react-validator\";import{getLoginSaloon}from\"redux/actions/auth\";import{getCommonApi,commonCreateApi,commonPatchApi}from\"redux/actions/common\";import{DragFileUpload}from\"../../../../common\";import{displayImg}from\"service/helperFunctions\";import{history}from\"helpers\";import axios from\"axios\";export var SetupTransCreateClass=/*#__PURE__*/function(_Component){_inherits(SetupTransCreateClass,_Component);var _super=_createSuper(SetupTransCreateClass);function SetupTransCreateClass(){var _this;_classCallCheck(this,SetupTransCreateClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{title:\"\",logo_pic:null,site_id:0,gst_reg_no:\"\",trans_h1:\"\",trans_h2:\"\",trans_footer1:\"\",trans_footer2:\"\",trans_footer3:\"\",trans_footer4:\"\"},salonList:[],setupTransactionId:null};_this.componentWillMount=function(){_this.validator=new SimpleReactValidator({validators:{},element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});};_this.componentDidMount=function(){_this.setState({setupTransactionId:_this.props.match.params.id});var _this$state=_this.state,salonList=_this$state.salonList,formFields=_this$state.formFields;_this.props.getLoginSaloon().then(function(res){var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;salonList.push({value:key.id,label:key.itemsite_desc});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({salonList:salonList});});if(_this.props.match.params.id&&_this.props.match.params.id>0){_this.props.getCommonApi(\"title/\".concat(_this.props.match.params.id,\"/\")).then(function(res){if(res.status==200){debugger;//this.setState({ formFields: res.data });\nformFields[\"title\"]=res.data.title;// formFields[\"logo_pic\"] = new File([res.data.logo_pic], \"name.png\", {\n//   type: \"image/png\",\n// });\n// formFields[\"logo_pic\"] = new File(\n//   [res.data.logo_pic],\n//   `image${Math.round(Math.random())}.png`,\n//   {\n//     type: \"image/png\",\n//     lastModified: new Date(),\n//     size: 3845,\n//   }\n// );\nif(res.data.logo_pic){var url=res.data.logo_pic;var fileName=\"myFile\".concat(Math.round(Math.random()),\".jpg\");fetch(url).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var contentType,blob,file;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:contentType=response.headers.get(\"content-type\");_context.next=3;return response.blob();case 3:blob=_context.sent;file=new File([blob],fileName,{type:\"image/*\"});_this.handleImageUpload(file);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}else{formFields[\"logo_pic\"]=res.data.logo_pic;}formFields[\"site_id\"]=Number(res.data.site_id);formFields[\"gst_reg_no\"]=res.data.gst_reg_no;formFields[\"trans_h1\"]=res.data.trans_h1;formFields[\"trans_h2\"]=res.data.trans_h2;formFields[\"trans_footer1\"]=res.data.trans_footer1;formFields[\"trans_footer2\"]=res.data.trans_footer2;formFields[\"trans_footer3\"]=res.data.trans_footer3;formFields[\"trans_footer4\"]=res.data.trans_footer4;_this.setState({formFields:formFields});console.log(formFields,\"aftersetuptransactioneditclick\");}});}};_this.handleChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var _ref2$target,value,name,formFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;formFields=_this.state.formFields;formFields[name]=value;_this.setState({formFields:formFields});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.handleSubmit=function(){debugger;if(_this.validator.allValid()){var _this$state2=_this.state,formFields=_this$state2.formFields,setupTransactionId=_this$state2.setupTransactionId;console.log(formFields.logo_pic,\"imagesaveformat\");var formData=new FormData();formData.append(\"title\",formFields.title);formData.append(\"logo_pic\",formFields.logo_pic);formData.append(\"site_id\",Number(formFields.site_id));formData.append(\"gst_reg_no\",formFields.gst_reg_no);formData.append(\"trans_h1\",formFields.trans_h1);formData.append(\"trans_h2\",formFields.trans_h2);formData.append(\"trans_footer1\",formFields.trans_footer1);formData.append(\"trans_footer2\",formFields.trans_footer2);formData.append(\"trans_footer3\",formFields.trans_footer3);formData.append(\"trans_footer4\",formFields.trans_footer4);if(_this.props.match.params.id){_this.props.commonPatchApi(\"title/\".concat(_this.props.match.params.id,\"/\"),formData).then(function(res){console.log(res);if(res.status===200){_this.props.history.push(\"/admin/settings/setuptransaction/\".concat(setupTransactionId,\"/details\"));}});}else{_this.props.commonCreateApi(\"title/\",formData).then(function(res){console.log(res);if(res.status===201){_this.props.history.push(\"/admin/settings/setuptransaction\");}});}}else{_this.validator.showMessages();}};_this.handleImageUpload=function(file){debugger;var formFields=_this.state.formFields;formFields[\"logo_pic\"]=file;_this.setState({formFields:formFields});};return _this;}_createClass(SetupTransCreateClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,formFields=_this$state3.formFields,salonList=_this$state3.salonList,setupTransactionId=_this$state3.setupTransactionId;var title=formFields.title,logo_pic=formFields.logo_pic,site_id=formFields.site_id,gst_reg_no=formFields.gst_reg_no,trans_h1=formFields.trans_h1,trans_h2=formFields.trans_h2,trans_footer1=formFields.trans_footer1,trans_footer2=formFields.trans_footer2,trans_footer3=formFields.trans_footer3,trans_footer4=formFields.trans_footer4;return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head-label-nav p-4\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\",onClick:function onClick(){return _this2.props.history.push(\"/admin/settings/setuptransaction\");}},\"Setup Transaction\"),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},setupTransactionId&&setupTransactionId>0?\"Edit\":\"Create\")),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-start self-align-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Title\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:title,name:\"title\",onChange:this.handleChange})),this.validator.message(\"title\",title,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text\"},\"Header 1\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_h1,name:\"trans_h1\",onChange:this.handleChange})),this.validator.message(\"Header 1\",trans_h1,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text\"},\"Header 2\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_h2,name:\"trans_h2\",onChange:this.handleChange})),this.validator.message(\"Header 2\",trans_h2,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Footer 1\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_footer1,name:\"trans_footer1\",onChange:this.handleChange})),this.validator.message(\"footer 1\",trans_footer1,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Footer 2\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_footer2,name:\"trans_footer2\",onChange:this.handleChange})),this.validator.message(\"footer 2\",trans_footer2,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Footer 3\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_footer3,name:\"trans_footer3\",onChange:this.handleChange})),this.validator.message(\"footer 3\",trans_footer3,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Footer 4\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:trans_footer4,name:\"trans_footer4\",onChange:this.handleChange})),this.validator.message(\"footer 4\",trans_footer4,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text\"},\"GST Reg. No.\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:gst_reg_no,name:\"gst_reg_no\",onChange:this.handleChange})),this.validator.message(\"Gst No.\",gst_reg_no,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text\"},\"Site\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect,{options:salonList,value:site_id,name:\"site_id\",onChange:this.handleChange,disabled:setupTransactionId&&setupTransactionId>0?true:false})),this.validator.message(\"site\",site_id,\"required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-3\"},\"Upload Logo\",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 p-0\"},/*#__PURE__*/React.createElement(DragFileUpload,{className:\"file-uploader size-sm \".concat(logo_pic?\"\":\"no-img\"),label:\"Upload Thumbnail\",handleFileUpload:this.handleImageUpload},logo_pic?/*#__PURE__*/React.createElement(\"div\",null,console.log(logo_pic,\"imageontagonrender\"),/*#__PURE__*/React.createElement(\"img\",{src:displayImg(logo_pic),alt:\"\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"uploader-content text-center\"},/*#__PURE__*/React.createElement(\"span\",null,\"Upload Image\")))),this.validator.message(\"logo_pic\",logo_pic,\"required\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 p-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"treatment\",mainbg:true,className:\"col-12\",label:\"Cancel\",onClick:function onClick(){return _this2.props.history.push(\"/admin/settings/setuptransaction\");}}),setupTransactionId?/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"submit-btn\",mainbg:false,className:\"col-12 submit-btn ml-3\",label:\"Update\",onClick:this.handleSubmit}):/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"submit-btn\",mainbg:false,className:\"col-12 submit-btn ml-3\",label:\"Save\",onClick:this.handleSubmit}))))));}}]);return SetupTransCreateClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{customerDetail:state.customer.customerDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,getLoginSaloon:getLoginSaloon,commonPatchApi:commonPatchApi},dispatch);};export var SetupTransCreate=connect(mapStateToProps,mapDispatchToProps)(SetupTransCreateClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Settings/SetupTransaction/SetupTransCreate/index.js"],"names":["React","Component","NormalInput","NormalTextarea","NormalSelect","NormalButton","connect","bindActionCreators","SimpleReactValidator","getLoginSaloon","getCommonApi","commonCreateApi","commonPatchApi","DragFileUpload","displayImg","history","axios","SetupTransCreateClass","state","formFields","title","logo_pic","site_id","gst_reg_no","trans_h1","trans_h2","trans_footer1","trans_footer2","trans_footer3","trans_footer4","salonList","setupTransactionId","componentWillMount","validator","validators","element","message","autoForceUpdate","componentDidMount","setState","props","match","params","id","then","res","data","key","push","value","label","itemsite_desc","status","url","fileName","Math","round","random","fetch","response","contentType","headers","get","blob","file","File","type","handleImageUpload","Number","console","log","handleChange","target","name","handleSubmit","allValid","formData","FormData","append","showMessages","mapStateToProps","customerDetail","customer","mapDispatchToProps","dispatch","SetupTransCreate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalInput,\r\n  NormalTextarea,\r\n  NormalSelect,\r\n  NormalButton,\r\n} from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { getLoginSaloon } from \"redux/actions/auth\";\r\nimport {\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport { DragFileUpload } from \"../../../../common\";\r\nimport { displayImg } from \"service/helperFunctions\";\r\nimport { history } from \"helpers\";\r\nimport axios from \"axios\";\r\n\r\nexport class SetupTransCreateClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      title: \"\",\r\n      logo_pic: null,\r\n      site_id: 0,\r\n      gst_reg_no: \"\",\r\n      trans_h1: \"\",\r\n      trans_h2: \"\",\r\n      trans_footer1: \"\",\r\n      trans_footer2: \"\",\r\n      trans_footer3: \"\",\r\n      trans_footer4: \"\",\r\n    },\r\n    salonList: [],\r\n    setupTransactionId: null,\r\n  };\r\n  componentWillMount = () => {\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      setupTransactionId: this.props.match.params.id,\r\n    });\r\n\r\n    let { salonList, formFields } = this.state;\r\n    this.props.getLoginSaloon().then(res => {\r\n      for (let key of res.data) {\r\n        salonList.push({ value: key.id, label: key.itemsite_desc });\r\n      }\r\n      this.setState({ salonList });\r\n    });\r\n\r\n    if (this.props.match.params.id && this.props.match.params.id > 0) {\r\n      this.props\r\n        .getCommonApi(`title/${this.props.match.params.id}/`)\r\n        .then(res => {\r\n          if (res.status == 200) {\r\n            debugger;\r\n            //this.setState({ formFields: res.data });\r\n\r\n            formFields[\"title\"] = res.data.title;\r\n            // formFields[\"logo_pic\"] = new File([res.data.logo_pic], \"name.png\", {\r\n            //   type: \"image/png\",\r\n            // });\r\n\r\n            // formFields[\"logo_pic\"] = new File(\r\n            //   [res.data.logo_pic],\r\n            //   `image${Math.round(Math.random())}.png`,\r\n            //   {\r\n            //     type: \"image/png\",\r\n            //     lastModified: new Date(),\r\n            //     size: 3845,\r\n            //   }\r\n            // );\r\n            if (res.data.logo_pic) {\r\n              const url = res.data.logo_pic;\r\n              const fileName = `myFile${Math.round(Math.random())}.jpg`;\r\n\r\n              fetch(url).then(async response => {\r\n                const contentType = response.headers.get(\"content-type\");\r\n                const blob = await response.blob();\r\n                const file = new File([blob], fileName, { type: \"image/*\" });\r\n                this.handleImageUpload(file);\r\n              });\r\n            } else {\r\n              formFields[\"logo_pic\"] = res.data.logo_pic;\r\n            }\r\n            formFields[\"site_id\"] = Number(res.data.site_id);\r\n            formFields[\"gst_reg_no\"] = res.data.gst_reg_no;\r\n            formFields[\"trans_h1\"] = res.data.trans_h1;\r\n            formFields[\"trans_h2\"] = res.data.trans_h2;\r\n            formFields[\"trans_footer1\"] = res.data.trans_footer1;\r\n            formFields[\"trans_footer2\"] = res.data.trans_footer2;\r\n            formFields[\"trans_footer3\"] = res.data.trans_footer3;\r\n            formFields[\"trans_footer4\"] = res.data.trans_footer4;\r\n\r\n            this.setState({ formFields });\r\n            console.log(formFields, \"aftersetuptransactioneditclick\");\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    debugger;\r\n    if (this.validator.allValid()) {\r\n      let { formFields, setupTransactionId } = this.state;\r\n      console.log(formFields.logo_pic, \"imagesaveformat\");\r\n      const formData = new FormData();\r\n      formData.append(\"title\", formFields.title);\r\n      formData.append(\"logo_pic\", formFields.logo_pic);\r\n      formData.append(\"site_id\", Number(formFields.site_id));\r\n      formData.append(\"gst_reg_no\", formFields.gst_reg_no);\r\n      formData.append(\"trans_h1\", formFields.trans_h1);\r\n      formData.append(\"trans_h2\", formFields.trans_h2);\r\n      formData.append(\"trans_footer1\", formFields.trans_footer1);\r\n      formData.append(\"trans_footer2\", formFields.trans_footer2);\r\n      formData.append(\"trans_footer3\", formFields.trans_footer3);\r\n      formData.append(\"trans_footer4\", formFields.trans_footer4);\r\n      if (this.props.match.params.id) {\r\n        this.props\r\n          .commonPatchApi(`title/${this.props.match.params.id}/`, formData)\r\n          .then(res => {\r\n            console.log(res);\r\n            if (res.status === 200) {\r\n              this.props.history.push(\r\n                `/admin/settings/setuptransaction/${setupTransactionId}/details`\r\n              );\r\n            }\r\n          });\r\n      } else {\r\n        this.props.commonCreateApi(`title/`, formData).then(res => {\r\n          console.log(res);\r\n          if (res.status === 201) {\r\n            this.props.history.push(`/admin/settings/setuptransaction`);\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this.validator.showMessages();\r\n    }\r\n  };\r\n\r\n  // upload imag to formfield\r\n  handleImageUpload = file => {\r\n    debugger;\r\n    let { formFields } = this.state;\r\n    formFields[\"logo_pic\"] = file;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let { formFields, salonList, setupTransactionId } = this.state;\r\n    let {\r\n      title,\r\n      logo_pic,\r\n      site_id,\r\n      gst_reg_no,\r\n      trans_h1,\r\n      trans_h2,\r\n      trans_footer1,\r\n      trans_footer2,\r\n      trans_footer3,\r\n      trans_footer4,\r\n    } = formFields;\r\n    return (\r\n      <div className=\"col-12\">\r\n        <div className=\"card row\">\r\n          <div className=\"head-label-nav p-4\">\r\n            <p\r\n              className=\"category\"\r\n              onClick={() =>\r\n                this.props.history.push(`/admin/settings/setuptransaction`)\r\n              }\r\n            >\r\n              Setup Transaction\r\n            </p>\r\n            <i className=\"icon-right mx-md-3\"></i>\r\n            <p className=\"sub-category\">\r\n              {setupTransactionId && setupTransactionId > 0 ? \"Edit\" : \"Create\"}\r\n            </p>\r\n          </div>\r\n          <div className=\"container\">\r\n            <div className=\"d-flex flex-wrap justify-content-start self-align-center\">\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text \">\r\n                    Title\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"title\", title, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text\">\r\n                    Header 1\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_h1}\r\n                    name=\"trans_h1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"Header 1\", trans_h1, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text\">\r\n                    Header 2\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_h2}\r\n                    name=\"trans_h2\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"Header 2\", trans_h2, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text \">\r\n                    Footer 1\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_footer1}\r\n                    name=\"trans_footer1\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"footer 1\", trans_footer1, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text \">\r\n                    Footer 2\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_footer2}\r\n                    name=\"trans_footer2\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"footer 2\", trans_footer2, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text \">\r\n                    Footer 3\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_footer3}\r\n                    name=\"trans_footer3\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"footer 3\", trans_footer3, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text \">\r\n                    Footer 4\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={trans_footer4}\r\n                    name=\"trans_footer4\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"footer 4\", trans_footer4, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text\">\r\n                    GST Reg. No.\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    value={gst_reg_no}\r\n                    name=\"gst_reg_no\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"Gst No.\", gst_reg_no, \"required\")}\r\n              </div>\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <div>\r\n                  <label className=\"text-left text-black common-label-text\">\r\n                    Site\r\n                    <span className=\"error-message text-danger validNo fs-18\">\r\n                      *\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-group\">\r\n                  <NormalSelect\r\n                    options={salonList}\r\n                    value={site_id}\r\n                    name=\"site_id\"\r\n                    onChange={this.handleChange}\r\n                    disabled={\r\n                      setupTransactionId && setupTransactionId > 0\r\n                        ? true\r\n                        : false\r\n                    }\r\n                  />\r\n                </div>\r\n                {this.validator.message(\"site\", site_id, \"required\")}\r\n              </div>\r\n\r\n              <div className=\"col-md-6 col-12 mb-3\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\r\n                  Upload Logo\r\n                  <span className=\"error-message text-danger validNo fs-18\">\r\n                    *\r\n                  </span>\r\n                </label>\r\n                <div className=\"col-md-12 p-0\">\r\n                  <DragFileUpload\r\n                    className={`file-uploader size-sm ${\r\n                      logo_pic ? \"\" : \"no-img\"\r\n                    }`}\r\n                    label=\"Upload Thumbnail\"\r\n                    handleFileUpload={this.handleImageUpload}\r\n                  >\r\n                    {logo_pic ? (\r\n                      <div>\r\n                        {console.log(logo_pic, \"imageontagonrender\")}\r\n                        <img src={displayImg(logo_pic)} alt=\"\" />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"uploader-content text-center\">\r\n                        <span>Upload Image</span>\r\n                      </div>\r\n                    )}\r\n                  </DragFileUpload>\r\n                </div>\r\n                {this.validator.message(\"logo_pic\", logo_pic, \"required\")}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-12 col-12 p-4\">\r\n              <div className=\"d-flex justify-content-end\">\r\n                <NormalButton\r\n                  buttonClass={\"treatment\"}\r\n                  mainbg={true}\r\n                  className=\"col-12\"\r\n                  label=\"Cancel\"\r\n                  onClick={() =>\r\n                    this.props.history.push(`/admin/settings/setuptransaction`)\r\n                  }\r\n                />\r\n                {setupTransactionId ? (\r\n                  <NormalButton\r\n                    buttonClass={\"submit-btn\"}\r\n                    mainbg={false}\r\n                    className=\"col-12 submit-btn ml-3\"\r\n                    label=\"Update\"\r\n                    onClick={this.handleSubmit}\r\n                  />\r\n                ) : (\r\n                  <NormalButton\r\n                    buttonClass={\"submit-btn\"}\r\n                    mainbg={false}\r\n                    className=\"col-12 submit-btn ml-3\"\r\n                    label=\"Save\"\r\n                    onClick={this.handleSubmit}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  customerDetail: state.customer.customerDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      getLoginSaloon,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const SetupTransCreate = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SetupTransCreateClass);\r\n"]},"metadata":{},"sourceType":"module"}