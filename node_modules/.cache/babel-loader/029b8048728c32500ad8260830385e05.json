{"ast":null,"code":"/**\r\n * DevExtreme (ui/html_editor/matchers/wordLists.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nfunction getListType(matches) {\n  var prefix = matches[1];\n  return prefix.match(/\\S+\\./) ? \"ordered\" : \"bullet\";\n}\n\nfunction getIndent(node) {\n  var style = node.getAttribute(\"style\");\n\n  if (style) {\n    var level = style.replace(/\\n+/g, \"\").match(/level(\\d+)/);\n    return level ? level[1] - 1 : 0;\n  } else {\n    return false;\n  }\n}\n\nfunction removeNewLineChar(operations) {\n  var newLineOperation = operations[operations.length - 1];\n  newLineOperation.insert = newLineOperation.insert.trim();\n}\n\nvar getMatcher = function (quill) {\n  var Delta = quill.import(\"delta\");\n  return function (node, delta) {\n    var ops = delta.ops.slice();\n    var insertOperation = ops[0];\n    insertOperation.insert = insertOperation.insert.replace(/^\\s+/, \"\");\n    var listDecoratorMatches = insertOperation.insert.match(/^(\\S+)\\s+/);\n    var indent = listDecoratorMatches && getIndent(node);\n\n    if (!listDecoratorMatches || false === indent) {\n      return delta;\n    }\n\n    insertOperation.insert = insertOperation.insert.substring(listDecoratorMatches[0].length, insertOperation.insert.length);\n    removeNewLineChar(ops);\n    ops.push({\n      insert: \"\\n\",\n      attributes: {\n        list: getListType(listDecoratorMatches),\n        indent: indent\n      }\n    });\n    return new Delta(ops);\n  };\n};\n\nvar _default = getMatcher;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/html_editor/matchers/wordLists.js"],"names":["exports","default","getListType","matches","prefix","match","getIndent","node","style","getAttribute","level","replace","removeNewLineChar","operations","newLineOperation","length","insert","trim","getMatcher","quill","Delta","import","delta","ops","slice","insertOperation","listDecoratorMatches","indent","substring","push","attributes","list","_default","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,OAAO,CAACC,OAAR,GAAkB,KAAK,CAAvB;;AAEA,SAASC,WAAT,CAAqBC,OAArB,EAA8B;AAC1B,MAAIC,MAAM,GAAGD,OAAO,CAAC,CAAD,CAApB;AACA,SAAOC,MAAM,CAACC,KAAP,CAAa,OAAb,IAAwB,SAAxB,GAAoC,QAA3C;AACH;;AAED,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,MAAIC,KAAK,GAAGD,IAAI,CAACE,YAAL,CAAkB,OAAlB,CAAZ;;AACA,MAAID,KAAJ,EAAW;AACP,QAAIE,KAAK,GAAGF,KAAK,CAACG,OAAN,CAAc,MAAd,EAAsB,EAAtB,EAA0BN,KAA1B,CAAgC,YAAhC,CAAZ;AACA,WAAOK,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAL,GAAW,CAAd,GAAkB,CAA9B;AACH,GAHD,MAGO;AACH,WAAO,KAAP;AACH;AACJ;;AAED,SAASE,iBAAT,CAA2BC,UAA3B,EAAuC;AACnC,MAAIC,gBAAgB,GAAGD,UAAU,CAACA,UAAU,CAACE,MAAX,GAAoB,CAArB,CAAjC;AACAD,EAAAA,gBAAgB,CAACE,MAAjB,GAA0BF,gBAAgB,CAACE,MAAjB,CAAwBC,IAAxB,EAA1B;AACH;;AACD,IAAIC,UAAU,GAAG,UAASC,KAAT,EAAgB;AAC7B,MAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa,OAAb,CAAZ;AACA,SAAO,UAASd,IAAT,EAAee,KAAf,EAAsB;AACzB,QAAIC,GAAG,GAAGD,KAAK,CAACC,GAAN,CAAUC,KAAV,EAAV;AACA,QAAIC,eAAe,GAAGF,GAAG,CAAC,CAAD,CAAzB;AACAE,IAAAA,eAAe,CAACT,MAAhB,GAAyBS,eAAe,CAACT,MAAhB,CAAuBL,OAAvB,CAA+B,MAA/B,EAAuC,EAAvC,CAAzB;AACA,QAAIe,oBAAoB,GAAGD,eAAe,CAACT,MAAhB,CAAuBX,KAAvB,CAA6B,WAA7B,CAA3B;AACA,QAAIsB,MAAM,GAAGD,oBAAoB,IAAIpB,SAAS,CAACC,IAAD,CAA9C;;AACA,QAAI,CAACmB,oBAAD,IAAyB,UAAUC,MAAvC,EAA+C;AAC3C,aAAOL,KAAP;AACH;;AACDG,IAAAA,eAAe,CAACT,MAAhB,GAAyBS,eAAe,CAACT,MAAhB,CAAuBY,SAAvB,CAAiCF,oBAAoB,CAAC,CAAD,CAApB,CAAwBX,MAAzD,EAAiEU,eAAe,CAACT,MAAhB,CAAuBD,MAAxF,CAAzB;AACAH,IAAAA,iBAAiB,CAACW,GAAD,CAAjB;AACAA,IAAAA,GAAG,CAACM,IAAJ,CAAS;AACLb,MAAAA,MAAM,EAAE,IADH;AAELc,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE7B,WAAW,CAACwB,oBAAD,CADT;AAERC,QAAAA,MAAM,EAAEA;AAFA;AAFP,KAAT;AAOA,WAAO,IAAIP,KAAJ,CAAUG,GAAV,CAAP;AACH,GAnBD;AAoBH,CAtBD;;AAuBA,IAAIS,QAAQ,GAAGd,UAAf;AACAlB,OAAO,CAACC,OAAR,GAAkB+B,QAAlB;AACAC,MAAM,CAACjC,OAAP,GAAiBA,OAAO,CAACC,OAAzB","sourcesContent":["/**\r\n * DevExtreme (ui/html_editor/matchers/wordLists.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\n\r\nfunction getListType(matches) {\r\n    var prefix = matches[1];\r\n    return prefix.match(/\\S+\\./) ? \"ordered\" : \"bullet\"\r\n}\r\n\r\nfunction getIndent(node) {\r\n    var style = node.getAttribute(\"style\");\r\n    if (style) {\r\n        var level = style.replace(/\\n+/g, \"\").match(/level(\\d+)/);\r\n        return level ? level[1] - 1 : 0\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction removeNewLineChar(operations) {\r\n    var newLineOperation = operations[operations.length - 1];\r\n    newLineOperation.insert = newLineOperation.insert.trim()\r\n}\r\nvar getMatcher = function(quill) {\r\n    var Delta = quill.import(\"delta\");\r\n    return function(node, delta) {\r\n        var ops = delta.ops.slice();\r\n        var insertOperation = ops[0];\r\n        insertOperation.insert = insertOperation.insert.replace(/^\\s+/, \"\");\r\n        var listDecoratorMatches = insertOperation.insert.match(/^(\\S+)\\s+/);\r\n        var indent = listDecoratorMatches && getIndent(node);\r\n        if (!listDecoratorMatches || false === indent) {\r\n            return delta\r\n        }\r\n        insertOperation.insert = insertOperation.insert.substring(listDecoratorMatches[0].length, insertOperation.insert.length);\r\n        removeNewLineChar(ops);\r\n        ops.push({\r\n            insert: \"\\n\",\r\n            attributes: {\r\n                list: getListType(listDecoratorMatches),\r\n                indent: indent\r\n            }\r\n        });\r\n        return new Delta(ops)\r\n    }\r\n};\r\nvar _default = getMatcher;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}