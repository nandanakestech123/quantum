{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\NewAppointment\\\\NewCreateAppointment\\\\modal\\\\TreatmentPackage.js\";\nimport React from \"react\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport { updateForm, getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { NormalModal } from \"component/common\";\nimport closeIcon from \"assets/images/close.png\";\nimport _ from \"lodash\";\nexport class ListTreatmentPackageClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Course\"\n      }, {\n        label: \"Tr. #\"\n      }, {\n        label: \"Total\"\n      }, {\n        label: \"Price\"\n      }, {\n        label: \"Expiry Date\"\n      }],\n      treatmentPackageList: [],\n      meta: {},\n      active: false,\n      currentIndex: -1,\n      isTreatementModal: false,\n      formFields: {}\n    };\n\n    this.componentDidMount = () => {\n      this.getPackageList({});\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.setState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.getPackageList = data => {\n      console.log(this.props.customerId);\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      this.props.getCommonApi(`treatmentpackages/?cust_id=${this.props.customerId}&page=${page}&limit=${limit}`).then(res => {\n        console.log(res, \"dsfdfaafg\");\n\n        if (res.status === 200) {\n          if (res.data) {\n            this.setState({\n              treatmentPackageList: res.data.dataList,\n              meta: res.data.meta.pagination\n            });\n          }\n        }\n      });\n    };\n\n    this.handlePagination = page => {\n      console.log(page, \"dsfsdfsdfsdf\");\n      this.getPackageList(page);\n    };\n\n    this.handleDialog = () => {\n      let {\n        isTreatementModal\n      } = this.state;\n      isTreatementModal = !isTreatementModal;\n      this.setState({\n        isTreatementModal\n      });\n    };\n\n    this.handleSelectTreatmentPackage = item => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"id\"] = item.stock_id;\n      formFields[\"item_desc\"] = item.item_name;\n      formFields[\"add_duration\"] = item.add_duration;\n      formFields[\"Item_CodeName\"] = item.item_name;\n      formFields[\"treatment_parentcode\"] = item.treatment_parentcode;\n      this.setState({\n        formFields\n      });\n      console.log(formFields);\n      this.props.handleSelectPackage(formFields);\n      this.props.handleTreatementmodal();\n    };\n  }\n\n  render() {\n    let {\n      headerDetails,\n      treatmentPackageList,\n      meta,\n      currentIndex,\n      active,\n      isTreatementModal,\n      formFields\n    } = this.state;\n    let {\n      customerId\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"multiple-appointment select-category\",\n      style: {\n        minWidth: \"60%\"\n      },\n      modal: this.props.isTreatementModal,\n      handleModal: this.props.handleTreatementmodal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.props.handleTreatementmodal,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, \"Treatment\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: meta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, treatmentPackageList && treatmentPackageList.length > 0 ? treatmentPackageList.map((item, index) => {\n      let {\n        item_name,\n        tr_open,\n        tr_done,\n        stock_id,\n        price,\n        expiry,\n        add_duration,\n        treatment_parentcode\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        onClick: () => this.handleSelectTreatmentPackage(item, index),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 31\n        }\n      }, item_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 31\n        }\n      }, tr_open)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 31\n        }\n      }, tr_done)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 31\n        }\n      }, price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 31\n        }\n      }, expiry)));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 27\n      }\n    }, \"No data available\"))))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    updateForm,\n    getCommonApi\n  }, dispatch);\n};\n\nexport const TreatmentPackage = connect(mapStateToProps, mapDispatchToProps)(ListTreatmentPackageClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/NewAppointment/NewCreateAppointment/modal/TreatmentPackage.js"],"names":["React","InputSearch","TableWrapper","updateForm","getCommonApi","connect","bindActionCreators","NormalModal","closeIcon","_","ListTreatmentPackageClass","Component","state","headerDetails","label","treatmentPackageList","meta","active","currentIndex","isTreatementModal","formFields","componentDidMount","getPackageList","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","data","console","log","props","customerId","page","limit","search","then","res","status","dataList","pagination","handlePagination","handleDialog","handleSelectTreatmentPackage","item","stock_id","item_name","add_duration","treatment_parentcode","handleSelectPackage","handleTreatementmodal","render","minWidth","length","map","index","tr_open","tr_done","price","expiry","mapStateToProps","mapDispatchToProps","dispatch","TreatmentPackage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport { updateForm, getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { NormalModal } from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport _ from \"lodash\";\r\n\r\nexport class ListTreatmentPackageClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Course\" },\r\n      { label: \"Tr. #\" },\r\n      { label: \"Total\" },\r\n      { label: \"Price\" },\r\n      { label: \"Expiry Date\" },\r\n    ],\r\n    treatmentPackageList: [],\r\n    meta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n    isTreatementModal: false,\r\n    formFields: {},\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getPackageList({});\r\n  };\r\n\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  getPackageList = data => {\r\n    console.log(this.props.customerId);\r\n    let { page = 1, limit = 10, search = \"\" } = data;\r\n    this.props\r\n      .getCommonApi(\r\n        `treatmentpackages/?cust_id=${this.props.customerId}&page=${page}&limit=${limit}`\r\n      )\r\n      .then(res => {\r\n        console.log(res, \"dsfdfaafg\");\r\n        if (res.status === 200) {\r\n          if (res.data) {\r\n            this.setState({\r\n              treatmentPackageList: res.data.dataList,\r\n              meta: res.data.meta.pagination,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handlePagination = page => {\r\n    console.log(page, \"dsfsdfsdfsdf\");\r\n    this.getPackageList(page);\r\n  };\r\n\r\n  // handlesearch = (event) => {\r\n  //     console.log(\"sadfasdfasdf\", event.target.value)\r\n  //     event.persist();\r\n\r\n  //     if (!this.debouncedFn) {\r\n  //         this.debouncedFn = _.debounce(() => {\r\n  //             let searchString = event.target.value;\r\n  //             let data = { search: searchString }\r\n  //             this.getPackageList(data)\r\n  //         }, 500);\r\n  //     }\r\n  //     this.debouncedFn();\r\n  // }\r\n\r\n  handleDialog = () => {\r\n    let { isTreatementModal } = this.state;\r\n    isTreatementModal = !isTreatementModal;\r\n    this.setState({\r\n      isTreatementModal,\r\n    });\r\n  };\r\n\r\n  handleSelectTreatmentPackage = item => {\r\n    let { formFields } = this.state;\r\n    formFields[\"id\"] = item.stock_id;\r\n    formFields[\"item_desc\"] = item.item_name;\r\n    formFields[\"add_duration\"] = item.add_duration;\r\n    formFields[\"Item_CodeName\"] = item.item_name;\r\n    formFields[\"treatment_parentcode\"] = item.treatment_parentcode;\r\n\r\n    this.setState({\r\n      formFields,\r\n    });\r\n    console.log(formFields);\r\n    this.props.handleSelectPackage(formFields);\r\n    this.props.handleTreatementmodal();\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      treatmentPackageList,\r\n      meta,\r\n      currentIndex,\r\n      active,\r\n      isTreatementModal,\r\n      formFields,\r\n    } = this.state;\r\n    let { customerId } = this.props;\r\n    return (\r\n      <>\r\n        <NormalModal\r\n          className={\"multiple-appointment select-category\"}\r\n          style={{ minWidth: \"60%\" }}\r\n          modal={this.props.isTreatementModal}\r\n          handleModal={this.props.handleTreatementmodal}\r\n        >\r\n          <img\r\n            onClick={this.props.handleTreatementmodal}\r\n            className=\"close\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <div className=\"customer-list container\">\r\n            <div className=\"tab-table-content\">\r\n              <div className=\"py-4\">\r\n                <div className=\"col-12 p-2\">\r\n                  <h5 className=\"fw-500\">Treatment</h5>\r\n                </div>\r\n                <div className=\"table-container\">\r\n                  <TableWrapper\r\n                    headerDetails={headerDetails}\r\n                    queryHandler={this.handlePagination}\r\n                    pageMeta={meta}\r\n                  >\r\n                    {treatmentPackageList && treatmentPackageList.length > 0 ? (\r\n                      treatmentPackageList.map((item, index) => {\r\n                        let {\r\n                          item_name,\r\n                          tr_open,\r\n                          tr_done,\r\n                          stock_id,\r\n                          price,\r\n                          expiry,\r\n                          add_duration,\r\n                          treatment_parentcode,\r\n                        } = item;\r\n                        return (\r\n                          <tr\r\n                            onClick={() =>\r\n                              this.handleSelectTreatmentPackage(item, index)\r\n                            }\r\n                            key={index}\r\n                          >\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {item_name}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {tr_open}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {tr_done}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {price}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                {expiry}\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <tr>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            No data available\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </TableWrapper>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateForm,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TreatmentPackage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ListTreatmentPackageClass);\r\n"]},"metadata":{},"sourceType":"module"}