{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\CustomerDetailsPlus\\\\Accounts\\\\prepaidAccount.js\";\nimport React, { Component } from 'react';\nimport \"./style.scss\";\nimport { NormalButton, TableWrapper } from 'component/common';\nimport { FormGroup, Label, Input } from 'reactstrap';\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nexport class PrepaidAccountClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeTab: '',\n      isOpenTreatmentDone: false,\n      isActiveTab: \"detail\",\n      headerDetails: [{\n        label: 'Prepaid #',\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: 'Prepaid Description',\n        width: \"242px\"\n      }, {\n        label: 'Last Update',\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: 'Purchase Date',\n        sortKey: false,\n        width: \"180px\"\n      }, {\n        label: 'Type',\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: 'Expiry Date',\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: 'Expiry Status',\n        sortKey: false,\n        width: \"120px\"\n      }, {\n        label: 'Prepaid',\n        sortKey: false,\n        width: \"100px\"\n      }, {\n        label: '',\n        sortKey: false,\n        width: \"100px\"\n      }],\n      detailHeader: [{\n        label: 'Prepaid Ref',\n        sortKey: false,\n        width: \"150px\"\n      }, {\n        label: 'Transaction Ref',\n        sortKey: false,\n        width: \"225px\"\n      }, {\n        label: 'Voucher #',\n        width: \"100px\"\n      }, {\n        label: 'Item No',\n        sortKey: false,\n        width: \"70px\"\n      }, {\n        label: 'Item Name',\n        sortKey: false,\n        width: \"72px\"\n      }, {\n        label: 'Used Amt',\n        sortKey: false,\n        width: \"72px\"\n      }, {\n        label: 'Top up A',\n        sortKey: false,\n        width: \"72px\"\n      }, {\n        label: 'Balance',\n        sortKey: false,\n        width: \"72px\"\n      }, {\n        label: 'Topup #',\n        sortKey: false,\n        width: \"72px\"\n      }],\n      accountList: [],\n      accountHeader: {},\n      show: \"active\",\n      DetailList: []\n    };\n\n    this.toggle = tab => {\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeTab: tab\n        });\n      }\n    };\n\n    this.getAccountData = api => {\n      let {\n        show,\n        accountHeader\n      } = this.state;\n      this.props.getCommonApi(`prepaidacclist/?cust_id=${this.props.id}${api}`).then(key => {\n        let {\n          data,\n          header_data\n        } = key;\n        let {\n          accountList\n        } = this.state;\n        accountList = data;\n        accountHeader = header_data;\n        this.setState({\n          accountList,\n          accountHeader\n        });\n      });\n    };\n\n    this.handleChange = async type => {\n      let {\n        show\n      } = this.state;\n      show = type;\n      await this.setState({\n        show\n      });\n\n      if (type === \"all\") {\n        this.getAccountData('&is_all=1');\n      } else {\n        this.getAccountData('');\n      }\n    };\n\n    this.handleOpenDetail = async data => {\n      let {\n        activeTab\n      } = this.state;\n      activeTab = 'detail';\n      await this.setState({\n        activeTab\n      });\n      this.getDetailList(data.id);\n    };\n\n    this.getDetailList = id => {\n      this.props.getCommonApi(`prepaidacclist/${id}`).then(key => {\n        let {\n          data,\n          header_data\n        } = key;\n        let {\n          DetailList,\n          accountHeader\n        } = this.state;\n        DetailList = data;\n        accountHeader = header_data;\n        this.setState({\n          DetailList,\n          accountHeader\n        });\n      });\n    };\n\n    this.handleBack = () => {\n      let {\n        activeTab\n      } = this.state;\n      activeTab = '';\n      this.setState({\n        activeTab,\n        DetailList: []\n      });\n      this.getAccountData();\n    };\n  }\n\n  componentDidMount() {\n    this.getAccountData('');\n  }\n\n  render() {\n    let {\n      treatmentList,\n      headerDetails,\n      accountList = [],\n      show,\n      accountHeader = {},\n      activeTab,\n      detailHeader,\n      DetailList\n    } = this.state;\n    let {\n      balance_producttype,\n      balance_servicetype,\n      balance_alltype,\n      totalprepaid_count\n    } = accountHeader;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"treatment-account row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mt-3 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, \"Total Prepaid Count\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }\n    }, totalprepaid_count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      checked: show === \"active\",\n      onChange: () => this.handleChange(\"active\"),\n      type: \"radio\",\n      name: \"radio1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }), ' ', \" Show active prepaid only\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      checked: show === \"all\",\n      onChange: () => this.handleChange(\"all\"),\n      type: \"radio\",\n      name: \"radio1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }), ' ', \" Show all prepaid\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mt-3 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, \"Balance of Product Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, \"$ \", balance_producttype), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, \"Balance of Service Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, \"$ \", balance_servicetype), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"Balance of All Types\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, \"$ \", balance_alltype))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, activeTab !== 'detail' ? /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination // pageMeta={pageMeta}\n      // isEmpty={accountList.length === 0 ? true:false}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, accountList && accountList.length > 0 ? accountList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }, item.prepaid)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, item.pp_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, item.last_update)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, item.sa_date)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }\n      }, item.type)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, item.exp_date)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }\n      }, item.exp_status)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, item.pp_total)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalButton, {\n        buttonClass: \"view mr-3\",\n        mainbg: true,\n        className: \"col-12 fs-15 \",\n        label: \"view\",\n        onClick: () => this.handleOpenDetail(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }))));\n    }) : \"\") : /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: detailHeader,\n      queryHandler: this.handlePagination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 30\n      }\n    }, DetailList && DetailList.length > 0 ? DetailList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 29\n        }\n      }, item.prepaid_ref)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }\n      }, item.transaction_ref)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 29\n        }\n      }, item.voucher)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 29\n        }\n      }, item.item_no)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 29\n        }\n      }, item.item_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 29\n        }\n      }, \"$\" + item.use_amt)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 29\n        }\n      }, \"$\" + item.topup_amt)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 29\n        }\n      }, \"$\" + item.balance)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 29\n        }\n      }, item.topup_no)));\n    }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, activeTab === 'detail' ? /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"back mr-3\",\n      mainbg: true,\n      className: \"col-12 fs-15 \",\n      label: \"Back\",\n      onClick: () => this.handleBack(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 40\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"print\" // mainbg={true}\n      ,\n      className: \"col-12 fs-15 \",\n      label: \"Print\" // outline={false}\n      ,\n      onClick: () => this.setState({\n        isOpenEditDisc: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    updateForm,\n    commonCreateApi,\n    commonPatchApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const PrepaidAccount = connect(null, mapDispatchToProps)(PrepaidAccountClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Accounts/prepaidAccount.js"],"names":["React","Component","NormalButton","TableWrapper","FormGroup","Label","Input","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","connect","bindActionCreators","PrepaidAccountClass","state","activeTab","isOpenTreatmentDone","isActiveTab","headerDetails","label","sortKey","width","detailHeader","accountList","accountHeader","show","DetailList","toggle","tab","setState","getAccountData","api","props","id","then","key","data","header_data","handleChange","type","handleOpenDetail","getDetailList","handleBack","componentDidMount","render","treatmentList","balance_producttype","balance_servicetype","balance_alltype","totalprepaid_count","handlePagination","length","map","item","index","prepaid","pp_desc","last_update","sa_date","exp_date","exp_status","pp_total","prepaid_ref","transaction_ref","voucher","item_no","item_name","use_amt","topup_amt","balance","topup_no","isOpenEditDisc","mapDispatchToProps","dispatch","PrepaidAccount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"./style.scss\";\nimport { NormalButton, TableWrapper } from 'component/common';\nimport { FormGroup, Label, Input } from 'reactstrap';\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\";\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\n\nexport class PrepaidAccountClass extends Component {\n  state = {\n    activeTab: '',\n    isOpenTreatmentDone: false,\n    isActiveTab: \"detail\",\n    headerDetails: [\n      { label: 'Prepaid #', sortKey: false, width: \"120px\" },\n      { label: 'Prepaid Description', width: \"242px\" },\n      { label: 'Last Update', sortKey: false, width: \"120px\" },\n      { label: 'Purchase Date', sortKey: false, width: \"180px\" },\n      { label: 'Type', sortKey: false, width: \"120px\" },\n      { label: 'Expiry Date', sortKey: false, width: \"120px\" },\n      { label: 'Expiry Status', sortKey: false, width: \"120px\" },\n      { label: 'Prepaid', sortKey: false, width: \"100px\" },\n      { label: '', sortKey: false, width: \"100px\" },\n    ],\n    detailHeader: [\n      { label: 'Prepaid Ref', sortKey: false, width: \"150px\" },\n      { label: 'Transaction Ref', sortKey: false, width: \"225px\" },\n      { label: 'Voucher #', width: \"100px\" },\n      { label: 'Item No', sortKey: false, width: \"70px\" },\n      { label: 'Item Name', sortKey: false, width: \"72px\" },\n      { label: 'Used Amt', sortKey: false, width: \"72px\" },\n      { label: 'Top up A', sortKey: false, width: \"72px\" },\n      { label: 'Balance', sortKey: false, width: \"72px\" },\n      { label: 'Topup #', sortKey: false, width: \"72px\" },\n    ],\n    accountList: [],\n    accountHeader: {},\n    show: \"active\",\n    DetailList: [],\n  }\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n  \ncomponentDidMount() {\n  this.getAccountData('');\n}\n\ngetAccountData = (api) => {\n  let { show, accountHeader } = this.state;\n  this.props.getCommonApi(`prepaidacclist/?cust_id=${this.props.id}${api}`).then((key) => {\n    let { data, header_data } = key;\n    let { accountList } = this.state;\n    accountList = data;\n    accountHeader = header_data;\n    this.setState({ accountList, accountHeader })\n})\n}\n\nhandleChange = async(type) => {\n  let { show } = this.state;\n  show = type\n  await this.setState({\n    show\n  })\n  if(type===\"all\"){\n   this.getAccountData('&is_all=1');\n  } else {\n    this.getAccountData('');\n  }\n}\n\nhandleOpenDetail = async(data) => {\n  let { activeTab } = this.state\n  activeTab = 'detail';\n  \n  await this.setState({\n    activeTab\n  })\n  this.getDetailList(data.id);\n}\n\ngetDetailList = (id) => {\n  this.props.getCommonApi(`prepaidacclist/${id}`).then((key) => {\n    let { data, header_data } = key;\n    let { DetailList, accountHeader } = this.state;\n    DetailList = data;\n    accountHeader = header_data;\n    this.setState({ DetailList, accountHeader })\n  })\n}\n\nhandleBack = () => {\n  let { activeTab } = this.state;\n  activeTab = '';\n  this.setState({\n    activeTab,\n    DetailList:[]\n  })\n  this.getAccountData();\n}\n\n\n  render() {\n    let { treatmentList, headerDetails, accountList=[], show, accountHeader={}, activeTab, detailHeader, DetailList } = this.state;\n    let { balance_producttype, balance_servicetype, balance_alltype, totalprepaid_count } = accountHeader;\n    return (\n\n      <div className=\"treatment-account row\">\n        <div className=\"col-6 mt-3 mb-4\">\n          <div className=\"row\">\n            <div className=\"col-5 mb-2\">Total Prepaid Count</div>\n    <div className=\"col-5 mb-2\">{totalprepaid_count}</div>\n            <div className=\"row m-0\">\n            <div className=\"col-12 mb-2\">\n              <FormGroup check>\n                <Label check>\n                  <Input checked={show===\"active\"} onChange={()=>this.handleChange(\"active\")} type=\"radio\" name=\"radio1\" />{' '} Show active prepaid only\n              </Label>\n              </FormGroup>\n            </div>\n            <div className=\"col-12\">\n              <FormGroup check>\n                <Label check>\n                  <Input checked={show===\"all\"} onChange={()=>this.handleChange(\"all\")} type=\"radio\" name=\"radio1\" />{' '} Show all prepaid\n              </Label>\n              </FormGroup>\n            </div>\n          </div>\n          </div>\n        </div>\n        <div className=\"col-6 mt-3 mb-4\">\n          <div className=\"row\">\n            <div className=\"col-6 mb-2\">Balance of Product Type</div>\n            <div className=\"col-6 mb-2\">$ {balance_producttype}</div>\n            \n            <div className=\"col-6\">Balance of Service Type</div>\n            <div className=\"col-6\">$ {balance_servicetype}</div>\n\n            <div className=\"col-6\">Balance of All Types</div>\n            <div className=\"col-6\">$ {balance_alltype}</div>\n          </div>\n        </div>\n        <div className=\"col-12\">\n\n          <div className=\"table\">\n          {\n              activeTab !== 'detail' ?\n            <TableWrapper\n              headerDetails={headerDetails}\n              queryHandler={this.handlePagination}\n            // pageMeta={pageMeta}\n            // isEmpty={accountList.length === 0 ? true:false}\n            >\n              {accountList && accountList.length > 0 ? accountList.map((item, index) => {\n\n                return (\n                  <tr key={index}>\n\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.prepaid}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.pp_desc}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.last_update}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.sa_date}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.type}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.exp_date}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.exp_status}</div></td>\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{item.pp_total}</div></td>\n                    <td>\n                          <div className=\"d-flex align-items-center justify-content-center\">\n                            <NormalButton\n                              buttonClass={\"view mr-3\"}\n                              mainbg={true}\n                              className=\"col-12 fs-15 \"\n                              label=\"view\"\n                              onClick={() => this.handleOpenDetail(item)}\n                            />\n                          </div>\n                        </td>\n                  </tr>\n                )\n              }) : \"\"\n              }\n\n            </TableWrapper>: <TableWrapper headerDetails={detailHeader} queryHandler={this.handlePagination}>\n                  {DetailList && DetailList.length > 0 ? DetailList.map((item, index) => {\n                    return (\n                      <tr key={index}>\n\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{item.prepaid_ref}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{item.transaction_ref}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{item.voucher}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{item.item_no}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{item.item_name}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{\"$\" + item.use_amt}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{\"$\" + item.topup_amt}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{\"$\" + item.balance}</div></td>\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{ item.topup_no}</div></td>\n                      </tr>\n                    )\n                  }) : \"\"\n                  }\n                </TableWrapper>\n            }\n          </div>\n        </div>\n        <div className=\"col-12 d-flex justify-center\">\n        {\n              activeTab === 'detail' ? <NormalButton\n            buttonClass={\"back mr-3\"}\n            mainbg={true}\n            className=\"col-12 fs-15 \"\n            label=\"Back\"\n            onClick={() => this.handleBack()}\n          />:\"\"\n        }\n          <NormalButton\n            buttonClass={\"print\"}\n            // mainbg={true}\n            className=\"col-12 fs-15 \"\n            label=\"Print\"\n            // outline={false}\n            onClick={() => this.setState({ isOpenEditDisc: false })}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n      getCommonApi,\n      updateForm,\n      commonCreateApi,\n      commonPatchApi,\n      commonDeleteApi\n  }, dispatch)\n}\n\nexport const PrepaidAccount = connect(null, mapDispatchToProps)(PrepaidAccountClass)"]},"metadata":{},"sourceType":"module"}