{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withTranslation}from\"react-i18next\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,commonCreateApi,commonPatchApi}from\"redux/actions/common\";import{NormalButton,TableWrapper}from\"component/common\";export var SMSReplyPopupClass=/*#__PURE__*/function(_Component){_inherits(SMSReplyPopupClass,_Component);var _super=_createSuper(SMSReplyPopupClass);function SMSReplyPopupClass(){var _this;_classCallCheck(this,SMSReplyPopupClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:\"Appnt Date\",divClass:\"justify-content-end text-right\"},{label:\"Service Name\"},{label:\"Staff\"},{label:\"Current Status\"}],smsReplyDetailInfo:[]};_this.componentDidMount=function(){_this.getTransactions();};_this.getTransactions=function(){var _this$state=_this.state,smsReplyDetailInfo=_this$state.smsReplyDetailInfo,formField=_this$state.formField;_this.props.getCommonApi(\"smsreply/\".concat(_this.props.TransactionId,\"/\")).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(res,\"selectedcustomerlistdsfdfaafg\");_context.next=3;return _this.setState({smsReplyDetailInfo:[]});case 3:data=res.data;if(data){smsReplyDetailInfo=res.data;}_this.setState({smsReplyDetailInfo:smsReplyDetailInfo});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.handleCancelAppointment=function(){var body={appt_status:\"Cancelled\"};_this.props.commonPatchApi(\"smsreply/\".concat(_this.props.TransactionId,\"/\"),body).then(function(res){if(res.status==200){_this.props.handleModal();}});};_this.handleConfirmAppointment=function(){var body={appt_status:\"Confirmed\"};_this.props.commonPatchApi(\"smsreply/\".concat(_this.props.TransactionId,\"/\"),body).then(function(res){if(res.status==200){_this.props.handleModal();}});};return _this;}_createClass(SMSReplyPopupClass,[{key:\"render\",value:function render(){var t=this.props.t;var _this$state2=this.state,headerDetails=_this$state2.headerDetails,smsReplyDetailInfo=_this$state2.smsReplyDetailInfo;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"billing-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"h5 mb-2\"},t(\"Status Update\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Name\"),\" : \",smsReplyDetailInfo.cust_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Phone\"),\" :\",smsReplyDetailInfo.phone))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left w-100 text-black common-label-text mr-2\"},t(\"Reply\"),\" : \",smsReplyDetailInfo.reply))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails//queryHandler={this.handlePagination}\n// pageMeta={pageMeta}\n},smsReplyDetailInfo?/*#__PURE__*/React.createElement(\"tr\",{key:smsReplyDetailInfo.id},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},smsReplyDetailInfo.appt_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},smsReplyDetailInfo.service_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},smsReplyDetailInfo.staff_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},smsReplyDetailInfo.appt_status))):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},\"No data\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(NormalButton,{submitBtn:true,className:\"col-12 mr-2\",label:t(\"Confirm\"),onClick:this.handleConfirmAppointment}),/*#__PURE__*/React.createElement(NormalButton,{resetbg:true,className:\"col-12 ml-2\",label:\"Cancel Appointment\",onClick:this.handleCancelAppointment})))))));}}]);return SMSReplyPopupClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{tokenDetails:state.authStore.tokenDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi},dispatch);};export var SMSReplyPopup=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(SMSReplyPopupClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/NewAppointment/SMSReply/SMSReplyPopup/index.js"],"names":["React","Component","withTranslation","connect","bindActionCreators","getCommonApi","commonCreateApi","commonPatchApi","NormalButton","TableWrapper","SMSReplyPopupClass","state","headerDetails","label","divClass","smsReplyDetailInfo","componentDidMount","getTransactions","formField","props","TransactionId","then","res","console","log","setState","data","handleCancelAppointment","body","appt_status","status","handleModal","handleConfirmAppointment","t","cust_name","phone","reply","id","appt_date","service_name","staff_name","mapStateToProps","tokenDetails","authStore","mapDispatchToProps","dispatch","SMSReplyPopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport { NormalButton, TableWrapper } from \"component/common\";\r\n\r\nexport class SMSReplyPopupClass extends Component {\r\n  state = {\r\n    headerDetails: [\r\n      {\r\n        label: \"Appnt Date\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Service Name\" },\r\n      { label: \"Staff\" },\r\n      { label: \"Current Status\" },\r\n    ],\r\n    smsReplyDetailInfo: [],\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getTransactions();\r\n  };\r\n  getTransactions = () => {\r\n    let { smsReplyDetailInfo, formField } = this.state;\r\n    this.props\r\n      .getCommonApi(`smsreply/${this.props.TransactionId}/`)\r\n      .then(async res => {\r\n        console.log(res, \"selectedcustomerlistdsfdfaafg\");\r\n        await this.setState({ smsReplyDetailInfo: [] });\r\n        let { data } = res;\r\n        if (data) {\r\n          smsReplyDetailInfo = res.data;\r\n        }\r\n        this.setState({ smsReplyDetailInfo });\r\n      });\r\n  };\r\n  handleCancelAppointment = () => {\r\n    let body = { appt_status: \"Cancelled\" };\r\n\r\n    this.props\r\n      .commonPatchApi(`smsreply/${this.props.TransactionId}/`, body)\r\n      .then(res => {\r\n        if (res.status == 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n  };\r\n  handleConfirmAppointment = () => {\r\n    let body = { appt_status: \"Confirmed\" };\r\n    this.props\r\n      .commonPatchApi(`smsreply/${this.props.TransactionId}/`, body)\r\n      .then(res => {\r\n        if (res.status == 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    let { t } = this.props;\r\n    let { headerDetails, smsReplyDetailInfo } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"billing-section\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <div className=\"col-12\">\r\n              <p className=\"h5 mb-2\">{t(\"Status Update\")}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-12\">\r\n            <div className=\"d-flex flex-wrap\">\r\n              <div className=\"col-md-5 col-12\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"Name\")} : {smsReplyDetailInfo.cust_name}\r\n                </label>\r\n              </div>\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                  {t(\"Phone\")} :{smsReplyDetailInfo.phone}\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <label className=\"text-left w-100 text-black common-label-text mr-2\">\r\n                {t(\"Reply\")} : {smsReplyDetailInfo.reply}\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12\">\r\n            <div className=\"py-4\">\r\n              <div className=\"table-container\">\r\n                <TableWrapper\r\n                  headerDetails={headerDetails}\r\n                  //queryHandler={this.handlePagination}\r\n                  // pageMeta={pageMeta}\r\n                >\r\n                  {smsReplyDetailInfo ? (\r\n                    <tr key={smsReplyDetailInfo.id}>\r\n                      <td>\r\n                        <div className=\"text-right\">\r\n                          {smsReplyDetailInfo.appt_date}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\">\r\n                          {smsReplyDetailInfo.service_name}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\">\r\n                          {smsReplyDetailInfo.staff_name}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\">\r\n                          {smsReplyDetailInfo.appt_status}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"text-center\">No data</div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-end\">\r\n              <div className=\"col-md-8\">\r\n                <div className=\"d-flex justify-content-end\">\r\n                  <NormalButton\r\n                    submitBtn={true}\r\n                    className=\"col-12 mr-2\"\r\n                    label={t(\"Confirm\")}\r\n                    onClick={this.handleConfirmAppointment}\r\n                  />\r\n                  <NormalButton\r\n                    resetbg={true}\r\n                    className=\"col-12 ml-2\"\r\n                    label=\"Cancel Appointment\"\r\n                    onClick={this.handleCancelAppointment}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const SMSReplyPopup = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(SMSReplyPopupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}