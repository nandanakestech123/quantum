{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCustomerPlusSettings,updateCustomerPlusSettings}from\"redux/actions/customerPlus\";import{NormalInput,NormalDateTime,NormalSelect,NormalMultiSelect,NormalButton,LayoutEditor}from\"component/common\";import{withTranslation}from\"react-i18next\";export var EditLayoutClass=/*#__PURE__*/function(_Component){_inherits(EditLayoutClass,_Component);var _super=_createSuper(EditLayoutClass);function EditLayoutClass(){var _this;_classCallCheck(this,EditLayoutClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{},fields:[{id:1,field_name:\"cust_dob\",display_field_name:\"Customer DOB\",visible_in_registration:true,visible_in_listing:true,visible_in_profile:true,mandatory:true,data_type:\"Dat\",selection:null}],layout:{lg:[],sm:[],md:[]},isLoading:true,isMounted:true};_this.updateState=function(data){if(_this.state.isMounted)_this.setState(data);};_this.loadData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.next=3;return _this.props.getCustomerPlusSettings(\"details\");case 3:_this.state.fields=_this.props.customerPlusSettings.filter(function(e){return e.visible_in_registration;});_this.state.formFields=_this.state.fields.reduce(function(map,obj){map[obj.field_name]=\"\";return map;},{});_this.setState({isLoading:false});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,layout,fields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({isLoading:true});_this$state=_this.state,layout=_this$state.layout,fields=_this$state.fields;layout.lg.forEach(function(e){var w=e.w,h=e.h,x=e.x,y=e.y;fields.find(function(e2){return e2.id==e.i;}).layout.lg={w:w,h:h,x:x,y:y};});layout.md.forEach(function(e){var w=e.w,h=e.h,x=e.x,y=e.y;fields.find(function(e2){return e2.id==e.i;}).layout.md={w:w,h:h,x:x,y:y};});layout.sm.forEach(function(e){var w=e.w,h=e.h,x=e.x,y=e.y;fields.find(function(e2){return e2.id==e.i;}).layout.sm={w:w,h:h,x:x,y:y};});_context2.prev=5;_context2.next=8;return _this.props.updateCustomerPlusSettings({customerControlList:fields});case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](5);console.log(_context2.t0);case 13:_this.loadData();case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[5,10]]);}));_this.renderLayout=function(){var t=_this.props.t;var filtered=_this.state.fields;var renderFormData=function renderFormData(e,index){return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},e.data_type==\"text\"?/*#__PURE__*/React.createElement(NormalInput,{placeholder:e.field_name,name:e.field_name,disabled:true}):e.data_type==\"date\"?/*#__PURE__*/React.createElement(NormalDateTime,{disabled:true}):e.data_type==\"datetime\"?/*#__PURE__*/React.createElement(NormalDateTime,{disabled:true}):e.data_type==\"selection\"?/*#__PURE__*/React.createElement(NormalSelect,{placeholder:e.field_name,name:e.field_name,disabled:true}):e.data_type==\"multiSelect\"?/*#__PURE__*/React.createElement(NormalMultiSelect,{placeholder:e.field_name,name:e.field_name,disabled:true}):e.data_type==\"boolean\"?/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:e.field_name}):e.data_type==\"number\"?/*#__PURE__*/React.createElement(NormalInput,{type:\"number\",placeholder:e.field_name,name:e.field_name,disabled:true}):t(\"NO FILED RENDER DATA FOUND\")));};return filtered.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{key:\"\".concat(e.id)},e.showLabel&&/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17\"},t(e.display_field_name)),renderFormData(e));});};return _this;}_createClass(EditLayoutClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.isMounted=false;}},{key:\"componentDidMount\",value:function componentDidMount(){this.loadData();}},{key:\"render\",value:function render(){var _this2=this;var isLoading=this.state.isLoading;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"create-customer-section container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"create-customerplus\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"head-label\"},t(\"Edit Form Layout\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"customer-detail\"},isLoading?/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex mt-5 align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\"))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-12 mb-4\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return _this2.handleSubmit();},label:\"SAVE\",mainbg:true,className:\"mr-2 col-12\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-4 pb-2 row border\"},/*#__PURE__*/React.createElement(LayoutEditor,{fields:this.state.fields,onChange:function onChange(layout){return _this2.updateState({layout:layout});},editable:true},this.renderLayout()))))));}}]);return EditLayoutClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{customerPlusSettings:state.customerPlus.customerPlusSettings};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCustomerPlusSettings:getCustomerPlusSettings,updateCustomerPlusSettings:updateCustomerPlusSettings},dispatch);};export var CustomerPlusEditLayout=withTranslation()(connect(mapStateToProps,mapDispatchToProps)(EditLayoutClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/CustomerPlusSettings/EditLayout/index.js"],"names":["React","Component","connect","bindActionCreators","getCustomerPlusSettings","updateCustomerPlusSettings","NormalInput","NormalDateTime","NormalSelect","NormalMultiSelect","NormalButton","LayoutEditor","withTranslation","EditLayoutClass","state","formFields","fields","id","field_name","display_field_name","visible_in_registration","visible_in_listing","visible_in_profile","mandatory","data_type","selection","layout","lg","sm","md","isLoading","isMounted","updateState","data","setState","loadData","props","customerPlusSettings","filter","e","reduce","map","obj","handleSubmit","forEach","w","h","x","y","find","e2","i","customerControlList","console","log","renderLayout","t","filtered","renderFormData","index","showLabel","mapStateToProps","customerPlus","mapDispatchToProps","dispatch","CustomerPlusEditLayout"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  getCustomerPlusSettings,\n  updateCustomerPlusSettings,\n} from \"redux/actions/customerPlus\";\nimport {\n  NormalInput,\n  NormalDateTime,\n  NormalSelect,\n  NormalMultiSelect,\n  NormalButton,\n  LayoutEditor,\n} from \"component/common\";\nimport { withTranslation } from \"react-i18next\";\n\nexport class EditLayoutClass extends Component {\n  state = {\n    formFields: {},\n    fields: [\n      {\n        id: 1,\n        field_name: \"cust_dob\",\n        display_field_name: \"Customer DOB\",\n        visible_in_registration: true,\n        visible_in_listing: true,\n        visible_in_profile: true,\n        mandatory: true,\n        data_type: \"Dat\",\n        selection: null,\n      },\n    ],\n    layout: { lg: [], sm: [], md: [] },\n    isLoading: true,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async () => {\n    this.setState({ isLoading: true });\n    await this.props.getCustomerPlusSettings(\"details\");\n    this.state.fields = this.props.customerPlusSettings.filter(\n      (e) => e.visible_in_registration\n    );\n    this.state.formFields = this.state.fields.reduce((map, obj) => {\n      map[obj.field_name] = \"\";\n      return map;\n    }, {});\n    this.setState({ isLoading: false });\n  };\n\n  handleSubmit = async () => {\n    this.setState({ isLoading: true });\n    let { layout, fields } = this.state;\n    layout.lg.forEach((e) => {\n      let { w, h, x, y } = e;\n      fields.find((e2) => e2.id == e.i).layout.lg = { w, h, x, y };\n    });\n    layout.md.forEach((e) => {\n      let { w, h, x, y } = e;\n      fields.find((e2) => e2.id == e.i).layout.md = { w, h, x, y };\n    });\n    layout.sm.forEach((e) => {\n      let { w, h, x, y } = e;\n      fields.find((e2) => e2.id == e.i).layout.sm = { w, h, x, y };\n    });\n    try {\n      await this.props.updateCustomerPlusSettings({\n        customerControlList: fields,\n      });\n    } catch (e) {\n      console.log(e);\n    }\n    this.loadData();\n  };\n\n  renderLayout = () => {\n    let { t } = this.props;\n    let filtered = this.state.fields;\n    const renderFormData = (e, index) => {\n      return (\n        <div key={index}>\n          <div className=\"input-group\">\n            {e.data_type == \"text\" ? (\n              <NormalInput\n                placeholder={e.field_name}\n                name={e.field_name}\n                disabled={true}\n              />\n            ) : e.data_type == \"date\" ? (\n              <NormalDateTime disabled={true} />\n            ) : e.data_type == \"datetime\" ? (\n              <NormalDateTime disabled={true} />\n            ) : e.data_type == \"selection\" ? (\n              <NormalSelect\n                placeholder={e.field_name}\n                name={e.field_name}\n                disabled={true}\n              />\n            ) : e.data_type == \"multiSelect\" ? (\n              <NormalMultiSelect\n                placeholder={e.field_name}\n                name={e.field_name}\n                disabled={true}\n              />\n            ) : e.data_type == \"boolean\" ? (\n              <input type=\"checkbox\" name={e.field_name} />\n            ) : e.data_type == \"number\" ? (\n              <NormalInput\n                type=\"number\"\n                placeholder={e.field_name}\n                name={e.field_name}\n                disabled={true}\n              />\n            ) : (\n              t(\"NO FILED RENDER DATA FOUND\")\n            )}\n          </div>\n        </div>\n      );\n    };\n    return filtered.map((e) => {\n      return (\n        <div key={`${e.id}`}>\n          {e.showLabel && (\n            <label className=\"text-left text-black common-label-text fs-17\">\n              {t(e.display_field_name)}\n            </label>\n          )}\n          {renderFormData(e)}\n        </div>\n      );\n    });\n  };\n\n  render() {\n    let { isLoading } = this.state;\n    let { t } = this.props;\n    return (\n      <div className=\"create-customer-section container-fluid\">\n        {/* <p className=\"list-heading pb-4\"> {id ? \"Edit\" : \"Add\"} Customer</p> */}\n        <div className=\"create-customerplus\">\n          <div className=\"col-md-12 mb-4\">\n            <h3 className=\"head-label\">{t(\"Edit Form Layout\")}</h3>\n          </div>\n          <div className=\"customer-detail\">\n            {isLoading ? (\n              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\n                <div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"row d-flex justify-content-end\">\n                  <div className=\"col-md-4 col-sm-12 mb-4\">\n                    <NormalButton\n                      onClick={() => this.handleSubmit()}\n                      label=\"SAVE\"\n                      mainbg={true}\n                      className=\"mr-2 col-12\"\n                    />\n                  </div>\n                </div>\n                <div className=\"form-group mb-4 pb-2 row border\">\n                  <LayoutEditor\n                    fields={this.state.fields}\n                    onChange={(layout) => this.updateState({ layout })}\n                    editable={true}\n                  >\n                    {this.renderLayout()}\n                  </LayoutEditor>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  customerPlusSettings: state.customerPlus.customerPlusSettings,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      getCustomerPlusSettings,\n      updateCustomerPlusSettings,\n    },\n    dispatch\n  );\n};\n\nexport const CustomerPlusEditLayout = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(EditLayoutClass)\n);\n"]},"metadata":{},"sourceType":"module"}