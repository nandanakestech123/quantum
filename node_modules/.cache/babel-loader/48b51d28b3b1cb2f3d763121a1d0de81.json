{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\StaffPlus\\\\ListStaffPlus\\\\index.js\";\nimport React from \"react\";\nimport { NormalButton } from \"component/common\";\nimport { InputSearch, TableWrapper } from \"component/common\";\nimport \"./style.scss\";\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\nimport { getStaffPlus, deleteStaffPlus } from \"redux/actions/staffPlus\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\nimport { Navigation } from \"react-minimal-side-navigation\";\nimport { withTranslation } from \"react-i18next\";\nexport class ListStaffPlusClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"Staff Name\",\n        sortKey: true\n      }, {\n        label: \"Phone\"\n      }, {\n        label: \"Staff ID\",\n        sortKey: true\n      }, {\n        label: \"Specialist\",\n        sortKey: true\n      }, {\n        label: \"Home site\",\n        sortKey: true\n      }, {\n        label: \"Current site\",\n        sortKey: true\n      }, {\n        label: \"\"\n      }],\n      staffList: [],\n      filter: \"\",\n      locationOption: [],\n      levelList: [],\n      jobOption: [],\n      pageMeta: {},\n      selectedMenu: \"/\",\n      active: false,\n      currentIndex: -1,\n      is_loading: false,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleClick = key => {\n      if (!this.state.active) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      this.updateState(prevState => ({\n        active: !prevState.active,\n        currentIndex: key\n      }));\n    };\n\n    this.handleFilterChange = (filterOption = \"\") => {\n      this.state.selectedMenu = filterOption;\n      var splitted = filterOption.split(\"/\");\n      var filter = this.state.filter;\n      console.log(filterOption);\n\n      if (splitted.length == 2) {\n        switch (splitted[1]) {\n          case \"withSecurityAccount\":\n            filter = \"is_login=True\";\n            break;\n\n          case \"withoutSecurityAccount\":\n            filter = \"is_login=False\";\n            break;\n\n          case \"active\":\n            filter = \"emp_isactive=True\";\n            break;\n\n          case \"inactive\":\n            filter = \"emp_isactive=False\";\n            break;\n        }\n      } else if (splitted.length == 3) {\n        switch (splitted[1]) {\n          case \"emp_lvl\":\n            filter = `LEVEL_ItmIDid=${splitted[2]}`;\n            break;\n\n          case \"sitelist\":\n            filter = `Site_Codeid=${splitted[2]}`;\n            break;\n\n          case \"operation\":\n            filter = `EMP_TYPEid=${splitted[2]}`;\n            break;\n        }\n      }\n\n      if (this.state.filter != filter || filter == \"\") {\n        this.state.filter = filter;\n        this.queryHandler({});\n      }\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleClick();\n    };\n\n    this.queryHandler = async data => {\n      var _staffDetails$meta;\n\n      this.updateState({\n        is_loading: true\n      });\n      let {\n        page = 1,\n        limit = 10,\n        search = \"\"\n      } = data;\n      await this.props.getStaffPlus(`?page=${page}&limit=${limit}${this.state.filter == \"\" ? \"\" : `&${this.state.filter}`}${search == \"\" ? \"\" : `&search=${search}`}`);\n      let {\n        staffDetails\n      } = this.props;\n      let {\n        staffList,\n        pageMeta\n      } = this.state;\n      staffList = staffDetails.dataList;\n      pageMeta = (_staffDetails$meta = staffDetails.meta) === null || _staffDetails$meta === void 0 ? void 0 : _staffDetails$meta.pagination;\n      this.updateState({\n        staffList,\n        pageMeta,\n        is_loading: false\n      });\n    };\n\n    this.handlePagination = page => {\n      this.queryHandler(page);\n    };\n\n    this.handlesearch = event => {\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          let data = {\n            search: searchString\n          };\n          this.queryHandler(data);\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.getDatafromStore = async type => {\n      let {\n        jobtitleList\n      } = this.props;\n      let {\n        jobOption\n      } = this.state;\n\n      if (type === \"jobtitle\") {\n        for (let key of jobtitleList) {\n          jobOption.push({\n            title: key.level_desc,\n            itemId: \"/operation/\" + key.id\n          });\n        }\n      }\n\n      await this.updateState({\n        jobOption\n      });\n    };\n\n    this.handleDeleteStaff = id => {\n      this.props.deleteStaffPlus(`${id}/`).then(res => this.queryHandler({}));\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    const queryParams = new URLSearchParams(window.location.search);\n    const filter = queryParams.get(\"filter\");\n\n    if (filter) {\n      this.state.selectedMenu = \"/\" + filter;\n      this.handleFilterChange(this.state.selectedMenu);\n      this.updateState({});\n    } else this.queryHandler({});\n  }\n\n  componentWillMount() {\n    this.props.getCommonApi(\"branchlist/\").then(res => {\n      let {\n        locationOption\n      } = this.state;\n\n      for (let key of res.data) {\n        locationOption.push({\n          title: key.itemsite_desc,\n          itemId: \"/sitelist/\" + key.id\n        });\n      }\n\n      this.updateState({\n        locationOption\n      });\n    }); // level option api\n\n    this.props.getCommonApi(\"securities/\").then(res => {\n      let {\n        levelList\n      } = this.state;\n\n      for (let key of res.data) {\n        levelList.push({\n          itemId: \"/emp_lvl/\" + key.id,\n          title: key.level_name\n        });\n      }\n\n      this.updateState({\n        levelList\n      });\n    }); // jobtitle option api\n\n    this.props.getJobtitle().then(() => {\n      this.getDatafromStore(\"jobtitle\");\n    });\n  } // popup open/close\n\n\n  render() {\n    let {\n      headerDetails,\n      pageMeta,\n      currentIndex,\n      locationOption,\n      levelList,\n      jobOption,\n      staffList,\n      is_loading,\n      selectedMenu\n    } = this.state;\n    let {\n      t\n    } = this.props;\n    headerDetails = headerDetails.map(e => {\n      return { ...e,\n        label: t(e.label)\n      };\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/schedule\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: t(\"Schedule\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/authorization\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: t(\"Authorization\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-lg-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/staffplus/skills\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      normal: true,\n      className: \"col-12 fs-15 float-right\",\n      label: t(\"Skill Listing\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-lg-3 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, t(\"Filters\"))), is_loading ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, t(\"Loading...\")))) : /*#__PURE__*/React.createElement(Navigation, {\n      activeItemId: selectedMenu,\n      onSelect: ({\n        itemId\n      }) => this.handleFilterChange(itemId),\n      items: [{\n        title: t(\"Show All\"),\n        itemId: \"/\"\n      }, {\n        title: t(\"Show Active\"),\n        itemId: \"/active\"\n      }, {\n        title: t(\"Show Inactive\"),\n        itemId: \"/inactive\"\n      }, {\n        title: t(\"By Emp Level\"),\n        itemId: \"/emplvl\",\n        subNav: levelList\n      }, {\n        title: t(\"With Security Account\"),\n        itemId: \"/withSecurityAccount\"\n      }, {\n        title: t(\"Without Security Account\"),\n        itemId: \"/withoutSecurityAccount\"\n      }, {\n        title: t(\"By Site List\"),\n        itemId: \"/sitelist\",\n        subNav: locationOption\n      }, {\n        title: t(\"By Operation\"),\n        itemId: \"/operation\",\n        subNav: jobOption\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"staffList-container col-xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }\n    }, t(\"List of Staffs\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputSearch, {\n      className: \"\",\n      placeholder: t(\"Search Staff\"),\n      onChange: this.handlesearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 col-4 ml-1 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 float-right\",\n      label: t(\"Add Staff\"),\n      onClick: () => this.props.history.push(\"/admin/staffplus/add\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-table-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination,\n      pageMeta: pageMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 19\n      }\n    }, is_loading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex mt-5 align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 31\n      }\n    }, t(\"Loading...\")))))) : staffList.length > 0 ? staffList.map(({\n      id,\n      emp_name,\n      emp_phone1,\n      emp_code,\n      services,\n      site_code,\n      defaultsitecode,\n      status\n    }, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative status-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: `${status === \"available\" ? \"available\" : \"not-available\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 33\n        }\n      }, emp_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 33\n        }\n      }, emp_phone1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 33\n        }\n      }, emp_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 33\n        }\n      }, services ? services[0] : \"\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 33\n        }\n      }, defaultsitecode)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 33\n        }\n      }, site_code)), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative\",\n        ref: node => {\n          this.node = node;\n        },\n        onClick: () => this.handleClick(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 31\n        }\n      }, currentIndex === index ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more-active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 39\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pt-3\",\n        onClick: () => this.props.history.push(`/admin/staffplus/${id}/staffDetails`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-eye-grey px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 41\n        }\n      }), t(\"View\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14\",\n        onClick: () => this.props.history.push(`/admin/staffplus/${id}/editStaff`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-edit px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 41\n        }\n      }), t(\"Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center fs-14 pb-3\",\n        onClick: () => this.handleDeleteStaff(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon-delete px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 41\n        }\n      }), t(\"Delete\")))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center horizontal-more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-more text-grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 37\n        }\n      }))));\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"palette\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 23\n      }\n    }, t(\"Available today\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color not-available\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 23\n      }\n    }, t(\"Unavailable today\"))))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  jobtitleList: state.common.jobtitleList,\n  staffDetails: state.staffPlus.staffPlusDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getStaffPlus,\n    deleteStaffPlus,\n    getJobtitle,\n    getCommonApi\n  }, dispatch);\n};\n\nexport const ListStaffPlus = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(ListStaffPlusClass));","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/StaffPlus/ListStaffPlus/index.js"],"names":["React","NormalButton","InputSearch","TableWrapper","getJobtitle","getCommonApi","getStaffPlus","deleteStaffPlus","connect","bindActionCreators","_","Link","Navigation","withTranslation","ListStaffPlusClass","Component","state","headerDetails","label","sortKey","staffList","filter","locationOption","levelList","jobOption","pageMeta","selectedMenu","active","currentIndex","is_loading","isMounted","updateState","data","setState","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","prevState","handleFilterChange","filterOption","splitted","split","console","log","length","queryHandler","e","node","contains","target","page","limit","search","props","staffDetails","dataList","meta","pagination","handlePagination","handlesearch","event","persist","debouncedFn","debounce","searchString","value","getDatafromStore","type","jobtitleList","push","title","level_desc","itemId","id","handleDeleteStaff","then","res","componentWillUnmount","componentDidMount","queryParams","URLSearchParams","window","location","get","componentWillMount","itemsite_desc","level_name","render","t","map","subNav","history","emp_name","emp_phone1","emp_code","services","site_code","defaultsitecode","status","index","mapStateToProps","common","staffPlus","staffPlusDetail","mapDispatchToProps","dispatch","ListStaffPlus"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { NormalButton } from \"component/common\";\r\nimport { InputSearch, TableWrapper } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { getJobtitle, getCommonApi } from \"redux/actions/common\";\r\nimport { getStaffPlus, deleteStaffPlus } from \"redux/actions/staffPlus\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from \"lodash\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navigation } from \"react-minimal-side-navigation\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class ListStaffPlusClass extends React.Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"Staff Name\", sortKey: true },\r\n      { label: \"Phone\" },\r\n      { label: \"Staff ID\", sortKey: true },\r\n      { label: \"Specialist\", sortKey: true },\r\n      { label: \"Home site\", sortKey: true },\r\n      { label: \"Current site\", sortKey: true },\r\n      { label: \"\" },\r\n    ],\r\n    staffList: [],\r\n    filter: \"\",\r\n    locationOption: [],\r\n    levelList: [],\r\n    jobOption: [],\r\n    pageMeta: {},\r\n    selectedMenu: \"/\",\r\n    active: false,\r\n    currentIndex: -1,\r\n    is_loading: false,\r\n    isMounted: true,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = data => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  componentDidMount() {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const filter = queryParams.get(\"filter\");\r\n    if (filter) {\r\n      this.state.selectedMenu = \"/\" + filter;\r\n      this.handleFilterChange(this.state.selectedMenu);\r\n      this.updateState({});\r\n    } else this.queryHandler({});\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.getCommonApi(\"branchlist/\").then(res => {\r\n      let { locationOption } = this.state;\r\n      for (let key of res.data) {\r\n        locationOption.push({\r\n          title: key.itemsite_desc,\r\n          itemId: \"/sitelist/\" + key.id,\r\n        });\r\n      }\r\n      this.updateState({ locationOption });\r\n    });\r\n\r\n    // level option api\r\n    this.props.getCommonApi(\"securities/\").then(res => {\r\n      let { levelList } = this.state;\r\n      for (let key of res.data) {\r\n        levelList.push({ itemId: \"/emp_lvl/\" + key.id, title: key.level_name });\r\n      }\r\n      this.updateState({ levelList });\r\n    });\r\n\r\n    // jobtitle option api\r\n    this.props.getJobtitle().then(() => {\r\n      this.getDatafromStore(\"jobtitle\");\r\n    });\r\n  }\r\n\r\n  // popup open/close\r\n  handleClick = key => {\r\n    if (!this.state.active) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.updateState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key,\r\n    }));\r\n  };\r\n\r\n  handleFilterChange = (filterOption = \"\") => {\r\n    this.state.selectedMenu = filterOption;\r\n    var splitted = filterOption.split(\"/\");\r\n    var filter = this.state.filter;\r\n    console.log(filterOption);\r\n    if (splitted.length == 2) {\r\n      switch (splitted[1]) {\r\n        case \"withSecurityAccount\":\r\n          filter = \"is_login=True\";\r\n          break;\r\n        case \"withoutSecurityAccount\":\r\n          filter = \"is_login=False\";\r\n          break;\r\n        case \"active\":\r\n          filter = \"emp_isactive=True\";\r\n          break;\r\n        case \"inactive\":\r\n          filter = \"emp_isactive=False\";\r\n          break;\r\n      }\r\n    } else if (splitted.length == 3) {\r\n      switch (splitted[1]) {\r\n        case \"emp_lvl\":\r\n          filter = `LEVEL_ItmIDid=${splitted[2]}`;\r\n          break;\r\n        case \"sitelist\":\r\n          filter = `Site_Codeid=${splitted[2]}`;\r\n          break;\r\n        case \"operation\":\r\n          filter = `EMP_TYPEid=${splitted[2]}`;\r\n          break;\r\n      }\r\n    }\r\n    if (this.state.filter != filter || filter == \"\") {\r\n      this.state.filter = filter;\r\n      this.queryHandler({});\r\n    }\r\n  };\r\n\r\n  // while clicking popup close at outside click\r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  };\r\n\r\n  // api call for staff\r\n  queryHandler = async data => {\r\n    this.updateState({ is_loading: true });\r\n    let { page = 1, limit = 10, search = \"\" } = data;\r\n    await this.props.getStaffPlus(\r\n      `?page=${page}&limit=${limit}${\r\n        this.state.filter == \"\" ? \"\" : `&${this.state.filter}`\r\n      }${search == \"\" ? \"\" : `&search=${search}`}`\r\n    );\r\n    let { staffDetails } = this.props;\r\n    let { staffList, pageMeta } = this.state;\r\n    staffList = staffDetails.dataList;\r\n    pageMeta = staffDetails.meta?.pagination;\r\n    this.updateState({\r\n      staffList,\r\n      pageMeta,\r\n      is_loading: false,\r\n    });\r\n  };\r\n\r\n  // pagination\r\n  handlePagination = page => {\r\n    this.queryHandler(page);\r\n  };\r\n\r\n  // seach change with api call\r\n  handlesearch = event => {\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString };\r\n        this.queryHandler(data);\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  getDatafromStore = async type => {\r\n    let { jobtitleList } = this.props;\r\n    let { jobOption } = this.state;\r\n    if (type === \"jobtitle\") {\r\n      for (let key of jobtitleList) {\r\n        jobOption.push({\r\n          title: key.level_desc,\r\n          itemId: \"/operation/\" + key.id,\r\n        });\r\n      }\r\n    }\r\n    await this.updateState({\r\n      jobOption,\r\n    });\r\n  };\r\n\r\n  // delete api call for staff\r\n  handleDeleteStaff = id => {\r\n    this.props.deleteStaffPlus(`${id}/`).then(res => this.queryHandler({}));\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      headerDetails,\r\n      pageMeta,\r\n      currentIndex,\r\n      locationOption,\r\n      levelList,\r\n      jobOption,\r\n      staffList,\r\n      is_loading,\r\n      selectedMenu,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n\r\n    headerDetails = headerDetails.map(e => {\r\n      return { ...e, label: t(e.label) };\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-md-4 col-lg-2 mb-2\">\r\n            <Link to=\"/admin/staffplus/schedule\">\r\n              <NormalButton\r\n                normal={true}\r\n                className=\"col-12 fs-15 float-right\"\r\n                label={t(\"Schedule\")}\r\n              />\r\n            </Link>\r\n          </div>\r\n          <div className=\"col-md-4 col-lg-2 mb-2\">\r\n            <Link to=\"/admin/staffplus/authorization\">\r\n              <NormalButton\r\n                normal={true}\r\n                className=\"col-12 fs-15 float-right\"\r\n                label={t(\"Authorization\")}\r\n              />\r\n            </Link>\r\n          </div>\r\n          <div className=\"col-md-4 col-lg-2 mb-2\">\r\n            <Link to=\"/admin/staffplus/skills\">\r\n              <NormalButton\r\n                normal={true}\r\n                className=\"col-12 fs-15 float-right\"\r\n                label={t(\"Skill Listing\")}\r\n              />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 col-lg-3 mb-4\">\r\n            <div className=\"col-md-4 p-0\">\r\n              <h4>{t(\"Filters\")}</h4>\r\n            </div>\r\n            {is_loading ? (\r\n              <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                  <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <Navigation\r\n                activeItemId={selectedMenu}\r\n                onSelect={({ itemId }) => this.handleFilterChange(itemId)}\r\n                items={[\r\n                  {\r\n                    title: t(\"Show All\"),\r\n                    itemId: \"/\",\r\n                  },\r\n                  {\r\n                    title: t(\"Show Active\"),\r\n                    itemId: \"/active\",\r\n                  },\r\n                  {\r\n                    title: t(\"Show Inactive\"),\r\n                    itemId: \"/inactive\",\r\n                  },\r\n                  {\r\n                    title: t(\"By Emp Level\"),\r\n                    itemId: \"/emplvl\",\r\n                    subNav: levelList,\r\n                  },\r\n                  {\r\n                    title: t(\"With Security Account\"),\r\n                    itemId: \"/withSecurityAccount\",\r\n                  },\r\n                  {\r\n                    title: t(\"Without Security Account\"),\r\n                    itemId: \"/withoutSecurityAccount\",\r\n                  },\r\n                  {\r\n                    title: t(\"By Site List\"),\r\n                    itemId: \"/sitelist\",\r\n                    subNav: locationOption,\r\n                  },\r\n                  {\r\n                    title: t(\"By Operation\"),\r\n                    itemId: \"/operation\",\r\n                    subNav: jobOption,\r\n                  },\r\n                ]}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"staffList-container col-xl\">\r\n            <div className=\"row align-items-center\">\r\n              <div className=\"col-md-4\">\r\n                <h3>{t(\"List of Staffs\")}</h3>\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div className=\"w-100 col-8\">\r\n                    <InputSearch\r\n                      className=\"\"\r\n                      placeholder={t(\"Search Staff\")}\r\n                      onChange={this.handlesearch}\r\n                    />\r\n                  </div>\r\n                  <div className=\"w-100 col-4 ml-1 p-0\">\r\n                    <NormalButton\r\n                      mainbg={true}\r\n                      className=\"col-12 fs-15 float-right\"\r\n                      label={t(\"Add Staff\")}\r\n                      onClick={() =>\r\n                        this.props.history.push(\"/admin/staffplus/add\")\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"tab-table-content\">\r\n              <div className=\"py-4\">\r\n                <div className=\"table-container\">\r\n                  <TableWrapper\r\n                    headerDetails={headerDetails}\r\n                    queryHandler={this.handlePagination}\r\n                    pageMeta={pageMeta}\r\n                  >\r\n                    {is_loading ? (\r\n                      <tr>\r\n                        <td colSpan=\"7\">\r\n                          <div class=\"d-flex mt-5 align-items-center justify-content-center\">\r\n                            <div class=\"spinner-border\" role=\"status\">\r\n                              <span class=\"sr-only\">{t(\"Loading...\")}</span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ) : staffList.length > 0 ? (\r\n                      staffList.map(\r\n                        (\r\n                          {\r\n                            id,\r\n                            emp_name,\r\n                            emp_phone1,\r\n                            emp_code,\r\n                            services,\r\n                            site_code,\r\n                            defaultsitecode,\r\n                            status,\r\n                          },\r\n                          index\r\n                        ) => {\r\n                          return (\r\n                            <tr key={index}>\r\n                              <td className=\"position-relative status-type\">\r\n                                <span\r\n                                  className={`${\r\n                                    status === \"available\"\r\n                                      ? \"available\"\r\n                                      : \"not-available\"\r\n                                  }`}\r\n                                ></span>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {emp_name}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {emp_phone1}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {emp_code}\r\n                                </div>\r\n                              </td>\r\n                              {/* <td><div className=\"d-flex align-items-center justify-content-center\"></div></td> */}\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {services ? services[0] : \"\"}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {defaultsitecode}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  {site_code}\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className=\"position-relative\"\r\n                                ref={node => {\r\n                                  this.node = node;\r\n                                }}\r\n                                onClick={() => this.handleClick(index)}\r\n                              >\r\n                                {currentIndex === index ? (\r\n                                  <>\r\n                                    <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\r\n                                      <i className=\"icon-more\"></i>\r\n                                    </div>\r\n                                    <div className=\"option card\">\r\n                                      <div\r\n                                        className=\"d-flex align-items-center fs-14 pt-3\"\r\n                                        onClick={() =>\r\n                                          this.props.history.push(\r\n                                            `/admin/staffplus/${id}/staffDetails`\r\n                                          )\r\n                                        }\r\n                                      >\r\n                                        <span className=\"icon-eye-grey px-3\"></span>\r\n                                        {t(\"View\")}\r\n                                      </div>\r\n                                      <div\r\n                                        className=\"d-flex align-items-center fs-14\"\r\n                                        onClick={() =>\r\n                                          this.props.history.push(\r\n                                            `/admin/staffplus/${id}/editStaff`\r\n                                          )\r\n                                        }\r\n                                      >\r\n                                        <span className=\"icon-edit px-3\"></span>\r\n                                        {t(\"Edit\")}\r\n                                      </div>\r\n                                      <div\r\n                                        className=\"d-flex align-items-center fs-14 pb-3\"\r\n                                        onClick={() =>\r\n                                          this.handleDeleteStaff(id)\r\n                                        }\r\n                                      >\r\n                                        <span className=\"icon-delete px-3\"></span>\r\n                                        {t(\"Delete\")}\r\n                                      </div>\r\n                                    </div>\r\n                                  </>\r\n                                ) : (\r\n                                  <div className=\"d-flex align-items-center justify-content-center horizontal-more\">\r\n                                    <i className=\"icon-more text-grey\"></i>\r\n                                  </div>\r\n                                )}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        }\r\n                      )\r\n                    ) : null}\r\n                  </TableWrapper>\r\n                  <div className=\"palette\">\r\n                    <div className=\"color-detail\">\r\n                      <div className=\"color\"></div>\r\n                      <div className=\"detail\">{t(\"Available today\")}</div>\r\n                    </div>\r\n                    <div className=\"color-detail\">\r\n                      <div className=\"color not-available\"></div>\r\n                      <div className=\"detail\">{t(\"Unavailable today\")}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  jobtitleList: state.common.jobtitleList,\r\n  staffDetails: state.staffPlus.staffPlusDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getStaffPlus,\r\n      deleteStaffPlus,\r\n      getJobtitle,\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const ListStaffPlus = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(ListStaffPlusClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}