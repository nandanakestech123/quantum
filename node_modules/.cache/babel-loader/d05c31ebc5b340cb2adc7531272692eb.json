{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{NormalButton,NormalSelect}from'component/common';import'./style.scss';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import{history}from'helpers';import{getCommonApi,commonCreateApi}from'redux/actions/common';// import logo from 'assets/images/logo.png'\nexport var CustomerReceiptClass=/*#__PURE__*/function(_Component){_inherits(CustomerReceiptClass,_Component);var _super=_createSuper(CustomerReceiptClass);function CustomerReceiptClass(){var _this;_classCallCheck(this,CustomerReceiptClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={responseData:{},downloadlLink:\"\"};_this.handlePrint=function(){_this.props.getCommonApi(\"receiptpdf/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({downloadlLink:res.data});});};_this.handleShare=function(){_this.props.commonCreateApi(\"receiptpdfsend/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({responseData:res});});};_this.handleSendSMS=function(){_this.props.commonCreateApi(\"receiptpdfsendsms/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({responseData:res});});};return _this;}_createClass(CustomerReceiptClass,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.getCommonApi(\"customerreceiptprint/?sa_transacno=\".concat(this.props.match.params.id)).then(function(res){_this2.setState({responseData:res});});this.handlePrint();}// for get Print response\n},{key:\"render\",value:function render(){var _this$state=this.state,_this$state$responseD=_this$state.responseData,responseData=_this$state$responseD===void 0?{}:_this$state$responseD,downloadlLink=_this$state.downloadlLink;var _responseData$hdr_dat=responseData.hdr_data,hdr_data=_responseData$hdr_dat===void 0?[]:_responseData$hdr_dat,_responseData$dtl_dat=responseData.dtl_data,dtl_data=_responseData$dtl_dat===void 0?[]:_responseData$dtl_dat,_responseData$sub_dat=responseData.sub_data,sub_data=_responseData$sub_dat===void 0?{}:_responseData$sub_dat,_responseData$taud_da=responseData.taud_data,taud_data=_responseData$taud_da===void 0?[]:_responseData$taud_da,_responseData$footer=responseData.footer,footer=_responseData$footer===void 0?{}:_responseData$footer,_responseData$company=responseData.company_hdr,company_hdr=_responseData$company===void 0?{}:_responseData$company,_responseData$taud_su=responseData.taud_sub,taud_sub=_responseData$taud_su===void 0?{}:_responseData$taud_su;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"print-section container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"print-bill\"},/*#__PURE__*/React.createElement(\"div\",{className:\"receipt card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"img\",{src:company_hdr?company_hdr.logo:\"\",alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"bill-head\"},company_hdr?company_hdr.name:\"\"),/*#__PURE__*/React.createElement(\"p\",{className:\"receipt-detail\"},company_hdr?company_hdr.address:\"\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"bill-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 f-600\"},\"Code:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_custno:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Name:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_custname:\"\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Trans:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.trans:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Date:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_date:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Time:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_time:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Issued\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.issued:\"\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"bill-detail mt-4 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 table-header  f-600\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"No.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-left\"},\"Description\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},\"Net price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"Paid\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},\"Balance\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},\"Sold/Service By\")),dtl_data.length>0?dtl_data.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},index+1),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-left\"},item.dt_itemdesc),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},item.dt_qty),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},item.dt_transacamt),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},item.dt_deposit),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},item.balance),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},item.staffs));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row table-header sub-total m-0 fs-14 f-600 mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},sub_data.tot_qty),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},sub_data.tot_net),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},sub_data.tot_paid),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},sub_data.tot_bal))),/*#__PURE__*/React.createElement(\"div\",{className:\"payment-detail my-4 fs-14 f-600 mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"No\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Type\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Amount\")),taud_data.length>0?taud_data.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},item.pay_rem1),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},item.pay_type_name),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"$ \",item.pay_amt));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 fs-11\"},taud_sub.gst_label),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Total\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},taud_sub.total))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Sub Total :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},sub_data.sub_total)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"GST :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},taud_sub.gst)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Rounding :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},taud_sub.rounding)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Grand Total :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},taud_sub.grand_tot))))),/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-footer mt-5\"},/*#__PURE__*/React.createElement(\"p\",{className:\"\"},\"Remark: \",footer.remark),footer.footer1?/*#__PURE__*/React.createElement(\"p\",null,\"1. \",footer.footer1):\"\",footer.footer2?/*#__PURE__*/React.createElement(\"p\",null,\"2. \",footer.footer2):\"\",footer.footer3?/*#__PURE__*/React.createElement(\"p\",null,\"3. \",footer.footer3):\"\",footer.footer4?/*#__PURE__*/React.createElement(\"p\",null,\"4. \",footer.footer4):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"customer-signature  f-600\"},\"Customer Signature\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex text-center action-buttons\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mr-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return window.open(downloadlLink);},label:\"Print\",success:true,className:\"print\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleShare,label:\"Share\",className:\"share\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleSendSMS,label:\"Send SMS\",className:\"share\"}))))));}}]);return CustomerReceiptClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{appointmentDetail:state.appointment.appointmentDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var CustomerReceipt=connect(mapStateToProps,mapDispatchToProps)(CustomerReceiptClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Billing/CustomerReceipt.js"],"names":["React","Component","NormalButton","NormalSelect","connect","bindActionCreators","history","getCommonApi","commonCreateApi","CustomerReceiptClass","state","responseData","downloadlLink","handlePrint","props","match","params","id","then","res","setState","data","handleShare","handleSendSMS","hdr_data","dtl_data","sub_data","taud_data","footer","company_hdr","taud_sub","logo","name","address","sa_custno","sa_custname","trans","sa_date","sa_time","issued","length","map","item","index","dt_itemdesc","dt_qty","dt_transacamt","dt_deposit","balance","staffs","tot_qty","tot_net","tot_paid","tot_bal","pay_rem1","pay_type_name","pay_amt","gst_label","total","sub_total","gst","rounding","grand_tot","remark","footer1","footer2","footer3","footer4","window","open","mapStateToProps","appointmentDetail","appointment","mapDispatchToProps","dispatch","CustomerReceipt"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { NormalButton, NormalSelect } from 'component/common';\r\nimport './style.scss'\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from 'helpers';\r\nimport { getCommonApi, commonCreateApi } from 'redux/actions/common';\r\n// import logo from 'assets/images/logo.png'\r\n\r\nexport class CustomerReceiptClass extends Component {\r\n    state = {\r\n        responseData: {},\r\n        downloadlLink: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getCommonApi(`customerreceiptprint/?sa_transacno=${this.props.match.params.id}`).then((res) => {\r\n            this.setState({ responseData: res })\r\n        })\r\n        this.handlePrint()\r\n    }\r\n\r\n    // for get Print response\r\n    handlePrint = () => {\r\n        this.props.getCommonApi(`receiptpdf/?sa_transacno=${this.props.match.params.id}`).then((res) => {\r\n            this.setState({ downloadlLink: res.data })\r\n        })\r\n    }\r\n\r\n    // for share reciept\r\n    handleShare = () => {\r\n        this.props.commonCreateApi(`receiptpdfsend/?sa_transacno=${this.props.match.params.id}`).then((res) => {\r\n            this.setState({ responseData: res })\r\n        })\r\n    }\r\n\r\n    // for send sms reciept\r\n    handleSendSMS = () => {\r\n        this.props.commonCreateApi(`receiptpdfsendsms/?sa_transacno=${this.props.match.params.id}`).then((res) => {\r\n            this.setState({ responseData: res })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { responseData = {}, downloadlLink } = this.state\r\n        let { hdr_data = [], dtl_data = [], sub_data = {}, taud_data = [], footer = {}, company_hdr = {}, taud_sub = {} } = responseData;\r\n        return (\r\n            <>\r\n                <div className=\"print-section container\">\r\n                    <div className=\"print-bill\">\r\n                        <div className=\"receipt card\">\r\n\r\n                            <div className=\"logo-header\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-10\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3\">\r\n                                                <img src={company_hdr ? company_hdr.logo : \"\"} alt=\"\"></img>\r\n                                            </div>\r\n                                            <div className=\"col-9\">\r\n                                                <h3 className=\"bill-head\">{company_hdr ? company_hdr.name : \"\"}</h3>\r\n                                                <p className=\"receipt-detail\">{company_hdr ? company_hdr.address : \"\"}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"bill-header\">\r\n                                <div className=\"row \">\r\n                                    <div className=\"col-6\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3 f-600\">Code:</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.sa_custno : \"\"}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3  f-600\">Name:</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.sa_custname : \"\"}</div>\r\n                                        </div>\r\n                                        {/* <div className=\"row\">\r\n                                            <div className=\"col-3  f-600\">Member:</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.member : \"\"}</div>\r\n                                        </div> */}\r\n                                    </div>\r\n                                    <div className=\"col-6\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3  f-600\">Trans:</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.trans : \"\"}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3  f-600\">Date:</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.sa_date : \"\"}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3  f-600\">Time:</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.sa_time : \"\"}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3  f-600\">Issued</div>\r\n                                            <div className=\"col-9\">: {hdr_data ? hdr_data.issued : \"\"}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"bill-detail mt-4 py-1\">\r\n                                <div className=\"row m-0 table-header  f-600\">\r\n                                    <div className=\"col-1\">No.</div>\r\n                                    <div className=\"col-3 text-left\">Description</div>\r\n                                    <div className=\"col-1\">Qty</div>\r\n                                    <div className=\"col-2\">Net price</div>\r\n                                    <div className=\"col-1\">Paid</div>\r\n                                    <div className=\"col-2\">Balance</div>\r\n                                    <div className=\"col-2\">Sold/Service By</div>\r\n                                </div>\r\n                                {\r\n                                    dtl_data.length > 0 ? dtl_data.map((item, index) => {\r\n                                        return (\r\n                                            <div className=\"row m-0 mt-2\">\r\n                                                <div className=\"col-1\">{index+1}</div>\r\n                                                <div className=\"col-3 text-left\">{item.dt_itemdesc}</div>\r\n                                                <div className=\"col-1\">{item.dt_qty}</div>\r\n                                                <div className=\"col-2\">{item.dt_transacamt}</div>\r\n                                                <div className=\"col-1\">{item.dt_deposit}</div>\r\n                                                <div className=\"col-2\">{item.balance}</div>\r\n                                                <div className=\"col-2\">{item.staffs}</div>\r\n                                            </div>\r\n                                        )\r\n                                    }) : \"\"\r\n                                }\r\n\r\n                                <div className=\"row table-header sub-total m-0 fs-14 f-600 mt-5\">\r\n                                    {/* <div className=\"col-4 text-right\">{sub_data.sub_total}</div> */}\r\n                                    <div className=\"col-4 text-right\"></div>\r\n                                    <div className=\"col-1\">{sub_data.tot_qty}</div>\r\n                                    <div className=\"col-2\">{sub_data.tot_net}</div>\r\n                                    <div className=\"col-1\">{sub_data.tot_paid}</div>\r\n                                    <div className=\"col-2\">{sub_data.tot_bal}</div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"payment-detail my-4 fs-14 f-600 mb-5\">\r\n                                <div className=\"row m-0\">\r\n                                    <div className=\"col-7\">\r\n                                        <div className=\"row payment-header\">\r\n                                            <div className=\"col-4\">No</div>\r\n                                            <div className=\"col-4\">Type</div>\r\n                                            <div className=\"col-4\">Amount</div>\r\n                                        </div>\r\n                                        {taud_data.length > 0 ? taud_data.map((item, index) => {\r\n                                            return (\r\n                                                <div className=\"row payment-header\">\r\n                                                    <div className=\"col-4\">{item.pay_rem1}</div>\r\n                                                    <div className=\"col-4\">{item.pay_type_name}</div>\r\n                                                    <div className=\"col-4\">$ {item.pay_amt}</div>\r\n                                                </div>\r\n                                            )\r\n                                        }) : \"\"}\r\n                                        <div className=\"row payment-footer\">\r\n                                            <div className=\"col-4 fs-11\">{taud_sub.gst_label}</div>\r\n                                            <div className=\"col-4\">Total</div>\r\n                                            <div className=\"col-4\">{taud_sub.total}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-5 text-right\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">Sub Total :</div>\r\n                                            <div className=\"col-6\">{sub_data.sub_total}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">GST :</div>\r\n                                            <div className=\"col-6\">{taud_sub.gst}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">Rounding :</div>\r\n                                            <div className=\"col-6\">{taud_sub.rounding}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">Grand Total :</div>\r\n                                            <div className=\"col-6\">{taud_sub.grand_tot}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {/* used payment list */}\r\n                            </div>\r\n                            <div className=\"invoice-footer mt-5\">\r\n                                    <p className=\"\">Remark: {footer.remark}</p>\r\n                                \r\n                                {footer.footer1 ? <p>1. {footer.footer1}</p>:\"\"}\r\n                                {footer.footer2 ? <p>2. {footer.footer2}</p>:\"\"}\r\n                                {footer.footer3 ? <p>3. {footer.footer3}</p>:\"\"}\r\n                                {footer.footer4 ? <p>4. {footer.footer4}</p>:\"\"}\r\n                                <div className=\"row m-0\">\r\n                                    <div className=\"col-8\"></div>\r\n                                    <div className=\"col-4\">\r\n                                        <div className=\"customer-signature  f-600\">\r\n                                            Customer Signature\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"pt-5 d-flex text-center action-buttons\">\r\n                            <div className=\"w-100 mr-2\">\r\n                                <NormalButton onClick={() => window.open(downloadlLink)} label=\"Print\" success={true} className=\"print\" />\r\n                            </div>\r\n                            <div className=\"w-100 ml-2\">\r\n                                <NormalButton onClick={this.handleShare} label=\"Share\" className=\"share\" />\r\n                            </div>\r\n                            <div className=\"w-100 ml-2\">\r\n                                <NormalButton onClick={this.handleSendSMS} label=\"Send SMS\" className=\"share\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    appointmentDetail: state.appointment.appointmentDetail,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        getCommonApi,\r\n        commonCreateApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const CustomerReceipt = connect(mapStateToProps, mapDispatchToProps)(CustomerReceiptClass)"]},"metadata":{},"sourceType":"module"}