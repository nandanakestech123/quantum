{"ast":null,"code":"/**\r\n * DevExtreme (viz/components/tracker.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.Tracker = Tracker;\n\nvar _index = require(\"../../events/utils/index\");\n\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\n\nvar _click = require(\"../../events/click\");\n\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar downPointerEventName = _pointer.default.down;\nvar movePointerEventName = _pointer.default.move;\n\nfunction Tracker(parameters) {\n  this._initHandlers(parameters);\n}\n\nTracker.prototype = {\n  constructor: Tracker,\n  _initHandlers: function (parameters) {\n    var document = _dom_adapter.default.getDocument();\n\n    parameters.getCoords = function (e) {\n      var data = (0, _index.eventData)(e);\n\n      var offset = parameters.widget._renderer.getRootOffset();\n\n      return [data.x - offset.left, data.y - offset.top];\n    };\n\n    parameters.root.on(_click.name, clickHandler);\n    parameters.root.on(downPointerEventName, downHandler);\n\n    _events_engine.default.on(document, downPointerEventName, downHandler);\n\n    _events_engine.default.on(document, movePointerEventName, moveHandler);\n\n    this._disposeHandlers = function () {\n      parameters.root.off(_click.name, clickHandler);\n      parameters.root.off(downPointerEventName, downHandler);\n\n      _events_engine.default.off(document, downPointerEventName, downHandler);\n\n      _events_engine.default.off(document, movePointerEventName, moveHandler);\n    };\n\n    function clickHandler(e) {\n      processClick(e, parameters);\n    }\n\n    var isRootDown = false;\n\n    function downHandler(e) {\n      if (isRootDown) {\n        isRootDown = false;\n      } else {\n        if (void 0 !== parameters.getData(e)) {\n          isRootDown = true;\n        }\n\n        moveHandler(e);\n      }\n    }\n\n    function moveHandler(e) {\n      processHover(e, parameters);\n      parameters.widget._getOption(\"tooltip\").enabled && processTooltip(e, parameters);\n    }\n  },\n  dispose: function () {\n    this._disposeHandlers();\n  }\n};\n\nfunction processClick(e, params) {\n  var id = params.getData(e);\n\n  if (id >= 0) {\n    params.click({\n      node: params.getNode(id),\n      coords: params.getCoords(e),\n      event: e\n    });\n  }\n}\n\nfunction processHover(e, params) {\n  var id = params.getData(e);\n\n  if (id >= 0) {\n    params.getNode(id).setHover();\n  } else {\n    params.widget.clearHover();\n  }\n}\n\nfunction processTooltip(e, params) {\n  var id = params.getData(e, true);\n  var coords;\n\n  if (id >= 0) {\n    coords = (0, _index.eventData)(e);\n    params.getNode(id).showTooltip([coords.x, coords.y]);\n  } else {\n    params.widget.hideTooltip();\n  }\n}","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/viz/components/tracker.js"],"names":["exports","Tracker","_index","require","_dom_adapter","_interopRequireDefault","_click","_pointer","_events_engine","obj","__esModule","downPointerEventName","default","down","movePointerEventName","move","parameters","_initHandlers","prototype","constructor","document","getDocument","getCoords","e","data","eventData","offset","widget","_renderer","getRootOffset","x","left","y","top","root","on","name","clickHandler","downHandler","moveHandler","_disposeHandlers","off","processClick","isRootDown","getData","processHover","_getOption","enabled","processTooltip","dispose","params","id","click","node","getNode","coords","event","setHover","clearHover","showTooltip","hideTooltip"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/components/tracker.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.Tracker = Tracker;\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar downPointerEventName = _pointer.default.down;\r\nvar movePointerEventName = _pointer.default.move;\r\n\r\nfunction Tracker(parameters) {\r\n    this._initHandlers(parameters)\r\n}\r\nTracker.prototype = {\r\n    constructor: Tracker,\r\n    _initHandlers: function(parameters) {\r\n        var document = _dom_adapter.default.getDocument();\r\n        parameters.getCoords = function(e) {\r\n            var data = (0, _index.eventData)(e);\r\n            var offset = parameters.widget._renderer.getRootOffset();\r\n            return [data.x - offset.left, data.y - offset.top]\r\n        };\r\n        parameters.root.on(_click.name, clickHandler);\r\n        parameters.root.on(downPointerEventName, downHandler);\r\n        _events_engine.default.on(document, downPointerEventName, downHandler);\r\n        _events_engine.default.on(document, movePointerEventName, moveHandler);\r\n        this._disposeHandlers = function() {\r\n            parameters.root.off(_click.name, clickHandler);\r\n            parameters.root.off(downPointerEventName, downHandler);\r\n            _events_engine.default.off(document, downPointerEventName, downHandler);\r\n            _events_engine.default.off(document, movePointerEventName, moveHandler)\r\n        };\r\n\r\n        function clickHandler(e) {\r\n            processClick(e, parameters)\r\n        }\r\n        var isRootDown = false;\r\n\r\n        function downHandler(e) {\r\n            if (isRootDown) {\r\n                isRootDown = false\r\n            } else {\r\n                if (void 0 !== parameters.getData(e)) {\r\n                    isRootDown = true\r\n                }\r\n                moveHandler(e)\r\n            }\r\n        }\r\n\r\n        function moveHandler(e) {\r\n            processHover(e, parameters);\r\n            parameters.widget._getOption(\"tooltip\").enabled && processTooltip(e, parameters)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._disposeHandlers()\r\n    }\r\n};\r\n\r\nfunction processClick(e, params) {\r\n    var id = params.getData(e);\r\n    if (id >= 0) {\r\n        params.click({\r\n            node: params.getNode(id),\r\n            coords: params.getCoords(e),\r\n            event: e\r\n        })\r\n    }\r\n}\r\n\r\nfunction processHover(e, params) {\r\n    var id = params.getData(e);\r\n    if (id >= 0) {\r\n        params.getNode(id).setHover()\r\n    } else {\r\n        params.widget.clearHover()\r\n    }\r\n}\r\n\r\nfunction processTooltip(e, params) {\r\n    var id = params.getData(e, true);\r\n    var coords;\r\n    if (id >= 0) {\r\n        coords = (0, _index.eventData)(e);\r\n        params.getNode(id).showTooltip([coords.x, coords.y])\r\n    } else {\r\n        params.widget.hideTooltip()\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}