{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.header.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _inflector = require(\"../../core/utils/inflector\");\n\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\n\nvar _uiScheduler = _interopRequireDefault(require(\"./ui.scheduler.publisher_mixin\"));\n\nvar _uiScheduler2 = _interopRequireDefault(require(\"./ui.scheduler.navigator\"));\n\nvar _drop_down_menu = _interopRequireDefault(require(\"../drop_down_menu\"));\n\nvar _tabs = _interopRequireDefault(require(\"../tabs\"));\n\nvar _constants = require(\"../tabs/constants\");\n\nvar _errors = _interopRequireDefault(require(\"../../core/errors\"));\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\nvar VIEW_SWITCHER_CLASS = \"dx-scheduler-view-switcher\";\nvar VIEW_SWITCHER_LABEL_CLASS = \"dx-scheduler-view-switcher-label\";\nvar STEP_MAP = {\n  day: \"day\",\n  week: \"week\",\n  workWeek: \"workWeek\",\n  month: \"month\",\n  timelineDay: \"day\",\n  timelineWeek: \"week\",\n  timelineWorkWeek: \"workWeek\",\n  timelineMonth: \"month\",\n  agenda: \"agenda\"\n};\nvar VIEWS = [\"day\", \"week\", \"workWeek\", \"month\", \"timelineDay\", \"timelineWeek\", \"timelineWorkWeek\", \"timelineMonth\", \"agenda\"];\n\nvar SchedulerHeader = _ui.default.inherit({\n  _getDefaultOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      views: [],\n      isAdaptive: false,\n      intervalCount: 1,\n      currentView: \"day\",\n      firstDayOfWeek: void 0,\n      currentDate: new Date(),\n      min: void 0,\n      max: void 0,\n      useDropDownViewSwitcher: false,\n      _dropDownButtonIcon: \"overlay\"\n    });\n  },\n  _setOptionsByReference: function () {\n    this.callBase();\n    (0, _extend.extend)(this._optionsByReference, {\n      currentView: true\n    });\n  },\n  _optionChanged: function (args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"views\":\n        this._validateViews();\n\n        this._viewSwitcher.option({\n          items: value,\n          selectedItem: this.option(\"currentView\")\n        });\n\n        break;\n\n      case \"customizeDateNavigatorText\":\n        this._navigator.option(args.name, value);\n\n        break;\n\n      case \"currentView\":\n        this._viewSwitcher.option(\"selectedItem\", value);\n\n        this._navigator.option(\"step\", STEP_MAP[this._getCurrentViewType()]);\n\n        this._changeViewSwitcherLabelText();\n\n        break;\n\n      case \"currentDate\":\n        this._navigator.option(\"date\", value);\n\n        break;\n\n      case \"displayedDate\":\n        this._navigator.option(\"displayedDate\", value);\n\n        break;\n\n      case \"min\":\n      case \"max\":\n      case \"firstDayOfWeek\":\n      case \"intervalCount\":\n        this._navigator.option(args.name, value);\n\n        break;\n\n      case \"tabIndex\":\n      case \"focusStateEnabled\":\n        this._viewSwitcher.option(args.name, value);\n\n        this._navigator.option(args.name, value);\n\n        this.callBase(args);\n        break;\n\n      case \"useDropDownViewSwitcher\":\n        this._refreshViewSwitcher();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _init: function () {\n    this.callBase();\n    this.$element().addClass(COMPONENT_CLASS);\n  },\n  _initMarkup: function () {\n    this.callBase();\n\n    this._renderNavigator();\n\n    this._renderViewSwitcher();\n  },\n  _renderNavigator: function () {\n    this._navigator = this._createComponent(\"<div>\", _uiScheduler2.default, {\n      min: this.option(\"min\"),\n      max: this.option(\"max\"),\n      intervalCount: this.option(\"intervalCount\"),\n      date: this.option(\"currentDate\"),\n      step: STEP_MAP[this._getCurrentViewType()],\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      observer: this.option(\"observer\"),\n      customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\"),\n      todayDate: this.option(\"todayDate\")\n    });\n\n    this._navigator.$element().appendTo(this.$element());\n  },\n  _renderViewSwitcher: function () {\n    this._validateViews();\n\n    var $viewSwitcher = (0, _renderer.default)(\"<div>\").addClass(VIEW_SWITCHER_CLASS).appendTo(this.$element());\n    this.option(\"useDropDownViewSwitcher\") ? this._renderViewSwitcherDropDownMenu($viewSwitcher) : this._renderViewSwitcherTabs($viewSwitcher);\n  },\n  _validateViews: function () {\n    var views = this.option(\"views\");\n    (0, _iterator.each)(views, function (_, view) {\n      var isViewIsObject = (0, _type.isObject)(view);\n      var viewType = isViewIsObject && view.type ? view.type : view;\n\n      if ((0, _array.inArray)(viewType, VIEWS) === -1) {\n        _errors.default.log(\"W0008\", viewType);\n      }\n    });\n  },\n  _getCurrentViewType: function () {\n    var currentView = this.option(\"currentView\");\n    return currentView.type || currentView;\n  },\n  _renderViewSwitcherTabs: function ($element) {\n    var that = this;\n    $element.addClass(_constants.TABS_EXPANDED_CLASS);\n    this._viewSwitcher = this._createComponent($element, _tabs.default, {\n      selectionRequired: true,\n      scrollingEnabled: true,\n      onSelectionChanged: this._updateCurrentView.bind(this),\n      items: this.option(\"views\"),\n      itemTemplate: function (item) {\n        return (0, _renderer.default)(\"<span>\").addClass(\"dx-tab-text\").text(that._getItemText(item));\n      },\n      selectedItem: this.option(\"currentView\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\")\n    });\n  },\n  _getItemText: function (item) {\n    return item.name || _message.default.format(\"dxScheduler-switcher\" + (0, _inflector.camelize)(item.type || item, true));\n  },\n  _refreshViewSwitcher: function () {\n    this._viewSwitcher._dispose();\n\n    this._viewSwitcher.$element().remove();\n\n    delete this._viewSwitcher;\n\n    this._removeViewSwitcherLabel();\n\n    this._renderViewSwitcher();\n  },\n  _removeViewSwitcherLabel: function () {\n    if ((0, _type.isDefined)(this._$viewSwitcherLabel)) {\n      this._$viewSwitcherLabel.detach();\n\n      this._$viewSwitcherLabel.remove();\n\n      delete this._$viewSwitcherLabel;\n    }\n  },\n  _renderViewSwitcherDropDownMenu: function ($element) {\n    var that = this;\n    this._$viewSwitcherLabel = (0, _renderer.default)(\"<div>\").addClass(VIEW_SWITCHER_LABEL_CLASS).appendTo(this.$element());\n\n    this._changeViewSwitcherLabelText();\n\n    this._viewSwitcher = this._createComponent($element, _drop_down_menu.default, {\n      onItemClick: this._updateCurrentView.bind(this),\n      buttonIcon: this.option(\"_dropDownButtonIcon\"),\n      items: this.option(\"views\"),\n      selectionMode: this.option(\"isAdaptive\") ? \"single\" : \"none\",\n      selectedItemKeys: [this.option(\"currentView\")],\n      itemTemplate: function (item) {\n        return (0, _renderer.default)(\"<span>\").addClass(\"dx-dropdownmenu-item-text\").text(that._getItemText(item));\n      }\n    });\n  },\n  _changeViewSwitcherLabelText: function () {\n    if (!(0, _type.isDefined)(this._$viewSwitcherLabel)) {\n      return;\n    }\n\n    var currentView = this.option(\"currentView\");\n\n    var currentViewText = this._getItemText(currentView);\n\n    this._$viewSwitcherLabel.text(currentViewText);\n  },\n  _getCurrentViewName: function (currentView) {\n    return (0, _type.isObject)(currentView) ? currentView.name || currentView.type : currentView;\n  },\n  _updateCurrentView: function (e) {\n    var selectedItem = e.itemData || e.component.option(\"selectedItem\");\n\n    var viewName = this._getCurrentViewName(selectedItem);\n\n    this.notifyObserver(\"currentViewUpdated\", viewName);\n  },\n  _renderFocusTarget: _common.noop\n}).include(_uiScheduler.default);\n\n(0, _component_registrator.default)(\"dxSchedulerHeader\", SchedulerHeader);\nvar _default = SchedulerHeader;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/scheduler/ui.scheduler.header.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_type","_common","_extend","_iterator","_array","_inflector","_component_registrator","_ui","_uiScheduler","_uiScheduler2","_drop_down_menu","_tabs","_constants","_errors","_message","obj","__esModule","COMPONENT_CLASS","VIEW_SWITCHER_CLASS","VIEW_SWITCHER_LABEL_CLASS","STEP_MAP","day","week","workWeek","month","timelineDay","timelineWeek","timelineWorkWeek","timelineMonth","agenda","VIEWS","SchedulerHeader","inherit","_getDefaultOptions","extend","callBase","views","isAdaptive","intervalCount","currentView","firstDayOfWeek","currentDate","Date","min","max","useDropDownViewSwitcher","_dropDownButtonIcon","_setOptionsByReference","_optionsByReference","_optionChanged","args","value","name","_validateViews","_viewSwitcher","option","items","selectedItem","_navigator","_getCurrentViewType","_changeViewSwitcherLabelText","_refreshViewSwitcher","_init","$element","addClass","_initMarkup","_renderNavigator","_renderViewSwitcher","_createComponent","date","step","tabIndex","focusStateEnabled","observer","customizeDateNavigatorText","todayDate","appendTo","$viewSwitcher","_renderViewSwitcherDropDownMenu","_renderViewSwitcherTabs","each","_","view","isViewIsObject","isObject","viewType","type","inArray","log","that","TABS_EXPANDED_CLASS","selectionRequired","scrollingEnabled","onSelectionChanged","_updateCurrentView","bind","itemTemplate","item","text","_getItemText","format","camelize","_dispose","remove","_removeViewSwitcherLabel","isDefined","_$viewSwitcherLabel","detach","onItemClick","buttonIcon","selectionMode","selectedItemKeys","currentViewText","_getCurrentViewName","e","itemData","component","viewName","notifyObserver","_renderFocusTarget","noop","include","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.header.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\nvar _uiScheduler = _interopRequireDefault(require(\"./ui.scheduler.publisher_mixin\"));\r\nvar _uiScheduler2 = _interopRequireDefault(require(\"./ui.scheduler.navigator\"));\r\nvar _drop_down_menu = _interopRequireDefault(require(\"../drop_down_menu\"));\r\nvar _tabs = _interopRequireDefault(require(\"../tabs\"));\r\nvar _constants = require(\"../tabs/constants\");\r\nvar _errors = _interopRequireDefault(require(\"../../core/errors\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\r\nvar VIEW_SWITCHER_CLASS = \"dx-scheduler-view-switcher\";\r\nvar VIEW_SWITCHER_LABEL_CLASS = \"dx-scheduler-view-switcher-label\";\r\nvar STEP_MAP = {\r\n    day: \"day\",\r\n    week: \"week\",\r\n    workWeek: \"workWeek\",\r\n    month: \"month\",\r\n    timelineDay: \"day\",\r\n    timelineWeek: \"week\",\r\n    timelineWorkWeek: \"workWeek\",\r\n    timelineMonth: \"month\",\r\n    agenda: \"agenda\"\r\n};\r\nvar VIEWS = [\"day\", \"week\", \"workWeek\", \"month\", \"timelineDay\", \"timelineWeek\", \"timelineWorkWeek\", \"timelineMonth\", \"agenda\"];\r\nvar SchedulerHeader = _ui.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            views: [],\r\n            isAdaptive: false,\r\n            intervalCount: 1,\r\n            currentView: \"day\",\r\n            firstDayOfWeek: void 0,\r\n            currentDate: new Date,\r\n            min: void 0,\r\n            max: void 0,\r\n            useDropDownViewSwitcher: false,\r\n            _dropDownButtonIcon: \"overlay\"\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._optionsByReference, {\r\n            currentView: true\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"views\":\r\n                this._validateViews();\r\n                this._viewSwitcher.option({\r\n                    items: value,\r\n                    selectedItem: this.option(\"currentView\")\r\n                });\r\n                break;\r\n            case \"customizeDateNavigatorText\":\r\n                this._navigator.option(args.name, value);\r\n                break;\r\n            case \"currentView\":\r\n                this._viewSwitcher.option(\"selectedItem\", value);\r\n                this._navigator.option(\"step\", STEP_MAP[this._getCurrentViewType()]);\r\n                this._changeViewSwitcherLabelText();\r\n                break;\r\n            case \"currentDate\":\r\n                this._navigator.option(\"date\", value);\r\n                break;\r\n            case \"displayedDate\":\r\n                this._navigator.option(\"displayedDate\", value);\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n            case \"firstDayOfWeek\":\r\n            case \"intervalCount\":\r\n                this._navigator.option(args.name, value);\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"focusStateEnabled\":\r\n                this._viewSwitcher.option(args.name, value);\r\n                this._navigator.option(args.name, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"useDropDownViewSwitcher\":\r\n                this._refreshViewSwitcher();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(COMPONENT_CLASS)\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderNavigator();\r\n        this._renderViewSwitcher()\r\n    },\r\n    _renderNavigator: function() {\r\n        this._navigator = this._createComponent(\"<div>\", _uiScheduler2.default, {\r\n            min: this.option(\"min\"),\r\n            max: this.option(\"max\"),\r\n            intervalCount: this.option(\"intervalCount\"),\r\n            date: this.option(\"currentDate\"),\r\n            step: STEP_MAP[this._getCurrentViewType()],\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            observer: this.option(\"observer\"),\r\n            customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\"),\r\n            todayDate: this.option(\"todayDate\")\r\n        });\r\n        this._navigator.$element().appendTo(this.$element())\r\n    },\r\n    _renderViewSwitcher: function() {\r\n        this._validateViews();\r\n        var $viewSwitcher = (0, _renderer.default)(\"<div>\").addClass(VIEW_SWITCHER_CLASS).appendTo(this.$element());\r\n        this.option(\"useDropDownViewSwitcher\") ? this._renderViewSwitcherDropDownMenu($viewSwitcher) : this._renderViewSwitcherTabs($viewSwitcher)\r\n    },\r\n    _validateViews: function() {\r\n        var views = this.option(\"views\");\r\n        (0, _iterator.each)(views, function(_, view) {\r\n            var isViewIsObject = (0, _type.isObject)(view);\r\n            var viewType = isViewIsObject && view.type ? view.type : view;\r\n            if ((0, _array.inArray)(viewType, VIEWS) === -1) {\r\n                _errors.default.log(\"W0008\", viewType)\r\n            }\r\n        })\r\n    },\r\n    _getCurrentViewType: function() {\r\n        var currentView = this.option(\"currentView\");\r\n        return currentView.type || currentView\r\n    },\r\n    _renderViewSwitcherTabs: function($element) {\r\n        var that = this;\r\n        $element.addClass(_constants.TABS_EXPANDED_CLASS);\r\n        this._viewSwitcher = this._createComponent($element, _tabs.default, {\r\n            selectionRequired: true,\r\n            scrollingEnabled: true,\r\n            onSelectionChanged: this._updateCurrentView.bind(this),\r\n            items: this.option(\"views\"),\r\n            itemTemplate: function(item) {\r\n                return (0, _renderer.default)(\"<span>\").addClass(\"dx-tab-text\").text(that._getItemText(item))\r\n            },\r\n            selectedItem: this.option(\"currentView\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\")\r\n        })\r\n    },\r\n    _getItemText: function(item) {\r\n        return item.name || _message.default.format(\"dxScheduler-switcher\" + (0, _inflector.camelize)(item.type || item, true))\r\n    },\r\n    _refreshViewSwitcher: function() {\r\n        this._viewSwitcher._dispose();\r\n        this._viewSwitcher.$element().remove();\r\n        delete this._viewSwitcher;\r\n        this._removeViewSwitcherLabel();\r\n        this._renderViewSwitcher()\r\n    },\r\n    _removeViewSwitcherLabel: function() {\r\n        if ((0, _type.isDefined)(this._$viewSwitcherLabel)) {\r\n            this._$viewSwitcherLabel.detach();\r\n            this._$viewSwitcherLabel.remove();\r\n            delete this._$viewSwitcherLabel\r\n        }\r\n    },\r\n    _renderViewSwitcherDropDownMenu: function($element) {\r\n        var that = this;\r\n        this._$viewSwitcherLabel = (0, _renderer.default)(\"<div>\").addClass(VIEW_SWITCHER_LABEL_CLASS).appendTo(this.$element());\r\n        this._changeViewSwitcherLabelText();\r\n        this._viewSwitcher = this._createComponent($element, _drop_down_menu.default, {\r\n            onItemClick: this._updateCurrentView.bind(this),\r\n            buttonIcon: this.option(\"_dropDownButtonIcon\"),\r\n            items: this.option(\"views\"),\r\n            selectionMode: this.option(\"isAdaptive\") ? \"single\" : \"none\",\r\n            selectedItemKeys: [this.option(\"currentView\")],\r\n            itemTemplate: function(item) {\r\n                return (0, _renderer.default)(\"<span>\").addClass(\"dx-dropdownmenu-item-text\").text(that._getItemText(item))\r\n            }\r\n        })\r\n    },\r\n    _changeViewSwitcherLabelText: function() {\r\n        if (!(0, _type.isDefined)(this._$viewSwitcherLabel)) {\r\n            return\r\n        }\r\n        var currentView = this.option(\"currentView\");\r\n        var currentViewText = this._getItemText(currentView);\r\n        this._$viewSwitcherLabel.text(currentViewText)\r\n    },\r\n    _getCurrentViewName: function(currentView) {\r\n        return (0, _type.isObject)(currentView) ? currentView.name || currentView.type : currentView\r\n    },\r\n    _updateCurrentView: function(e) {\r\n        var selectedItem = e.itemData || e.component.option(\"selectedItem\");\r\n        var viewName = this._getCurrentViewName(selectedItem);\r\n        this.notifyObserver(\"currentViewUpdated\", viewName)\r\n    },\r\n    _renderFocusTarget: _common.noop\r\n}).include(_uiScheduler.default);\r\n(0, _component_registrator.default)(\"dxSchedulerHeader\", SchedulerHeader);\r\nvar _default = SchedulerHeader;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}