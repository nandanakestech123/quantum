{"ast":null,"code":"import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalSelect}from\"component/common\";import\"./style.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{history}from\"helpers\";import{getCommonApi,commonCreateApi}from\"redux/actions/common\";// import logo from 'assets/images/logo.png'\nexport var TransactionReceiptClass=/*#__PURE__*/function(_Component){_inherits(TransactionReceiptClass,_Component);var _super=_createSuper(TransactionReceiptClass);function TransactionReceiptClass(){var _this;_classCallCheck(this,TransactionReceiptClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={responseData:{},downloadlLink:\"\"};_this.handlePrint=function(){_this.props.getCommonApi(\"receiptpdf/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({downloadlLink:res.data});});};_this.handleShare=function(){_this.props.commonCreateApi(\"receiptpdfsend/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){_this.setState({responseData:res});});};_this.handleSendSMS=function(){_this.props.commonCreateApi(\"receiptpdfsendsms/?sa_transacno=\".concat(_this.props.match.params.id)).then(function(res){});};return _this;}_createClass(TransactionReceiptClass,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.getCommonApi(\"customerreceiptprint/?sa_transacno=\".concat(this.props.match.params.id)).then(function(res){console.log(\"responseofprint:\",res);_this2.setState({responseData:res});});this.handlePrint();}// for get Print response\n},{key:\"render\",value:function render(){var _this$state=this.state,_this$state$responseD=_this$state.responseData,responseData=_this$state$responseD===void 0?{}:_this$state$responseD,downloadlLink=_this$state.downloadlLink;var _responseData$hdr_dat=responseData.hdr_data,hdr_data=_responseData$hdr_dat===void 0?[]:_responseData$hdr_dat,_responseData$dtl_dat=responseData.dtl_data,dtl_data=_responseData$dtl_dat===void 0?[]:_responseData$dtl_dat,_responseData$sub_dat=responseData.sub_data,sub_data=_responseData$sub_dat===void 0?{}:_responseData$sub_dat,_responseData$taud_da=responseData.taud_data,taud_data=_responseData$taud_da===void 0?[]:_responseData$taud_da,_responseData$footer=responseData.footer,footer=_responseData$footer===void 0?{}:_responseData$footer,_responseData$company=responseData.company_hdr,company_hdr=_responseData$company===void 0?{}:_responseData$company,_responseData$taud_su=responseData.taud_sub,taud_sub=_responseData$taud_su===void 0?{}:_responseData$taud_su;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"print-section container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"print-bill\"},/*#__PURE__*/React.createElement(\"div\",{className:\"receipt card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"img\",{src:company_hdr?company_hdr.logo:\"\",alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"bill-head\"},company_hdr?company_hdr.name:\"\"),/*#__PURE__*/React.createElement(\"p\",{className:\"receipt-detail\"},company_hdr?company_hdr.address:\"\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"bill-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 f-600\"},\"Code\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_custno:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_custname:\"\")),hdr_data&&hdr_data.is_nric?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"NRIC\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.nric:\"\")):null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Cust Refer\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.cust_refer:\"\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Trans\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.trans:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_date:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Time\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.sa_time:\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  f-600\"},\"Issued\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},\": \",hdr_data?hdr_data.issued:\"\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"bill-detail mt-4 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 table-header  f-600\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"No.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-left\"},\"Description\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},\"Net price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"Paid\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},\"Balance\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},\"Sold By\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 pl-1\"},\"Service By\")),dtl_data.length>0?dtl_data.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0 mt-2\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},index+1),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-left\"},item.dt_itemdesc),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},item.dt_qty),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},item.dt_transacamt),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},item.dt_deposit),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},item.balance),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},item.sales_staff),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},item.work_staff));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row table-header sub-total m-0 fs-14 f-600 mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},sub_data.tot_qty),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},sub_data.tot_net),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},sub_data.tot_paid),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},sub_data.tot_bal))),/*#__PURE__*/React.createElement(\"div\",{className:\"payment-detail my-4 fs-14 f-600 mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"No\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Type\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Amount\")),taud_data.length>0?taud_data.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-header\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},item.pay_rem1),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},item.pay_type_name),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"$ \",item.pay_amt));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row payment-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 fs-11\"},taud_sub.gst_label),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"Total\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},taud_sub.total))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Sub Total :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},sub_data.sub_total)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"GST :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},taud_sub.gst)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Rounding :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},taud_sub.rounding)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Grand Total :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},taud_sub.grand_tot))))),/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-footer mt-5\"},/*#__PURE__*/React.createElement(\"p\",{className:\"\"},\"Remark: \",footer.remark),footer.footer1?/*#__PURE__*/React.createElement(\"p\",null,\"1. \",footer.footer1):\"\",footer.footer2?/*#__PURE__*/React.createElement(\"p\",null,\"2. \",footer.footer2):\"\",footer.footer3?/*#__PURE__*/React.createElement(\"p\",null,\"3. \",footer.footer3):\"\",footer.footer4?/*#__PURE__*/React.createElement(\"p\",null,\"4. \",footer.footer4):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"customer-signature  f-600\"},\"Customer Signature\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-5 d-flex text-center action-buttons\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mr-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:function onClick(){return window.open(downloadlLink);},label:\"Print\",success:true,className:\"print\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleShare,label:\"Share\",className:\"share\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-2\"},/*#__PURE__*/React.createElement(NormalButton,{onClick:this.handleSendSMS,label:\"Send SMS\",className:\"share\"}))))));}}]);return TransactionReceiptClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{appointmentDetail:state.appointment.appointmentDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,commonCreateApi:commonCreateApi},dispatch);};export var TransactionReceipt=connect(mapStateToProps,mapDispatchToProps)(TransactionReceiptClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/TransactionHistory/TransactionReceipt.js"],"names":["React","Component","NormalButton","NormalSelect","connect","bindActionCreators","history","getCommonApi","commonCreateApi","TransactionReceiptClass","state","responseData","downloadlLink","handlePrint","props","match","params","id","then","res","setState","data","handleShare","handleSendSMS","console","log","hdr_data","dtl_data","sub_data","taud_data","footer","company_hdr","taud_sub","logo","name","address","sa_custno","sa_custname","is_nric","nric","cust_refer","trans","sa_date","sa_time","issued","length","map","item","index","dt_itemdesc","dt_qty","dt_transacamt","dt_deposit","balance","sales_staff","work_staff","tot_qty","tot_net","tot_paid","tot_bal","pay_rem1","pay_type_name","pay_amt","gst_label","total","sub_total","gst","rounding","grand_tot","remark","footer1","footer2","footer3","footer4","window","open","mapStateToProps","appointmentDetail","appointment","mapDispatchToProps","dispatch","TransactionReceipt"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NormalButton, NormalSelect } from \"component/common\";\r\nimport \"./style.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from \"helpers\";\r\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\r\n// import logo from 'assets/images/logo.png'\r\n\r\nexport class TransactionReceiptClass extends Component {\r\n  state = {\r\n    responseData: {},\r\n    downloadlLink: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props\r\n      .getCommonApi(\r\n        `customerreceiptprint/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        console.log(\"responseofprint:\", res);\r\n        this.setState({ responseData: res });\r\n      });\r\n    this.handlePrint();\r\n  }\r\n\r\n  // for get Print response\r\n  handlePrint = () => {\r\n    this.props\r\n      .getCommonApi(`receiptpdf/?sa_transacno=${this.props.match.params.id}`)\r\n      .then(res => {\r\n        this.setState({ downloadlLink: res.data });\r\n      });\r\n  };\r\n\r\n  // for share reciept\r\n  handleShare = () => {\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsend/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {\r\n        this.setState({ responseData: res });\r\n      });\r\n  };\r\n\r\n  // for send sms reciept\r\n  handleSendSMS = () => {\r\n    this.props\r\n      .commonCreateApi(\r\n        `receiptpdfsendsms/?sa_transacno=${this.props.match.params.id}`\r\n      )\r\n      .then(res => {});\r\n  };\r\n\r\n  render() {\r\n    let { responseData = {}, downloadlLink } = this.state;\r\n    let {\r\n      hdr_data = [],\r\n      dtl_data = [],\r\n      sub_data = {},\r\n      taud_data = [],\r\n      footer = {},\r\n      company_hdr = {},\r\n      taud_sub = {},\r\n    } = responseData;\r\n    return (\r\n      <>\r\n        <div className=\"print-section container\">\r\n          <div className=\"print-bill\">\r\n            <div className=\"receipt card\">\r\n              <div className=\"logo-header\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <div className=\"col-10\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3\">\r\n                        <img\r\n                          src={company_hdr ? company_hdr.logo : \"\"}\r\n                          alt=\"\"\r\n                        ></img>\r\n                      </div>\r\n                      <div className=\"col-9\">\r\n                        <h3 className=\"bill-head\">\r\n                          {company_hdr ? company_hdr.name : \"\"}\r\n                        </h3>\r\n                        <p className=\"receipt-detail\">\r\n                          {company_hdr ? company_hdr.address : \"\"}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-header\">\r\n                <div className=\"row \">\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3 f-600\">Code</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_custno : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Name</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_custname : \"\"}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {hdr_data && hdr_data.is_nric ? (\r\n                      <div className=\"row\">\r\n                        <div className=\"col-3  f-600\">NRIC</div>\r\n                        <div className=\"col-9\">\r\n                          : {hdr_data ? hdr_data.nric : \"\"}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Cust Refer</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.cust_refer : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    {/* <div className=\"row\">\r\n                                        <div className=\"col-3  f-600\">Member:</div>\r\n                                        <div className=\"col-9\">: {hdr_data ? hdr_data.member : \"\"}</div>\r\n                                    </div> */}\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Trans</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.trans : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Date</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_date : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Time</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.sa_time : \"\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-3  f-600\">Issued</div>\r\n                      <div className=\"col-9\">\r\n                        : {hdr_data ? hdr_data.issued : \"\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bill-detail mt-4 py-1\">\r\n                <div className=\"row m-0 table-header  f-600\">\r\n                  <div className=\"col-1\">No.</div>\r\n                  <div className=\"col-3 text-left\">Description</div>\r\n                  <div className=\"col-1\">Qty</div>\r\n                  <div className=\"col-2\">Net price</div>\r\n                  <div className=\"col-1\">Paid</div>\r\n                  <div className=\"col-2\">Balance</div>\r\n                  <div className=\"col-1\">Sold By</div>\r\n                  <div className=\"col-1 pl-1\">Service By</div>\r\n                </div>\r\n                {dtl_data.length > 0\r\n                  ? dtl_data.map((item, index) => {\r\n                      return (\r\n                        <div className=\"row m-0 mt-2\" key={index}>\r\n                          <div className=\"col-1\">{index + 1}</div>\r\n                          <div className=\"col-3 text-left\">\r\n                            {item.dt_itemdesc}\r\n                          </div>\r\n                          <div className=\"col-1\">{item.dt_qty}</div>\r\n                          <div className=\"col-2\">{item.dt_transacamt}</div>\r\n                          <div className=\"col-1\">{item.dt_deposit}</div>\r\n                          <div className=\"col-2\">{item.balance}</div>\r\n                          <div className=\"col-1\">{item.sales_staff}</div>\r\n                          <div className=\"col-1\">{item.work_staff}</div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n\r\n                <div className=\"row table-header sub-total m-0 fs-14 f-600 mt-5\">\r\n                  {/* <div className=\"col-4 text-right\">{sub_data.sub_total}</div> */}\r\n                  <div className=\"col-4 text-right\"></div>\r\n                  <div className=\"col-1\">{sub_data.tot_qty}</div>\r\n                  <div className=\"col-2\">{sub_data.tot_net}</div>\r\n                  <div className=\"col-1\">{sub_data.tot_paid}</div>\r\n                  <div className=\"col-2\">{sub_data.tot_bal}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"payment-detail my-4 fs-14 f-600 mb-5\">\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-7\">\r\n                    <div className=\"row payment-header\">\r\n                      <div className=\"col-4\">No</div>\r\n                      <div className=\"col-4\">Type</div>\r\n                      <div className=\"col-4\">Amount</div>\r\n                    </div>\r\n                    {taud_data.length > 0\r\n                      ? taud_data.map((item, index) => {\r\n                          return (\r\n                            <div className=\"row payment-header\" key={index}>\r\n                              <div className=\"col-4\">{item.pay_rem1}</div>\r\n                              <div className=\"col-4\">{item.pay_type_name}</div>\r\n                              <div className=\"col-4\">$ {item.pay_amt}</div>\r\n                            </div>\r\n                          );\r\n                        })\r\n                      : \"\"}\r\n                    <div className=\"row payment-footer\">\r\n                      <div className=\"col-4 fs-11\">{taud_sub.gst_label}</div>\r\n                      <div className=\"col-4\">Total</div>\r\n                      <div className=\"col-4\">{taud_sub.total}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-5 text-right\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Sub Total :</div>\r\n                      <div className=\"col-6\">{sub_data.sub_total}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">GST :</div>\r\n                      <div className=\"col-6\">{taud_sub.gst}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Rounding :</div>\r\n                      <div className=\"col-6\">{taud_sub.rounding}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">Grand Total :</div>\r\n                      <div className=\"col-6\">{taud_sub.grand_tot}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* used payment list */}\r\n              </div>\r\n              <div className=\"invoice-footer mt-5\">\r\n                <p className=\"\">Remark: {footer.remark}</p>\r\n\r\n                {footer.footer1 ? <p>1. {footer.footer1}</p> : \"\"}\r\n                {footer.footer2 ? <p>2. {footer.footer2}</p> : \"\"}\r\n                {footer.footer3 ? <p>3. {footer.footer3}</p> : \"\"}\r\n                {footer.footer4 ? <p>4. {footer.footer4}</p> : \"\"}\r\n                <div className=\"row m-0\">\r\n                  <div className=\"col-8\"></div>\r\n                  <div className=\"col-4\">\r\n                    <div className=\"customer-signature  f-600\">\r\n                      Customer Signature\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-5 d-flex text-center action-buttons\">\r\n              <div className=\"w-100 mr-2\">\r\n                <NormalButton\r\n                  onClick={() => window.open(downloadlLink)}\r\n                  label=\"Print\"\r\n                  success={true}\r\n                  className=\"print\"\r\n                />\r\n              </div>\r\n              <div className=\"w-100 ml-2\">\r\n                <NormalButton\r\n                  onClick={this.handleShare}\r\n                  label=\"Share\"\r\n                  className=\"share\"\r\n                />\r\n              </div>\r\n              <div className=\"w-100 ml-2\">\r\n                <NormalButton\r\n                  onClick={this.handleSendSMS}\r\n                  label=\"Send SMS\"\r\n                  className=\"share\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  appointmentDetail: state.appointment.appointmentDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TransactionReceipt = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TransactionReceiptClass);\r\n"]},"metadata":{},"sourceType":"module"}