{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Payment\\\\selectPayment.js\";\nimport React, { Component } from 'react';\nimport { NormalInput, NormalTextarea, NormalButton, NormalSelect, NormalDate } from 'component/common';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport { getPayment, createPayment } from 'redux/actions/payment';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { history } from 'helpers';\nimport { getCommonApi } from 'redux/actions/common';\nimport { dateFormat } from 'service/helperFunctions';\nexport class MakePaymentClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        name: '',\n        contact: '',\n        address: '',\n        searchStaff: ''\n      },\n      responseData: {},\n      selectType: {\n        creditOrDebit: false,\n        point: false,\n        payOnPremise: false,\n        upi: false,\n        prepaid: false\n      },\n      premisesOption: [],\n      cardOption: [],\n      premiseField: {\n        pay_typeid: null,\n        pay_amt: \"\",\n        pay_premise: true\n      },\n      cardField: {\n        pay_typeid: null,\n        pay_amt: \"\",\n        credit_debit: true,\n        pay_rem1: \"\",\n        pay_rem2: \"\",\n        pay_rem3: \"\",\n        pay_rem4: \"\"\n      }\n    };\n\n    this.getPayment = () => {\n      let {\n        selected_cstomer\n      } = this.props;\n\n      if (selected_cstomer) {\n        this.props.getPayment(`?sitecodeid=${selected_cstomer.branchId}&cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${selected_cstomer.cust_noid}&cart_id=${this.props.id}`).then(res => {\n          this.setState({\n            responseData: res.data\n          });\n        });\n      } else {\n        history.push(\"/admin/cart\");\n      }\n    };\n\n    this.getPaytableList = () => {\n      this.props.getCommonApi(`paytable/`).then(res => {\n        this.getDataFromResponses(res.data);\n      });\n    };\n\n    this.getDataFromResponses = data => {\n      let {\n        cardOption,\n        premisesOption\n      } = this.state;\n\n      for (let key of data.CARD) {\n        cardOption.push({\n          label: key.pay_description,\n          value: key.id\n        });\n      }\n\n      for (let key of data.CASH) {\n        premisesOption.push({\n          label: key.pay_description,\n          value: key.id\n        });\n      }\n\n      this.setState({\n        cardOption,\n        premisesOption\n      });\n    };\n\n    this.handleMultiple = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      console.log(\"handleMultiple\", value, name);\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.setState({\n        formFields\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.setState({\n        formFields\n      });\n    };\n\n    this.handleSelectOption = e => {\n      let selectType = Object.assign({}, this.state.selectType);\n      console.log(e.target.name, \"sdfgdsfgsdfg\", e.target.value, e.target);\n      selectType[e.target.name] = !selectType[e.target.name];\n      this.setState({\n        selectType\n      });\n    };\n\n    this.handleChangePremise = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let premiseField = Object.assign({}, this.state.premiseField);\n      premiseField[name] = value;\n      this.setState({\n        premiseField\n      });\n    };\n\n    this.handleChangeCard = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let cardField = Object.assign({}, this.state.cardField);\n      cardField[name] = value;\n      this.setState({\n        cardField\n      });\n    };\n\n    this.handleSubmit = () => {\n      let {\n        cardField,\n        premiseField,\n        selectType\n      } = this.state;\n      let data = [];\n\n      if (selectType.creditOrDebit === true) {\n        data.push({\n          pay_typeid: cardField.pay_typeid,\n          pay_amt: cardField.pay_amt,\n          credit_debit: true,\n          pay_rem1: cardField.pay_rem1,\n          pay_rem2: cardField.pay_rem2,\n          pay_rem3: cardField.pay_rem3,\n          pay_rem4: cardField.pay_rem4\n        });\n      }\n\n      if (selectType.payOnPremise === true) {\n        data.push({\n          pay_typeid: premiseField.pay_typeid,\n          pay_amt: premiseField.pay_amt,\n          pay_premise: true\n        });\n      }\n\n      if (selectType.point === true) {// data.push(premiseField);\n      }\n\n      if (selectType.upi === true) {// data.push(premiseField);\n      }\n\n      if (selectType.prepaid === true) {// data.push(premiseField);\n      }\n\n      let {\n        selected_cstomer\n      } = this.props;\n      this.props.createPayment(`?sitecodeid=${selected_cstomer.branchId}&cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${selected_cstomer.cust_noid}&cart_id=${this.props.id}`, data).then(res => {\n        history.push(`/admin/billing/print/bill/${this.props.billNo}`);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getPayment();\n    this.getPaytableList();\n  } // get method for payment detail against appointment\n\n\n  render() {\n    let {\n      formFields,\n      responseData,\n      selectType,\n      premisesOption,\n      cardOption,\n      premiseField,\n      cardField\n    } = this.state;\n    let {\n      name,\n      contact,\n      address,\n      searchStaff\n    } = formFields;\n    let {\n      creditOrDebit,\n      point,\n      payOnPremise,\n      upi,\n      prepaid\n    } = selectType;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"make-payment-section mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \"Select Payment Method\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"radio-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"creditOrDebit\",\n      name: \"creditOrDebit\",\n      checked: creditOrDebit,\n      onClick: this.handleSelectOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"creditOrDebit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }, \"Credit / Debit card\")), creditOrDebit ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 33\n      }\n    }, \"Select Card\", /*#__PURE__*/React.createElement(NormalSelect, {\n      placeholder: \"Search type...\",\n      options: cardOption,\n      value: cardField.pay_typeid,\n      name: \"pay_typeid\",\n      onChange: this.handleChangeCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 33\n      }\n    }, \"Amount\", /*#__PURE__*/React.createElement(NormalInput, {\n      value: cardField.pay_amt,\n      name: \"pay_amt\",\n      onChange: this.handleChangeCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 33\n      }\n    }, \"Card No\", /*#__PURE__*/React.createElement(NormalInput, {\n      value: cardField.pay_rem1,\n      name: \"pay_rem1\",\n      onChange: this.handleChangeCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }, \"Name\", /*#__PURE__*/React.createElement(NormalInput, {\n      value: cardField.pay_rem2,\n      name: \"pay_rem2\",\n      onChange: this.handleChangeCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 33\n      }\n    }, \"Exp Month\", /*#__PURE__*/React.createElement(NormalInput, {\n      value: cardField.pay_rem3,\n      name: \"pay_rem3\",\n      onChange: this.handleChangeCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 33\n      }\n    }, \"Exp Year\", /*#__PURE__*/React.createElement(NormalInput, {\n      value: cardField.pay_rem4,\n      name: \"pay_rem4\",\n      onChange: this.handleChangeCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 37\n      }\n    }))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"radio-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"point\",\n      name: \"point\",\n      checked: point,\n      onClick: this.handleSelectOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"point\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 33\n      }\n    }, \"Point (Available point:201)\")), point ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: address,\n      name: \"point\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 37\n      }\n    }))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"radio-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"upi\",\n      name: \"upi\",\n      checked: upi,\n      onClick: this.handleSelectOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"upi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 33\n      }\n    }, \"UPI\")), upi ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: address,\n      name: \"upi\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 37\n      }\n    }))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"radio-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"prepaid\",\n      name: \"prepaid\",\n      checked: prepaid,\n      onClick: this.handleSelectOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"prepaid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 33\n      }\n    }, \"Prepaid\")), prepaid ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: address,\n      name: \"prepaid\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 37\n      }\n    }))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"radio-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"payOnPremise\",\n      name: \"payOnPremise\",\n      checked: payOnPremise,\n      onClick: this.handleSelectOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"payOnPremise\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 33\n      }\n    }, \"Pay on premise\")), payOnPremise ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 37\n      }\n    }, \"Select Option\", /*#__PURE__*/React.createElement(NormalSelect, {\n      placeholder: \"Search type...\",\n      options: premisesOption,\n      value: premiseField.pay_typeid,\n      name: \"pay_typeid\",\n      onChange: this.handleChangePremise,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 37\n      }\n    }, \"Amount\", /*#__PURE__*/React.createElement(NormalInput, {\n      value: premiseField.pay_amt,\n      name: \"pay_amt\",\n      onChange: this.handleChangePremise,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 41\n      }\n    })))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"make-payment text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-12 fs-15 \",\n      label: \"Make payment \",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  appointmentDetail: state.appointment.appointmentDetail,\n  selected_cstomer: state.common.selected_cstomer\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getPayment,\n    getCommonApi,\n    createPayment\n  }, dispatch);\n};\n\nexport const MakePayment = connect(mapStateToProps, mapDispatchToProps)(MakePaymentClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Payment/selectPayment.js"],"names":["React","Component","NormalInput","NormalTextarea","NormalButton","NormalSelect","NormalDate","Button","Form","FormGroup","Label","Input","FormText","getPayment","createPayment","connect","bindActionCreators","history","getCommonApi","dateFormat","MakePaymentClass","state","formFields","name","contact","address","searchStaff","responseData","selectType","creditOrDebit","point","payOnPremise","upi","prepaid","premisesOption","cardOption","premiseField","pay_typeid","pay_amt","pay_premise","cardField","credit_debit","pay_rem1","pay_rem2","pay_rem3","pay_rem4","selected_cstomer","props","branchId","Date","cust_noid","id","then","res","setState","data","push","getPaytableList","getDataFromResponses","key","CARD","label","pay_description","value","CASH","handleMultiple","target","console","log","Object","assign","handleChange","handleSelectOption","e","handleChangePremise","handleChangeCard","handleSubmit","billNo","componentDidMount","render","mapStateToProps","appointmentDetail","appointment","common","mapDispatchToProps","dispatch","MakePayment"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,cAAtB,EAAsCC,YAAtC,EAAoDC,YAApD,EAAkEC,UAAlE,QAAoF,kBAApF;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,QAAhD,QAAgE,YAAhE;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,uBAA1C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,OAAO,MAAMC,gBAAN,SAA+BnB,SAA/B,CAAyC;AAAA;AAAA;AAAA,SAC5CoB,KAD4C,GACpC;AACJC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,EADE;AAERC,QAAAA,OAAO,EAAE,EAFD;AAGRC,QAAAA,OAAO,EAAE,EAHD;AAIRC,QAAAA,WAAW,EAAE;AAJL,OADR;AAOJC,MAAAA,YAAY,EAAE,EAPV;AAQJC,MAAAA,UAAU,EAAE;AACRC,QAAAA,aAAa,EAAE,KADP;AAERC,QAAAA,KAAK,EAAE,KAFC;AAGRC,QAAAA,YAAY,EAAE,KAHN;AAIRC,QAAAA,GAAG,EAAE,KAJG;AAKRC,QAAAA,OAAO,EAAE;AALD,OARR;AAeJC,MAAAA,cAAc,EAAE,EAfZ;AAgBJC,MAAAA,UAAU,EAAE,EAhBR;AAiBJC,MAAAA,YAAY,EAAE;AACVC,QAAAA,UAAU,EAAE,IADF;AAEVC,QAAAA,OAAO,EAAE,EAFC;AAGVC,QAAAA,WAAW,EAAE;AAHH,OAjBV;AAsBJC,MAAAA,SAAS,EAAE;AACPH,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,OAAO,EAAE,EAFF;AAGPG,QAAAA,YAAY,EAAE,IAHP;AAIPC,QAAAA,QAAQ,EAAE,EAJH;AAKPC,QAAAA,QAAQ,EAAE,EALH;AAMPC,QAAAA,QAAQ,EAAE,EANH;AAOPC,QAAAA,QAAQ,EAAE;AAPH;AAtBP,KADoC;;AAAA,SAwC5ChC,UAxC4C,GAwC/B,MAAM;AACf,UAAI;AAAEiC,QAAAA;AAAF,UAAuB,KAAKC,KAAhC;;AACA,UAAGD,gBAAH,EAAoB;AAChB,aAAKC,KAAL,CAAWlC,UAAX,CAAuB,eAAciC,gBAAgB,CAACE,QAAS,cAAa7B,UAAU,CAAC,IAAI8B,IAAJ,EAAD,EAAa,YAAb,CAA2B,cAAaH,gBAAgB,CAACI,SAAU,YAAW,KAAKH,KAAL,CAAWI,EAAG,EAAlL,EAAqLC,IAArL,CAA2LC,GAAD,IAAS;AAC/L,eAAKC,QAAL,CAAc;AAAE3B,YAAAA,YAAY,EAAE0B,GAAG,CAACE;AAApB,WAAd;AACH,SAFD;AAGH,OAJD,MAIO;AACHtC,QAAAA,OAAO,CAACuC,IAAR,CAAa,aAAb;AACH;AAEJ,KAlD2C;;AAAA,SAqD5CC,eArD4C,GAqD1B,MAAM;AACpB,WAAKV,KAAL,CAAW7B,YAAX,CAAyB,WAAzB,EAAqCkC,IAArC,CAA2CC,GAAD,IAAS;AAC/C,aAAKK,oBAAL,CAA0BL,GAAG,CAACE,IAA9B;AACH,OAFD;AAGH,KAzD2C;;AAAA,SA4D5CG,oBA5D4C,GA4DpBH,IAAD,IAAU;AAC7B,UAAI;AAAEpB,QAAAA,UAAF;AAAcD,QAAAA;AAAd,UAAiC,KAAKb,KAA1C;;AACA,WAAK,IAAIsC,GAAT,IAAgBJ,IAAI,CAACK,IAArB,EAA2B;AACvBzB,QAAAA,UAAU,CAACqB,IAAX,CAAgB;AAAEK,UAAAA,KAAK,EAAEF,GAAG,CAACG,eAAb;AAA8BC,UAAAA,KAAK,EAAEJ,GAAG,CAACR;AAAzC,SAAhB;AACH;;AACD,WAAK,IAAIQ,GAAT,IAAgBJ,IAAI,CAACS,IAArB,EAA2B;AACvB9B,QAAAA,cAAc,CAACsB,IAAf,CAAoB;AAAEK,UAAAA,KAAK,EAAEF,GAAG,CAACG,eAAb;AAA8BC,UAAAA,KAAK,EAAEJ,GAAG,CAACR;AAAzC,SAApB;AACH;;AACD,WAAKG,QAAL,CAAc;AACVnB,QAAAA,UADU;AAEVD,QAAAA;AAFU,OAAd;AAIH,KAxE2C;;AAAA,SA0E5C+B,cA1E4C,GA0E3B,CAAC;AAAEC,MAAAA,MAAM,EAAE;AAAEH,QAAAA,KAAF;AAASxC,QAAAA;AAAT;AAAV,KAAD,KAAiC;AAC9C4C,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BL,KAA9B,EAAqCxC,IAArC;AACA,UAAID,UAAU,GAAG+C,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKjD,KAAL,CAAWC,UAA7B,CAAjB;AAEAA,MAAAA,UAAU,CAACC,IAAD,CAAV,GAAmBwC,KAAnB;AAEA,WAAKT,QAAL,CAAc;AACVhC,QAAAA;AADU,OAAd;AAGH,KAnF2C;;AAAA,SAqF5CiD,YArF4C,GAqF7B,CAAC;AAAEL,MAAAA,MAAM,EAAE;AAAEH,QAAAA,KAAF;AAASxC,QAAAA;AAAT;AAAV,KAAD,KAAiC;AAC5C,UAAID,UAAU,GAAG+C,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKjD,KAAL,CAAWC,UAA7B,CAAjB;AAEAA,MAAAA,UAAU,CAACC,IAAD,CAAV,GAAmBwC,KAAnB;AAEA,WAAKT,QAAL,CAAc;AACVhC,QAAAA;AADU,OAAd;AAGH,KA7F2C;;AAAA,SA+F5CkD,kBA/F4C,GA+FtBC,CAAD,IAAO;AAExB,UAAI7C,UAAU,GAAGyC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKjD,KAAL,CAAWO,UAA7B,CAAjB;AACAuC,MAAAA,OAAO,CAACC,GAAR,CAAYK,CAAC,CAACP,MAAF,CAAS3C,IAArB,EAA2B,cAA3B,EAA2CkD,CAAC,CAACP,MAAF,CAASH,KAApD,EAA2DU,CAAC,CAACP,MAA7D;AACAtC,MAAAA,UAAU,CAAC6C,CAAC,CAACP,MAAF,CAAS3C,IAAV,CAAV,GAA4B,CAACK,UAAU,CAAC6C,CAAC,CAACP,MAAF,CAAS3C,IAAV,CAAvC;AAEA,WAAK+B,QAAL,CAAc;AACV1B,QAAAA;AADU,OAAd;AAGH,KAxG2C;;AAAA,SA0G5C8C,mBA1G4C,GA0GtB,CAAC;AAAER,MAAAA,MAAM,EAAE;AAAEH,QAAAA,KAAF;AAASxC,QAAAA;AAAT;AAAV,KAAD,KAAiC;AACnD,UAAIa,YAAY,GAAGiC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKjD,KAAL,CAAWe,YAA7B,CAAnB;AAEAA,MAAAA,YAAY,CAACb,IAAD,CAAZ,GAAqBwC,KAArB;AAEA,WAAKT,QAAL,CAAc;AACVlB,QAAAA;AADU,OAAd;AAGH,KAlH2C;;AAAA,SAoH5CuC,gBApH4C,GAoHzB,CAAC;AAAET,MAAAA,MAAM,EAAE;AAAEH,QAAAA,KAAF;AAASxC,QAAAA;AAAT;AAAV,KAAD,KAAiC;AAChD,UAAIiB,SAAS,GAAG6B,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKjD,KAAL,CAAWmB,SAA7B,CAAhB;AAEAA,MAAAA,SAAS,CAACjB,IAAD,CAAT,GAAkBwC,KAAlB;AAEA,WAAKT,QAAL,CAAc;AACVd,QAAAA;AADU,OAAd;AAGH,KA5H2C;;AAAA,SA+H5CoC,YA/H4C,GA+H7B,MAAM;AACjB,UAAI;AAAEpC,QAAAA,SAAF;AAAaJ,QAAAA,YAAb;AAA2BR,QAAAA;AAA3B,UAA0C,KAAKP,KAAnD;AACA,UAAIkC,IAAI,GAAG,EAAX;;AACA,UAAG3B,UAAU,CAACC,aAAX,KAA2B,IAA9B,EAAmC;AAC/B0B,QAAAA,IAAI,CAACC,IAAL,CAAU;AACNnB,UAAAA,UAAU,EAAEG,SAAS,CAACH,UADhB;AAENC,UAAAA,OAAO,EAAEE,SAAS,CAACF,OAFb;AAGNG,UAAAA,YAAY,EAAE,IAHR;AAINC,UAAAA,QAAQ,EAAEF,SAAS,CAACE,QAJd;AAKNC,UAAAA,QAAQ,EAAEH,SAAS,CAACG,QALd;AAMNC,UAAAA,QAAQ,EAAEJ,SAAS,CAACI,QANd;AAONC,UAAAA,QAAQ,EAAEL,SAAS,CAACK;AAPd,SAAV;AASH;;AACD,UAAGjB,UAAU,CAACG,YAAX,KAA0B,IAA7B,EAAkC;AAC9BwB,QAAAA,IAAI,CAACC,IAAL,CAAU;AACNnB,UAAAA,UAAU,EAAED,YAAY,CAACC,UADnB;AAENC,UAAAA,OAAO,EAAEF,YAAY,CAACE,OAFhB;AAGNC,UAAAA,WAAW,EAAE;AAHP,SAAV;AAKH;;AACD,UAAGX,UAAU,CAACE,KAAX,KAAmB,IAAtB,EAA2B,CACvB;AACH;;AACD,UAAGF,UAAU,CAACI,GAAX,KAAiB,IAApB,EAAyB,CACrB;AACH;;AACD,UAAGJ,UAAU,CAACK,OAAX,KAAqB,IAAxB,EAA6B,CACzB;AACH;;AACD,UAAI;AAAEa,QAAAA;AAAF,UAAuB,KAAKC,KAAhC;AACA,WAAKA,KAAL,CAAWjC,aAAX,CAA0B,eAAcgC,gBAAgB,CAACE,QAAS,cAAa7B,UAAU,CAAC,IAAI8B,IAAJ,EAAD,EAAa,YAAb,CAA2B,cAAaH,gBAAgB,CAACI,SAAU,YAAW,KAAKH,KAAL,CAAWI,EAAG,EAArL,EAAwLI,IAAxL,EAA8LH,IAA9L,CAAoMC,GAAD,IAAO;AACtMpC,QAAAA,OAAO,CAACuC,IAAR,CAAc,6BAA4B,KAAKT,KAAL,CAAW8B,MAAO,EAA5D;AACH,OAFD;AAGH,KAjK2C;AAAA;;AAkC5CC,EAAAA,iBAAiB,GAAG;AAChB,SAAKjE,UAAL;AACA,SAAK4C,eAAL;AACH,GArC2C,CAuC5C;;;AA4HAsB,EAAAA,MAAM,GAAG;AACL,QAAI;AAAEzD,MAAAA,UAAF;AAAcK,MAAAA,YAAd;AAA4BC,MAAAA,UAA5B;AAAwCM,MAAAA,cAAxC;AAAwDC,MAAAA,UAAxD;AAAoEC,MAAAA,YAApE;AAAkFI,MAAAA;AAAlF,QAAgG,KAAKnB,KAAzG;AACA,QAAI;AAAEE,MAAAA,IAAF;AAAQC,MAAAA,OAAR;AAAiBC,MAAAA,OAAjB;AAA0BC,MAAAA;AAA1B,QAA0CJ,UAA9C;AACA,QAAI;AAAEO,MAAAA,aAAF;AAAiBC,MAAAA,KAAjB;AAAwBC,MAAAA,YAAxB;AAAsCC,MAAAA,GAAtC;AAA2CC,MAAAA;AAA3C,QAAuDL,UAA3D;AAEA,wBACI,uDACI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,CAFJ,eAKI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,EAAE,EAAC,eAAvB;AAAuC,MAAA,IAAI,EAAC,eAA5C;AAA4D,MAAA,OAAO,EAAEC,aAArE;AAAoF,MAAA,OAAO,EAAE,KAAK2C,kBAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFJ,CADJ,EAKK3C,aAAa,gBAAG,uDACb;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAEQ,oBAAC,YAAD;AACI,MAAA,WAAW,EAAC,gBADhB;AAEI,MAAA,OAAO,EAAEM,UAFb;AAGI,MAAA,KAAK,EAAEK,SAAS,CAACH,UAHrB;AAII,MAAA,IAAI,EAAC,YAJT;AAKI,MAAA,QAAQ,EAAE,KAAKsC,gBALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFR,CADa,eAWb;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEnC,SAAS,CAACF,OADrB;AAEI,MAAA,IAAI,EAAC,SAFT;AAGI,MAAA,QAAQ,EAAE,KAAKqC,gBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAXa,eAmBb;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEnC,SAAS,CAACE,QADrB;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,QAAQ,EAAE,KAAKiC,gBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAnBa,eA2Bb;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAEI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEnC,SAAS,CAACG,QADrB;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,QAAQ,EAAE,KAAKgC,gBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CA3Ba,eAmCb;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEnC,SAAS,CAACI,QADrB;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,QAAQ,EAAE,KAAK+B,gBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAnCa,eA2Cb;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAEI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEnC,SAAS,CAACK,QADrB;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,QAAQ,EAAE,KAAK8B,gBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CA3Ca,CAAH,GAmDR,EAxDV,CALJ,eAgEI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,EAAE,EAAC,OAAvB;AAA+B,MAAA,IAAI,EAAC,OAApC;AAA4C,MAAA,OAAO,EAAE7C,KAArD;AAA4D,MAAA,OAAO,EAAE,KAAK0C,kBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAFJ,CADJ,EAKK1C,KAAK,gBAAG,uDACL;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEL,OADX;AAEI,MAAA,IAAI,EAAC,OAFT;AAGI,MAAA,QAAQ,EAAE,KAAK8C,YAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADK,CAAH,GAQA,EAbV,CAhEJ,eAgFI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,EAAE,EAAC,KAAvB;AAA6B,MAAA,IAAI,EAAC,KAAlC;AAAwC,MAAA,OAAO,EAAEvC,GAAjD;AAAsD,MAAA,OAAO,EAAE,KAAKwC,kBAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,GAAG,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CADJ,EAKKxC,GAAG,gBAAG,uDACH;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEP,OADX;AAEI,MAAA,IAAI,EAAC,KAFT;AAGI,MAAA,QAAQ,EAAE,KAAK8C,YAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADG,CAAH,GAQE,EAbV,CAhFJ,eAgGI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,EAAE,EAAC,SAAvB;AAAiC,MAAA,IAAI,EAAC,SAAtC;AAAgD,MAAA,OAAO,EAAEtC,OAAzD;AAAkE,MAAA,OAAO,EAAE,KAAKuC,kBAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,GAAG,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CADJ,EAKKvC,OAAO,gBAAG,uDACP;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAER,OADX;AAEI,MAAA,IAAI,EAAC,SAFT;AAGI,MAAA,QAAQ,EAAE,KAAK8C,YAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADO,CAAH,GAQF,EAbV,CAhGJ,eAgHI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,EAAE,EAAC,cAAvB;AAAsC,MAAA,IAAI,EAAC,cAA3C;AAA0D,MAAA,OAAO,EAAExC,YAAnE;AAAiF,MAAA,OAAO,EAAE,KAAKyC,kBAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CADJ,EAKKzC,YAAY,gBAAG,uDACZ;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAEI,oBAAC,YAAD;AACI,MAAA,WAAW,EAAC,gBADhB;AAEI,MAAA,OAAO,EAAEG,cAFb;AAGI,MAAA,KAAK,EAAEE,YAAY,CAACC,UAHxB;AAII,MAAA,IAAI,EAAC,YAJT;AAKI,MAAA,QAAQ,EAAE,KAAKqC,mBALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAWI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEI,oBAAC,WAAD;AACI,MAAA,KAAK,EAAEtC,YAAY,CAACE,OADxB;AAEI,MAAA,IAAI,EAAC,SAFT;AAGI,MAAA,QAAQ,EAAE,KAAKoC,mBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAXJ,CADY,CAAH,GAoBG,EAzBpB,CAhHJ,eA4II;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5IJ,eA8II;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9IJ,CADJ,eAiLI;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AACI,MAAA,MAAM,EAAE,IADZ;AAEI,MAAA,SAAS,EAAC,eAFd;AAGI,MAAA,KAAK,EAAC,eAHV;AAII,MAAA,OAAO,EAAE,MAAM,KAAKE,YAAL,EAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAjLJ,CADJ,CADJ;AA8LH;;AAtW2C;;AA2WhD,MAAMI,eAAe,GAAI3D,KAAD,KAAY;AAChC4D,EAAAA,iBAAiB,EAAE5D,KAAK,CAAC6D,WAAN,CAAkBD,iBADL;AAEhCnC,EAAAA,gBAAgB,EAAEzB,KAAK,CAAC8D,MAAN,CAAarC;AAFC,CAAZ,CAAxB;;AAKA,MAAMsC,kBAAkB,GAAGC,QAAQ,IAAI;AACnC,SAAOrE,kBAAkB,CAAC;AACtBH,IAAAA,UADsB;AAEtBK,IAAAA,YAFsB;AAGtBJ,IAAAA;AAHsB,GAAD,EAItBuE,QAJsB,CAAzB;AAKH,CAND;;AAQA,OAAO,MAAMC,WAAW,GAAGvE,OAAO,CAACiE,eAAD,EAAkBI,kBAAlB,CAAP,CAA6ChE,gBAA7C,CAApB","sourcesContent":["import React, { Component } from 'react';\r\nimport { NormalInput, NormalTextarea, NormalButton, NormalSelect, NormalDate } from 'component/common';\r\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\r\nimport { getPayment, createPayment } from 'redux/actions/payment';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { history } from 'helpers';\r\nimport { getCommonApi } from 'redux/actions/common';\r\nimport { dateFormat } from 'service/helperFunctions';\r\n\r\nexport class MakePaymentClass extends Component {\r\n    state = {\r\n        formFields: {\r\n            name: '',\r\n            contact: '',\r\n            address: '',\r\n            searchStaff: ''\r\n        },\r\n        responseData: {},\r\n        selectType: {\r\n            creditOrDebit: false,\r\n            point: false,\r\n            payOnPremise: false,\r\n            upi: false,\r\n            prepaid: false\r\n        },\r\n        premisesOption: [],\r\n        cardOption: [],\r\n        premiseField: {\r\n            pay_typeid: null,\r\n            pay_amt: \"\",\r\n            pay_premise: true\r\n        },\r\n        cardField: {\r\n            pay_typeid: null,\r\n            pay_amt: \"\",\r\n            credit_debit: true,\r\n            pay_rem1: \"\",\r\n            pay_rem2: \"\",\r\n            pay_rem3: \"\",\r\n            pay_rem4: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPayment();\r\n        this.getPaytableList();\r\n    }\r\n\r\n    // get method for payment detail against appointment\r\n    getPayment = () => {\r\n        let { selected_cstomer } = this.props\r\n        if(selected_cstomer){\r\n            this.props.getPayment(`?sitecodeid=${selected_cstomer.branchId}&cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${selected_cstomer.cust_noid}&cart_id=${this.props.id}`).then((res) => {\r\n                this.setState({ responseData: res.data })\r\n            })\r\n        } else {\r\n            history.push(\"/admin/cart\");\r\n        }\r\n        \r\n    }\r\n\r\n    // get response for payment options dropdown\r\n    getPaytableList = () => {\r\n        this.props.getCommonApi(`paytable/`).then((res) => {\r\n            this.getDataFromResponses(res.data);\r\n        })\r\n    }\r\n\r\n    // set data to dropdown fields\r\n    getDataFromResponses = (data) => {\r\n        let { cardOption, premisesOption } = this.state;\r\n        for (let key of data.CARD) {\r\n            cardOption.push({ label: key.pay_description, value: key.id })\r\n        }\r\n        for (let key of data.CASH) {\r\n            premisesOption.push({ label: key.pay_description, value: key.id })\r\n        }\r\n        this.setState({\r\n            cardOption,\r\n            premisesOption\r\n        })\r\n    }\r\n\r\n    handleMultiple = ({ target: { value, name } }) => {\r\n        console.log(\"handleMultiple\", value, name);\r\n        let formFields = Object.assign({}, this.state.formFields);\r\n\r\n        formFields[name] = value;\r\n\r\n        this.setState({\r\n            formFields,\r\n        });\r\n    };\r\n\r\n    handleChange = ({ target: { value, name } }) => {\r\n        let formFields = Object.assign({}, this.state.formFields);\r\n\r\n        formFields[name] = value;\r\n\r\n        this.setState({\r\n            formFields,\r\n        });\r\n    };\r\n\r\n    handleSelectOption = (e) => {\r\n\r\n        let selectType = Object.assign({}, this.state.selectType);\r\n        console.log(e.target.name, \"sdfgdsfgsdfg\", e.target.value, e.target)\r\n        selectType[e.target.name] = !selectType[e.target.name];\r\n\r\n        this.setState({\r\n            selectType,\r\n        });\r\n    }\r\n\r\n    handleChangePremise = ({ target: { value, name } }) => {\r\n        let premiseField = Object.assign({}, this.state.premiseField);\r\n\r\n        premiseField[name] = value;\r\n\r\n        this.setState({\r\n            premiseField,\r\n        });\r\n    }\r\n\r\n    handleChangeCard = ({ target: { value, name } }) => {\r\n        let cardField = Object.assign({}, this.state.cardField);\r\n\r\n        cardField[name] = value;\r\n\r\n        this.setState({\r\n            cardField,\r\n        });\r\n    }\r\n\r\n    // create payment detail\r\n    handleSubmit = () => {\r\n        let { cardField, premiseField, selectType } = this.state;\r\n        let data = []\r\n        if(selectType.creditOrDebit===true){\r\n            data.push({\r\n                pay_typeid: cardField.pay_typeid,\r\n                pay_amt: cardField.pay_amt,\r\n                credit_debit: true,\r\n                pay_rem1: cardField.pay_rem1,\r\n                pay_rem2: cardField.pay_rem2,\r\n                pay_rem3: cardField.pay_rem3,\r\n                pay_rem4: cardField.pay_rem4\r\n            });\r\n        }\r\n        if(selectType.payOnPremise===true){\r\n            data.push({\r\n                pay_typeid: premiseField.pay_typeid,\r\n                pay_amt: premiseField.pay_amt,\r\n                pay_premise: true\r\n            });\r\n        }\r\n        if(selectType.point===true){\r\n            // data.push(premiseField);\r\n        }\r\n        if(selectType.upi===true){\r\n            // data.push(premiseField);\r\n        }\r\n        if(selectType.prepaid===true){\r\n            // data.push(premiseField);\r\n        }\r\n        let { selected_cstomer } = this.props\r\n        this.props.createPayment(`?sitecodeid=${selected_cstomer.branchId}&cart_date=${dateFormat(new Date(), \"yyyy-mm-dd\")}&cust_noid=${selected_cstomer.cust_noid}&cart_id=${this.props.id}`, data).then((res)=>{\r\n            history.push(`/admin/billing/print/bill/${this.props.billNo}`)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { formFields, responseData, selectType, premisesOption, cardOption, premiseField, cardField } = this.state;\r\n        let { name, contact, address, searchStaff } = formFields;\r\n        let { creditOrDebit, point, payOnPremise, upi, prepaid } = selectType;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"make-payment-section mb-4\">\r\n                    <div className=\"row pl-3\">\r\n\r\n                        <div className=\"col-10 mb-4\">\r\n                            <h4>Select Payment Method</h4>\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                            <div class=\"radio-item\">\r\n                                <input type=\"radio\" id=\"creditOrDebit\" name=\"creditOrDebit\" checked={creditOrDebit} onClick={this.handleSelectOption} />\r\n                                <label for=\"creditOrDebit\">Credit / Debit card</label>\r\n                            </div>\r\n                            {creditOrDebit ? <>\r\n                                <div className=\"input-group\">\r\n                                    Select Card\r\n                                        <NormalSelect\r\n                                            placeholder=\"Search type...\"\r\n                                            options={cardOption}\r\n                                            value={cardField.pay_typeid}\r\n                                            name=\"pay_typeid\"\r\n                                            onChange={this.handleChangeCard}\r\n                                        />\r\n                                    </div>\r\n                                <div className=\"input-group my-3\">\r\n                                    Amount\r\n                                    <NormalInput\r\n                                        value={cardField.pay_amt}\r\n                                        name=\"pay_amt\"\r\n                                        onChange={this.handleChangeCard}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-group my-3\">\r\n                                    Card No\r\n                                    <NormalInput\r\n                                        value={cardField.pay_rem1}\r\n                                        name=\"pay_rem1\"\r\n                                        onChange={this.handleChangeCard}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-group my-3\">\r\n                                    Name\r\n                                    <NormalInput\r\n                                        value={cardField.pay_rem2}\r\n                                        name=\"pay_rem2\"\r\n                                        onChange={this.handleChangeCard}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-group my-3\">\r\n                                    Exp Month\r\n                                    <NormalInput\r\n                                        value={cardField.pay_rem3}\r\n                                        name=\"pay_rem3\"\r\n                                        onChange={this.handleChangeCard}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-group my-3\">\r\n                                    Exp Year\r\n                                    <NormalInput\r\n                                        value={cardField.pay_rem4}\r\n                                        name=\"pay_rem4\"\r\n                                        onChange={this.handleChangeCard}\r\n                                    />\r\n                                </div>\r\n                            </> : \"\"}\r\n\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                            <div class=\"radio-item\">\r\n                                <input type=\"radio\" id=\"point\" name=\"point\" checked={point} onClick={this.handleSelectOption} />\r\n                                <label for=\"point\">Point (Available point:201)</label>\r\n                            </div>\r\n                            {point ? <>\r\n                                <div className=\"input-group my-3\">\r\n                                    <NormalInput\r\n                                        value={address}\r\n                                        name=\"point\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                            </> : \"\"}\r\n\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                            <div class=\"radio-item\">\r\n                                <input type=\"radio\" id=\"upi\" name=\"upi\" checked={upi} onClick={this.handleSelectOption} />\r\n                                <label for=\"upi\">UPI</label>\r\n                            </div>\r\n                            {upi ? <>\r\n                                <div className=\"input-group my-3\">\r\n                                    <NormalInput\r\n                                        value={address}\r\n                                        name=\"upi\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                            </> : \"\"}\r\n\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                            <div class=\"radio-item\">\r\n                                <input type=\"radio\" id=\"prepaid\" name=\"prepaid\" checked={prepaid} onClick={this.handleSelectOption} />\r\n                                <label for=\"prepaid\">Prepaid</label>\r\n                            </div>\r\n                            {prepaid ? <>\r\n                                <div className=\"input-group my-3\">\r\n                                    <NormalInput\r\n                                        value={address}\r\n                                        name=\"prepaid\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                            </> : \"\"}\r\n\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                            <div class=\"radio-item\">\r\n                                <input type=\"radio\" id=\"payOnPremise\" name=\"payOnPremise\" checked={payOnPremise} onClick={this.handleSelectOption} />\r\n                                <label for=\"payOnPremise\">Pay on premise</label>\r\n                            </div>\r\n                            {payOnPremise ? <>\r\n                                <div className=\"input-group my-3\">\r\n                                    <div className=\"input-group\">\r\n                                        Select Option\r\n                                        <NormalSelect\r\n                                            placeholder=\"Search type...\"\r\n                                            options={premisesOption}\r\n                                            value={premiseField.pay_typeid}\r\n                                            name=\"pay_typeid\"\r\n                                            onChange={this.handleChangePremise}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"input-group my-3\">\r\n                                        Amount\r\n                                        <NormalInput\r\n                                            value={premiseField.pay_amt}\r\n                                            name=\"pay_amt\"\r\n                                            onChange={this.handleChangePremise}\r\n                                        />\r\n                                    </div>\r\n                                </div></> : \"\"}\r\n\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                        </div>\r\n                        <div className=\"col-10 mb-3\">\r\n                        </div>\r\n\r\n                        {/* <div className=\"col-5\">\r\n                            <h4 className=\"mb-4\">Add Discount/Vouchers</h4>\r\n                            <div className=\"input-group\">\r\n                                <NormalInput\r\n                                    value={address}\r\n                                    name=\"address\"\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </div>\r\n                        </div> */}\r\n\r\n                        {/* <div className=\"col-5\">\r\n                            <h4>Enter Staff Details</h4>\r\n                            <div className=\"pb-4\">\r\n                                <label className=\"text-left text-black common-label-text fs-17 \">\r\n                                </label>\r\n                                <div className=\"input-group\">\r\n                                    <NormalSelect\r\n                                        placeholder=\"Search Staff...\"\r\n                                        // options={treatmentOption}\r\n                                        value={searchStaff}\r\n                                        name=\"searchStaff\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <button>Add Another Staff</button>\r\n\r\n                        </div> */}\r\n                    </div>\r\n\r\n                    <div className=\"make-payment text-center\">\r\n                        <NormalButton\r\n                            mainbg={true}\r\n                            className=\"col-12 fs-15 \"\r\n                            label=\"Make payment \"\r\n                            onClick={() => this.handleSubmit()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    appointmentDetail: state.appointment.appointmentDetail,\r\n    selected_cstomer: state.common.selected_cstomer,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        getPayment,\r\n        getCommonApi,\r\n        createPayment\r\n    }, dispatch)\r\n}\r\n\r\nexport const MakePayment = connect(mapStateToProps, mapDispatchToProps)(MakePaymentClass)"]},"metadata":{},"sourceType":"module"}