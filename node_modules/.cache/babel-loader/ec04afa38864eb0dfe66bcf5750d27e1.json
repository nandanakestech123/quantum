{"ast":null,"code":"import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'dhtmlx-scheduler';import'dhtmlx-scheduler/codebase/dhtmlxscheduler_material.css';var scheduler=window.scheduler;export var SchedulerModal=/*#__PURE__*/function(_Component){_inherits(SchedulerModal,_Component);var _super=_createSuper(SchedulerModal);function SchedulerModal(){_classCallCheck(this,SchedulerModal);return _super.apply(this,arguments);}_createClass(SchedulerModal,[{key:\"componentDidMount\",value:function componentDidMount(){// console.log(this.props, \"dsfsdfgdfgsdfgsdf\")\nvar _this$props=this.props,events=_this$props.events,onClick=_this$props.onClick,onEmptyClick=_this$props.onEmptyClick,handleChangeFilter=_this$props.handleChangeFilter,filterDate=_this$props.filterDate,filterType=_this$props.filterType,onDeleteEvent=_this$props.onDeleteEvent,openDetail=_this$props.openDetail,openEdit=_this$props.openEdit,openStaffView=_this$props.openStaffView;scheduler.skin='material';scheduler.config.header=['day','week','month',{html:\"Staff\",click:openStaffView},'date','prev','today','next'];scheduler.config.icons_select=[\"icon_details\"];scheduler._click.buttons.details=function(id){openDetail(id);};scheduler._click.buttons.edit=function(id){openEdit(id);};scheduler.attachEvent(\"onBeforeViewChange\",function(old_mode,old_date,mode,date){if(old_mode!==mode||old_date!==date){handleChangeFilter(old_mode,old_date,mode,date);}// console.log(\"namdfsfgsghsfghf\", old_mode, old_date, mode, date)\n// }\nreturn true;});scheduler.init(this.schedulerContainer,filterDate,filterType);scheduler.clearAll();scheduler.config.collision_limit=1;scheduler.config.resource_property=\"user_id\";scheduler.parse(events);scheduler.config.first_hour=8;scheduler.config.last_hour=22;scheduler.config.separate_short_events=false;scheduler.config.hour_size_px=176;scheduler.attachEvent(\"onClick\",function(id,e){//any custom logic here\nonClick(id,e);console.log(id,\"===afasfasdfdfasd=====  scheduler\",e);return true;});scheduler.attachEvent(\"onCellDblClick\",function(x_ind,y_ind,x_val,y_val,e){//any custom logic here\nreturn false;});scheduler.attachEvent(\"onDblClick\",function(id,e){//any custom logic here\nreturn false;});scheduler.attachEvent(\"onEmptyClick\",function(date,e){onEmptyClick(date,e);});// scheduler.attachEvent(\"onEventDeleted\", function(id,ev){\n//     onDeleteEvent(id, ev)\n//     console.log(\"===afasfasdfdfasd===== schedurer\", id, ev);\n// });\nvar format=scheduler.date.date_to_str(\"%H:%i\");var step=15;scheduler.templates.hour_scale=function(date){var html=\"\";for(var i=0;i<60/step;i++){html+=\"<div class='dhx_scale_hour' style='height:44px;line-height:44px;'>\"+format(date)+\"</div>\";date=scheduler.date.add(date,step,\"minute\");}return html;};scheduler.templates.event_header=function(start,end,ev){console.log(\"header=======\",ev);// return scheduler.templates.event_date(start) + \" - \" + \n// \"<img  alt='Blockchain and its use cases'  src='https://doodle-website-live.s3.ap-south-1.amazonaws.com/production/img/5180f0e.png'></img>\" +\n//     scheduler.templates.event_date(end)  + ` ` + ev.staff_name ;\n// return `${scheduler.templates.event_date(start) + \" - \" + scheduler.templates.event_date(end) + \" \" + ev.staff_name + \"<img  alt='Blockchain and its use cases' width='22' style='position: absolute;height: 22px;right: 0px;border-radius: 10px;' src='https://doodle-website-live.s3.ap-south-1.amazonaws.com/production/img/5180f0e.png'></img>\"}` ;\nreturn\"\".concat(\"<p>\"+scheduler.templates.event_date(start)+\" - \"+scheduler.templates.event_date(end)+' '+ev.staff_name+\"<img  alt=\".concat(ev.staff_name,\" width='22' style='position: absolute;height: 22px;right: 0;border-radius: 10px;' src=\").concat(ev.emp_pic,\"></img>\")+\"</p>\"+\"<p>\"+ev.title+\"</p>\");};// scheduler.filter_timeline = function (id, e) {\n//     //some_other code\n// }\n}},{key:\"render\",value:function render(){var _this=this;return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(input){_this.schedulerContainer=input;},style:{width:'100%',height:'100%'}});}}]);return SchedulerModal;}(Component);","map":{"version":3,"sources":["F:/webfe/src/component/common/Plugins/Scheduler.js"],"names":["React","Component","scheduler","window","SchedulerModal","props","events","onClick","onEmptyClick","handleChangeFilter","filterDate","filterType","onDeleteEvent","openDetail","openEdit","openStaffView","skin","config","header","html","click","icons_select","_click","buttons","details","id","edit","attachEvent","old_mode","old_date","mode","date","init","schedulerContainer","clearAll","collision_limit","resource_property","parse","first_hour","last_hour","separate_short_events","hour_size_px","e","console","log","x_ind","y_ind","x_val","y_val","format","date_to_str","step","templates","hour_scale","i","add","event_header","start","end","ev","event_date","staff_name","emp_pic","title","input","width","height"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport 'dhtmlx-scheduler';\r\nimport 'dhtmlx-scheduler/codebase/dhtmlxscheduler_material.css';\r\n\r\nconst scheduler = window.scheduler;\r\n\r\nexport class SchedulerModal extends Component {\r\n    componentDidMount() {\r\n        // console.log(this.props, \"dsfsdfgdfgsdfgsdf\")\r\n        let { events, onClick, onEmptyClick, handleChangeFilter, filterDate, filterType, onDeleteEvent, openDetail, openEdit, openStaffView } = this.props;\r\n        scheduler.skin = 'material';\r\n        scheduler.config.header = [\r\n            'day',\r\n            'week',\r\n            'month',\r\n            { html: \"Staff\", click: openStaffView },\r\n            'date',\r\n            'prev',\r\n            'today',\r\n            'next',\r\n        ];\r\n\r\n        scheduler.config.icons_select = [\r\n            \"icon_details\"\r\n        ];\r\n\r\n        scheduler._click.buttons.details = function (id) {\r\n            openDetail(id)\r\n        };\r\n\r\n        scheduler._click.buttons.edit = function (id) {\r\n            openEdit(id)\r\n        };\r\n\r\n        scheduler.attachEvent(\"onBeforeViewChange\", function (old_mode, old_date, mode, date) {\r\n            if ((old_mode !== mode) || (old_date !== date)) {\r\n                handleChangeFilter(old_mode, old_date, mode, date)\r\n            }\r\n            // console.log(\"namdfsfgsghsfghf\", old_mode, old_date, mode, date)\r\n            // }\r\n            return true;\r\n        });\r\n\r\n        scheduler.init(this.schedulerContainer, filterDate, filterType);\r\n        scheduler.clearAll();\r\n        scheduler.config.collision_limit = 1;\r\n        scheduler.config.resource_property = \"user_id\";\r\n        scheduler.parse(\r\n            events\r\n        );\r\n        scheduler.config.first_hour = 8;\r\n        scheduler.config.last_hour = 22;\r\n        scheduler.config.separate_short_events = false;\r\n        scheduler.config.hour_size_px = 176;\r\n       \r\n        scheduler.attachEvent(\"onClick\", function (id, e) {\r\n            //any custom logic here\r\n            onClick(id, e)\r\n            console.log(id, \"===afasfasdfdfasd=====  scheduler\", e);\r\n            return true;\r\n        });\r\n\r\n        scheduler.attachEvent(\"onCellDblClick\", function (x_ind, y_ind, x_val, y_val, e) {\r\n            //any custom logic here\r\n            return false;\r\n        })\r\n\r\n        scheduler.attachEvent(\"onDblClick\", function (id, e) {\r\n            //any custom logic here\r\n            return false;\r\n        })\r\n\r\n        scheduler.attachEvent(\"onEmptyClick\", function (date, e) {\r\n            onEmptyClick(date, e)\r\n        });\r\n\r\n        // scheduler.attachEvent(\"onEventDeleted\", function(id,ev){\r\n        //     onDeleteEvent(id, ev)\r\n        //     console.log(\"===afasfasdfdfasd===== schedurer\", id, ev);\r\n        // });\r\n         \r\n        var format = scheduler.date.date_to_str(\"%H:%i\");\r\n        var step = 15;\r\n         \r\n        scheduler.templates.hour_scale = function(date){\r\n            var html=\"\";\r\n            for (var i=0; i<60/step; i++){\r\n                html+=\"<div class='dhx_scale_hour' style='height:44px;line-height:44px;'>\"+ format(date) +\"</div>\";\r\n                date = scheduler.date.add(date,step,\"minute\");\r\n            }\r\n            return html;\r\n        }\r\n\r\n        scheduler.templates.event_header = function (start, end, ev) {\r\n            console.log(\"header=======\", ev)\r\n            // return scheduler.templates.event_date(start) + \" - \" + \r\n            // \"<img  alt='Blockchain and its use cases'  src='https://doodle-website-live.s3.ap-south-1.amazonaws.com/production/img/5180f0e.png'></img>\" +\r\n            //     scheduler.templates.event_date(end)  + ` ` + ev.staff_name ;\r\n            // return `${scheduler.templates.event_date(start) + \" - \" + scheduler.templates.event_date(end) + \" \" + ev.staff_name + \"<img  alt='Blockchain and its use cases' width='22' style='position: absolute;height: 22px;right: 0px;border-radius: 10px;' src='https://doodle-website-live.s3.ap-south-1.amazonaws.com/production/img/5180f0e.png'></img>\"}` ;\r\n\r\n            return `${`<p>` + scheduler.templates.event_date(start) + \" - \" + scheduler.templates.event_date(end) + ' ' + ev.staff_name + `<img  alt=${ev.staff_name} width='22' style='position: absolute;height: 22px;right: 0;border-radius: 10px;' src=${ev.emp_pic}></img>` + `</p>` + `<p>` + ev.title + `</p>`}`;\r\n        };\r\n\r\n        // scheduler.filter_timeline = function (id, e) {\r\n        //     //some_other code\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                ref={(input) => { this.schedulerContainer = input }}\r\n                style={{ width: '100%', height: '100%' }}\r\n            ></div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}