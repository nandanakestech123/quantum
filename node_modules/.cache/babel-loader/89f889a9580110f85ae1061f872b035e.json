{"ast":null,"code":"import _objectSpread from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{AuthActionType}from\"redux/actions/actionType\";import{authApi}from\"service/apiVariables\";import{addQuery}from\"service/helperFunctions\";import{history}from\"../../helpers\";import{saloon,staff,customer,services,Products}from\"../../service/apiVariables\";import{api}from\"../../service/api\";import{Toast}from\"../../service/toast\";import{NotificationManager}from\"react-notifications\";// login action\nexport var login=function login(body){return function(dispatch,getState,_ref){var api=_ref.api,Toast=_ref.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.login),{},{body:body})).then(function(response){// console.log(message,Token,'123')\nresolve(response);var status=response.status,data=response.data;var message=data.message,token=data.token;if(status===200||status===201){localStorage.setItem(\"AuthToken\",token);// localStorage.setItem('AuthTypeId', data.typeId);\n// reject(Toast({ type: 'error', message }));\n}// Toast({ type: 'success', message, time: 5000 })\n// dispatch({ type: AuthActionType.getUserLoginDetails, payload: Token });\n// if (data.typeId == 1) {\n//   history.push('/admin/adminManagement');\n// } else if (data.typeId == 2) {\n//   history.push('/admin/manageDriver');\n// }\n}).catch(function(_ref2){var message=_ref2.message;reject(Toast({type:\"error\",message:message}));});});};};export var getLoginSaloon=function getLoginSaloon(id){return function(dispatch,getState,_ref3){var api=_ref3.api,Toast=_ref3.Toast;return new Promise(function(resolve,reject){api(_objectSpread({},authApi.getSaloon)).then(function(response){resolve(response);var message=response.message,status=response.status;if(status===200||status===201){// Toast({ type: 'success', message })\n}else{reject(Toast({type:\"error\",message:message}));}}).catch(function(_ref4){var message=_ref4.message;reject(Toast({type:\"error\",message:message}));});});};};// Getting user details for header\nexport var getTokenDetails=function getTokenDetails(body){return function(dispatch,getState,_ref5){var api=_ref5.api,Toast=_ref5.Toast;return new Promise(function(resolve,reject){api(_objectSpread({},authApi.getTokenDetails)).then(function(_ref6){var data=_ref6.data;resolve(true);localStorage.setItem(\"AuthTypeId\",data.typeId);dispatch({type:AuthActionType.getTokenDetails,payload:data});}).catch(function(_ref7){var message=_ref7.message;localStorage.clear();history.push(\"/\");// window.location.reload(true)\nreject(Toast({type:\"error\",message:message}));});});};};export var addStaff=function addStaff(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},staff.addStaff),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200||res.status==201){resolve(res);return;}resolve(true);}).catch(function(_ref8){var message=_ref8.message;Toast({type:\"error\",message:message});reject(true);});});};export var addCustomer=function addCustomer(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},customer.addCustomer),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200||res.status==201){resolve(res);return;}resolve(true);}).catch(function(_ref9){var message=_ref9.message;Toast({type:\"error\",message:message});reject(true);});});};export var addService=function addService(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},services.addService),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200||res.status==201){resolve(res);return;}resolve(true);}).catch(function(_ref10){var message=_ref10.message;Toast({type:\"error\",message:message});reject(true);});});};export var addProduct=function addProduct(body){return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},Products.addProduct),{},{body:body})).then(function(res){var message=res.Message;// Toast({ type: 'error', message: JSON.stringify(message) })\nif(res.status==200||res.status==201){resolve(res);return;}resolve(true);}).catch(function(_ref11){var message=_ref11.message;Toast({type:\"error\",message:message});reject(true);});});};// Forgot password common\nexport var forgotPassword=function forgotPassword(body){return function(dispatch,getState,_ref12){var api=_ref12.api,Toast=_ref12.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.forgotPassword),{},{body:body})).then(function(response){resolve(response);var message=response.message;//  Toast({ type: \"success\", message });\n}).catch(function(_ref13){var message=_ref13.message;reject(Toast({type:\"error\",message:message}));});});};};// Forgot password common\nexport var verifyOtp=function verifyOtp(id,body){return function(dispatch,getState,_ref14){var api=_ref14.api,Toast=_ref14.Toast;authApi.verifyOtp.addQuery={key:\"id\",payload:id};return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.verifyOtp),{},{body:body})).then(function(response){resolve(response);var message=response.message;// Toast({ type: \"success\", message });\n}).catch(function(_ref15){var message=_ref15.message;reject(Toast({type:\"error\",message:message}));});});};};// Forgot password common\nexport var resetPassword=function resetPassword(id,body){return function(dispatch,getState,_ref16){var api=_ref16.api,Toast=_ref16.Toast;return new Promise(function(resolve,reject){authApi.resetPassword.addQuery={key:\"id\",payload:id};api(_objectSpread(_objectSpread({},authApi.resetPassword),{},{body:body})).then(function(response){resolve(response);var message=response.message;// Toast({ type: \"success\", message });\n}).catch(function(_ref17){var message=_ref17.message;reject(Toast({type:\"error\",message:message}));});});};};// get method for token verification\nexport var getTokenVerify=function getTokenVerify(body){return function(dispatch,getState,_ref18){var api=_ref18.api,Toast=_ref18.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.getTokenVerify),{},{body:body})).then(function(_ref19){var data=_ref19.data,message=_ref19.message;resolve(true);//resolve(Toast({ type: \"success\", message }));\nlocalStorage.setItem(\"AuthToken\",data.jwtToken);}).catch(function(_ref20){var message=_ref20.message;history.push(\"/\");reject(Toast({type:\"error\",message:message}));});});};};// Change Password after forgot password\nexport var changePassword=function changePassword(body){return function(dispatch,getState,_ref21){var api=_ref21.api,Toast=_ref21.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.changePassword),{},{body:body})).then(function(_ref22){var message=_ref22.message;resolve(true);// resolve(Toast({ type: \"success\", message }));\n}).catch(function(_ref23){var message=_ref23.message;reject(Toast({type:\"error\",message:message}));});});};};// Logout using loged user\nexport var Logout=function Logout(body){return function(dispatch,getState,_ref24){var api=_ref24.api,Toast=_ref24.Toast;return new Promise(function(resolve,reject){api(_objectSpread(_objectSpread({},authApi.logout),{},{body:body})).then(function(response){resolve(response);var message=response.message;//Toast({ type: \"success\", message });\n}).catch(function(_ref25){var message=_ref25.message;reject(Toast({type:\"error\",message:message}));});});};};","map":{"version":3,"sources":["F:/webfe/src/redux/actions/auth.js"],"names":["AuthActionType","authApi","addQuery","history","saloon","staff","customer","services","Products","api","Toast","NotificationManager","login","body","dispatch","getState","Promise","resolve","reject","then","response","status","data","message","token","localStorage","setItem","catch","type","getLoginSaloon","id","getSaloon","getTokenDetails","typeId","payload","clear","push","addStaff","res","Message","addCustomer","addService","addProduct","forgotPassword","verifyOtp","key","resetPassword","getTokenVerify","jwtToken","changePassword","Logout","logout"],"mappings":"oIAAA,OAASA,cAAT,KAA+B,0BAA/B,CACA,OAASC,OAAT,KAAwB,sBAAxB,CACA,OAASC,QAAT,KAAyB,yBAAzB,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OACEC,MADF,CAEEC,KAFF,CAGEC,QAHF,CAIEC,QAJF,CAKEC,QALF,KAMO,4BANP,CAOA,OAASC,GAAT,KAAoB,mBAApB,CACA,OAASC,KAAT,KAAsB,qBAAtB,CACA,OAASC,mBAAT,KAAoC,qBAApC,CAEA;AACA,MAAO,IAAMC,CAAAA,KAAK,CAChB,QADWA,CAAAA,KACX,CAAAC,IAAI,QACJ,UAACC,QAAD,CAAWC,QAAX,MAAwC,IAAjBN,CAAAA,GAAiB,MAAjBA,GAAiB,CAAZC,KAAY,MAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMR,OAAO,CAACW,KAAd,MAAqBC,IAAI,CAAJA,IAArB,GAAH,CACGM,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB;AACAH,OAAO,CAACG,QAAD,CAAP,CACA,GAAMC,CAAAA,MAAN,CAAuBD,QAAvB,CAAMC,MAAN,CAAcC,IAAd,CAAuBF,QAAvB,CAAcE,IAAd,CACA,GAAMC,CAAAA,OAAN,CAAyBD,IAAzB,CAAMC,OAAN,CAAeC,KAAf,CAAyBF,IAAzB,CAAeE,KAAf,CACA,GAAIH,MAAM,GAAK,GAAX,EAAkBA,MAAM,GAAK,GAAjC,CAAsC,CACpCI,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCF,KAAlC,EACA;AACA;AACD,CACD;AAEA;AAEA;AACA;AACA;AACA;AACA;AACD,CApBH,EAqBGG,KArBH,CAqBS,eAAiB,IAAdJ,CAAAA,OAAc,OAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CAvBH,EAwBD,CAzBM,CAAP,CA0BD,CA5BG,EADC,CA+BP,MAAO,IAAMM,CAAAA,cAAc,CACzB,QADWA,CAAAA,cACX,CAAAC,EAAE,QACF,UAAChB,QAAD,CAAWC,QAAX,OAAwC,IAAjBN,CAAAA,GAAiB,OAAjBA,GAAiB,CAAZC,KAAY,OAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,kBAAMR,OAAO,CAAC8B,SAAd,EAAH,CACGZ,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBH,OAAO,CAACG,QAAD,CAAP,CACA,GAAMG,CAAAA,OAAN,CAA0BH,QAA1B,CAAMG,OAAN,CAAeF,MAAf,CAA0BD,QAA1B,CAAeC,MAAf,CACA,GAAIA,MAAM,GAAK,GAAX,EAAkBA,MAAM,GAAK,GAAjC,CAAsC,CACpC;AACD,CAFD,IAEO,CACLH,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CACF,CATH,EAUGI,KAVH,CAUS,eAAiB,IAAdJ,CAAAA,OAAc,OAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CAZH,EAaD,CAdM,CAAP,CAeD,CAjBC,EADG,CAoBP;AACA,MAAO,IAAMS,CAAAA,eAAe,CAC1B,QADWA,CAAAA,eACX,CAAAnB,IAAI,QACJ,UAACC,QAAD,CAAWC,QAAX,OAAwC,IAAjBN,CAAAA,GAAiB,OAAjBA,GAAiB,CAAZC,KAAY,OAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,kBAAMR,OAAO,CAAC+B,eAAd,EAAH,CACGb,IADH,CACQ,eAAc,IAAXG,CAAAA,IAAW,OAAXA,IAAW,CAClBL,OAAO,CAAC,IAAD,CAAP,CACAQ,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCJ,IAAI,CAACW,MAAxC,EACAnB,QAAQ,CAAC,CAAEc,IAAI,CAAE5B,cAAc,CAACgC,eAAvB,CAAwCE,OAAO,CAAEZ,IAAjD,CAAD,CAAR,CACD,CALH,EAMGK,KANH,CAMS,eAAiB,IAAdJ,CAAAA,OAAc,OAAdA,OAAc,CACtBE,YAAY,CAACU,KAAb,GACAhC,OAAO,CAACiC,IAAR,CAAa,GAAb,EACA;AACAlB,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CAXH,EAYD,CAbM,CAAP,CAcD,CAhBG,EADC,CAmBP,MAAO,IAAMc,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAxB,IAAI,CAAI,CAC9B,MAAO,IAAIG,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMJ,KAAK,CAACgC,QAAZ,MAAsBxB,IAAI,CAAJA,IAAtB,GAAH,CACGM,IADH,CACQ,SAAAmB,GAAG,CAAI,CACX,GAAIf,CAAAA,OAAO,CAAGe,GAAG,CAACC,OAAlB,CACA;AACA,GAAID,GAAG,CAACjB,MAAJ,EAAc,GAAd,EAAqBiB,GAAG,CAACjB,MAAJ,EAAc,GAAvC,CAA4C,CAC1CJ,OAAO,CAACqB,GAAD,CAAP,CACA,OACD,CACDrB,OAAO,CAAC,IAAD,CAAP,CACD,CATH,EAUGU,KAVH,CAUS,eAAiB,IAAdJ,CAAAA,OAAc,OAAdA,OAAc,CACtBb,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAEA,OAA1B,CAAD,CAAL,CACAL,MAAM,CAAC,IAAD,CAAN,CACD,CAbH,EAcD,CAfM,CAAP,CAgBD,CAjBM,CAmBP,MAAO,IAAMsB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAA3B,IAAI,CAAI,CACjC,MAAO,IAAIG,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMH,QAAQ,CAACkC,WAAf,MAA4B3B,IAAI,CAAJA,IAA5B,GAAH,CACGM,IADH,CACQ,SAAAmB,GAAG,CAAI,CACX,GAAIf,CAAAA,OAAO,CAAGe,GAAG,CAACC,OAAlB,CACA;AACA,GAAID,GAAG,CAACjB,MAAJ,EAAc,GAAd,EAAqBiB,GAAG,CAACjB,MAAJ,EAAc,GAAvC,CAA4C,CAC1CJ,OAAO,CAACqB,GAAD,CAAP,CACA,OACD,CACDrB,OAAO,CAAC,IAAD,CAAP,CACD,CATH,EAUGU,KAVH,CAUS,eAAiB,IAAdJ,CAAAA,OAAc,OAAdA,OAAc,CACtBb,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAEA,OAA1B,CAAD,CAAL,CACAL,MAAM,CAAC,IAAD,CAAN,CACD,CAbH,EAcD,CAfM,CAAP,CAgBD,CAjBM,CAmBP,MAAO,IAAMuB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAA5B,IAAI,CAAI,CAChC,MAAO,IAAIG,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMF,QAAQ,CAACkC,UAAf,MAA2B5B,IAAI,CAAJA,IAA3B,GAAH,CACGM,IADH,CACQ,SAAAmB,GAAG,CAAI,CACX,GAAIf,CAAAA,OAAO,CAAGe,GAAG,CAACC,OAAlB,CACA;AACA,GAAID,GAAG,CAACjB,MAAJ,EAAc,GAAd,EAAqBiB,GAAG,CAACjB,MAAJ,EAAc,GAAvC,CAA4C,CAC1CJ,OAAO,CAACqB,GAAD,CAAP,CACA,OACD,CACDrB,OAAO,CAAC,IAAD,CAAP,CACD,CATH,EAUGU,KAVH,CAUS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBb,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAEA,OAA1B,CAAD,CAAL,CACAL,MAAM,CAAC,IAAD,CAAN,CACD,CAbH,EAcD,CAfM,CAAP,CAgBD,CAjBM,CAmBP,MAAO,IAAMwB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAA7B,IAAI,CAAI,CAChC,MAAO,IAAIG,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMD,QAAQ,CAACkC,UAAf,MAA2B7B,IAAI,CAAJA,IAA3B,GAAH,CACGM,IADH,CACQ,SAAAmB,GAAG,CAAI,CACX,GAAIf,CAAAA,OAAO,CAAGe,GAAG,CAACC,OAAlB,CACA;AACA,GAAID,GAAG,CAACjB,MAAJ,EAAc,GAAd,EAAqBiB,GAAG,CAACjB,MAAJ,EAAc,GAAvC,CAA4C,CAC1CJ,OAAO,CAACqB,GAAD,CAAP,CACA,OACD,CACDrB,OAAO,CAAC,IAAD,CAAP,CACD,CATH,EAUGU,KAVH,CAUS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBb,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAEA,OAA1B,CAAD,CAAL,CACAL,MAAM,CAAC,IAAD,CAAN,CACD,CAbH,EAcD,CAfM,CAAP,CAgBD,CAjBM,CAmBP;AACA,MAAO,IAAMyB,CAAAA,cAAc,CACzB,QADWA,CAAAA,cACX,CAAA9B,IAAI,QACJ,UAACC,QAAD,CAAWC,QAAX,QAAwC,IAAjBN,CAAAA,GAAiB,QAAjBA,GAAiB,CAAZC,KAAY,QAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMR,OAAO,CAAC0C,cAAd,MAA8B9B,IAAI,CAAJA,IAA9B,GAAH,CACGM,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBH,OAAO,CAACG,QAAD,CAAP,CACA,GAAMG,CAAAA,OAAN,CAAkBH,QAAlB,CAAMG,OAAN,CACA;AACD,CALH,EAMGI,KANH,CAMS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CARH,EASD,CAVM,CAAP,CAWD,CAbG,EADC,CAgBP;AACA,MAAO,IAAMqB,CAAAA,SAAS,CACpB,QADWA,CAAAA,SACX,CAACd,EAAD,CAAKjB,IAAL,QACA,UAACC,QAAD,CAAWC,QAAX,QAAwC,IAAjBN,CAAAA,GAAiB,QAAjBA,GAAiB,CAAZC,KAAY,QAAZA,KAAY,CACtCT,OAAO,CAAC2C,SAAR,CAAkB1C,QAAlB,CAA6B,CAAE2C,GAAG,CAAE,IAAP,CAAaX,OAAO,CAAEJ,EAAtB,CAA7B,CACA,MAAO,IAAId,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMR,OAAO,CAAC2C,SAAd,MAAyB/B,IAAI,CAAJA,IAAzB,GAAH,CACGM,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBH,OAAO,CAACG,QAAD,CAAP,CACA,GAAMG,CAAAA,OAAN,CAAkBH,QAAlB,CAAMG,OAAN,CACA;AACD,CALH,EAMGI,KANH,CAMS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CARH,EASD,CAVM,CAAP,CAWD,CAdD,EADK,CAgBP;AACA,MAAO,IAAMuB,CAAAA,aAAa,CACxB,QADWA,CAAAA,aACX,CAAChB,EAAD,CAAKjB,IAAL,QACA,UAACC,QAAD,CAAWC,QAAX,QAAwC,IAAjBN,CAAAA,GAAiB,QAAjBA,GAAiB,CAAZC,KAAY,QAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCjB,OAAO,CAAC6C,aAAR,CAAsB5C,QAAtB,CAAiC,CAAE2C,GAAG,CAAE,IAAP,CAAaX,OAAO,CAAEJ,EAAtB,CAAjC,CACArB,GAAG,gCAAMR,OAAO,CAAC6C,aAAd,MAA6BjC,IAAI,CAAJA,IAA7B,GAAH,CACGM,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBH,OAAO,CAACG,QAAD,CAAP,CACA,GAAMG,CAAAA,OAAN,CAAkBH,QAAlB,CAAMG,OAAN,CACA;AACD,CALH,EAMGI,KANH,CAMS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CARH,EASD,CAXM,CAAP,CAYD,CAdD,EADK,CAiBP;AACA,MAAO,IAAMwB,CAAAA,cAAc,CACzB,QADWA,CAAAA,cACX,CAAAlC,IAAI,QACJ,UAACC,QAAD,CAAWC,QAAX,QAAwC,IAAjBN,CAAAA,GAAiB,QAAjBA,GAAiB,CAAZC,KAAY,QAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMR,OAAO,CAAC8C,cAAd,MAA8BlC,IAAI,CAAJA,IAA9B,GAAH,CACGM,IADH,CACQ,gBAAuB,IAApBG,CAAAA,IAAoB,QAApBA,IAAoB,CAAdC,OAAc,QAAdA,OAAc,CAC3BN,OAAO,CAAC,IAAD,CAAP,CACA;AACAQ,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCJ,IAAI,CAAC0B,QAAvC,EACD,CALH,EAMGrB,KANH,CAMS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBpB,OAAO,CAACiC,IAAR,CAAa,GAAb,EACAlB,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CATH,EAUD,CAXM,CAAP,CAYD,CAdG,EADC,CAiBP;AACA,MAAO,IAAM0B,CAAAA,cAAc,CACzB,QADWA,CAAAA,cACX,CAAApC,IAAI,QACJ,UAACC,QAAD,CAAWC,QAAX,QAAwC,IAAjBN,CAAAA,GAAiB,QAAjBA,GAAiB,CAAZC,KAAY,QAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMR,OAAO,CAACgD,cAAd,MAA8BpC,IAAI,CAAJA,IAA9B,GAAH,CACGM,IADH,CACQ,gBAAiB,IAAdI,CAAAA,OAAc,QAAdA,OAAc,CACrBN,OAAO,CAAC,IAAD,CAAP,CACA;AACD,CAJH,EAKGU,KALH,CAKS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CAPH,EAQD,CATM,CAAP,CAUD,CAZG,EADC,CAeP;AACA,MAAO,IAAM2B,CAAAA,MAAM,CACjB,QADWA,CAAAA,MACX,CAAArC,IAAI,QACJ,UAACC,QAAD,CAAWC,QAAX,QAAwC,IAAjBN,CAAAA,GAAiB,QAAjBA,GAAiB,CAAZC,KAAY,QAAZA,KAAY,CACtC,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCT,GAAG,gCAAMR,OAAO,CAACkD,MAAd,MAAsBtC,IAAI,CAAJA,IAAtB,GAAH,CACGM,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBH,OAAO,CAACG,QAAD,CAAP,CACA,GAAMG,CAAAA,OAAN,CAAkBH,QAAlB,CAAMG,OAAN,CACA;AACD,CALH,EAMGI,KANH,CAMS,gBAAiB,IAAdJ,CAAAA,OAAc,QAAdA,OAAc,CACtBL,MAAM,CAACR,KAAK,CAAC,CAAEkB,IAAI,CAAE,OAAR,CAAiBL,OAAO,CAAPA,OAAjB,CAAD,CAAN,CAAN,CACD,CARH,EASD,CAVM,CAAP,CAWD,CAbG,EADC","sourcesContent":["import { AuthActionType } from \"redux/actions/actionType\";\r\nimport { authApi } from \"service/apiVariables\";\r\nimport { addQuery } from \"service/helperFunctions\";\r\nimport { history } from \"../../helpers\";\r\nimport {\r\n  saloon,\r\n  staff,\r\n  customer,\r\n  services,\r\n  Products,\r\n} from \"../../service/apiVariables\";\r\nimport { api } from \"../../service/api\";\r\nimport { Toast } from \"../../service/toast\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n\r\n// login action\r\nexport const login =\r\n  body =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.login, body })\r\n        .then(response => {\r\n          // console.log(message,Token,'123')\r\n          resolve(response);\r\n          let { status, data } = response;\r\n          let { message, token } = data;\r\n          if (status === 200 || status === 201) {\r\n            localStorage.setItem(\"AuthToken\", token);\r\n            // localStorage.setItem('AuthTypeId', data.typeId);\r\n            // reject(Toast({ type: 'error', message }));\r\n          }\r\n          // Toast({ type: 'success', message, time: 5000 })\r\n\r\n          // dispatch({ type: AuthActionType.getUserLoginDetails, payload: Token });\r\n\r\n          // if (data.typeId == 1) {\r\n          //   history.push('/admin/adminManagement');\r\n          // } else if (data.typeId == 2) {\r\n          //   history.push('/admin/manageDriver');\r\n          // }\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\nexport const getLoginSaloon =\r\n  id =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.getSaloon })\r\n        .then(response => {\r\n          resolve(response);\r\n          let { message, status } = response;\r\n          if (status === 200 || status === 201) {\r\n            // Toast({ type: 'success', message })\r\n          } else {\r\n            reject(Toast({ type: \"error\", message }));\r\n          }\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\n// Getting user details for header\r\nexport const getTokenDetails =\r\n  body =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.getTokenDetails })\r\n        .then(({ data }) => {\r\n          resolve(true);\r\n          localStorage.setItem(\"AuthTypeId\", data.typeId);\r\n          dispatch({ type: AuthActionType.getTokenDetails, payload: data });\r\n        })\r\n        .catch(({ message }) => {\r\n          localStorage.clear();\r\n          history.push(\"/\");\r\n          // window.location.reload(true)\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\nexport const addStaff = body => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...staff.addStaff, body })\r\n      .then(res => {\r\n        let message = res.Message;\r\n        // Toast({ type: 'error', message: JSON.stringify(message) })\r\n        if (res.status == 200 || res.status == 201) {\r\n          resolve(res);\r\n          return;\r\n        }\r\n        resolve(true);\r\n      })\r\n      .catch(({ message }) => {\r\n        Toast({ type: \"error\", message: message });\r\n        reject(true);\r\n      });\r\n  });\r\n};\r\n\r\nexport const addCustomer = body => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...customer.addCustomer, body })\r\n      .then(res => {\r\n        let message = res.Message;\r\n        // Toast({ type: 'error', message: JSON.stringify(message) })\r\n        if (res.status == 200 || res.status == 201) {\r\n          resolve(res);\r\n          return;\r\n        }\r\n        resolve(true);\r\n      })\r\n      .catch(({ message }) => {\r\n        Toast({ type: \"error\", message: message });\r\n        reject(true);\r\n      });\r\n  });\r\n};\r\n\r\nexport const addService = body => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...services.addService, body })\r\n      .then(res => {\r\n        let message = res.Message;\r\n        // Toast({ type: 'error', message: JSON.stringify(message) })\r\n        if (res.status == 200 || res.status == 201) {\r\n          resolve(res);\r\n          return;\r\n        }\r\n        resolve(true);\r\n      })\r\n      .catch(({ message }) => {\r\n        Toast({ type: \"error\", message: message });\r\n        reject(true);\r\n      });\r\n  });\r\n};\r\n\r\nexport const addProduct = body => {\r\n  return new Promise((resolve, reject) => {\r\n    api({ ...Products.addProduct, body })\r\n      .then(res => {\r\n        let message = res.Message;\r\n        // Toast({ type: 'error', message: JSON.stringify(message) })\r\n        if (res.status == 200 || res.status == 201) {\r\n          resolve(res);\r\n          return;\r\n        }\r\n        resolve(true);\r\n      })\r\n      .catch(({ message }) => {\r\n        Toast({ type: \"error\", message: message });\r\n        reject(true);\r\n      });\r\n  });\r\n};\r\n\r\n// Forgot password common\r\nexport const forgotPassword =\r\n  body =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.forgotPassword, body })\r\n        .then(response => {\r\n          resolve(response);\r\n          let { message } = response;\r\n          //  Toast({ type: \"success\", message });\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\n// Forgot password common\r\nexport const verifyOtp =\r\n  (id, body) =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    authApi.verifyOtp.addQuery = { key: \"id\", payload: id };\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.verifyOtp, body })\r\n        .then(response => {\r\n          resolve(response);\r\n          let { message } = response;\r\n          // Toast({ type: \"success\", message });\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n// Forgot password common\r\nexport const resetPassword =\r\n  (id, body) =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      authApi.resetPassword.addQuery = { key: \"id\", payload: id };\r\n      api({ ...authApi.resetPassword, body })\r\n        .then(response => {\r\n          resolve(response);\r\n          let { message } = response;\r\n          // Toast({ type: \"success\", message });\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\n// get method for token verification\r\nexport const getTokenVerify =\r\n  body =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.getTokenVerify, body })\r\n        .then(({ data, message }) => {\r\n          resolve(true);\r\n          //resolve(Toast({ type: \"success\", message }));\r\n          localStorage.setItem(\"AuthToken\", data.jwtToken);\r\n        })\r\n        .catch(({ message }) => {\r\n          history.push(\"/\");\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\n// Change Password after forgot password\r\nexport const changePassword =\r\n  body =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.changePassword, body })\r\n        .then(({ message }) => {\r\n          resolve(true);\r\n          // resolve(Toast({ type: \"success\", message }));\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n\r\n// Logout using loged user\r\nexport const Logout =\r\n  body =>\r\n  (dispatch, getState, { api, Toast }) => {\r\n    return new Promise((resolve, reject) => {\r\n      api({ ...authApi.logout, body })\r\n        .then(response => {\r\n          resolve(response);\r\n          let { message } = response;\r\n          //Toast({ type: \"success\", message });\r\n        })\r\n        .catch(({ message }) => {\r\n          reject(Toast({ type: \"error\", message }));\r\n        });\r\n    });\r\n  };\r\n"]},"metadata":{},"sourceType":"module"}