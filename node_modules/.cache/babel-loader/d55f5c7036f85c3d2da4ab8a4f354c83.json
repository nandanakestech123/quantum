{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Cart\\\\cart\\\\treatmentDone.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper } from \"component/common\";\nimport { dateFormat } from \"service/helperFunctions\";\nimport _ from \"lodash\";\nimport { history } from \"helpers\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\";\nimport SimpleReactValidator from \"simple-react-validator\"; // import { Treatment, Payment, EditCart } from './cart/index';\n\nimport service from \"assets/images/make-up-brush.png\"; // import Discount from './cart/discount';\n\nimport { StaffList } from \"./StaffList\";\nexport class TreatmentDoneClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: false,\n      currentIndex: -1,\n      tstaffList: [],\n      cartData: {},\n      postFields: {\n        work_point: \"\",\n        times: \"\",\n        helper_id: \"\"\n      },\n      updateFields: {\n        Room: null,\n        Source: null,\n        new_remark: null\n      },\n      formFields: {\n        cartid: \"\",\n        Item: \"\",\n        Price: \"\",\n        Room: null,\n        Source: null,\n        add_duration: \"\",\n        new_remark: null,\n        times: null,\n        work_point: \"\"\n      },\n      outletList: [],\n      headerDetails: [{\n        label: \"Employee name\",\n        sortKey: false,\n        width: \"130px\"\n      }, {\n        label: \"WP1\",\n        width: \"42px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"St. time\",\n        sortKey: false,\n        width: \"55px\",\n        divClass: \"justify-content-center\"\n      }, {\n        label: \"End time\",\n        sortKey: false,\n        width: \"55px\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Duration\",\n        sortKey: false,\n        width: \"55px\",\n        divClass: \"justify-content-center\"\n      }],\n      customerOption: [],\n      // cartData: {},\n      roomList: [],\n      sourceList: [],\n      staffList: [],\n      limit: 6,\n      page: 1,\n      meta: {},\n      duration: [],\n      showPostError: false,\n      showUpdateError: false\n    };\n\n    this.componentDidMount = () => {\n      // this.getCart();\n      this.validator = new SimpleReactValidator({\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n      let {\n        basicApptDetail\n      } = this.props;\n\n      if (basicApptDetail.custId) {\n        let {\n          formFields\n        } = this.state;\n        formFields[\"custId\"] = basicApptDetail.custId;\n        formFields[\"custName\"] = basicApptDetail.custName;\n        this.setState({\n          formFields\n        });\n      }\n\n      let {\n        roomList,\n        sourceList,\n        staffList,\n        cartData,\n        duration,\n        tstaffList\n      } = this.state;\n      this.props.getCommonApi(\"room/\").then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        for (let value of data) {\n          roomList.push({\n            value: value.id,\n            label: value.displayname\n          });\n        }\n\n        this.setState({\n          roomList\n        });\n      });\n      this.props.getCommonApi(`source/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          for (let value of data) {\n            sourceList.push({\n              value: value.id,\n              label: value.source_desc\n            });\n          }\n\n          this.setState({\n            sourceList\n          });\n        }\n      });\n      this.getStafflist();\n      this.getCart();\n      this.props.getCommonApi(`treatment/Duration/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          for (let value of data) {\n            duration.push({\n              value: value,\n              label: value\n            });\n          }\n\n          this.setState({\n            duration\n          });\n        }\n      });\n    };\n\n    this.getStafflist = data => {\n      let {\n        page,\n        limit\n      } = this.state;\n      this.props.getCommonApi(`empcartlist/?sales_staff=0&page=${page}&limit=${limit}`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\n        let {\n          staffList\n        } = this.state;\n        let {\n          meta\n        } = this.state;\n        staffList = [];\n        meta = {};\n        staffList = data;\n        meta = data.meta.pagination;\n        console.log(meta, \"metalist\");\n        this.setState({\n          staffList,\n          meta\n        });\n      });\n    };\n\n    this.handleNext = async () => {\n      let {\n        page\n      } = this.state;\n      page = page + 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStafflist();\n      }\n    };\n\n    this.handleBack = async () => {\n      let {\n        page\n      } = this.state;\n      page = page - 1;\n      await this.setState({\n        page\n      });\n\n      if (page > 0) {\n        this.getStafflist();\n      }\n    };\n\n    this.getCart = () => {\n      let {\n        roomList,\n        sourceList,\n        staffList,\n        cartData,\n        duration,\n        tstaffList\n      } = this.state;\n      this.props.getCommonApi(`tmpitemhelper/?cartid=${this.props.cartId}`).then(key => {\n        // let { status, data } = key;\n        // if (status === 200) {\n        cartData = key;\n        tstaffList = key.data;\n        this.setState({\n          cartData,\n          tstaffList\n        });\n        this.getDataFromRes(key); // }\n      });\n    };\n\n    this.getDataFromRes = data => {\n      let {\n        formFields,\n        cartData,\n        updateFields,\n        postFields\n      } = this.state;\n      formFields[\"Item\"] = data.value.Item;\n      formFields[\"Price\"] = data.value.Price;\n      formFields[\"Room\"] = data.value.Room;\n      updateFields[\"Room\"] = data.value.Room;\n      formFields[\"Source\"] = data.value.Source;\n      updateFields[\"Source\"] = data.value.Source;\n      formFields[\"add_duration\"] = data.value.add_duration;\n      formFields[\"new_remark\"] = data.value.new_remark;\n      updateFields[\"new_remark\"] = data.value.new_remark;\n      postFields[\"times\"] = data.value.times;\n      postFields[\"work_point\"] = data.value.work_point;\n      this.setState({\n        formFields,\n        updateFields,\n        postFields\n      });\n    };\n\n    this.getDateTime = data => {\n      let date = new Date(data);\n      date = String(date).split(\" \");\n      let date1 = date[2] + \"th \" + date[1] + \", \" + date[3];\n      let time = date[4].split(\":\");\n      let time1 = String(Number(time[0]) > 12 ? Number(time[0]) - 12 : time[0]) + \":\" + time[1] + (Number(time[0]) > 12 ? \"PM\" : \"AM\");\n      return time1 + \", \" + date1;\n    };\n\n    this.handleSubmit = id => {\n      this.props.getCommonApi(`tmpitemhelper/confirm/?cartid=${this.props.cartId}`).then(async key => {\n        if (key.status === 200) {\n          this.props.handleModal();\n        }\n      });\n    };\n\n    this.handleDialog = () => {};\n\n    this.handleSearch = event => {\n      event.persist();\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(() => {\n          let searchString = event.target.value;\n          this.props.getCommonApi(`custappt/?search=${searchString}`).then(key => {\n            let {\n              status,\n              data\n            } = key;\n\n            if (status === 200) {\n              // for (let value of data) {\n              //     customerList.push({ value: value.id, label: value.emp_name })\n              // }\n              this.setState({\n                customerOption: data\n              });\n            }\n          });\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleSelectCustomer = async data => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"custId\"] = data.id;\n      formFields[\"custName\"] = data.cust_name;\n      this.setState({\n        formFields,\n        isOpenCustomer: false,\n        customerOption: []\n      });\n      await this.props.updateForm(\"basicApptDetail\", formFields);\n      console.log(this.props.basicApptDetail, \"sdfsadfasdf\");\n    };\n\n    this.handleCartCreated = () => {};\n\n    this.handleCheckout = () => {\n      let {\n        isOpenPayment\n      } = this.state;\n      isOpenPayment = true;\n      this.setState({\n        isOpenPayment\n      });\n    };\n\n    this.handleChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value;\n      await this.setState({\n        formFields\n      }); // this.props.updateForm('customerDetail', formFields)\n      // await this.props.updateForm('appointmentCustomerDetail', formFields)\n    };\n\n    this.handlePostChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        postFields\n      } = this.state;\n      postFields[name] = value;\n      await this.setState({\n        postFields\n      });\n    };\n\n    this.handleUpdateChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        updateFields\n      } = this.state;\n      updateFields[name] = value;\n      await this.setState({\n        updateFields\n      });\n      let event = {\n        target: {\n          value: value,\n          name: name\n        }\n      }; // this.handleUpdatestaff(event);\n    };\n\n    this.handleAddstaff = item => {\n      let {\n        tstaffList,\n        formFields,\n        cartData,\n        postFields\n      } = this.state;\n      let data = {\n        helper_id: item.id\n      };\n\n      if (postFields.work_point && postFields.times) {\n        this.props.commonCreateApi(`tmpitemhelper/?cartid=${this.props.cartId}&workcommpoints=${postFields.work_point}&times=${postFields.times}`, data).then(() => {\n          this.getCart();\n        });\n      } else {\n        this.setState({\n          showPostError: true\n        });\n      }\n    };\n\n    this.handleUpdatestaff = async (event, item, index) => {\n      let {\n        tstaffList,\n        formFields,\n        cartData,\n        updateFields\n      } = this.state;\n      tstaffList[index][event.target.name] = event.target.value;\n      this.setState({\n        tstaffList\n      });\n      let data = {};\n\n      if (event.target.name === \"appt_fr_time\") {\n        data = {\n          appt_fr_time: event.target.value,\n          add_duration: formFields[\"add_duration\"]\n        };\n      }\n\n      if (event.target.name === \"add_duration\") {\n        data = {\n          appt_fr_time: item.appt_fr_time,\n          add_duration: event.target.value\n        };\n      } // if (updateFields.Source && updateFields.Room) {\n\n\n      this.props.commonPatchApi(`tmpitemhelper/${item.id}/?Room_Codeid=${updateFields.Room}&Source_Codeid=${updateFields.Source}&new_remark=${updateFields.new_remark}`, data).then(() => {\n        this.getCart();\n      }); // } else {\n      //     this.setState({ showUpdateError: true })\n      // }\n    };\n\n    this.handleClearLine = () => {\n      this.props.commonDeleteApi(`tmpitemhelper/delete/?clear_all=0&cartid=${this.props.cartId}`).then(() => {\n        this.getCart();\n      });\n    };\n\n    this.handleClearAll = () => {\n      this.props.commonDeleteApi(`tmpitemhelper/delete/?clear_all=1&cartid=${this.props.cartId}`).then(() => {\n        let {\n          formFields,\n          postFields\n        } = this.state;\n        formFields[\"work_point\"] = \"\";\n        postFields[\"times\"] = \"\";\n        this.setState({\n          formFields,\n          postFields\n        });\n        this.getCart();\n      });\n    };\n  }\n\n  render() {\n    let {\n      staffList = [],\n      tstaffList = [],\n      roomList,\n      sourceList,\n      formFields,\n      headerDetails,\n      cartData,\n      postFields,\n      updateFields,\n      duration,\n      meta\n    } = this.state;\n    let {\n      value = {},\n      data = {}\n    } = cartData;\n    let {\n      Item,\n      Price,\n      work_point\n    } = value;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart treatment-done\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"fs-18 font-700 mb-3 title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }\n    }, \"Treatment Done\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }\n    }, \"Item\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }\n    }, Item), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }\n    }, Price), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }\n    }, \"Work Point\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: postFields.work_point,\n      name: \"work_point\",\n      onChange: this.handlePostChange,\n      className: `customer-name ${!postFields.work_point ? \"required\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }\n    }, \"Sessions\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      value: postFields.times,\n      name: \"times\",\n      onChange: this.handlePostChange,\n      className: `customer-name ${!postFields.times ? \"required\" : \"\"}`,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 13\n      }\n    }, \"Room\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect // placeholder=\"Enter here\"\n    , {\n      options: roomList,\n      value: updateFields.Room,\n      name: \"Room\",\n      onChange: this.handleUpdateChange,\n      className: \"customer-name py-0\" // disabled={formFields.Room}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 13\n      }\n    }, \"Source\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect // placeholder=\"Enter here\"\n    , {\n      options: sourceList,\n      value: updateFields.Source,\n      name: \"Source\",\n      onChange: this.handleUpdateChange,\n      className: \"customer-name py-0\" // disabled={formFields.Source}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 13\n      }\n    }, \"New Remark\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput // placeholder=\"Enter here\"\n    // options={siteList}\n    , {\n      value: updateFields.new_remark,\n      name: \"new_remark\",\n      onChange: this.handleUpdateChange,\n      className: \"customer-name\" // disabled={formFields.new_remark}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(StaffList, {\n      staffList: staffList,\n      meta: meta,\n      handleNext: () => this.handleNext(),\n      handleBack: () => this.handleBack(),\n      handleSelectedStaff: item => this.handleAddstaff(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: `col-12 cart-item`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `item-list`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      queryHandler: this.handlePagination // pageMeta={pageMeta}\n      // isEmpty={tstaffList.length === 0 ? true:false}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 15\n      }\n    }, tstaffList.length > 0 ? tstaffList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"position-relative status-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: ``,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 29\n        }\n      }, item.helper_name)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 29\n        }\n      }, item.wp1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `${tstaffList.length > 0 ? \"d-flex\" : \"display-none\"} align-items-center justify-content-center`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalSelect // placeholder=\"Enter here\"\n      , {\n        options: duration,\n        value: item.appt_fr_time,\n        name: \"appt_fr_time\",\n        onChange: event => this.handleUpdatestaff(event, item, index),\n        className: \"customer-name py-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 33\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 29\n        }\n      }, item.appt_to_time)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 27\n        }\n      }, tstaffList.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: `${tstaffList.length > 0 ? \"d-flex\" : \"display-none\"} align-items-center justify-content-center`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(NormalSelect // placeholder=\"Enter here\"\n      , {\n        options: duration,\n        value: item.add_duration,\n        name: \"add_duration\",\n        onChange: event => this.handleUpdatestaff(event, item, index),\n        className: \"customer-name p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 35\n        }\n      }))) : \"\"));\n    }) : null)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 pt-4 action-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      resetbg: true,\n      className: \"fs-15\",\n      label: \"Clear Line\",\n      outline: false,\n      onClick: this.handleClearLine,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      resetbg: true,\n      className: \"fs-15\",\n      label: \"Clear All\",\n      onClick: this.handleClearAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \" fs-15 confirm\",\n      label: \"Confirm\",\n      outline: false,\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  selected_cstomer: state.common.selected_cstomer,\n  basicApptDetail: state.appointment.basicApptDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    // getCustomer,\n    getCommonApi,\n    updateForm,\n    commonCreateApi,\n    commonPatchApi,\n    commonDeleteApi\n  }, dispatch);\n};\n\nexport const TreatmentDone = connect(mapStateToProps, mapDispatchToProps)(TreatmentDoneClass);","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Cart/cart/treatmentDone.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","SimpleReactValidator","service","StaffList","TreatmentDoneClass","state","isOpen","currentIndex","tstaffList","cartData","postFields","work_point","times","helper_id","updateFields","Room","Source","new_remark","formFields","cartid","Item","Price","add_duration","outletList","headerDetails","label","sortKey","width","divClass","customerOption","roomList","sourceList","staffList","limit","page","meta","duration","showPostError","showUpdateError","componentDidMount","validator","element","message","autoForceUpdate","basicApptDetail","props","custId","custName","setState","then","key","status","data","value","push","id","displayname","source_desc","getStafflist","getCart","console","log","pagination","handleNext","handleBack","cartId","getDataFromRes","getDateTime","date","Date","String","split","date1","time","time1","Number","handleSubmit","handleModal","handleDialog","handleSearch","event","persist","debouncedFn","debounce","searchString","target","handleSelectCustomer","cust_name","isOpenCustomer","handleCartCreated","handleCheckout","isOpenPayment","handleChange","name","handlePostChange","handleUpdateChange","handleAddstaff","item","handleUpdatestaff","index","appt_fr_time","handleClearLine","handleClearAll","render","handlePagination","length","map","helper_name","wp1","appt_to_time","mapStateToProps","selected_cstomer","common","appointment","mapDispatchToProps","dispatch","TreatmentDone"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport {\r\n  NormalButton,\r\n  NormalInput,\r\n  NormalSelect,\r\n  InputSearch,\r\n  NormalModal,\r\n  TableWrapper,\r\n} from \"component/common\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"helpers\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\n// import { Treatment, Payment, EditCart } from './cart/index';\r\nimport service from \"assets/images/make-up-brush.png\";\r\n// import Discount from './cart/discount';\r\nimport { StaffList } from \"./StaffList\";\r\n\r\nexport class TreatmentDoneClass extends Component {\r\n  state = {\r\n    isOpen: false,\r\n    currentIndex: -1,\r\n    tstaffList: [],\r\n    cartData: {},\r\n    postFields: {\r\n      work_point: \"\",\r\n      times: \"\",\r\n      helper_id: \"\",\r\n    },\r\n    updateFields: {\r\n      Room: null,\r\n      Source: null,\r\n      new_remark: null,\r\n    },\r\n    formFields: {\r\n      cartid: \"\",\r\n      Item: \"\",\r\n      Price: \"\",\r\n      Room: null,\r\n      Source: null,\r\n      add_duration: \"\",\r\n      new_remark: null,\r\n      times: null,\r\n      work_point: \"\",\r\n    },\r\n    outletList: [],\r\n    headerDetails: [\r\n      { label: \"Employee name\", sortKey: false, width: \"130px\" },\r\n      {\r\n        label: \"WP1\",\r\n        width: \"42px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"St. time\",\r\n        sortKey: false,\r\n        width: \"55px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n      {\r\n        label: \"End time\",\r\n        sortKey: false,\r\n        width: \"55px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Duration\",\r\n        sortKey: false,\r\n        width: \"55px\",\r\n        divClass: \"justify-content-center\",\r\n      },\r\n    ],\r\n    customerOption: [],\r\n    // cartData: {},\r\n    roomList: [],\r\n    sourceList: [],\r\n    staffList: [],\r\n    limit: 6,\r\n    page: 1,\r\n    meta: {},\r\n    duration: [],\r\n    showPostError: false,\r\n    showUpdateError: false,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // this.getCart();\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n    let { basicApptDetail } = this.props;\r\n    if (basicApptDetail.custId) {\r\n      let { formFields } = this.state;\r\n      formFields[\"custId\"] = basicApptDetail.custId;\r\n      formFields[\"custName\"] = basicApptDetail.custName;\r\n      this.setState({ formFields });\r\n    }\r\n    let { roomList, sourceList, staffList, cartData, duration, tstaffList } =\r\n      this.state;\r\n    this.props.getCommonApi(\"room/\").then(key => {\r\n      let { status, data } = key;\r\n      for (let value of data) {\r\n        roomList.push({ value: value.id, label: value.displayname });\r\n      }\r\n      this.setState({ roomList });\r\n    });\r\n    this.props.getCommonApi(`source/`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          sourceList.push({ value: value.id, label: value.source_desc });\r\n        }\r\n        this.setState({ sourceList });\r\n      }\r\n    });\r\n    this.getStafflist();\r\n\r\n    this.getCart();\r\n    this.props.getCommonApi(`treatment/Duration/`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          duration.push({ value: value, label: value });\r\n        }\r\n        this.setState({ duration });\r\n      }\r\n    });\r\n  };\r\n\r\n  getStafflist = data => {\r\n    let { page, limit } = this.state;\r\n    this.props\r\n      .getCommonApi(`empcartlist/?sales_staff=0&page=${page}&limit=${limit}`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"sdfgsdfgsdfgdfg sdfgsdfgsdfg\");\r\n        let { staffList } = this.state;\r\n        let { meta } = this.state;\r\n        staffList = [];\r\n        meta = {};\r\n        staffList = data;\r\n        meta = data.meta.pagination;\r\n        console.log(meta, \"metalist\");\r\n        this.setState({\r\n          staffList,\r\n          meta,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleNext = async () => {\r\n    let { page } = this.state;\r\n    page = page + 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  handleBack = async () => {\r\n    let { page } = this.state;\r\n    page = page - 1;\r\n    await this.setState({\r\n      page,\r\n    });\r\n    if (page > 0) {\r\n      this.getStafflist();\r\n    }\r\n  };\r\n\r\n  getCart = () => {\r\n    let { roomList, sourceList, staffList, cartData, duration, tstaffList } =\r\n      this.state;\r\n    this.props\r\n      .getCommonApi(`tmpitemhelper/?cartid=${this.props.cartId}`)\r\n      .then(key => {\r\n        // let { status, data } = key;\r\n        // if (status === 200) {\r\n        cartData = key;\r\n        tstaffList = key.data;\r\n        this.setState({ cartData, tstaffList });\r\n        this.getDataFromRes(key);\r\n        // }\r\n      });\r\n  };\r\n\r\n  getDataFromRes = data => {\r\n    let { formFields, cartData, updateFields, postFields } = this.state;\r\n    formFields[\"Item\"] = data.value.Item;\r\n    formFields[\"Price\"] = data.value.Price;\r\n    formFields[\"Room\"] = data.value.Room;\r\n    updateFields[\"Room\"] = data.value.Room;\r\n    formFields[\"Source\"] = data.value.Source;\r\n    updateFields[\"Source\"] = data.value.Source;\r\n    formFields[\"add_duration\"] = data.value.add_duration;\r\n    formFields[\"new_remark\"] = data.value.new_remark;\r\n    updateFields[\"new_remark\"] = data.value.new_remark;\r\n    postFields[\"times\"] = data.value.times;\r\n    postFields[\"work_point\"] = data.value.work_point;\r\n    this.setState({\r\n      formFields,\r\n      updateFields,\r\n      postFields,\r\n    });\r\n  };\r\n\r\n  getDateTime = data => {\r\n    let date = new Date(data);\r\n    date = String(date).split(\" \");\r\n    let date1 = date[2] + \"th \" + date[1] + \", \" + date[3];\r\n    let time = date[4].split(\":\");\r\n    let time1 =\r\n      String(Number(time[0]) > 12 ? Number(time[0]) - 12 : time[0]) +\r\n      \":\" +\r\n      time[1] +\r\n      (Number(time[0]) > 12 ? \"PM\" : \"AM\");\r\n    return time1 + \", \" + date1;\r\n  };\r\n\r\n  handleSubmit = id => {\r\n    this.props\r\n      .getCommonApi(`tmpitemhelper/confirm/?cartid=${this.props.cartId}`)\r\n      .then(async key => {\r\n        if (key.status === 200) {\r\n          this.props.handleModal();\r\n        }\r\n      });\r\n  };\r\n\r\n  handleDialog = () => {};\r\n\r\n  handleSearch = event => {\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        this.props\r\n          .getCommonApi(`custappt/?search=${searchString}`)\r\n          .then(key => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n              // for (let value of data) {\r\n              //     customerList.push({ value: value.id, label: value.emp_name })\r\n              // }\r\n              this.setState({ customerOption: data });\r\n            }\r\n          });\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n\r\n  handleSelectCustomer = async data => {\r\n    let { formFields } = this.state;\r\n    formFields[\"custId\"] = data.id;\r\n    formFields[\"custName\"] = data.cust_name;\r\n    this.setState({ formFields, isOpenCustomer: false, customerOption: [] });\r\n    await this.props.updateForm(\"basicApptDetail\", formFields);\r\n    console.log(this.props.basicApptDetail, \"sdfsadfasdf\");\r\n  };\r\n\r\n  handleCartCreated = () => {};\r\n\r\n  handleCheckout = () => {\r\n    let { isOpenPayment } = this.state;\r\n    isOpenPayment = true;\r\n    this.setState({ isOpenPayment });\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    await this.setState({\r\n      formFields,\r\n    });\r\n    // this.props.updateForm('customerDetail', formFields)\r\n    // await this.props.updateForm('appointmentCustomerDetail', formFields)\r\n  };\r\n\r\n  handlePostChange = async ({ target: { value, name } }) => {\r\n    let { postFields } = this.state;\r\n    postFields[name] = value;\r\n    await this.setState({\r\n      postFields,\r\n    });\r\n  };\r\n\r\n  handleUpdateChange = async ({ target: { value, name } }) => {\r\n    let { updateFields } = this.state;\r\n    updateFields[name] = value;\r\n    await this.setState({\r\n      updateFields,\r\n    });\r\n    let event = { target: { value: value, name: name } };\r\n    // this.handleUpdatestaff(event);\r\n  };\r\n\r\n  handleAddstaff = item => {\r\n    let { tstaffList, formFields, cartData, postFields } = this.state;\r\n    let data = {\r\n      helper_id: item.id,\r\n    };\r\n    if (postFields.work_point && postFields.times) {\r\n      this.props\r\n        .commonCreateApi(\r\n          `tmpitemhelper/?cartid=${this.props.cartId}&workcommpoints=${postFields.work_point}&times=${postFields.times}`,\r\n          data\r\n        )\r\n        .then(() => {\r\n          this.getCart();\r\n        });\r\n    } else {\r\n      this.setState({ showPostError: true });\r\n    }\r\n  };\r\n\r\n  handleUpdatestaff = async (event, item, index) => {\r\n    let { tstaffList, formFields, cartData, updateFields } = this.state;\r\n    tstaffList[index][event.target.name] = event.target.value;\r\n    this.setState({\r\n      tstaffList,\r\n    });\r\n    let data = {};\r\n    if (event.target.name === \"appt_fr_time\") {\r\n      data = {\r\n        appt_fr_time: event.target.value,\r\n        add_duration: formFields[\"add_duration\"],\r\n      };\r\n    }\r\n    if (event.target.name === \"add_duration\") {\r\n      data = {\r\n        appt_fr_time: item.appt_fr_time,\r\n        add_duration: event.target.value,\r\n      };\r\n    }\r\n\r\n    // if (updateFields.Source && updateFields.Room) {\r\n    this.props\r\n      .commonPatchApi(\r\n        `tmpitemhelper/${item.id}/?Room_Codeid=${updateFields.Room}&Source_Codeid=${updateFields.Source}&new_remark=${updateFields.new_remark}`,\r\n        data\r\n      )\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n    // } else {\r\n    //     this.setState({ showUpdateError: true })\r\n    // }\r\n  };\r\n\r\n  handleClearLine = () => {\r\n    this.props\r\n      .commonDeleteApi(\r\n        `tmpitemhelper/delete/?clear_all=0&cartid=${this.props.cartId}`\r\n      )\r\n      .then(() => {\r\n        this.getCart();\r\n      });\r\n  };\r\n\r\n  handleClearAll = () => {\r\n    this.props\r\n      .commonDeleteApi(\r\n        `tmpitemhelper/delete/?clear_all=1&cartid=${this.props.cartId}`\r\n      )\r\n      .then(() => {\r\n        let { formFields, postFields } = this.state;\r\n        formFields[\"work_point\"] = \"\";\r\n        postFields[\"times\"] = \"\";\r\n        this.setState({\r\n          formFields,\r\n          postFields,\r\n        });\r\n        this.getCart();\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      staffList = [],\r\n      tstaffList = [],\r\n      roomList,\r\n      sourceList,\r\n      formFields,\r\n      headerDetails,\r\n      cartData,\r\n      postFields,\r\n      updateFields,\r\n      duration,\r\n      meta,\r\n    } = this.state;\r\n    let { value = {}, data = {} } = cartData;\r\n    let { Item, Price, work_point } = value;\r\n    return (\r\n      <div className=\"row new-cart treatment-done\">\r\n        <div className=\"col-12\">\r\n          <p className=\"fs-18 font-700 mb-3 title\">Treatment Done</p>\r\n        </div>\r\n        <div className=\"col-6 mb-2\">\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Item\r\n          </label>\r\n          <div className=\"input-group mb-2\">{Item}</div>\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Price\r\n          </label>\r\n          <div className=\"input-group mb-2\">{Price}</div>\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Work Point\r\n          </label>\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              value={postFields.work_point}\r\n              name=\"work_point\"\r\n              onChange={this.handlePostChange}\r\n              className={`customer-name ${\r\n                !postFields.work_point ? \"required\" : \"\"\r\n              }`}\r\n            />\r\n          </div>\r\n          <label className=\"text-left text-black common-label-text \">\r\n            Sessions\r\n          </label>\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              value={postFields.times}\r\n              name=\"times\"\r\n              onChange={this.handlePostChange}\r\n              className={`customer-name ${!postFields.times ? \"required\" : \"\"}`}\r\n              disabled\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-6 mb-2\">\r\n          <div>\r\n            <label className=\"text-left text-black common-label-text \">\r\n              Room\r\n            </label>\r\n          </div>\r\n          <div className=\"input-group mb-2\">\r\n            <NormalSelect\r\n              // placeholder=\"Enter here\"\r\n              options={roomList}\r\n              value={updateFields.Room}\r\n              name=\"Room\"\r\n              onChange={this.handleUpdateChange}\r\n              className=\"customer-name py-0\"\r\n              // disabled={formFields.Room}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-left text-black common-label-text \">\r\n              Source\r\n            </label>\r\n          </div>\r\n          <div className=\"input-group mb-2\">\r\n            <NormalSelect\r\n              // placeholder=\"Enter here\"\r\n              options={sourceList}\r\n              value={updateFields.Source}\r\n              name=\"Source\"\r\n              onChange={this.handleUpdateChange}\r\n              className=\"customer-name py-0\"\r\n              // disabled={formFields.Source}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-left text-black common-label-text \">\r\n              New Remark\r\n            </label>\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <NormalInput\r\n              // placeholder=\"Enter here\"\r\n              // options={siteList}\r\n              value={updateFields.new_remark}\r\n              name=\"new_remark\"\r\n              onChange={this.handleUpdateChange}\r\n              className=\"customer-name\"\r\n              // disabled={formFields.new_remark}\r\n            />\r\n          </div>\r\n        </div>\r\n        <StaffList\r\n          staffList={staffList}\r\n          meta={meta}\r\n          handleNext={() => this.handleNext()}\r\n          handleBack={() => this.handleBack()}\r\n          handleSelectedStaff={item => this.handleAddstaff(item)}\r\n        />\r\n        <div className={`col-12 cart-item`}>\r\n          <div className={`item-list`}>\r\n            <div className=\"table\">\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n                // pageMeta={pageMeta}\r\n                // isEmpty={tstaffList.length === 0 ? true:false}\r\n              >\r\n                {tstaffList.length > 0\r\n                  ? tstaffList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td className=\"position-relative status-type\">\r\n                            <span className={``}></span>\r\n                            <div className=\"text-left\">{item.helper_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{item.wp1}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div\r\n                              className={`${\r\n                                tstaffList.length > 0\r\n                                  ? \"d-flex\"\r\n                                  : \"display-none\"\r\n                              } align-items-center justify-content-center`}\r\n                            >\r\n                              <div className=\"input-group\">\r\n                                <NormalSelect\r\n                                  // placeholder=\"Enter here\"\r\n                                  options={duration}\r\n                                  value={item.appt_fr_time}\r\n                                  name=\"appt_fr_time\"\r\n                                  onChange={event =>\r\n                                    this.handleUpdatestaff(event, item, index)\r\n                                  }\r\n                                  className=\"customer-name py-0\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">\r\n                              {item.appt_to_time}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            {tstaffList.length > 0 ? (\r\n                              <div\r\n                                className={`${\r\n                                  tstaffList.length > 0\r\n                                    ? \"d-flex\"\r\n                                    : \"display-none\"\r\n                                } align-items-center justify-content-center`}\r\n                              >\r\n                                <div className=\"input-group\">\r\n                                  <NormalSelect\r\n                                    // placeholder=\"Enter here\"\r\n                                    options={duration}\r\n                                    value={item.add_duration}\r\n                                    name=\"add_duration\"\r\n                                    onChange={event =>\r\n                                      this.handleUpdatestaff(event, item, index)\r\n                                    }\r\n                                    className=\"customer-name p-0\"\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 pt-4 action-bar\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6 d-flex\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                resetbg={true}\r\n                className=\"fs-15\"\r\n                label=\"Clear Line\"\r\n                outline={false}\r\n                onClick={this.handleClearLine}\r\n              />\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                resetbg={true}\r\n                className=\"fs-15\"\r\n                label=\"Clear All\"\r\n                onClick={this.handleClearAll}\r\n              />\r\n            </div>\r\n            <div className=\"col-6 text-right\">\r\n              <NormalButton\r\n                buttonClass={\"mx-2\"}\r\n                mainbg={true}\r\n                className=\" fs-15 confirm\"\r\n                label=\"Confirm\"\r\n                outline={false}\r\n                onClick={this.handleSubmit}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selected_cstomer: state.common.selected_cstomer,\r\n  basicApptDetail: state.appointment.basicApptDetail,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      // getCustomer,\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TreatmentDone = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TreatmentDoneClass);\r\n"]},"metadata":{},"sourceType":"module"}