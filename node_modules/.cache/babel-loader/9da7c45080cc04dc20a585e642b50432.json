{"ast":null,"code":"import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{NormalButton}from'component/common';import{InputSearch}from'component/common';// import Modal from '../../../../assets/images/modal-avatar.png';\nimport'./style.scss';import{getStaffAvailability}from'redux/actions/staff';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import _ from'lodash';export var StaffAvailabilityClass=/*#__PURE__*/function(_React$Component){_inherits(StaffAvailabilityClass,_React$Component);var _super=_createSuper(StaffAvailabilityClass);function StaffAvailabilityClass(){var _this;_classCallCheck(this,StaffAvailabilityClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[],dateArray:[],timeAvailable:[],workSchedule:[{label:'No.Of Days Worked',data1:'7',data2:'7',data3:'7',data4:'7',data5:'7',data6:'7',data7:'7',data8:'7',data9:'7'},{label:'Hours Worked',data1:'84.5',data2:'84.5',data3:'84.5',data4:'84.5',data5:'84.5',data6:'84.5',data7:'84.5',data8:'84.5',data9:'84.5'},{label:'Late Entry',data1:'0',data2:'0',data3:'0',data4:'0',data5:'0',data6:'0',data7:'0',data8:'0',data9:'0'},{label:'Overtime Hours',data1:'0.5',data2:'0.5',data3:'0.5',data4:'0.5',data5:'0.5',data6:'0.5',data7:'0.5',data8:'0.5',data9:'0.5'},{label:'Early Release',data1:'0',data2:'0',data3:'0',data4:'0',data5:'0',data6:'0',data7:'0',data8:'0',data9:'0'}],data:[]};_this.queryHandler=function(data){var _data$page=data.page,page=_data$page===void 0?1:_data$page,_data$limit=data.limit,limit=_data$limit===void 0?10:_data$limit,_data$search=data.search,search=_data$search===void 0?\"\":_data$search;var _this$state=_this.state,headerDetails=_this$state.headerDetails,dateArray=_this$state.dateArray,timeAvailable=_this$state.timeAvailable;_this.props.getStaffAvailability(\"?page=\".concat(page,\"&limit=\").concat(limit,\"&search=\").concat(search)).then(function(res){console.log(res,\"dsfdfaafg\",Object.keys(res.data.dataList[0])[0]);_this.setState({data:res.data.dataList});var _iterator=_createForOfIteratorHelper(res.data.dataList[0][Object.keys(res.data.dataList[0])[0]]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _key3=_step.value;headerDetails.push({avatar:_key3.emp_img,name:_key3.emp_name});_this.setState({headerDetails:headerDetails});}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var _i=0,_Object$keys=Object.keys(res.data.dataList[0]);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];dateArray.push({date:key});_this.setState({dateArray:dateArray});}for(var _i2=0,_Object$keys2=Object.keys(res.data.dataList[0]);_i2<_Object$keys2.length;_i2++){var _key2=_Object$keys2[_i2];console.log(_key2,\"kasdfiuashdf\",res.data.dataList[0][_key2]);timeAvailable.push(res.data.dataList[0][_key2]);_this.setState({timeAvailable:timeAvailable});}});};_this.handlePagination=function(page){_this.queryHandler(page);};_this.handlesearch=function(event){event.persist();if(!_this.debouncedFn){_this.debouncedFn=_.debounce(function(){var searchString=event.target.value;var data={search:searchString};_this.queryHandler(data);},500);}_this.debouncedFn();};return _this;}_createClass(StaffAvailabilityClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.queryHandler({});}// get api call for staff availability\n},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,headerDetails=_this$state2.headerDetails,dateArray=_this$state2.dateArray,workSchedule=_this$state2.workSchedule,timeAvailable=_this$state2.timeAvailable;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"staff-availability container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 detail\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category\",onClick:function onClick(){return _this2.props.history.push('/admin/staff');}},\"Staffs \"),/*#__PURE__*/React.createElement(\"i\",{className:\"icon-right mx-md-3\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"sub-category\"},\"Staffs  Availability\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-container\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Staff\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-4 ml-md-4 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 float-right\",label:\"Add Staff\",onClick:function onClick(){return _this2.props.history.push('/admin/staff/add');}}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"maintable table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"maintable-content table-responsive \"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"date-title\"},/*#__PURE__*/React.createElement(\"div\",null,\"Date\")),headerDetails&&headerDetails.map(function(_ref,index){var avatar=_ref.avatar,name=_ref.name;return/*#__PURE__*/React.createElement(\"th\",{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"table-head-available\"},/*#__PURE__*/React.createElement(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,name,\" \")));}))),/*#__PURE__*/React.createElement(\"tbody\",null,dateArray&&dateArray.map(function(data,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"date-available ml-3\"},data.date),/*#__PURE__*/React.createElement(\"div\",{className:\"in-out\"},/*#__PURE__*/React.createElement(\"p\",null,\"In\"),/*#__PURE__*/React.createElement(\"p\",null,\"Out\"))),console.log(timeAvailable,\"lskjdflkjpodf\",index),timeAvailable.length>index?timeAvailable[index].map(function(value,key){return/*#__PURE__*/React.createElement(\"td\",{key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"data-available\"},value.in_val),/*#__PURE__*/React.createElement(\"div\",{className:\"data-available\"},value.out_val));}):\"\");})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-container work-schedule\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,workSchedule&&workSchedule.map(function(data,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"label\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.label)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data1)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data2)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data3)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data4)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data5)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data6)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data7)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data8)),/*#__PURE__*/React.createElement(\"td\",{className:\"data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},data.data9)));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"palette\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},\"Late entry\")),/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color OT\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},\"Overtime\")),/*#__PURE__*/React.createElement(\"div\",{className:\"color-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"color early\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},\"Early release\")))));}}]);return StaffAvailabilityClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{// filter: state.dashboard\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getStaffAvailability:getStaffAvailability},dispatch);};export var StaffAvailability=connect(mapStateToProps,mapDispatchToProps)(StaffAvailabilityClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Staff/StaffAvailability/index.js"],"names":["React","NormalButton","InputSearch","getStaffAvailability","connect","bindActionCreators","_","StaffAvailabilityClass","state","headerDetails","dateArray","timeAvailable","workSchedule","label","data1","data2","data3","data4","data5","data6","data7","data8","data9","data","queryHandler","page","limit","search","props","then","res","console","log","Object","keys","dataList","setState","key","push","avatar","emp_img","name","emp_name","date","handlePagination","handlesearch","event","persist","debouncedFn","debounce","searchString","target","value","history","handleChange","map","index","length","in_val","out_val","Component","mapStateToProps","mapDispatchToProps","dispatch","StaffAvailability"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { NormalButton } from 'component/common';\r\nimport { InputSearch } from 'component/common';\r\n// import Modal from '../../../../assets/images/modal-avatar.png';\r\nimport './style.scss'\r\nimport { getStaffAvailability } from 'redux/actions/staff';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from 'lodash';\r\n\r\nexport class StaffAvailabilityClass extends React.Component {\r\n    state = {\r\n        headerDetails: [],\r\n        dateArray: [],\r\n        timeAvailable: [],\r\n        workSchedule: [\r\n            { label: 'No.Of Days Worked', data1: '7', data2: '7', data3: '7', data4: '7', data5: '7', data6: '7', data7: '7', data8: '7', data9: '7' },\r\n            { label: 'Hours Worked', data1: '84.5', data2: '84.5', data3: '84.5', data4: '84.5', data5: '84.5', data6: '84.5', data7: '84.5', data8: '84.5', data9: '84.5' },\r\n            { label: 'Late Entry', data1: '0', data2: '0', data3: '0', data4: '0', data5: '0', data6: '0', data7: '0', data8: '0', data9: '0' },\r\n            { label: 'Overtime Hours', data1: '0.5', data2: '0.5', data3: '0.5', data4: '0.5', data5: '0.5', data6: '0.5', data7: '0.5', data8: '0.5', data9: '0.5' },\r\n            { label: 'Early Release', data1: '0', data2: '0', data3: '0', data4: '0', data5: '0', data6: '0', data7: '0', data8: '0', data9: '0' },\r\n        ],\r\n        data: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.queryHandler({});\r\n    }\r\n\r\n    // get api call for staff availability\r\n    queryHandler = (data) => {\r\n        let { page = 1, limit = 10, search = \"\" } = data\r\n        let { headerDetails, dateArray, timeAvailable } = this.state;\r\n        this.props.getStaffAvailability(`?page=${page}&limit=${limit}&search=${search}`).then((res) => {\r\n            console.log(res, \"dsfdfaafg\", Object.keys(res.data.dataList[0])[0])\r\n            this.setState({data:res.data.dataList})\r\n            for(let key of res.data.dataList[0][Object.keys(res.data.dataList[0])[0]]){\r\n                \r\n                \r\n                headerDetails.push({ avatar: key.emp_img, name: key.emp_name })\r\n                this.setState({headerDetails})\r\n            }\r\n            for(let key of Object.keys(res.data.dataList[0])){\r\n                dateArray.push({ date: key,})\r\n                this.setState({dateArray})\r\n            }\r\n            for(let key of Object.keys(res.data.dataList[0])){\r\n                console.log(key, \"kasdfiuashdf\", res.data.dataList[0][key])\r\n                timeAvailable.push(res.data.dataList[0][key])\r\n                this.setState({timeAvailable})\r\n            }\r\n        })\r\n    }\r\n\r\n    // pagianation\r\n    handlePagination = (page) => {\r\n        this.queryHandler(page)\r\n    }\r\n\r\n    // search api call and change field\r\n    handlesearch = (event) => {\r\n        event.persist();\r\n\r\n        if (!this.debouncedFn) {\r\n            this.debouncedFn = _.debounce(() => {\r\n                let searchString = event.target.value;\r\n                let data = { search: searchString }\r\n                this.queryHandler(data)\r\n            }, 500);\r\n        }\r\n        this.debouncedFn();\r\n    }\r\n\r\n    render() {\r\n        let { headerDetails, dateArray, workSchedule, timeAvailable } = this.state;\r\n        return (\r\n            <>\r\n                <div className=\"staff-availability container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-7 detail\">\r\n                            {/* <div className=\"detail\"> */}\r\n                            <p className=\"category\" onClick={() => this.props.history.push('/admin/staff')}>Staffs </p>\r\n                            <i className=\"icon-right mx-md-3\"></i>\r\n                            <p className=\"sub-category\">Staffs  Availability</p>\r\n                            {/* </div> */}\r\n                        </div>\r\n                        <div className=\"col-md-5\">\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <div className=\"input-container\">\r\n                                    <InputSearch\r\n                                        className=\"\"\r\n                                        placeholder='Search Staff'\r\n                                        onChange={this.handleChange} />\r\n                                </div>\r\n\r\n                                <div className=\"w-100 col-4 ml-md-4 p-0\">\r\n                                    <NormalButton\r\n                                        mainbg={true}\r\n                                        className=\"col-12 fs-15 float-right\"\r\n                                        label=\"Add Staff\"\r\n                                        onClick={() => this.props.history.push('/admin/staff/add')}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"tab-table-content\">\r\n                        <div className=\"py-4\">\r\n                            <div className=\"table-container\">\r\n                                <div className=\"maintable table-container\">\r\n                                    <div className=\"maintable-content table-responsive \">\r\n                                        <table className=\"table\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th className=\"date-title\"><div>Date</div></th>\r\n                                                    {headerDetails && headerDetails.map(({ avatar, name }, index) => (\r\n                                                        <th key={index}>\r\n                                                            <div className=\"table-head-available\">\r\n                                                                <img src={avatar} alt=\"\"/>\r\n                                                                <p>{name} </p>\r\n                                                            </div>\r\n                                                        </th>\r\n                                                    ))\r\n                                                    }\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {dateArray && dateArray.map((data, index) => (\r\n\r\n                                                    <tr>\r\n                                                        <td className=\"d-flex align-items-center justify-content-between\">\r\n                                                            <div className=\"date-available ml-3\">{data.date}</div>\r\n                                                            <div className=\"in-out\">\r\n                                                                <p>In</p>\r\n                                                                <p>Out</p>\r\n                                                            </div>\r\n                                                        </td>\r\n                                                        {console.log(timeAvailable, \"lskjdflkjpodf\", index)}\r\n                                                        {timeAvailable.length > index ? timeAvailable[index].map((value, key) => (\r\n                                                            <td key={key}>\r\n                                                                <div className=\"data-available\">{value.in_val}</div>\r\n                                                                <div className=\"data-available\">{value.out_val}</div>\r\n                                                            </td>\r\n                                                        )):\"\"}\r\n                                                    </tr>\r\n\r\n                                                ))}\r\n\r\n\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"table-container work-schedule\">\r\n                        <table className=\"table\">\r\n                            <tbody>\r\n                                {workSchedule && workSchedule.map((data, index) => (\r\n\r\n                                    <tr>\r\n                                        <td className=\"label\"><div className=\"\">{data.label}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data1}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data2}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data3}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data4}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data5}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data6}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data7}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data8}</div></td>\r\n                                        <td className=\"data\"><div className=\"\">{data.data9}</div></td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"palette\">\r\n                        <div className=\"color-detail\">\r\n                            <div className=\"color\"></div>\r\n                            <div className=\"detail\">Late entry</div>\r\n                        </div>\r\n                        <div className=\"color-detail\">\r\n                            <div className=\"color OT\"></div>\r\n                            <div className=\"detail\">Overtime</div>\r\n                        </div>\r\n                        <div className=\"color-detail\">\r\n                            <div className=\"color early\"></div>\r\n                            <div className=\"detail\">Early release</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // filter: state.dashboard\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        getStaffAvailability\r\n    }, dispatch)\r\n}\r\n\r\nexport const StaffAvailability = connect(mapStateToProps, mapDispatchToProps)(StaffAvailabilityClass)"]},"metadata":{},"sourceType":"module"}