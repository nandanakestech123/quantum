{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{NormalButton,TableWrapper}from\"component/common\";import{FormGroup,Label,Input}from\"reactstrap\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{PDFViewer,PDFDownloadLink,BlobProvider}from\"@react-pdf/renderer\";import Invoice from\"component/Admin/Report/Account/Invoice\";import{withTranslation}from\"react-i18next\";export var PrepaidAccountClass=/*#__PURE__*/function(_Component){_inherits(PrepaidAccountClass,_Component);var _super=_createSuper(PrepaidAccountClass);function PrepaidAccountClass(){var _this;_classCallCheck(this,PrepaidAccountClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeTab:\"\",isOpenTreatmentDone:false,isActiveTab:\"detail\",headerDetails:[{label:\"Prepaid #\",sortKey:false,width:\"120px\"},{label:\"Payment #\",sortKey:false,width:\"120px\"},{label:\"Prepaid Description\",width:\"242px\"},{label:\"Last Update\",sortKey:false,width:\"120px\",divClass:\"justify-content-end text-right\"},{label:\"Purchase Date\",sortKey:false,width:\"180px\",divClass:\"justify-content-end text-right\"},{label:\"Type\",sortKey:false,width:\"120px\"},{label:\"Expiry Date\",sortKey:false,width:\"120px\",divClass:\"justify-content-end text-right\"},{label:\"Expiry Status\",sortKey:false,width:\"120px\"},{label:\"Prepaid\",sortKey:false,width:\"100px\",divClass:\"justify-content-end text-right\"},{label:\"Balance\",sortKey:false,width:\"72px\",divClass:\"justify-content-end text-right\"},{label:\"\",sortKey:false,width:\"100px\"}],detailHeader:[{label:\"Prepaid Ref\",sortKey:false,width:\"100px\"},{label:\"Transaction Ref\",sortKey:false,width:\"120px\"},{label:\"Voucher #\",width:\"100px\"},{label:\"Item No\",sortKey:false,width:\"75px\"},{label:\"Item Name\",sortKey:false,width:\"100px\"},{label:\"Used Amt\",sortKey:false,width:\"75px\",divClass:\"justify-content-end text-right\"},{label:\"Topup Amt\",sortKey:false,width:\"75px\",divClass:\"justify-content-end text-right\"},{label:\"Balance\",sortKey:false,width:\"75px\",divClass:\"justify-content-end text-right\"},{label:\"Outstanding\",sortKey:false,width:\"75px\",divClass:\"justify-content-end text-right\"},{label:\"Topup #\",sortKey:false,width:\"75px\",divClass:\"justify-content-end text-right\"}],accountList:[],accountHeader:{},show:\"active\",DetailList:[],isPrintPdfClick:false};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.getAccountData=function(api){var _this$state=_this.state,show=_this$state.show,accountHeader=_this$state.accountHeader;_this.props.getCommonApi(\"prepaidacclist/?cust_id=\".concat(_this.props.id).concat(api)).then(function(key){console.log(key.data,\"prepaid table list\");var data=key.data,header_data=key.header_data;var accountList=_this.state.accountList;accountList=data;accountHeader=header_data;_this.setState({accountList:accountList,accountHeader:accountHeader});});console.log(accountHeader,\"sasasasasa\");};_this.handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(type){var show;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:show=_this.state.show;show=type;_context.next=4;return _this.setState({show:show});case 4:if(type===\"all\"){_this.getAccountData(\"&is_all=1\");}else{_this.getAccountData(\"\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleOpenDetail=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var activeTab;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:activeTab=_this.state.activeTab;activeTab=\"detail\";_context2.next=4;return _this.setState({activeTab:activeTab});case 4:_this.getDetailList(data.id);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.getDetailList=function(id){_this.props.getCommonApi(\"prepaidacclist/\".concat(id)).then(function(key){var data=key.data,header_data=key.header_data;var _this$state2=_this.state,DetailList=_this$state2.DetailList,accountHeader=_this$state2.accountHeader;DetailList=data;accountHeader=header_data;_this.setState({DetailList:DetailList,accountHeader:accountHeader});});};_this.handleBack=function(){var activeTab=_this.state.activeTab;activeTab=\"\";_this.setState({activeTab:activeTab,DetailList:[]});_this.getAccountData(\"\");};_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};return _this;}_createClass(PrepaidAccountClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAccountData(\"\");}},{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,treatmentList=_this$state3.treatmentList,headerDetails=_this$state3.headerDetails,_this$state3$accountL=_this$state3.accountList,accountList=_this$state3$accountL===void 0?[]:_this$state3$accountL,show=_this$state3.show,_this$state3$accountH=_this$state3.accountHeader,accountHeader=_this$state3$accountH===void 0?{}:_this$state3$accountH,activeTab=_this$state3.activeTab,detailHeader=_this$state3.detailHeader,DetailList=_this$state3.DetailList,isPrintPdfClick=_this$state3.isPrintPdfClick;var balance_producttype=accountHeader.balance_producttype,balance_servicetype=accountHeader.balance_servicetype,balance_alltype=accountHeader.balance_alltype,totalprepaid_count=accountHeader.totalprepaid_count,pp_no=accountHeader.pp_no;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"treatment-account row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3 mb-4\"},activeTab!==\"detail\"?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 mb-2\"},t(\"Total Prepaid Count\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 mb-2\"},totalprepaid_count),/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{checked:show===\"active\",onChange:function onChange(){return _this2.handleChange(\"active\");},type:\"radio\",name:\"radio1\"}),t(\"Show active prepaid only\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{checked:show===\"all\",onChange:function onChange(){return _this2.handleChange(\"all\");},type:\"radio\",name:\"radio1\"}),t(\"Show all prepaid\")))))):/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-2\"},t(\"Payment\"),\" #\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 mb-2\"},pp_no))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},t(\"Balance of Product Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},\"$ \",balance_producttype),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},t(\"Balance of Service Type\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"$ \",balance_servicetype),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},t(\"Balance of All Types\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"$ \",balance_alltype))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},activeTab!==\"detail\"?/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination// pageMeta={pageMeta}\n// isEmpty={accountList.length === 0 ? true:false}\n},accountList&&accountList.length>0?accountList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.prepaid)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.pp_no)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.pp_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.last_update)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.sa_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.type)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.exp_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.exp_status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.pp_total)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},\"$\"+item.remain)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"view mr-3\",mainbg:true,className:\"col-12 fs-15 \",label:\"view\",onClick:function onClick(){return _this2.handleOpenDetail(item);}}))));}):null):/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:detailHeader,queryHandler:this.handlePagination},console.log(accountHeader,\"accountheaderviewdetail\"),DetailList&&DetailList.length>0?DetailList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.prepaid_ref)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.transaction_ref)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.voucher)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.item_no)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.item_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},\"$\"+item.use_amt)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},\"$\"+item.topup_amt)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},\"$\"+item.balance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},\"$\"+item.outstanding)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.topup_no)));}):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 d-flex justify-center\"},activeTab===\"detail\"?/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"back mr-3\",mainbg:true,className:\"col-12 fs-15 \",label:\"Back\",onClick:function onClick(){return _this2.handleBack();}}):\"\",/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"print\"// mainbg={true}\n,className:\"col-12 fs-15 \",label:\"Print\"// outline={false}\n,onClick:function onClick(){return _this2.setState({isPrintPdfClick:true});}})),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(Invoice,{TableList:activeTab!==\"detail\"?accountList:DetailList,accountHeader:accountHeader,Flag:activeTab!==\"detail\"?3:4,landscape:true})},function(_ref3){var blob=_ref3.blob,url=_ref3.url,loading=_ref3.loading,error=_ref3.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null);}}]);return PrepaidAccountClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var PrepaidAccount=withTranslation()(connect(null,mapDispatchToProps)(PrepaidAccountClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Accounts/prepaidAccount.js"],"names":["React","Component","NormalButton","TableWrapper","FormGroup","Label","Input","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","connect","bindActionCreators","PDFViewer","PDFDownloadLink","BlobProvider","Invoice","withTranslation","PrepaidAccountClass","state","activeTab","isOpenTreatmentDone","isActiveTab","headerDetails","label","sortKey","width","divClass","detailHeader","accountList","accountHeader","show","DetailList","isPrintPdfClick","toggle","tab","setState","getAccountData","api","props","id","then","key","console","log","data","header_data","handleChange","type","handleOpenDetail","getDetailList","handleBack","handlePrintPdfFormat","url","a","document","createElement","setAttribute","Date","click","window","open","treatmentList","balance_producttype","balance_servicetype","balance_alltype","totalprepaid_count","pp_no","t","handlePagination","length","map","item","index","prepaid","pp_desc","last_update","sa_date","exp_date","exp_status","pp_total","remain","prepaid_ref","transaction_ref","voucher","item_no","item_name","use_amt","topup_amt","balance","outstanding","topup_no","blob","loading","error","mapDispatchToProps","dispatch","PrepaidAccount"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { NormalButton, TableWrapper } from \"component/common\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { PDFViewer, PDFDownloadLink, BlobProvider } from \"@react-pdf/renderer\";\r\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nexport class PrepaidAccountClass extends Component {\r\n  state = {\r\n    activeTab: \"\",\r\n    isOpenTreatmentDone: false,\r\n    isActiveTab: \"detail\",\r\n    headerDetails: [\r\n      { label: \"Prepaid #\", sortKey: false, width: \"120px\" },\r\n      { label: \"Payment #\", sortKey: false, width: \"120px\" },\r\n      { label: \"Prepaid Description\", width: \"242px\" },\r\n      {\r\n        label: \"Last Update\",\r\n        sortKey: false,\r\n        width: \"120px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Purchase Date\",\r\n        sortKey: false,\r\n        width: \"180px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Type\", sortKey: false, width: \"120px\" },\r\n      {\r\n        label: \"Expiry Date\",\r\n        sortKey: false,\r\n        width: \"120px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Expiry Status\", sortKey: false, width: \"120px\" },\r\n      {\r\n        label: \"Prepaid\",\r\n        sortKey: false,\r\n        width: \"100px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Balance\",\r\n        sortKey: false,\r\n        width: \"72px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"\", sortKey: false, width: \"100px\" },\r\n    ],\r\n    detailHeader: [\r\n      { label: \"Prepaid Ref\", sortKey: false, width: \"100px\" },\r\n      { label: \"Transaction Ref\", sortKey: false, width: \"120px\" },\r\n      { label: \"Voucher #\", width: \"100px\" },\r\n      { label: \"Item No\", sortKey: false, width: \"75px\" },\r\n      { label: \"Item Name\", sortKey: false, width: \"100px\" },\r\n      {\r\n        label: \"Used Amt\",\r\n        sortKey: false,\r\n        width: \"75px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Topup Amt\",\r\n        sortKey: false,\r\n        width: \"75px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Balance\",\r\n        sortKey: false,\r\n        width: \"75px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Outstanding\",\r\n        sortKey: false,\r\n        width: \"75px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Topup #\",\r\n        sortKey: false,\r\n        width: \"75px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n    ],\r\n    accountList: [],\r\n    accountHeader: {},\r\n    show: \"active\",\r\n    DetailList: [],\r\n    isPrintPdfClick: false,\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getAccountData(\"\");\r\n  }\r\n\r\n  getAccountData = api => {\r\n    let { show, accountHeader } = this.state;\r\n    this.props\r\n      .getCommonApi(`prepaidacclist/?cust_id=${this.props.id}${api}`)\r\n      .then(key => {\r\n        console.log(key.data, \"prepaid table list\");\r\n        let { data, header_data } = key;\r\n        let { accountList } = this.state;\r\n        accountList = data;\r\n        accountHeader = header_data;\r\n        this.setState({ accountList, accountHeader });\r\n      });\r\n    console.log(accountHeader, \"sasasasasa\");\r\n  };\r\n\r\n  handleChange = async type => {\r\n    let { show } = this.state;\r\n    show = type;\r\n    await this.setState({\r\n      show,\r\n    });\r\n    if (type === \"all\") {\r\n      this.getAccountData(\"&is_all=1\");\r\n    } else {\r\n      this.getAccountData(\"\");\r\n    }\r\n  };\r\n\r\n  handleOpenDetail = async data => {\r\n    let { activeTab } = this.state;\r\n    activeTab = \"detail\";\r\n\r\n    await this.setState({\r\n      activeTab,\r\n    });\r\n    this.getDetailList(data.id);\r\n  };\r\n\r\n  getDetailList = id => {\r\n    this.props.getCommonApi(`prepaidacclist/${id}`).then(key => {\r\n      let { data, header_data } = key;\r\n      let { DetailList, accountHeader } = this.state;\r\n      DetailList = data;\r\n      accountHeader = header_data;\r\n      this.setState({ DetailList, accountHeader });\r\n    });\r\n  };\r\n\r\n  handleBack = () => {\r\n    let { activeTab } = this.state;\r\n    activeTab = \"\";\r\n    this.setState({\r\n      activeTab,\r\n      DetailList: [],\r\n    });\r\n\r\n    this.getAccountData(\"\");\r\n  };\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      treatmentList,\r\n      headerDetails,\r\n      accountList = [],\r\n      show,\r\n      accountHeader = {},\r\n      activeTab,\r\n      detailHeader,\r\n      DetailList,\r\n      isPrintPdfClick,\r\n    } = this.state;\r\n    let {\r\n      balance_producttype,\r\n      balance_servicetype,\r\n      balance_alltype,\r\n      totalprepaid_count,\r\n      pp_no,\r\n    } = accountHeader;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"treatment-account row\">\r\n        <div className=\"col-6 mt-3 mb-4\">\r\n          {activeTab !== \"detail\" ? (\r\n            <div className=\"row\">\r\n              <div className=\"col-5 mb-2\">{t(\"Total Prepaid Count\")}</div>\r\n              <div className=\"col-5 mb-2\">{totalprepaid_count}</div>\r\n              <div className=\"row m-0\">\r\n                <div className=\"col-12 mb-2\">\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        checked={show === \"active\"}\r\n                        onChange={() => this.handleChange(\"active\")}\r\n                        type=\"radio\"\r\n                        name=\"radio1\"\r\n                      />\r\n                      {t(\"Show active prepaid only\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        checked={show === \"all\"}\r\n                        onChange={() => this.handleChange(\"all\")}\r\n                        type=\"radio\"\r\n                        name=\"radio1\"\r\n                      />\r\n                      {t(\"Show all prepaid\")}\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"row\">\r\n              <div className=\"col-4 mb-2\">{t(\"Payment\")} #</div>\r\n              <div className=\"col-8 mb-2\">{pp_no}</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-6 mt-3 mb-4\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6 mb-2\">{t(\"Balance of Product Type\")}</div>\r\n            <div className=\"col-6 mb-2\">$ {balance_producttype}</div>\r\n\r\n            <div className=\"col-6\">{t(\"Balance of Service Type\")}</div>\r\n            <div className=\"col-6\">$ {balance_servicetype}</div>\r\n\r\n            <div className=\"col-6\">{t(\"Balance of All Types\")}</div>\r\n            <div className=\"col-6\">$ {balance_alltype}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"table\">\r\n            {activeTab !== \"detail\" ? (\r\n              <TableWrapper\r\n                headerDetails={headerDetails}\r\n                queryHandler={this.handlePagination}\r\n                // pageMeta={pageMeta}\r\n                // isEmpty={accountList.length === 0 ? true:false}\r\n              >\r\n                {accountList && accountList.length > 0\r\n                  ? accountList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.prepaid}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.pp_no}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.pp_desc}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{item.last_update}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{item.sa_date}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.type}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{item.exp_date}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.exp_status}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{item.pp_total}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">\r\n                              {\"$\" + item.remain}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                              <NormalButton\r\n                                buttonClass={\"view mr-3\"}\r\n                                mainbg={true}\r\n                                className=\"col-12 fs-15 \"\r\n                                label=\"view\"\r\n                                onClick={() => this.handleOpenDetail(item)}\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            ) : (\r\n              <TableWrapper\r\n                headerDetails={detailHeader}\r\n                queryHandler={this.handlePagination}\r\n              >\r\n                {console.log(accountHeader, \"accountheaderviewdetail\")}\r\n                {DetailList && DetailList.length > 0\r\n                  ? DetailList.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.prepaid_ref}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">\r\n                              {item.transaction_ref}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.voucher}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.item_no}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-left\">{item.item_name}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">\r\n                              {\"$\" + item.use_amt}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">\r\n                              {\"$\" + item.topup_amt}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">\r\n                              {\"$\" + item.balance}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">\r\n                              {\"$\" + item.outstanding}\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{item.topup_no}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </TableWrapper>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-center\">\r\n          {activeTab === \"detail\" ? (\r\n            <NormalButton\r\n              buttonClass={\"back mr-3\"}\r\n              mainbg={true}\r\n              className=\"col-12 fs-15 \"\r\n              label=\"Back\"\r\n              onClick={() => this.handleBack()}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <NormalButton\r\n            buttonClass={\"print\"}\r\n            // mainbg={true}\r\n            className=\"col-12 fs-15 \"\r\n            label=\"Print\"\r\n            // outline={false}\r\n            onClick={() => this.setState({ isPrintPdfClick: true })}\r\n          />\r\n        </div>\r\n        {isPrintPdfClick ? (\r\n          <PDFDownloadLink\r\n            document={\r\n              <Invoice\r\n                TableList={activeTab !== \"detail\" ? accountList : DetailList}\r\n                accountHeader={accountHeader}\r\n                Flag={activeTab !== \"detail\" ? 3 : 4}\r\n                landscape={true}\r\n              />\r\n            }\r\n          >\r\n            {({ blob, url, loading, error }) =>\r\n              !loading && url ? this.handlePrintPdfFormat(url) : null\r\n            }\r\n          </PDFDownloadLink>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const PrepaidAccount = withTranslation()(\r\n  connect(null, mapDispatchToProps)(PrepaidAccountClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}