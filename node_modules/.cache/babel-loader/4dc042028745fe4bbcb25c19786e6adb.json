{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NormalButton,NormalModal,NormalCheckbox,NormalDate}from\"component/common\";import closeIcon from\"assets/images/close.png\";import{Toast}from\"service/toast\";import{getCommonApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{dateFormat}from\"service/helperFunctions\";import SimpleReactValidator from\"simple-react-validator\";import{withTranslation}from\"react-i18next\";export var PrintModalClass=/*#__PURE__*/function(_Component){_inherits(PrintModalClass,_Component);var _super=_createSuper(PrintModalClass);function PrintModalClass(){var _this;_classCallCheck(this,PrintModalClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeTab:\"Tab1\",staffList:[],siteCodeList:[],bookingList:[],secStatusList:[],formFields:{fromDate:new Date(),toDate:new Date(),Staff:\"\",Site:\"\",Booking:\"\",Sec_status:\"\"},employeeSelectAll:false,siteSelectAll:false,bookingSelectAll:false,secStatusSelectAll:false,PrintAs:\"\"};_this.handleDialog=function(){_this.setState({staffList:[],siteCodeList:[],bookingList:[],secStatusList:[],formFields:{fromDate:new Date(),toDate:new Date(),Staff:\"\",Site:\"\",Booking:\"\",Sec_status:\"\"}});_this.props.handlePrintDialog();};_this.getStaffList=function(){_this.setState({staffList:[]});var staffList=_this.state.staffList;_this.props.getCommonApi(\"employeebranchwise\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;staffList.push({value:value.id,label:value.display_name,selected:false});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({staffList:staffList});}});};_this.getBookingandSecondaryStatus=function(){var _this$state=_this.state,bookingList=_this$state.bookingList,secStatusList=_this$state.secStatusList;_this.props.getCommonApi(\"bookingstatus/\").then(function(res){var status=res.status,data=res.data,sec_data=res.sec_data;if(status===200){var _iterator2=_createForOfIteratorHelper(data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;bookingList.push({value:value.value,label:value.label,selected:false});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var _iterator3=_createForOfIteratorHelper(sec_data),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _value=_step3.value;secStatusList.push({value:_value.value,label:_value.label,selected:false});}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.setState({bookingList:bookingList,secStatusList:secStatusList});}});};_this.getSiteCode=function(){_this.setState({staffList:[]});var siteCodeList=_this.state.siteCodeList;_this.props.getCommonApi(\"branchlist/\").then(function(key){var status=key.status,data=key.data;console.log(data,\"sitecodelist\");if(status===200){var _iterator4=_createForOfIteratorHelper(data),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var value=_step4.value;siteCodeList.push({value:value.id,label:value.itemsite_code,selected:false});}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.setState({siteCodeList:siteCodeList});}});};_this.handleCheckbox=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref,item){var _ref$target,value,name,_this$state2,staffList,siteCodeList,bookingList,secStatusList,listCheckbox,Checkbox,_listCheckbox,_Checkbox,_listCheckbox2,_Checkbox2,_listCheckbox3,_Checkbox3;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;_this$state2=_this.state,staffList=_this$state2.staffList,siteCodeList=_this$state2.siteCodeList,bookingList=_this$state2.bookingList,secStatusList=_this$state2.secStatusList;if(!(name===\"Staff\")){_context.next=16;break;}listCheckbox=staffList.find(function(acc){return acc.value===item.value;});if(!listCheckbox){_context.next=8;break;}listCheckbox[\"selected\"]=value;_context.next=8;return _this.setState(_objectSpread(_objectSpread({},_this.state.staffList),{},{listCheckbox:listCheckbox}));case 8:Checkbox=staffList.filter(function(acc){return acc.selected===true;}).length;if(!(Checkbox==_this.state.staffList.length)){_context.next=14;break;}_context.next=12;return _this.setState({employeeSelectAll:true});case 12:_context.next=16;break;case 14:_context.next=16;return _this.setState({employeeSelectAll:false});case 16:if(!(name===\"Site\")){_context.next=30;break;}_listCheckbox=siteCodeList.find(function(acc){return acc.value===item.value;});if(!_listCheckbox){_context.next=22;break;}_listCheckbox[\"selected\"]=value;_context.next=22;return _this.setState(_objectSpread(_objectSpread({},_this.state.siteCodeList),{},{listCheckbox:_listCheckbox}));case 22:_Checkbox=siteCodeList.filter(function(acc){return acc.selected===true;}).length;if(!(_Checkbox==_this.state.siteCodeList.length)){_context.next=28;break;}_context.next=26;return _this.setState({siteSelectAll:true});case 26:_context.next=30;break;case 28:_context.next=30;return _this.setState({siteSelectAll:false});case 30:if(!(name===\"Booking\")){_context.next=44;break;}_listCheckbox2=bookingList.find(function(acc){return acc.value===item.value;});if(!_listCheckbox2){_context.next=36;break;}_listCheckbox2[\"selected\"]=value;_context.next=36;return _this.setState(_objectSpread(_objectSpread({},_this.state.bookingList),{},{listCheckbox:_listCheckbox2}));case 36:_Checkbox2=bookingList.filter(function(acc){return acc.selected===true;}).length;if(!(_Checkbox2==_this.state.bookingList.length)){_context.next=42;break;}_context.next=40;return _this.setState({bookingSelectAll:true});case 40:_context.next=44;break;case 42:_context.next=44;return _this.setState({bookingSelectAll:false});case 44:if(!(name===\"Sec_status\")){_context.next=58;break;}_listCheckbox3=secStatusList.find(function(acc){return acc.value===item.value;});if(!_listCheckbox3){_context.next=50;break;}_listCheckbox3[\"selected\"]=value;_context.next=50;return _this.setState(_objectSpread(_objectSpread({},_this.state.secStatusList),{},{listCheckbox:_listCheckbox3}));case 50:_Checkbox3=secStatusList.filter(function(acc){return acc.selected===true;}).length;if(!(_Checkbox3==_this.state.secStatusList.length)){_context.next=56;break;}_context.next=54;return _this.setState({secStatusSelectAll:true});case 54:_context.next=58;break;case 56:_context.next=58;return _this.setState({secStatusSelectAll:false});case 58:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}();_this.sendAppointmentListPrint=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(printAs){var _this$state3,staffList,siteCodeList,bookingList,secStatusList,formFields,PrintAs,finalstaff,finalsite,finalbooking,finalSecStatus,_iterator5,_step5,staffItem,_iterator6,_step6,siteItem,_iterator7,_step7,bookingItem,_iterator8,_step8,secItem;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state3=_this.state,staffList=_this$state3.staffList,siteCodeList=_this$state3.siteCodeList,bookingList=_this$state3.bookingList,secStatusList=_this$state3.secStatusList,formFields=_this$state3.formFields,PrintAs=_this$state3.PrintAs;_context2.next=3;return _this.setState({PrintAs:printAs});case 3:finalstaff=\"\";finalsite=\"\";finalbooking=\"\";finalSecStatus=\"\";_iterator5=_createForOfIteratorHelper(staffList);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){staffItem=_step5.value;if(staffItem.selected){if(finalstaff!==\"\"){finalstaff+=\",\"+staffItem.value;}else{finalstaff+=staffItem.value;}}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_iterator6=_createForOfIteratorHelper(siteCodeList);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){siteItem=_step6.value;if(siteItem.selected){if(finalsite!==\"\"){finalsite+=\",\"+siteItem.value;}else{finalsite+=siteItem.value;}}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}_iterator7=_createForOfIteratorHelper(bookingList);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){bookingItem=_step7.value;if(bookingItem.selected){if(finalbooking!==\"\"){finalbooking+=\",\"+bookingItem.value;}else{finalbooking+=bookingItem.value;}}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}_iterator8=_createForOfIteratorHelper(secStatusList);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){secItem=_step8.value;if(secItem.selected){if(finalSecStatus!==\"\"){finalSecStatus+=\",\"+secItem.value;}else{finalSecStatus+=secItem.value;}}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}formFields[\"Staff\"]=finalstaff;formFields[\"Site\"]=finalsite;formFields[\"Booking\"]=finalbooking;formFields[\"Sec_status\"]=finalSecStatus;_context2.next=21;return _this.setState({formFields:formFields});case 21:_this.AppointmentListPrint();case 22:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref3.apply(this,arguments);};}();_this.AppointmentListPrint=function(){var _this$state4=_this.state,formFields=_this$state4.formFields,PrintAs=_this$state4.PrintAs;_this.props.getCommonApi(\"appointmentlistpdf/?type=\".concat(PrintAs,\"&start_date=\").concat(dateFormat(formFields.fromDate,\"yyyy-mm-dd\"),\"&end_date=\").concat(dateFormat(formFields.toDate,\"yyyy-mm-dd\"),\"&emp_ids=\").concat(formFields.Staff,\"&site_ids=\").concat(formFields.Site,\"&status=\").concat(formFields.Booking,\"&sec_status=\").concat(formFields.Sec_status)).then(function(key){var status=key.status,data=key.data;if(status===200){_this.handleDialog();window.open(data);}});};_this.handleChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref4){var _ref4$target,value,name,formFields,fromdate,enddate;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref4$target=_ref4.target,value=_ref4$target.value,name=_ref4$target.name;formFields=_this.state.formFields;formFields[name]=value;if(name===\"fromDate\"){formFields[\"toDate\"]=value;}if(name===\"toDate\"){fromdate=new Date(dateFormat(formFields.fromDate));enddate=new Date(dateFormat(value));if(enddate<fromdate){Toast({type:\"error\",message:\"Please enter valid date\"});formFields[\"toDate\"]=formFields.fromDate;}}_context3.next=7;return _this.setState({formFields:formFields});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref5.apply(this,arguments);};}();_this.changeTab=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.setState({activeTab:data});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref6.apply(this,arguments);};}();_this.handleSelectAllCheckbox=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref7){var _ref7$target,value,name,_this$state5,staffList,siteCodeList,bookingList,secStatusList,employeeSelectAll,siteSelectAll,bookingSelectAll,secStatusSelectAll,_iterator9,_step9,item,_iterator10,_step10,_item,_iterator11,_step11,_item2,_iterator12,_step12,_item3;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_ref7$target=_ref7.target,value=_ref7$target.value,name=_ref7$target.name;_this$state5=_this.state,staffList=_this$state5.staffList,siteCodeList=_this$state5.siteCodeList,bookingList=_this$state5.bookingList,secStatusList=_this$state5.secStatusList,employeeSelectAll=_this$state5.employeeSelectAll,siteSelectAll=_this$state5.siteSelectAll,bookingSelectAll=_this$state5.bookingSelectAll,secStatusSelectAll=_this$state5.secStatusSelectAll;if(!(name===\"employeeSelectAll\")){_context5.next=23;break;}_context5.next=5;return _this.setState({employeeSelectAll:value});case 5:_iterator9=_createForOfIteratorHelper(staffList);_context5.prev=6;_iterator9.s();case 8:if((_step9=_iterator9.n()).done){_context5.next=15;break;}item=_step9.value;item[\"selected\"]=value;_context5.next=13;return _this.setState(_objectSpread(_objectSpread({},_this.state.staffList),{},{item:item}));case 13:_context5.next=8;break;case 15:_context5.next=20;break;case 17:_context5.prev=17;_context5.t0=_context5[\"catch\"](6);_iterator9.e(_context5.t0);case 20:_context5.prev=20;_iterator9.f();return _context5.finish(20);case 23:if(!(name===\"siteSelectAll\")){_context5.next=44;break;}_context5.next=26;return _this.setState({siteSelectAll:value});case 26:_iterator10=_createForOfIteratorHelper(siteCodeList);_context5.prev=27;_iterator10.s();case 29:if((_step10=_iterator10.n()).done){_context5.next=36;break;}_item=_step10.value;_item[\"selected\"]=value;_context5.next=34;return _this.setState(_objectSpread(_objectSpread({},_this.state.siteCodeList),{},{item:_item}));case 34:_context5.next=29;break;case 36:_context5.next=41;break;case 38:_context5.prev=38;_context5.t1=_context5[\"catch\"](27);_iterator10.e(_context5.t1);case 41:_context5.prev=41;_iterator10.f();return _context5.finish(41);case 44:if(!(name===\"bookingSelectAll\")){_context5.next=65;break;}_context5.next=47;return _this.setState({bookingSelectAll:value});case 47:_iterator11=_createForOfIteratorHelper(bookingList);_context5.prev=48;_iterator11.s();case 50:if((_step11=_iterator11.n()).done){_context5.next=57;break;}_item2=_step11.value;_item2[\"selected\"]=value;_context5.next=55;return _this.setState(_objectSpread(_objectSpread({},_this.state.bookingList),{},{item:_item2}));case 55:_context5.next=50;break;case 57:_context5.next=62;break;case 59:_context5.prev=59;_context5.t2=_context5[\"catch\"](48);_iterator11.e(_context5.t2);case 62:_context5.prev=62;_iterator11.f();return _context5.finish(62);case 65:if(!(name===\"secStatusSelectAll\")){_context5.next=86;break;}_context5.next=68;return _this.setState({secStatusSelectAll:value});case 68:_iterator12=_createForOfIteratorHelper(secStatusList);_context5.prev=69;_iterator12.s();case 71:if((_step12=_iterator12.n()).done){_context5.next=78;break;}_item3=_step12.value;_item3[\"selected\"]=value;_context5.next=76;return _this.setState(_objectSpread(_objectSpread({},_this.state.secStatusList),{},{item:_item3}));case 76:_context5.next=71;break;case 78:_context5.next=83;break;case 80:_context5.prev=80;_context5.t3=_context5[\"catch\"](69);_iterator12.e(_context5.t3);case 83:_context5.prev=83;_iterator12.f();return _context5.finish(83);case 86:case\"end\":return _context5.stop();}}},_callee5,null,[[6,17,20,23],[27,38,41,44],[48,59,62,65],[69,80,83,86]]);}));return function(_x6){return _ref8.apply(this,arguments);};}();return _this;}_createClass(PrintModalClass,[{key:\"componentWillMount\",value:function componentWillMount(){this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});this.getStaffList();this.getSiteCode();this.getBookingandSecondaryStatus();}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,isOpenPrintModal=_this$props.isOpenPrintModal,t=_this$props.t;var _this$state6=this.state,activeTab=_this$state6.activeTab,staffList=_this$state6.staffList,formFields=_this$state6.formFields,siteCodeList=_this$state6.siteCodeList,bookingList=_this$state6.bookingList,secStatusList=_this$state6.secStatusList,employeeSelectAll=_this$state6.employeeSelectAll,siteSelectAll=_this$state6.siteSelectAll,bookingSelectAll=_this$state6.bookingSelectAll,secStatusSelectAll=_this$state6.secStatusSelectAll;return/*#__PURE__*/React.createElement(NormalModal,{className:\"printModal\",style:{minWidth:\"50%\"},modal:isOpenPrintModal,handleModal:this.handleDialog},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleDialog,className:\"close\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row py-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 ml-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card text-center p-1 print activeColor \".concat(activeTab===\"Tab1\"?\"active\":\"\"),onClick:function onClick(){return _this2.changeTab(\"Tab1\");}},t(\"Appointment Report\")))),activeTab===\"Tab1\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-start p-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-6 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"From Date\"),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalDate,{className:\"customer-name status py-1 col-12\",value:new Date(formFields.fromDate),name:\"fromDate\",type:\"date\",popperPlacement:\"top-right\",onChange:this.handleChange})),this.validator.message(\"fromDate\",formFields.fromDate,\"required|date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-6 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"To Date\"),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs-18\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(NormalDate,{className:\"customer-name status py-1 col-12\",value:new Date(formFields.toDate),name:\"toDate\",type:\"date\",onChange:this.handleChange,popperPlacement:\"top-right\",minDate:new Date(formFields.fromDate),showDisabledMonthNavigation:true})),this.validator.message(\"toDate\",formFields.toDate,\"required|date\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-6 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4 mt-2 mx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleSelectAllCheckbox(e);},value:employeeSelectAll,name:\"employeeSelectAll\",checked:employeeSelectAll})),/*#__PURE__*/React.createElement(\"div\",null,t(\"Employee Name\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\"},staffList&&staffList.length>0?staffList.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list \".concat(item.selected?\"active\":\"\",\" \"),key:item.value},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleCheckbox(e,item);},value:item.selected,name:\"Staff\",checked:item.selected})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},item.label));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-6 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4 mt-2 mx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleSelectAllCheckbox(e);},value:siteSelectAll,name:\"siteSelectAll\",checked:siteSelectAll})),/*#__PURE__*/React.createElement(\"div\",null,t(\"Site\"),\" \",t(\"Code\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\"},siteCodeList&&siteCodeList.length>0?siteCodeList.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list \".concat(item.selected?\"active\":\"\",\" \"),key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleCheckbox(e,item);},value:item.selected,name:\"Site\",checked:item.selected})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},item.label));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-6 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2 mx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleSelectAllCheckbox(e);},value:bookingSelectAll,name:\"bookingSelectAll\",checked:bookingSelectAll})),/*#__PURE__*/React.createElement(\"div\",null,t(\"Booking Status\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\"},bookingList&&bookingList.length>0?bookingList.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list \".concat(item.selected?\"active\":\"\",\" \"),key:item.value},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleCheckbox(e,item);},value:item.selected,name:\"Booking\",checked:item.selected})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},item.label));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-6 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2 mx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleSelectAllCheckbox(e);},value:secStatusSelectAll,name:\"secStatusSelectAll\",checked:secStatusSelectAll})),/*#__PURE__*/React.createElement(\"div\",null,t(\"Secondary Status\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\"},secStatusList&&secStatusList.length>0?secStatusList.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list \".concat(item.selected?\"active\":\"\",\" \"),key:item.value},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(NormalCheckbox,{onChange:function onChange(e){return _this2.handleCheckbox(e,item);},value:item.selected,name:\"Sec_status\",checked:item.selected})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},item.label));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"w-100  p-0\",mainbg:true,className:\"confirm\",label:\"Pdf\",outline:false,onClick:function onClick(){return _this2.sendAppointmentListPrint(\"Pdf\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"w-100  p-0\",mainbg:true,className:\"confirm\",label:\"Excel\",outline:false,onClick:function onClick(){return _this2.sendAppointmentListPrint(\"Excel\");}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"w-100 p-0\",mainbg:true,className:\"confirm\",label:\"Cancel\",outline:false,onClick:this.handleDialog})))):\"\");}}]);return PrintModalClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi},dispatch);};export var PrintModal=withTranslation()(connect(null,mapDispatchToProps)(PrintModalClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/NewAppointment/NewListAppointment/modal/PrintModal.js"],"names":["React","Component","NormalButton","NormalModal","NormalCheckbox","NormalDate","closeIcon","Toast","getCommonApi","connect","bindActionCreators","dateFormat","SimpleReactValidator","withTranslation","PrintModalClass","state","activeTab","staffList","siteCodeList","bookingList","secStatusList","formFields","fromDate","Date","toDate","Staff","Site","Booking","Sec_status","employeeSelectAll","siteSelectAll","bookingSelectAll","secStatusSelectAll","PrintAs","handleDialog","setState","props","handlePrintDialog","getStaffList","then","key","status","data","value","push","id","label","display_name","selected","getBookingandSecondaryStatus","res","sec_data","getSiteCode","console","log","itemsite_code","handleCheckbox","item","target","name","listCheckbox","find","acc","Checkbox","filter","length","sendAppointmentListPrint","printAs","finalstaff","finalsite","finalbooking","finalSecStatus","staffItem","siteItem","bookingItem","secItem","AppointmentListPrint","window","open","handleChange","fromdate","enddate","type","message","changeTab","handleSelectAllCheckbox","validator","element","autoForceUpdate","isOpenPrintModal","t","minWidth","e","map","index","mapDispatchToProps","dispatch","PrintModal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalCheckbox,\r\n  NormalDate,\r\n} from \"component/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { Toast } from \"service/toast\";\r\nimport { getCommonApi } from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { dateFormat } from \"service/helperFunctions\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { withTranslation } from \"react-i18next\";\r\nexport class PrintModalClass extends Component {\r\n  state = {\r\n    activeTab: \"Tab1\",\r\n    staffList: [],\r\n    siteCodeList: [],\r\n    bookingList: [],\r\n    secStatusList: [],\r\n    formFields: {\r\n      fromDate: new Date(),\r\n      toDate: new Date(),\r\n      Staff: \"\",\r\n      Site: \"\",\r\n      Booking: \"\",\r\n      Sec_status: \"\",\r\n    },\r\n    employeeSelectAll: false,\r\n    siteSelectAll: false,\r\n    bookingSelectAll: false,\r\n    secStatusSelectAll: false,\r\n    PrintAs: \"\",\r\n  };\r\n  componentWillMount() {\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n    this.getStaffList();\r\n    this.getSiteCode();\r\n    this.getBookingandSecondaryStatus();\r\n  }\r\n\r\n  handleDialog = () => {\r\n    this.setState({\r\n      staffList: [],\r\n      siteCodeList: [],\r\n      bookingList: [],\r\n      secStatusList: [],\r\n      formFields: {\r\n        fromDate: new Date(),\r\n        toDate: new Date(),\r\n        Staff: \"\",\r\n        Site: \"\",\r\n        Booking: \"\",\r\n        Sec_status: \"\",\r\n      },\r\n    });\r\n    this.props.handlePrintDialog();\r\n  };\r\n\r\n  getStaffList = () => {\r\n    this.setState({ staffList: [] });\r\n    let { staffList } = this.state;\r\n    this.props.getCommonApi(`employeebranchwise`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          staffList.push({\r\n            value: value.id,\r\n            label: value.display_name,\r\n            selected: false,\r\n          });\r\n        }\r\n        this.setState({ staffList });\r\n      }\r\n    });\r\n  };\r\n  getBookingandSecondaryStatus = () => {\r\n    let { bookingList, secStatusList } = this.state;\r\n    this.props.getCommonApi(\"bookingstatus/\").then(res => {\r\n      let { status, data, sec_data } = res;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          bookingList.push({\r\n            value: value.value,\r\n            label: value.label,\r\n            selected: false,\r\n          });\r\n        }\r\n        for (let value of sec_data) {\r\n          secStatusList.push({\r\n            value: value.value,\r\n            label: value.label,\r\n            selected: false,\r\n          });\r\n        }\r\n        this.setState({ bookingList, secStatusList });\r\n      }\r\n    });\r\n  };\r\n  getSiteCode = () => {\r\n    this.setState({ staffList: [] });\r\n    let { siteCodeList } = this.state;\r\n    this.props.getCommonApi(`branchlist/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(data, \"sitecodelist\");\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          siteCodeList.push({\r\n            value: value.id,\r\n            label: value.itemsite_code,\r\n            selected: false,\r\n          });\r\n        }\r\n        this.setState({ siteCodeList });\r\n      }\r\n    });\r\n  };\r\n  handleCheckbox = async ({ target: { value, name } }, item) => {\r\n    let { staffList, siteCodeList, bookingList, secStatusList } = this.state;\r\n\r\n    if (name === \"Staff\") {\r\n      let listCheckbox = staffList.find(acc => acc.value === item.value);\r\n      if (listCheckbox) {\r\n        listCheckbox[\"selected\"] = value;\r\n        await this.setState({ ...this.state.staffList, listCheckbox });\r\n      }\r\n      let Checkbox = staffList.filter(acc => acc.selected === true).length;\r\n      if (Checkbox == this.state.staffList.length) {\r\n        await this.setState({ employeeSelectAll: true });\r\n      } else {\r\n        await this.setState({ employeeSelectAll: false });\r\n      }\r\n    }\r\n    if (name === \"Site\") {\r\n      let listCheckbox = siteCodeList.find(acc => acc.value === item.value);\r\n      if (listCheckbox) {\r\n        listCheckbox[\"selected\"] = value;\r\n        await this.setState({ ...this.state.siteCodeList, listCheckbox });\r\n      }\r\n      let Checkbox = siteCodeList.filter(acc => acc.selected === true).length;\r\n      if (Checkbox == this.state.siteCodeList.length) {\r\n        await this.setState({ siteSelectAll: true });\r\n      } else {\r\n        await this.setState({ siteSelectAll: false });\r\n      }\r\n    }\r\n    if (name === \"Booking\") {\r\n      let listCheckbox = bookingList.find(acc => acc.value === item.value);\r\n      if (listCheckbox) {\r\n        listCheckbox[\"selected\"] = value;\r\n        await this.setState({ ...this.state.bookingList, listCheckbox });\r\n      }\r\n      let Checkbox = bookingList.filter(acc => acc.selected === true).length;\r\n      if (Checkbox == this.state.bookingList.length) {\r\n        await this.setState({ bookingSelectAll: true });\r\n      } else {\r\n        await this.setState({ bookingSelectAll: false });\r\n      }\r\n    }\r\n    if (name === \"Sec_status\") {\r\n      let listCheckbox = secStatusList.find(acc => acc.value === item.value);\r\n      if (listCheckbox) {\r\n        listCheckbox[\"selected\"] = value;\r\n        await this.setState({ ...this.state.secStatusList, listCheckbox });\r\n      }\r\n      let Checkbox = secStatusList.filter(acc => acc.selected === true).length;\r\n      if (Checkbox == this.state.secStatusList.length) {\r\n        await this.setState({ secStatusSelectAll: true });\r\n      } else {\r\n        await this.setState({ secStatusSelectAll: false });\r\n      }\r\n    }\r\n  };\r\n  sendAppointmentListPrint = async printAs => {\r\n    let {\r\n      staffList,\r\n      siteCodeList,\r\n      bookingList,\r\n      secStatusList,\r\n      formFields,\r\n      PrintAs,\r\n    } = this.state;\r\n    await this.setState({ PrintAs: printAs });\r\n    var finalstaff = \"\";\r\n    var finalsite = \"\";\r\n    var finalbooking = \"\";\r\n    var finalSecStatus = \"\";\r\n    for (var staffItem of staffList) {\r\n      if (staffItem.selected) {\r\n        if (finalstaff !== \"\") {\r\n          finalstaff += \",\" + staffItem.value;\r\n        } else {\r\n          finalstaff += staffItem.value;\r\n        }\r\n      }\r\n    }\r\n    for (var siteItem of siteCodeList) {\r\n      if (siteItem.selected) {\r\n        if (finalsite !== \"\") {\r\n          finalsite += \",\" + siteItem.value;\r\n        } else {\r\n          finalsite += siteItem.value;\r\n        }\r\n      }\r\n    }\r\n    for (var bookingItem of bookingList) {\r\n      if (bookingItem.selected) {\r\n        if (finalbooking !== \"\") {\r\n          finalbooking += \",\" + bookingItem.value;\r\n        } else {\r\n          finalbooking += bookingItem.value;\r\n        }\r\n      }\r\n    }\r\n    for (var secItem of secStatusList) {\r\n      if (secItem.selected) {\r\n        if (finalSecStatus !== \"\") {\r\n          finalSecStatus += \",\" + secItem.value;\r\n        } else {\r\n          finalSecStatus += secItem.value;\r\n        }\r\n      }\r\n    }\r\n    formFields[\"Staff\"] = finalstaff;\r\n    formFields[\"Site\"] = finalsite;\r\n    formFields[\"Booking\"] = finalbooking;\r\n    formFields[\"Sec_status\"] = finalSecStatus;\r\n    await this.setState({\r\n      formFields,\r\n    });\r\n    this.AppointmentListPrint();\r\n  };\r\n\r\n  AppointmentListPrint = () => {\r\n    let { formFields, PrintAs } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `appointmentlistpdf/?type=${PrintAs}&start_date=${dateFormat(\r\n          formFields.fromDate,\r\n          \"yyyy-mm-dd\"\r\n        )}&end_date=${dateFormat(formFields.toDate, \"yyyy-mm-dd\")}&emp_ids=${\r\n          formFields.Staff\r\n        }&site_ids=${formFields.Site}&status=${formFields.Booking}&sec_status=${\r\n          formFields.Sec_status\r\n        }`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          this.handleDialog();\r\n          window.open(data);\r\n        }\r\n      });\r\n  };\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n\r\n    if (name === \"fromDate\") {\r\n      formFields[\"toDate\"] = value;\r\n    }\r\n\r\n    if (name === \"toDate\") {\r\n      let fromdate = new Date(dateFormat(formFields.fromDate));\r\n      let enddate = new Date(dateFormat(value));\r\n      if (enddate < fromdate) {\r\n        Toast({ type: \"error\", message: \"Please enter valid date\" });\r\n        formFields[\"toDate\"] = formFields.fromDate;\r\n      }\r\n    }\r\n    await this.setState({ formFields });\r\n  };\r\n  changeTab = async data => {\r\n    await this.setState({ activeTab: data });\r\n  };\r\n\r\n  handleSelectAllCheckbox = async ({ target: { value, name } }) => {\r\n    let {\r\n      staffList,\r\n      siteCodeList,\r\n      bookingList,\r\n      secStatusList,\r\n      employeeSelectAll,\r\n      siteSelectAll,\r\n      bookingSelectAll,\r\n      secStatusSelectAll,\r\n    } = this.state;\r\n\r\n    if (name === \"employeeSelectAll\") {\r\n      await this.setState({ employeeSelectAll: value });\r\n      for (let item of staffList) {\r\n        item[\"selected\"] = value;\r\n        await this.setState({ ...this.state.staffList, item });\r\n      }\r\n    }\r\n    if (name === \"siteSelectAll\") {\r\n      await this.setState({ siteSelectAll: value });\r\n      for (let item of siteCodeList) {\r\n        item[\"selected\"] = value;\r\n        await this.setState({ ...this.state.siteCodeList, item });\r\n      }\r\n    }\r\n    if (name === \"bookingSelectAll\") {\r\n      await this.setState({ bookingSelectAll: value });\r\n      for (let item of bookingList) {\r\n        item[\"selected\"] = value;\r\n        await this.setState({ ...this.state.bookingList, item });\r\n      }\r\n    }\r\n    if (name === \"secStatusSelectAll\") {\r\n      await this.setState({ secStatusSelectAll: value });\r\n      for (let item of secStatusList) {\r\n        item[\"selected\"] = value;\r\n        await this.setState({ ...this.state.secStatusList, item });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { isOpenPrintModal, t } = this.props;\r\n    let {\r\n      activeTab,\r\n      staffList,\r\n      formFields,\r\n      siteCodeList,\r\n      bookingList,\r\n      secStatusList,\r\n      employeeSelectAll,\r\n      siteSelectAll,\r\n      bookingSelectAll,\r\n      secStatusSelectAll,\r\n    } = this.state;\r\n\r\n    return (\r\n      <NormalModal\r\n        className={\"printModal\"}\r\n        style={{ minWidth: \"50%\" }}\r\n        modal={isOpenPrintModal}\r\n        handleModal={this.handleDialog}\r\n      >\r\n        <img\r\n          onClick={this.handleDialog}\r\n          className=\"close\"\r\n          src={closeIcon}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"row py-2\">\r\n          <div className=\"col-4 ml-2\">\r\n            <div\r\n              className={`card text-center p-1 print activeColor ${\r\n                activeTab === \"Tab1\" ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => this.changeTab(\"Tab1\")}\r\n            >\r\n              {t(\"Appointment Report\")}\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"col-4 ml-2\">\r\n            <div\r\n              className={`card text-center p-1 activeColor ${\r\n                activeTab === \"Tab2\" ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => this.changeTab(\"Tab2\")}\r\n            >\r\n              Products\r\n            </div>\r\n          </div> */}\r\n        </div>\r\n        {activeTab === \"Tab1\" ? (\r\n          <>\r\n            <div className=\"d-flex flex-wrap justify-content-start p-3\">\r\n              <div className=\"col-md-6 col-6 mb-3\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  {t(\"From Date\")}{\" \"}\r\n                  <span className=\"error-message text-danger validNo fs-18\">\r\n                    *\r\n                  </span>\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalDate\r\n                    className=\"customer-name status py-1 col-12\"\r\n                    value={new Date(formFields.fromDate)}\r\n                    name=\"fromDate\"\r\n                    type=\"date\"\r\n                    popperPlacement=\"top-right\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"fromDate\",\r\n                  formFields.fromDate,\r\n                  \"required|date\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-6 col-6 mb-3\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  {t(\"To Date\")}{\" \"}\r\n                  <span className=\"error-message text-danger validNo fs-18\">\r\n                    *\r\n                  </span>\r\n                </label>\r\n                <div className=\"\">\r\n                  <NormalDate\r\n                    className=\"customer-name status py-1 col-12\"\r\n                    value={new Date(formFields.toDate)}\r\n                    name=\"toDate\"\r\n                    type=\"date\"\r\n                    onChange={this.handleChange}\r\n                    popperPlacement=\"top-right\"\r\n                    minDate={new Date(formFields.fromDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                {this.validator.message(\r\n                  \"toDate\",\r\n                  formFields.toDate,\r\n                  \"required|date\"\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-6 col-6 mb-3\">\r\n                <div className=\"row mb-4 mt-2 mx-3\">\r\n                  <div className={`row`}>\r\n                    <div>\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handleSelectAllCheckbox(e)}\r\n                        value={employeeSelectAll}\r\n                        name=\"employeeSelectAll\"\r\n                        checked={employeeSelectAll}\r\n                      />\r\n                    </div>\r\n                    <div>{t(\"Employee Name\")}</div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\">\r\n                    {staffList && staffList.length > 0 ? (\r\n                      staffList.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className={`d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list ${\r\n                              item.selected ? \"active\" : \"\"\r\n                            } `}\r\n                            key={item.value}\r\n                          >\r\n                            <div className=\"col-3 text-center\">\r\n                              <NormalCheckbox\r\n                                onChange={e => this.handleCheckbox(e, item)}\r\n                                value={item.selected}\r\n                                name=\"Staff\"\r\n                                checked={item.selected}\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-8\">{item.label}</div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"text-center w-100\"></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6 col-6 mb-3\">\r\n                <div className=\"row mb-4 mt-2 mx-3\">\r\n                  <div className=\"row\">\r\n                    <div>\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handleSelectAllCheckbox(e)}\r\n                        value={siteSelectAll}\r\n                        name=\"siteSelectAll\"\r\n                        checked={siteSelectAll}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      {t(\"Site\")} {t(\"Code\")}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\">\r\n                    {siteCodeList && siteCodeList.length > 0 ? (\r\n                      siteCodeList.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className={`d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list ${\r\n                              item.selected ? \"active\" : \"\"\r\n                            } `}\r\n                            key={index}\r\n                          >\r\n                            <div className=\"col-3 text-center\">\r\n                              <NormalCheckbox\r\n                                onChange={e => this.handleCheckbox(e, item)}\r\n                                value={item.selected}\r\n                                name=\"Site\"\r\n                                checked={item.selected}\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-8\">{item.label}</div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"text-center w-100\"></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6 col-6 mb-3\">\r\n                <div className=\"row mb-2 mx-3\">\r\n                  <div className=\"row\">\r\n                    <div>\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handleSelectAllCheckbox(e)}\r\n                        value={bookingSelectAll}\r\n                        name=\"bookingSelectAll\"\r\n                        checked={bookingSelectAll}\r\n                      />\r\n                    </div>\r\n                    <div>{t(\"Booking Status\")}</div>\r\n                  </div>\r\n                  <div className=\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\">\r\n                    {bookingList && bookingList.length > 0 ? (\r\n                      bookingList.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className={`d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list ${\r\n                              item.selected ? \"active\" : \"\"\r\n                            } `}\r\n                            key={item.value}\r\n                          >\r\n                            <div className=\"col-3 text-center\">\r\n                              <NormalCheckbox\r\n                                onChange={e => this.handleCheckbox(e, item)}\r\n                                value={item.selected}\r\n                                name=\"Booking\"\r\n                                checked={item.selected}\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-8\">{item.label}</div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"text-center w-100\"></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6 col-6 mb-3\">\r\n                <div className=\"row mb-2 mx-3\">\r\n                  <div className=\"row\">\r\n                    <div>\r\n                      <NormalCheckbox\r\n                        onChange={e => this.handleSelectAllCheckbox(e)}\r\n                        value={secStatusSelectAll}\r\n                        name=\"secStatusSelectAll\"\r\n                        checked={secStatusSelectAll}\r\n                      />\r\n                    </div>\r\n                    <div>{t(\"Secondary Status\")}</div>\r\n                  </div>\r\n                  <div className=\"col-md-12 col-12 response-table fw-500 multiselectList-height fs-13\">\r\n                    {secStatusList && secStatusList.length > 0 ? (\r\n                      secStatusList.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className={`d-flex justify-content-start m-0 table-body w-100 p-1 border border-secondary staff-sort-list ${\r\n                              item.selected ? \"active\" : \"\"\r\n                            } `}\r\n                            key={item.value}\r\n                          >\r\n                            <div className=\"col-3 text-center\">\r\n                              <NormalCheckbox\r\n                                onChange={e => this.handleCheckbox(e, item)}\r\n                                value={item.selected}\r\n                                name=\"Sec_status\"\r\n                                checked={item.selected}\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-8\">{item.label}</div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"text-center w-100\"></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex justify-content-end\">\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  buttonClass={\"w-100  p-0\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label={`Pdf`}\r\n                  outline={false}\r\n                  onClick={() => this.sendAppointmentListPrint(\"Pdf\")}\r\n                />\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  buttonClass={\"w-100  p-0\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label={`Excel`}\r\n                  outline={false}\r\n                  onClick={() => this.sendAppointmentListPrint(\"Excel\")}\r\n                />\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <NormalButton\r\n                  buttonClass={\"w-100 p-0\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label={`Cancel`}\r\n                  outline={false}\r\n                  onClick={this.handleDialog}\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </NormalModal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const PrintModal = withTranslation()(\r\n  connect(null, mapDispatchToProps)(PrintModalClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}