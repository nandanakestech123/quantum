{"ast":null,"code":"import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{NormalButton}from'component/common';import{InputSearch,TableWrapper}from'component/common';// import More from '../../../../assets/images/H-more.svg'\n// import MoreActive from '../../../../assets/images/H-more-blue.svg'\nimport'./style.scss';import{getSaloon,deleteSaloon}from'redux/actions/saloon';import{getBranch}from'redux/actions/common';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import _ from'lodash';export var ListSalonsClass=/*#__PURE__*/function(_React$Component){_inherits(ListSalonsClass,_React$Component);var _super=_createSuper(ListSalonsClass);function ListSalonsClass(){var _this;_classCallCheck(this,ListSalonsClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={headerDetails:[{label:'Salons Name',sortKey:true},{label:'Branch/Location',sortKey:true},{label:'Service Details',sortKey:true},{label:'Contact Number'},{label:'Opening date',sortKey:true},{label:''}],saloonList:[],meta:{},active:false,currentIndex:-1};_this.componentDidMount=function(){_this.queryHandler({});};_this.handleClick=function(key){if(!_this.state.active){document.addEventListener('click',_this.handleOutsideClick,false);}else{document.removeEventListener('click',_this.handleOutsideClick,false);}_this.setState(function(prevState){return{active:!prevState.active,currentIndex:key};});};_this.handleOutsideClick=function(e){if(_this.node!=null){if(_this.node.contains(e.target)){return;}}_this.handleClick();};_this.queryHandler=function(data){var _data$page=data.page,page=_data$page===void 0?1:_data$page,_data$limit=data.limit,limit=_data$limit===void 0?10:_data$limit,_data$search=data.search,search=_data$search===void 0?\"\":_data$search;_this.props.getBranch(\"?page=\".concat(page,\"&limit=\").concat(limit)).then(function(res){// this.props.getSaloon(`?page=${page}&limit=${limit}&search=${search}`).then((res) => {\nconsole.log(res,\"dsfdfaafg\");_this.setState({saloonList:res.data.dataList,meta:res.data.meta.pagination});});};_this.handlePagination=function(page){console.log(page,\"dsfsdfsdfsdf\");_this.queryHandler(page);};_this.handlesearch=function(event){console.log(\"sadfasdfasdf\",event.target.value);event.persist();if(!_this.debouncedFn){_this.debouncedFn=_.debounce(function(){var searchString=event.target.value;var data={search:searchString};_this.queryHandler(data);},500);}_this.debouncedFn();};_this.handleDeleteSaloon=function(id){_this.props.deleteSaloon(\"\".concat(id,\"/\")).then(function(res){});};return _this;}_createClass(ListSalonsClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,headerDetails=_this$state.headerDetails,saloonList=_this$state.saloonList,meta=_this$state.meta,currentIndex=_this$state.currentIndex;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"list-salon\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7\"},/*#__PURE__*/React.createElement(\"h3\",null,\"List of Salons\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 ml-5 mr-3\"},/*#__PURE__*/React.createElement(InputSearch,{className:\"\",placeholder:\"Search Salons\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 col-4 p-0\"},/*#__PURE__*/React.createElement(NormalButton,{mainbg:true,className:\"col-12 fs-15 float-right add-saloon\",label:\"Add Salon\",onClick:function onClick(){return _this2.props.history.push('/admin/salons/add');}}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-table-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination,pageMeta:meta},saloonList.length>0?saloonList.map(function(item,index){var ItemSite_Date=item.ItemSite_Date,itemsite_desc=item.itemsite_desc,salon_name=item.salon_name,itemsite_phone1=item.itemsite_phone1,site_name=item.site_name,created_at=item.created_at,itemsite_date=item.itemsite_date,id=item.id,images=item.images,services=item.services,skills=item.skills;return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},salon_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},itemsite_desc)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},skills)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},itemsite_phone1)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},itemsite_date)),/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative\",ref:function ref(node){_this2.node=node;},onClick:function onClick(){return _this2.handleClick(index);}},_this2.state.active&&currentIndex===index?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center horizontal-more-active\"},/*#__PURE__*/React.createElement(\"svg\",{width:\"42\",height:\"42\",viewBox:\"0 0 42 42\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"circle\",{opacity:\"0.2\",cx:\"21\",cy:\"21\",r:\"21\",fill:\"#023F88\"}),/*#__PURE__*/React.createElement(\"path\",{d:\"M25.5 20.5C25.5 19.125 26.5125 18 27.75 18C28.9875 18 30 19.125 30 20.5C30 21.875 28.9875 23 27.75 23C26.5125 23 25.5 21.875 25.5 20.5ZM23.25 20.5C23.25 21.875 22.2375 23 21 23C19.7625 23 18.75 21.875 18.75 20.5C18.75 19.125 19.7625 18 21 18C22.2375 18 23.25 19.125 23.25 20.5ZM16.5 20.5C16.5 21.875 15.4875 23 14.25 23C13.0125 23 12 21.875 12 20.5C12 19.125 13.0125 18 14.25 18C15.4875 18 16.5 19.125 16.5 20.5Z\",fill:\"#023F88\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"option card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-16 pt-3\",onClick:function onClick(){return _this2.props.history.push(\"/admin/salons/\".concat(id,\"/salonDetails\"));}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-eye-grey px-3\"}),\" View \"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-16\",onClick:function onClick(){return _this2.props.history.push(\"/admin/salons/\".concat(id,\"/editSaloon\"));}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-edit px-3\"}),\" Edit \"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center fs-16 pb-3\",onClick:function onClick(){return _this2.handleDeleteSaloon(id);}},/*#__PURE__*/React.createElement(\"span\",{className:\"icon-delete px-3\"}),\" Delete \"))):/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center horizontal-more horizontal-more-befor\"},/*#__PURE__*/React.createElement(\"svg\",{width:\"18\",height:\"42\",viewBox:\"0 0 18 5\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M13.5 2.5C13.5 1.125 14.5125 -8.01231e-07 15.75 -8.55324e-07C16.9875 -9.09417e-07 18 1.125 18 2.5C18 3.875 16.9875 5 15.75 5C14.5125 5 13.5 3.875 13.5 2.5ZM11.25 2.5C11.25 3.875 10.2375 5 9 5C7.7625 5 6.75 3.875 6.75 2.5C6.75 1.125 7.7625 -5.06179e-07 9 -5.60272e-07C10.2375 -6.14365e-07 11.25 1.125 11.25 2.5ZM4.5 2.5C4.5 3.875 3.4875 5 2.25 5C1.0125 5 -4.91753e-08 3.875 -1.09278e-07 2.5C-1.69382e-07 1.125 1.0125 -2.11127e-07 2.25 -2.6522e-07C3.4875 -3.19313e-07 4.5 1.125 4.5 2.5Z\",fill:\"#C4C4C4\"})))));}):\"\"))))));}}]);return ListSalonsClass;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{// filter: state.dashboard\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getSaloon:getSaloon,deleteSaloon:deleteSaloon,getBranch:getBranch},dispatch);};export var ListSalons=connect(mapStateToProps,mapDispatchToProps)(ListSalonsClass);","map":{"version":3,"sources":["F:/webfe/src/component/Admin/Salons/ListSalons/index.js"],"names":["React","NormalButton","InputSearch","TableWrapper","getSaloon","deleteSaloon","getBranch","connect","bindActionCreators","_","ListSalonsClass","state","headerDetails","label","sortKey","saloonList","meta","active","currentIndex","componentDidMount","queryHandler","handleClick","key","document","addEventListener","handleOutsideClick","removeEventListener","setState","prevState","e","node","contains","target","data","page","limit","search","props","then","res","console","log","dataList","pagination","handlePagination","handlesearch","event","value","persist","debouncedFn","debounce","searchString","handleDeleteSaloon","id","handleChange","history","push","length","map","item","index","ItemSite_Date","itemsite_desc","salon_name","itemsite_phone1","site_name","created_at","itemsite_date","images","services","skills","Component","mapStateToProps","mapDispatchToProps","dispatch","ListSalons"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { NormalButton } from 'component/common';\r\nimport { InputSearch, TableWrapper } from 'component/common';\r\n// import More from '../../../../assets/images/H-more.svg'\r\n// import MoreActive from '../../../../assets/images/H-more-blue.svg'\r\nimport './style.scss'\r\nimport { getSaloon, deleteSaloon } from 'redux/actions/saloon';\r\nimport { getBranch } from 'redux/actions/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport _ from 'lodash';\r\n\r\nexport class ListSalonsClass extends React.Component {\r\n\r\n  state = {\r\n    headerDetails: [\r\n      { label: 'Salons Name', sortKey: true },\r\n      { label: 'Branch/Location', sortKey: true },\r\n      { label: 'Service Details', sortKey: true },\r\n      { label: 'Contact Number' },\r\n      { label: 'Opening date', sortKey: true },\r\n      { label: '' }\r\n    ],\r\n    saloonList: [],\r\n    meta: {},\r\n    active: false,\r\n    currentIndex: -1,\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.queryHandler({});\r\n  }\r\n\r\n  // popup open/close\r\n  handleClick = (key) => {\r\n    if (!this.state.active) {\r\n      document.addEventListener('click', this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener('click', this.handleOutsideClick, false);\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      active: !prevState.active,\r\n      currentIndex: key\r\n    }));\r\n  }\r\n\r\n  // popup outside click\r\n  handleOutsideClick = (e) => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleClick();\r\n  }\r\n\r\n  // api call for salon\r\n  queryHandler = (data) => {\r\n    let { page = 1, limit = 10, search = \"\" } = data\r\n    this.props.getBranch(`?page=${page}&limit=${limit}`).then((res) => {\r\n      // this.props.getSaloon(`?page=${page}&limit=${limit}&search=${search}`).then((res) => {\r\n      console.log(res, \"dsfdfaafg\")\r\n      this.setState({ \r\n        saloonList: res.data.dataList, \r\n        meta: res.data.meta.pagination \r\n      })\r\n    })\r\n  }\r\n\r\n  // pagination\r\n  handlePagination = (page) => {\r\n    console.log(page, \"dsfsdfsdfsdf\")\r\n    this.queryHandler(page)\r\n  }\r\n\r\n  // search input changes and api call here\r\n  handlesearch = (event) => {\r\n    console.log(\"sadfasdfasdf\", event.target.value)\r\n    event.persist();\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(() => {\r\n        let searchString = event.target.value;\r\n        let data = { search: searchString }\r\n        this.queryHandler(data)\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  }\r\n\r\n  // delete api call for salon\r\n  handleDeleteSaloon = (id) => {\r\n    this.props.deleteSaloon(`${id}/`).then((res) => {\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let { headerDetails, saloonList, meta, currentIndex } = this.state\r\n    return (\r\n      <>\r\n        <div className=\"list-salon\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-md-7\">\r\n              <h3>List of Salons</h3>\r\n            </div>\r\n            <div className=\"col-md-5\">\r\n              <div className=\"d-flex\">\r\n                <div className=\"w-100 ml-5 mr-3\">\r\n                  <InputSearch\r\n                    className=\"\"\r\n                    placeholder='Search Salons'\r\n                    onChange={this.handleChange} />\r\n                </div>\r\n                <div className=\"w-100 col-4 p-0\">\r\n                  <NormalButton\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15 float-right add-saloon\"\r\n                    label=\"Add Salon\"\r\n                    onClick={() => this.props.history.push('/admin/salons/add')}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"tab-table-content\" >\r\n            <div className=\"py-4\">\r\n              <div className=\"table-container\">\r\n                <TableWrapper\r\n                  headerDetails={headerDetails}\r\n                  queryHandler={this.handlePagination}\r\n                  pageMeta={meta}\r\n                >\r\n\r\n                  {saloonList.length > 0 ? saloonList.map((item, index) => {\r\n\r\n                    let {\r\n                      ItemSite_Date,\r\n                      itemsite_desc,\r\n                      salon_name,\r\n                      itemsite_phone1,\r\n                      site_name,\r\n                      created_at,\r\n                      itemsite_date,\r\n                      id,\r\n                      images,\r\n                      services,\r\n                      skills\r\n                    } = item\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{salon_name}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{itemsite_desc}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{skills}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{itemsite_phone1}</div></td>\r\n                        <td><div className=\"d-flex align-items-center justify-content-center\">{itemsite_date}</div></td>\r\n\r\n                        <td className=\"position-relative\" ref={node => { this.node = node; }}\r\n                          onClick={() => this.handleClick(index)}\r\n                        >\r\n                          {this.state.active && currentIndex === index ?\r\n                            <>\r\n                              <div className=\"d-flex align-items-center justify-content-center horizontal-more-active\">\r\n                                <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                  <circle opacity=\"0.2\" cx=\"21\" cy=\"21\" r=\"21\" fill=\"#023F88\" />\r\n                                  <path d=\"M25.5 20.5C25.5 19.125 26.5125 18 27.75 18C28.9875 18 30 19.125 30 20.5C30 21.875 28.9875 23 27.75 23C26.5125 23 25.5 21.875 25.5 20.5ZM23.25 20.5C23.25 21.875 22.2375 23 21 23C19.7625 23 18.75 21.875 18.75 20.5C18.75 19.125 19.7625 18 21 18C22.2375 18 23.25 19.125 23.25 20.5ZM16.5 20.5C16.5 21.875 15.4875 23 14.25 23C13.0125 23 12 21.875 12 20.5C12 19.125 13.0125 18 14.25 18C15.4875 18 16.5 19.125 16.5 20.5Z\" fill=\"#023F88\" />\r\n                                </svg>\r\n                              </div>\r\n                              <div className=\"option card\">\r\n                                <div className=\"d-flex align-items-center fs-16 pt-3\" onClick={() => this.props.history.push(`/admin/salons/${id}/salonDetails`)}><span className=\"icon-eye-grey px-3\"></span> View </div>\r\n                                <div className=\"d-flex align-items-center fs-16\" onClick={() => this.props.history.push(`/admin/salons/${id}/editSaloon`)}><span className=\"icon-edit px-3\"></span> Edit </div>\r\n                                <div className=\"d-flex align-items-center fs-16 pb-3\" onClick={() => this.handleDeleteSaloon(id)}><span className=\"icon-delete px-3\"></span> Delete </div>\r\n                              </div>\r\n                            </>\r\n                            :\r\n                            <div className=\"d-flex align-items-center justify-content-center horizontal-more horizontal-more-befor\">\r\n                              <svg width=\"18\" height=\"42\" viewBox=\"0 0 18 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M13.5 2.5C13.5 1.125 14.5125 -8.01231e-07 15.75 -8.55324e-07C16.9875 -9.09417e-07 18 1.125 18 2.5C18 3.875 16.9875 5 15.75 5C14.5125 5 13.5 3.875 13.5 2.5ZM11.25 2.5C11.25 3.875 10.2375 5 9 5C7.7625 5 6.75 3.875 6.75 2.5C6.75 1.125 7.7625 -5.06179e-07 9 -5.60272e-07C10.2375 -6.14365e-07 11.25 1.125 11.25 2.5ZM4.5 2.5C4.5 3.875 3.4875 5 2.25 5C1.0125 5 -4.91753e-08 3.875 -1.09278e-07 2.5C-1.69382e-07 1.125 1.0125 -2.11127e-07 2.25 -2.6522e-07C3.4875 -3.19313e-07 4.5 1.125 4.5 2.5Z\" fill=\"#C4C4C4\" />\r\n                              </svg>\r\n                            </div>\r\n                          }\r\n                        </td>\r\n\r\n                      </tr>\r\n                    )\r\n                  }) : \"\"}\r\n\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // filter: state.dashboard\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getSaloon,\r\n    deleteSaloon,\r\n    getBranch\r\n  }, dispatch)\r\n}\r\n\r\nexport const ListSalons = connect(mapStateToProps, mapDispatchToProps)(ListSalonsClass)"]},"metadata":{},"sourceType":"module"}