{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Cart\\\\cart\\\\CoursePopup.js\";\nimport React, { Component } from \"react\";\nimport { NormalInput, NormalButton, TableWrapper, NormalTextarea, NormalSelect, NormalCheckbox, NormalModal } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, commonPatchApi, commonCreateApi, commonUpdateApi } from \"redux/actions/common\";\nimport \"./style.scss\";\nimport { Toast } from \"service/toast\";\nimport closeIcon from \"assets/images/close.png\";\nimport { CourseTreatmentDone } from \"./coursetreatmentDone\";\nimport { withTranslation } from \"react-i18next\";\nimport _ from \"lodash\";\nimport { StaffSelectionPopup } from \"./staffSelectionPopup\";\nimport { CredentialConfirmation } from \"../credentialConfirmation\";\nexport class CoursePopupClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headerDetails: [{\n        label: \"No.\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Program\"\n      }, {\n        label: \"Next appt\",\n        divClass: \"justify-content-end text-right\"\n      }, {\n        label: \"Amount\",\n        divClass: \"justify-content-end text-right\"\n      }],\n      data_list: {\n        deposit: \"\",\n        discount: \"\",\n        discount_amt: \"\",\n        discount_price: \"\",\n        free_sessions: null,\n        id: null,\n        itemdesc: \"\",\n        price: \"\",\n        quantity: null,\n        tmp_treatment: [],\n        total_price: \"\",\n        trans_amt: \"\",\n        treatment_no: null,\n        outstanding: null,\n        disc_reason: \"182\",\n        discreason_txt: \"\",\n        autoProportion: false,\n        Sessions: \"\"\n      },\n      discount_reason_options: [],\n      is_percentage: \"1\",\n      discount_reasons: [],\n      is_total: false,\n      discount_price_txt: \"\",\n      discType: [{\n        value: 1,\n        label: \"%\"\n      }, {\n        value: 2,\n        label: \"$\"\n      }],\n      TD_List: [],\n      isOpenTreatmentDone: false,\n      cartId: null,\n      item: {},\n      summaryFlag: false,\n      sessionStaff: [],\n      TempSave: false,\n      isOpenStaffSelectionDetail: false,\n      settingData: {},\n      isHandleConfirmationDialog: false,\n      isLoginConfirmation: false,\n      user: \"\",\n      pass: \"\"\n    };\n\n    this.componentDidMount = () => {\n      this.getDiscountReasons();\n      this.setState({\n        item: this.props.itemData\n      });\n      this.getCourseList();\n      this.handleItemSettings();\n    };\n\n    this.handleItemSettings = () => {\n      let {\n        settingData\n      } = this.state;\n      this.props.getCommonApi(`userlist/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"settingsData salesstaff\");\n\n        if (status === 200) {\n          settingData = data;\n          this.setState({\n            settingData\n          });\n        }\n      });\n    };\n\n    this.getCourseList = () => {\n      let {\n        data_list,\n        discount_reasons,\n        is_total,\n        sessionStaff,\n        TempSave\n      } = this.state;\n      this.props.getCommonApi(`cartservicecourse/${this.props.cartId}/`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(data, \"cartcoursepopup\");\n\n        if (status == \"200\") {\n          if (data) {\n            data_list[\"deposit\"] = data.deposit ? data.deposit : 0;\n            data_list[\"discount\"] = 0;\n            data_list[\"discount_amt\"] = 0;\n            data_list[\"discount_price\"] = data.discount_price;\n            data_list[\"free_sessions\"] = data.free_sessions;\n            data_list[\"id\"] = data.id;\n            data_list[\"itemdesc\"] = data.itemdesc;\n            data_list[\"price\"] = data.price;\n            data_list[\"quantity\"] = data.quantity;\n            data_list[\"tmp_treatment\"] = data.tmp_treatment;\n            data_list[\"autoProportion\"] = false;\n            data_list[\"total_price\"] = data.total_price;\n            data_list[\"trans_amt\"] = data.trans_amt;\n            data_list[\"treatment_no\"] = Number(data.quantity) == 1 ? 1 : data.free_sessions == 0 ? data.quantity : data.treatment_no;\n            data_list[\"outstanding\"] = Number(data.trans_amt - data.deposit).toFixed(2);\n            data_list[\"is_done\"] = data.is_done;\n\n            if (data.sessiondone == \"\" || Number(data.sessiondone) == 0 || data.sessiondone == null || data.sessiondone == undefined) {\n              data_list[\"Sessions\"] = 0;\n            } else {\n              data_list[\"Sessions\"] = data.sessiondone;\n            }\n\n            is_total = data.is_total;\n            discount_reasons = data.disc_lst;\n            sessionStaff = [];\n\n            if (data.tstaff) {\n              sessionStaff = data.tstaff;\n            } //TempSave = data.is_treat;\n\n\n            await this.setState({\n              data_list,\n              discount_reasons,\n              is_total,\n              sessionStaff //TempSave,\n\n            }); // if (TempSave) {\n            //   this.handleReset();\n            // }\n            // if (\n            //   data_list.treatment_no == 1 &&\n            //   data_list[\"tmp_treatment\"].length <= 0\n            // ) {\n            //   this.handleTreatmentCountUpdate();\n            // } else\n\n            debugger;\n\n            if (data_list.treatment_no == null && data_list[\"tmp_treatment\"].length == 0) {\n              this.handleTreatmentnewCountUpdate();\n            } else if (data_list.treatment_no == 1 && data_list[\"tmp_treatment\"].length == 0) {\n              let dataFirstCall = true;\n              this.handleTreatmentCountUpdate(dataFirstCall);\n            }\n          }\n        }\n      });\n    };\n\n    this.getCourseAfterTreatmentDoneConfirm = () => {\n      let {\n        sessionStaff,\n        data_list\n      } = this.state;\n      this.props.getCommonApi(`cartservicecourse/${this.props.cartId}/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(data, \"cartcoursepopup\");\n\n        if (status == \"200\") {\n          if (data) {\n            data_list[\"is_done\"] = data.is_done;\n            sessionStaff = [];\n            sessionStaff = data.tstaff;\n            this.setState({\n              sessionStaff,\n              data_list\n            });\n          }\n        }\n      });\n    };\n\n    this.getCourseAfterTreatmentDoneAction = () => {\n      let {\n        sessionStaff,\n        data_list\n      } = this.state;\n      this.props.getCommonApi(`cartservicecourse/${this.props.cartId}/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(data, \"cartcoursepopup\");\n\n        if (status == \"200\") {\n          if (data) {\n            data_list[\"is_done\"] = data.is_done;\n\n            if (data.sessiondone == \"\" || Number(data.sessiondone) == 0 || data.sessiondone == null || data.sessiondone == undefined) {\n              data_list[\"Sessions\"] = 0;\n            } else {\n              data_list[\"Sessions\"] = data.sessiondone;\n            }\n\n            sessionStaff = [];\n            sessionStaff = data.tstaff;\n            this.setState({\n              sessionStaff,\n              data_list\n            });\n          }\n        }\n      });\n    };\n\n    this.getCourseTableList = async () => {\n      let {\n        data_list,\n        discount_reasons,\n        discount_price_txt,\n        is_percentage\n      } = this.state;\n      this.props.getCommonApi(`cartservicecourse/${this.props.cartId}/`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"cartcoursepopupafterdiscount\");\n\n        if (status == \"200\") {\n          if (data) {\n            data_list[\"tmp_treatment\"] = data.tmp_treatment;\n            discount_reasons = data.disc_lst;\n            this.setState({\n              data_list,\n              discount_reasons\n            });\n            data_list[\"discount_price\"] = data.discount_price;\n            let Total = 0;\n\n            if (Number(data_list.treatment_no) === 0 && Number(data_list.free_sessions) === 0) {\n              Total = Number(data.discount_price) * Number(data_list.quantity);\n            } else {\n              Total = Number(data.discount_price) * Number(data_list.treatment_no);\n            }\n\n            data_list[\"total_price\"] = Number(Total).toFixed(2);\n            data_list[\"trans_amt\"] = Number(Total).toFixed(2);\n            data_list[\"deposit\"] = Number(Total).toFixed(2);\n            data_list[\"disc_reason\"] = \"182\";\n            data_list[\"discreason_txt\"] = \"\";\n            data_list[\"discount\"] = \"\";\n            data_list[\"discount_amt\"] = \"\";\n            data_list[\"outstanding\"] = Number(Total - data_list.deposit).toFixed(2);\n            discount_price_txt = \"\";\n            is_percentage = \"1\";\n            await this.setState({\n              data_list,\n              discount_reasons,\n              discount_price_txt,\n              is_percentage\n            });\n          }\n        }\n      });\n    };\n\n    this.handleProportionChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        data_list,\n        deposit\n      } = this.state;\n      data_list[name] = value;\n      let proportion = \"\";\n\n      if (value) {\n        proportion = \"True\";\n      } else {\n        proportion = \"False\";\n      }\n\n      let body = {\n        cart_id: data_list.id,\n        treatment_no: null,\n        free_sessions: null,\n        total_price: null,\n        unit_price: null,\n        disc_amount: null,\n        disc_percent: null,\n        auto_propation: proportion\n      };\n      this.props.commonCreateApi(`coursetmp/`, body).then(key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"Coursecountupdateresponse\");\n\n        if (status == \"201\" || status == \"200\") {\n          if (data) {\n            data_list[\"tmp_treatment\"] = data;\n            data_list[\"outstanding\"] = Number(data_list.trans_amt - data_list.deposit).toFixed(2);\n            this.setState({\n              data_list\n            });\n            this.getCourseAfterTreatmentDoneConfirm();\n            return true;\n          }\n        }\n      });\n    };\n\n    this.handleChange = async ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let {\n        data_list,\n        deposit,\n        is_percentage,\n        discount_price_txt,\n        total_price,\n        outstanding\n      } = this.state;\n\n      if (name === \"discount_price_txt\") {\n        discount_price_txt = value;\n        this.setState({\n          discount_price_txt\n        });\n      } else if (name == \"is_percentage\") {\n        is_percentage = value;\n        this.setState({\n          is_percentage\n        });\n      } else if (name === \"disc_reason\") {\n        data_list[\"discreason_txt\"] = \"\";\n        data_list[\"disc_reason\"] = value;\n        this.setState({\n          data_list\n        });\n      } else {\n        data_list[name] = value;\n        await this.setState({\n          data_list\n        });\n      }\n    };\n\n    this.handleTreatmentnewCountUpdate = () => {\n      debugger;\n      let {\n        data_list\n      } = this.state;\n      let body = {\n        cart_id: data_list.id,\n        treatment_no: data_list.quantity,\n        free_sessions: Number(data_list.free_sessions)\n      };\n      this.apiCallforNewTreatmentCount(body);\n      this.handleNewQuantityCount();\n    };\n\n    this.handleNewQuantityCount = async () => {\n      let {\n        data_list\n      } = this.state;\n      let count = 0;\n      count = Number(data_list.quantity) + Number(data_list.free_sessions);\n\n      if (count > 0) {\n        data_list[\"quantity\"] = count;\n      } else {\n        data_list[\"quantity\"] = 1;\n      }\n\n      await this.setState({\n        data_list\n      });\n    };\n\n    this.handleTreatmentCountUpdate = async dataFirstCall => {\n      let {\n        data_list\n      } = this.state;\n\n      if (data_list.treatment_no && Number(data_list.treatment_no) > 0) {\n        let body = {\n          cart_id: data_list.id,\n          treatment_no: Number(data_list.treatment_no),\n          free_sessions: Number(data_list.free_sessions)\n        }; //this.handleTextChangeAPI(body);\n\n        this.apiCallforTreatmentCount(body, dataFirstCall);\n        this.handleQuantityCount();\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"No.of treatment should not be empty\"\n        });\n      }\n    };\n\n    this.apiCallforNewTreatmentCount = body => {\n      let {\n        data_list\n      } = this.state;\n      this.props.commonCreateApi(`coursetmp/`, body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"Coursecountupdateresponse\");\n\n        if (status == \"201\" || status == \"200\") {\n          if (data) {\n            data_list[\"tmp_treatment\"] = data;\n            this.setState({\n              data_list\n            });\n            this.getCourseAfterTreatmentDoneAction();\n            let Amount = Number(data_list.discount_price * data_list.quantity).toFixed(2);\n            data_list[\"deposit\"] = Amount;\n            data_list[\"trans_amt\"] = Amount;\n            data_list[\"total_price\"] = Amount;\n            data_list[\"outstanding\"] = Number(data_list.trans_amt - Amount).toFixed(2);\n            await this.setState({\n              data_list\n            }); //this.getCourseAfterTreatmentDoneAction();\n\n            return true;\n          }\n        }\n      });\n    };\n\n    this.apiCallforTreatmentCount = (body, dataFirstCall) => {\n      let {\n        data_list\n      } = this.state;\n      this.props.commonCreateApi(`coursetmp/`, body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"Coursecountupdateresponse\");\n\n        if (status == \"201\" || status == \"200\") {\n          if (data) {\n            debugger;\n            data_list[\"tmp_treatment\"] = data;\n            this.setState({\n              data_list\n            });\n            this.getCourseAfterTreatmentDoneAction();\n            let Amount = Number(data_list.discount_price * data_list.treatment_no).toFixed(2);\n\n            if (!dataFirstCall) {\n              data_list[\"deposit\"] = Amount;\n            }\n\n            data_list[\"trans_amt\"] = Amount;\n            data_list[\"total_price\"] = Amount;\n            await this.setState({\n              data_list\n            }); //this.getCourseAfterTreatmentDoneAction();\n\n            this.handleOutstanding();\n            return true;\n          }\n        }\n      });\n    };\n\n    this.handleOutstanding = async () => {\n      let {\n        data_list\n      } = this.state;\n      data_list[\"outstanding\"] = Number(data_list.trans_amt - data_list.deposit).toFixed(2);\n      await this.setState({\n        data_list\n      });\n    };\n\n    this.handleTotalPriceChange = () => {\n      let {\n        data_list,\n        is_total\n      } = this.state;\n\n      if (data_list.treatment_no !== \"\" || Number(data_list.treatment_no) > 0) {\n        if (data_list.trans_amt && Number(data_list.trans_amt) > 0) {\n          let body = {\n            cart_id: data_list.id,\n            treatment_no: null,\n            free_sessions: null,\n            total_price: data_list.trans_amt,\n            unit_price: null,\n            disc_amount: null,\n            disc_percent: null,\n            auto_propation: null,\n            auto: data_list.autoProportion\n          }; // this.handleTextChangeAPI(body);\n\n          this.props.commonCreateApi(`coursetmp/`, body).then(async key => {\n            let {\n              status,\n              data\n            } = key;\n            console.log(key, \"Coursecountupdateresponse\");\n\n            if (status == \"201\" || status == \"200\") {\n              if (data) {\n                data_list[\"tmp_treatment\"] = data;\n                this.setState({\n                  data_list\n                });\n                this.getCourseAfterTreatmentDoneAction();\n                let Amount = Number(data_list.trans_amt / data_list.treatment_no).toFixed(2);\n                data_list[\"price\"] = Amount;\n                data_list[\"total_price\"] = data_list.trans_amt;\n                data_list[\"trans_amt\"] = data_list.trans_amt;\n                data_list[\"deposit\"] = data_list.trans_amt;\n                data_list[\"discount_price\"] = data_list.price;\n                data_list[\"discount\"] = \"\";\n                data_list[\"discount_amt\"] = \"\";\n                data_list[\"outstanding\"] = Number(data_list.trans_amt - data_list.deposit).toFixed(2);\n                is_total = true;\n                await this.setState({\n                  data_list,\n                  is_total\n                });\n              }\n            }\n          });\n        }\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Quantity should not be empty\"\n        });\n      }\n    };\n\n    this.handleReset = () => {\n      let {\n        data_list,\n        is_total,\n        discount_reasons,\n        discount_price_txt\n      } = this.state;\n      let body = {\n        cart_id: data_list.id\n      };\n      this.props.commonCreateApi(`cartservicecourse/reset/`, body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"resetresponse\");\n\n        if (status == \"200\") {\n          data_list.tmp_treatment = [];\n          discount_reasons = [];\n          data_list[\"treatment_no\"] = \"\";\n          data_list[\"free_sessions\"] = \"\"; // data_list[\"quantity\"] = 1;\n          // data_list[\"price\"] = Number(data_list[\"price\"])\n          // data_list[\"discount_price\"] = Number(data_list[\"price\"]);\n          // data_list[\"trans_amt\"] = Number(data_list[\"price\"]);\n          // data_list[\"deposit\"] = Number(data_list[\"price\"]);\n          // data_list[\"outstanding\"] = Number(\n          //   data_list.trans_amt - data_list.deposit\n          // ).toFixed(2);\n\n          data_list[\"autoProportion\"] = false;\n          discount_price_txt = \"\";\n          is_total = false;\n          this.setState({\n            data_list,\n            is_total,\n            discount_reasons,\n            discount_price_txt\n          });\n          this.getCourseAfterReset();\n        }\n      });\n    };\n\n    this.getCourseAfterReset = () => {\n      let {\n        sessionStaff,\n        data_list\n      } = this.state;\n      this.props.getCommonApi(`cartservicecourse/${this.props.cartId}/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(data, \"cartcoursepopup\");\n\n        if (status == \"200\") {\n          if (data) {\n            data_list[\"price\"] = Number(data.price).toFixed(2);\n            data_list[\"discount_price\"] = Number(data.price).toFixed(2);\n            data_list[\"quantity\"] = Number(data.quantity);\n            data_list[\"total_price\"] = Number(data.total_price).toFixed(2);\n            data_list[\"trans_amt\"] = Number(data.trans_amt);\n            data_list[\"outstanding\"] = Number(data.trans_amt - data.deposit).toFixed(2);\n            data_list[\"deposit\"] = Number(data.deposit).toFixed(2);\n            data_list[\"is_done\"] = data.is_done;\n\n            if (data.sessiondone == \"\" || Number(data.sessiondone) == 0 || data.sessiondone == null || data.sessiondone == undefined) {\n              data_list[\"Sessions\"] = 0;\n            } else {\n              data_list[\"Sessions\"] = data.sessiondone;\n            }\n\n            sessionStaff = [];\n            sessionStaff = data.tstaff;\n            this.setState({\n              sessionStaff,\n              data_list\n            });\n          }\n        }\n      });\n    };\n\n    this.handleQuantityCount = async () => {\n      let {\n        data_list\n      } = this.state;\n      let count = 0;\n      count = Number(data_list.treatment_no) + Number(data_list.free_sessions);\n\n      if (count > 0) {\n        data_list[\"quantity\"] = count;\n      } else {\n        data_list[\"quantity\"] = 1;\n      }\n\n      await this.setState({\n        data_list\n      });\n    };\n\n    this.handleSubmit = () => {\n      let {\n        data_list\n      } = this.state;\n      let discountAmt = null;\n      let discount = null;\n\n      if (data_list.discount && Number(data_list.discount) <= 0) {\n        discount = 0;\n        let discountCal = Number(data_list.discount_amt / data_list.treatment_no).toFixed(2);\n        discountAmt = discountCal;\n      } else {\n        let trans = Number(data_list.treatment_no) * Number(data_list.price);\n        let discPercnt = Number(trans * Number(data_list.discount) / 100).toFixed(2);\n        let disccalcStage = Number(trans - discPercnt).toFixed(2);\n        let disccalStage2 = Number(disccalcStage / data_list.treatment_no).toFixed(2);\n        let disccalcfinal = Number(data_list.price - disccalStage2);\n        discountAmt = disccalcfinal;\n        let Singledisc_percnt = Number(discountAmt / 100).toFixed(2);\n        discount = Number(Singledisc_percnt * 100).toFixed(2);\n      }\n\n      let treatment_no = 0;\n\n      if (data_list.treatment_no > 0) {\n        treatment_no = data_list.treatment_no;\n      } else {\n        treatment_no = 1;\n      }\n\n      if (Number(data_list[\"deposit\"]) > Number(data_list[\"trans_amt\"])) {\n        Toast({\n          type: \"error\",\n          message: \"Deposit should be less than or equal to Total price\"\n        });\n        return false;\n      } else if (discountAmt > 0 && data_list.disc_reason == \"\") {\n        Toast({\n          type: \"error\",\n          message: \"discount reason is mandatory for discount apply\"\n        });\n        return false;\n      } else {\n        let body = {\n          cart_id: data_list.id,\n          quantity: Number(data_list.quantity),\n          price: Number(data_list.price),\n          discount_price: Number(data_list.discount_price),\n          trans_amt: Number(data_list.trans_amt),\n          deposit: Number(data_list.deposit),\n          treatment_no: Number(data_list.treatment_no),\n          free_sessions: Number(data_list.free_sessions),\n          total_price: Number(Number(treatment_no) * Number(data_list.price)).toFixed(2),\n          sessiondone: data_list.is_done == true ? 0 : Number(data_list.Sessions)\n        };\n        console.log(body, \"Confirm button action input\");\n        this.props.commonPatchApi(`cartservicecourse/${this.props.cartId}/`, body).then(key => {\n          let {\n            status,\n            data\n          } = key;\n\n          if (status == \"200\") {\n            this.props.handleModal();\n          }\n        });\n      }\n    };\n\n    this.getDiscountReasons = () => {\n      let {\n        discount_reason_options\n      } = this.state;\n      this.props.getCommonApi(`paymentremarks/`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          for (let value of data) {\n            discount_reason_options.push({\n              value: value.id,\n              label: value.r_desc\n            });\n          }\n\n          this.setState({\n            discount_reason_options\n          });\n        }\n      });\n    };\n\n    this.handleApplyDiscount = async () => {\n      let {\n        data_list,\n        discount_price_txt,\n        is_percentage\n      } = this.state;\n\n      if (Number(discount_price_txt) > 0) {\n        if (Number(is_percentage) == 1) {\n          if (data_list.disc_reason && data_list.disc_reason != \"\") {\n            data_list[\"discount_amt\"] = Number(Number(data_list[\"discount_price\"]) / 100 * Number(discount_price_txt));\n            data_list[\"discount\"] = Number(discount_price_txt);\n            await this.setState({\n              data_list\n            });\n          } else {\n            Toast({\n              type: \"error\",\n              message: \"Please select Discount Reason\"\n            });\n            return false;\n          }\n        } else if (Number(is_percentage) == 2) {\n          if (data_list.disc_reason && data_list.disc_reason != \"\") {\n            data_list[\"discount_amt\"] = Number(discount_price_txt);\n            data_list[\"discount\"] = null;\n            await this.setState({\n              data_list\n            });\n          } else {\n            Toast({\n              type: \"error\",\n              message: \"Please select Discount Reason\"\n            });\n            return false;\n          }\n        } else {\n          Toast({\n            type: \"error\",\n            message: \"Please select Discount Type\"\n          });\n          return false;\n        }\n\n        let discreason_text = \"\";\n\n        if (Number(data_list.disc_reason) == 182) {\n          discreason_text = \"others\";\n        } else {\n          discreason_text = \"\";\n        }\n\n        let body = {\n          discount: Number(data_list.discount),\n          discount_amt: Number(data_list.discount_amt),\n          disc_reason: Number(data_list.disc_reason),\n          discreason_txt: discreason_text\n        };\n        this.props.commonUpdateApi(`itemcart/${this.props.cartId}/?disc_add=1&disc_reset=0&auto=${data_list.autoProportion ? 1 : 0}`, body).then(key => {\n          let {\n            status,\n            data\n          } = key;\n          console.log(key, \"apply discount response\");\n\n          if (status == \"200\" || status == \"201\") {\n            this.getCourseTableList(); // if (data_list[\"autoProportion\"]) {\n            //   this.handleProportiononDiscountChange()\n            // }\n          }\n        });\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Discount should be greater than zero\"\n        });\n        return false;\n      }\n    };\n\n    this.handleResetDiscount = async () => {\n      let {\n        data_list\n      } = this.state;\n      let body = {\n        discount: Number(data_list.discount),\n        discount_amt: Number(data_list.discount_amt),\n        disc_reason: Number(data_list.disc_reason),\n        discreason_txt: data_list.discreason_txt\n      };\n      this.props.commonUpdateApi(`itemcart/${this.props.cartId}/?disc_add=0&disc_reset=1&auto=${data_list.autoProportion ? 1 : 0}`, body).then(key => {\n        console.log(key, \"handleresetDiscount\");\n        this.getCourseTableList();\n      });\n    };\n\n    this.handleDepositAmount = () => {\n      let {\n        data_list\n      } = this.state;\n      let {\n        trans_amt,\n        deposit,\n        outstanding\n      } = data_list;\n      data_list[\"outstanding\"] = Number(trans_amt - deposit).toFixed(2);\n      this.setState({\n        data_list\n      });\n    };\n\n    this.handleDialog = async () => {\n      let {\n        isOpenTreatmentDone\n      } = this.state;\n      isOpenTreatmentDone = false;\n      await this.setState({\n        isOpenTreatmentDone,\n        editCart: {}\n      });\n      this.getCourseAfterTreatmentDoneConfirm();\n    };\n\n    this.handleTreatmentDone = async () => {\n      let {\n        item,\n        data_list\n      } = this.state;\n      let {\n        editCart\n      } = this.state;\n      editCart = item;\n\n      if (data_list[\"Sessions\"] == 0 || data_list[\"Sessions\"] == \"\") {\n        data_list[\"Sessions\"] = 1;\n      }\n\n      await this.setState({\n        editCart,\n        data_list\n      });\n      this.setState({\n        isOpenTreatmentDone: true\n      });\n    };\n\n    this.handleSummaryFlag = () => {\n      this.setState(prevState => ({\n        summaryFlag: !prevState.summaryFlag\n      }));\n    };\n\n    this.handleSessionChange = async event => {\n      //event.persist();\n      let {\n        data_list\n      } = this.state;\n      data_list.treatment_no = event.target.value;\n      await this.setState({\n        data_list\n      });\n\n      if (!this.debouncedFn) {\n        this.debouncedFn = _.debounce(async () => {\n          this.handleSoftReset();\n        }, 500);\n      }\n\n      this.debouncedFn();\n    };\n\n    this.handleFocChange = async event => {\n      //event.persist();\n      let {\n        data_list\n      } = this.state;\n      data_list.free_sessions = event.target.value;\n      await this.setState({\n        data_list\n      });\n\n      if (!this.debouncedFnFoc) {\n        this.debouncedFnFoc = _.debounce(async () => {\n          await this.handleSoftReset();\n        }, 500);\n      }\n\n      this.debouncedFnFoc();\n    };\n\n    this.handleDepositOnChange = async event => {\n      //event.persist();\n      let {\n        data_list\n      } = this.state;\n      data_list.deposit = event.target.value;\n      await this.setState({\n        data_list\n      });\n\n      if (!this.debouncedFnDeposit) {\n        this.debouncedFnDeposit = _.debounce(async () => {\n          this.handleDepositAmount();\n        }, 500);\n      }\n\n      this.debouncedFnDeposit();\n    };\n\n    this.handleSoftReset = () => {\n      let {\n        data_list,\n        is_total,\n        discount_reasons,\n        discount_price_txt\n      } = this.state;\n      let body = {\n        cart_id: data_list.id\n      };\n      this.props.commonCreateApi(`cartservicecourse/reset/`, body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n        console.log(key, \"resetresponse\");\n\n        if (status == \"200\") {\n          data_list.tmp_treatment = [];\n          discount_reasons = []; //data_list[\"treatment_no\"] = \"\";\n          //data_list[\"free_sessions\"] = \"\";\n          // data_list[\"quantity\"] = 1;\n\n          data_list[\"price\"] = Number(data_list[\"price\"]);\n          data_list[\"discount_price\"] = Number(data_list[\"price\"]).toFixed(2);\n          data_list[\"trans_amt\"] = Number(data_list[\"price\"]);\n          data_list[\"deposit\"] = Number(data_list[\"price\"]);\n          data_list[\"outstanding\"] = Number(data_list.trans_amt - data_list.deposit).toFixed(2);\n          data_list[\"autoProportion\"] = false;\n          discount_price_txt = \"\";\n          is_total = false;\n          this.setState({\n            data_list,\n            is_total,\n            discount_reasons,\n            discount_price_txt\n          }); //this.getCourseAfterReset();\n\n          if (data_list.treatment_no == null) {\n            this.handleTreatmentnewCountUpdate();\n          } else {\n            let dataFirstCall = false;\n            this.handleTreatmentCountUpdate(dataFirstCall);\n          }\n        }\n      });\n    };\n\n    this.handleDialogSalesStaff = () => {\n      let {\n        isOpenStaffSelectionDetail\n      } = this.state;\n      isOpenStaffSelectionDetail = !isOpenStaffSelectionDetail;\n      this.setState({\n        isOpenStaffSelectionDetail\n      });\n    };\n\n    this.handleLoginConfirmationDialog = async () => {\n      await this.setState(prevState => ({\n        isLoginConfirmation: !prevState.isLoginConfirmation\n      }));\n    };\n\n    this.handleauthentication = async (user, pass) => {\n      let Body = {\n        username: user,\n        password: pass,\n        type: \"CartDisc\"\n      };\n      this.props.commonCreateApi(`userauthorizationpopup/`, Body).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 200) {\n          await this.setState(prevState => ({\n            isLoginConfirmation: !prevState.isLoginConfirmation\n          }));\n          this.handleApplyDiscount();\n        }\n      });\n    };\n  }\n\n  render() {\n    let {\n      data_list,\n      headerDetails,\n      is_percentage,\n      discount_reason_options,\n      discount_reasons,\n      is_total,\n      discount_price_txt,\n      discType,\n      TD_List,\n      isOpenTreatmentDone,\n      cartId,\n      summaryFlag,\n      sessionStaff,\n      isOpenStaffSelectionDetail,\n      editCart,\n      settingData,\n      isHandleConfirmationDialog,\n      isLoginConfirmation,\n      user,\n      pass\n    } = this.state;\n    let {\n      deposit,\n      discount,\n      discount_amt,\n      discount_price,\n      free_sessions,\n      id,\n      itemdesc,\n      price,\n      quantity,\n      tmp_treatment,\n      total_price,\n      trans_amt,\n      treatment_no,\n      outstanding,\n      disc_reason,\n      discreason_txt,\n      autoProportion,\n      Sessions,\n      is_done\n    } = data_list;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-3 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1015,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1016,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1017,\n        columnNumber: 15\n      }\n    }, t(\"Course Page\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: false,\n      className: \"col-12 submit-btn\",\n      label: \"Done\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap w-100 mb-3 p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-12 mb-3 border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-0 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1033,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-12 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1035,\n        columnNumber: 21\n      }\n    }, t(\"Service\"), \" \", t(\"Course\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: itemdesc,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text  pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1043,\n        columnNumber: 21\n      }\n    }, t(\"QTY\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: treatment_no === null ? quantity : treatment_no ? treatment_no : \"1\",\n      type: \"number\",\n      name: \"treatment_no\",\n      onChange: e => this.handleSessionChange(e) // onBlur={this.handleQuantityCount}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text  pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1064,\n        columnNumber: 21\n      }\n    }, t(\"FOC\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: free_sessions ? free_sessions : \"\",\n      type: \"number\",\n      name: \"free_sessions\",\n      onChange: e => this.handleFocChange(e) //onChange={this.handleChange}\n      // onBlur={this.handleQuantityCount}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1068,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 align-self-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1080,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row justify-content-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1081,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1082,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      className: \"col-12 btn-outline-success applybtn\",\n      applybg: true,\n      label: \"Apply\",\n      onClick: () => this.handleTreatmentCountUpdate(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1083,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      resetbg: true,\n      className: \"col-12 btn-outline-danger resetbtn\",\n      label: \"Reset\",\n      onClick: this.handleReset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-0 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1103,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1105,\n        columnNumber: 23\n      }\n    }, t(\"Total\"), \" \", t(\"QTY\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1108,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: quantity ? quantity : \"\",\n      type: \"number\",\n      name: \"quantity\",\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1120,\n        columnNumber: 23\n      }\n    }, t(\"Unit Price\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1123,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: price,\n      type: \"number\",\n      name: \"price\",\n      onChange: this.handleChange,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mb-2 text-right workstaff-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 23\n      }\n    }, t(\"Disc.\"), \" \", t(\"Price\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mb-2 workstaff-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1140,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1141,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: discount_price,\n      name: \"discount_price\",\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1142,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2 workstaff-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mb-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-right text-black common-label-text pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 23\n      }\n    }, t(\"Total\"), \" \", t(\"Price\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12  mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1158,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: trans_amt,\n      name: \"trans_amt\",\n      type: \"number\",\n      onChange: this.handleChange,\n      disabled: discount_reasons.length > 0 || !is_done ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1174,\n        columnNumber: 21\n      }\n    }, discount_reasons && discount_reasons.length > 0 || !is_done ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1177,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"col-12\",\n      styleTwo: true,\n      label: \"Change\",\n      onClick: this.handleTotalPriceChange,\n      disabled: tmp_treatment && tmp_treatment.length > 0 ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1178,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4  mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1192,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 d-flex justify-content-center align-self-end  mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalCheckbox, {\n      name: \"autoProportion\",\n      label: \"Auto Proportion\",\n      checked: autoProportion,\n      value: autoProportion,\n      onChange: e => this.handleProportionChange(e),\n      disabled: tmp_treatment && tmp_treatment.length > 0 ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1207,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mb-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1208,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1209,\n        columnNumber: 23\n      }\n    }, t(\"Deposit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 pb-1 pt-1 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: deposit,\n      type: \"number\",\n      name: \"deposit\",\n      onChange: e => this.handleDepositOnChange(e) //onBlur={this.handleDepositAmount}\n      // disabled={\n      //   tmp_treatment.length < 1 || !is_done ? true : false\n      // }\n      ,\n      disabled: !is_done ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1215,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1229,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 mb-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1230,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \" text-black common-label-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1231,\n        columnNumber: 23\n      }\n    }, t(\"Outstanding\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 pb-1 pt-1 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1235,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: outstanding ? outstanding : \"\",\n      type: \"number\",\n      name: \"outstanding\",\n      onChange: () => {},\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1247,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-7 col-12 mb-3 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1252,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1253,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1254,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 23\n      }\n    }, t(\"Session\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: Sessions,\n      type: \"number\",\n      name: \"Sessions\",\n      onChange: this.handleChange,\n      disabled: is_done ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1271,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbgrev: true,\n      label: \"TD\",\n      onClick: this.handleTreatmentDone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1272,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap mb-2 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1279,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 justify-content-start col-12 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1280,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1281,\n        columnNumber: 23\n      }\n    }, t(\"TD Staff List\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12 justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 21\n      }\n    }, (Number(this.props.tokenDetails.role_code) == 1 || Number(this.props.tokenDetails.role_code) == 2) && settingData.showCourseChangeStaff ? /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Sales Staff\",\n      mainbgrev: true,\n      onClick: this.handleDialogSalesStaff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1288,\n        columnNumber: 25\n      }\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1296,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1297,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1298,\n        columnNumber: 23\n      }\n    }, t(\"Staff\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1303,\n        columnNumber: 23\n      }\n    }, t(\"Session\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1307,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1308,\n        columnNumber: 23\n      }\n    }, t(`WP`)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1313,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 w-100 bg-light p-3 border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1314,\n        columnNumber: 21\n      }\n    }, sessionStaff && sessionStaff.length > 0 && sessionStaff.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1319,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6 text-left \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 33\n        }\n      }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1325,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1326,\n          columnNumber: 33\n        }\n      }, Number(item.session).toFixed(2))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1330,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"align-self-end text-right text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1331,\n          columnNumber: 33\n        }\n      }, Number(item.wp1).toFixed(2))));\n    }), !sessionStaff || sessionStaff.length <= 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1339,\n        columnNumber: 25\n      }\n    }, t(\"No record found\")) : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 mt-3 border workstaff-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1344,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1346,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1347,\n        columnNumber: 23\n      }\n    }, t(\"Discount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1350,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"\",\n      value: discount_price_txt,\n      type: \"number\",\n      name: \"discount_price_txt\",\n      onChange: this.handleChange,\n      disabled: tmp_treatment && tmp_treatment.length < 1 || is_done ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1351,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1366,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1368,\n        columnNumber: 25\n      }\n    }, t(\"Type\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1371,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      className: `col`,\n      options: discType,\n      value: is_percentage,\n      name: \"is_percentage\",\n      onChange: this.handleChange,\n      disabled: is_total ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1372,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1384,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1385,\n        columnNumber: 23\n      }\n    }, t(\"Discount Reason\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1388,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: discount_reason_options,\n      value: disc_reason,\n      name: \"disc_reason\",\n      onChange: this.handleChange,\n      disabled: is_total ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1389,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mt-4 pt-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1416,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      applybg: true,\n      className: \"col\",\n      label: \"Apply Disc.\",\n      onClick: () => {\n        this.props.tokenDetails.cartdisc_setup ? this.setState({\n          isLoginConfirmation: true\n        }) : this.handleVoidCreate();\n      },\n      disabled: is_total || tmp_treatment && tmp_treatment.length < 0 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1417,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap mb-2 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1435,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 justify-content-start col-12 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1436,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1437,\n        columnNumber: 23\n      }\n    }, t(\"Discount List\"))), discount_reasons && discount_reasons.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 pt-2 col-12 justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1440,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      resetbg: true,\n      className: \"col\",\n      label: \"Reset Disc.\",\n      onClick: this.handleResetDiscount,\n      disabled: is_total ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1441,\n        columnNumber: 25\n      }\n    })) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1451,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1452,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1453,\n        columnNumber: 23\n      }\n    }, t(\"Remark\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1457,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1458,\n        columnNumber: 23\n      }\n    }, t(\"Price\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1462,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1463,\n        columnNumber: 23\n      }\n    }, t(`Disc. %`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1467,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1468,\n        columnNumber: 23\n      }\n    }, t(`Disc. $`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1472,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-black common-label-text pb-2 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1473,\n        columnNumber: 23\n      }\n    }, t(`D/price`)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1478,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 w-100 bg-light p-3 border overflow-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1479,\n        columnNumber: 21\n      }\n    }, discount_reasons && discount_reasons.length > 0 && discount_reasons.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1484,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1485,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1486,\n          columnNumber: 33\n        }\n      }, item.remark && item.remark !== \"\" ? item.remark : \"OTHERS\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1492,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \" text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1493,\n          columnNumber: 33\n        }\n      }, \"$ \", item.amount)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1497,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1498,\n          columnNumber: 33\n        }\n      }, item.disc_per, \" %\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1502,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1503,\n          columnNumber: 33\n        }\n      }, \"$ \", item.disc_amt)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1507,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-black common-label-text pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1508,\n          columnNumber: 33\n        }\n      }, \"$ \", item.after_disc)));\n    }), !discount_reasons || discount_reasons.length <= 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1516,\n        columnNumber: 25\n      }\n    }, t(\"No record found\")) : null))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap w-100 mb-3 p-2 border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1523,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-12\",\n      onClick: this.handleSummaryFlag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1524,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1528,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h6 col-6 col-md-9 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1529,\n        columnNumber: 19\n      }\n    }, t(\"Summary List\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h6 col-6 col-md-3 text-right fs-18\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1532,\n        columnNumber: 19\n      }\n    }, summaryFlag ? /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u2191\") : /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u2193\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `table mb-2\" + ${summaryFlag ? \"\" : \"d-none\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1537,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: headerDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1538,\n        columnNumber: 17\n      }\n    }, tmp_treatment && tmp_treatment.length > 0 ? tmp_treatment.map((item, index) => {\n      let {\n        slno,\n        program,\n        next_appt,\n        unit_amount\n      } = item;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1543,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1544,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1545,\n          columnNumber: 29\n        }\n      }, slno)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1548,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1549,\n          columnNumber: 29\n        }\n      }, program)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1551,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1552,\n          columnNumber: 29\n        }\n      }, next_appt)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1554,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1555,\n          columnNumber: 29\n        }\n      }, unit_amount)));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1561,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1562,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1563,\n        columnNumber: 25\n      }\n    }, `No record found`)))))), /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal\",\n      style: {\n        minWidth: \"60%\"\n      },\n      modal: isOpenTreatmentDone,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1572,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1578,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(CourseTreatmentDone, {\n      id: cartId,\n      cartId: this.props.cartId,\n      sessionCount: data_list.Sessions,\n      depositAmt: data_list.deposit,\n      handleModal: this.handleDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1584,\n        columnNumber: 15\n      }\n    })))), isOpenStaffSelectionDetail || !isOpenStaffSelectionDetail ? /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"transaction-done-modal top-up-modal\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: isOpenStaffSelectionDetail,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1595,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleDialogSalesStaff,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1601,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(StaffSelectionPopup, {\n      id: this.props.id,\n      cartId: this.props.cartId,\n      LinelevelCartId: this.props.cartId,\n      handleModal: this.handleDialogSalesStaff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1608,\n        columnNumber: 13\n      }\n    })) : null, /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"d-flex justify-content-center\",\n      style: {\n        minWidth: \"20%\"\n      },\n      modal: isLoginConfirmation,\n      handleModal: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1616,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.handleLoginConfirmationDialog,\n      className: \"close cursor-pointer\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CredentialConfirmation, {\n      handleLoginSubmit: (user, pass) => this.handleauthentication(user, pass),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1628,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetails: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonPatchApi,\n    commonCreateApi,\n    commonUpdateApi\n  }, dispatch);\n};\n\nexport const CoursePopup = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(CoursePopupClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Cart/cart/CoursePopup.js"],"names":["React","Component","NormalInput","NormalButton","TableWrapper","NormalTextarea","NormalSelect","NormalCheckbox","NormalModal","connect","bindActionCreators","getCommonApi","commonPatchApi","commonCreateApi","commonUpdateApi","Toast","closeIcon","CourseTreatmentDone","withTranslation","_","StaffSelectionPopup","CredentialConfirmation","CoursePopupClass","state","headerDetails","label","divClass","data_list","deposit","discount","discount_amt","discount_price","free_sessions","id","itemdesc","price","quantity","tmp_treatment","total_price","trans_amt","treatment_no","outstanding","disc_reason","discreason_txt","autoProportion","Sessions","discount_reason_options","is_percentage","discount_reasons","is_total","discount_price_txt","discType","value","TD_List","isOpenTreatmentDone","cartId","item","summaryFlag","sessionStaff","TempSave","isOpenStaffSelectionDetail","settingData","isHandleConfirmationDialog","isLoginConfirmation","user","pass","componentDidMount","getDiscountReasons","setState","props","itemData","getCourseList","handleItemSettings","then","key","status","data","console","log","Number","toFixed","is_done","sessiondone","undefined","disc_lst","tstaff","length","handleTreatmentnewCountUpdate","dataFirstCall","handleTreatmentCountUpdate","getCourseAfterTreatmentDoneConfirm","getCourseAfterTreatmentDoneAction","getCourseTableList","Total","handleProportionChange","target","name","proportion","body","cart_id","unit_price","disc_amount","disc_percent","auto_propation","handleChange","apiCallforNewTreatmentCount","handleNewQuantityCount","count","apiCallforTreatmentCount","handleQuantityCount","type","message","Amount","handleOutstanding","handleTotalPriceChange","auto","handleReset","getCourseAfterReset","handleSubmit","discountAmt","discountCal","trans","discPercnt","disccalcStage","disccalStage2","disccalcfinal","Singledisc_percnt","handleModal","push","r_desc","handleApplyDiscount","discreason_text","handleResetDiscount","handleDepositAmount","handleDialog","editCart","handleTreatmentDone","handleSummaryFlag","prevState","handleSessionChange","event","debouncedFn","debounce","handleSoftReset","handleFocChange","debouncedFnFoc","handleDepositOnChange","debouncedFnDeposit","handleDialogSalesStaff","handleLoginConfirmationDialog","handleauthentication","Body","username","password","render","t","e","tokenDetails","role_code","showCourseChangeStaff","map","index","session","wp1","cartdisc_setup","handleVoidCreate","remark","amount","disc_per","disc_amt","after_disc","slno","program","next_appt","unit_amount","minWidth","mapStateToProps","authStore","mapDispatchToProps","dispatch","CoursePopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  TableWrapper,\r\n  NormalTextarea,\r\n  NormalSelect,\r\n  NormalCheckbox,\r\n  NormalModal,\r\n} from \"component/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  commonPatchApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n} from \"redux/actions/common\";\r\nimport \"./style.scss\";\r\nimport { Toast } from \"service/toast\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { CourseTreatmentDone } from \"./coursetreatmentDone\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport _ from \"lodash\";\r\nimport { StaffSelectionPopup } from \"./staffSelectionPopup\";\r\nimport { CredentialConfirmation } from \"../credentialConfirmation\";\r\n\r\nexport class CoursePopupClass extends Component {\r\n  state = {\r\n    headerDetails: [\r\n      { label: \"No.\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Program\" },\r\n      { label: \"Next appt\", divClass: \"justify-content-end text-right\" },\r\n      { label: \"Amount\", divClass: \"justify-content-end text-right\" },\r\n    ],\r\n    data_list: {\r\n      deposit: \"\",\r\n      discount: \"\",\r\n      discount_amt: \"\",\r\n      discount_price: \"\",\r\n      free_sessions: null,\r\n      id: null,\r\n      itemdesc: \"\",\r\n      price: \"\",\r\n      quantity: null,\r\n      tmp_treatment: [],\r\n      total_price: \"\",\r\n      trans_amt: \"\",\r\n      treatment_no: null,\r\n      outstanding: null,\r\n      disc_reason: \"182\",\r\n      discreason_txt: \"\",\r\n      autoProportion: false,\r\n      Sessions: \"\",\r\n    },\r\n    discount_reason_options: [],\r\n    is_percentage: \"1\",\r\n    discount_reasons: [],\r\n    is_total: false,\r\n    discount_price_txt: \"\",\r\n    discType: [\r\n      { value: 1, label: \"%\" },\r\n      { value: 2, label: \"$\" },\r\n    ],\r\n    TD_List: [],\r\n    isOpenTreatmentDone: false,\r\n    cartId: null,\r\n    item: {},\r\n    summaryFlag: false,\r\n    sessionStaff: [],\r\n    TempSave: false,\r\n    isOpenStaffSelectionDetail: false,\r\n    settingData: {},\r\n    isHandleConfirmationDialog: false,\r\n    isLoginConfirmation: false,\r\n    user: \"\",\r\n    pass: \"\",\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getDiscountReasons();\r\n    this.setState({\r\n      item: this.props.itemData,\r\n    });\r\n    this.getCourseList();\r\n    this.handleItemSettings();\r\n  };\r\n\r\n  handleItemSettings = () => {\r\n    let { settingData } = this.state;\r\n    this.props.getCommonApi(`userlist/`).then(key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"settingsData salesstaff\");\r\n      if (status === 200) {\r\n        settingData = data;\r\n        this.setState({ settingData });\r\n      }\r\n    });\r\n  };\r\n\r\n  getCourseList = () => {\r\n    let { data_list, discount_reasons, is_total, sessionStaff, TempSave } =\r\n      this.state;\r\n    this.props\r\n      .getCommonApi(`cartservicecourse/${this.props.cartId}/`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(data, \"cartcoursepopup\");\r\n        if (status == \"200\") {\r\n          if (data) {\r\n            data_list[\"deposit\"] = data.deposit ? data.deposit : 0;\r\n            data_list[\"discount\"] = 0;\r\n            data_list[\"discount_amt\"] = 0;\r\n            data_list[\"discount_price\"] = data.discount_price;\r\n            data_list[\"free_sessions\"] = data.free_sessions;\r\n            data_list[\"id\"] = data.id;\r\n            data_list[\"itemdesc\"] = data.itemdesc;\r\n            data_list[\"price\"] = data.price;\r\n            data_list[\"quantity\"] = data.quantity;\r\n            data_list[\"tmp_treatment\"] = data.tmp_treatment;\r\n            data_list[\"autoProportion\"] = false;\r\n            data_list[\"total_price\"] = data.total_price;\r\n            data_list[\"trans_amt\"] = data.trans_amt;\r\n            data_list[\"treatment_no\"] =\r\n              Number(data.quantity) == 1\r\n                ? 1\r\n                : data.free_sessions == 0\r\n                ? data.quantity\r\n                : data.treatment_no;\r\n            data_list[\"outstanding\"] = Number(\r\n              data.trans_amt - data.deposit\r\n            ).toFixed(2);\r\n            data_list[\"is_done\"] = data.is_done;\r\n            if (\r\n              data.sessiondone == \"\" ||\r\n              Number(data.sessiondone) == 0 ||\r\n              data.sessiondone == null ||\r\n              data.sessiondone == undefined\r\n            ) {\r\n              data_list[\"Sessions\"] = 0;\r\n            } else {\r\n              data_list[\"Sessions\"] = data.sessiondone;\r\n            }\r\n            is_total = data.is_total;\r\n            discount_reasons = data.disc_lst;\r\n            sessionStaff = [];\r\n            if (data.tstaff) {\r\n              sessionStaff = data.tstaff;\r\n            }\r\n            //TempSave = data.is_treat;\r\n            await this.setState({\r\n              data_list,\r\n              discount_reasons,\r\n              is_total,\r\n              sessionStaff,\r\n              //TempSave,\r\n            });\r\n            // if (TempSave) {\r\n            //   this.handleReset();\r\n            // }\r\n            // if (\r\n            //   data_list.treatment_no == 1 &&\r\n            //   data_list[\"tmp_treatment\"].length <= 0\r\n            // ) {\r\n            //   this.handleTreatmentCountUpdate();\r\n            // } else\r\n            debugger;\r\n            if (\r\n              data_list.treatment_no == null &&\r\n              data_list[\"tmp_treatment\"].length == 0\r\n            ) {\r\n              this.handleTreatmentnewCountUpdate();\r\n            } else if (\r\n              data_list.treatment_no == 1 &&\r\n              data_list[\"tmp_treatment\"].length == 0\r\n            ) {\r\n              let dataFirstCall = true;\r\n              this.handleTreatmentCountUpdate(dataFirstCall);\r\n            }\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  getCourseAfterTreatmentDoneConfirm = () => {\r\n    let { sessionStaff, data_list } = this.state;\r\n    this.props\r\n      .getCommonApi(`cartservicecourse/${this.props.cartId}/`)\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        console.log(data, \"cartcoursepopup\");\r\n        if (status == \"200\") {\r\n          if (data) {\r\n            data_list[\"is_done\"] = data.is_done;\r\n            sessionStaff = [];\r\n            sessionStaff = data.tstaff;\r\n            this.setState({\r\n              sessionStaff,\r\n              data_list,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  getCourseAfterTreatmentDoneAction = () => {\r\n    let { sessionStaff, data_list } = this.state;\r\n    this.props\r\n      .getCommonApi(`cartservicecourse/${this.props.cartId}/`)\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        console.log(data, \"cartcoursepopup\");\r\n        if (status == \"200\") {\r\n          if (data) {\r\n            data_list[\"is_done\"] = data.is_done;\r\n            if (\r\n              data.sessiondone == \"\" ||\r\n              Number(data.sessiondone) == 0 ||\r\n              data.sessiondone == null ||\r\n              data.sessiondone == undefined\r\n            ) {\r\n              data_list[\"Sessions\"] = 0;\r\n            } else {\r\n              data_list[\"Sessions\"] = data.sessiondone;\r\n            }\r\n            sessionStaff = [];\r\n            sessionStaff = data.tstaff;\r\n            this.setState({\r\n              sessionStaff,\r\n              data_list,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  getCourseTableList = async () => {\r\n    let { data_list, discount_reasons, discount_price_txt, is_percentage } =\r\n      this.state;\r\n    this.props\r\n      .getCommonApi(`cartservicecourse/${this.props.cartId}/`)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"cartcoursepopupafterdiscount\");\r\n        if (status == \"200\") {\r\n          if (data) {\r\n            data_list[\"tmp_treatment\"] = data.tmp_treatment;\r\n            discount_reasons = data.disc_lst;\r\n            this.setState({ data_list, discount_reasons });\r\n            data_list[\"discount_price\"] = data.discount_price;\r\n            let Total = 0;\r\n            if (\r\n              Number(data_list.treatment_no) === 0 &&\r\n              Number(data_list.free_sessions) === 0\r\n            ) {\r\n              Total = Number(data.discount_price) * Number(data_list.quantity);\r\n            } else {\r\n              Total =\r\n                Number(data.discount_price) * Number(data_list.treatment_no);\r\n            }\r\n\r\n            data_list[\"total_price\"] = Number(Total).toFixed(2);\r\n            data_list[\"trans_amt\"] = Number(Total).toFixed(2);\r\n            data_list[\"deposit\"] = Number(Total).toFixed(2);\r\n            data_list[\"disc_reason\"] = \"182\";\r\n            data_list[\"discreason_txt\"] = \"\";\r\n            data_list[\"discount\"] = \"\";\r\n            data_list[\"discount_amt\"] = \"\";\r\n            data_list[\"outstanding\"] = Number(\r\n              Total - data_list.deposit\r\n            ).toFixed(2);\r\n            discount_price_txt = \"\";\r\n            is_percentage = \"1\";\r\n            await this.setState({\r\n              data_list,\r\n              discount_reasons,\r\n              discount_price_txt,\r\n              is_percentage,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleProportionChange = async ({ target: { value, name } }) => {\r\n    let { data_list, deposit } = this.state;\r\n    data_list[name] = value;\r\n    let proportion = \"\";\r\n    if (value) {\r\n      proportion = \"True\";\r\n    } else {\r\n      proportion = \"False\";\r\n    }\r\n    let body = {\r\n      cart_id: data_list.id,\r\n      treatment_no: null,\r\n      free_sessions: null,\r\n      total_price: null,\r\n      unit_price: null,\r\n      disc_amount: null,\r\n      disc_percent: null,\r\n      auto_propation: proportion,\r\n    };\r\n    this.props.commonCreateApi(`coursetmp/`, body).then(key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"Coursecountupdateresponse\");\r\n      if (status == \"201\" || status == \"200\") {\r\n        if (data) {\r\n          data_list[\"tmp_treatment\"] = data;\r\n          data_list[\"outstanding\"] = Number(\r\n            data_list.trans_amt - data_list.deposit\r\n          ).toFixed(2);\r\n          this.setState({ data_list });\r\n          this.getCourseAfterTreatmentDoneConfirm();\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  handleChange = async ({ target: { value, name } }) => {\r\n    let {\r\n      data_list,\r\n      deposit,\r\n      is_percentage,\r\n      discount_price_txt,\r\n      total_price,\r\n      outstanding,\r\n    } = this.state;\r\n\r\n    if (name === \"discount_price_txt\") {\r\n      discount_price_txt = value;\r\n      this.setState({\r\n        discount_price_txt,\r\n      });\r\n    } else if (name == \"is_percentage\") {\r\n      is_percentage = value;\r\n      this.setState({\r\n        is_percentage,\r\n      });\r\n    } else if (name === \"disc_reason\") {\r\n      data_list[\"discreason_txt\"] = \"\";\r\n      data_list[\"disc_reason\"] = value;\r\n      this.setState({\r\n        data_list,\r\n      });\r\n    } else {\r\n      data_list[name] = value;\r\n      await this.setState({\r\n        data_list,\r\n      });\r\n    }\r\n  };\r\n  handleTreatmentnewCountUpdate = () => {\r\n    debugger;\r\n    let { data_list } = this.state;\r\n    let body = {\r\n      cart_id: data_list.id,\r\n      treatment_no: data_list.quantity,\r\n      free_sessions: Number(data_list.free_sessions),\r\n    };\r\n    this.apiCallforNewTreatmentCount(body);\r\n    this.handleNewQuantityCount();\r\n  };\r\n\r\n  handleNewQuantityCount = async () => {\r\n    let { data_list } = this.state;\r\n    let count = 0;\r\n\r\n    count = Number(data_list.quantity) + Number(data_list.free_sessions);\r\n    if (count > 0) {\r\n      data_list[\"quantity\"] = count;\r\n    } else {\r\n      data_list[\"quantity\"] = 1;\r\n    }\r\n    await this.setState({\r\n      data_list,\r\n    });\r\n  };\r\n\r\n  handleTreatmentCountUpdate = async dataFirstCall => {\r\n    let { data_list } = this.state;\r\n    if (data_list.treatment_no && Number(data_list.treatment_no) > 0) {\r\n      let body = {\r\n        cart_id: data_list.id,\r\n        treatment_no: Number(data_list.treatment_no),\r\n        free_sessions: Number(data_list.free_sessions),\r\n      };\r\n\r\n      //this.handleTextChangeAPI(body);\r\n\r\n      this.apiCallforTreatmentCount(body, dataFirstCall);\r\n\r\n      this.handleQuantityCount();\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"No.of treatment should not be empty\",\r\n      });\r\n    }\r\n  };\r\n\r\n  apiCallforNewTreatmentCount = body => {\r\n    let { data_list } = this.state;\r\n    this.props.commonCreateApi(`coursetmp/`, body).then(async key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"Coursecountupdateresponse\");\r\n      if (status == \"201\" || status == \"200\") {\r\n        if (data) {\r\n          data_list[\"tmp_treatment\"] = data;\r\n          this.setState({ data_list });\r\n          this.getCourseAfterTreatmentDoneAction();\r\n          let Amount = Number(\r\n            data_list.discount_price * data_list.quantity\r\n          ).toFixed(2);\r\n          data_list[\"deposit\"] = Amount;\r\n          data_list[\"trans_amt\"] = Amount;\r\n          data_list[\"total_price\"] = Amount;\r\n          data_list[\"outstanding\"] = Number(\r\n            data_list.trans_amt - Amount\r\n          ).toFixed(2);\r\n          await this.setState({\r\n            data_list,\r\n          });\r\n          //this.getCourseAfterTreatmentDoneAction();\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  apiCallforTreatmentCount = (body, dataFirstCall) => {\r\n    let { data_list } = this.state;\r\n    this.props.commonCreateApi(`coursetmp/`, body).then(async key => {\r\n      let { status, data } = key;\r\n      console.log(key, \"Coursecountupdateresponse\");\r\n      if (status == \"201\" || status == \"200\") {\r\n        if (data) {\r\n          debugger;\r\n          data_list[\"tmp_treatment\"] = data;\r\n          this.setState({ data_list });\r\n          this.getCourseAfterTreatmentDoneAction();\r\n          let Amount = Number(\r\n            data_list.discount_price * data_list.treatment_no\r\n          ).toFixed(2);\r\n          if (!dataFirstCall) {\r\n            data_list[\"deposit\"] = Amount;\r\n          }\r\n          data_list[\"trans_amt\"] = Amount;\r\n          data_list[\"total_price\"] = Amount;\r\n\r\n          await this.setState({\r\n            data_list,\r\n          });\r\n          //this.getCourseAfterTreatmentDoneAction();\r\n          this.handleOutstanding();\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  handleOutstanding = async () => {\r\n    let { data_list } = this.state;\r\n    data_list[\"outstanding\"] = Number(\r\n      data_list.trans_amt - data_list.deposit\r\n    ).toFixed(2);\r\n    await this.setState({\r\n      data_list,\r\n    });\r\n  };\r\n\r\n  handleTotalPriceChange = () => {\r\n    let { data_list, is_total } = this.state;\r\n    if (data_list.treatment_no !== \"\" || Number(data_list.treatment_no) > 0) {\r\n      if (data_list.trans_amt && Number(data_list.trans_amt) > 0) {\r\n        let body = {\r\n          cart_id: data_list.id,\r\n          treatment_no: null,\r\n          free_sessions: null,\r\n          total_price: data_list.trans_amt,\r\n          unit_price: null,\r\n          disc_amount: null,\r\n          disc_percent: null,\r\n          auto_propation: null,\r\n          auto: data_list.autoProportion,\r\n        };\r\n        // this.handleTextChangeAPI(body);\r\n\r\n        this.props.commonCreateApi(`coursetmp/`, body).then(async key => {\r\n          let { status, data } = key;\r\n          console.log(key, \"Coursecountupdateresponse\");\r\n          if (status == \"201\" || status == \"200\") {\r\n            if (data) {\r\n              data_list[\"tmp_treatment\"] = data;\r\n              this.setState({ data_list });\r\n              this.getCourseAfterTreatmentDoneAction();\r\n              let Amount = Number(\r\n                data_list.trans_amt / data_list.treatment_no\r\n              ).toFixed(2);\r\n              data_list[\"price\"] = Amount;\r\n              data_list[\"total_price\"] = data_list.trans_amt;\r\n              data_list[\"trans_amt\"] = data_list.trans_amt;\r\n              data_list[\"deposit\"] = data_list.trans_amt;\r\n              data_list[\"discount_price\"] = data_list.price;\r\n              data_list[\"discount\"] = \"\";\r\n              data_list[\"discount_amt\"] = \"\";\r\n              data_list[\"outstanding\"] = Number(\r\n                data_list.trans_amt - data_list.deposit\r\n              ).toFixed(2);\r\n              is_total = true;\r\n              await this.setState({ data_list, is_total });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Quantity should not be empty\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // handleTextChangeAPI = body => {\r\n  //   let { data_list } = this.state;\r\n  //   this.props.commonCreateApi(`coursetmp/`, body).then(key => {\r\n  //     let { status, data } = key;\r\n  //     console.log(key, \"Coursecountupdateresponse\");\r\n  //     if (status == \"201\" || status == \"200\") {\r\n  //       if (data) {\r\n  //         data_list[\"tmp_treatment\"] = data;\r\n  //         this.setState({ data_list });\r\n  //         this.getCourseAfterTreatmentDoneAction();\r\n  //         return true;\r\n  //       }\r\n  //     }\r\n  //   });\r\n  // };\r\n  handleReset = () => {\r\n    let { data_list, is_total, discount_reasons, discount_price_txt } =\r\n      this.state;\r\n    let body = {\r\n      cart_id: data_list.id,\r\n    };\r\n    this.props\r\n      .commonCreateApi(`cartservicecourse/reset/`, body)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"resetresponse\");\r\n        if (status == \"200\") {\r\n          data_list.tmp_treatment = [];\r\n          discount_reasons = [];\r\n          data_list[\"treatment_no\"] = \"\";\r\n          data_list[\"free_sessions\"] = \"\";\r\n          // data_list[\"quantity\"] = 1;\r\n          // data_list[\"price\"] = Number(data_list[\"price\"])\r\n          // data_list[\"discount_price\"] = Number(data_list[\"price\"]);\r\n          // data_list[\"trans_amt\"] = Number(data_list[\"price\"]);\r\n          // data_list[\"deposit\"] = Number(data_list[\"price\"]);\r\n          // data_list[\"outstanding\"] = Number(\r\n          //   data_list.trans_amt - data_list.deposit\r\n          // ).toFixed(2);\r\n          data_list[\"autoProportion\"] = false;\r\n          discount_price_txt = \"\";\r\n          is_total = false;\r\n          this.setState({\r\n            data_list,\r\n            is_total,\r\n            discount_reasons,\r\n            discount_price_txt,\r\n          });\r\n          this.getCourseAfterReset();\r\n        }\r\n      });\r\n  };\r\n\r\n  getCourseAfterReset = () => {\r\n    let { sessionStaff, data_list } = this.state;\r\n    this.props\r\n      .getCommonApi(`cartservicecourse/${this.props.cartId}/`)\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        console.log(data, \"cartcoursepopup\");\r\n        if (status == \"200\") {\r\n          if (data) {\r\n            data_list[\"price\"] = Number(data.price).toFixed(2);\r\n            data_list[\"discount_price\"] = Number(data.price).toFixed(2);\r\n            data_list[\"quantity\"] = Number(data.quantity);\r\n            data_list[\"total_price\"] = Number(data.total_price).toFixed(2);\r\n            data_list[\"trans_amt\"] = Number(data.trans_amt);\r\n            data_list[\"outstanding\"] = Number(\r\n              data.trans_amt - data.deposit\r\n            ).toFixed(2);\r\n            data_list[\"deposit\"] = Number(data.deposit).toFixed(2);\r\n            data_list[\"is_done\"] = data.is_done;\r\n            if (\r\n              data.sessiondone == \"\" ||\r\n              Number(data.sessiondone) == 0 ||\r\n              data.sessiondone == null ||\r\n              data.sessiondone == undefined\r\n            ) {\r\n              data_list[\"Sessions\"] = 0;\r\n            } else {\r\n              data_list[\"Sessions\"] = data.sessiondone;\r\n            }\r\n            sessionStaff = [];\r\n            sessionStaff = data.tstaff;\r\n            this.setState({\r\n              sessionStaff,\r\n              data_list,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleQuantityCount = async () => {\r\n    let { data_list } = this.state;\r\n    let count = 0;\r\n\r\n    count = Number(data_list.treatment_no) + Number(data_list.free_sessions);\r\n    if (count > 0) {\r\n      data_list[\"quantity\"] = count;\r\n    } else {\r\n      data_list[\"quantity\"] = 1;\r\n    }\r\n    await this.setState({\r\n      data_list,\r\n    });\r\n  };\r\n  handleSubmit = () => {\r\n    let { data_list } = this.state;\r\n    let discountAmt = null;\r\n    let discount = null;\r\n    if (data_list.discount && Number(data_list.discount) <= 0) {\r\n      discount = 0;\r\n      let discountCal = Number(\r\n        data_list.discount_amt / data_list.treatment_no\r\n      ).toFixed(2);\r\n      discountAmt = discountCal;\r\n    } else {\r\n      let trans = Number(data_list.treatment_no) * Number(data_list.price);\r\n      let discPercnt = Number(\r\n        (trans * Number(data_list.discount)) / 100\r\n      ).toFixed(2);\r\n\r\n      let disccalcStage = Number(trans - discPercnt).toFixed(2);\r\n      let disccalStage2 = Number(\r\n        disccalcStage / data_list.treatment_no\r\n      ).toFixed(2);\r\n      let disccalcfinal = Number(data_list.price - disccalStage2);\r\n      discountAmt = disccalcfinal;\r\n      let Singledisc_percnt = Number(discountAmt / 100).toFixed(2);\r\n      discount = Number(Singledisc_percnt * 100).toFixed(2);\r\n    }\r\n    let treatment_no = 0;\r\n    if (data_list.treatment_no > 0) {\r\n      treatment_no = data_list.treatment_no;\r\n    } else {\r\n      treatment_no = 1;\r\n    }\r\n\r\n    if (Number(data_list[\"deposit\"]) > Number(data_list[\"trans_amt\"])) {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Deposit should be less than or equal to Total price\",\r\n      });\r\n      return false;\r\n    } else if (discountAmt > 0 && data_list.disc_reason == \"\") {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"discount reason is mandatory for discount apply\",\r\n      });\r\n      return false;\r\n    } else {\r\n      let body = {\r\n        cart_id: data_list.id,\r\n        quantity: Number(data_list.quantity),\r\n        price: Number(data_list.price),\r\n        discount_price: Number(data_list.discount_price),\r\n        trans_amt: Number(data_list.trans_amt),\r\n        deposit: Number(data_list.deposit),\r\n        treatment_no: Number(data_list.treatment_no),\r\n        free_sessions: Number(data_list.free_sessions),\r\n        total_price: Number(\r\n          Number(treatment_no) * Number(data_list.price)\r\n        ).toFixed(2),\r\n        sessiondone: data_list.is_done == true ? 0 : Number(data_list.Sessions),\r\n      };\r\n      console.log(body, \"Confirm button action input\");\r\n      this.props\r\n        .commonPatchApi(`cartservicecourse/${this.props.cartId}/`, body)\r\n        .then(key => {\r\n          let { status, data } = key;\r\n          if (status == \"200\") {\r\n            this.props.handleModal();\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  getDiscountReasons = () => {\r\n    let { discount_reason_options } = this.state;\r\n\r\n    this.props.getCommonApi(`paymentremarks/`).then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        for (let value of data) {\r\n          discount_reason_options.push({\r\n            value: value.id,\r\n            label: value.r_desc,\r\n          });\r\n        }\r\n        this.setState({ discount_reason_options });\r\n      }\r\n    });\r\n  };\r\n  handleApplyDiscount = async () => {\r\n    let { data_list, discount_price_txt, is_percentage } = this.state;\r\n\r\n    if (Number(discount_price_txt) > 0) {\r\n      if (Number(is_percentage) == 1) {\r\n        if (data_list.disc_reason && data_list.disc_reason != \"\") {\r\n          data_list[\"discount_amt\"] = Number(\r\n            (Number(data_list[\"discount_price\"]) / 100) *\r\n              Number(discount_price_txt)\r\n          );\r\n\r\n          data_list[\"discount\"] = Number(discount_price_txt);\r\n          await this.setState({ data_list });\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please select Discount Reason\",\r\n          });\r\n          return false;\r\n        }\r\n      } else if (Number(is_percentage) == 2) {\r\n        if (data_list.disc_reason && data_list.disc_reason != \"\") {\r\n          data_list[\"discount_amt\"] = Number(discount_price_txt);\r\n          data_list[\"discount\"] = null;\r\n          await this.setState({ data_list });\r\n        } else {\r\n          Toast({\r\n            type: \"error\",\r\n            message: \"Please select Discount Reason\",\r\n          });\r\n          return false;\r\n        }\r\n      } else {\r\n        Toast({\r\n          type: \"error\",\r\n          message: \"Please select Discount Type\",\r\n        });\r\n        return false;\r\n      }\r\n      let discreason_text = \"\";\r\n      if (Number(data_list.disc_reason) == 182) {\r\n        discreason_text = \"others\";\r\n      } else {\r\n        discreason_text = \"\";\r\n      }\r\n      let body = {\r\n        discount: Number(data_list.discount),\r\n        discount_amt: Number(data_list.discount_amt),\r\n        disc_reason: Number(data_list.disc_reason),\r\n        discreason_txt: discreason_text,\r\n      };\r\n      this.props\r\n        .commonUpdateApi(\r\n          `itemcart/${this.props.cartId}/?disc_add=1&disc_reset=0&auto=${\r\n            data_list.autoProportion ? 1 : 0\r\n          }`,\r\n          body\r\n        )\r\n        .then(key => {\r\n          let { status, data } = key;\r\n          console.log(key, \"apply discount response\");\r\n          if (status == \"200\" || status == \"201\") {\r\n            this.getCourseTableList();\r\n            // if (data_list[\"autoProportion\"]) {\r\n            //   this.handleProportiononDiscountChange()\r\n            // }\r\n          }\r\n        });\r\n    } else {\r\n      Toast({\r\n        type: \"error\",\r\n        message: \"Discount should be greater than zero\",\r\n      });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  handleResetDiscount = async () => {\r\n    let { data_list } = this.state;\r\n    let body = {\r\n      discount: Number(data_list.discount),\r\n      discount_amt: Number(data_list.discount_amt),\r\n      disc_reason: Number(data_list.disc_reason),\r\n      discreason_txt: data_list.discreason_txt,\r\n    };\r\n\r\n    this.props\r\n      .commonUpdateApi(\r\n        `itemcart/${this.props.cartId}/?disc_add=0&disc_reset=1&auto=${\r\n          data_list.autoProportion ? 1 : 0\r\n        }`,\r\n        body\r\n      )\r\n      .then(key => {\r\n        console.log(key, \"handleresetDiscount\");\r\n        this.getCourseTableList();\r\n      });\r\n  };\r\n  handleDepositAmount = () => {\r\n    let { data_list } = this.state;\r\n    let { trans_amt, deposit, outstanding } = data_list;\r\n    data_list[\"outstanding\"] = Number(trans_amt - deposit).toFixed(2);\r\n    this.setState({\r\n      data_list,\r\n    });\r\n  };\r\n  handleDialog = async () => {\r\n    let { isOpenTreatmentDone } = this.state;\r\n\r\n    isOpenTreatmentDone = false;\r\n\r\n    await this.setState({\r\n      isOpenTreatmentDone,\r\n      editCart: {},\r\n    });\r\n    this.getCourseAfterTreatmentDoneConfirm();\r\n  };\r\n\r\n  handleTreatmentDone = async () => {\r\n    let { item, data_list } = this.state;\r\n    let { editCart } = this.state;\r\n    editCart = item;\r\n    if (data_list[\"Sessions\"] == 0 || data_list[\"Sessions\"] == \"\") {\r\n      data_list[\"Sessions\"] = 1;\r\n    }\r\n    await this.setState({ editCart, data_list });\r\n    this.setState({ isOpenTreatmentDone: true });\r\n  };\r\n  handleSummaryFlag = () => {\r\n    this.setState(prevState => ({\r\n      summaryFlag: !prevState.summaryFlag,\r\n    }));\r\n  };\r\n\r\n  handleSessionChange = async event => {\r\n    //event.persist();\r\n    let { data_list } = this.state;\r\n    data_list.treatment_no = event.target.value;\r\n    await this.setState({ data_list });\r\n\r\n    if (!this.debouncedFn) {\r\n      this.debouncedFn = _.debounce(async () => {\r\n        this.handleSoftReset();\r\n      }, 500);\r\n    }\r\n    this.debouncedFn();\r\n  };\r\n  handleFocChange = async event => {\r\n    //event.persist();\r\n    let { data_list } = this.state;\r\n    data_list.free_sessions = event.target.value;\r\n    await this.setState({ data_list });\r\n    if (!this.debouncedFnFoc) {\r\n      this.debouncedFnFoc = _.debounce(async () => {\r\n        await this.handleSoftReset();\r\n      }, 500);\r\n    }\r\n    this.debouncedFnFoc();\r\n  };\r\n  handleDepositOnChange = async event => {\r\n    //event.persist();\r\n    let { data_list } = this.state;\r\n    data_list.deposit = event.target.value;\r\n    await this.setState({ data_list });\r\n    if (!this.debouncedFnDeposit) {\r\n      this.debouncedFnDeposit = _.debounce(async () => {\r\n        this.handleDepositAmount();\r\n      }, 500);\r\n    }\r\n    this.debouncedFnDeposit();\r\n  };\r\n  handleSoftReset = () => {\r\n    let { data_list, is_total, discount_reasons, discount_price_txt } =\r\n      this.state;\r\n    let body = {\r\n      cart_id: data_list.id,\r\n    };\r\n    this.props\r\n      .commonCreateApi(`cartservicecourse/reset/`, body)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        console.log(key, \"resetresponse\");\r\n        if (status == \"200\") {\r\n          data_list.tmp_treatment = [];\r\n          discount_reasons = [];\r\n          //data_list[\"treatment_no\"] = \"\";\r\n          //data_list[\"free_sessions\"] = \"\";\r\n          // data_list[\"quantity\"] = 1;\r\n          data_list[\"price\"] = Number(data_list[\"price\"]);\r\n          data_list[\"discount_price\"] = Number(data_list[\"price\"]).toFixed(2);\r\n          data_list[\"trans_amt\"] = Number(data_list[\"price\"]);\r\n          data_list[\"deposit\"] = Number(data_list[\"price\"]);\r\n          data_list[\"outstanding\"] = Number(\r\n            data_list.trans_amt - data_list.deposit\r\n          ).toFixed(2);\r\n          data_list[\"autoProportion\"] = false;\r\n          discount_price_txt = \"\";\r\n          is_total = false;\r\n          this.setState({\r\n            data_list,\r\n            is_total,\r\n            discount_reasons,\r\n            discount_price_txt,\r\n          });\r\n          //this.getCourseAfterReset();\r\n          if (data_list.treatment_no == null) {\r\n            this.handleTreatmentnewCountUpdate();\r\n          } else {\r\n            let dataFirstCall = false;\r\n            this.handleTreatmentCountUpdate(dataFirstCall);\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  handleDialogSalesStaff = () => {\r\n    let { isOpenStaffSelectionDetail } = this.state;\r\n    isOpenStaffSelectionDetail = !isOpenStaffSelectionDetail;\r\n    this.setState({\r\n      isOpenStaffSelectionDetail,\r\n    });\r\n  };\r\n\r\n  handleLoginConfirmationDialog = async () => {\r\n    await this.setState(prevState => ({\r\n      isLoginConfirmation: !prevState.isLoginConfirmation,\r\n    }));\r\n  };\r\n\r\n  handleauthentication = async (user, pass) => {\r\n    let Body = {\r\n      username: user,\r\n      password: pass,\r\n      type: \"CartDisc\",\r\n    };\r\n    this.props\r\n      .commonCreateApi(`userauthorizationpopup/`, Body)\r\n      .then(async key => {\r\n        let { status, data } = key;\r\n        if (status == 200) {\r\n          await this.setState(prevState => ({\r\n            isLoginConfirmation: !prevState.isLoginConfirmation,\r\n          }));\r\n          this.handleApplyDiscount();\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      data_list,\r\n      headerDetails,\r\n      is_percentage,\r\n      discount_reason_options,\r\n      discount_reasons,\r\n      is_total,\r\n      discount_price_txt,\r\n      discType,\r\n      TD_List,\r\n      isOpenTreatmentDone,\r\n      cartId,\r\n      summaryFlag,\r\n      sessionStaff,\r\n      isOpenStaffSelectionDetail,\r\n      editCart,\r\n      settingData,\r\n      isHandleConfirmationDialog,\r\n      isLoginConfirmation,\r\n      user,\r\n      pass,\r\n    } = this.state;\r\n    let {\r\n      deposit,\r\n      discount,\r\n      discount_amt,\r\n      discount_price,\r\n      free_sessions,\r\n      id,\r\n      itemdesc,\r\n      price,\r\n      quantity,\r\n      tmp_treatment,\r\n      total_price,\r\n      trans_amt,\r\n      treatment_no,\r\n      outstanding,\r\n      disc_reason,\r\n      discreason_txt,\r\n      autoProportion,\r\n      Sessions,\r\n      is_done,\r\n    } = data_list;\r\n    let { t } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid mb-4\">\r\n          <div className=\"row pl-3 mb-2\">\r\n            <div className=\"col-md-10 col-12\">\r\n              <h4>{t(\"Course Page\")}</h4>\r\n            </div>\r\n\r\n            <div className=\"col-md-2 col-12\">\r\n              <NormalButton\r\n                mainbg={false}\r\n                className=\"col-12 submit-btn\"\r\n                label=\"Done\"\r\n                onClick={this.handleSubmit}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"d-flex flex-wrap w-100 mb-3 p-2\">\r\n              <div className=\"col-md-5 col-12 mb-3 border\">\r\n                <div className=\"row p-0 m-0\">\r\n                  <div className=\"col-md-12 col-12 mb-2\">\r\n                    <label className=\"text-left text-black common-label-text pb-2\">\r\n                      {t(\"Service\")} {t(\"Course\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <NormalInput placeholder=\"\" value={itemdesc} disabled />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4 col-12\">\r\n                    <label className=\"text-left text-black common-label-text  pb-2\">\r\n                      {t(\"QTY\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <NormalInput\r\n                        placeholder=\"\"\r\n                        value={\r\n                          treatment_no === null\r\n                            ? quantity\r\n                            : treatment_no\r\n                            ? treatment_no\r\n                            : \"1\"\r\n                        }\r\n                        type=\"number\"\r\n                        name=\"treatment_no\"\r\n                        onChange={e => this.handleSessionChange(e)}\r\n                        // onBlur={this.handleQuantityCount}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4 col-12\">\r\n                    <label className=\"text-left text-black common-label-text  pb-2\">\r\n                      {t(\"FOC\")}\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <NormalInput\r\n                        placeholder=\"\"\r\n                        value={free_sessions ? free_sessions : \"\"}\r\n                        type=\"number\"\r\n                        name=\"free_sessions\"\r\n                        onChange={e => this.handleFocChange(e)}\r\n                        //onChange={this.handleChange}\r\n                        // onBlur={this.handleQuantityCount}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 col-12 align-self-end\">\r\n                    <div className=\"d-flex flex-row justify-content-around\">\r\n                      <div className=\"mr-1\">\r\n                        <NormalButton\r\n                          className={\"col-12 btn-outline-success applybtn\"}\r\n                          applybg={true}\r\n                          label=\"Apply\"\r\n                          onClick={() => this.handleTreatmentCountUpdate(false)}\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"\">\r\n                        <NormalButton\r\n                          resetbg={true}\r\n                          className={\"col-12 btn-outline-danger resetbtn\"}\r\n                          label=\"Reset\"\r\n                          onClick={this.handleReset}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row p-0 m-0\">\r\n                  <div className=\"row p-3\">\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <label className=\"text-left text-black common-label-text pb-2\">\r\n                        {t(\"Total\")} {t(\"QTY\")}\r\n                      </label>\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={quantity ? quantity : \"\"}\r\n                          type=\"number\"\r\n                          name=\"quantity\"\r\n                          onChange={() => {}}\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12 mb-2\">\r\n                      <label className=\"text-left text-black common-label-text pb-2\">\r\n                        {t(\"Unit Price\")}\r\n                      </label>\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={price}\r\n                          type=\"number\"\r\n                          name=\"price\"\r\n                          onChange={this.handleChange}\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\"></div>\r\n                    <div className=\"col-md-4 col-12 mb-2 text-right workstaff-background\">\r\n                      <label className=\"text-black common-label-text pb-1\">\r\n                        {t(\"Disc.\")} {t(\"Price\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12 mb-2 workstaff-background\">\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={discount_price}\r\n                          name=\"discount_price\"\r\n                          onChange={() => {}}\r\n                          disabled={true}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 mb-2 workstaff-background\"></div>\r\n                    <div className=\"col-md-4 col-12 mb-2 text-right\">\r\n                      <label className=\"text-right text-black common-label-text pb-1\">\r\n                        {t(\"Total\")} {t(\"Price\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12  mb-2\">\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={trans_amt}\r\n                          name=\"trans_amt\"\r\n                          type=\"number\"\r\n                          onChange={this.handleChange}\r\n                          disabled={\r\n                            discount_reasons.length > 0 || !is_done\r\n                              ? true\r\n                              : false\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12\">\r\n                      {(discount_reasons && discount_reasons.length > 0) ||\r\n                      !is_done ? null : (\r\n                        <div className=\"d-flex\">\r\n                          <NormalButton\r\n                            buttonClass={\"col-12\"}\r\n                            styleTwo={true}\r\n                            label=\"Change\"\r\n                            onClick={this.handleTotalPriceChange}\r\n                            disabled={\r\n                              tmp_treatment && tmp_treatment.length > 0\r\n                                ? false\r\n                                : true\r\n                            }\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"col-md-4  mb-2\"></div>\r\n                    <div className=\"col-md-4 d-flex justify-content-center align-self-end  mb-2\">\r\n                      <NormalCheckbox\r\n                        name=\"autoProportion\"\r\n                        label=\"Auto Proportion\"\r\n                        checked={autoProportion}\r\n                        value={autoProportion}\r\n                        onChange={e => this.handleProportionChange(e)}\r\n                        disabled={\r\n                          tmp_treatment && tmp_treatment.length > 0\r\n                            ? false\r\n                            : true\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 mb-2\"></div>\r\n                    <div className=\"col-md-4 col-12 mb-2 text-right\">\r\n                      <label className=\"text-black common-label-text\">\r\n                        {t(\"Deposit\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12 pb-1 pt-1 mb-2\">\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={deposit}\r\n                          type=\"number\"\r\n                          name=\"deposit\"\r\n                          onChange={e => this.handleDepositOnChange(e)}\r\n                          //onBlur={this.handleDepositAmount}\r\n                          // disabled={\r\n                          //   tmp_treatment.length < 1 || !is_done ? true : false\r\n                          // }\r\n                          disabled={!is_done ? true : false}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 mb-2\"></div>\r\n                    <div className=\"col-md-4 col-12 mb-2 text-right\">\r\n                      <label className=\" text-black common-label-text\">\r\n                        {t(\"Outstanding\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-md-4 col-12 pb-1 pt-1 mb-2\">\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={outstanding ? outstanding : \"\"}\r\n                          type=\"number\"\r\n                          name=\"outstanding\"\r\n                          onChange={() => {}}\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 mb-2\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-7 col-12 mb-3 \">\r\n                <div className=\"p-2 border\">\r\n                  <div className=\"d-flex flex-wrap mb-2\">\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <label className=\"text-left text-black common-label-text pb-2\">\r\n                        {t(\"Session\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={Sessions}\r\n                          type=\"number\"\r\n                          name=\"Sessions\"\r\n                          onChange={this.handleChange}\r\n                          disabled={is_done ? false : true}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <NormalButton\r\n                        mainbgrev={true}\r\n                        label=\"TD\"\r\n                        onClick={this.handleTreatmentDone}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex flex-wrap mb-2 mt-2\">\r\n                    <div className=\"col-md-8 justify-content-start col-12 mt-2\">\r\n                      <label className=\"fw-500\">{t(\"TD Staff List\")}</label>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12 justify-content-end\">\r\n                      {(Number(this.props.tokenDetails.role_code) == 1 ||\r\n                        Number(this.props.tokenDetails.role_code) == 2) &&\r\n                      settingData.showCourseChangeStaff ? (\r\n                        <NormalButton\r\n                          label=\"Sales Staff\"\r\n                          mainbgrev={true}\r\n                          onClick={this.handleDialogSalesStaff}\r\n                        />\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"col-6\">\r\n                      <label className=\"text-left text-black common-label-text pb-2 fw-500\">\r\n                        {t(\"Staff\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <label className=\"text-black common-label-text pb-2 fw-500\">\r\n                        {t(\"Session\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <label className=\"text-black common-label-text pb-2 fw-500\">\r\n                        {t(`WP`)}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex flex-wrap\">\r\n                    <div className=\"col-md-12 w-100 bg-light p-3 border\">\r\n                      {sessionStaff &&\r\n                        sessionStaff.length > 0 &&\r\n                        sessionStaff.map((item, index) => {\r\n                          return (\r\n                            <div className=\"row\" key={index}>\r\n                              <div className=\"col-6 text-left \">\r\n                                <label className=\"text-black common-label-text pb-2\">\r\n                                  {item.name}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"col-2 text-right\">\r\n                                <label className=\"text-black common-label-text pb-2\">\r\n                                  {Number(item.session).toFixed(2)}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"col-2 text-right\">\r\n                                <label className=\"align-self-end text-right text-black common-label-text pb-2\">\r\n                                  {Number(item.wp1).toFixed(2)}\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      {!sessionStaff || sessionStaff.length <= 0 ? (\r\n                        <div className=\"col-12\">{t(\"No record found\")}</div>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-2 mt-3 border workstaff-background\">\r\n                  <div className=\"d-flex flex-wrap mb-2\">\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <label className=\"text-left text-black common-label-text pb-1\">\r\n                        {t(\"Discount\")}\r\n                      </label>\r\n                      <div className=\"input-group\">\r\n                        <NormalInput\r\n                          placeholder=\"\"\r\n                          value={discount_price_txt}\r\n                          type=\"number\"\r\n                          name=\"discount_price_txt\"\r\n                          onChange={this.handleChange}\r\n                          disabled={\r\n                            (tmp_treatment && tmp_treatment.length < 1) ||\r\n                            is_done\r\n                              ? false\r\n                              : true\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-2 col-12\">\r\n                      <div className=\"row\">\r\n                        <label className=\"text-left text-black common-label-text pb-1\">\r\n                          {t(\"Type\")}\r\n                        </label>\r\n                        <div className=\"input-group\">\r\n                          <NormalSelect\r\n                            className={`col`}\r\n                            options={discType}\r\n                            value={is_percentage}\r\n                            name=\"is_percentage\"\r\n                            onChange={this.handleChange}\r\n                            disabled={is_total ? true : false}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 col-12\">\r\n                      <label className=\"text-left text-black common-label-text pb-1\">\r\n                        {t(\"Discount Reason\")}\r\n                      </label>\r\n                      <div className=\"input-group\">\r\n                        <NormalSelect\r\n                          options={discount_reason_options}\r\n                          value={disc_reason}\r\n                          name=\"disc_reason\"\r\n                          onChange={this.handleChange}\r\n                          disabled={is_total ? true : false}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    {/* {disc_reason == \"182\" ? (\r\n                      <div className=\"col-md-4 col-12\">\r\n                        <label className=\"text-left text-black common-label-text \">\r\n                          {t(\"Discount reason\")}\r\n                        </label>\r\n                        <div className=\"input-group mb-2\">\r\n                          <NormalTextarea\r\n                            value={discreason_txt}\r\n                            name=\"discreason_txt\"\r\n                            onChange={this.handleChange}\r\n                            className=\"w-100\"\r\n                            disabled={is_total ? true : false}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )} */}\r\n                    <div className=\"col-md-4 mt-4 pt-2 col-12\">\r\n                      <NormalButton\r\n                        applybg={true}\r\n                        className=\"col\"\r\n                        label=\"Apply Disc.\"\r\n                        onClick={() => {\r\n                          this.props.tokenDetails.cartdisc_setup\r\n                            ? this.setState({ isLoginConfirmation: true })\r\n                            : this.handleVoidCreate();\r\n                        }}\r\n                        disabled={\r\n                          is_total ||\r\n                          (tmp_treatment && tmp_treatment.length < 0)\r\n                            ? true\r\n                            : false\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex flex-wrap mb-2 mt-2\">\r\n                    <div className=\"col-md-8 justify-content-start col-12 mt-2\">\r\n                      <label className=\"fw-500\">{t(\"Discount List\")}</label>\r\n                    </div>\r\n                    {discount_reasons && discount_reasons.length > 0 ? (\r\n                      <div className=\"col-md-4 pt-2 col-12 justify-content-end\">\r\n                        <NormalButton\r\n                          resetbg={true}\r\n                          className=\"col\"\r\n                          label=\"Reset Disc.\"\r\n                          onClick={this.handleResetDiscount}\r\n                          disabled={is_total ? true : false}\r\n                        />\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"col-4\">\r\n                      <label className=\"text-left text-black common-label-text pb-2 fw-500\">\r\n                        {t(\"Remark\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <label className=\"text-black common-label-text pb-2 fw-500\">\r\n                        {t(\"Price\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <label className=\"text-black common-label-text pb-2 fw-500\">\r\n                        {t(`Disc. %`)}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <label className=\"text-black common-label-text pb-2 fw-500\">\r\n                        {t(`Disc. $`)}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <label className=\"text-black common-label-text pb-2 fw-500\">\r\n                        {t(`D/price`)}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex flex-wrap\">\r\n                    <div className=\"col-md-12 w-100 bg-light p-3 border overflow-auto\">\r\n                      {discount_reasons &&\r\n                        discount_reasons.length > 0 &&\r\n                        discount_reasons.map((item, index) => {\r\n                          return (\r\n                            <div className=\"row\" key={index}>\r\n                              <div className=\"col-4\">\r\n                                <label className=\"text-left text-black common-label-text pb-2\">\r\n                                  {item.remark && item.remark !== \"\"\r\n                                    ? item.remark\r\n                                    : \"OTHERS\"}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"col-2 text-right\">\r\n                                <label className=\" text-black common-label-text pb-2\">\r\n                                  $ {item.amount}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"col-2 text-right\">\r\n                                <label className=\"text-black common-label-text pb-2\">\r\n                                  {item.disc_per} %\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"col-2 text-right\">\r\n                                <label className=\"text-black common-label-text pb-2\">\r\n                                  $ {item.disc_amt}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"col-2 text-right\">\r\n                                <label className=\"text-black common-label-text pb-2\">\r\n                                  $ {item.after_disc}\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      {!discount_reasons || discount_reasons.length <= 0 ? (\r\n                        <div className=\"row\">{t(\"No record found\")}</div>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex flex-wrap w-100 mb-3 p-2 border\">\r\n              <div\r\n                className=\"col-md-12 col-12\"\r\n                onClick={this.handleSummaryFlag}\r\n              >\r\n                <div className=\"d-flex\">\r\n                  <div className=\"h6 col-6 col-md-9 text-left\">\r\n                    {t(\"Summary List\")}\r\n                  </div>\r\n                  <div className=\"h6 col-6 col-md-3 text-right fs-18\">\r\n                    {summaryFlag ? <>&#8593;</> : <>&#8595;</>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`table mb-2\" + ${summaryFlag ? \"\" : \"d-none\"}`}>\r\n                <TableWrapper headerDetails={headerDetails}>\r\n                  {tmp_treatment && tmp_treatment.length > 0 ? (\r\n                    tmp_treatment.map((item, index) => {\r\n                      let { slno, program, next_appt, unit_amount } = item;\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <div className=\"text-right\">{slno}</div>\r\n                          </td>\r\n\r\n                          <td>\r\n                            <div className=\"text-left\">{program}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{next_appt}</div>\r\n                          </td>\r\n                          <td>\r\n                            <div className=\"text-right\">{unit_amount}</div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"12\">\r\n                        <div className=\"d-flex align-items-center justify-content-center\">\r\n                          {`No record found`}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </TableWrapper>\r\n              </div>\r\n            </div>\r\n            <NormalModal\r\n              className={\"transaction-done-modal\"}\r\n              style={{ minWidth: \"60%\" }}\r\n              modal={isOpenTreatmentDone}\r\n              handleModal={() => {}}\r\n            >\r\n              <img\r\n                onClick={this.handleDialog}\r\n                className=\"close cursor-pointer\"\r\n                src={closeIcon}\r\n                alt=\"\"\r\n              />\r\n              <CourseTreatmentDone\r\n                id={cartId}\r\n                cartId={this.props.cartId}\r\n                sessionCount={data_list.Sessions}\r\n                depositAmt={data_list.deposit}\r\n                handleModal={this.handleDialog}\r\n              ></CourseTreatmentDone>\r\n            </NormalModal>\r\n          </div>\r\n        </div>\r\n        {isOpenStaffSelectionDetail || !isOpenStaffSelectionDetail ? (\r\n          <NormalModal\r\n            className={\"transaction-done-modal top-up-modal\"}\r\n            style={{ minWidth: \"75%\" }}\r\n            modal={isOpenStaffSelectionDetail}\r\n            handleModal={() => {}}\r\n          >\r\n            <img\r\n              onClick={this.handleDialogSalesStaff}\r\n              className=\"close cursor-pointer\"\r\n              src={closeIcon}\r\n              alt=\"\"\r\n            />\r\n\r\n            <StaffSelectionPopup\r\n              id={this.props.id}\r\n              cartId={this.props.cartId}\r\n              LinelevelCartId={this.props.cartId}\r\n              handleModal={this.handleDialogSalesStaff}\r\n            ></StaffSelectionPopup>\r\n          </NormalModal>\r\n        ) : null}\r\n        <NormalModal\r\n          className={\"d-flex justify-content-center\"}\r\n          style={{ minWidth: \"20%\" }}\r\n          modal={isLoginConfirmation}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleLoginConfirmationDialog}\r\n            className=\"close cursor-pointer\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n          <CredentialConfirmation\r\n            handleLoginSubmit={(user, pass) =>\r\n              this.handleauthentication(user, pass)\r\n            }\r\n          />\r\n        </NormalModal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  tokenDetails: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonPatchApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport const CoursePopup = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(CoursePopupClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}