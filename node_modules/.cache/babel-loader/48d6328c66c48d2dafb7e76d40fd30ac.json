{"ast":null,"code":"var _jsxFileName = \"F:\\\\webfe\\\\src\\\\component\\\\Admin\\\\CustomerPlus\\\\LoyaltyPointsSettings\\\\AddRedeemPolicy\\\\index.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { NormalInput, NormalSelect, NormalButton } from \"component/common\";\nimport { bindActionCreators } from \"redux\";\nimport { addRedeemPlolicySettings, updateRedeemPlolicySettings, getRedeemPlolicySettings } from \"redux/actions/customerPlus\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\n\nclass AddRedeemPolicyClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      customerClassOptions: [],\n      cust_type: \"\",\n      cur_value: 0,\n      point_value: 0,\n      isactive: true,\n      isMounted: true\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.onChange = e => {\n      this.updateState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = async () => {\n      let {\n        cur_value,\n        cust_type,\n        isactive,\n        point_value\n      } = this.state;\n      let data = {\n        cur_value,\n        cust_type,\n        isactive,\n        point_value\n      };\n\n      if (this.props.match.params.id) {\n        await this.props.updateRedeemPlolicySettings(this.props.match.params.id + \"/\", data);\n      } else {\n        await this.props.addRedeemPlolicySettings(data);\n      }\n\n      this.props.history.goBack();\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  componentDidMount() {\n    this.props.getCommonApi(\"CustomerClassList/\").then(e => {\n      this.updateState({\n        customerClassOptions: e.CustomerClasses.map(e => {\n          return {\n            label: e.class_desc,\n            value: e.class_code\n          };\n        })\n      });\n    });\n\n    if (this.props.match.params.id) {\n      this.props.getRedeemPlolicySettings(`/${this.props.match.params.id}`).then(e => {\n        this.updateState({ ...e.data\n        });\n      });\n    }\n  }\n\n  render() {\n    let {\n      t\n    } = this.props;\n    let {\n      cur_value,\n      cust_type,\n      isactive,\n      point_value,\n      customerClassOptions\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fuild\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, t(\"CustomerPlus\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, t(\"Loyalty Points Management\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, t((this.props.match.params.id ? \"Edit\" : \"New\") + \" Redeem Policy\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-lg mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, t((this.props.match.params.id ? \"Edit\" : \"New\") + \" Redeem Policy\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group pb-2 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, t(\"Currency Value\")), /*#__PURE__*/React.createElement(NormalInput, {\n      name: \"cur_value\",\n      value: cur_value,\n      type: \"number\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, t(\"Customer Class\")), /*#__PURE__*/React.createElement(NormalSelect, {\n      name: \"cust_type\",\n      options: customerClassOptions,\n      value: cust_type,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, t(\"Point Value\")), /*#__PURE__*/React.createElement(NormalInput, {\n      name: \"point_value\",\n      value: point_value,\n      type: \"number\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 pt-md-5 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"isactive\",\n      checked: isactive,\n      onClick: () => this.updateState({\n        isactive: !isactive\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"name\",\n      className: \"text-left text-black common-label-text fs-17 pb-3 ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, t(\"Is Currently Active\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pt-5 d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/customerplus/lpmanagement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Cancel\",\n      className: \"mr-2 bg-danger text-light col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      label: \"Save\",\n      success: true,\n      className: \"mr-2 col-12\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  redeemPolicyList: state.customerPlus.redeemPolicyList\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    addRedeemPlolicySettings,\n    updateRedeemPlolicySettings,\n    getCommonApi,\n    getRedeemPlolicySettings\n  }, dispatch);\n};\n\nexport const AddRedeemPolicy = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(AddRedeemPolicyClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/LoyaltyPointsSettings/AddRedeemPolicy/index.js"],"names":["React","Link","NormalInput","NormalSelect","NormalButton","bindActionCreators","addRedeemPlolicySettings","updateRedeemPlolicySettings","getRedeemPlolicySettings","getCommonApi","connect","withTranslation","AddRedeemPolicyClass","Component","state","customerClassOptions","cust_type","cur_value","point_value","isactive","isMounted","updateState","data","setState","onChange","e","target","name","value","onSubmit","props","match","params","id","history","goBack","componentWillUnmount","componentDidMount","then","CustomerClasses","map","label","class_desc","class_code","render","t","mapStateToProps","redeemPolicyList","customerPlus","mapDispatchToProps","dispatch","AddRedeemPolicy"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { NormalInput, NormalSelect, NormalButton } from \"component/common\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  addRedeemPlolicySettings,\n  updateRedeemPlolicySettings,\n  getRedeemPlolicySettings,\n} from \"redux/actions/customerPlus\";\nimport { getCommonApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\n\nclass AddRedeemPolicyClass extends React.Component {\n  state = {\n    customerClassOptions: [],\n    cust_type: \"\",\n    cur_value: 0,\n    point_value: 0,\n    isactive: true,\n    isMounted: true,\n  };\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  updateState = (data) => {\n    if (this.state.isMounted) this.setState(data);\n  };\n\n  componentDidMount() {\n    this.props.getCommonApi(\"CustomerClassList/\").then((e) => {\n      this.updateState({\n        customerClassOptions: e.CustomerClasses.map((e) => {\n          return { label: e.class_desc, value: e.class_code };\n        }),\n      });\n    });\n    if (this.props.match.params.id) {\n      this.props\n        .getRedeemPlolicySettings(`/${this.props.match.params.id}`)\n        .then((e) => {\n          this.updateState({ ...e.data });\n        });\n    }\n  }\n\n  onChange = (e) => {\n    this.updateState({ [e.target.name]: e.target.value });\n  };\n\n  onSubmit = async () => {\n    let { cur_value, cust_type, isactive, point_value } = this.state;\n    let data = {\n      cur_value,\n      cust_type,\n      isactive,\n      point_value,\n    };\n    if (this.props.match.params.id) {\n      await this.props.updateRedeemPlolicySettings(\n        this.props.match.params.id + \"/\",\n        data\n      );\n    } else {\n      await this.props.addRedeemPlolicySettings(data);\n    }\n    this.props.history.goBack();\n  };\n  render() {\n    let { t } = this.props;\n    let { cur_value, cust_type, isactive, point_value, customerClassOptions } =\n      this.state;\n    return (\n      <div className=\"container-fuild\">\n        <div className=\"head-label-nav\">\n          <p className=\"category\">{t(\"CustomerPlus\")}</p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">{t(\"Loyalty Points Management\")}</p>\n          <i className=\"icon-right mx-md-3\"></i>\n          <p className=\"sub-category\">\n            {t(\n              (this.props.match.params.id ? \"Edit\" : \"New\") + \" Redeem Policy\"\n            )}\n          </p>\n        </div>\n        <div className=\"container-lg mt-5\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 mb-4\">\n              <h3>\n                {t(\n                  (this.props.match.params.id ? \"Edit\" : \"New\") +\n                    \" Redeem Policy\"\n                )}\n              </h3>\n            </div>\n          </div>\n          <div className=\"form-group pb-2 mb-4\">\n            <div className=\"row\">\n              <div className=\"col-md-6 mb-4\">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Currency Value\")}\n                </label>\n                <NormalInput\n                  name=\"cur_value\"\n                  value={cur_value}\n                  type=\"number\"\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"col-md-6 mb-4\">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Customer Class\")}\n                </label>\n                <NormalSelect\n                  name=\"cust_type\"\n                  options={customerClassOptions}\n                  value={cust_type}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"col-md-6 mb-4\">\n                <label className=\"text-left text-black common-label-text fs-17 pb-3\">\n                  {t(\"Point Value\")}\n                </label>\n                <NormalInput\n                  name=\"point_value\"\n                  value={point_value}\n                  type=\"number\"\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"col-md-6 pt-md-5 mb-4\">\n                <input\n                  type=\"checkbox\"\n                  name=\"isactive\"\n                  checked={isactive}\n                  onClick={() => this.updateState({ isactive: !isactive })}\n                />\n                <label\n                  for=\"name\"\n                  className=\"text-left text-black common-label-text fs-17 pb-3 ml-2\"\n                >\n                  {t(\"Is Currently Active\")}\n                </label>\n              </div>\n            </div>\n            <div className=\"row pt-5 d-flex justify-content-center\">\n              <div className=\"col-md-3 mb-4\">\n                <Link to=\"/admin/customerplus/lpmanagement\">\n                  <NormalButton\n                    label=\"Cancel\"\n                    className=\"mr-2 bg-danger text-light col-12\"\n                  />\n                </Link>\n              </div>\n              <div className=\"col-md-3\">\n                <NormalButton\n                  label=\"Save\"\n                  success={true}\n                  className=\"mr-2 col-12\"\n                  onClick={this.onSubmit}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  redeemPolicyList: state.customerPlus.redeemPolicyList,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      addRedeemPlolicySettings,\n      updateRedeemPlolicySettings,\n      getCommonApi,\n      getRedeemPlolicySettings,\n    },\n    dispatch\n  );\n};\n\nexport const AddRedeemPolicy = withTranslation()(\n  connect(mapStateToProps, mapDispatchToProps)(AddRedeemPolicyClass)\n);\n"]},"metadata":{},"sourceType":"module"}