{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\quantumCode20082022\\\\src\\\\component\\\\Admin\\\\Quantum\\\\ManualInvoice\\\\ManualAddQuotation\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./style.scss\";\nimport { Link } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { NormalInput, NormalSelect, NormalButton, NormalDateTime, NormalMultiSelect, NormalTextarea } from \"component/common\";\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\nimport { getJobtitle, getCommonApi, commonCreateApi, commonUpdateApi, commonDeleteApi } from \"redux/actions/common\";\nimport { addManualPaymentSchedule, removeManualPaymentSchedule } from \"redux/actions/quotation\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\nimport { NavLink } from \"react-router-dom\";\nimport { Address } from \"./address\";\nimport { Details } from \"./details\";\nimport { createManualinvoice, updateManualinvoice, deleteManualinvoice } from \"redux/actions/manualinvoice\";\nimport { getTokenDetails } from \"redux/actions/auth\";\nimport { history } from \"helpers\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\nimport { importInvoiceToXero } from \"../../xero_invoice\";\nimport closeIcon from \"assets/images/close.png\";\nexport class ManualAddQuotationClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formFields: {\n        fk_manualinvoice: \"\",\n        projectTitle: \"\",\n        companyName: \"\",\n        quoDate: new Date(),\n        validity: \"\",\n        attnTo: \"\",\n        status: \"\",\n        currency_id: \"\",\n        preparedBy: \"\",\n        remarks: \"\",\n        contactPerson: [],\n        paymentTerms: '',\n        paymentSchedule: ''\n      },\n      currencyOption: [],\n      fkProject: \"\",\n      statusOption: [],\n      countryOption: [],\n      stateOption: [],\n      cityOption: [],\n      disableEdit: false,\n      is_loading: true,\n      isMounted: true,\n      cust_id: 0,\n      siteGstList: [],\n      formFieldsBillingStored: [],\n      formFieldsShippingStored: [],\n      storedItemListStored: [],\n      itemListBeforeEdit: [],\n      formFieldsDetailsStored: {},\n      active: false,\n      currentValue: 0,\n      navLinks: [{\n        to: this.props.location.pathname,\n        label: \"Details\",\n        id: \"Details\"\n      }, {\n        to: this.props.location.pathname,\n        label: \"Address\",\n        id: \"Address\"\n      }],\n      selectedMenu: \"Details\",\n      isPrintPdfClick: false,\n      printData: {},\n      visible: false,\n      visibleCustomer: false,\n      projectOption: [],\n      customerOption: [],\n      paymentScheduleAndTerms: []\n    };\n\n    this.componentWillMount = () => {\n      this.getStatus();\n      this.getCountry();\n      this.getState();\n      this.getCity();\n      this.getCurrency();\n      this.getPaymentScheduleAndTerms();\n      this.validator = new SimpleReactValidator({\n        validators: {},\n        element: message => /*#__PURE__*/React.createElement(\"span\", {\n          className: \"error-message text-danger validNo fs14\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 9\n          }\n        }, message),\n        autoForceUpdate: this\n      });\n    };\n\n    this.componentDidMount = () => {\n      if (this.props.location.state) {\n        console.log(\"this.props.location.state\", this.props.location.state);\n        this.state.fkProject = this.props.location.state.projectFk;\n        this.setState({\n          fkProject: this.state.fkProject\n        });\n        console.log(\"this.props.location.state.projectFk\", this.props.location.state.projectFk);\n        console.log(\"this.state.fkProject\", this.state.fkProject);\n        this.autofillFromProject();\n      }\n\n      console.log(\"this.props\", this.props);\n\n      if (this.props.match.params.id) {\n        this.getAutofillItemDetails();\n        this.getPrintDataInfo();\n      }\n    };\n\n    this.updateState = data => {\n      if (this.state.isMounted) this.setState(data);\n    };\n\n    this.handleOutsideClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleSearchClick();\n    };\n\n    this.search = () => {\n      let {\n        formFields\n      } = this.state;\n      this.props.getCommonApi(`projectsearch/?search=${formFields.projectTitle}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            projectOption: data\n          });\n        }\n      });\n    };\n\n    this.handleSearch = async event => {\n      //    event.persist();\n      let {\n        formFields,\n        visible\n      } = this.state;\n      formFields[\"projectTitle\"] = event.target.value;\n      visible = true;\n      this.setState({\n        formFields,\n        visible\n      });\n      this.search();\n    };\n\n    this.handleSearchClick = key => {\n      if (!this.state.visible) {\n        document.addEventListener(\"click\", this.handleOutsideClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideClick, false);\n      }\n\n      if (this.state.visible) {\n        this.search();\n      }\n\n      this.setState(prevState => ({\n        visible: !prevState.visible\n      }));\n    };\n\n    this.handleSelectProject = async data => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"projectTitle\"] = data.title;\n      formFields[\"companyName\"] = data.customer_name;\n      this.setState({\n        cust_id: data.cust_id\n      });\n      this.props.getCommonApi(`custappt/?search=${data.customer_name}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          if (data.length > 0) {\n            if (!data[0].cust_corporate) {\n              let {\n                formFields\n              } = this.state;\n              formFields[\"attnTo\"] = data[0].cust_name;\n              formFields[\"contactPerson\"] = [];\n            } else {\n              formFields[\"contactPerson\"] = data[0].contactperson;\n            }\n          } else {\n            formFields[\"attnTo\"] = formFields[\"companyName\"];\n            formFields[\"contactPerson\"] = [];\n          }\n\n          ;\n        } else if (status === 204) {\n          formFields[\"attnTo\"] = formFields[\"companyName\"];\n          formFields[\"contactPerson\"] = [];\n        }\n\n        this.setState({\n          formFields,\n          projectOption: []\n        });\n      });\n      this.setState({\n        formFields,\n        projectOption: []\n      });\n      this.handleSearchClick();\n    };\n\n    this.handleSelectCustomer = async data => {\n      let {\n        formFields\n      } = this.state;\n      formFields[\"companyName\"] = data.cust_name;\n      this.setState({\n        cust_id: data.id\n      });\n\n      if (!data.cust_corporate) {\n        formFields[\"attnTo\"] = data.cust_name;\n      } else {\n        formFields[\"contactPerson\"] = data.contactperson;\n      }\n\n      this.setState({\n        formFields,\n        customerOption: []\n      });\n      this.handleCustomerSearchClick();\n    };\n\n    this.handleCustomerSearchClick = key => {\n      if (!this.state.visibleCustomer) {\n        document.addEventListener(\"click\", this.handleOutsideCustomerClick, false);\n      } else {\n        document.removeEventListener(\"click\", this.handleOutsideCustomerClick, false);\n      }\n\n      if (this.state.visibleCustomer) {\n        this.searchCustomer();\n      }\n\n      this.setState(prevState => ({\n        visibleCustomer: !prevState.visibleCustomer\n      }));\n    };\n\n    this.handleCustomerSearch = async event => {\n      //    event.persist();\n      let {\n        formFields,\n        visibleCustomer\n      } = this.state;\n      formFields[\"companyName\"] = event.target.value;\n      visibleCustomer = true;\n      this.setState({\n        formFields,\n        visibleCustomer\n      });\n      this.searchCustomer();\n    };\n\n    this.searchCustomer = () => {\n      let {\n        formFields\n      } = this.state;\n      this.props.getCommonApi(`custappt/?search=${formFields.companyName}`).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status === 200) {\n          this.setState({\n            customerOption: data\n          });\n        }\n      });\n    };\n\n    this.handleOutsideCustomerClick = e => {\n      if (this.node != null) {\n        if (this.node.contains(e.target)) {\n          return;\n        }\n      }\n\n      this.handleCustomerSearchClick();\n    };\n\n    this.getPrintDataInfo = () => {\n      this.props.getCommonApi(`manualinvoicepdf/?searchid=${this.props.match.params.id}`).then(async res => {\n        console.log(\"res in printData\", res);\n        let {\n          printData\n        } = this.state;\n\n        if (res.status == 200) {\n          printData = res.data[0];\n          this.setState({\n            printData\n          });\n        }\n      });\n    };\n\n    this.handleClick = async key => {\n      let {\n        active,\n        currentValue\n      } = this.state;\n      await this.setState({\n        selectedMenu: key.id\n      });\n      this.setState({\n        active: true,\n        currentValue: key.key,\n        selected: key.id\n      });\n    };\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => {\n      let formFields = Object.assign({}, this.state.formFields);\n      formFields[name] = value;\n      this.updateState({\n        formFields\n      });\n    };\n\n    this.handleDatePick = async (name, value) => {\n      // dateFormat(new Date())\n      let {\n        formFields\n      } = this.state;\n      formFields[name] = value; // formFields[name] = value;\n\n      await this.updateState({\n        formFields\n      });\n    };\n\n    this.getSiteGst = () => {\n      let {\n        siteGstList\n      } = this.state; // statusOption = [];\n\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`).then(res => {\n        console.log(\"res.data getSiteGst\", res.data.dataList);\n        siteGstList = res.data.dataList;\n        this.setState({\n          siteGstList\n        });\n      });\n    };\n\n    this.getStatus = () => {\n      let {\n        statusOption\n      } = this.state;\n      statusOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`dropdown`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          statusOption.push({\n            value: key.id,\n            label: key.dropdown_item,\n            code: key.dropdown_desc,\n            active: key.active\n          });\n        }\n\n        if (!this.props.match.params.id) {\n          for (var i = 0; i < statusOption.length; i++) {\n            if (statusOption[i].label == \"Void\") {\n              statusOption.splice(i, 1);\n            }\n          }\n        }\n\n        console.log(\"statusOption\", statusOption);\n        this.setState({\n          statusOption\n        });\n\n        if (this.props.match.params.id) {\n          this.autoFillForm();\n        }\n\n        if (this.props.tokenDetail) {\n          this.getSiteGst();\n        }\n      });\n    };\n\n    this.getCurrency = () => {\n      let {\n        currencyOption\n      } = this.state;\n      currencyOption = [];\n      this.props.getCommonApi(`currencytable`).then(res => {\n        for (let key of res.data) {\n          currencyOption.push({\n            value: key.id,\n            label: key.curr_code,\n            code: key.curr_code,\n            rate: key.curr_rate,\n            active: key.curr_isactive\n          });\n        }\n\n        this.setState({\n          currencyOption\n        });\n      });\n    };\n\n    this.getPaymentScheduleAndTerms = () => {\n      if (this.props.match.params.id) {\n        let {\n          paymentScheduleAndTerms\n        } = this.state;\n        paymentScheduleAndTerms = [];\n        this.props.getCommonApi(`manualpayment/?searchqdetailid=${this.props.match.params.id}`).then(res => {\n          paymentScheduleAndTerms = res.data.map(x => ({\n            id: x.id,\n            paymentSchedule: x.payment_schedule,\n            paymentTerms: x.payment_term\n          }));\n          this.setState({\n            paymentScheduleAndTerms\n          });\n        });\n      }\n    };\n\n    this.getCountry = () => {\n      let {\n        countryOption\n      } = this.state;\n      countryOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`country`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          countryOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"countryOption\", countryOption);\n        this.setState({\n          countryOption\n        });\n      });\n    };\n\n    this.getState = () => {\n      let {\n        stateOption\n      } = this.state;\n      stateOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`state`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          stateOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"stateOption\", stateOption);\n        this.setState({\n          stateOption\n        });\n      });\n    };\n\n    this.getCity = () => {\n      let {\n        cityOption\n      } = this.state;\n      cityOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`city`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          cityOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"cityOption\", cityOption);\n        this.setState({\n          cityOption\n        });\n\n        if (this.props.match.params.id) {\n          this.getAutofillAddress();\n        }\n      });\n    };\n\n    this.getCity = () => {\n      let {\n        cityOption\n      } = this.state;\n      cityOption = [];\n      console.log(\"sdfsdhfghjghj\", this.props);\n      this.props.getCommonApi(`city`).then(res => {\n        console.log(\"res.data\", res);\n\n        for (let key of res.data) {\n          cityOption.push({\n            value: key.itm_id,\n            label: key.itm_desc,\n            code: key.itm_code,\n            active: key.itm_isactive\n          });\n        }\n\n        console.log(\"cityOption\", cityOption);\n        this.setState({\n          cityOption\n        });\n\n        if (this.props.match.params.id) {\n          this.getAutofillAddress();\n        }\n      });\n    };\n\n    this.autofillFromProject = () => {\n      let {\n        fkProject\n      } = this.state;\n      console.log(\"fkProject in autofill\", fkProject);\n      console.log(\"this.props.tokenDetail\", this.props.tokenDetail);\n      this.props.getCommonApi(`projectlist/?searchid=${fkProject}`).then(async res => {\n        console.log(\"project dataList\", res.data.dataList); // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].customer_name;\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\n        this.state.formFields[\"preparedBy\"] = this.props.tokenDetail.username;\n        this.updateState(this.state.formFields);\n        console.log(\"this.state.formFields\", this.state.formFields);\n      });\n    };\n\n    this.getAutofillItemDetails = () => {\n      this.props.getCommonApi(`manualinvoicedetail/?searchqdetailid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res);\n\n        if (res.status == 200) {\n          if (res.data[0].q_shipcost) {\n            this.state.formFieldsDetailsStored.q_shipcost = res.data[0].q_shipcost;\n          } else {\n            this.state.formFieldsDetailsStored.q_shipcost = 0;\n          }\n\n          if (res.data[0].q_discount) {\n            this.state.formFieldsDetailsStored.q_discount = res.data[0].q_discount;\n          } else {\n            this.state.formFieldsDetailsStored.q_discount = 0;\n          }\n\n          if (res.data[0].q_taxes) {\n            this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes;\n          } else {\n            this.state.formFieldsDetailsStored.q_taxes = 0;\n          }\n\n          if (res.data[0].q_discpercent) {\n            this.state.formFieldsDetailsStored.q_discpercent = res.data[0].q_discpercent;\n          } else {\n            this.state.formFieldsDetailsStored.q_discpercent = 0;\n          }\n\n          if (res.data[0].q_total) {\n            this.state.formFieldsDetailsStored.q_total = res.data[0].q_total;\n          } else {\n            this.state.formFieldsDetailsStored.q_total = 0;\n          } // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\n\n\n          this.setState(this.state.formFieldsDetailsStored);\n          console.log(\"this.state.formFieldsDetailsStored in getAutofillItemDetails\", this.state.formFieldsDetailsStored);\n        }\n      });\n      this.props.getCommonApi(`manualinvoiceitem/?searchqitemid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in getAutofillItemDetails\", res); // this.state.storedItemListStored = res.data.dataList\n\n        if (res.status == 200) {\n          for (let item of res.data.dataList) {\n            this.state.storedItemListStored.push({\n              item_code: item.quotation_itemcode,\n              item_desc: item.quotation_itemdesc,\n              item_remarks: item.quotation_itemremarks,\n              item_price: item.quotation_unitprice,\n              item_quantity: item.quotation_quantity,\n              discount_amt: item.discount_amt,\n              discount_percent: item.discount_percent,\n              editing: false\n            });\n            this.state.itemListBeforeEdit.push({\n              item_id: item.id,\n              item_code: item.quotation_itemcode\n            });\n          }\n\n          this.setState(this.state.storedItemListStored);\n          this.setState(this.state.itemListBeforeEdit);\n          console.log(\"this.state.storedItemListStored in getAutofillItemDetails\", this.state.storedItemListStored);\n          console.log(\"this.state.storedItemListStored in itemListBeforeEdit\", this.state.itemListBeforeEdit);\n        } // this.state.formFieldsDetailsStored.q_shipcost = res.data[0].q_shipcost\n        // this.state.formFieldsDetailsStored.q_discount = res.data[0].q_discount\n        // this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes\n        // this.state.formFieldsDetailsStored.q_total = res.data[0].q_total\n        // this.setState(this.state.formFieldsDetailsStored)\n\n      });\n    };\n\n    this.getAutofillAddress = () => {\n      this.props.getCommonApi(`manualinvoiceaddr/?searchqaddrid=${this.props.match.params.id}`).then(res => {\n        console.log(\"res in autofillAddr\", res);\n\n        if (res.status == 200) {\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\n          this.state.formFieldsBillingStored.postalCode = res.data[0].bill_postalcode;\n\n          if (res.data[0].bill_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.city = this.state.cityOption.find(option => option.label === res.data[0].bill_city).value;\n          }\n\n          if (res.data[0].bill_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.state = this.state.stateOption.find(option => option.label === res.data[0].bill_state).value;\n          }\n\n          if (res.data[0].bill_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsBillingStored.country = this.state.countryOption.find(option => option.label === res.data[0].bill_country).value;\n          }\n\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\n          this.state.formFieldsShippingStored.postalCode = res.data[0].ship_postalcode;\n\n          if (res.data[0].ship_city) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.city = this.state.cityOption.find(option => option.label === res.data[0].ship_city).value;\n          }\n\n          if (res.data[0].ship_state) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.state = this.state.stateOption.find(option => option.label === res.data[0].ship_state).value;\n          }\n\n          if (res.data[0].ship_country) {\n            //matching status name with the id to set prefill status in dropdown\n            this.state.formFieldsShippingStored.country = this.state.countryOption.find(option => option.label === res.data[0].ship_country).value;\n          }\n\n          console.log(\"this.state.formFieldsBillingStored in autofillAddr\", this.state.formFieldsBillingStored);\n          console.log(\"this.state.formFieldsShippingStored in autofillAddr\", this.state.formFieldsShippingStored);\n          this.setState(this.state.formFieldsBillingStored);\n          this.setState(this.state.formFieldsShippingStored);\n        }\n      });\n    };\n\n    this.storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\n      this.state.formFieldsBillingStored = formFieldsBilling;\n      this.state.formFieldsShippingStored = formFieldsShipping; // this.state.formFieldsShippingStored = formFieldsShipping\n      // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\n\n      console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\n      console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\n      console.log(\"formFieldsBillingStored in addquotation\", this.state.formFieldsBillingStored);\n      console.log(\"formFieldsShippingStored in addquotation\", this.state.formFieldsShippingStored);\n      this.setState(this.state.formFieldsBillingStored);\n      this.setState(this.state.formFieldsShippingStored);\n    };\n\n    this.storeItemDetails = (storedItemList, formFields) => {\n      this.state.storedItemListStored = storedItemList;\n      this.state.formFieldsDetailsStored = formFields;\n      console.log(\"storedItemList in addquo\", storedItemList);\n      console.log(\"formFields in addquo\", formFields);\n      console.log(\"storedItemListStored in addquotation\", this.state.storedItemListStored);\n      console.log(\"formFieldsDetailsStored in addquotation\", this.state.formFieldsDetailsStored);\n      this.setState(this.state.storedItemListStored);\n      this.setState(this.state.formFieldsDetailsStored);\n    };\n\n    this.autoFillForm = () => {\n      let {\n        disableEdit,\n        statusOption\n      } = this.state;\n      this.props.getCommonApi(`manualinvoicelist/?searchid=${this.props.match.params.id}`).then(async res => {\n        console.log(\"quo dataList\", res.data.dataList); // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\n        // custName = res.data.dataList[0].customer_name\n        // this.state.projectList = res.data.dataList\n\n        this.state.formFields[\"fk_manualinvoice\"] = res.data.dataList[0].manualinv_number;\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\n        this.state.formFields[\"quoDate\"] = res.data.dataList[0].created_at;\n        this.state.formFields[\"validity\"] = res.data.dataList[0].validity;\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\n        this.setState({\n          cust_id: res.data.dataList[0].cust_id\n        });\n        console.log(\"statusOption in prefill\", this.state.statusOption);\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\n        console.log(); // if status empty prevent err\n\n        if (res.data.dataList[0].status) {\n          //matching status name with the id to set prefill status in dropdown\n          this.state.formFields[\"status\"] = this.state.statusOption.find(option => option.label === res.data.dataList[0].status).value;\n          console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\n\n          if (res.data.dataList[0].status == \"Posted\") {\n            disableEdit = true;\n\n            for (var i = 0; i < statusOption.length; i++) {\n              if (statusOption[i].label == \"Posted\") {\n                statusOption = statusOption.filter(e => e.label !== \"Open\");\n              }\n            }\n\n            console.log(\"statusOption when status is posted\", statusOption);\n            this.setState({\n              disableEdit,\n              statusOption\n            });\n            console.log(\"this.state.disableEdit\", disableEdit);\n          }\n        }\n\n        this.state.formFields[\"currency_id\"] = res.data.dataList[0].currency_id;\n        this.state.formFields[\"preparedBy\"] = res.data.dataList[0].in_charge;\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\n        this.updateState(this.state.formFields);\n        console.log(\"this.state.formFields\", this.state.formFields);\n      });\n    };\n\n    this.handleItemDetailsSubmit = resQuo => {\n      let {\n        storedItemListStored,\n        formFieldsDetailsStored,\n        itemListBeforeEdit\n      } = this.state;\n      const formDataDetails = new FormData();\n      formDataDetails.append(\"q_shipcost\", formFieldsDetailsStored.q_shipcost ? formFieldsDetailsStored.q_shipcost : 0);\n      formDataDetails.append(\"q_discount\", formFieldsDetailsStored.q_discount ? formFieldsDetailsStored.q_discount : 0);\n      formDataDetails.append(\"q_taxes\", formFieldsDetailsStored.q_taxes ? formFieldsDetailsStored.q_taxes : 0);\n      formDataDetails.append(\"q_total\", formFieldsDetailsStored.q_total ? formFieldsDetailsStored.q_total : 0);\n      formDataDetails.append(\"q_discpercent\", formFieldsDetailsStored.q_discpercent ? formFieldsDetailsStored.q_discpercent : 0);\n      this.props.getCommonApi(`manualinvoicedetail/?searchqdetailid=${resQuo.data.id}`).then(resGetDetails => {\n        if (resGetDetails.status == 200) {\n          console.log(\"resGetDetails\", resGetDetails);\n          this.props.commonUpdateApi(`manualinvoicedetail/${resGetDetails.data[0].id}/`, formDataDetails).then(resUpdateDetails => {\n            console.log(\"resUpdateDetails\", resUpdateDetails);\n            history.push(`/admin/quantum`);\n          });\n        } else if (resGetDetails.status == 204) {\n          formDataDetails.append(\"fk_manualinvoice\", resQuo.data.id);\n          this.props.commonCreateApi(`manualinvoicedetail/`, formDataDetails).then(resCreateDetails => {\n            console.log(\"resCreateDetails\", resCreateDetails);\n            history.push(`/admin/quantum`);\n          });\n        }\n      });\n\n      for (let item of itemListBeforeEdit) {\n        let found = storedItemListStored.some(el => el.item_code === item.item_code);\n\n        if (!found) {\n          this.props.commonDeleteApi(`manualinvoiceitem/${item.item_id}/`).then(res => {});\n        }\n      }\n\n      for (let item of storedItemListStored) {\n        const formDataItem = new FormData();\n        formDataItem.append(\"quotation_itemcode\", item.item_code);\n        formDataItem.append(\"quotation_itemdesc\", item.item_desc);\n        formDataItem.append(\"quotation_itemremarks\", item.item_remarks);\n        formDataItem.append(\"quotation_unitprice\", item.item_price);\n        formDataItem.append(\"quotation_quantity\", item.item_quantity);\n        formDataItem.append(\"discount_amt\", item.discount_amt);\n        formDataItem.append(\"discount_percent\", item.discount_percent);\n        this.props.getCommonApi(`manualinvoiceitem/?searchqitemid=${resQuo.data.id}&searchqitemcode=${item.item_code}`).then(resGetItem => {\n          if (resGetItem.status == 200) {\n            console.log(\"resGetItem\", resGetItem);\n            this.props.commonUpdateApi(`manualinvoiceitem/${resGetItem.data.dataList[0].id}/`, formDataItem).then(resUpdateItem => {\n              console.log(\"resUpdateItem\", resUpdateItem);\n            });\n          } else if (resGetItem.status == 204) {\n            formDataItem.append(\"fk_manualinvoice\", resQuo.data.id);\n            this.props.commonCreateApi(`manualinvoiceitem/`, formDataItem).then(resCreateItem => {\n              console.log(\"resCreateItem\", resCreateItem);\n            });\n          }\n        });\n      }\n    };\n\n    this.handleAddressSubmit = resQuo => {\n      let {\n        cityOption,\n        countryOption,\n        stateOption\n      } = this.state; //submit address\n\n      const formDataAddress = new FormData();\n      console.log(\"this.state.formFieldsBillingStored in handleAddressSubmit\", this.state.formFieldsBillingStored);\n      console.log(\"this.state.formFieldsBillingStored.to\", this.state.formFieldsBillingStored.to);\n      console.log(\"this.state.formFieldsBillingStored.address1\", this.state.formFieldsBillingStored.address1);\n      formDataAddress.append(\"billto\", this.state.formFieldsBillingStored.to ? this.state.formFieldsBillingStored.to : \"\");\n      formDataAddress.append(\"bill_addr1\", this.state.formFieldsBillingStored.address1 ? this.state.formFieldsBillingStored.address1 : \"\");\n      formDataAddress.append(\"bill_addr2\", this.state.formFieldsBillingStored.address2 ? this.state.formFieldsBillingStored.address2 : \"\");\n      formDataAddress.append(\"bill_addr3\", this.state.formFieldsBillingStored.address3 ? this.state.formFieldsBillingStored.address3 : \"\");\n      formDataAddress.append(\"bill_postalcode\", this.state.formFieldsBillingStored.postalCode ? this.state.formFieldsBillingStored.postalCode : \"\"); // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\n\n      formDataAddress.append(\"bill_city\", this.state.formFieldsBillingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label : \"\");\n      formDataAddress.append(\"bill_state\", this.state.formFieldsBillingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.state)).label : \"\");\n      formDataAddress.append(\"bill_country\", this.state.formFieldsBillingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label : \"\"); // console.log(\"countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label\",countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label)\n\n      formDataAddress.append(\"shipto\", this.state.formFieldsShippingStored.to ? this.state.formFieldsShippingStored.to : \"\");\n      formDataAddress.append(\"ship_addr1\", this.state.formFieldsShippingStored.address1 ? this.state.formFieldsShippingStored.address1 : \"\");\n      formDataAddress.append(\"ship_addr2\", this.state.formFieldsShippingStored.address2 ? this.state.formFieldsShippingStored.address2 : \"\");\n      formDataAddress.append(\"ship_addr3\", this.state.formFieldsShippingStored.address3 ? this.state.formFieldsShippingStored.address3 : \"\");\n      formDataAddress.append(\"ship_postalcode\", this.state.formFieldsShippingStored.postalCode ? this.state.formFieldsShippingStored.postalCode : \"\");\n      formDataAddress.append(\"ship_city\", this.state.formFieldsShippingStored.city ? cityOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.city)).label : \"\");\n      formDataAddress.append(\"ship_state\", this.state.formFieldsShippingStored.state ? stateOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.state)).label : \"\");\n      formDataAddress.append(\"ship_country\", this.state.formFieldsShippingStored.country ? countryOption.find(option => option.value === parseInt(this.state.formFieldsShippingStored.country)).label : \"\");\n      this.props.getCommonApi(`manualinvoiceaddr/?searchqaddrid=${resQuo.data.id}`).then(resGetAddr => {\n        if (resGetAddr.status == 200) {\n          console.log(\"resGetAddr\", resGetAddr);\n          this.props.commonUpdateApi(`manualinvoiceaddr/${resGetAddr.data[0].id}/`, formDataAddress).then(resUpdateAddr => {\n            console.log(\"resCreateAddr\", resUpdateAddr);\n          });\n        } else if (resGetAddr.status == 204) {\n          formDataAddress.append(\"fk_manualinvoice\", resQuo.data.id);\n          this.props.commonCreateApi(`manualinvoiceaddr/`, formDataAddress).then(resCreateAddr => {\n            console.log(\"resCreateAddr\", resCreateAddr);\n          });\n        }\n      });\n    };\n\n    this.handleSubmit = async status => {\n      try {\n        if (this.validator.allValid()) {\n          let {\n            formFields,\n            statusOption\n          } = this.state;\n          let statusValue = \"\";\n          console.log(\"formFields.status\", formFields.status);\n\n          for (let key of statusOption) {\n            // console.log(key.value)\n            if (key.value == formFields.status) {\n              statusValue = key.label;\n            }\n          }\n\n          console.log(\"statusValue\", statusValue);\n          const formData = new FormData();\n          formData.append(\"manualinv_number\", formFields.fk_manualinvoice);\n          formData.append(\"title\", formFields.projectTitle);\n          formData.append(\"company\", formFields.companyName);\n          formData.append(\"created_at\", dateFormat(formFields.quoDate) + \" 00:00:00\"); // formData.append(\"created_at\", dateFormat(formFields.quoDate) + \" \"+formFields.quoDate.getHours() + \":\" + formFields.quoDate.getMinutes() + \":\" + formFields.quoDate.getSeconds());\n\n          formData.append(\"validity\", formFields.validity);\n          formData.append(\"contact_person\", formFields.attnTo);\n          formData.append(\"cust_id\", this.state.cust_id); //check save or post\n\n          if (status) {\n            formData.append(\"status\", \"Posted\");\n          } else {\n            formData.append(\"status\", statusValue);\n          }\n\n          formData.append(\"currency_id\", formFields.currency_id);\n          formData.append(\"in_charge\", formFields.preparedBy);\n          formData.append(\"remarks\", formFields.remarks);\n          formData.append(\"username\", this.props.tokenDetail.username);\n\n          if (this.state.fkProject) {\n            formData.append(\"fk_project\", this.state.fkProject);\n          }\n\n          console.log(\"this.state.fkProject in updating\", this.state.fkProject);\n          console.log(\"formData\", formData);\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\n\n          if (this.props.match.params.id) {\n            console.log(\"in if loop\");\n            console.log(\"this.props.match.params.id\", this.props.match.params.id);\n            var resQuo = await this.props.updateManualinvoice(`${this.props.match.params.id}/`, formData);\n            console.log(resQuo, \"resquo\");\n            await this.handleAddressSubmit(resQuo);\n            await this.handleItemDetailsSubmit(resQuo);\n\n            if (statusValue == \"Void\") {\n              console.log(\"if void loop\");\n              await this.props.deleteManualinvoice(`${this.props.match.params.id}/`);\n            } // await this.props.history.push(\n            //   `/admin/quotation`\n            // )\n\n          } else {\n            console.log(\"pass if loop\");\n            console.log(\"this.props.location.state\", this.props.location.state); // if (this.props.location.state){\n            //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\n            //   formData.append(\"fk_project\", this.props.location.state.projectFk);\n            // }\n\n            console.log(\"pass if ?\");\n            console.log(\"this.state.fkProject before createPO\", this.state.fkProject);\n            console.log(\"this.state.fkProject\", this.state.fkProject);\n            var resQuo = await this.props.createManualinvoice(formData);\n            console.log(\"resQuo in createQuotation\", resQuo);\n            console.log(\"resQuo.data.id\", resQuo.data.id);\n\n            for (let value of this.state.paymentScheduleAndTerms) {\n              this.addPaymentSchedule(resQuo.data.id, value);\n            }\n\n            await this.handleAddressSubmit(resQuo);\n            await this.handleItemDetailsSubmit(resQuo); // await this.props.history.push(\n            //   `/admin/quotation`\n            // )\n          }\n        } else {\n          this.validator.showMessages();\n        } // this.updateState({ is_loading: false });\n\n      } catch (e) {\n        this.updateState({\n          is_loading: false\n        });\n      }\n    };\n\n    this.addPaymentScheduleToList = value => {\n      let {\n        paymentScheduleAndTerms,\n        formFields\n      } = this.state;\n      paymentScheduleAndTerms.push(value);\n      this.setState({\n        paymentScheduleAndTerms\n      });\n      formFields.paymentSchedule = \"\";\n      formFields.paymentTerms = \"\";\n      this.setState({\n        formFields\n      });\n    };\n\n    this.addPaymentSchedule = async (quotationId, value) => {\n      const formDataPaymentSchedule = new FormData();\n      formDataPaymentSchedule.append(\"payment_schedule\", value.paymentSchedule);\n      formDataPaymentSchedule.append(\"payment_term\", value.paymentTerms);\n      formDataPaymentSchedule.append(\"active\", \"active\");\n      formDataPaymentSchedule.append(\"fk_manualinvoice\", quotationId);\n      return this.props.addManualPaymentSchedule(formDataPaymentSchedule);\n    };\n\n    this.handlePrintPdfFormat = url => {\n      this.setState({\n        isPrintPdfClick: false\n      }); //var a = document.createElement(\"a\");\n      //a.setAttribute(\"download\", `${new Date()}.pdf`);\n      //a.setAttribute(\"href\", url);\n      //a.click();\n\n      window.open(url);\n    };\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false;\n  }\n\n  render() {\n    let {\n      formFields,\n      statusOption,\n      currentValue,\n      navLinks,\n      disableEdit,\n      isPrintPdfClick,\n      printData,\n      currencyOption\n    } = this.state;\n    let {\n      fk_manualinvoice,\n      projectTitle,\n      companyName,\n      quoDate,\n      validity,\n      attnTo,\n      status,\n      currency_id,\n      preparedBy,\n      remarks,\n      contactPerson,\n      paymentTerms,\n      paymentSchedule\n    } = formFields;\n    let {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-5 container create-quotation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1198,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-label-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"category\",\n      onClick: () => {\n        if (window.confirm(\"Are you sure you want to leave this page and discard changes?\")) history.push(`/admin/quantum`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 11\n      }\n    }, t(\"Manual Invoice\")), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-right mx-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 11\n      }\n    }, t(`${this.props.match.params.id ? \"Edit\" : \"New\"} invoice`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quotation-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1218,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-4 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 17\n      }\n    }, t(\"Invoice No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: true,\n      placeholder: \"Auto generated\",\n      value: fk_manualinvoice,\n      name: \"fk_manualinvoice\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1226,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1235,\n        columnNumber: 17\n      }\n    }, t(\"Project\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1238,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: disableEdit,\n      placeholder: \"Enter here\",\n      value: projectTitle,\n      name: \"projectTitle\",\n      onChange: this.handleSearch,\n      onClick: this.handleSearchClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 19\n      }\n    })), this.state.visible ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"projectSearch-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1249,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-3 table table-header w-100 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1250,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 19\n      }\n    }, t(\"Project\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1252,\n        columnNumber: 19\n      }\n    }, t(\"Customer Name\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-table w-100 row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 17\n      }\n    }, this.state.projectOption.length > 0 ? this.state.projectOption.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 table-body w-100 border\",\n        onClick: () => this.handleSelectProject(item),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1259,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1265,\n          columnNumber: 27\n        }\n      }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1266,\n          columnNumber: 27\n        }\n      }, item.customer_name));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1272,\n        columnNumber: 21\n      }\n    }, t(\"No Data Available\")))) : '', /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1278,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Project\"), projectTitle, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 17\n      }\n    }, t(\"Company Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1289,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      disabled: true,\n      placeholder: \"Enter here\",\n      value: companyName,\n      name: \"companyName\",\n      onChange: this.handleCustomerSearch,\n      onClick: this.handleCustomerSearchClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1290,\n        columnNumber: 19\n      }\n    })), this.state.visibleCustomer ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customerSearch-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1300,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-3 table table-header w-100 m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1301,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 19\n      }\n    }, t(\"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1303,\n        columnNumber: 19\n      }\n    }, t(\"Phone\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1304,\n        columnNumber: 19\n      }\n    }, t(\"Customer Code\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1305,\n        columnNumber: 19\n      }\n    }, t(\"Reference\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1306,\n        columnNumber: 19\n      }\n    }, t(\"Email\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1307,\n        columnNumber: 19\n      }\n    }, t(\"NRIC\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-table w-100 row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1309,\n        columnNumber: 17\n      }\n    }, this.state.customerOption.length > 0 ? this.state.customerOption.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 table-body w-100 border\",\n        onClick: () => this.handleSelectCustomer(item),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1313,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1319,\n          columnNumber: 27\n        }\n      }, item.cust_name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 27\n        }\n      }, item.cust_phone1), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 27\n        }\n      }, item.cust_code), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 27\n        }\n      }, item.cust_refer), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1323,\n          columnNumber: 27\n        }\n      }, item.cust_email), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1324,\n          columnNumber: 27\n        }\n      }, item.cust_nric));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1329,\n        columnNumber: 21\n      }\n    }, t(\"No Data Available\")))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1336,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Company Name\"), companyName, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1346,\n        columnNumber: 17\n      }\n    }, t(\"Invoice Date\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1349,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalDateTime, {\n      onChange: this.handleDatePick,\n      inputcol: \"p-0 inTime\",\n      value: quoDate ? new Date(quoDate) : new Date(),\n      name: \"quoDate\" //className=\"dob-pick\"\n      ,\n      showYearDropdown: true,\n      dateFormat: \"dd/MM/yyyy\" // maxDate={new Date(toDate)}\n      ,\n      showDisabledMonthNavigation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1350,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1362,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Invoice Date\"), quoDate, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1370,\n        columnNumber: 17\n      }\n    }, t(\"Validity\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1373,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: validity,\n      name: \"validity\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1374,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1382,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Validity\"), validity, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1390,\n        columnNumber: 17\n      }\n    }, t(\"Attn To\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1393,\n        columnNumber: 17\n      }\n    }, !contactPerson.length > 0 ? /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: attnTo,\n      name: \"attnTo\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1395,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(NormalSelect, {\n      options: contactPerson.map(x => {\n        return {\n          id: x.name,\n          value: x.name,\n          label: x.name\n        };\n      }),\n      disabled: disableEdit,\n      value: attnTo,\n      name: \"attnTo\",\n      onChange: event => {\n        let formFields = this.state.formFields;\n        formFields.attnTo = event.target.value;\n        this.setState({\n          formFields\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1401,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1411,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Attn To\"), attnTo, t(\"required\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1416,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1417,\n        columnNumber: 17\n      }\n    }, t(\"Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1420,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      options: statusOption,\n      value: status,\n      name: \"status\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1428,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Status\"), status, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1432,\n        columnNumber: 17\n      }\n    }, t(\"Currency\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1435,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalSelect, {\n      disabled: disableEdit,\n      options: currencyOption,\n      value: currency_id,\n      name: \"currency_id\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1436,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1444,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Currency\"), currency_id, t(\"required\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1448,\n        columnNumber: 17\n      }\n    }, t(\"Prepared By\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1451,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: preparedBy,\n      name: \"preparedBy\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1452,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1460,\n        columnNumber: 17\n      }\n    }, this.validator.message(t(\"Prepared By\"), preparedBy, t(\"required\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1470,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1471,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1472,\n        columnNumber: 17\n      }\n    }, t(\"Remarks\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1475,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalTextarea, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: remarks,\n      name: \"remarks\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1476,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1488,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1489,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1490,\n        columnNumber: 17\n      }\n    }, t(\"Payment Schedule\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1493,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: paymentSchedule,\n      name: \"paymentSchedule\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1494,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1503,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1504,\n        columnNumber: 17\n      }\n    }, t(\"Payment Terms\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1507,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalInput, {\n      placeholder: \"Enter here\",\n      disabled: disableEdit,\n      value: paymentTerms,\n      name: \"paymentTerms\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1508,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1517,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left text-black common-label-text fs-17 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1518,\n        columnNumber: 15\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1521,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Add\",\n      onClick: () => {\n        if (paymentSchedule.trim().length > 0 && paymentTerms.trim().length > 0) {\n          let value = {\n            paymentSchedule: paymentSchedule,\n            paymentTerms: paymentTerms,\n            id: 0\n          };\n\n          if (this.props.match.params.id) {\n            this.addPaymentSchedule(this.props.match.params.id, value).then(res => {\n              value.id = res.data.id;\n              this.addPaymentScheduleToList(value);\n            });\n          } else {\n            this.addPaymentScheduleToList(value);\n          }\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1522,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1551,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-12\",\n      style: {\n        \"marginLeft\": \"-1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1552,\n        columnNumber: 15\n      }\n    }, this.state.paymentScheduleAndTerms.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1553,\n        columnNumber: 60\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1554,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1555,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"first-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1556,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1557,\n        columnNumber: 31\n      }\n    }, \"Payment Schedule\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1558,\n        columnNumber: 31\n      }\n    }, \"Payment Terms\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1561,\n        columnNumber: 27\n      }\n    }, this.state.paymentScheduleAndTerms.map((e, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1564,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1565,\n          columnNumber: 33\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n        onClick: () => {\n          let {\n            paymentScheduleAndTerms\n          } = this.state;\n          paymentScheduleAndTerms.splice(index, 1);\n          this.setState({\n            paymentScheduleAndTerms\n          });\n          if (this.props.match.params.id) this.props.removeManualPaymentSchedule(`${e.id}/`);\n        },\n        className: \"close\",\n        src: closeIcon,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1565,\n          columnNumber: 38\n        }\n      }), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1566,\n          columnNumber: 33\n        }\n      }, e.paymentSchedule), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1567,\n          columnNumber: 33\n        }\n      }, e.paymentTerms));\n    }))) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 quotation-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1576,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1577,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1578,\n        columnNumber: 17\n      }\n    }, navLinks.map(({\n      to,\n      label,\n      id\n    }, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1580,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: to,\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1581,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `sidebar-menu ${currentValue === index ? \"active\" : \"\"}`,\n      onClick: () => this.handleClick({\n        key: index,\n        id: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1582,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sidebar-menu-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1590,\n        columnNumber: 27\n      }\n    }, t(label)))))))), this.state.selectedMenu === \"Details\" && /*#__PURE__*/React.createElement(Details, {\n      custId: this.state.cust_id,\n      disableEdit: disableEdit,\n      quoId: this.props.match.params.id,\n      siteGstList: this.state.siteGstList,\n      validator: this.validator,\n      storeItemDetails: this.storeItemDetails.bind(this),\n      storedItemListStored: this.state.storedItemListStored,\n      formFieldsDetailsStored: this.state.formFieldsDetailsStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1598,\n        columnNumber: 17\n      }\n    }), this.state.selectedMenu === \"Address\" && /*#__PURE__*/React.createElement(Address, {\n      disableEdit: disableEdit,\n      storeAddressFields: this.storeAddressFields.bind(this),\n      formFieldsBillingStored: this.state.formFieldsBillingStored,\n      formFieldsShippingStored: this.state.formFieldsShippingStored,\n      id: this.state.selectedMenu // search={formFields.search}\n      ,\n      api: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1613,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1625,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1628,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Cancel\",\n      outline: false,\n      onClick: () => {\n        if (window.confirm(\"Are you sure you want to leave this page and discard changes?\")) history.push(`/admin/quantum`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1629,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1646,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      disabled: this.state.storedItemListStored.length < 1,\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Save\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1647,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1657,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2 mb-3\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Post\",\n      outline: false,\n      onClick: () => this.handleSubmit(status),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 17\n      }\n    })), this.props.match.params.id && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1668,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"print\",\n      mainbg: true,\n      className: \"col-12 fs-15 \",\n      label: \"Print\" // outline={false}\n      ,\n      onClick: () => {\n        this.props.history.push({\n          pathname: `/admin/quantum/manualinvoice/print/${this.props.match.params.id}`\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1669,\n        columnNumber: 19\n      }\n    }), isPrintPdfClick ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n      document: /*#__PURE__*/React.createElement(Invoice, {\n        TableList: printData,\n        accountHeader: printData[\"company_header\"],\n        Flag: 7,\n        landscape: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1684,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1682,\n        columnNumber: 21\n      }\n    }, ({\n      blob,\n      url,\n      loading,\n      error\n    }) => !loading && url ? this.handlePrintPdfFormat(url) : null) : null), disableEdit == true ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1700,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Convert to PO\",\n      onClick: () => this.props.history.push({\n        pathname: \"/admin/quantum/po/add\",\n        state: {\n          quoId: this.props.match.params.id,\n          projectFk: this.state.fkProject\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1701,\n        columnNumber: 19\n      }\n    })) : null, disableEdit == true ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-12 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1719,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"mx-2\",\n      mainbg: true,\n      className: \"confirm\",\n      label: \"Import to Xero\",\n      onClick: () => importInvoiceToXero(this.state.storedItemListStored, this.state.formFields),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1720,\n        columnNumber: 19\n      }\n    })) : null))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  tokenDetail: state.authStore.tokenDetails\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi,\n    commonUpdateApi,\n    createManualinvoice,\n    updateManualinvoice,\n    deleteManualinvoice,\n    commonDeleteApi,\n    getTokenDetails,\n    addManualPaymentSchedule,\n    removeManualPaymentSchedule\n  }, dispatch);\n};\n\nexport const ManualAddQuotation = withTranslation()(connect(mapStateToProps, mapDispatchToProps)(ManualAddQuotationClass));","map":{"version":3,"sources":["C:/Users/hp/Downloads/quantumCode20082022/src/component/Admin/Quantum/ManualInvoice/ManualAddQuotation/index.js"],"names":["React","Component","Link","SimpleReactValidator","NormalInput","NormalSelect","NormalButton","NormalDateTime","NormalMultiSelect","NormalTextarea","displayImg","dateFormat","getJobtitle","getCommonApi","commonCreateApi","commonUpdateApi","commonDeleteApi","addManualPaymentSchedule","removeManualPaymentSchedule","connect","bindActionCreators","FormGroup","Label","Input","withTranslation","NavLink","Address","Details","createManualinvoice","updateManualinvoice","deleteManualinvoice","getTokenDetails","history","PDFDownloadLink","Invoice","importInvoiceToXero","closeIcon","ManualAddQuotationClass","state","formFields","fk_manualinvoice","projectTitle","companyName","quoDate","Date","validity","attnTo","status","currency_id","preparedBy","remarks","contactPerson","paymentTerms","paymentSchedule","currencyOption","fkProject","statusOption","countryOption","stateOption","cityOption","disableEdit","is_loading","isMounted","cust_id","siteGstList","formFieldsBillingStored","formFieldsShippingStored","storedItemListStored","itemListBeforeEdit","formFieldsDetailsStored","active","currentValue","navLinks","to","props","location","pathname","label","id","selectedMenu","isPrintPdfClick","printData","visible","visibleCustomer","projectOption","customerOption","paymentScheduleAndTerms","componentWillMount","getStatus","getCountry","getState","getCity","getCurrency","getPaymentScheduleAndTerms","validator","validators","element","message","autoForceUpdate","componentDidMount","console","log","projectFk","setState","autofillFromProject","match","params","getAutofillItemDetails","getPrintDataInfo","updateState","data","handleOutsideClick","e","node","contains","target","handleSearchClick","search","then","key","handleSearch","event","value","document","addEventListener","removeEventListener","prevState","handleSelectProject","title","customer_name","length","cust_corporate","cust_name","contactperson","handleSelectCustomer","handleCustomerSearchClick","handleOutsideCustomerClick","searchCustomer","handleCustomerSearch","res","handleClick","selected","handleChange","name","Object","assign","handleDatePick","getSiteGst","tokenDetail","site_code","dataList","push","dropdown_item","code","dropdown_desc","i","splice","autoFillForm","curr_code","rate","curr_rate","curr_isactive","map","x","payment_schedule","payment_term","itm_id","itm_desc","itm_code","itm_isactive","getAutofillAddress","contact_person","username","q_shipcost","q_discount","q_taxes","q_discpercent","q_total","item","item_code","quotation_itemcode","item_desc","quotation_itemdesc","item_remarks","quotation_itemremarks","item_price","quotation_unitprice","item_quantity","quotation_quantity","discount_amt","discount_percent","editing","item_id","billto","address1","bill_addr1","address2","bill_addr2","address3","bill_addr3","postalCode","bill_postalcode","bill_city","city","find","option","bill_state","bill_country","country","shipto","ship_addr1","ship_addr2","ship_addr3","ship_postalcode","ship_city","ship_state","ship_country","storeAddressFields","formFieldsBilling","formFieldsShipping","storeItemDetails","storedItemList","manualinv_number","company","created_at","filter","in_charge","handleItemDetailsSubmit","resQuo","formDataDetails","FormData","append","resGetDetails","resUpdateDetails","resCreateDetails","found","some","el","formDataItem","resGetItem","resUpdateItem","resCreateItem","handleAddressSubmit","formDataAddress","parseInt","resGetAddr","resUpdateAddr","resCreateAddr","handleSubmit","allValid","statusValue","formData","addPaymentSchedule","showMessages","addPaymentScheduleToList","quotationId","formDataPaymentSchedule","handlePrintPdfFormat","url","window","open","componentWillUnmount","render","t","confirm","index","cust_phone1","cust_code","cust_refer","cust_email","cust_nric","trim","bind","blob","loading","error","quoId","mapStateToProps","authStore","tokenDetails","mapDispatchToProps","dispatch","ManualAddQuotation"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport {\r\n  NormalInput,\r\n  NormalSelect,\r\n  NormalButton,\r\n  NormalDateTime,\r\n  NormalMultiSelect,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport { displayImg, dateFormat } from \"service/helperFunctions\";\r\nimport {\r\n  getJobtitle,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonUpdateApi,\r\n  commonDeleteApi,\r\n  \r\n} from \"redux/actions/common\";\r\n\r\nimport {addManualPaymentSchedule, \r\n  removeManualPaymentSchedule} from \"redux/actions/quotation\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Address } from \"./address\";\r\nimport { Details } from \"./details\";\r\nimport {\r\n  createManualinvoice,\r\n  updateManualinvoice,\r\n  deleteManualinvoice,\r\n} from \"redux/actions/manualinvoice\";\r\nimport { getTokenDetails } from \"redux/actions/auth\";\r\nimport { history } from \"helpers\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\r\nimport { importInvoiceToXero } from \"../../xero_invoice\";\r\nimport closeIcon from \"assets/images/close.png\";\r\n\r\nexport class ManualAddQuotationClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      fk_manualinvoice: \"\",\r\n      projectTitle: \"\",\r\n      companyName: \"\",\r\n      quoDate: new Date(),\r\n      validity: \"\",\r\n      attnTo: \"\",\r\n      status: \"\",\r\n      currency_id: \"\",\r\n      preparedBy: \"\",\r\n      remarks: \"\",\r\n      contactPerson:[],\r\n      paymentTerms:'',\r\n      paymentSchedule:''\r\n      \r\n    },\r\n    currencyOption:[],\r\n    fkProject: \"\",\r\n    statusOption: [],\r\n    countryOption: [],\r\n    stateOption: [],\r\n    cityOption: [],\r\n\r\n    disableEdit: false,\r\n    is_loading: true,\r\n    isMounted: true,\r\n    cust_id:0,\r\n    siteGstList: [],\r\n\r\n    formFieldsBillingStored: [],\r\n    formFieldsShippingStored: [],\r\n    storedItemListStored: [],\r\n    itemListBeforeEdit: [],\r\n    formFieldsDetailsStored: {},\r\n\r\n    active: false,\r\n    currentValue: 0,\r\n    navLinks: [\r\n      { to: this.props.location.pathname, label: \"Details\", id: \"Details\" },\r\n      { to: this.props.location.pathname, label: \"Address\", id: \"Address\" },\r\n    ],\r\n    selectedMenu: \"Details\",\r\n    isPrintPdfClick: false,\r\n    printData: {},\r\n    visible: false,\r\n    visibleCustomer: false,\r\n    projectOption: [],\r\n    customerOption:[],\r\n    paymentScheduleAndTerms:[]\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    this.getStatus();\r\n    this.getCountry();\r\n    this.getState();\r\n    this.getCity();\r\n    this.getCurrency();\r\n    this.getPaymentScheduleAndTerms();\r\n    this.validator = new SimpleReactValidator({\r\n      validators: {},\r\n      element: (message) => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.location.state) {\r\n      console.log(\"this.props.location.state\", this.props.location.state);\r\n      this.state.fkProject = this.props.location.state.projectFk;\r\n      this.setState({ fkProject: this.state.fkProject });\r\n      console.log(\r\n        \"this.props.location.state.projectFk\",\r\n        this.props.location.state.projectFk\r\n      );\r\n      console.log(\"this.state.fkProject\", this.state.fkProject);\r\n      this.autofillFromProject();\r\n    }\r\n\r\n    console.log(\"this.props\", this.props);\r\n    if (this.props.match.params.id) {\r\n      this.getAutofillItemDetails();\r\n      this.getPrintDataInfo();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.isMounted = false;\r\n  }\r\n\r\n  updateState = (data) => {\r\n    if (this.state.isMounted) this.setState(data);\r\n  };\r\n\r\n  \r\n  handleOutsideClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleSearchClick();\r\n  };\r\n  search = () => {\r\n    let { formFields } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `projectsearch/?search=${formFields.projectTitle}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) {\r\n          \r\n          this.setState({ projectOption: data });\r\n        }\r\n      });\r\n  };\r\n  handleSearch = async event => {\r\n    //    event.persist();\r\n    let { formFields, visible } = this.state;\r\n    formFields[\"projectTitle\"] = event.target.value;\r\n    visible = true;\r\n     this.setState({ formFields, visible });\r\n     this.search();\r\n  };\r\n  handleSearchClick = key => {\r\n    if (!this.state.visible) {\r\n      document.addEventListener(\"click\", this.handleOutsideClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideClick, false);\r\n    }\r\n\r\n    if (this.state.visible) {\r\n      this.search();\r\n    }\r\n    this.setState(prevState => ({\r\n      visible: !prevState.visible,\r\n    }));\r\n  };\r\n\r\n  handleSelectProject = async data => {\r\n    let { formFields } = this.state;    \r\n    formFields[\"projectTitle\"] = data.title;\r\n    formFields[\"companyName\"]=data.customer_name;\r\n    this.setState({cust_id:data.cust_id})\r\n    this.props\r\n    .getCommonApi(\r\n      `custappt/?search=${data.customer_name}`\r\n    )\r\n    .then(key => {\r\n      let { status, data } = key;\r\n      if (status === 200) {\r\n        if(data.length> 0){\r\n        if(!data[0].cust_corporate){\r\n          let { formFields } = this.state;\r\n          formFields[\"attnTo\"] = data[0].cust_name;\r\n          formFields[\"contactPerson\"]=[];\r\n          }else{\r\n            formFields[\"contactPerson\"]=data[0].contactperson\r\n          }\r\n          \r\n        }else{\r\n          formFields[\"attnTo\"]=formFields[\"companyName\"];\r\n          formFields[\"contactPerson\"]=[];\r\n        }\r\n       ;\r\n      }else if(status === 204){\r\n        formFields[\"attnTo\"]=formFields[\"companyName\"];\r\n        formFields[\"contactPerson\"]=[];\r\n      }\r\n      this.setState({ formFields, projectOption: [] })\r\n    });\r\n    this.setState({ formFields, projectOption: [] });\r\n    this.handleSearchClick();\r\n    \r\n  };\r\n\r\n  handleSelectCustomer = async data => {\r\n    let { formFields } = this.state;    \r\n    formFields[\"companyName\"] = data.cust_name;\r\n    this.setState({cust_id:data.id});  \r\n    if(!data.cust_corporate){\r\n    formFields[\"attnTo\"] = data.cust_name;\r\n    }else{\r\n      formFields[\"contactPerson\"]=data.contactperson\r\n    }\r\n    this.setState({ formFields, customerOption: [] });\r\n    this.handleCustomerSearchClick();\r\n  };\r\n  handleCustomerSearchClick = key => {\r\n    if (!this.state.visibleCustomer) {\r\n      document.addEventListener(\"click\", this.handleOutsideCustomerClick, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleOutsideCustomerClick, false);\r\n    }\r\n\r\n    if (this.state.visibleCustomer) {\r\n      this.searchCustomer();\r\n    }\r\n    this.setState(prevState => ({\r\n      visibleCustomer: !prevState.visibleCustomer,\r\n    }));\r\n  };\r\n  handleCustomerSearch = async event => {\r\n    //    event.persist();\r\n    let { formFields, visibleCustomer } = this.state;\r\n    formFields[\"companyName\"] = event.target.value;\r\n    visibleCustomer = true;\r\n     this.setState({ formFields, visibleCustomer });\r\n     this.searchCustomer();\r\n  };\r\n  searchCustomer = () => {\r\n    let { formFields } = this.state;\r\n    this.props\r\n      .getCommonApi(\r\n        `custappt/?search=${formFields.companyName}`\r\n      )\r\n      .then(key => {\r\n        let { status, data } = key;\r\n        if (status === 200) { \r\n          this.setState({customerOption:data });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleOutsideCustomerClick = e => {\r\n    if (this.node != null) {\r\n      if (this.node.contains(e.target)) {\r\n        return;\r\n      }\r\n    }\r\n    this.handleCustomerSearchClick();\r\n  };\r\n\r\n  getPrintDataInfo = () => {\r\n    this.props\r\n      .getCommonApi(`manualinvoicepdf/?searchid=${this.props.match.params.id}`)\r\n      .then(async (res) => {\r\n        console.log(\"res in printData\", res);\r\n        let { printData } = this.state;\r\n        if (res.status == 200) {\r\n          printData = res.data[0];\r\n          this.setState({\r\n            printData,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleClick = async (key) => {\r\n    let { active, currentValue } = this.state;\r\n    await this.setState({\r\n      selectedMenu: key.id,\r\n    });\r\n    this.setState({\r\n      active: true,\r\n      currentValue: key.key,\r\n      selected: key.id,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields);\r\n\r\n    formFields[name] = value;\r\n\r\n    this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  handleDatePick = async (name, value) => {\r\n    // dateFormat(new Date())\r\n    let { formFields } = this.state;\r\n    formFields[name] = value;\r\n    // formFields[name] = value;\r\n    await this.updateState({\r\n      formFields,\r\n    });\r\n  };\r\n\r\n  getSiteGst = () => {\r\n    let { siteGstList } = this.state;\r\n    // statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props\r\n      .getCommonApi(\r\n        `gstlist/?limit=100&searchsitecode=${this.props.tokenDetail.site_code}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"res.data getSiteGst\", res.data.dataList);\r\n        siteGstList = res.data.dataList;\r\n        this.setState({ siteGstList });\r\n      });\r\n  };\r\n\r\n  getStatus = () => {\r\n    let { statusOption } = this.state;\r\n    statusOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`dropdown`).then((res) => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        statusOption.push({\r\n          value: key.id,\r\n          label: key.dropdown_item,\r\n          code: key.dropdown_desc,\r\n          active: key.active,\r\n        });\r\n      }\r\n      if (!this.props.match.params.id) {\r\n        for (var i = 0; i < statusOption.length; i++) {\r\n          if (statusOption[i].label == \"Void\") {\r\n            statusOption.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      console.log(\"statusOption\", statusOption);\r\n      this.setState({ statusOption });\r\n      if (this.props.match.params.id) {\r\n        this.autoFillForm();\r\n      }\r\n      if (this.props.tokenDetail) {\r\n        this.getSiteGst();\r\n      }\r\n    });\r\n  };\r\n\r\n  getCurrency= () => {\r\n    let { currencyOption } = this.state;\r\n    currencyOption = [];\r\n    this.props.getCommonApi(`currencytable`).then((res) => {\r\n      for (let key of res.data) {\r\n        currencyOption.push({\r\n          value: key.id,\r\n          label: key.curr_code,\r\n          code: key.curr_code,\r\n          rate:key.curr_rate,\r\n          active: key.curr_isactive,\r\n        });\r\n      }\r\n      this.setState({ currencyOption });\r\n    });\r\n  };\r\n  getPaymentScheduleAndTerms =() => {\r\n    if(this.props.match.params.id){\r\n    let { paymentScheduleAndTerms } = this.state;\r\n    paymentScheduleAndTerms = [];\r\n    this.props.getCommonApi(`manualpayment/?searchqdetailid=${this.props.match.params.id}`).then((res) => {\r\n      paymentScheduleAndTerms= res.data.map(x=>({id:x.id,paymentSchedule:x.payment_schedule,paymentTerms:x.payment_term}))\r\n      this.setState({ paymentScheduleAndTerms });\r\n    });\r\n  }\r\n  };\r\n  getCountry = () => {\r\n    let { countryOption } = this.state;\r\n    countryOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`country`).then((res) => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        countryOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"countryOption\", countryOption);\r\n      this.setState({ countryOption });\r\n    });\r\n  };\r\n\r\n  getState = () => {\r\n    let { stateOption } = this.state;\r\n    stateOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`state`).then((res) => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        stateOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"stateOption\", stateOption);\r\n      this.setState({ stateOption });\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then((res) => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n      if (this.props.match.params.id) {\r\n        this.getAutofillAddress();\r\n      }\r\n    });\r\n  };\r\n\r\n  getCity = () => {\r\n    let { cityOption } = this.state;\r\n    cityOption = [];\r\n    console.log(\"sdfsdhfghjghj\", this.props);\r\n    this.props.getCommonApi(`city`).then((res) => {\r\n      console.log(\"res.data\", res);\r\n      for (let key of res.data) {\r\n        cityOption.push({\r\n          value: key.itm_id,\r\n          label: key.itm_desc,\r\n          code: key.itm_code,\r\n          active: key.itm_isactive,\r\n        });\r\n      }\r\n      console.log(\"cityOption\", cityOption);\r\n      this.setState({ cityOption });\r\n      if (this.props.match.params.id) {\r\n        this.getAutofillAddress();\r\n      }\r\n    });\r\n  };\r\n\r\n  autofillFromProject = () => {\r\n    let { fkProject } = this.state;\r\n    console.log(\"fkProject in autofill\", fkProject);\r\n    console.log(\"this.props.tokenDetail\", this.props.tokenDetail);\r\n    this.props\r\n      .getCommonApi(`projectlist/?searchid=${fkProject}`)\r\n      .then(async (res) => {\r\n        console.log(\"project dataList\", res.data.dataList);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\r\n        this.state.formFields[\"companyName\"] =\r\n          res.data.dataList[0].customer_name;\r\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\r\n        this.state.formFields[\"preparedBy\"] = this.props.tokenDetail.username;\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n      });\r\n  };\r\n\r\n  getAutofillItemDetails = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `manualinvoicedetail/?searchqdetailid=${this.props.match.params.id}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        \r\n        if (res.status == 200) {\r\n          if (res.data[0].q_shipcost) {\r\n            this.state.formFieldsDetailsStored.q_shipcost =\r\n              res.data[0].q_shipcost;\r\n          } else {\r\n            this.state.formFieldsDetailsStored.q_shipcost = 0;\r\n          }\r\n          if (res.data[0].q_discount) {\r\n            this.state.formFieldsDetailsStored.q_discount =\r\n              res.data[0].q_discount;\r\n          } else {\r\n            this.state.formFieldsDetailsStored.q_discount = 0;\r\n          }\r\n          if (res.data[0].q_taxes) {\r\n            this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes;\r\n          } else {\r\n            this.state.formFieldsDetailsStored.q_taxes = 0;\r\n          }\r\n          \r\n          if(res.data[0].q_discpercent){\r\n            this.state.formFieldsDetailsStored.q_discpercent=res.data[0].q_discpercent;\r\n          }\r\n          else{\r\n            this.state.formFieldsDetailsStored.q_discpercent=0;\r\n          }\r\n          if (res.data[0].q_total) {\r\n            this.state.formFieldsDetailsStored.q_total = res.data[0].q_total;\r\n          } else {\r\n            this.state.formFieldsDetailsStored.q_total = 0;\r\n          }\r\n          // this.state.formFieldsDetailsStored.push(\"q_shipcost\":res.data[0].q_shipcost)\r\n          this.setState(this.state.formFieldsDetailsStored);\r\n          console.log(\r\n            \"this.state.formFieldsDetailsStored in getAutofillItemDetails\",\r\n            this.state.formFieldsDetailsStored\r\n          );\r\n        }\r\n      });\r\n\r\n    this.props\r\n      .getCommonApi(\r\n        `manualinvoiceitem/?searchqitemid=${this.props.match.params.id}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"res in getAutofillItemDetails\", res);\r\n        // this.state.storedItemListStored = res.data.dataList\r\n        if (res.status == 200) {\r\n          for (let item of res.data.dataList) {\r\n            this.state.storedItemListStored.push({\r\n              item_code: item.quotation_itemcode,\r\n              item_desc: item.quotation_itemdesc,\r\n              item_remarks: item.quotation_itemremarks,\r\n              item_price: item.quotation_unitprice,\r\n              item_quantity: item.quotation_quantity,\r\n              discount_amt:item.discount_amt,\r\n              discount_percent:item.discount_percent,              \r\n              editing: false,\r\n            });\r\n            this.state.itemListBeforeEdit.push({\r\n              item_id: item.id,\r\n              item_code: item.quotation_itemcode,\r\n            });\r\n          }\r\n          this.setState(this.state.storedItemListStored);\r\n          this.setState(this.state.itemListBeforeEdit);\r\n          console.log(\r\n            \"this.state.storedItemListStored in getAutofillItemDetails\",\r\n            this.state.storedItemListStored\r\n          );\r\n          console.log(\r\n            \"this.state.storedItemListStored in itemListBeforeEdit\",\r\n            this.state.itemListBeforeEdit\r\n          );\r\n        }\r\n        // this.state.formFieldsDetailsStored.q_shipcost = res.data[0].q_shipcost\r\n        // this.state.formFieldsDetailsStored.q_discount = res.data[0].q_discount\r\n        // this.state.formFieldsDetailsStored.q_taxes = res.data[0].q_taxes\r\n        // this.state.formFieldsDetailsStored.q_total = res.data[0].q_total\r\n        // this.setState(this.state.formFieldsDetailsStored)\r\n      });\r\n  };\r\n\r\n  getAutofillAddress = () => {\r\n    this.props\r\n      .getCommonApi(\r\n        `manualinvoiceaddr/?searchqaddrid=${this.props.match.params.id}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"res in autofillAddr\", res);\r\n        if (res.status == 200) {\r\n          this.state.formFieldsBillingStored.to = res.data[0].billto;\r\n          this.state.formFieldsBillingStored.address1 = res.data[0].bill_addr1;\r\n          this.state.formFieldsBillingStored.address2 = res.data[0].bill_addr2;\r\n          this.state.formFieldsBillingStored.address3 = res.data[0].bill_addr3;\r\n          this.state.formFieldsBillingStored.postalCode =\r\n            res.data[0].bill_postalcode;\r\n          if (res.data[0].bill_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.city =\r\n              this.state.cityOption.find(\r\n                (option) => option.label === res.data[0].bill_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.state =\r\n              this.state.stateOption.find(\r\n                (option) => option.label === res.data[0].bill_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].bill_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsBillingStored.country =\r\n              this.state.countryOption.find(\r\n                (option) => option.label === res.data[0].bill_country\r\n              ).value;\r\n          }\r\n\r\n          this.state.formFieldsShippingStored.to = res.data[0].shipto;\r\n          this.state.formFieldsShippingStored.address1 = res.data[0].ship_addr1;\r\n          this.state.formFieldsShippingStored.address2 = res.data[0].ship_addr2;\r\n          this.state.formFieldsShippingStored.address3 = res.data[0].ship_addr3;\r\n          this.state.formFieldsShippingStored.postalCode =\r\n            res.data[0].ship_postalcode;\r\n          if (res.data[0].ship_city) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.city =\r\n              this.state.cityOption.find(\r\n                (option) => option.label === res.data[0].ship_city\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_state) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.state =\r\n              this.state.stateOption.find(\r\n                (option) => option.label === res.data[0].ship_state\r\n              ).value;\r\n          }\r\n          if (res.data[0].ship_country) {\r\n            //matching status name with the id to set prefill status in dropdown\r\n            this.state.formFieldsShippingStored.country =\r\n              this.state.countryOption.find(\r\n                (option) => option.label === res.data[0].ship_country\r\n              ).value;\r\n          }\r\n\r\n          console.log(\r\n            \"this.state.formFieldsBillingStored in autofillAddr\",\r\n            this.state.formFieldsBillingStored\r\n          );\r\n          console.log(\r\n            \"this.state.formFieldsShippingStored in autofillAddr\",\r\n            this.state.formFieldsShippingStored\r\n          );\r\n          this.setState(this.state.formFieldsBillingStored);\r\n          this.setState(this.state.formFieldsShippingStored);\r\n        }\r\n      });\r\n  };\r\n\r\n  storeAddressFields = (formFieldsBilling, formFieldsShipping) => {\r\n    this.state.formFieldsBillingStored = formFieldsBilling;\r\n    this.state.formFieldsShippingStored = formFieldsShipping;\r\n    // this.state.formFieldsShippingStored = formFieldsShipping\r\n    // this.setState(this.state.formFieldsBillingStored, this.state.formFieldsShippingStored)\r\n    console.log(\"formFieldsBilling in addquo\", formFieldsBilling);\r\n    console.log(\"formFieldsShipping in addquo\", formFieldsShipping);\r\n    console.log(\r\n      \"formFieldsBillingStored in addquotation\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"formFieldsShippingStored in addquotation\",\r\n      this.state.formFieldsShippingStored\r\n    );\r\n    this.setState(this.state.formFieldsBillingStored);\r\n    this.setState(this.state.formFieldsShippingStored);\r\n  };\r\n\r\n  storeItemDetails = (storedItemList, formFields) => {\r\n    this.state.storedItemListStored = storedItemList;\r\n    this.state.formFieldsDetailsStored = formFields;\r\n\r\n    console.log(\"storedItemList in addquo\", storedItemList);\r\n    console.log(\"formFields in addquo\", formFields);\r\n    console.log(\r\n      \"storedItemListStored in addquotation\",\r\n      this.state.storedItemListStored\r\n    );\r\n    console.log(\r\n      \"formFieldsDetailsStored in addquotation\",\r\n      this.state.formFieldsDetailsStored\r\n    );\r\n    this.setState(this.state.storedItemListStored);\r\n    this.setState(this.state.formFieldsDetailsStored);\r\n  };\r\n\r\n  autoFillForm = () => {\r\n    let { disableEdit, statusOption } = this.state;\r\n\r\n    this.props\r\n      .getCommonApi(`manualinvoicelist/?searchid=${this.props.match.params.id}`)\r\n      .then(async (res) => {\r\n        console.log(\"quo dataList\", res.data.dataList);\r\n        // console.log(\"quo dataList cust name\", res.data.dataList[0].customer_name);\r\n        // custName = res.data.dataList[0].customer_name\r\n        // this.state.projectList = res.data.dataList\r\n\r\n        this.state.formFields[\"fk_manualinvoice\"] =\r\n          res.data.dataList[0].manualinv_number;\r\n        this.state.formFields[\"projectTitle\"] = res.data.dataList[0].title;\r\n        this.state.formFields[\"companyName\"] = res.data.dataList[0].company;\r\n        this.state.formFields[\"quoDate\"] = res.data.dataList[0].created_at;\r\n        this.state.formFields[\"validity\"] = res.data.dataList[0].validity;\r\n        this.state.formFields[\"attnTo\"] = res.data.dataList[0].contact_person;\r\n        this.setState({cust_id:res.data.dataList[0].cust_id});\r\n        console.log(\"statusOption in prefill\", this.state.statusOption);\r\n        console.log(\"res.data.dataList[0].status\", res.data.dataList[0].status);\r\n        console.log();\r\n        // if status empty prevent err\r\n        if (res.data.dataList[0].status) {\r\n          //matching status name with the id to set prefill status in dropdown\r\n          this.state.formFields[\"status\"] = this.state.statusOption.find(\r\n            (option) => option.label === res.data.dataList[0].status\r\n          ).value;\r\n          console.log(\r\n            \"res.data.dataList[0].status\",\r\n            res.data.dataList[0].status\r\n          );\r\n          if (res.data.dataList[0].status == \"Posted\") {\r\n            disableEdit = true;\r\n\r\n            for (var i = 0; i < statusOption.length; i++) {\r\n              if (statusOption[i].label == \"Posted\") {\r\n                statusOption = statusOption.filter((e) => e.label !== \"Open\");\r\n              }\r\n            }\r\n            console.log(\"statusOption when status is posted\", statusOption);\r\n\r\n            this.setState({ disableEdit, statusOption });\r\n            console.log(\"this.state.disableEdit\", disableEdit);\r\n          }\r\n        }\r\n        this.state.formFields[\"currency_id\"] = res.data.dataList[0].currency_id;\r\n        this.state.formFields[\"preparedBy\"] = res.data.dataList[0].in_charge;\r\n        this.state.formFields[\"remarks\"] = res.data.dataList[0].remarks;\r\n        this.updateState(this.state.formFields);\r\n        console.log(\"this.state.formFields\", this.state.formFields);\r\n      });\r\n  };\r\n\r\n  handleItemDetailsSubmit = (resQuo) => {\r\n    let { storedItemListStored, formFieldsDetailsStored, itemListBeforeEdit } =\r\n      this.state;\r\n    const formDataDetails = new FormData();\r\n\r\n    formDataDetails.append(\r\n      \"q_shipcost\",\r\n      formFieldsDetailsStored.q_shipcost\r\n        ? formFieldsDetailsStored.q_shipcost\r\n        : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"q_discount\",\r\n      formFieldsDetailsStored.q_discount\r\n        ? formFieldsDetailsStored.q_discount\r\n        : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"q_taxes\",\r\n      formFieldsDetailsStored.q_taxes ? formFieldsDetailsStored.q_taxes : 0\r\n    );\r\n    formDataDetails.append(\r\n      \"q_total\",\r\n      formFieldsDetailsStored.q_total ? formFieldsDetailsStored.q_total : 0\r\n    );\r\n\r\n    formDataDetails.append(\r\n      \"q_discpercent\",\r\n      formFieldsDetailsStored.q_discpercent ? formFieldsDetailsStored.q_discpercent : 0\r\n    );\r\n    this.props\r\n      .getCommonApi(`manualinvoicedetail/?searchqdetailid=${resQuo.data.id}`)\r\n      .then((resGetDetails) => {\r\n        if (resGetDetails.status == 200) {\r\n          console.log(\"resGetDetails\", resGetDetails);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `manualinvoicedetail/${resGetDetails.data[0].id}/`,\r\n              formDataDetails\r\n            )\r\n            .then((resUpdateDetails) => {\r\n              console.log(\"resUpdateDetails\", resUpdateDetails);\r\n              history.push(`/admin/quantum`);\r\n            });\r\n        } else if (resGetDetails.status == 204) {\r\n          formDataDetails.append(\"fk_manualinvoice\", resQuo.data.id);\r\n          this.props\r\n            .commonCreateApi(`manualinvoicedetail/`, formDataDetails)\r\n            .then((resCreateDetails) => {\r\n              console.log(\"resCreateDetails\", resCreateDetails);\r\n              history.push(`/admin/quantum`);\r\n            });\r\n        }\r\n      });\r\n\r\n    for (let item of itemListBeforeEdit) {\r\n      let found = storedItemListStored.some(\r\n        (el) => el.item_code === item.item_code\r\n      );\r\n      if (!found) {\r\n        this.props\r\n          .commonDeleteApi(`manualinvoiceitem/${item.item_id}/`)\r\n          .then((res) => {});\r\n      }\r\n    }\r\n\r\n    for (let item of storedItemListStored) {\r\n      const formDataItem = new FormData();\r\n      formDataItem.append(\"quotation_itemcode\", item.item_code);\r\n      formDataItem.append(\"quotation_itemdesc\", item.item_desc);\r\n      formDataItem.append(\"quotation_itemremarks\", item.item_remarks);\r\n      formDataItem.append(\"quotation_unitprice\", item.item_price);\r\n      formDataItem.append(\"quotation_quantity\", item.item_quantity);\r\n      formDataItem.append(\"discount_amt\", item.discount_amt);\r\n      formDataItem.append(\"discount_percent\", item.discount_percent);\r\n\r\n\r\n      this.props\r\n        .getCommonApi(\r\n          `manualinvoiceitem/?searchqitemid=${resQuo.data.id}&searchqitemcode=${item.item_code}`\r\n        )\r\n        .then((resGetItem) => {\r\n          if (resGetItem.status == 200) {\r\n            console.log(\"resGetItem\", resGetItem);\r\n            this.props\r\n              .commonUpdateApi(\r\n                `manualinvoiceitem/${resGetItem.data.dataList[0].id}/`,\r\n                formDataItem\r\n              )\r\n              .then((resUpdateItem) => {\r\n                console.log(\"resUpdateItem\", resUpdateItem);\r\n              });\r\n          } else if (resGetItem.status == 204) {\r\n            formDataItem.append(\"fk_manualinvoice\", resQuo.data.id);\r\n            this.props\r\n              .commonCreateApi(`manualinvoiceitem/`, formDataItem)\r\n              .then((resCreateItem) => {\r\n                console.log(\"resCreateItem\", resCreateItem);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleAddressSubmit = (resQuo) => {\r\n    let { cityOption, countryOption, stateOption } = this.state;\r\n    //submit address\r\n    const formDataAddress = new FormData();\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored in handleAddressSubmit\",\r\n      this.state.formFieldsBillingStored\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.to\",\r\n      this.state.formFieldsBillingStored.to\r\n    );\r\n    console.log(\r\n      \"this.state.formFieldsBillingStored.address1\",\r\n      this.state.formFieldsBillingStored.address1\r\n    );\r\n    formDataAddress.append(\r\n      \"billto\",\r\n      this.state.formFieldsBillingStored.to\r\n        ? this.state.formFieldsBillingStored.to\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr1\",\r\n      this.state.formFieldsBillingStored.address1\r\n        ? this.state.formFieldsBillingStored.address1\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr2\",\r\n      this.state.formFieldsBillingStored.address2\r\n        ? this.state.formFieldsBillingStored.address2\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_addr3\",\r\n      this.state.formFieldsBillingStored.address3\r\n        ? this.state.formFieldsBillingStored.address3\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"bill_postalcode\",\r\n      this.state.formFieldsBillingStored.postalCode\r\n        ? this.state.formFieldsBillingStored.postalCode\r\n        : \"\"\r\n    );\r\n\r\n    // console.log(\"cityOption.find(option => option.value === this.formFieldsBillingStored.city).label\",cityOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.city)).label)\r\n\r\n    formDataAddress.append(\r\n      \"bill_city\",\r\n      this.state.formFieldsBillingStored.city\r\n        ? cityOption.find(\r\n            (option) =>\r\n              option.value === parseInt(this.state.formFieldsBillingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_state\",\r\n      this.state.formFieldsBillingStored.state\r\n        ? stateOption.find(\r\n            (option) =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"bill_country\",\r\n      this.state.formFieldsBillingStored.country\r\n        ? countryOption.find(\r\n            (option) =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsBillingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n    // console.log(\"countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label\",countryOption.find(option => option.value === parseInt(this.state.formFieldsBillingStored.country)).label)\r\n\r\n    formDataAddress.append(\r\n      \"shipto\",\r\n      this.state.formFieldsShippingStored.to\r\n        ? this.state.formFieldsShippingStored.to\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr1\",\r\n      this.state.formFieldsShippingStored.address1\r\n        ? this.state.formFieldsShippingStored.address1\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr2\",\r\n      this.state.formFieldsShippingStored.address2\r\n        ? this.state.formFieldsShippingStored.address2\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_addr3\",\r\n      this.state.formFieldsShippingStored.address3\r\n        ? this.state.formFieldsShippingStored.address3\r\n        : \"\"\r\n    );\r\n    formDataAddress.append(\r\n      \"ship_postalcode\",\r\n      this.state.formFieldsShippingStored.postalCode\r\n        ? this.state.formFieldsShippingStored.postalCode\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_city\",\r\n      this.state.formFieldsShippingStored.city\r\n        ? cityOption.find(\r\n            (option) =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.city)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_state\",\r\n      this.state.formFieldsShippingStored.state\r\n        ? stateOption.find(\r\n            (option) =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.state)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    formDataAddress.append(\r\n      \"ship_country\",\r\n      this.state.formFieldsShippingStored.country\r\n        ? countryOption.find(\r\n            (option) =>\r\n              option.value ===\r\n              parseInt(this.state.formFieldsShippingStored.country)\r\n          ).label\r\n        : \"\"\r\n    );\r\n\r\n    this.props\r\n      .getCommonApi(`manualinvoiceaddr/?searchqaddrid=${resQuo.data.id}`)\r\n      .then((resGetAddr) => {\r\n        if (resGetAddr.status == 200) {\r\n          console.log(\"resGetAddr\", resGetAddr);\r\n          this.props\r\n            .commonUpdateApi(\r\n              `manualinvoiceaddr/${resGetAddr.data[0].id}/`,\r\n              formDataAddress\r\n            )\r\n            .then((resUpdateAddr) => {\r\n              console.log(\"resCreateAddr\", resUpdateAddr);\r\n            });\r\n        } else if (resGetAddr.status == 204) {\r\n          formDataAddress.append(\"fk_manualinvoice\", resQuo.data.id);\r\n          this.props\r\n            .commonCreateApi(`manualinvoiceaddr/`, formDataAddress)\r\n            .then((resCreateAddr) => {\r\n              console.log(\"resCreateAddr\", resCreateAddr);\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSubmit = async (status) => {\r\n    try {\r\n      if (this.validator.allValid()) {\r\n        let { formFields, statusOption } = this.state;\r\n        let statusValue = \"\";\r\n        console.log(\"formFields.status\", formFields.status);\r\n\r\n        for (let key of statusOption) {\r\n          // console.log(key.value)\r\n          if (key.value == formFields.status) {\r\n            statusValue = key.label;\r\n          }\r\n        }\r\n        console.log(\"statusValue\", statusValue);\r\n        const formData = new FormData();\r\n        formData.append(\"manualinv_number\", formFields.fk_manualinvoice);\r\n        formData.append(\"title\", formFields.projectTitle);\r\n        formData.append(\"company\", formFields.companyName);\r\n        formData.append(\r\n          \"created_at\",\r\n          dateFormat(formFields.quoDate) + \" 00:00:00\"\r\n        );\r\n        // formData.append(\"created_at\", dateFormat(formFields.quoDate) + \" \"+formFields.quoDate.getHours() + \":\" + formFields.quoDate.getMinutes() + \":\" + formFields.quoDate.getSeconds());\r\n        formData.append(\"validity\", formFields.validity);\r\n        formData.append(\"contact_person\", formFields.attnTo);\r\n        formData.append(\"cust_id\", this.state.cust_id);\r\n        \r\n        //check save or post\r\n        if (status) {\r\n          formData.append(\"status\", \"Posted\");\r\n        } else {\r\n          formData.append(\"status\", statusValue);\r\n        }\r\n        formData.append(\"currency_id\", formFields.currency_id);\r\n        formData.append(\"in_charge\", formFields.preparedBy);\r\n        formData.append(\"remarks\", formFields.remarks);\r\n        formData.append(\"username\", this.props.tokenDetail.username);\r\n        if (this.state.fkProject) {\r\n          formData.append(\"fk_project\", this.state.fkProject);\r\n        }\r\n        console.log(\"this.state.fkProject in updating\", this.state.fkProject);\r\n\r\n        console.log(\"formData\", formData);\r\n        console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n        if (this.props.match.params.id) {\r\n          console.log(\"in if loop\");\r\n          console.log(\"this.props.match.params.id\", this.props.match.params.id);\r\n          var resQuo = await this.props.updateManualinvoice(\r\n            `${this.props.match.params.id}/`,\r\n            formData\r\n          );\r\n\r\n          console.log(resQuo, \"resquo\");\r\n          await this.handleAddressSubmit(resQuo);\r\n          await this.handleItemDetailsSubmit(resQuo);\r\n          if (statusValue == \"Void\") {\r\n            console.log(\"if void loop\");\r\n            await this.props.deleteManualinvoice(\r\n              `${this.props.match.params.id}/`\r\n            );\r\n          }\r\n\r\n          // await this.props.history.push(\r\n          //   `/admin/quotation`\r\n          // )\r\n        } else {\r\n          console.log(\"pass if loop\");\r\n          console.log(\"this.props.location.state\", this.props.location.state);\r\n          // if (this.props.location.state){\r\n          //   console.log(\"this.props.location.state.projectFk\",this.props.location.state.projectFk)\r\n          //   formData.append(\"fk_project\", this.props.location.state.projectFk);\r\n          // }\r\n          console.log(\"pass if ?\");\r\n\r\n          console.log(\r\n            \"this.state.fkProject before createPO\",\r\n            this.state.fkProject\r\n          );\r\n          console.log(\"this.state.fkProject\", this.state.fkProject);\r\n\r\n          var resQuo = await this.props.createManualinvoice(formData);\r\n          console.log(\"resQuo in createQuotation\", resQuo);\r\n          console.log(\"resQuo.data.id\", resQuo.data.id);\r\n          for(let value of this.state.paymentScheduleAndTerms){\r\n            this.addPaymentSchedule(resQuo.data.id,value)\r\n          }                   \r\n          await this.handleAddressSubmit(resQuo);\r\n          await this.handleItemDetailsSubmit(resQuo);\r\n\r\n          // await this.props.history.push(\r\n          //   `/admin/quotation`\r\n          // )\r\n        }\r\n      } else {\r\n        this.validator.showMessages();\r\n      }\r\n      // this.updateState({ is_loading: false });\r\n    } catch (e) {\r\n      this.updateState({ is_loading: false });\r\n    }\r\n  };\r\n\r\n  addPaymentScheduleToList=(value)=>{\r\n    let { paymentScheduleAndTerms, formFields } = this.state;\r\n                          paymentScheduleAndTerms.push(value);\r\n                          this.setState({ paymentScheduleAndTerms });\r\n                          formFields.paymentSchedule = \"\"; formFields.paymentTerms = \"\";\r\n                          this.setState({ formFields })\r\n  }\r\n  \r\n  addPaymentSchedule=async (quotationId,value)=>{\r\n    const formDataPaymentSchedule = new FormData();\r\n            formDataPaymentSchedule.append(\"payment_schedule\",value.paymentSchedule);          \r\n            formDataPaymentSchedule.append(\"payment_term\",value.paymentTerms);\r\n            formDataPaymentSchedule.append(\"active\",\"active\");          \r\n            formDataPaymentSchedule.append(\"fk_manualinvoice\",quotationId); \r\n           return this.props.addManualPaymentSchedule(formDataPaymentSchedule)\r\n           \r\n  }\r\n  handlePrintPdfFormat = (url) => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    //var a = document.createElement(\"a\");\r\n    //a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    //a.setAttribute(\"href\", url);\r\n    //a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      formFields,\r\n      statusOption,\r\n      currentValue,\r\n      navLinks,\r\n      disableEdit,\r\n      isPrintPdfClick,\r\n      printData,\r\n      currencyOption\r\n    } = this.state;\r\n\r\n    let {\r\n      fk_manualinvoice,\r\n      projectTitle,\r\n      companyName,\r\n      quoDate,\r\n      validity,\r\n      attnTo,\r\n      status,\r\n      currency_id,\r\n      preparedBy,\r\n      remarks,      \r\n      contactPerson,\r\n      paymentTerms,\r\n      paymentSchedule\r\n    } = formFields;\r\n\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"px-5 container create-quotation\">\r\n        <div className=\"head-label-nav\">\r\n          <p\r\n            className=\"category\"\r\n            onClick={() => {\r\n              if (\r\n                window.confirm(\r\n                  \"Are you sure you want to leave this page and discard changes?\"\r\n                )\r\n              )\r\n                history.push(`/admin/quantum`);\r\n            }}\r\n          >\r\n            {t(\"Manual Invoice\")}\r\n          </p>\r\n          <i className=\"icon-right mx-md-3\"></i>\r\n          <p className=\"sub-category\">\r\n            {t(`${this.props.match.params.id ? \"Edit\" : \"New\"} invoice`)}\r\n          </p>\r\n        </div>\r\n        <div className=\"quotation-detail\">\r\n          <div className=\"form-group mb-4 pb-2\">\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Invoice No\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Auto generated\"\r\n                    value={fk_manualinvoice}\r\n                    name=\"fk_manualinvoice\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Project\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={disableEdit}\r\n                    placeholder=\"Enter here\"\r\n                    value={projectTitle}\r\n                    name=\"projectTitle\"\r\n                    onChange={this.handleSearch}\r\n                    onClick={this.handleSearchClick}                    \r\n                  />\r\n                </div>\r\n                {this.state.visible?(\r\n              <div className=\"projectSearch-block\" >\r\n                <div className=\"d-flex mt-3 table table-header w-100 m-0\">\r\n                  <div className=\"col-6\">{t(\"Project\")}</div>\r\n                  <div className=\"col-6\">{t(\"Customer Name\")}</div>\r\n                  \r\n                </div>\r\n                <div className=\"response-table w-100 row\">\r\n                  {this.state.projectOption.length > 0 ? (\r\n                    this.state.projectOption.map((item, index) => {\r\n                      return (\r\n                        <div\r\n                          className=\"row m-0 table-body w-100 border\"\r\n                          onClick={() => this.handleSelectProject(item)\r\n                          }\r\n                          key={index}\r\n                        >\r\n                          <div className=\"col-6\">{item.title}</div>\r\n                          <div className=\"col-6\">{item.customer_name}</div>\r\n                          \r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <div className=\"text-center w-100\">\r\n                      {t(\"No Data Available\")}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                </div>):''}\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Project\"),\r\n                    projectTitle,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Company Name\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    disabled={true}\r\n                    placeholder=\"Enter here\"\r\n                    value={companyName}\r\n                    name=\"companyName\"\r\n                    onChange={this.handleCustomerSearch}\r\n                    onClick={this.handleCustomerSearchClick}\r\n                  />\r\n                </div>\r\n                {this.state.visibleCustomer? (\r\n              <div className=\"customerSearch-block\">\r\n                <div className=\"d-flex mt-3 table table-header w-100 m-0\">\r\n                  <div className=\"col-2\">{t(\"Name\")}</div>\r\n                  <div className=\"col-2\">{t(\"Phone\")}</div>\r\n                  <div className=\"col-2\">{t(\"Customer Code\")}</div>\r\n                  <div className=\"col-2\">{t(\"Reference\")}</div>\r\n                  <div className=\"col-3\">{t(\"Email\")}</div>\r\n                  <div className=\"col-1\">{t(\"NRIC\")}</div>\r\n                </div>\r\n                <div className=\"response-table w-100 row\">\r\n                  {this.state.customerOption.length > 0 ? (\r\n                   this.state. customerOption.map((item, index) => {\r\n                      return (\r\n                        <div\r\n                          className=\"row m-0 table-body w-100 border\"\r\n                          onClick={() => this.handleSelectCustomer(item)\r\n                          }\r\n                          key={index}\r\n                        >\r\n                          <div className=\"col-2\">{item.cust_name}</div>\r\n                          <div className=\"col-2\">{item.cust_phone1}</div>\r\n                          <div className=\"col-2\">{item.cust_code}</div>\r\n                          <div className=\"col-2\">{item.cust_refer}</div>\r\n                          <div className=\"col-3\">{item.cust_email}</div>\r\n                          <div className=\"col-1\">{item.cust_nric}</div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <div className=\"text-center w-100\">\r\n                      {t(\"No Data Available\")}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Company Name\"),\r\n                    companyName,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Invoice Date\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalDateTime\r\n                    onChange={this.handleDatePick}\r\n                    inputcol=\"p-0 inTime\"\r\n                    value={quoDate ? new Date(quoDate) : new Date()}\r\n                    name=\"quoDate\"\r\n                    //className=\"dob-pick\"\r\n                    showYearDropdown={true}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    // maxDate={new Date(toDate)}\r\n                    showDisabledMonthNavigation\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Invoice Date\"),\r\n                    quoDate,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Validity\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={validity}\r\n                    name=\"validity\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Validity\"),\r\n                    validity,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Attn To\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                {!contactPerson.length>0?\r\n                  <NormalInput\r\n                  placeholder=\"Enter here\"\r\n                  disabled={disableEdit}\r\n                  value={attnTo}\r\n                  name=\"attnTo\"\r\n                  onChange={this.handleChange}\r\n                  />:<NormalSelect\r\n                  options={contactPerson.map(x=>{return{id:x.name,value:x.name,label:x.name}})}\r\n                  disabled={disableEdit}\r\n                  value={attnTo}\r\n                  name=\"attnTo\"\r\n                  onChange={(event)=>{let formFields=this.state.formFields; formFields.attnTo=event.target.value;this.setState({formFields})}}\r\n                />\r\n                \r\n                }\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Attn To\"), attnTo, t(\"required\"))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Status\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalSelect\r\n                    options={statusOption}\r\n                    value={status}\r\n                    name=\"status\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Status\"), status, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Currency\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                <NormalSelect\r\n                    disabled={disableEdit}\r\n                    options={currencyOption}\r\n                    value={currency_id}\r\n                    name=\"currency_id\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(t(\"Currency\"), currency_id, t(\"required\"))}\r\n                </div>\r\n\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Prepared By\")}\r\n                </label>\r\n                <div className=\"input-group-normal\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={preparedBy}\r\n                    name=\"preparedBy\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {this.validator.message(\r\n                    t(\"Prepared By\"),\r\n                    preparedBy,\r\n                    t(\"required\")\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Remarks\")}\r\n                </label>\r\n                <div className=\"input-group-desc\">\r\n                  <NormalTextarea\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-5 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Payment Schedule\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={paymentSchedule}\r\n                    name=\"paymentSchedule\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-5 col-12\">\r\n                <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                  {t(\"Payment Terms\")}\r\n                </label>\r\n                <div className=\"input-group\">\r\n                  <NormalInput\r\n                    placeholder=\"Enter here\"\r\n                    disabled={disableEdit}\r\n                    value={paymentTerms}\r\n                    name=\"paymentTerms\"\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2 col-12\"> \r\n              <label className=\"text-left text-black common-label-text fs-17 pt-3\">\r\n                 &nbsp;\r\n                </label>              \r\n                <div className=\"input-group\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Add\"\r\n                  onClick={() => \r\n                  {\r\n                    if (paymentSchedule.trim().length > 0 && paymentTerms.trim().length > 0) {\r\n                      \r\n                      let value = { paymentSchedule: paymentSchedule, paymentTerms: paymentTerms, id: 0 };\r\n                      if (this.props.match.params.id) {\r\n                        this.addPaymentSchedule(this.props.match.params.id, value).then(res => {\r\n                          value.id = res.data.id;\r\n                          this.addPaymentScheduleToList(value);\r\n                        })\r\n\r\n                      } else {\r\n                        this.addPaymentScheduleToList(value);\r\n                      }\r\n\r\n\r\n                    }\r\n                  }\r\n                    }\r\n                  />\r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-10 col-12\" style={{\"marginLeft\": \"-1rem\"}}>\r\n            {this.state.paymentScheduleAndTerms.length>0 ? <table className=\"table\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"first-value\"></th>\r\n                              <th>Payment Schedule</th>\r\n                              <th>Payment Terms</th>                              \r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {this.state.paymentScheduleAndTerms.map((e, index) => {\r\n                              return(\r\n                              <tr key={index}>\r\n                                <td> <img onClick={()=>{let {paymentScheduleAndTerms}= this.state;paymentScheduleAndTerms.splice(index,1);this.setState({paymentScheduleAndTerms}); if(this.props.match.params.id)this.props.removeManualPaymentSchedule(`${e.id}/`)}} className=\"close\" src={closeIcon} alt=\"\" /> </td>\r\n                                <td>{e.paymentSchedule}</td>\r\n                                <td>{e.paymentTerms}</td>\r\n                              </tr>)\r\n                            })}\r\n\r\n                          </tbody>\r\n                        </table>:\"\"\r\n                      }\r\n                      </div>\r\n            </div>\r\n            <div className=\"col-md-12 quotation-content\">\r\n              <div className=\"tab-menus\">\r\n                <ul>\r\n                  {navLinks.map(({ to, label, id }, index) => (\r\n                    <li key={index}>\r\n                      <NavLink to={to} className=\"nav-link\">\r\n                        <div\r\n                          className={`sidebar-menu ${\r\n                            currentValue === index ? \"active\" : \"\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            this.handleClick({ key: index, id: id })\r\n                          }\r\n                        >\r\n                          <span className=\"sidebar-menu-desc\">{t(label)}</span>\r\n                        </div>\r\n                      </NavLink>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              {this.state.selectedMenu === \"Details\" && (\r\n                <Details\r\n                  custId={this.state.cust_id}\r\n                  disableEdit={disableEdit}\r\n                  quoId={this.props.match.params.id}\r\n                  siteGstList={this.state.siteGstList}\r\n                  validator={this.validator}\r\n                  storeItemDetails={this.storeItemDetails.bind(this)}\r\n                  storedItemListStored={this.state.storedItemListStored}\r\n                  formFieldsDetailsStored={this.state.formFieldsDetailsStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"details\"}\r\n                />\r\n              )}\r\n              {this.state.selectedMenu === \"Address\" && (\r\n                <Address\r\n                  disableEdit={disableEdit}\r\n                  storeAddressFields={this.storeAddressFields.bind(this)}\r\n                  formFieldsBillingStored={this.state.formFieldsBillingStored}\r\n                  formFieldsShippingStored={this.state.formFieldsShippingStored}\r\n                  id={this.state.selectedMenu}\r\n                  // search={formFields.search}\r\n                  api={\"address\"}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              {/* <div className=\"col-md-2 col-12 mt-3\"></div> */}\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Cancel\"\r\n                  outline={false}\r\n                  onClick={() => {\r\n                    if (\r\n                      window.confirm(\r\n                        \"Are you sure you want to leave this page and discard changes?\"\r\n                      )\r\n                    )\r\n                      history.push(`/admin/quantum`);\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  disabled={this.state.storedItemListStored.length<1}\r\n                  buttonClass={\"mx-2\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Save\"\r\n                  onClick={() => this.handleSubmit()}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-2 col-12 mt-3\">\r\n                <NormalButton\r\n                  buttonClass={\"mx-2 mb-3\"}\r\n                  mainbg={true}\r\n                  className=\"confirm\"\r\n                  label=\"Post\"\r\n                  outline={false}\r\n                  onClick={() => this.handleSubmit(status)}\r\n                />\r\n              </div>\r\n              {this.props.match.params.id && (\r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"print\"}\r\n                    mainbg={true}\r\n                    className=\"col-12 fs-15 \"\r\n                    label=\"Print\"\r\n                    // outline={false}\r\n                    onClick={ () => {this.props.history.push({\r\n                      pathname: `/admin/quantum/manualinvoice/print/${this.props.match.params.id}`,\r\n                    \r\n                    })}}\r\n                  />\r\n\r\n                  {isPrintPdfClick ? (\r\n                    <PDFDownloadLink\r\n                      document={\r\n                        <Invoice\r\n                          TableList={printData}\r\n                          accountHeader={printData[\"company_header\"]}\r\n                          Flag={7}\r\n                          landscape={false}\r\n                        />\r\n                      }\r\n                    >\r\n                      {({ blob, url, loading, error }) =>\r\n                        !loading && url ? this.handlePrintPdfFormat(url) : null\r\n                      }\r\n                    </PDFDownloadLink>\r\n                  ) : null}\r\n                </div>\r\n              )}\r\n              {disableEdit == true ? (\r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Convert to PO\"\r\n                    onClick={() =>\r\n                      this.props.history.push({\r\n                        pathname: \"/admin/quantum/po/add\",\r\n                        state: {\r\n                          quoId: this.props.match.params.id,\r\n                          projectFk: this.state.fkProject,\r\n                        },\r\n                      })\r\n                    }\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              {disableEdit == true ? (\r\n                <div className=\"col-md-2 col-12 mt-3\">\r\n                  <NormalButton\r\n                    buttonClass={\"mx-2\"}\r\n                    mainbg={true}\r\n                    className=\"confirm\"\r\n                    label=\"Import to Xero\"\r\n                    onClick={() =>\r\n                      importInvoiceToXero(\r\n                        this.state.storedItemListStored,\r\n                        this.state.formFields\r\n                      )\r\n                    }\r\n                  />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tokenDetail: state.authStore.tokenDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonUpdateApi,\r\n      createManualinvoice,\r\n      updateManualinvoice,\r\n      deleteManualinvoice,\r\n      commonDeleteApi,\r\n      getTokenDetails,\r\n      addManualPaymentSchedule,\r\n      removeManualPaymentSchedule\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const ManualAddQuotation = withTranslation()(\r\n  connect(mapStateToProps, mapDispatchToProps)(ManualAddQuotationClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}