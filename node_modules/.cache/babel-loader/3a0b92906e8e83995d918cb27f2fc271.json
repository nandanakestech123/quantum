{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";import{TableWrapper,NormalInput,NormalFileUpload,DragFileUpload}from\"component/common\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{withTranslation}from\"react-i18next\";import{history}from\"helpers\";import{Toast}from\"service/toast\";import SimpleReactValidator from'simple-react-validator';export var DocumentUploadViewTabClass=/*#__PURE__*/function(_Component){_inherits(DocumentUploadViewTabClass,_Component);var _super=_createSuper(DocumentUploadViewTabClass);function DocumentUploadViewTabClass(){var _this;_classCallCheck(this,DocumentUploadViewTabClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formFields:{customer_id:\"\",filename:\"\",document_name:\"\",files:\"\"},activeTab:\"\",isOpenTreatmentDone:false,isActiveTab:\"detail\",headerDetails:[{label:\"File Name \",width:\"180px\"},{label:\"Document Name\",sortKey:false,width:\"150px\"},{label:\"File \",sortKey:false,width:\"400px\"}],documentList:[],documentListHeader:{}};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.getCustomerDocument=function(){var documentListHeader=_this.state.documentListHeader;_this.props.getCommonApi(\"customerdocument/?customer_id=\".concat(_this.props.id)).then(function(key){var data=key.data,header_data=key.header_data;var documentList=_this.state.documentList;documentList=data;documentListHeader=header_data;_this.setState({documentList:documentList,documentListHeader:documentListHeader});});};_this.handleChangeFormName=function(_ref){var _ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;var formFields=Object.assign({},_this.state.formFields);formFields['filename']=value;_this.setState({formFields:formFields});};_this.handleChangeDocumentName=function(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;var formFields=Object.assign({},_this.state.formFields);formFields['document_name']=value;_this.setState({formFields:formFields});};_this.handlefile=function(e){var formFields=_this.state.formFields;formFields[\"files\"]=e.target.files[0];//img.append(\"images\", e.target.files[0]);\n//this.props.handleFileUpload(e.target.files[0]);\n// console.log(e.target.files[0], \"sdkflodsjfpsjdf ===\", img)\n};_this.handleImageUpload=function(file){var formFields=_this.state.formFields;formFields[\"files\"]=file;_this.setState({formFields:formFields});};_this.handleSubmit=function(){//  if (this.props.match.params.id) {\n//  this.handleUpdate();\n//} else {\n_this.handleSave();//}\n};_this.handleSave=function(){var formFields=_this.state.formFields;var payload={customer_id:_this.props.id,filename:formFields.filename,document_name:formFields.document_name,file:formFields.files};var formData=new FormData();formData.append(\"customer_id\",_this.props.id);formData.append(\"filename\",formFields.filename);formData.append(\"document_name\",formFields.document_name);formData.append(\"file\",formFields.files);//console.log(pdf, \"filecontentlog\");\n_this.props.commonCreateApi(\"customerdocument/\",formData).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Toast({type:\"success\",message:\"Document Saved Successfully\"});_this.getCustomerDocument();// history.push(`admin/customerplus/${this.props.id}/documents`);\ncase 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}());};return _this;}_createClass(DocumentUploadViewTabClass,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:this});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getCustomerDocument();}},{key:\"render\",value:/*this.props.commonCreateApi(`customerdocument/`, payload).then(async res => {\r\n    if (res.status === 201) {\r\n      history.push(`admin/customerplus/${this.props.id}/documents`);\r\n    }\r\n  });\r\n};*/function render(){var _this$state=this.state,formFields=_this$state.formFields,headerDetails=_this$state.headerDetails,_this$state$documentL=_this$state.documentList,documentList=_this$state$documentL===void 0?[]:_this$state$documentL,_this$state$documentL2=_this$state.documentListHeader,documentListHeader=_this$state$documentL2===void 0?{}:_this$state$documentL2;var filename=formFields.filename,document_name=formFields.document_name,files=formFields.files;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"treatment-account\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-1\"},t(\"File Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:filename,name:\"filename\",onChange:this.handleChangeFormName}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 mb-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text fs-17 pb-1\"},t(\"Document Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{placeholder:\"Enter here\",value:document_name,name:\"document_name\",onChange:this.handleChangeDocumentName}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 col-12 mb-4\"},/*#__PURE__*/React.createElement(\"input\",{onChange:this.handlefile,accept:\"file/*\",type:\"file\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"button\",id:\"get_file\",value:\"Upload\",className:\"btn cursor-pointer mainbg-btn\",onClick:this.handleSubmit}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination// pageMeta={pageMeta}\n// isEmpty={documentList.length === 0 ? true:false}\n},documentList&&documentList.length>0?documentList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.filename)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.document_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},/*#__PURE__*/React.createElement(\"a\",{href:item.file},item.file))));}):null))));}}]);return DocumentUploadViewTabClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var DocumentUploadViewTab=withTranslation()(connect(null,mapDispatchToProps)(DocumentUploadViewTabClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/DocumentUploadViewTab/DocumentUploadViewTab.js"],"names":["React","Component","TableWrapper","NormalInput","NormalFileUpload","DragFileUpload","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","connect","bindActionCreators","withTranslation","history","Toast","SimpleReactValidator","DocumentUploadViewTabClass","state","formFields","customer_id","filename","document_name","files","activeTab","isOpenTreatmentDone","isActiveTab","headerDetails","label","width","sortKey","documentList","documentListHeader","toggle","tab","setState","getCustomerDocument","props","id","then","key","data","header_data","handleChangeFormName","target","name","value","Object","assign","handleChangeDocumentName","handlefile","e","handleImageUpload","file","handleSubmit","handleSave","payload","formData","FormData","append","type","message","validator","element","autoForceUpdate","t","handlePagination","length","map","item","index","mapDispatchToProps","dispatch","DocumentUploadViewTab"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\nimport { TableWrapper, NormalInput, NormalFileUpload, DragFileUpload } from \"component/common\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { history } from \"helpers\";\r\nimport { Toast } from \"service/toast\";\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nexport class DocumentUploadViewTabClass extends Component {\r\n  state = {\r\n    formFields: {\r\n      customer_id: \"\",\r\n      filename: \"\",\r\n      document_name: \"\",\r\n      files: \"\",\r\n    },\r\n    activeTab: \"\",\r\n    isOpenTreatmentDone: false,\r\n    isActiveTab: \"detail\",\r\n    headerDetails: [\r\n\r\n      { label: \"File Name \", width: \"180px\" },\r\n      { label: \"Document Name\", sortKey: false, width: \"150px\" },\r\n      {\r\n        label: \"File \",\r\n        sortKey: false,\r\n        width: \"400px\",\r\n      },\r\n    ],\r\n\r\n\r\n    documentList: [],\r\n    documentListHeader: {},\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n  componentWillUnmount() {\r\n    this.validator = new SimpleReactValidator({\r\n      element: message => (\r\n        <span className=\"error-message text-danger validNo fs14\">\r\n          {message}\r\n        </span>\r\n      ),\r\n      autoForceUpdate: this,\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.getCustomerDocument();\r\n\r\n  }\r\n\r\n  getCustomerDocument = () => {\r\n    let { documentListHeader } = this.state;\r\n    this.props\r\n      .getCommonApi(`customerdocument/?customer_id=${this.props.id}`)\r\n      .then(key => {\r\n        let { data, header_data } = key;\r\n        let { documentList } = this.state;\r\n        documentList = data;\r\n        documentListHeader = header_data;\r\n        this.setState({ documentList, documentListHeader });\r\n      });\r\n  };\r\n\r\n\r\n  handleChangeFormName = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields)\r\n    formFields['filename'] = value;\r\n    this.setState({\r\n      formFields\r\n    });\r\n  }\r\n  handleChangeDocumentName = ({ target: { name, value } }) => {\r\n    let formFields = Object.assign({}, this.state.formFields)\r\n    formFields['document_name'] = value;\r\n    this.setState({\r\n      formFields\r\n    });\r\n  }\r\n\r\n  handlefile = (e) => {\r\n    let { formFields } = this.state;\r\n    formFields[\"files\"] = e.target.files[0];\r\n    //img.append(\"images\", e.target.files[0]);\r\n    //this.props.handleFileUpload(e.target.files[0]);\r\n    // console.log(e.target.files[0], \"sdkflodsjfpsjdf ===\", img)\r\n  };\r\n\r\n  // select image to formfield\r\n  handleImageUpload = file => {\r\n    let { formFields } = this.state;\r\n    formFields[\"files\"] = file;\r\n    this.setState({\r\n      formFields,\r\n    });\r\n  };\r\n  handleSubmit = () => {\r\n    //  if (this.props.match.params.id) {\r\n    //  this.handleUpdate();\r\n    //} else {\r\n    this.handleSave();\r\n    //}\r\n  };\r\n  handleSave = () => {\r\n    let { formFields } = this.state;\r\n\r\n    let payload = {\r\n      customer_id: this.props.id,\r\n      filename: formFields.filename,\r\n      document_name: formFields.document_name,\r\n      file: formFields.files,\r\n    };\r\n\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"customer_id\", this.props.id);\r\n    formData.append(\"filename\", formFields.filename);\r\n    formData.append(\"document_name\", formFields.document_name);\r\n    formData.append(\"file\", formFields.files);\r\n\r\n    //console.log(pdf, \"filecontentlog\");\r\n    this.props.commonCreateApi(`customerdocument/`, formData).then(async key => {\r\n      Toast({\r\n        type: \"success\",\r\n        message: \"Document Saved Successfully\",\r\n      });\r\n      this.getCustomerDocument();\r\n      // history.push(`admin/customerplus/${this.props.id}/documents`);\r\n    });\r\n  }\r\n  /*this.props.commonCreateApi(`customerdocument/`, payload).then(async res => {\r\n    if (res.status === 201) {\r\n      history.push(`admin/customerplus/${this.props.id}/documents`);\r\n    }\r\n  });\r\n};*/\r\n  render() {\r\n    let {\r\n      formFields,\r\n      headerDetails,\r\n      documentList = [],\r\n      documentListHeader = {},\r\n    } = this.state;\r\n    let {\r\n      filename,\r\n      document_name,\r\n      files,\r\n    } = formFields;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"treatment-account\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 col-12 mb-4\">\r\n            <label className=\"text-left text-black common-label-text fs-17 pb-1\">\r\n              {t(\"File Name\")}\r\n            </label>\r\n            <div className=\"input-group\">\r\n              <NormalInput\r\n                placeholder=\"Enter here\"\r\n                value={filename}\r\n                name=\"filename\"\r\n                onChange={this.handleChangeFormName}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6 col-12 mb-4\">\r\n            <label className=\"text-left text-black common-label-text fs-17 pb-1\">\r\n              {t(\"Document Name\")}\r\n            </label>\r\n            <div className=\"input-group\">\r\n              <NormalInput\r\n                placeholder=\"Enter here\"\r\n                value={document_name}\r\n                name=\"document_name\"\r\n                onChange={this.handleChangeDocumentName}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-3 col-12 mb-4\">\r\n\r\n            <input\r\n              onChange={this.handlefile}\r\n              accept=\"file/*\"\r\n              type=\"file\" />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <input\r\n              type=\"button\"\r\n              id=\"get_file\"\r\n              value=\"Upload\"\r\n              className=\"btn cursor-pointer mainbg-btn\"\r\n              onClick={this.handleSubmit}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 mt-2\">\r\n          <div className=\"table\">\r\n            <TableWrapper\r\n              headerDetails={headerDetails}\r\n              queryHandler={this.handlePagination}\r\n            // pageMeta={pageMeta}\r\n            // isEmpty={documentList.length === 0 ? true:false}\r\n            >\r\n              {documentList && documentList.length > 0\r\n                ? documentList.map((item, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n\r\n                      <td>\r\n                        <div className=\"text-left\">{item.filename}</div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\">{item.document_name}</div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-left\"><a href={item.file}>{item.file}</a></div>\r\n                      </td>\r\n\r\n                    </tr>\r\n                  );\r\n                })\r\n                : null}\r\n            </TableWrapper>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const DocumentUploadViewTab = withTranslation()(\r\n  connect(null, mapDispatchToProps)(DocumentUploadViewTabClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}