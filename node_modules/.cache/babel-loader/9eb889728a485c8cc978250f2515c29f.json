{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Cart\\\\treatmentDone\\\\TreatmentUsagePopup.js\";\nimport React, { Component } from \"react\";\nimport { updateForm, getCommonApi, commonCreateApi, commonPatchApi } from \"redux/actions/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { NormalButton, NormalModal, NormalInput, TableWrapper, NormalTextarea } from \"component/common\";\nimport classnames from \"classnames\";\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\nimport closeIcon from \"assets/images/close.png\";\nimport { ItemUsageUpdatePopup } from \"./ItemUsageUpdatePopup\";\nimport { Toast } from \"service/toast\";\nimport { TreatmentUsageDetail } from \"./TreatmentUsageDetail\";\nexport class TreatmentUsagePopupClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      TreatmentUsageListHeader: [{\n        label: \"No.\"\n      }, {\n        label: \"Item Code\"\n      }, {\n        label: \"Link Code\"\n      }, {\n        label: \"Item Desc\"\n      }, {\n        label: \"Quantity\"\n      }, {\n        label: \"UOM\"\n      }, {\n        label: \"Remove\"\n      }],\n      TreatmentUsageList: [],\n      meta: {},\n      ExchangeTreatmentListHeader: [{\n        label: \"No.\"\n      }, {\n        label: \"Staff Code\"\n      }, {\n        label: \"Staff Name\"\n      }, {\n        label: \"Trmt No\"\n      }, {\n        label: \"Original Item Code\"\n      }, {\n        label: \"Original Item Desc\"\n      }, {\n        label: \"Exchange Item Code\"\n      }, {\n        label: \"Exchange Item Desc\"\n      }, {\n        label: \"Trans#\"\n      }, {\n        label: \"Trans. Date\"\n      }, {\n        label: \"Exchange Date\"\n      }],\n      ExchangeTreatmentList: [],\n      ExchangeMeta: {},\n      activeTab: \"3\",\n      isItemUsageUpdatePopup: false,\n      TreatmentHistoryId: 0,\n      treatment_code: \"\",\n      course: \"\",\n      remarks: \"\",\n      EditableRemark: true,\n      ExchangeStaffListHeader: [{\n        label: \"No.\"\n      }, {\n        label: \"Staff Code\"\n      }, {\n        label: \"Staff Name\"\n      }],\n      ExchangeStaffList: [],\n      isNewItemUsage: false\n    };\n\n    this.componentDidMount = () => {\n      this.getTreatmentUsageList(this.props.TreatmentHistoryId);\n    };\n\n    this.getTreatmentUsageList = data => {\n      let {\n        TreatmentUsageList\n      } = this.state;\n      this.setState({\n        TreatmentHistoryId: data\n      });\n\n      if (data > 0) {\n        this.props.getCommonApi(`stockusage/${data}/`).then(async res => {\n          await this.setState({\n            treatmentUsageList: []\n          });\n          let {\n            data,\n            status\n          } = res;\n\n          if (status === 200 && res.error !== true) {\n            if (data) {\n              await this.setState({\n                TreatmentHistoryId: data.id,\n                treatment_code: data.treatment_code,\n                course: data.course,\n                remarks: data.remarks\n              });\n              let ExchangeStaffList = data.staffs;\n\n              for (let datalist of data.usage) {\n                let item_code = datalist.item_code;\n                let link_code = datalist.link_code;\n                let item_desc = datalist.item_desc;\n                let qty = datalist.qty;\n                let uom = datalist.uom;\n                let stock_id = datalist.id;\n                let Treatmentid = data.id;\n                TreatmentUsageList.push({\n                  item_code,\n                  link_code,\n                  item_desc,\n                  qty,\n                  uom,\n                  stock_id,\n                  Treatmentid\n                });\n              }\n\n              await this.setState({\n                TreatmentUsageList,\n                ExchangeStaffList\n              });\n            }\n          }\n        });\n      }\n    };\n\n    this.toggle = tab => {\n      if (tab == \"3\") {\n        this.setState({\n          EditableRemark: true\n        });\n      } else if (tab == \"1\") {\n        let {\n          TreatmentUsageList\n        } = this.state;\n        let filterEditableRemark = TreatmentUsageList.find(account => account.Treatmentid === 0);\n\n        if (filterEditableRemark) {\n          this.setState({\n            EditableRemark: true\n          });\n        } else {\n          this.setState({\n            EditableRemark: false\n          });\n        }\n      } else {\n        this.setState({\n          EditableRemark: false\n        });\n      }\n\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeTab: tab\n        });\n      }\n    };\n\n    this.itemUsageUpdatePopup = () => {\n      let {\n        TreatmentUsageList\n      } = this.state;\n\n      if (TreatmentUsageList && TreatmentUsageList.length > 0) {\n        this.setState(prevState => ({\n          isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup\n        }));\n      } else {\n        this.setState(prevState => ({\n          isNewItemUsage: !prevState.isNewItemUsage\n        }));\n      }\n    };\n\n    this.handleCloseItemUsagePopup = () => {\n      this.setState(prevState => ({\n        isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup\n      }));\n    };\n\n    this.remarkHandle = ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.includeNewItems = async data => {\n      await this.setState({\n        isNewItemUsage: false,\n        isItemUsageUpdatePopup: false,\n        EditableRemark: true\n      });\n      let {\n        TreatmentUsageList\n      } = this.state;\n\n      for (let value of data) {\n        TreatmentUsageList.push({\n          item_code: value.item_code,\n          link_code: value.link_code,\n          item_desc: value.ItemDesc,\n          qty: parseInt(value.qty),\n          uom: value.uom,\n          stock_id: value.stock_id,\n          Treatmentid: 0\n        });\n      }\n\n      await this.setState({\n        TreatmentUsageList\n      });\n    };\n\n    this.handleSave = () => {\n      let {\n        TreatmentUsageList,\n        TreatmentHistoryId,\n        remarks\n      } = this.state;\n      let data = [];\n\n      for (let final of TreatmentUsageList) {\n        if (final.Treatmentid == 0) {\n          data.push({\n            item_code: final.item_code,\n            link_code: final.link_code,\n            item_desc: final.item_desc,\n            qty: final.qty,\n            uom: final.uom,\n            stock_id: final.stock_id\n          });\n        }\n      }\n\n      if (data.length > 0) {\n        this.props.commonCreateApi(`stockusage/?treat_id=${TreatmentHistoryId}&treat_remarks=${remarks}`, data).then(async res => {\n          if (res.status === 201) {\n            this.setState({\n              TreatmentUsageList: [],\n              TreatmentHistoryId: 0\n            });\n            this.props.treatmentUsagePopupclose();\n          }\n        });\n      } else {\n        Toast({\n          type: \"error\",\n          message: \"Please Add New Product and then try!\"\n        });\n      }\n    };\n\n    this.deleteSelectedItem = async item => {\n      if (item.Treatmentid === 0) {\n        await this.setState(data => ({\n          TreatmentUsageList: data.TreatmentUsageList.filter(x => x.stock_id != item.stock_id)\n        }));\n        let {\n          TreatmentUsageList\n        } = this.state;\n        let filterEditableRemark = TreatmentUsageList.find(account => account.Treatmentid === 0);\n\n        if (filterEditableRemark) {\n          this.setState({\n            EditableRemark: true\n          });\n        } else {\n          this.setState({\n            EditableRemark: false\n          });\n        }\n      } else {\n        let {\n          TreatmentHistoryId\n        } = this.state;\n        this.props.commonPatchApi(`stockusage/${item.stock_id}/?treat_id=${TreatmentHistoryId}`).then(async res => {\n          if (res.status === 200) {\n            await this.setState(data => ({\n              TreatmentUsageList: data.TreatmentUsageList.filter(x => x.stock_id != item.stock_id)\n            }));\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    let {\n      TreatmentUsageList,\n      TreatmentUsageListHeader,\n      meta,\n      isItemUsageUpdatePopup,\n      ExchangeTreatmentList,\n      ExchangeTreatmentListHeader,\n      ExchangeMeta,\n      TreatmentHistoryId,\n      treatment_code,\n      course,\n      remarks,\n      EditableRemark,\n      ExchangeStaffList,\n      ExchangeStaffListHeader,\n      isNewItemUsage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(NormalModal, {\n      className: \"select-category\",\n      style: {\n        minWidth: \"75%\"\n      },\n      modal: this.props.isTreatmentUsagePopup,\n      handleModal: this.props.treatmentUsagePopupclose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.props.treatmentUsagePopupclose,\n      className: \"close\",\n      src: closeIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex h4 justify-content-center p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }\n    }, \"Treatment Usage\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customer-list container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }, `Treatment Code`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-left fs-15 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 15\n      }\n    }, treatment_code))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 15\n      }\n    }, `Treatment Name`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-left fs-15 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 15\n      }\n    }, course))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }, \"Treatment Remarks\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-left fs-15 fw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 15\n      }\n    }, EditableRemark ? /*#__PURE__*/React.createElement(NormalTextarea, {\n      value: remarks,\n      name: \"remarks\",\n      onChange: this.remarkHandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(NormalTextarea, {\n      value: remarks,\n      name: \"remarks\",\n      onChange: this.remarkHandle,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"beautesoft-navlink customer-detail mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filled-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tabs-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      tabs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"3\"\n      }),\n      onClick: () => {\n        this.toggle(\"3\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }\n    }, \"Detail\")), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"1\"\n      }),\n      onClick: () => {\n        this.toggle(\"1\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 21\n      }\n    }, \"Stock Usage\")), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"4\"\n      }),\n      onClick: () => {\n        this.toggle(\"4\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    }, \"Staff\")), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"2\"\n      }),\n      onClick: () => {\n        this.toggle(\"2\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 21\n      }\n    }, \"Exchange Treatment\")))), /*#__PURE__*/React.createElement(TabContent, {\n      activeTab: this.state.activeTab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TabPane, {\n      tabId: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 17\n      }\n    }, this.state.activeTab === \"1\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: true,\n      className: \"col-2 fs-15 mt-3\",\n      label: \"Add Item Usage\",\n      onClick: this.itemUsageUpdatePopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container table-responsive mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: TreatmentUsageListHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 25\n      }\n    }, TreatmentUsageList && TreatmentUsageList.length > 0 ? TreatmentUsageList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"w-100\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 37\n        }\n      }, index + 1)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 37\n        }\n      }, item.item_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 37\n        }\n      }, item.link_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 37\n        }\n      }, item.item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 37\n        }\n      }, item.qty)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 37\n        }\n      }, item.uom)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        onClick: () => this.deleteSelectedItem(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"25\",\n        height: \"25\",\n        className: \"ml-3\",\n        src: closeIcon,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 39\n        }\n      }))));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 33\n      }\n    }, \"No data available\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-center justify-content-end w-100 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"col-2\",\n      mainbg: true,\n      className: \"col-12 ml-4 fs-15 \",\n      label: \"Save\",\n      onClick: this.handleSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(NormalButton, {\n      buttonClass: \"col-2\",\n      mainbg: true,\n      className: \"col-12 ml-4 fs-15 \",\n      label: \"Cancel\",\n      onClick: this.props.treatmentUsagePopupclose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 25\n      }\n    }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 19\n      }\n    }, isNewItemUsage ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NormalModal, {\n      style: {\n        minWidth: \"280px\"\n      },\n      modal: isNewItemUsage,\n      handleModal: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row new-cart issued-staff p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 33\n      }\n    }, \"Do you want to add default product for this treatment ?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.setState({\n        isNewItemUsage: false\n      }),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 35\n      }\n    }, \"Yes\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.setState(prevState => ({\n        isNewItemUsage: !prevState.isNewItemUsage,\n        isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup\n      })),\n      className: `btn outline-btn mx-2 fs-14  text-capitalize`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 35\n      }\n    }, \"No\"))))))) : \"\")), /*#__PURE__*/React.createElement(TabPane, {\n      tabId: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }\n    }, this.state.activeTab === \"2\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container table-responsive mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: ExchangeTreatmentListHeader //queryHandler={this.handlePagination}\n      ,\n      pageMeta: ExchangeMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 23\n      }\n    }, ExchangeTreatmentList && ExchangeTreatmentList.length > 0 ? ExchangeTreatmentList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"w-100\",\n        onClick: () => this.handleSelectTreatment(item),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 35\n        }\n      }, item.Item_Class)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 35\n        }\n      }, item.item_desc)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 35\n        }\n      }, item.add_duration)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 35\n        }\n      }, item.item_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 35\n        }\n      }, item.item_price)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 35\n        }\n      }, item.item_price)));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 31\n      }\n    }, \"No data available\"))))) : null), /*#__PURE__*/React.createElement(TabPane, {\n      tabId: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 17\n      }\n    }, this.state.activeTab === \"3\" ? /*#__PURE__*/React.createElement(TreatmentUsageDetail, {\n      TreatmentHistoryId: this.props.TreatmentHistoryId,\n      remarks: remarks,\n      treatment_code: treatment_code,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 21\n      }\n    }) : null), /*#__PURE__*/React.createElement(TabPane, {\n      tabId: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 17\n      }\n    }, this.state.activeTab === \"4\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container table-responsive mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableWrapper, {\n      headerDetails: ExchangeStaffListHeader //queryHandler={this.handlePagination}\n      ,\n      pageMeta: ExchangeMeta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 23\n      }\n    }, ExchangeStaffList && ExchangeStaffList.length > 0 ? ExchangeStaffList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"w-100\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 35\n        }\n      }, item.no)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 35\n        }\n      }, item.staff_code)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 35\n        }\n      }, item.helper_name)));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 31\n      }\n    }, \"No data available\"))))) : null))))), isItemUsageUpdatePopup ? /*#__PURE__*/React.createElement(ItemUsageUpdatePopup, {\n      isItemUsageUpdatePopup: isItemUsageUpdatePopup,\n      itemUsageUpdatePopup: this.handleCloseItemUsagePopup,\n      newItemlist: StockItemUsageList => this.includeNewItems(StockItemUsageList),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 11\n      }\n    }) : null);\n  }\n\n}\n\nconst mapStateToProps = state => ({// filter: state.dashboard\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    updateForm,\n    getCommonApi,\n    commonCreateApi,\n    commonPatchApi\n  }, dispatch);\n};\n\nexport const TreatmentUsagePopup = connect(mapStateToProps, mapDispatchToProps)(TreatmentUsagePopupClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/treatmentDone/TreatmentUsagePopup.js"],"names":["React","Component","updateForm","getCommonApi","commonCreateApi","commonPatchApi","connect","bindActionCreators","NormalButton","NormalModal","NormalInput","TableWrapper","NormalTextarea","classnames","Nav","NavItem","NavLink","TabContent","TabPane","closeIcon","ItemUsageUpdatePopup","Toast","TreatmentUsageDetail","TreatmentUsagePopupClass","state","TreatmentUsageListHeader","label","TreatmentUsageList","meta","ExchangeTreatmentListHeader","ExchangeTreatmentList","ExchangeMeta","activeTab","isItemUsageUpdatePopup","TreatmentHistoryId","treatment_code","course","remarks","EditableRemark","ExchangeStaffListHeader","ExchangeStaffList","isNewItemUsage","componentDidMount","getTreatmentUsageList","props","data","setState","then","res","treatmentUsageList","status","error","id","staffs","datalist","usage","item_code","link_code","item_desc","qty","uom","stock_id","Treatmentid","push","toggle","tab","filterEditableRemark","find","account","itemUsageUpdatePopup","length","prevState","handleCloseItemUsagePopup","remarkHandle","target","name","value","includeNewItems","ItemDesc","parseInt","handleSave","final","treatmentUsagePopupclose","type","message","deleteSelectedItem","item","filter","x","render","minWidth","isTreatmentUsagePopup","active","map","index","handleSelectTreatment","Item_Class","add_duration","item_price","no","staff_code","helper_name","StockItemUsageList","mapStateToProps","mapDispatchToProps","dispatch","TreatmentUsagePopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  updateForm,\r\n  getCommonApi,\r\n  commonCreateApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  NormalButton,\r\n  NormalModal,\r\n  NormalInput,\r\n  TableWrapper,\r\n  NormalTextarea,\r\n} from \"component/common\";\r\nimport classnames from \"classnames\";\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { ItemUsageUpdatePopup } from \"./ItemUsageUpdatePopup\";\r\nimport { Toast } from \"service/toast\";\r\nimport { TreatmentUsageDetail } from \"./TreatmentUsageDetail\";\r\n\r\nexport class TreatmentUsagePopupClass extends Component {\r\n  state = {\r\n    TreatmentUsageListHeader: [\r\n      { label: \"No.\" },\r\n      { label: \"Item Code\" },\r\n      { label: \"Link Code\" },\r\n      { label: \"Item Desc\" },\r\n      { label: \"Quantity\" },\r\n      { label: \"UOM\" },\r\n      { label: \"Remove\" },\r\n    ],\r\n    TreatmentUsageList: [],\r\n    meta: {},\r\n    ExchangeTreatmentListHeader: [\r\n      { label: \"No.\" },\r\n      { label: \"Staff Code\" },\r\n      { label: \"Staff Name\" },\r\n      { label: \"Trmt No\" },\r\n      { label: \"Original Item Code\" },\r\n      { label: \"Original Item Desc\" },\r\n      { label: \"Exchange Item Code\" },\r\n      { label: \"Exchange Item Desc\" },\r\n      { label: \"Trans#\" },\r\n      { label: \"Trans. Date\" },\r\n      { label: \"Exchange Date\" },\r\n    ],\r\n    ExchangeTreatmentList: [],\r\n    ExchangeMeta: {},\r\n    activeTab: \"3\",\r\n    isItemUsageUpdatePopup: false,\r\n    TreatmentHistoryId: 0,\r\n    treatment_code: \"\",\r\n    course: \"\",\r\n    remarks: \"\",\r\n    EditableRemark: true,\r\n    ExchangeStaffListHeader: [\r\n      { label: \"No.\" },\r\n      { label: \"Staff Code\" },\r\n      { label: \"Staff Name\" },\r\n    ],\r\n    ExchangeStaffList: [],\r\n    isNewItemUsage: false,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getTreatmentUsageList(this.props.TreatmentHistoryId);\r\n  };\r\n\r\n  getTreatmentUsageList = data => {\r\n    let { TreatmentUsageList } = this.state;\r\n    this.setState({\r\n      TreatmentHistoryId: data,\r\n    });\r\n    if (data > 0) {\r\n      this.props.getCommonApi(`stockusage/${data}/`).then(async res => {\r\n        await this.setState({ treatmentUsageList: [] });\r\n        let { data, status } = res;\r\n\r\n        if (status === 200 && res.error !== true) {\r\n          if (data) {\r\n            await this.setState({\r\n              TreatmentHistoryId: data.id,\r\n              treatment_code: data.treatment_code,\r\n              course: data.course,\r\n              remarks: data.remarks,\r\n            });\r\n\r\n            let ExchangeStaffList = data.staffs;\r\n            for (let datalist of data.usage) {\r\n              let item_code = datalist.item_code;\r\n              let link_code = datalist.link_code;\r\n              let item_desc = datalist.item_desc;\r\n              let qty = datalist.qty;\r\n              let uom = datalist.uom;\r\n              let stock_id = datalist.id;\r\n              let Treatmentid = data.id;\r\n              TreatmentUsageList.push({\r\n                item_code,\r\n                link_code,\r\n                item_desc,\r\n                qty,\r\n                uom,\r\n                stock_id,\r\n                Treatmentid,\r\n              });\r\n            }\r\n            await this.setState({ TreatmentUsageList, ExchangeStaffList });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n  toggle = tab => {\r\n    if (tab == \"3\") {\r\n      this.setState({ EditableRemark: true });\r\n    } else if (tab == \"1\") {\r\n      let { TreatmentUsageList } = this.state;\r\n      let filterEditableRemark = TreatmentUsageList.find(\r\n        account => account.Treatmentid === 0\r\n      );\r\n      if (filterEditableRemark) {\r\n        this.setState({ EditableRemark: true });\r\n      } else {\r\n        this.setState({ EditableRemark: false });\r\n      }\r\n    } else {\r\n      this.setState({ EditableRemark: false });\r\n    }\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n\r\n  itemUsageUpdatePopup = () => {\r\n    let { TreatmentUsageList } = this.state;\r\n    if (TreatmentUsageList && TreatmentUsageList.length > 0) {\r\n      this.setState(prevState => ({\r\n        isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup,\r\n      }));\r\n    } else {\r\n      this.setState(prevState => ({\r\n        isNewItemUsage: !prevState.isNewItemUsage,\r\n      }));\r\n    }\r\n  };\r\n  handleCloseItemUsagePopup = () => {\r\n    this.setState(prevState => ({\r\n      isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup,\r\n    }));\r\n  };\r\n\r\n  remarkHandle = ({ target: { name, value } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n  includeNewItems = async data => {\r\n    await this.setState({\r\n      isNewItemUsage: false,\r\n      isItemUsageUpdatePopup: false,\r\n      EditableRemark: true,\r\n    });\r\n\r\n    let { TreatmentUsageList } = this.state;\r\n    for (let value of data) {\r\n      TreatmentUsageList.push({\r\n        item_code: value.item_code,\r\n        link_code: value.link_code,\r\n        item_desc: value.ItemDesc,\r\n        qty: parseInt(value.qty),\r\n        uom: value.uom,\r\n        stock_id: value.stock_id,\r\n        Treatmentid: 0,\r\n      });\r\n    }\r\n    await this.setState({ TreatmentUsageList });\r\n  };\r\n  handleSave = () => {\r\n    let { TreatmentUsageList, TreatmentHistoryId, remarks } = this.state;\r\n    let data = [];\r\n    for (let final of TreatmentUsageList) {\r\n      if (final.Treatmentid == 0) {\r\n        data.push({\r\n          item_code: final.item_code,\r\n          link_code: final.link_code,\r\n          item_desc: final.item_desc,\r\n          qty: final.qty,\r\n          uom: final.uom,\r\n          stock_id: final.stock_id,\r\n        });\r\n      }\r\n    }\r\n    if (data.length > 0) {\r\n      this.props\r\n        .commonCreateApi(\r\n          `stockusage/?treat_id=${TreatmentHistoryId}&treat_remarks=${remarks}`,\r\n          data\r\n        )\r\n        .then(async res => {\r\n          if (res.status === 201) {\r\n            this.setState({ TreatmentUsageList: [], TreatmentHistoryId: 0 });\r\n            this.props.treatmentUsagePopupclose();\r\n          }\r\n        });\r\n    } else {\r\n      Toast({ type: \"error\", message: \"Please Add New Product and then try!\" });\r\n    }\r\n  };\r\n  deleteSelectedItem = async item => {\r\n    if (item.Treatmentid === 0) {\r\n      await this.setState(data => ({\r\n        TreatmentUsageList: data.TreatmentUsageList.filter(\r\n          x => x.stock_id != item.stock_id\r\n        ),\r\n      }));\r\n      let { TreatmentUsageList } = this.state;\r\n      let filterEditableRemark = TreatmentUsageList.find(\r\n        account => account.Treatmentid === 0\r\n      );\r\n      if (filterEditableRemark) {\r\n        this.setState({\r\n          EditableRemark: true,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          EditableRemark: false,\r\n        });\r\n      }\r\n    } else {\r\n      let { TreatmentHistoryId } = this.state;\r\n      this.props\r\n        .commonPatchApi(\r\n          `stockusage/${item.stock_id}/?treat_id=${TreatmentHistoryId}`\r\n        )\r\n        .then(async res => {\r\n          if (res.status === 200) {\r\n            await this.setState(data => ({\r\n              TreatmentUsageList: data.TreatmentUsageList.filter(\r\n                x => x.stock_id != item.stock_id\r\n              ),\r\n            }));\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      TreatmentUsageList,\r\n      TreatmentUsageListHeader,\r\n      meta,\r\n      isItemUsageUpdatePopup,\r\n      ExchangeTreatmentList,\r\n      ExchangeTreatmentListHeader,\r\n      ExchangeMeta,\r\n      TreatmentHistoryId,\r\n      treatment_code,\r\n      course,\r\n      remarks,\r\n      EditableRemark,\r\n      ExchangeStaffList,\r\n      ExchangeStaffListHeader,\r\n      isNewItemUsage,\r\n    } = this.state;\r\n    return (\r\n      <NormalModal\r\n        className={\"select-category\"}\r\n        style={{ minWidth: \"75%\" }}\r\n        modal={this.props.isTreatmentUsagePopup}\r\n        handleModal={this.props.treatmentUsagePopupclose}\r\n      >\r\n        <img\r\n          onClick={this.props.treatmentUsagePopupclose}\r\n          className=\"close\"\r\n          src={closeIcon}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"d-flex h4 justify-content-center p-1\">\r\n          Treatment Usage\r\n        </div>\r\n        <div className=\"customer-list container\">\r\n          <div className=\"d-flex justify-content-left\">\r\n            <div className=\"col-2\">\r\n              <div className=\"text-left\">{`Treatment Code`}</div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <div className=\"text-left fs-15 fw-500\">{treatment_code}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-left\">\r\n            <div className=\"col-2\">\r\n              <div className=\"text-left\">{`Treatment Name`}</div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <div className=\"text-left fs-15 fw-500\">{course}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-left\">\r\n            <div className=\"col-2\">\r\n              <div className=\"text-left\">Treatment Remarks</div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <div className=\"text-left fs-15 fw-500\">\r\n                {EditableRemark ? (\r\n                  <NormalTextarea\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.remarkHandle}\r\n                  />\r\n                ) : (\r\n                  <NormalTextarea\r\n                    value={remarks}\r\n                    name=\"remarks\"\r\n                    onChange={this.remarkHandle}\r\n                    disabled\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"beautesoft-navlink customer-detail mt-3\">\r\n            <div className=\"filled-tabs\">\r\n              <div className=\"tabs-block\">\r\n                <Nav tabs>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"3\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"3\");\r\n                      }}\r\n                    >\r\n                      Detail\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"1\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"1\");\r\n                      }}\r\n                    >\r\n                      Stock Usage\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"4\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"4\");\r\n                      }}\r\n                    >\r\n                      Staff\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeTab === \"2\",\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggle(\"2\");\r\n                      }}\r\n                    >\r\n                      Exchange Treatment\r\n                    </NavLink>\r\n                  </NavItem>\r\n                </Nav>\r\n              </div>\r\n              <TabContent activeTab={this.state.activeTab}>\r\n                <TabPane tabId=\"1\">\r\n                  {this.state.activeTab === \"1\" ? (\r\n                    <div>\r\n                      <NormalButton\r\n                        mainbg={true}\r\n                        className=\"col-2 fs-15 mt-3\"\r\n                        label=\"Add Item Usage\"\r\n                        onClick={this.itemUsageUpdatePopup}\r\n                      />\r\n\r\n                      <div className=\"table-container table-responsive mt-3\">\r\n                        <TableWrapper headerDetails={TreatmentUsageListHeader}>\r\n                          {TreatmentUsageList &&\r\n                          TreatmentUsageList.length > 0 ? (\r\n                            TreatmentUsageList.map((item, index) => {\r\n                              return (\r\n                                <tr className=\"w-100\" key={index}>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {index + 1}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.item_code}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.link_code}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.item_desc}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.qty}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                                      {item.uom}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td>\r\n                                    <div\r\n                                      className=\"d-flex align-items-center justify-content-center\"\r\n                                      onClick={() =>\r\n                                        this.deleteSelectedItem(item)\r\n                                      }\r\n                                    >\r\n                                      <img\r\n                                        width=\"25\"\r\n                                        height=\"25\"\r\n                                        className=\"ml-3\"\r\n                                        src={closeIcon}\r\n                                        alt=\"\"\r\n                                      />\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })\r\n                          ) : (\r\n                            <tr className=\"w-100\">\r\n                              <td>\r\n                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                  No data available\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </TableWrapper>\r\n                      </div>\r\n                      <div className=\"row text-center justify-content-end w-100 mt-3\">\r\n                        <NormalButton\r\n                          buttonClass={\"col-2\"}\r\n                          mainbg={true}\r\n                          className=\"col-12 ml-4 fs-15 \"\r\n                          label=\"Save\"\r\n                          onClick={this.handleSave}\r\n                        />\r\n                        <NormalButton\r\n                          buttonClass={\"col-2\"}\r\n                          mainbg={true}\r\n                          className=\"col-12 ml-4 fs-15 \"\r\n                          label=\"Cancel\"\r\n                          onClick={this.props.treatmentUsagePopupclose}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n                  <div className=\"col-12 d-flex justify-center\">\r\n                    {isNewItemUsage ? (\r\n                      <>\r\n                        <NormalModal\r\n                          style={{ minWidth: \"280px\" }}\r\n                          modal={isNewItemUsage}\r\n                          handleModal={this.toggle}\r\n                        >\r\n                          <div className=\"row new-cart issued-staff p-3\">\r\n                            <div className=\"col-12\">\r\n                              <div>\r\n                                <p>\r\n                                  Do you want to add default product for this\r\n                                  treatment ?\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-12 p-3\">\r\n                              <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      this.setState({ isNewItemUsage: false })\r\n                                    }\r\n                                    className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                                  >\r\n                                    Yes\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      this.setState(prevState => ({\r\n                                        isNewItemUsage: !prevState.isNewItemUsage,\r\n                                        isItemUsageUpdatePopup: !prevState.isItemUsageUpdatePopup,\r\n                                      }))\r\n                                    }\r\n                                    className={`btn outline-btn mx-2 fs-14  text-capitalize`}\r\n                                  >\r\n                                    No\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </NormalModal>\r\n                      </>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </TabPane>\r\n                <TabPane tabId=\"2\">\r\n                  {this.state.activeTab === \"2\" ? (\r\n                    <div className=\"table-container table-responsive mt-3\">\r\n                      <TableWrapper\r\n                        headerDetails={ExchangeTreatmentListHeader}\r\n                        //queryHandler={this.handlePagination}\r\n                        pageMeta={ExchangeMeta}\r\n                      >\r\n                        {ExchangeTreatmentList &&\r\n                        ExchangeTreatmentList.length > 0 ? (\r\n                          ExchangeTreatmentList.map((item, index) => {\r\n                            return (\r\n                              <tr\r\n                                className=\"w-100\"\r\n                                onClick={() => this.handleSelectTreatment(item)}\r\n                                key={index}\r\n                              >\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.Item_Class}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_desc}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.add_duration}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_price}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_price}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.item_price}\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        ) : (\r\n                          <tr className=\"w-100\">\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                No data available\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  ) : null}\r\n                </TabPane>\r\n                <TabPane tabId=\"3\">\r\n                  {this.state.activeTab === \"3\" ? (\r\n                    <TreatmentUsageDetail\r\n                      TreatmentHistoryId={this.props.TreatmentHistoryId}\r\n                      remarks={remarks}\r\n                      treatment_code={treatment_code}\r\n                    />\r\n                  ) : null}\r\n                </TabPane>\r\n                <TabPane tabId=\"4\">\r\n                  {this.state.activeTab === \"4\" ? (\r\n                    <div className=\"table-container table-responsive mt-3\">\r\n                      <TableWrapper\r\n                        headerDetails={ExchangeStaffListHeader}\r\n                        //queryHandler={this.handlePagination}\r\n                        pageMeta={ExchangeMeta}\r\n                      >\r\n                        {ExchangeStaffList && ExchangeStaffList.length > 0 ? (\r\n                          ExchangeStaffList.map((item, index) => {\r\n                            return (\r\n                              <tr className=\"w-100\" key={index}>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.no}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.staff_code}\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div className=\"d-flex align-items-center justify-content-center\">\r\n                                    {item.helper_name}\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        ) : (\r\n                          <tr className=\"w-100\">\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center justify-content-center\">\r\n                                No data available\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </TableWrapper>\r\n                    </div>\r\n                  ) : null}\r\n                </TabPane>\r\n              </TabContent>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {isItemUsageUpdatePopup ? (\r\n          <ItemUsageUpdatePopup\r\n            isItemUsageUpdatePopup={isItemUsageUpdatePopup}\r\n            itemUsageUpdatePopup={this.handleCloseItemUsagePopup}\r\n            newItemlist={StockItemUsageList =>\r\n              this.includeNewItems(StockItemUsageList)\r\n            }\r\n          />\r\n        ) : null}\r\n      </NormalModal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // filter: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateForm,\r\n      getCommonApi,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const TreatmentUsagePopup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TreatmentUsagePopupClass);\r\n"]},"metadata":{},"sourceType":"module"}