{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/utils.timeZone.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _date = _interopRequireDefault(require(\"../../core/utils/date\"));\n\nvar _utils = _interopRequireDefault(require(\"./timezones/utils.timezones_data\"));\n\nvar _dateAdapter = _interopRequireDefault(require(\"./dateAdapter\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) {\n    return;\n  }\n\n  if (\"string\" === typeof o) {\n    return _arrayLikeToArray(o, minLen);\n  }\n\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n\n  if (\"Object\" === n && o.constructor) {\n    n = o.constructor.name;\n  }\n\n  if (\"Map\" === n || \"Set\" === n) {\n    return Array.from(o);\n  }\n\n  if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {\n    return _arrayLikeToArray(o, minLen);\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (null == len || len > arr.length) {\n    len = arr.length;\n  }\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (\"undefined\" === typeof Symbol || !(Symbol.iterator in Object(arr))) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _e = void 0;\n\n  try {\n    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) {\n        break;\n      }\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && null != _i.return) {\n        _i.return();\n      }\n    } finally {\n      if (_d) {\n        throw _e;\n      }\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) {\n    return arr;\n  }\n}\n\nvar toMs = _date.default.dateToMilliseconds;\nvar MINUTES_IN_HOUR = 60;\n\nvar createUTCDateWithLocalOffset = function (date) {\n  if (!date) {\n    return null;\n  }\n\n  return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()));\n};\n\nvar createDateFromUTCWithLocalOffset = function (date) {\n  var result = (0, _dateAdapter.default)(date);\n  var timezoneOffsetBeforeInMin = result.getTimezoneOffset();\n  result.addTime(result.getTimezoneOffset(\"minute\"));\n  result.subtractMinutes(timezoneOffsetBeforeInMin - result.getTimezoneOffset());\n  return result.source;\n};\n\nvar getTimeZones = function () {\n  var date = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date();\n  var dateInUTC = createUTCDate(date);\n  return _utils.default.getDisplayedTimeZones(dateInUTC.getTime());\n};\n\nvar createUTCDate = function (date) {\n  return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes()));\n};\n\nvar getTimezoneOffsetChangeInMinutes = function (startDate, endDate, updatedStartDate, updatedEndDate) {\n  return getDaylightOffset(updatedStartDate, updatedEndDate) - getDaylightOffset(startDate, endDate);\n};\n\nvar getTimezoneOffsetChangeInMs = function (startDate, endDate, updatedStartDate, updatedEndDate) {\n  return getTimezoneOffsetChangeInMinutes(startDate, endDate, updatedStartDate, updatedEndDate) * toMs(\"minute\");\n};\n\nvar getDaylightOffset = function (startDate, endDate) {\n  return new Date(startDate).getTimezoneOffset() - new Date(endDate).getTimezoneOffset();\n};\n\nvar getDaylightOffsetInMs = function (startDate, endDate) {\n  return getDaylightOffset(startDate, endDate) * toMs(\"minute\");\n};\n\nvar calculateTimezoneByValue = function (timezone) {\n  var date = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new Date();\n\n  if (\"string\" === typeof timezone) {\n    var dateUtc = createUTCDate(date);\n    return _utils.default.getTimeZoneOffsetById(timezone, dateUtc.getTime());\n  }\n\n  return timezone;\n};\n\nvar _getDaylightOffsetByTimezone = function (startDate, endDate, timeZone) {\n  return calculateTimezoneByValue(timeZone, startDate) - calculateTimezoneByValue(timeZone, endDate);\n};\n\nvar getCorrectedDateByDaylightOffsets = function (convertedOriginalStartDate, convertedDate, date, timeZone, startDateTimezone) {\n  var daylightOffsetByCommonTimezone = _getDaylightOffsetByTimezone(convertedOriginalStartDate, convertedDate, timeZone);\n\n  var daylightOffsetByAppointmentTimezone = _getDaylightOffsetByTimezone(convertedOriginalStartDate, convertedDate, startDateTimezone);\n\n  var diff = daylightOffsetByCommonTimezone - daylightOffsetByAppointmentTimezone;\n  return new Date(date.getTime() - diff * toMs(\"hour\"));\n};\n\nvar correctRecurrenceExceptionByTimezone = function (exception, exceptionByStartDate, timeZone, startDateTimeZone) {\n  var isBackConversion = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : false;\n  var timezoneOffset = (exception.getTimezoneOffset() - exceptionByStartDate.getTimezoneOffset()) / MINUTES_IN_HOUR;\n\n  if (startDateTimeZone) {\n    timezoneOffset = _getDaylightOffsetByTimezone(exceptionByStartDate, exception, startDateTimeZone);\n  } else {\n    if (timeZone) {\n      timezoneOffset = _getDaylightOffsetByTimezone(exceptionByStartDate, exception, timeZone);\n    }\n  }\n\n  return new Date(exception.getTime() + (isBackConversion ? -1 : 1) * timezoneOffset * toMs(\"hour\"));\n};\n\nvar isTimezoneChangeInDate = function (date) {\n  var startDayDate = new Date(new Date(date).setHours(0, 0, 0, 0));\n  var endDayDate = new Date(new Date(date).setHours(23, 59, 59, 0));\n  return startDayDate.getTimezoneOffset() - endDayDate.getTimezoneOffset() !== 0;\n};\n\nvar getDateWithoutTimezoneChange = function (date) {\n  var clonedDate = new Date(date);\n\n  if (isTimezoneChangeInDate(clonedDate)) {\n    var result = new Date(clonedDate);\n    return new Date(result.setDate(result.getDate() + 1));\n  }\n\n  return clonedDate;\n};\n\nvar isSameAppointmentDates = function (startDate, endDate) {\n  endDate = new Date(endDate.getTime() - 1);\n  return _date.default.sameDate(startDate, endDate);\n};\n\nvar getClientTimezoneOffset = function () {\n  var date = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date();\n  return 6e4 * date.getTimezoneOffset();\n};\n\nvar isEqualLocalTimeZone = function (timeZoneName) {\n  if (Intl) {\n    var localTimeZoneName = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n    if (localTimeZoneName) {\n      return localTimeZoneName === timeZoneName;\n    }\n  }\n\n  return isEqualLocalTimeZoneByNativeDate(timeZoneName);\n};\n\nvar hasDSTInLocalTimeZone = function () {\n  var _getExtremeDates = getExtremeDates(),\n      _getExtremeDates2 = _slicedToArray(_getExtremeDates, 2),\n      startDate = _getExtremeDates2[0],\n      endDate = _getExtremeDates2[1];\n\n  return startDate.getTimezoneOffset() !== endDate.getTimezoneOffset();\n};\n\nvar isEqualLocalTimeZoneByNativeDate = function (timeZoneName) {\n  var _getExtremeDates3 = getExtremeDates(),\n      _getExtremeDates4 = _slicedToArray(_getExtremeDates3, 2),\n      startDate = _getExtremeDates4[0],\n      endDate = _getExtremeDates4[1];\n\n  var startDateLocalOffset = -startDate.getTimezoneOffset() / 60;\n  var endDateLocalOffset = -endDate.getTimezoneOffset() / 60;\n  var startDateOffset = calculateTimezoneByValue(timeZoneName, startDate);\n  var endDateOffset = calculateTimezoneByValue(timeZoneName, endDate);\n\n  if (startDateLocalOffset === startDateOffset && endDateLocalOffset === endDateOffset) {\n    return true;\n  }\n\n  return false;\n};\n\nvar getExtremeDates = function () {\n  var nowDate = new Date(Date.now());\n  var startDate = new Date();\n  var endDate = new Date();\n  startDate.setFullYear(nowDate.getFullYear(), 0, 1);\n  endDate.setFullYear(nowDate.getFullYear(), 6, 1);\n  return [startDate, endDate];\n};\n\nvar utils = {\n  getDaylightOffset: getDaylightOffset,\n  getDaylightOffsetInMs: getDaylightOffsetInMs,\n  getTimezoneOffsetChangeInMinutes: getTimezoneOffsetChangeInMinutes,\n  getTimezoneOffsetChangeInMs: getTimezoneOffsetChangeInMs,\n  calculateTimezoneByValue: calculateTimezoneByValue,\n  getCorrectedDateByDaylightOffsets: getCorrectedDateByDaylightOffsets,\n  isSameAppointmentDates: isSameAppointmentDates,\n  correctRecurrenceExceptionByTimezone: correctRecurrenceExceptionByTimezone,\n  getClientTimezoneOffset: getClientTimezoneOffset,\n  createUTCDateWithLocalOffset: createUTCDateWithLocalOffset,\n  createDateFromUTCWithLocalOffset: createDateFromUTCWithLocalOffset,\n  createUTCDate: createUTCDate,\n  isTimezoneChangeInDate: isTimezoneChangeInDate,\n  getDateWithoutTimezoneChange: getDateWithoutTimezoneChange,\n  hasDSTInLocalTimeZone: hasDSTInLocalTimeZone,\n  isEqualLocalTimeZone: isEqualLocalTimeZone,\n  getTimeZones: getTimeZones\n};\nvar _default = utils;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/newfrontend/webfe/node_modules/devextreme/ui/scheduler/utils.timeZone.js"],"names":["exports","default","_date","_interopRequireDefault","require","_utils","_dateAdapter","obj","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","value","err","return","isArray","toMs","dateToMilliseconds","MINUTES_IN_HOUR","createUTCDateWithLocalOffset","date","Date","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","createDateFromUTCWithLocalOffset","result","timezoneOffsetBeforeInMin","getTimezoneOffset","addTime","subtractMinutes","source","getTimeZones","arguments","dateInUTC","createUTCDate","getDisplayedTimeZones","getTime","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getTimezoneOffsetChangeInMinutes","startDate","endDate","updatedStartDate","updatedEndDate","getDaylightOffset","getTimezoneOffsetChangeInMs","getDaylightOffsetInMs","calculateTimezoneByValue","timezone","dateUtc","getTimeZoneOffsetById","_getDaylightOffsetByTimezone","timeZone","getCorrectedDateByDaylightOffsets","convertedOriginalStartDate","convertedDate","startDateTimezone","daylightOffsetByCommonTimezone","daylightOffsetByAppointmentTimezone","diff","correctRecurrenceExceptionByTimezone","exception","exceptionByStartDate","startDateTimeZone","isBackConversion","timezoneOffset","isTimezoneChangeInDate","startDayDate","setHours","endDayDate","getDateWithoutTimezoneChange","clonedDate","setDate","isSameAppointmentDates","sameDate","getClientTimezoneOffset","isEqualLocalTimeZone","timeZoneName","Intl","localTimeZoneName","DateTimeFormat","resolvedOptions","isEqualLocalTimeZoneByNativeDate","hasDSTInLocalTimeZone","_getExtremeDates","getExtremeDates","_getExtremeDates2","_getExtremeDates3","_getExtremeDates4","startDateLocalOffset","endDateLocalOffset","startDateOffset","endDateOffset","nowDate","now","setFullYear","utils","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/utils.timeZone.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _date = _interopRequireDefault(require(\"../../core/utils/date\"));\r\nvar _utils = _interopRequireDefault(require(\"./timezones/utils.timezones_data\"));\r\nvar _dateAdapter = _interopRequireDefault(require(\"./dateAdapter\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest()\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n    if (!o) {\r\n        return\r\n    }\r\n    if (\"string\" === typeof o) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n    var n = Object.prototype.toString.call(o).slice(8, -1);\r\n    if (\"Object\" === n && o.constructor) {\r\n        n = o.constructor.name\r\n    }\r\n    if (\"Map\" === n || \"Set\" === n) {\r\n        return Array.from(o)\r\n    }\r\n    if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n    if (null == len || len > arr.length) {\r\n        len = arr.length\r\n    }\r\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n        arr2[i] = arr[i]\r\n    }\r\n    return arr2\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n    if (\"undefined\" === typeof Symbol || !(Symbol.iterator in Object(arr))) {\r\n        return\r\n    }\r\n    var _arr = [];\r\n    var _n = true;\r\n    var _d = false;\r\n    var _e = void 0;\r\n    try {\r\n        for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\r\n            _arr.push(_s.value);\r\n            if (i && _arr.length === i) {\r\n                break\r\n            }\r\n        }\r\n    } catch (err) {\r\n        _d = true;\r\n        _e = err\r\n    } finally {\r\n        try {\r\n            if (!_n && null != _i.return) {\r\n                _i.return()\r\n            }\r\n        } finally {\r\n            if (_d) {\r\n                throw _e\r\n            }\r\n        }\r\n    }\r\n    return _arr\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return arr\r\n    }\r\n}\r\nvar toMs = _date.default.dateToMilliseconds;\r\nvar MINUTES_IN_HOUR = 60;\r\nvar createUTCDateWithLocalOffset = function(date) {\r\n    if (!date) {\r\n        return null\r\n    }\r\n    return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()))\r\n};\r\nvar createDateFromUTCWithLocalOffset = function(date) {\r\n    var result = (0, _dateAdapter.default)(date);\r\n    var timezoneOffsetBeforeInMin = result.getTimezoneOffset();\r\n    result.addTime(result.getTimezoneOffset(\"minute\"));\r\n    result.subtractMinutes(timezoneOffsetBeforeInMin - result.getTimezoneOffset());\r\n    return result.source\r\n};\r\nvar getTimeZones = function() {\r\n    var date = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date;\r\n    var dateInUTC = createUTCDate(date);\r\n    return _utils.default.getDisplayedTimeZones(dateInUTC.getTime())\r\n};\r\nvar createUTCDate = function(date) {\r\n    return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes()))\r\n};\r\nvar getTimezoneOffsetChangeInMinutes = function(startDate, endDate, updatedStartDate, updatedEndDate) {\r\n    return getDaylightOffset(updatedStartDate, updatedEndDate) - getDaylightOffset(startDate, endDate)\r\n};\r\nvar getTimezoneOffsetChangeInMs = function(startDate, endDate, updatedStartDate, updatedEndDate) {\r\n    return getTimezoneOffsetChangeInMinutes(startDate, endDate, updatedStartDate, updatedEndDate) * toMs(\"minute\")\r\n};\r\nvar getDaylightOffset = function(startDate, endDate) {\r\n    return new Date(startDate).getTimezoneOffset() - new Date(endDate).getTimezoneOffset()\r\n};\r\nvar getDaylightOffsetInMs = function(startDate, endDate) {\r\n    return getDaylightOffset(startDate, endDate) * toMs(\"minute\")\r\n};\r\nvar calculateTimezoneByValue = function(timezone) {\r\n    var date = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new Date;\r\n    if (\"string\" === typeof timezone) {\r\n        var dateUtc = createUTCDate(date);\r\n        return _utils.default.getTimeZoneOffsetById(timezone, dateUtc.getTime())\r\n    }\r\n    return timezone\r\n};\r\nvar _getDaylightOffsetByTimezone = function(startDate, endDate, timeZone) {\r\n    return calculateTimezoneByValue(timeZone, startDate) - calculateTimezoneByValue(timeZone, endDate)\r\n};\r\nvar getCorrectedDateByDaylightOffsets = function(convertedOriginalStartDate, convertedDate, date, timeZone, startDateTimezone) {\r\n    var daylightOffsetByCommonTimezone = _getDaylightOffsetByTimezone(convertedOriginalStartDate, convertedDate, timeZone);\r\n    var daylightOffsetByAppointmentTimezone = _getDaylightOffsetByTimezone(convertedOriginalStartDate, convertedDate, startDateTimezone);\r\n    var diff = daylightOffsetByCommonTimezone - daylightOffsetByAppointmentTimezone;\r\n    return new Date(date.getTime() - diff * toMs(\"hour\"))\r\n};\r\nvar correctRecurrenceExceptionByTimezone = function(exception, exceptionByStartDate, timeZone, startDateTimeZone) {\r\n    var isBackConversion = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : false;\r\n    var timezoneOffset = (exception.getTimezoneOffset() - exceptionByStartDate.getTimezoneOffset()) / MINUTES_IN_HOUR;\r\n    if (startDateTimeZone) {\r\n        timezoneOffset = _getDaylightOffsetByTimezone(exceptionByStartDate, exception, startDateTimeZone)\r\n    } else {\r\n        if (timeZone) {\r\n            timezoneOffset = _getDaylightOffsetByTimezone(exceptionByStartDate, exception, timeZone)\r\n        }\r\n    }\r\n    return new Date(exception.getTime() + (isBackConversion ? -1 : 1) * timezoneOffset * toMs(\"hour\"))\r\n};\r\nvar isTimezoneChangeInDate = function(date) {\r\n    var startDayDate = new Date(new Date(date).setHours(0, 0, 0, 0));\r\n    var endDayDate = new Date(new Date(date).setHours(23, 59, 59, 0));\r\n    return startDayDate.getTimezoneOffset() - endDayDate.getTimezoneOffset() !== 0\r\n};\r\nvar getDateWithoutTimezoneChange = function(date) {\r\n    var clonedDate = new Date(date);\r\n    if (isTimezoneChangeInDate(clonedDate)) {\r\n        var result = new Date(clonedDate);\r\n        return new Date(result.setDate(result.getDate() + 1))\r\n    }\r\n    return clonedDate\r\n};\r\nvar isSameAppointmentDates = function(startDate, endDate) {\r\n    endDate = new Date(endDate.getTime() - 1);\r\n    return _date.default.sameDate(startDate, endDate)\r\n};\r\nvar getClientTimezoneOffset = function() {\r\n    var date = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date;\r\n    return 6e4 * date.getTimezoneOffset()\r\n};\r\nvar isEqualLocalTimeZone = function(timeZoneName) {\r\n    if (Intl) {\r\n        var localTimeZoneName = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n        if (localTimeZoneName) {\r\n            return localTimeZoneName === timeZoneName\r\n        }\r\n    }\r\n    return isEqualLocalTimeZoneByNativeDate(timeZoneName)\r\n};\r\nvar hasDSTInLocalTimeZone = function() {\r\n    var _getExtremeDates = getExtremeDates(),\r\n        _getExtremeDates2 = _slicedToArray(_getExtremeDates, 2),\r\n        startDate = _getExtremeDates2[0],\r\n        endDate = _getExtremeDates2[1];\r\n    return startDate.getTimezoneOffset() !== endDate.getTimezoneOffset()\r\n};\r\nvar isEqualLocalTimeZoneByNativeDate = function(timeZoneName) {\r\n    var _getExtremeDates3 = getExtremeDates(),\r\n        _getExtremeDates4 = _slicedToArray(_getExtremeDates3, 2),\r\n        startDate = _getExtremeDates4[0],\r\n        endDate = _getExtremeDates4[1];\r\n    var startDateLocalOffset = -startDate.getTimezoneOffset() / 60;\r\n    var endDateLocalOffset = -endDate.getTimezoneOffset() / 60;\r\n    var startDateOffset = calculateTimezoneByValue(timeZoneName, startDate);\r\n    var endDateOffset = calculateTimezoneByValue(timeZoneName, endDate);\r\n    if (startDateLocalOffset === startDateOffset && endDateLocalOffset === endDateOffset) {\r\n        return true\r\n    }\r\n    return false\r\n};\r\nvar getExtremeDates = function() {\r\n    var nowDate = new Date(Date.now());\r\n    var startDate = new Date;\r\n    var endDate = new Date;\r\n    startDate.setFullYear(nowDate.getFullYear(), 0, 1);\r\n    endDate.setFullYear(nowDate.getFullYear(), 6, 1);\r\n    return [startDate, endDate]\r\n};\r\nvar utils = {\r\n    getDaylightOffset: getDaylightOffset,\r\n    getDaylightOffsetInMs: getDaylightOffsetInMs,\r\n    getTimezoneOffsetChangeInMinutes: getTimezoneOffsetChangeInMinutes,\r\n    getTimezoneOffsetChangeInMs: getTimezoneOffsetChangeInMs,\r\n    calculateTimezoneByValue: calculateTimezoneByValue,\r\n    getCorrectedDateByDaylightOffsets: getCorrectedDateByDaylightOffsets,\r\n    isSameAppointmentDates: isSameAppointmentDates,\r\n    correctRecurrenceExceptionByTimezone: correctRecurrenceExceptionByTimezone,\r\n    getClientTimezoneOffset: getClientTimezoneOffset,\r\n    createUTCDateWithLocalOffset: createUTCDateWithLocalOffset,\r\n    createDateFromUTCWithLocalOffset: createDateFromUTCWithLocalOffset,\r\n    createUTCDate: createUTCDate,\r\n    isTimezoneChangeInDate: isTimezoneChangeInDate,\r\n    getDateWithoutTimezoneChange: getDateWithoutTimezoneChange,\r\n    hasDSTInLocalTimeZone: hasDSTInLocalTimeZone,\r\n    isEqualLocalTimeZone: isEqualLocalTimeZone,\r\n    getTimeZones: getTimeZones\r\n};\r\nvar _default = utils;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}