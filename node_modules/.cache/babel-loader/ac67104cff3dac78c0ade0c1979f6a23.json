{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./style.scss\";// import { Appointments, TreatmentHistory, PurchaseHistory, PersonalDetails, Favourites } from './Details'\nimport classnames from\"classnames\";import{Nav,NavItem,NavLink,TabContent,TabPane}from\"reactstrap\";import{NormalInput,NormalButton,TableWrapper,NormalRadio,NormalModal}from\"component/common\";import{Button,Form,FormGroup,Label,Input,FormText}from\"reactstrap\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import closeIcon from\"assets/images/close.png\";import{withTranslation}from\"react-i18next\";import{PDFDownloadLink}from\"@react-pdf/renderer\";import Invoice from\"component/Admin/Report/Account/Invoice\";import{Toast}from\"service/toast\";export var CreditNoteClass=/*#__PURE__*/function(_Component){_inherits(CreditNoteClass,_Component);var _super=_createSuper(CreditNoteClass);function CreditNoteClass(){var _this;_classCallCheck(this,CreditNoteClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_defineProperty({activeTab:\"1\",isOpenTreatmentDone:false,isActiveTab:\"detail\",headerDetails:[{label:\"Credit #\",sortKey:false,width:\"100px\"},{label:\"Date\",width:\"82px\",divClass:\"justify-content-end text-right\"},// { label: 'Transaction #', sortKey: false, width: \"180px\" },\n// { label: 'Item', sortKey: false, width: \"185px\" },\n{label:\"Amount\",sortKey:false,width:\"100px\",divClass:\"justify-content-end text-right\"},{label:\"Balance\",sortKey:false,width:\"100px\",divClass:\"justify-content-end text-right\"},{label:\"Status\",sortKey:false,width:\"100px\"},{label:\"\",sortKey:false,width:\"52px\"}],accountList:[],showActive:false,accountHeader:{},show:\"active\",isOpenUpdate:false,editItem:{},formField:{new_balance:\"\",refund_amt:\"\"},isPrintPdfClick:false},\"accountHeader\",{});_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.getAccountData=function(api){var _this$state2=_this.state,show=_this$state2.show,accountHeader=_this$state2.accountHeader;_this.props.getCommonApi(\"creditnotelist/?cust_id=\".concat(_this.props.id).concat(api)).then(function(key){var data=key.data,header_data=key.header_data;var accountList=_this.state.accountList;accountList=data;accountHeader=header_data;_this.setState({accountList:accountList,accountHeader:accountHeader});});};_this.handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(type){var show;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:show=_this.state.show;show=type;_context.next=4;return _this.setState({show:show});case 4:if(type===\"all\"){_this.getAccountData(\"&is_all=1\");}else{_this.getAccountData(\"\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleOpenDetail=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var activeTab;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:activeTab=_this.state.activeTab;activeTab=\"detail\";_context2.next=4;return _this.setState({activeTab:activeTab});case 4:_this.getDetailList(data.id);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.getDetailList=function(id){_this.props.getCommonApi(\"treatmentacclist/\".concat(id)).then(function(key){var data=key.data,header_data=key.header_data;var _this$state3=_this.state,DetailList=_this$state3.DetailList,accountHeader=_this$state3.accountHeader;DetailList=data;accountHeader=header_data;_this.setState({DetailList:DetailList,accountHeader:accountHeader});});};_this.handleBack=function(){var activeTab=_this.state.activeTab;activeTab=\"\";_this.setState({activeTab:activeTab,DetailList:[]});_this.getAccountData();};_this.handleEdit=function(data){var _this$state4=_this.state,isOpenUpdate=_this$state4.isOpenUpdate,editItem=_this$state4.editItem;isOpenUpdate=true;editItem=data;_this.setState({isOpenUpdate:isOpenUpdate,editItem:editItem});};_this.handleChangeUpdate=function(_ref3){var _ref3$target=_ref3.target,value=_ref3$target.value,name=_ref3$target.name;var formField=_this.state.formField;formField[name]=value;_this.setState({formField:formField});};_this.handleUpdateCredit=function(){var _this$state5=_this.state,formField=_this$state5.formField,editItem=_this$state5.editItem;var payload={new_balance:Number(formField.new_balance),refund_amt:Number(formField.refund_amt)};if(String(formField.new_balance)!==\"\"){_this.props.commonPatchApi(\"creditnotelist/\".concat(editItem.id,\"/\"),payload).then(function(res){var show=_this.state.show;_this.handleCloseDialog();if(show===\"all\"){_this.getAccountData(\"&is_all=1\");}else{_this.getAccountData(\"\");}});}else{Toast({type:\"error\",message:\"New balance is not valid\"});}};_this.handleCloseDialog=function(){var _this$state6=_this.state,formField=_this$state6.formField,editItem=_this$state6.editItem,isOpenUpdate=_this$state6.isOpenUpdate;isOpenUpdate=false;editItem={};formField[\"new_balance\"]=\"\";formField[\"refund_amt\"]=\"\";_this.setState({editItem:editItem,isOpenUpdate:isOpenUpdate,formField:formField});};_this.handlePrintPdfFormat=function(url){_this.setState({isPrintPdfClick:false});var a=document.createElement(\"a\");a.setAttribute(\"download\",\"\".concat(new Date(),\".pdf\"));a.setAttribute(\"href\",url);a.click();window.open(url);};_this.handleEachLinePrint=function(item){var payload={credit_id:item};_this.props.commonCreateApi(\"reversal/creditprint/\",payload).then(function(key){console.log(key,\"print result\");var status=key.status,data=key.data;if(status==200){window.open(data);}});};return _this;}_createClass(CreditNoteClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAccountData(\"\");}},{key:\"render\",value:function render(){var _this2=this;var _this$state7=this.state,treatmentList=_this$state7.treatmentList,headerDetails=_this$state7.headerDetails,accountList=_this$state7.accountList,showActive=_this$state7.showActive,show=_this$state7.show,isOpenUpdate=_this$state7.isOpenUpdate,formField=_this$state7.formField,isPrintPdfClick=_this$state7.isPrintPdfClick,accountHeader=_this$state7.accountHeader;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"treatment-account credit-note row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-3 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{checked:show===\"active\",onChange:function onChange(){return _this2.handleChange(\"active\");},type:\"radio\",name:\"radio1\"}),\" \",t(\"Show Active Credit Notes Only\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{checked:show===\"all\",onChange:function onChange(){return _this2.handleChange(\"all\");},type:\"radio\",name:\"radio1\"}),\" \",t(\"Show All Credit Notes\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination// pageMeta={pageMeta}\n// isEmpty={accountList.length === 0 ? true:false}\n},accountList&&accountList.length>0?accountList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative status-type\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.credit_code)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.sa_date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.amount)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},item.balance)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-left\"},item.status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"\",mainbg:true,className:\"col-12 fs-15 mr-2\",label:\"Adjust\",outline:false,onClick:function onClick(){return _this2.handleEdit(item);}}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"\",mainbg:true,className:\"col-12 fs-15 ml-2\",label:\"Print\",outline:false,onClick:function onClick(){return _this2.handleEachLinePrint(item.id);}}))));}):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 d-flex action-bar text-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"print\"// mainbg={true}\n,className:\"col-12 fs-15 \",label:\"Print\"// outline={false}\n,onClick:function onClick(){_this2.setState({isPrintPdfClick:true});}}),isPrintPdfClick?/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(Invoice,{TableList:accountList,accountHeader:accountHeader,Flag:2,landscape:false})},function(_ref4){var blob=_ref4.blob,url=_ref4.url,loading=_ref4.loading,error=_ref4.error;return!loading&&url?_this2.handlePrintPdfFormat(url):null;}):null),/*#__PURE__*/React.createElement(NormalModal,{className:\"credit-note-update\",style:{minWidth:\"25%\"},modal:isOpenUpdate,handleModal:function handleModal(){}},/*#__PURE__*/React.createElement(\"img\",{onClick:this.handleCloseDialog,className:\"close\",src:closeIcon,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\" mt-2 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pl-0 mb-2 font-600 h5\"},t(\"Update Credit Note\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 d-flex mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"New Balance\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formField.new_balance,name:\"new_balance\",onChange:this.handleChangeUpdate,className:\"customer-name\",type:\"number\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 d-flex mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},t(\"Refund\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:formField.refund_amt,name:\"refund_amt\",onChange:this.handleChangeUpdate,className:\"customer-name\",type:\"number\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 d-flex action-bar justify-center\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"print\",mainbg:true,className:\"col-12 fs-15 mr-3\",label:\"Update\"// outline={false}\n,onClick:function onClick(){return _this2.handleUpdateCredit();}}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"print\",resetbg:true,className:\"col-12 fs-15 ml-3\",label:\"Cancel\"// outline={false}\n,onClick:function onClick(){return _this2.handleCloseDialog();}}))));}}]);return CreditNoteClass;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var CreditNote=withTranslation()(connect(null,mapDispatchToProps)(CreditNoteClass));","map":{"version":3,"sources":["F:/webfe/src/component/Admin/CustomerPlus/CustomerDetailsPlus/Accounts/creditNote.js"],"names":["React","Component","classnames","Nav","NavItem","NavLink","TabContent","TabPane","NormalInput","NormalButton","TableWrapper","NormalRadio","NormalModal","Button","Form","FormGroup","Label","Input","FormText","connect","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","closeIcon","withTranslation","PDFDownloadLink","Invoice","Toast","CreditNoteClass","state","activeTab","isOpenTreatmentDone","isActiveTab","headerDetails","label","sortKey","width","divClass","accountList","showActive","accountHeader","show","isOpenUpdate","editItem","formField","new_balance","refund_amt","isPrintPdfClick","toggle","tab","setState","getAccountData","api","props","id","then","key","data","header_data","handleChange","type","handleOpenDetail","getDetailList","DetailList","handleBack","handleEdit","handleChangeUpdate","target","value","name","handleUpdateCredit","payload","Number","String","res","handleCloseDialog","message","handlePrintPdfFormat","url","a","document","createElement","setAttribute","Date","click","window","open","handleEachLinePrint","item","credit_id","console","log","status","treatmentList","t","handlePagination","length","map","index","credit_code","sa_date","amount","balance","blob","loading","error","minWidth","mapDispatchToProps","dispatch","CreditNote"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\n// import { Appointments, TreatmentHistory, PurchaseHistory, PersonalDetails, Favourites } from './Details'\r\nimport classnames from \"classnames\";\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\r\nimport {\r\n  NormalInput,\r\n  NormalButton,\r\n  TableWrapper,\r\n  NormalRadio,\r\n  NormalModal,\r\n} from \"component/common\";\r\nimport { Button, Form, FormGroup, Label, Input, FormText } from \"reactstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  getCommonApi,\r\n  updateForm,\r\n  commonCreateApi,\r\n  commonDeleteApi,\r\n  commonPatchApi,\r\n} from \"redux/actions/common\";\r\nimport closeIcon from \"assets/images/close.png\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport Invoice from \"component/Admin/Report/Account/Invoice\";\r\nimport { Toast } from \"service/toast\";\r\n\r\nexport class CreditNoteClass extends Component {\r\n  state = {\r\n    activeTab: \"1\",\r\n    isOpenTreatmentDone: false,\r\n    isActiveTab: \"detail\",\r\n    headerDetails: [\r\n      { label: \"Credit #\", sortKey: false, width: \"100px\" },\r\n      {\r\n        label: \"Date\",\r\n        width: \"82px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      // { label: 'Transaction #', sortKey: false, width: \"180px\" },\r\n      // { label: 'Item', sortKey: false, width: \"185px\" },\r\n      {\r\n        label: \"Amount\",\r\n        sortKey: false,\r\n        width: \"100px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      {\r\n        label: \"Balance\",\r\n        sortKey: false,\r\n        width: \"100px\",\r\n        divClass: \"justify-content-end text-right\",\r\n      },\r\n      { label: \"Status\", sortKey: false, width: \"100px\" },\r\n      { label: \"\", sortKey: false, width: \"52px\" },\r\n    ],\r\n    accountList: [],\r\n    showActive: false,\r\n    accountHeader: {},\r\n    show: \"active\",\r\n    isOpenUpdate: false,\r\n    editItem: {},\r\n    formField: {\r\n      new_balance: \"\",\r\n      refund_amt: \"\",\r\n    },\r\n    isPrintPdfClick: false,\r\n    accountHeader: {},\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getAccountData(\"\");\r\n  }\r\n\r\n  getAccountData = api => {\r\n    let { show, accountHeader } = this.state;\r\n    this.props\r\n      .getCommonApi(`creditnotelist/?cust_id=${this.props.id}${api}`)\r\n      .then(key => {\r\n        let { data, header_data } = key;\r\n        let { accountList } = this.state;\r\n        accountList = data;\r\n        accountHeader = header_data;\r\n        this.setState({ accountList, accountHeader });\r\n      });\r\n  };\r\n\r\n  handleChange = async type => {\r\n    let { show } = this.state;\r\n    show = type;\r\n    await this.setState({\r\n      show,\r\n    });\r\n    if (type === \"all\") {\r\n      this.getAccountData(\"&is_all=1\");\r\n    } else {\r\n      this.getAccountData(\"\");\r\n    }\r\n  };\r\n\r\n  handleOpenDetail = async data => {\r\n    let { activeTab } = this.state;\r\n    activeTab = \"detail\";\r\n\r\n    await this.setState({\r\n      activeTab,\r\n    });\r\n    this.getDetailList(data.id);\r\n  };\r\n\r\n  getDetailList = id => {\r\n    this.props.getCommonApi(`treatmentacclist/${id}`).then(key => {\r\n      let { data, header_data } = key;\r\n      let { DetailList, accountHeader } = this.state;\r\n      DetailList = data;\r\n      accountHeader = header_data;\r\n      this.setState({ DetailList, accountHeader });\r\n    });\r\n  };\r\n\r\n  handleBack = () => {\r\n    let { activeTab } = this.state;\r\n    activeTab = \"\";\r\n    this.setState({\r\n      activeTab,\r\n      DetailList: [],\r\n    });\r\n    this.getAccountData();\r\n  };\r\n\r\n  handleEdit = data => {\r\n    let { isOpenUpdate, editItem } = this.state;\r\n    isOpenUpdate = true;\r\n    editItem = data;\r\n    this.setState({\r\n      isOpenUpdate,\r\n      editItem,\r\n    });\r\n  };\r\n\r\n  handleChangeUpdate = ({ target: { value, name } }) => {\r\n    let { formField } = this.state;\r\n    formField[name] = value;\r\n    this.setState({\r\n      formField,\r\n    });\r\n  };\r\n\r\n  handleUpdateCredit = () => {\r\n    let { formField, editItem } = this.state;\r\n    let payload = {\r\n      new_balance: Number(formField.new_balance),\r\n      refund_amt: Number(formField.refund_amt),\r\n    };\r\n    if (String(formField.new_balance) !== \"\") {\r\n      this.props\r\n        .commonPatchApi(`creditnotelist/${editItem.id}/`, payload)\r\n        .then(res => {\r\n          let { show } = this.state;\r\n          this.handleCloseDialog();\r\n          if (show === \"all\") {\r\n            this.getAccountData(\"&is_all=1\");\r\n          } else {\r\n            this.getAccountData(\"\");\r\n          }\r\n        });\r\n    } else {\r\n      Toast({ type: \"error\", message: \"New balance is not valid\" });\r\n    }\r\n  };\r\n\r\n  handleCloseDialog = () => {\r\n    let { formField, editItem, isOpenUpdate } = this.state;\r\n    isOpenUpdate = false;\r\n    editItem = {};\r\n    formField[\"new_balance\"] = \"\";\r\n    formField[\"refund_amt\"] = \"\";\r\n    this.setState({\r\n      editItem,\r\n      isOpenUpdate,\r\n      formField,\r\n    });\r\n  };\r\n  handlePrintPdfFormat = url => {\r\n    this.setState({\r\n      isPrintPdfClick: false,\r\n    });\r\n    var a = document.createElement(\"a\");\r\n    a.setAttribute(\"download\", `${new Date()}.pdf`);\r\n    a.setAttribute(\"href\", url);\r\n    a.click();\r\n    window.open(url);\r\n  };\r\n\r\n  handleEachLinePrint = item => {\r\n    let payload = {\r\n      credit_id: item,\r\n    };\r\n    this.props.commonCreateApi(`reversal/creditprint/`, payload).then(key => {\r\n      console.log(key, \"print result\");\r\n      let { status, data } = key;\r\n      if (status == 200) {\r\n        window.open(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      treatmentList,\r\n      headerDetails,\r\n      accountList,\r\n      showActive,\r\n      show,\r\n      isOpenUpdate,\r\n      formField,\r\n      isPrintPdfClick,\r\n      accountHeader,\r\n    } = this.state;\r\n    let { t } = this.props;\r\n    return (\r\n      <div className=\"treatment-account credit-note row\">\r\n        <div className=\"col-6 mt-3 mb-4\">\r\n          <div className=\"row m-0\">\r\n            {/* <NormalRadio \r\n            classNam=\"\" \r\n            value={showActive}\r\n            label={\"\"} \r\n            name=\"active\"\r\n            /> */}\r\n            <div className=\"col-12 mb-2\">\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input\r\n                    checked={show === \"active\"}\r\n                    onChange={() => this.handleChange(\"active\")}\r\n                    type=\"radio\"\r\n                    name=\"radio1\"\r\n                  />{\" \"}\r\n                  {t(\"Show Active Credit Notes Only\")}\r\n                </Label>\r\n              </FormGroup>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input\r\n                    checked={show === \"all\"}\r\n                    onChange={() => this.handleChange(\"all\")}\r\n                    type=\"radio\"\r\n                    name=\"radio1\"\r\n                  />{\" \"}\r\n                  {t(\"Show All Credit Notes\")}\r\n                </Label>\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12\">\r\n          <div className=\"table\">\r\n            <TableWrapper\r\n              headerDetails={headerDetails}\r\n              queryHandler={this.handlePagination}\r\n              // pageMeta={pageMeta}\r\n              // isEmpty={accountList.length === 0 ? true:false}\r\n            >\r\n              {accountList && accountList.length > 0\r\n                ? accountList.map((item, index) => {\r\n                    return (\r\n                      <tr key={index}>\r\n                        <td className=\"position-relative status-type\">\r\n                          <div className=\"text-left\">{item.credit_code}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{item.sa_date}</div>\r\n                        </td>\r\n                        {/* <td><div className=\"d-flex align-items-center justify-content-center\">{item.transaction}</div></td>\r\n                    <td><div className=\"d-flex align-items-center justify-content-center\">{}</div></td> */}\r\n                        <td>\r\n                          <div className=\"text-right\">{item.amount}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-right\">{item.balance}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"text-left\">{item.status}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex align-items-center justify-content-center\">\r\n                            <NormalButton\r\n                              buttonClass={\"\"}\r\n                              mainbg={true}\r\n                              className=\"col-12 fs-15 mr-2\"\r\n                              label=\"Adjust\"\r\n                              outline={false}\r\n                              onClick={() => this.handleEdit(item)}\r\n                            />\r\n                            <NormalButton\r\n                              buttonClass={\"\"}\r\n                              mainbg={true}\r\n                              className=\"col-12 fs-15 ml-2\"\r\n                              label=\"Print\"\r\n                              outline={false}\r\n                              onClick={() => this.handleEachLinePrint(item.id)}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                : null}\r\n            </TableWrapper>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 d-flex action-bar text-center\">\r\n          <NormalButton\r\n            buttonClass={\"print\"}\r\n            // mainbg={true}\r\n            className=\"col-12 fs-15 \"\r\n            label=\"Print\"\r\n            // outline={false}\r\n            onClick={() => {\r\n              this.setState({ isPrintPdfClick: true });\r\n            }}\r\n          />\r\n\r\n          {isPrintPdfClick ? (\r\n            <PDFDownloadLink\r\n              document={\r\n                <Invoice\r\n                  TableList={accountList}\r\n                  accountHeader={accountHeader}\r\n                  Flag={2}\r\n                  landscape={false}\r\n                />\r\n              }\r\n            >\r\n              {({ blob, url, loading, error }) =>\r\n                !loading && url ? this.handlePrintPdfFormat(url) : null\r\n              }\r\n            </PDFDownloadLink>\r\n          ) : null}\r\n        </div>\r\n\r\n        <NormalModal\r\n          className={\"credit-note-update\"}\r\n          style={{ minWidth: \"25%\" }}\r\n          modal={isOpenUpdate}\r\n          handleModal={() => {}}\r\n        >\r\n          <img\r\n            onClick={this.handleCloseDialog}\r\n            className=\"close\"\r\n            src={closeIcon}\r\n            alt=\"\"\r\n          />\r\n\r\n          <div className=\" mt-2 mb-2\">\r\n            <div className=\"col-12 pl-0 mb-2 font-600 h5\">\r\n              {t(\"Update Credit Note\")}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12 d-flex mb-4\">\r\n              <div className=\"w-100\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  {t(\"New Balance\")}\r\n                </label>\r\n              </div>\r\n              <div className=\"input-group\">\r\n                <NormalInput\r\n                  // placeholder=\"Enter here\"\r\n                  // options={siteList}\r\n                  value={formField.new_balance}\r\n                  name=\"new_balance\"\r\n                  onChange={this.handleChangeUpdate}\r\n                  className=\"customer-name\"\r\n                  type=\"number\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 d-flex mb-3\">\r\n              <div className=\"w-100\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                  {t(\"Refund\")}\r\n                </label>\r\n              </div>\r\n              <div className=\"input-group\">\r\n                <NormalInput\r\n                  // placeholder=\"Enter here\"\r\n                  // options={siteList}\r\n                  value={formField.refund_amt}\r\n                  name=\"refund_amt\"\r\n                  onChange={this.handleChangeUpdate}\r\n                  className=\"customer-name\"\r\n                  type=\"number\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-3 d-flex action-bar justify-center\">\r\n            <NormalButton\r\n              buttonClass={\"print\"}\r\n              mainbg={true}\r\n              className=\"col-12 fs-15 mr-3\"\r\n              label=\"Update\"\r\n              // outline={false}\r\n              onClick={() => this.handleUpdateCredit()}\r\n            />\r\n            <NormalButton\r\n              buttonClass={\"print\"}\r\n              resetbg={true}\r\n              className=\"col-12 fs-15 ml-3\"\r\n              label=\"Cancel\"\r\n              // outline={false}\r\n              onClick={() => this.handleCloseDialog()}\r\n            />\r\n          </div>\r\n        </NormalModal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCommonApi,\r\n      updateForm,\r\n      commonCreateApi,\r\n      commonPatchApi,\r\n      commonDeleteApi,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const CreditNote = withTranslation()(\r\n  connect(null, mapDispatchToProps)(CreditNoteClass)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}