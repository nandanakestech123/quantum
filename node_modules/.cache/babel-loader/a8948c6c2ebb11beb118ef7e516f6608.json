{"ast":null,"code":"var _jsxFileName = \"E:\\\\newfrontend\\\\webfe\\\\src\\\\component\\\\Admin\\\\Cart\\\\cart\\\\itemStatusPopup.js\";\nimport React, { Component } from \"react\";\nimport { NormalInput, NormalButton, NormalSelect } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\nimport \"./style.scss\";\nexport class itemStatusPopupClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data_list: [],\n      item_status_options: [],\n      focReasonList: [],\n      sourceList: []\n    };\n\n    this.getStatusList = () => {\n      let {\n        data_list\n      } = this.state;\n      let {\n        basicApptDetail\n      } = this.props;\n      this.props.getCommonApi(`cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_status=1`).then(async key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == \"200\") {\n          console.log(key, \"cartstatuspopuplist\");\n          data_list = data;\n          await this.setState({\n            data_list\n          });\n\n          if (this.state.data_list.length > 0) {\n            document.getElementById(this.state.data_list[0].id).classList.toggle(\"d-none\");\n          }\n        }\n      });\n    };\n\n    this.handleSubmit = () => {\n      let {\n        data_list,\n        sourceList\n      } = this.state;\n\n      for (let value of data_list) {\n        sourceList.push({\n          id: value.id,\n          itemstatus: value.itemstatus,\n          focreason: value.focreason\n        });\n      }\n\n      this.props.commonCreateApi(`cartpopup/`, sourceList).then(key => {\n        let {\n          status,\n          data\n        } = key;\n\n        if (status == 200) {\n          this.props.handleModal();\n        }\n      });\n    };\n\n    this.handleChange = (e, index) => {\n      let {\n        data_list\n      } = this.state;\n      let data = e.target.value;\n\n      if ([e.target.name] == \"itemstatus\" || [e.target.name] == \"focreason\") {\n        data_list[index][e.target.name] = Number(data);\n      } else {\n        data_list[index][e.target.name] = data;\n      }\n\n      this.setState({\n        data_list\n      });\n    };\n\n    this.handleAccordion = id => {\n      let elements = document.getElementsByClassName(\"accordion\");\n\n      for (let i = 0; i < elements.length; i++) {\n        elements[i].classList.add(\"d-none\");\n      }\n\n      document.getElementById(id).classList.toggle(\"d-none\");\n      console.log(elements);\n    };\n  }\n\n  componentDidMount() {\n    let {\n      item_status_options,\n      focReasonList\n    } = this.state;\n    this.props.getCommonApi(`focreason/`).then(key => {\n      let {\n        status,\n        data\n      } = key;\n\n      if (status === 200) {\n        for (let value of data) {\n          focReasonList.push({\n            value: Number(value.id),\n            label: value.foc_reason_ldesc\n          });\n        }\n\n        this.setState({\n          focReasonList\n        });\n      }\n    });\n    this.props.getCommonApi(`itemstatus/`).then(key => {\n      let {\n        status,\n        data\n      } = key;\n\n      if (status === 200) {\n        for (let value of data) {\n          item_status_options.push({\n            value: Number(value.id),\n            label: value.status_short_desc\n          });\n        }\n\n        this.setState({\n          item_status_options\n        });\n      }\n    });\n    this.getStatusList();\n  }\n\n  render() {\n    let {\n      data_list,\n      item_status_options,\n      focReasonList\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mb-4 mt-2 product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \"Item Status\")), data_list && data_list.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NormalButton, {\n      mainbg: false,\n      className: \"col-12 fs-15 submit-btn\",\n      label: \"Done\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    })) : null), data_list && data_list.length <= 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-5 pr-5 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, \"No Record Found\") : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-5 pr-5 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, data_list && data_list.length > 0 && data_list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 mb-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 border rounded p-3 accordion-menu\",\n        onClick: () => this.handleAccordion(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, item.itemdesc), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 23\n        }\n      }, item.quantity), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 23\n        }\n      }, item.price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 23\n        }\n      }, item.discount), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, item.discount_price), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, item.trans_amt), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 23\n        }\n      }, item.deposit), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 23\n        }\n      }, item.sales_staffs)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 rounded bg-light p-3 d-none accordion\",\n        id: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 pl-3 mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text fs-17 pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 27\n        }\n      }, \"Item Status\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NormalSelect, {\n        options: item_status_options,\n        value: item.itemstatus ? item.itemstatus : 0,\n        name: \"itemstatus\",\n        onChange: e => this.handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 29\n        }\n      }))), item.is_foc ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text fs-17 pb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 31\n        }\n      }, \"FOC Reason\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(NormalSelect, {\n        options: focReasonList,\n        value: item.focreason ? item.focreason : 0,\n        name: \"focreason\",\n        onChange: e => this.handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group mt-4 pt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: item.is_foc,\n        name: \"is_foc\",\n        onChange: e => this.handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-left text-black common-label-text fs-17 mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 33\n        }\n      }, \"FOC\")))) : null)));\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  basicApptDetail: state.appointment.basicApptDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getCommonApi,\n    commonCreateApi\n  }, dispatch);\n};\n\nexport const ItemStatusPopup = connect(mapStateToProps, mapDispatchToProps)(itemStatusPopupClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/cart/itemStatusPopup.js"],"names":["React","Component","NormalInput","NormalButton","NormalSelect","connect","bindActionCreators","getCommonApi","commonCreateApi","itemStatusPopupClass","state","data_list","item_status_options","focReasonList","sourceList","getStatusList","basicApptDetail","props","custId","id","then","key","status","data","console","log","setState","length","document","getElementById","classList","toggle","handleSubmit","value","push","itemstatus","focreason","handleModal","handleChange","e","index","target","name","Number","handleAccordion","elements","getElementsByClassName","i","add","componentDidMount","label","foc_reason_ldesc","status_short_desc","render","map","item","itemdesc","quantity","price","discount","discount_price","trans_amt","deposit","sales_staffs","is_foc","mapStateToProps","appointment","mapDispatchToProps","dispatch","ItemStatusPopup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NormalInput, NormalButton, NormalSelect } from \"component/common\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getCommonApi, commonCreateApi } from \"redux/actions/common\";\n\nimport \"./style.scss\";\n\nexport class itemStatusPopupClass extends Component {\n  state = {\n    data_list: [],\n    item_status_options: [],\n    focReasonList: [],\n    sourceList: [],\n  };\n\n  componentDidMount() {\n    let { item_status_options, focReasonList } = this.state;\n\n    this.props.getCommonApi(`focreason/`).then(key => {\n      let { status, data } = key;\n      if (status === 200) {\n        for (let value of data) {\n          focReasonList.push({\n            value: Number(value.id),\n            label: value.foc_reason_ldesc,\n          });\n        }\n        this.setState({ focReasonList });\n      }\n    });\n    this.props.getCommonApi(`itemstatus/`).then(key => {\n      let { status, data } = key;\n      if (status === 200) {\n        for (let value of data) {\n          item_status_options.push({\n            value: Number(value.id),\n            label: value.status_short_desc,\n          });\n        }\n        this.setState({ item_status_options });\n      }\n    });\n    this.getStatusList();\n  }\n  getStatusList = () => {\n    let { data_list } = this.state;\n    let { basicApptDetail } = this.props;\n    this.props\n      .getCommonApi(\n        `cartpopup/?cust_noid=${basicApptDetail.custId}&cart_id=${this.props.id}&is_status=1`\n      )\n      .then(async key => {\n        let { status, data } = key;\n        if (status == \"200\") {\n          console.log(key, \"cartstatuspopuplist\");\n          data_list = data;\n          await this.setState({\n            data_list,\n          });\n          if (this.state.data_list.length > 0) {\n            document\n              .getElementById(this.state.data_list[0].id)\n              .classList.toggle(\"d-none\");\n          }\n        }\n      });\n  };\n\n  handleSubmit = () => {\n    let { data_list, sourceList } = this.state;\n\n    for (let value of data_list) {\n      sourceList.push({\n        id: value.id,\n        itemstatus: value.itemstatus,\n        focreason: value.focreason,\n      });\n    }\n\n    this.props.commonCreateApi(`cartpopup/`, sourceList).then(key => {\n      let { status, data } = key;\n      if (status == 200) {\n        this.props.handleModal();\n      }\n    });\n  };\n\n  handleChange = (e, index) => {\n    let { data_list } = this.state;\n    let data = e.target.value;\n    if ([e.target.name] == \"itemstatus\" || [e.target.name] == \"focreason\") {\n      data_list[index][e.target.name] = Number(data);\n    } else {\n      data_list[index][e.target.name] = data;\n    }\n    this.setState({ data_list });\n  };\n\n  handleAccordion = id => {\n    let elements = document.getElementsByClassName(\"accordion\");\n    for (let i = 0; i < elements.length; i++) {\n      elements[i].classList.add(\"d-none\");\n    }\n    document.getElementById(id).classList.toggle(\"d-none\");\n    console.log(elements);\n  };\n\n  render() {\n    let { data_list, item_status_options, focReasonList } = this.state;\n    return (\n      <>\n        <div className=\"container-fluid mb-4 mt-2 product-details\">\n          <div className=\"row\">\n            <div className=\"col-10\">\n              <h4>Item Status</h4>\n            </div>\n            {data_list && data_list.length > 0 ? (\n              <div className=\"col-2\">\n                <NormalButton\n                  mainbg={false}\n                  className=\"col-12 fs-15 submit-btn\"\n                  label=\"Done\"\n                  onClick={() => this.handleSubmit()}\n                />\n              </div>\n            ) : null}\n          </div>\n          {data_list && data_list.length <= 0 ? (\n            <div className=\"row pl-5 pr-5 mt-4\">No Record Found</div>\n          ) : null}\n          <div className=\"row pl-5 pr-5 mt-4\">\n            {data_list &&\n              data_list.length > 0 &&\n              data_list.map((item, index) => {\n                return (\n                  <div className=\"row w-100 mb-2\" key={index}>\n                    <div\n                      className=\"row w-100 border rounded p-3 accordion-menu\"\n                      onClick={() => this.handleAccordion(item.id)}\n                    >\n                      <div className=\"col\">{item.itemdesc}</div>\n                      <div className=\"col\">\n                        {/* <NormalInput\n                          name=\"quantity\"\n                          type=\"number\"\n                          value={item.quantity}\n                          onChange={e => this.handleChange(e, index)}\n                        /> */}\n                        {item.quantity}\n                      </div>\n                      <div className=\"col\">{item.price}</div>\n                      <div className=\"col\">{item.discount}</div>\n                      <div className=\"col\">{item.discount_price}</div>\n                      <div className=\"col\">{item.trans_amt}</div>\n                      <div className=\"col\">{item.deposit}</div>\n                      <div className=\"col\">{item.sales_staffs}</div>\n                    </div>\n                    <div\n                      className=\"row w-100 rounded bg-light p-3 d-none accordion\"\n                      id={item.id}\n                    >\n                      <div className=\"row w-100 pl-3 mb-3\">\n                        <div className=\"col-4\">\n                          <label className=\"text-left text-black common-label-text fs-17 pb-2\">\n                            Item Status\n                          </label>\n                          <div className=\"input-group\">\n                            <NormalSelect\n                              options={item_status_options}\n                              value={item.itemstatus ? item.itemstatus : 0}\n                              name=\"itemstatus\"\n                              onChange={e => this.handleChange(e, index)}\n                            />\n                          </div>\n                        </div>\n                        {item.is_foc ? (\n                          <>\n                            <div className=\"col-4\">\n                              <label className=\"text-left text-black common-label-text fs-17 pb-2\">\n                                FOC Reason\n                              </label>\n                              <div className=\"input-group\">\n                                <NormalSelect\n                                  options={focReasonList}\n                                  value={item.focreason ? item.focreason : 0}\n                                  name=\"focreason\"\n                                  onChange={e => this.handleChange(e, index)}\n                                />\n                              </div>\n                            </div>\n                            <div className=\"col-4\">\n                              <div className=\"input-group mt-4 pt-3\">\n                                <div className=\"p-2\">\n                                  <input\n                                    type=\"checkbox\"\n                                    checked={item.is_foc}\n                                    name=\"is_foc\"\n                                    onChange={e => this.handleChange(e, index)}\n                                  />\n                                </div>\n                                <label className=\"text-left text-black common-label-text fs-17 mt-1\">\n                                  FOC\n                                </label>\n                              </div>\n                            </div>\n                          </>\n                        ) : null}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  basicApptDetail: state.appointment.basicApptDetail,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      getCommonApi,\n      commonCreateApi,\n    },\n    dispatch\n  );\n};\n\nexport const ItemStatusPopup = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(itemStatusPopupClass);\n"]},"metadata":{},"sourceType":"module"}