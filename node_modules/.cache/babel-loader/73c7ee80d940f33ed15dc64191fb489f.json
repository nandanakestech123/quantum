{"ast":null,"code":"import _slicedToArray from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\newfrontend\\\\webfe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./style.scss';import{NormalButton,NormalInput,NormalSelect,InputSearch,NormalModal,TableWrapper}from'component/common';import{dateFormat}from'service/helperFunctions';import _ from'lodash';import{history}from'helpers';import{connect}from'react-redux';import{bindActionCreators}from\"redux\";import{getCommonApi,updateForm,commonCreateApi,commonDeleteApi,commonPatchApi}from\"redux/actions/common\";import SimpleReactValidator from'simple-react-validator';// import { Treatment, Payment, EditCart } from './cart/index';\nimport service from'assets/images/make-up-brush.png';// import Discount from './cart/discount';\nexport var SelectStaffClass=/*#__PURE__*/function(_Component){_inherits(SelectStaffClass,_Component);var _super=_createSuper(SelectStaffClass);function SelectStaffClass(){var _this;_classCallCheck(this,SelectStaffClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isOpen:false,currentIndex:-1,tstaffList:[],cartData:{},postFields:{work_point:\"\"},Room:null,Source:null,new_remark:null,updateFields:{Room_Codeid:\"\",Source_Codeid:\"\",new_remark:\"\"},outletList:[],headerDetails:[{label:'Employee name',sortKey:false,width:\"130px\"},{label:'WP1',width:\"42px\"},{label:'St. time',sortKey:false,width:\"55px\"},{label:'End time',sortKey:false,width:\"55px\"},{label:'Duration',sortKey:false,width:\"55px\"}],customerOption:[],// cartData: {},\nroomList:[],sourceList:[],staffList:[],duration:[],startDuration:[],showPostError:false,showUpdateError:false,staffData:{},page:1,hideNotNeededControls:\"false\"};_this.componentWillMount=function(){// this.getCart();\n_this.validator=new SimpleReactValidator({element:function element(message){return/*#__PURE__*/React.createElement(\"span\",{className:\"error-message text-danger validNo fs14\"},message);},autoForceUpdate:_assertThisInitialized(_this)});// let { basicApptDetail } = this.props;\n// if (basicApptDetail.custId) {\n//     let { formFields } = this.state;\n//     formFields[\"custId\"] = basicApptDetail.custId;\n//     formFields[\"custName\"] = basicApptDetail.custName;\n//     this.setState({ formFields });\n// }\nvar _this$state=_this.state,roomList=_this$state.roomList,sourceList=_this$state.sourceList,staffList=_this$state.staffList,cartData=_this$state.cartData,duration=_this$state.duration,startDuration=_this$state.startDuration,tstaffList=_this$state.tstaffList;_this.props.getCommonApi('room/').then(function(key){var status=key.status,data=key.data;var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;roomList.push({value:value.id,label:value.displayname});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({roomList:roomList});});_this.props.getCommonApi(\"source/\").then(function(key){var status=key.status,data=key.data;if(status===200){var _iterator2=_createForOfIteratorHelper(data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var value=_step2.value;sourceList.push({value:value.id,label:value.source_desc});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({sourceList:sourceList});}});_this.getStaffList();_this.getCart();var durationLocal=['00:10','00:20','00:30','00:40','00:50','01:00','01:10','01:20','01:30','01:40','01:50','02:00','02:10','02:20','02:30','02:40','02:50','03:00','03:10','03:20','03:30','03:40','03:50','04:00','04:10','04:20','04:30','04:40','04:50','05:00','05:10','05:20','05:30','05:40','05:50','06:00','06:10','06:20','06:30','06:40','06:50','07:00','07:10','07:20','07:30','07:40','07:50','08:00','08:10','08:20','08:30','08:40','08:50','09:00','09:10','09:20','09:30','09:40','09:50','10:00','10:10','10:20','10:30','10:40','10:50','11:00','11:10','11:20','11:30','11:40','11:50','12:00','12:10','12:20','12:30','12:40','12:50','13:00','13:10','13:20','13:30','13:40','13:50','14:00','14:10','14:20','14:30','14:40','14:50','15:00','15:10','15:20','15:30','15:40','15:50','16:00','16:10','16:20','16:30','16:40','16:50','17:00','17:10','17:20','17:30','17:40','17:50','18:00','18:10','18:20','18:30','18:40','18:50','19:00','19:10','19:20','19:30','19:40','19:50','20:00','20:10','20:20','20:30','20:40','20:50','21:00','21:10','21:20','21:30','21:40','21:50','22:00','22:10','22:20','22:30','22:40','22:50','23:00','23:10','23:20','23:30','23:40','23:50'];var startDurationLocal=['08:00','08:10','08:20','08:30','08:40','08:50','09:00','09:10','09:20','09:30','09:40','09:50','10:00','10:10','10:20','10:30','10:40','10:50','11:00','11:10','11:20','11:30','11:40','11:50','12:00','12:10','12:20','12:30','12:40','12:50','13:00','13:10','13:20','13:30','13:40','13:50','14:00','14:10','14:20','14:30','14:40','14:50','15:00','15:10','15:20','15:30','15:40','15:50','16:00','16:10','16:20','16:30','16:40','16:50','17:00','17:10','17:20','17:30','17:40','17:50','18:00','18:10','18:20','18:30','18:40','18:50','19:00','19:10','19:20','19:30','19:40','19:50','20:00','20:10','20:20','20:30','20:40','20:50','21:00','21:10','21:20','21:30','21:40','21:50','22:00','22:10','22:20','22:30','22:40','22:50','23:00'];//this.props.getCommonApi(`treatment/Duration/`).then((key) => {\n//let { status, data } = key;\n//if (status === 200) {\nfor(var _i=0,_durationLocal=durationLocal;_i<_durationLocal.length;_i++){var value=_durationLocal[_i];duration.push({value:value,label:value});}for(var _i2=0,_startDurationLocal=startDurationLocal;_i2<_startDurationLocal.length;_i2++){var _value=_startDurationLocal[_i2];startDuration.push({value:_value,label:_value});}_this.setState({duration:duration,startDuration:startDuration});//}\n//})\n//this.setState({ duration:durationLocal })\n};_this.getCart=function(){var _this$state2=_this.state,roomList=_this$state2.roomList,sourceList=_this$state2.sourceList,staffList=_this$state2.staffList,cartData=_this$state2.cartData,duration=_this$state2.duration,tstaffList=_this$state2.tstaffList;_this.props.getCommonApi(\"trmttmpitemhelper/?treatmentid=\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cartData=key;_context.next=3;return _this.setState({tstaffList:[]});case 3:tstaffList=key.data;_this.setState({cartData:cartData,tstaffList:tstaffList});_this.getDataFromRes(key);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.getDataFromRes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key){var _this$state3,postFields,updateFields;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state3=_this.state,postFields=_this$state3.postFields,updateFields=_this$state3.updateFields;postFields['work_point']=key.value.work_point?key.value.work_point:\"\";updateFields['Room_Codeid']=key.value.room_id?key.value.room_id:\"\";updateFields['Source_Codeid']=key.value.source_id?key.value.source_id:\"\";updateFields['new_remark']=key.value.new_remark?key.value.new_remark:\"\";_context2.next=7;return _this.setState({postFields:postFields,updateFields:updateFields});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleSubmit=function(id){console.log(\"this.state.updateFields.Source_Codeid\",_this.state.updateFields.Source_Codeid);/* if(this.state.updateFields.Room_Codeid==\"\")\r\n        {\r\n            alert(\"Room Must be selected\");\r\n            return\r\n        }\r\n        if(this.state.updateFields.Source_Codeid==\"01\")\r\n        {\r\n            alert(\"Source Must be selected\");\r\n            return\r\n        }*/var _this$state4=_this.state,tstaffList=_this$state4.tstaffList,formFields=_this$state4.formFields,cartData=_this$state4.cartData,postFields=_this$state4.postFields;var xTotalWp1Amount=0;for(var i=0;i<_this.state.tstaffList.length;i++){xTotalWp1Amount+=parseFloat(_this.state.tstaffList[i].wp1);}if(parseFloat(xTotalWp1Amount)==parseFloat(postFields.work_point)){}else{alert(\"User Entry should not greater or lesser than Work point\");return;}_this.props.getCommonApi(\"trmttmpitemhelper/confirm/?treatmentid=\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(key.status===200){_this.props.handleModal();}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};_this.handleDialog=function(){};_this.handleAddstaff=function(item){var _this$state5=_this.state,tstaffList=_this$state5.tstaffList,formFields=_this$state5.formFields,cartData=_this$state5.cartData,postFields=_this$state5.postFields;var data={helper_id:item.id};if(postFields.work_point&&postFields.times){_this.props.commonCreateApi(\"trmttmpitemhelper/?cartid=\".concat(_this.props.cartId,\"&workcommpoints=\").concat(postFields.work_point,\"&times=\").concat(postFields.times),data).then(function(){_this.getCart();});}else{_this.setState({showPostError:true});}};_this.handleuUpdateWp=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(event,item,index){var postFields,workpoint,userEnteredValue,tstaffList;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:// event.persist();\npostFields=_this.state.postFields;workpoint=parseFloat(postFields.work_point);userEnteredValue=parseFloat(event.target.value);if(!(userEnteredValue>workpoint)){_context5.next=5;break;}return _context5.abrupt(\"return\");case 5:tstaffList=_this.state.tstaffList;tstaffList[index][event.target.name]=event.target.value;_context5.next=9;return _this.setState({tstaffList:tstaffList});case 9:console.log(event,item,index,\"sfdgfdgsgf too\");if(!_this.debouncedFn){_this.debouncedFn=_.debounce(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event,item,index){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(event,item,index,\"sfdgfdgsgf inside\");_this.handleUpdatestaff(event,item,index);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8,_x9){return _ref5.apply(this,arguments);};}(),1000);}_this.debouncedFn(event,item,index);case 12:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4,_x5,_x6){return _ref4.apply(this,arguments);};}();_this.handleUpdatestaff=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event,item,index){var _this$state6,tstaffList,cartData,updateFields,Room_Codeid,Source_Codeid,new_remark,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0://this.state.updateFields.Source_Codeid=\"\";             \n_this$state6=_this.state,tstaffList=_this$state6.tstaffList,cartData=_this$state6.cartData,updateFields=_this$state6.updateFields;Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;if(event.target.name!==\"wp1\"){tstaffList[index][event.target.name]=event.target.value;_this.setState({tstaffList:tstaffList});}console.log(event,item,index,\"sfdgfdgsgf\");data={};if(event.target.name===\"appt_fr_time\"){data={appt_fr_time:event.target.value,add_duration:cartData.value.add_duration,wp1:item.wp1};}if(event.target.name===\"add_duration\"){data={appt_fr_time:item.appt_fr_time,add_duration:event.target.value,wp1:item.wp1};}if(event.target.name===\"wp1\"){data={appt_fr_time:item.appt_fr_time,add_duration:cartData.value.add_duration,wp1:item.wp1};}// if (updateFields.Source && updateFields.Room) {\n_this.props.commonPatchApi(\"trmttmpitemhelper/\".concat(item.id,\"/?Room_Codeid=\").concat(Room_Codeid,\"&Source_Codeid=\").concat(Source_Codeid,\"&new_remark=\").concat(new_remark),data).then(function(){_this.getCart();});// } else {\n//     this.setState({ showUpdateError: true })\n// }\ncase 9:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x10,_x11,_x12){return _ref6.apply(this,arguments);};}();_this.handleClearLine=function(){_this.props.commonDeleteApi(\"trmttmpitemhelper/delete/?clear_all=0&treatmentid=\".concat(_this.props.id)).then(function(){_this.getCart();});};_this.handleClearAll=function(){_this.props.commonDeleteApi(\"trmttmpitemhelper/delete/?clear_all=1&treatmentid=\".concat(_this.props.id)).then(function(){_this.getCart();});};_this.getStaffList=function(){_this.props.getCommonApi(\"empcartlist/?sales_staff=0&page=\".concat(_this.state.page)).then(function(key){var status=key.status,data=key.data;if(status===200){_this.setState({staffList:data.dataList});}console.log(data);});};_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var page;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:page=_this.state.page;page=page+1;_context7.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStaffList();}case 5:case\"end\":return _context7.stop();}}},_callee7);}));_this.handleBack=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var page;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:page=_this.state.page;page=page-1;_context8.next=4;return _this.setState({page:page});case 4:if(page>0){_this.getStaffList();}case 5:case\"end\":return _context8.stop();}}},_callee8);}));_this.handleSelect_Staff=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(staff){var _this$state7,tstaffList,postFields,cartData,updateFields,Room_Codeid,Source_Codeid,new_remark,work_point,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_this$state7=_this.state,tstaffList=_this$state7.tstaffList,postFields=_this$state7.postFields,cartData=_this$state7.cartData,updateFields=_this$state7.updateFields;console.log(\"handleSelect_Staff-Source_Codeid\",_this.state.updateFields);Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;work_point=postFields.work_point;console.log(\"workpoint\",_this.props.workPoint);data={helper_id:staff.id};_context9.next=8;return _this.props.commonCreateApi(\"trmttmpitemhelper/?treatmentid=\".concat(_this.props.id,\"&workcommpoints=\").concat(work_point),data).then(function(key){_this.getCart1();});case 8:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x13){return _ref9.apply(this,arguments);};}();_this.getCart1=function(){var _this$state8=_this.state,roomList=_this$state8.roomList,sourceList=_this$state8.sourceList,staffList=_this$state8.staffList,cartData=_this$state8.cartData,duration=_this$state8.duration,tstaffList=_this$state8.tstaffList;_this.props.getCommonApi(\"trmttmpitemhelper/?treatmentid=\".concat(_this.props.id)).then(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(key){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:cartData=key;_context10.next=3;return _this.setState({tstaffList:[]});case 3:tstaffList=key.data;_this.setState({cartData:cartData,tstaffList:tstaffList},function(){_this.checkFirstArrayAndUpdateTiming();});_this.getDataFromRes(key);case 6:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x14){return _ref10.apply(this,arguments);};}());};_this.checkFirstArrayAndUpdateTiming=function(){var _this$state9=_this.state,tstaffList=_this$state9.tstaffList,cartData=_this$state9.cartData,updateFields=_this$state9.updateFields;var item=tstaffList[0];var Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;var today=new Date(),time=today.getHours()+':'+today.getMinutes();var data={};data={appt_fr_time:_this.roundTime(time,10),add_duration:cartData.value.add_duration,wp1:item.wp1};_this.props.commonPatchApi(\"trmttmpitemhelper/\".concat(item.id,\"/?Room_Codeid=\").concat(Room_Codeid,\"&Source_Codeid=\").concat(Source_Codeid,\"&new_remark=\").concat(new_remark),data).then(function(){_this.getCart();});};_this.roundTime=function(time,minutesToRound){var _time$split=time.split(':'),_time$split2=_slicedToArray(_time$split,2),hours=_time$split2[0],minutes=_time$split2[1];hours=parseInt(hours);minutes=parseInt(minutes);// Convert hours and minutes to time in minutes\ntime=hours*60+minutes;var rounded=Math.round(time/minutesToRound)*minutesToRound;var rHr=''+Math.floor(rounded/60);var rMin=''+rounded%60;return rHr.padStart(2,'0')+':'+rMin.padStart(2,'0');};_this.handleUpdatChanges=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(_ref11){var _ref11$target,value,name,updateFields;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_ref11$target=_ref11.target,value=_ref11$target.value,name=_ref11$target.name;updateFields=_this.state.updateFields;updateFields[name]=value;_this.setState({updateFields:updateFields});case 4:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x15){return _ref12.apply(this,arguments);};}();_this.handlePostChanges=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(_ref13){var _ref13$target,value,name,postFields;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_ref13$target=_ref13.target,value=_ref13$target.value,name=_ref13$target.name;postFields=_this.state.postFields;postFields[name]=value;_this.setState({postFields:postFields});case 4:case\"end\":return _context12.stop();}}},_callee12);}));return function(_x16){return _ref14.apply(this,arguments);};}();return _this;}_createClass(SelectStaffClass,[{key:\"render\",value:function render(){var _this2=this;var _this$state10=this.state,_this$state10$staffLi=_this$state10.staffList,staffList=_this$state10$staffLi===void 0?[]:_this$state10$staffLi,_this$state10$tstaffL=_this$state10.tstaffList,tstaffList=_this$state10$tstaffL===void 0?[]:_this$state10$tstaffL,roomList=_this$state10.roomList,Room=_this$state10.Room,Source=_this$state10.Source,duration=_this$state10.duration,startDuration=_this$state10.startDuration,sourceList=_this$state10.sourceList,updateFields=_this$state10.updateFields,headerDetails=_this$state10.headerDetails,_this$state10$cartDat=_this$state10.cartData,cartData=_this$state10$cartDat===void 0?{}:_this$state10$cartDat,postFields=_this$state10.postFields;var _cartData$value=cartData.value,value=_cartData$value===void 0?{}:_cartData$value;var work_point=postFields.work_point;var Room_Codeid=updateFields.Room_Codeid,Source_Codeid=updateFields.Source_Codeid,new_remark=updateFields.new_remark;var Item=value.Item,Price=value.Price,add_duration=value.add_duration,room_id=value.room_id,room_name=value.room_name,source_id=value.source_id,source_name=value.source_name,times=value.times;var _this$props$tsStaff=this.props.tsStaff,tsStaff=_this$props$tsStaff===void 0?{}:_this$props$tsStaff;var course=tsStaff.course,unit_amount=tsStaff.unit_amount,workpoint=tsStaff.workpoint;return/*#__PURE__*/React.createElement(\"div\",{className:\"row new-cart treatment-done\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"fs-18 font-700 mb-3 title\"},\"Treatment Done\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Item\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},Item),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-2\"},Price),/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Work Point\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput,{value:work_point?work_point:\"\",name:\"work_point\",onChange:this.handlePostChanges,className:\"customer-name\",disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Session\"),/*#__PURE__*/React.createElement(\"h1\",null,this.props.session)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 cart-item emp-image\"},/*#__PURE__*/React.createElement(\"div\",{className:\"staff-listing d-flex emp-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"forward-button cursor-pointer\",onClick:this.handleBack},/*#__PURE__*/React.createElement(\"svg\",{width:\"6\",height:\"10\",viewBox:\"0 0 6 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M5 0.5L1 5L5 9.5\",stroke:\"#888888\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}))),staffList.length>0?staffList.map(function(staff){return/*#__PURE__*/React.createElement(\"div\",{className:\"mx-1 staff-list cursor-pointer emp\",key:staff.id,onClick:function onClick(){return _this2.handleSelect_Staff(staff);}},/*#__PURE__*/React.createElement(\"img\",{className:\"img\",src:staff.emp_pic,alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,staff.display_name));}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"back-button cursor-pointer\",onClick:this.handleNext},/*#__PURE__*/React.createElement(\"svg\",{width:\"5\",height:\"10\",viewBox:\"0 0 5 10\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M0.5 9.5L4.5 5L0.5 0.5\",stroke:\"#888888\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 cart-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(TableWrapper,{headerDetails:headerDetails,queryHandler:this.handlePagination// pageMeta={pageMeta}\n// isEmpty={tstaffList.length === 0 ? true:false}\n},tstaffList&&tstaffList.length>0?tstaffList.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"position-relative status-type\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center fs-20\"},item.helper_name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:item.wp1,name:\"wp1\",type:\"number\",min:\"0\",max:postFields.work_point,onChange:function onChange(e){return _this2.handleuUpdateWp(e,item,index);}//className=\"wpr\"\n}))),/*#__PURE__*/React.createElement(\"td\",null,_this2.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:startDuration,value:item.appt_fr_time,name:\"appt_fr_time\",onChange:function onChange(e){return _this2.handleUpdatestaff(e,item,index);},className:\"customer-name py-0\"})))),/*#__PURE__*/React.createElement(\"td\",null,_this2.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},item.appt_to_time)),/*#__PURE__*/React.createElement(\"td\",null,_this2.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"this.setState({add_duration:e.target.value})\n,{options:duration,value:item.add_duration,name:\"add_duration\",onChange:function onChange(e){return _this2.handleUpdatestaff(e,item,index);},className:\"customer-name p-0\"})))));}):\"\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},this.state.hideNotNeededControls==\"true\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Room\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:roomList,value:Room_Codeid,name:\"Room_Codeid\",onChange:this.handleUpdatChanges,className:\"customer-name py-0\"// disabled={Room_Codeid}\n}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"Source\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalSelect// placeholder=\"Enter here\"\n,{options:sourceList,value:Source_Codeid,name:\"Source_Codeid\",onChange:this.handleUpdatChanges,className:\"customer-name py-0\"// disabled={Source_Codeid}\n}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left text-black common-label-text \"},\"New Remark\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(NormalInput// placeholder=\"Enter here\"\n// options={siteList}\n,{value:new_remark,name:\"new_remark\",onChange:this.handleUpdatChanges,className:\"customer-name\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 pt-4 action-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 d-flex\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"fs-15 clear-line\",label:\"Clear Line\",outline:false,onClick:this.handleClearLine}),/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\"fs-15 clear-all\",label:\"Clear All\",outline:false,onClick:this.handleClearAll})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-right\"},/*#__PURE__*/React.createElement(NormalButton,{buttonClass:\"mx-2\",mainbg:true,className:\" fs-15 confirm\",label:\"Confirm\",outline:false,onClick:this.handleSubmit})))));}}]);return SelectStaffClass;}(Component);var mapStateToProps=function mapStateToProps(state){return{selected_cstomer:state.common.selected_cstomer,basicApptDetail:state.appointment.basicApptDetail};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({// getCustomer,\ngetCommonApi:getCommonApi,updateForm:updateForm,commonCreateApi:commonCreateApi,commonPatchApi:commonPatchApi,commonDeleteApi:commonDeleteApi},dispatch);};export var SelectStaff=connect(mapStateToProps,mapDispatchToProps)(SelectStaffClass);","map":{"version":3,"sources":["E:/newfrontend/webfe/src/component/Admin/Cart/treatmentDone/treatmentDone.js"],"names":["React","Component","NormalButton","NormalInput","NormalSelect","InputSearch","NormalModal","TableWrapper","dateFormat","_","history","connect","bindActionCreators","getCommonApi","updateForm","commonCreateApi","commonDeleteApi","commonPatchApi","SimpleReactValidator","service","SelectStaffClass","state","isOpen","currentIndex","tstaffList","cartData","postFields","work_point","Room","Source","new_remark","updateFields","Room_Codeid","Source_Codeid","outletList","headerDetails","label","sortKey","width","customerOption","roomList","sourceList","staffList","duration","startDuration","showPostError","showUpdateError","staffData","page","hideNotNeededControls","componentWillMount","validator","element","message","autoForceUpdate","props","then","key","status","data","value","push","id","displayname","setState","source_desc","getStaffList","getCart","durationLocal","startDurationLocal","getDataFromRes","room_id","source_id","handleSubmit","console","log","formFields","xTotalWp1Amount","i","length","parseFloat","wp1","alert","handleModal","handleDialog","handleAddstaff","item","helper_id","times","cartId","handleuUpdateWp","event","index","workpoint","userEnteredValue","target","name","debouncedFn","debounce","handleUpdatestaff","appt_fr_time","add_duration","handleClearLine","handleClearAll","dataList","handleNext","handleBack","handleSelect_Staff","staff","workPoint","getCart1","checkFirstArrayAndUpdateTiming","today","Date","time","getHours","getMinutes","roundTime","minutesToRound","split","hours","minutes","parseInt","rounded","Math","round","rHr","floor","rMin","padStart","handleUpdatChanges","handlePostChanges","Item","Price","room_name","source_name","tsStaff","course","unit_amount","session","map","emp_pic","display_name","handlePagination","helper_name","e","appt_to_time","mapStateToProps","selected_cstomer","common","basicApptDetail","appointment","mapDispatchToProps","dispatch","SelectStaff"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { NormalButton, NormalInput, NormalSelect, InputSearch, NormalModal, TableWrapper } from 'component/common';\r\nimport { dateFormat } from 'service/helperFunctions';\r\nimport _ from 'lodash';\r\nimport { history } from 'helpers';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getCommonApi, updateForm, commonCreateApi, commonDeleteApi, commonPatchApi } from \"redux/actions/common\"\r\nimport SimpleReactValidator from 'simple-react-validator';\r\n// import { Treatment, Payment, EditCart } from './cart/index';\r\nimport service from 'assets/images/make-up-brush.png';\r\n// import Discount from './cart/discount';\r\n\r\n\r\nexport class SelectStaffClass extends Component {\r\n    state = {\r\n        isOpen: false,\r\n        currentIndex: -1,\r\n        tstaffList: [],\r\n        cartData: {},\r\n        postFields: {\r\n            work_point: \"\"\r\n        },\r\n        Room: null,\r\n        Source: null,\r\n        new_remark: null,\r\n        updateFields: {\r\n            Room_Codeid: \"\",\r\n            Source_Codeid: \"\",\r\n            new_remark: \"\"\r\n        },\r\n        outletList: [],\r\n        headerDetails: [\r\n            { label: 'Employee name', sortKey: false, width: \"130px\" },\r\n            { label: 'WP1', width: \"42px\" },\r\n            { label: 'St. time', sortKey: false, width: \"55px\" },\r\n            { label: 'End time', sortKey: false, width: \"55px\" },\r\n            { label: 'Duration', sortKey: false, width: \"55px\" },\r\n        ],\r\n        customerOption: [],\r\n        // cartData: {},\r\n        roomList: [],\r\n        sourceList: [],\r\n        staffList: [],\r\n        duration: [],\r\n        startDuration:[],\r\n        showPostError: false,\r\n        showUpdateError: false,\r\n        staffData:{},\r\n        page:1,\r\n        hideNotNeededControls:\"false\",\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        // this.getCart();\r\n        this.validator = new SimpleReactValidator({\r\n            element: message => <span className=\"error-message text-danger validNo fs14\">{message}</span>,\r\n            autoForceUpdate: this,\r\n        });\r\n        // let { basicApptDetail } = this.props;\r\n        // if (basicApptDetail.custId) {\r\n        //     let { formFields } = this.state;\r\n        //     formFields[\"custId\"] = basicApptDetail.custId;\r\n        //     formFields[\"custName\"] = basicApptDetail.custName;\r\n        //     this.setState({ formFields });\r\n        // }\r\n        let { roomList, sourceList, staffList, cartData, duration,startDuration, tstaffList } = this.state;\r\n        this.props.getCommonApi('room/').then((key) => {\r\n            let { status, data } = key;\r\n            for (let value of data) {\r\n                roomList.push({ value: value.id, label: value.displayname })\r\n            }\r\n            this.setState({ roomList })\r\n        })\r\n        this.props.getCommonApi(`source/`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                for (let value of data) {\r\n                    sourceList.push({ value: value.id, label: value.source_desc })\r\n                }\r\n                this.setState({ sourceList })\r\n            }\r\n        })\r\n        this.getStaffList();\r\n        this.getCart();\r\n        \r\n        const durationLocal=[\r\n        '00:10',\r\n        '00:20',\r\n        '00:30',\r\n        '00:40',\r\n        '00:50',\r\n        '01:00',\r\n        '01:10',\r\n        '01:20',\r\n        '01:30',\r\n        '01:40',\r\n        '01:50',\r\n        '02:00',\r\n        '02:10',\r\n        '02:20',\r\n        '02:30',\r\n        '02:40',\r\n        '02:50',\r\n        '03:00',\r\n        '03:10',\r\n        '03:20',\r\n        '03:30',\r\n        '03:40',\r\n        '03:50',\r\n        '04:00',\r\n        '04:10',\r\n        '04:20',\r\n        '04:30',\r\n        '04:40',\r\n        '04:50',\r\n        '05:00',\r\n        '05:10',\r\n        '05:20',\r\n        '05:30',\r\n        '05:40',\r\n        '05:50',\r\n        '06:00',\r\n        '06:10',\r\n        '06:20',\r\n        '06:30',\r\n        '06:40',\r\n        '06:50',\r\n        '07:00',\r\n        '07:10',\r\n        '07:20',\r\n        '07:30',\r\n        '07:40',\r\n        '07:50',\r\n        '08:00',\r\n        '08:10',\r\n        '08:20',\r\n        '08:30',\r\n        '08:40',\r\n        '08:50',\r\n        '09:00',\r\n        '09:10',\r\n        '09:20',\r\n        '09:30',\r\n        '09:40',\r\n        '09:50',\r\n        '10:00',\r\n        '10:10',\r\n        '10:20',\r\n        '10:30',\r\n        '10:40',\r\n        '10:50',\r\n        '11:00',\r\n        '11:10',\r\n        '11:20',\r\n        '11:30',\r\n        '11:40',\r\n        '11:50',\r\n        '12:00',\r\n        '12:10',\r\n        '12:20',\r\n        '12:30',\r\n        '12:40',\r\n        '12:50',\r\n        '13:00',\r\n        '13:10',\r\n        '13:20',\r\n        '13:30',\r\n        '13:40',\r\n        '13:50',\r\n        '14:00',\r\n        '14:10',\r\n        '14:20',\r\n        '14:30',\r\n        '14:40',\r\n        '14:50',\r\n        '15:00',\r\n        '15:10',\r\n        '15:20',\r\n        '15:30',\r\n        '15:40',\r\n        '15:50',\r\n        '16:00',\r\n        '16:10',\r\n        '16:20',\r\n        '16:30',\r\n        '16:40',\r\n        '16:50',\r\n        '17:00',\r\n        '17:10',\r\n        '17:20',\r\n        '17:30',\r\n        '17:40',\r\n        '17:50',\r\n        '18:00',\r\n        '18:10',\r\n        '18:20',\r\n        '18:30',\r\n        '18:40',\r\n        '18:50',\r\n        '19:00',\r\n        '19:10',\r\n        '19:20',\r\n        '19:30',\r\n        '19:40',\r\n        '19:50',\r\n        '20:00',\r\n        '20:10',\r\n        '20:20',\r\n        '20:30',\r\n        '20:40',\r\n        '20:50',\r\n        '21:00',\r\n        '21:10',\r\n        '21:20',\r\n        '21:30',\r\n        '21:40',\r\n        '21:50',\r\n        '22:00',\r\n        '22:10',\r\n        '22:20',\r\n        '22:30',\r\n        '22:40',\r\n        '22:50',\r\n        '23:00',\r\n        '23:10',\r\n        '23:20',\r\n        '23:30',\r\n        '23:40',\r\n        '23:50']\r\n        const startDurationLocal=[\r\n            '08:00',\r\n            '08:10',\r\n            '08:20',\r\n            '08:30',\r\n            '08:40',\r\n            '08:50',\r\n            '09:00',\r\n            '09:10',\r\n            '09:20',\r\n            '09:30',\r\n            '09:40',\r\n            '09:50',\r\n            '10:00',\r\n            '10:10',\r\n            '10:20',\r\n            '10:30',\r\n            '10:40',\r\n            '10:50',\r\n            '11:00',\r\n            '11:10',\r\n            '11:20',\r\n            '11:30',\r\n            '11:40',\r\n            '11:50',\r\n            '12:00',\r\n            '12:10',\r\n            '12:20',\r\n            '12:30',\r\n            '12:40',\r\n            '12:50',\r\n            '13:00',\r\n            '13:10',\r\n            '13:20',\r\n            '13:30',\r\n            '13:40',\r\n            '13:50',\r\n            '14:00',\r\n            '14:10',\r\n            '14:20',\r\n            '14:30',\r\n            '14:40',\r\n            '14:50',\r\n            '15:00',\r\n            '15:10',\r\n            '15:20',\r\n            '15:30',\r\n            '15:40',\r\n            '15:50',\r\n            '16:00',\r\n            '16:10',\r\n            '16:20',\r\n            '16:30',\r\n            '16:40',\r\n            '16:50',\r\n            '17:00',\r\n            '17:10',\r\n            '17:20',\r\n            '17:30',\r\n            '17:40',\r\n            '17:50',\r\n            '18:00',\r\n            '18:10',\r\n            '18:20',\r\n            '18:30',\r\n            '18:40',\r\n            '18:50',\r\n            '19:00',\r\n            '19:10',\r\n            '19:20',\r\n            '19:30',\r\n            '19:40',\r\n            '19:50',\r\n            '20:00',\r\n            '20:10',\r\n            '20:20',\r\n            '20:30',\r\n            '20:40',\r\n            '20:50',\r\n            '21:00',\r\n            '21:10',\r\n            '21:20',\r\n            '21:30',\r\n            '21:40',\r\n            '21:50',\r\n            '22:00',\r\n            '22:10',\r\n            '22:20',\r\n            '22:30',\r\n            '22:40',\r\n            '22:50',\r\n            '23:00']\r\n        //this.props.getCommonApi(`treatment/Duration/`).then((key) => {\r\n           //let { status, data } = key;\r\n            //if (status === 200) {\r\n                for (let value of durationLocal) {\r\n                    duration.push({ value: value, label: value })\r\n                }\r\n                for (let value of startDurationLocal) {\r\n                    startDuration.push({ value: value, label: value })\r\n                }\r\n                this.setState({ duration,startDuration })\r\n          //}\r\n        //})\r\n\r\n\r\n        //this.setState({ duration:durationLocal })\r\n    }\r\n\r\n    getCart = () => {\r\n        let { roomList, sourceList, staffList, cartData, duration, tstaffList } = this.state;\r\n        this.props.getCommonApi(`trmttmpitemhelper/?treatmentid=${this.props.id}`).then(async(key) => {\r\n           \r\n            cartData = key;\r\n            await this.setState({tstaffList: []})\r\n            tstaffList = key.data;\r\n            this.setState({ cartData, tstaffList })\r\n            this.getDataFromRes(key)\r\n            \r\n        })\r\n    }\r\n\r\n    getDataFromRes = async(key) => {\r\n        let { postFields, updateFields } = this.state;\r\n        postFields['work_point'] = key.value.work_point ? key.value.work_point:\"\";\r\n        updateFields['Room_Codeid'] = key.value.room_id ? key.value.room_id:\"\";\r\n        updateFields['Source_Codeid'] = key.value.source_id ? key.value.source_id:\"\";\r\n        updateFields['new_remark'] = key.value.new_remark ? key.value.new_remark:\"\";\r\n        await this.setState({\r\n            postFields,\r\n            updateFields\r\n        })\r\n    }\r\n\r\n    handleSubmit = (id) => {\r\n        console.log(\"this.state.updateFields.Source_Codeid\",this.state.updateFields.Source_Codeid);\r\n       /* if(this.state.updateFields.Room_Codeid==\"\")\r\n        {\r\n            alert(\"Room Must be selected\");\r\n            return\r\n        }\r\n        if(this.state.updateFields.Source_Codeid==\"01\")\r\n        {\r\n            alert(\"Source Must be selected\");\r\n            return\r\n        }*/\r\n        let { tstaffList, formFields, cartData, postFields } = this.state;\r\n        let xTotalWp1Amount=0;\r\n        for (var i = 0; i < this.state.tstaffList.length; i++) {\r\n             xTotalWp1Amount+=parseFloat(this.state.tstaffList[i].wp1);\r\n        }     \r\n        if(parseFloat(xTotalWp1Amount)==parseFloat(postFields.work_point))   \r\n        {\r\n         \r\n        }\r\n        else{\r\n            alert (\"User Entry should not greater or lesser than Work point\");\r\n            return;\r\n        }\r\n        this.props.getCommonApi(`trmttmpitemhelper/confirm/?treatmentid=${this.props.id}`).then(async(key) => {\r\n            if(key.status === 200){\r\n                this.props.handleModal();\r\n            }\r\n        })\r\n      \r\n    }\r\n\r\n    handleDialog = () => {\r\n\r\n    }\r\n\r\n\r\n    handleAddstaff = (item) => {\r\n        let { tstaffList, formFields, cartData, postFields } = this.state;\r\n        let data = {\r\n            helper_id: item.id\r\n        }\r\n        if (postFields.work_point && postFields.times) {\r\n            this.props.commonCreateApi(`trmttmpitemhelper/?cartid=${this.props.cartId}&workcommpoints=${postFields.work_point}&times=${postFields.times}`, data).then(() => {\r\n                this.getCart();\r\n            })\r\n        } else {\r\n            this.setState({ showPostError: true })\r\n        }\r\n    }\r\n\r\n    handleuUpdateWp = async (event, item, index) => {\r\n        // event.persist();\r\n        let {postFields}=this.state;\r\n        let workpoint=parseFloat(postFields.work_point);\r\n        let userEnteredValue=parseFloat(event.target.value);\r\n        if(userEnteredValue>workpoint)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let { tstaffList } = this.state;\r\n        tstaffList[index][event.target.name] = event.target.value;\r\n        await this.setState({\r\n            tstaffList\r\n        })\r\n        console.log(event, item, index, \"sfdgfdgsgf too\")\r\n        if (!this.debouncedFn) {\r\n            this.debouncedFn = _.debounce(async (event, item, index) => {\r\n                console.log(event, item, index, \"sfdgfdgsgf inside\")\r\n                this.handleUpdatestaff(event, item, index)\r\n            }, 1000);\r\n        }\r\n        this.debouncedFn(event, item, index);\r\n    }\r\n    \r\n\r\n    handleUpdatestaff = async(event, item, index) => {\r\n                //this.state.updateFields.Source_Codeid=\"\";             \r\n        let { tstaffList, cartData, updateFields } = this.state;\r\n        let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n        if(event.target.name!==\"wp1\"){\r\n            tstaffList[index][event.target.name] =event.target.value;\r\n            this.setState({\r\n                tstaffList\r\n            })\r\n        }\r\n        console.log(event, item, index, \"sfdgfdgsgf\")\r\n        let data = {}\r\n        if(event.target.name===\"appt_fr_time\"){\r\n            data = {\r\n                appt_fr_time: event.target.value,\r\n                add_duration: cartData.value.add_duration,\r\n                wp1: item.wp1\r\n            }\r\n        }\r\n        if(event.target.name===\"add_duration\"){\r\n            data = {\r\n                appt_fr_time: item.appt_fr_time,\r\n                add_duration: event.target.value,\r\n                wp1: item.wp1\r\n            }\r\n        }\r\n        if(event.target.name===\"wp1\"){\r\n            data = {\r\n                appt_fr_time: item.appt_fr_time,\r\n                add_duration: cartData.value.add_duration,\r\n                wp1: item.wp1,\r\n            }\r\n        }\r\n        \r\n        // if (updateFields.Source && updateFields.Room) {\r\n            this.props.commonPatchApi(`trmttmpitemhelper/${item.id}/?Room_Codeid=${Room_Codeid}&Source_Codeid=${Source_Codeid}&new_remark=${new_remark}`, data).then(() => {\r\n                this.getCart();\r\n            })\r\n        // } else {\r\n        //     this.setState({ showUpdateError: true })\r\n        // }\r\n    }\r\n\r\n    handleClearLine = () => {\r\n        this.props.commonDeleteApi(`trmttmpitemhelper/delete/?clear_all=0&treatmentid=${this.props.id}`).then(()=>{\r\n            this.getCart();\r\n        });\r\n    }\r\n\r\n    handleClearAll = () => {\r\n        this.props.commonDeleteApi(`trmttmpitemhelper/delete/?clear_all=1&treatmentid=${this.props.id}`).then(()=>{ \r\n            this.getCart();\r\n        });\r\n    }\r\n\r\n    getStaffList = () => {\r\n        this.props.getCommonApi(`empcartlist/?sales_staff=0&page=${this.state.page}`).then((key) => {\r\n            let { status, data } = key;\r\n            if (status === 200) {\r\n                this.setState({ staffList:data.dataList })\r\n            }\r\n            console.log(data);\r\n        })\r\n    }\r\n\r\n    handleNext = async () => {\r\n        let { page } = this.state;\r\n        page = page + 1;\r\n        await this.setState({\r\n            page\r\n        })\r\n        if (page > 0) {\r\n            this.getStaffList();\r\n        }\r\n    }\r\n\r\n    handleBack = async () => {\r\n        let { page } = this.state;\r\n        page = page - 1;\r\n        await this.setState({\r\n            page\r\n        })\r\n        if (page > 0) {\r\n            this.getStaffList();\r\n        }\r\n    }\r\n\r\n    handleSelect_Staff = async(staff) => {\r\n        let {  tstaffList, postFields, cartData, updateFields } = this.state;\r\n        console.log(\"handleSelect_Staff-Source_Codeid\",this.state.updateFields);\r\n        let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n        let { work_point } = postFields;\r\n        console.log(\"workpoint\",this.props.workPoint);\r\n        let data = {\r\n            helper_id:staff.id\r\n        }\r\n        await this.props.commonCreateApi(`trmttmpitemhelper/?treatmentid=${this.props.id}&workcommpoints=${work_point}`, data).then((key) => {\r\n            \r\n        this.getCart1();\r\n            \r\n        });\r\n\r\n    }\r\n    getCart1 = () => {\r\n        let { roomList, sourceList, staffList, cartData, duration, tstaffList } = this.state;\r\n        this.props.getCommonApi(`trmttmpitemhelper/?treatmentid=${this.props.id}`).then(async(key) => {\r\n           \r\n            cartData = key;\r\n            await this.setState({tstaffList: []})\r\n            tstaffList = key.data;\r\n            this.setState({ cartData, tstaffList }, () => {\r\n                this.checkFirstArrayAndUpdateTiming();\r\n            });\r\n            this.getDataFromRes(key)\r\n            \r\n        })\r\n    }\r\n    checkFirstArrayAndUpdateTiming = () => {\r\n        \r\n\r\n        let { tstaffList, cartData, updateFields } = this.state;\r\n        var item =tstaffList[0];\r\n        let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n        var today = new Date(),\r\n\r\n        time = today.getHours() + ':' + today.getMinutes();\r\n        let data = {}\r\n\r\n            data = {\r\n                appt_fr_time: this.roundTime(time, 10),\r\n                add_duration: cartData.value.add_duration,\r\n                wp1: item.wp1\r\n            }\r\n  \r\n       this.props.commonPatchApi(`trmttmpitemhelper/${item.id}/?Room_Codeid=${Room_Codeid}&Source_Codeid=${Source_Codeid}&new_remark=${new_remark}`, data).then(() => {\r\n            this.getCart();\r\n        })\r\n     \r\n    }\r\n    roundTime = (time, minutesToRound) => {\r\n\r\n        let [hours, minutes] = time.split(':');\r\n        hours = parseInt(hours);\r\n        minutes = parseInt(minutes);\r\n    \r\n        // Convert hours and minutes to time in minutes\r\n        time = (hours * 60) + minutes; \r\n    \r\n        let rounded = Math.round(time / minutesToRound) * minutesToRound;\r\n        let rHr = ''+Math.floor(rounded / 60)\r\n        let rMin = ''+ rounded % 60\r\n    \r\n        return rHr.padStart(2, '0')+':'+rMin.padStart(2, '0')\r\n    }\r\n    handleUpdatChanges =  async({ target: { value, name } }) => {\r\n        let { updateFields } = this.state;\r\n        updateFields[name] = value;\r\n        this.setState({\r\n            updateFields\r\n        })\r\n    }\r\n\r\n    handlePostChanges =  async({ target: { value, name } }) => {\r\n        let { postFields } = this.state;\r\n        postFields[name] = value;\r\n        this.setState({\r\n            postFields\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { staffList = [], tstaffList = [], roomList,Room,Source,duration,startDuration, sourceList, updateFields, headerDetails, cartData={}, postFields } = this.state;\r\n        let { value = {} } = cartData;\r\n        let { work_point } = postFields;\r\n        let { Room_Codeid, Source_Codeid, new_remark } = updateFields;\r\n        let { Item, Price, add_duration,room_id,room_name, source_id,source_name,times } = value\r\n        let { tsStaff={} } = this.props;\r\n        let { course, unit_amount, workpoint } = tsStaff;\r\n        return (\r\n            <div className=\"row new-cart treatment-done\">\r\n                <div className=\"col-12\">\r\n                    <p className=\"fs-18 font-700 mb-3 title\">Treatment Done</p>\r\n                </div>\r\n                <div className=\"col-6 mb-2\">\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                        Item\r\n                    </label>\r\n                    <div className=\"input-group mb-2\">\r\n                        {Item}\r\n                    </div>\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                        Price\r\n                    </label>\r\n                    <div className=\"input-group mb-2\">\r\n                        {Price}\r\n                    </div>\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                        Work Point\r\n                    </label>\r\n             \r\n                    <div className=\"input-group\">\r\n                        <NormalInput\r\n                            value={work_point ? work_point:\"\"}\r\n                            name=\"work_point\"\r\n                            onChange={this.handlePostChanges}\r\n                            className={`customer-name`}\r\n                            disabled={true}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-4 mb-2\"></div>\r\n                <div className=\"col-2 mb-2\">\r\n                <label className=\"text-left text-black common-label-text \">\r\n                        Session\r\n                    </label>\r\n             \r\n                <h1>{this.props.session}</h1>\r\n                </div>\r\n                <div className={`col-12 cart-item emp-image`}>\r\n                        <div className={`staff-listing d-flex emp-list`}>\r\n                            <div className=\"forward-button cursor-pointer\" onClick={this.handleBack}>\r\n                                <svg width=\"6\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path d=\"M5 0.5L1 5L5 9.5\" stroke=\"#888888\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                                </svg>\r\n                            </div>\r\n                            {\r\n                                staffList.length>0 ? staffList.map((staff) => {\r\n                                    return (\r\n                                    <div className=\"mx-1 staff-list cursor-pointer emp\" key={staff.id} onClick={() => this.handleSelect_Staff(staff)}>\r\n                                        <img className=\"img\" src={staff.emp_pic} alt=''/>\r\n                                        <p>{staff.display_name}</p>\r\n                                    </div>\r\n                                    )\r\n                                }):\"\"\r\n                            }\r\n                            <div className=\"back-button cursor-pointer\" onClick={this.handleNext}>\r\n                            <svg width=\"5\" height=\"10\" viewBox=\"0 0 5 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M0.5 9.5L4.5 5L0.5 0.5\" stroke=\"#888888\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                            </svg>\r\n                        </div>\r\n                        </div>\r\n                </div>\r\n                <div className={`col-12 cart-item`}>\r\n                    <div className={`item-list`}>\r\n\r\n                        <div className=\"table\">\r\n                            <TableWrapper\r\n                                headerDetails={headerDetails}\r\n                                queryHandler={this.handlePagination}\r\n                            // pageMeta={pageMeta}\r\n                            // isEmpty={tstaffList.length === 0 ? true:false}\r\n                            >\r\n                                {tstaffList && tstaffList.length > 0 ? tstaffList.map((item, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td className=\"position-relative status-type\"><div className=\"d-flex align-items-center justify-content-center fs-20\">{item.helper_name}</div></td>\r\n                                            <td>\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                    \r\n                                                 <NormalInput\r\n                                                    // placeholder=\"Enter here\"\r\n                                                    // options={siteList}\r\n                                                    value= {item.wp1}\r\n                                                    name=\"wp1\"\r\n                                                    type=\"number\"\r\n                                                    min=\"0\"\r\n                                                    max={postFields.work_point}\r\n                                                    onChange={(e)=>this.handleuUpdateWp(e, item, index)}\r\n                                                    //className=\"wpr\"\r\n                                                />\r\n                                                   \r\n                                                </div>\r\n                                            </td> \r\n                                            \r\n                                            <td>\r\n                                            {this.state.hideNotNeededControls==\"true\" &&\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                                    <div className=\"input-group\">\r\n                                                        <NormalSelect\r\n                                                            // placeholder=\"Enter here\"\r\n                                                            options={startDuration}\r\n                                                            value={item.appt_fr_time}\r\n                                                            name=\"appt_fr_time\"\r\n                                                            onChange={(e)=>this.handleUpdatestaff(e, item, index)}\r\n                                                            className=\"customer-name py-0\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                             }\r\n                                            </td>\r\n                                            <td>\r\n                                            {this.state.hideNotNeededControls==\"true\" &&\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">{item.appt_to_time}</div>\r\n                                            }\r\n                                            </td>\r\n                                            \r\n                                            <td>\r\n                                            {this.state.hideNotNeededControls==\"true\" &&\r\n                                                <div className=\"d-flex align-items-center justify-content-center\">\r\n                                                    <div className=\"input-group\">\r\n                                                        <NormalSelect\r\n                                                            // placeholder=\"Enter here\"this.setState({add_duration:e.target.value})\r\n                                                            options={duration}\r\n                                                            value={item.add_duration}\r\n                                                            name=\"add_duration\"\r\n                                                            onChange={(e)=>this.handleUpdatestaff(e, item, index)}\r\n                                                            className=\"customer-name p-0\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                }\r\n                                            </td>    \r\n                                                                           \r\n                                        </tr>\r\n                                    )\r\n                                }) : \"\"\r\n                                }\r\n\r\n                            </TableWrapper>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 mb-2\">\r\n                {this.state.hideNotNeededControls==\"true\" &&\r\n                <div className=\"row\">\r\n                   <div className=\"col-4\">\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                        Room\r\n                    </label>\r\n\r\n                    <div className=\"input-group\">\r\n                    <NormalSelect\r\n                        // placeholder=\"Enter here\"\r\n                        options={roomList}\r\n                        value={Room_Codeid}\r\n                        name=\"Room_Codeid\"\r\n                        onChange={this.handleUpdatChanges}\r\n                        className=\"customer-name py-0\"\r\n                        // disabled={Room_Codeid}\r\n                    />\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                            Source\r\n                        </label>\r\n\r\n                    <div className=\"input-group\">\r\n                                            <NormalSelect\r\n                                // placeholder=\"Enter here\"\r\n                                options={sourceList}\r\n                                value={Source_Codeid}\r\n                                name=\"Source_Codeid\"\r\n                                onChange={this.handleUpdatChanges}\r\n                                className=\"customer-name py-0\"\r\n                                // disabled={Source_Codeid}\r\n                            />\r\n                    </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-4\">\r\n                    <label className=\"text-left text-black common-label-text \">\r\n                    New Remark\r\n                    </label>\r\n\r\n                    <div className=\"input-group\">\r\n                                            <NormalInput\r\n                                // placeholder=\"Enter here\"\r\n                                // options={siteList}\r\n                                value={new_remark}\r\n                                name=\"new_remark\"\r\n                                onChange={this.handleUpdatChanges}\r\n                                className=\"customer-name\"\r\n                            />\r\n                    </div>\r\n                    </div>\r\n                \r\n                    </div>\r\n                }\r\n</div>\r\n                <div className=\"col-12 pt-4 action-bar\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-6 d-flex\">\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\"fs-15 clear-line\"\r\n                                label=\"Clear Line\"\r\n                                outline={false}\r\n                                onClick={this.handleClearLine}\r\n                            />\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\"fs-15 clear-all\"\r\n                                label=\"Clear All\"\r\n                                outline={false}\r\n                                onClick={this.handleClearAll}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-4 text-right\">\r\n                            {/* <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                danger={true}\r\n                                className=\" fs-15 close\"\r\n                                label=\"Close\"\r\n                                outline={false}\r\n                                onClick={this.props.handleModal}\r\n                            /> */}\r\n                        </div>\r\n                        <div className=\"col-2 text-right\">\r\n                            <NormalButton\r\n                                buttonClass={\"mx-2\"}\r\n                                mainbg={true}\r\n                                className=\" fs-15 confirm\"\r\n                                label=\"Confirm\"\r\n                                outline={false}\r\n                                onClick={this.handleSubmit}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    selected_cstomer: state.common.selected_cstomer,\r\n    basicApptDetail: state.appointment.basicApptDetail,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({\r\n        // getCustomer,\r\n        getCommonApi,\r\n        updateForm,\r\n        commonCreateApi,\r\n        commonPatchApi,\r\n        commonDeleteApi\r\n    }, dispatch)\r\n}\r\n\r\nexport const SelectStaff = connect(mapStateToProps, mapDispatchToProps)(SelectStaffClass)"]},"metadata":{},"sourceType":"module"}